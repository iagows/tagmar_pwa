function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var bL=Object.defineProperty;var _L=(t,e,a)=>e in t?bL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var By=(t,e,a)=>(_L(t,typeof e!="symbol"?e+"":e,a),a),uA=(t,e,a)=>{if(!e.has(t))throw TypeError("Cannot "+a)};var sn=(t,e,a)=>(uA(t,e,"read from private field"),a?a.call(t):e.get(t)),sm=(t,e,a)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,a)},Di=(t,e,a,o)=>(uA(t,e,"write to private field"),o?o.call(t,a):e.set(t,a),a);function r5(t,e){for(var a=0;a<e.length;a++){const o=e[a];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(o,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();function i5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Zr(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var r=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(a,o,r.get?r:{enumerable:!0,get:function(){return t[o]}})}),a}var s5={exports:{}},T0={},n5={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=Symbol.for("react.element"),xL=Symbol.for("react.portal"),wL=Symbol.for("react.fragment"),SL=Symbol.for("react.strict_mode"),AL=Symbol.for("react.profiler"),EL=Symbol.for("react.provider"),ML=Symbol.for("react.context"),TL=Symbol.for("react.forward_ref"),CL=Symbol.for("react.suspense"),RL=Symbol.for("react.memo"),OL=Symbol.for("react.lazy"),mA=Symbol.iterator;function IL(t){return t===null||typeof t!="object"?null:(t=mA&&t[mA]||t["@@iterator"],typeof t=="function"?t:null)}var d5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c5=Object.assign,l5={};function Su(t,e,a){this.props=t,this.context=e,this.refs=l5,this.updater=a||d5}Su.prototype.isReactComponent={};Su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function u5(){}u5.prototype=Su.prototype;function Ax(t,e,a){this.props=t,this.context=e,this.refs=l5,this.updater=a||d5}var Ex=Ax.prototype=new u5;Ex.constructor=Ax;c5(Ex,Su.prototype);Ex.isPureReactComponent=!0;var pA=Array.isArray,m5=Object.prototype.hasOwnProperty,Mx={current:null},p5={key:!0,ref:!0,__self:!0,__source:!0};function f5(t,e,a){var o,r={},i=null,s=null;if(e!=null)for(o in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)m5.call(e,o)&&!p5.hasOwnProperty(o)&&(r[o]=e[o]);var n=arguments.length-2;if(n===1)r.children=a;else if(1<n){for(var d=Array(n),c=0;c<n;c++)d[c]=arguments[c+2];r.children=d}if(t&&t.defaultProps)for(o in n=t.defaultProps,n)r[o]===void 0&&(r[o]=n[o]);return{$$typeof:_f,type:t,key:i,ref:s,props:r,_owner:Mx.current}}function DL(t,e){return{$$typeof:_f,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Tx(t){return typeof t=="object"&&t!==null&&t.$$typeof===_f}function qL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return e[a]})}var fA=/\/+/g;function ky(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qL(""+t.key):e.toString(36)}function Nv(t,e,a,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case _f:case xL:s=!0}}if(s)return s=t,r=r(s),t=o===""?"."+ky(s,0):o,pA(r)?(a="",t!=null&&(a=t.replace(fA,"$&/")+"/"),Nv(r,e,a,"",function(c){return c})):r!=null&&(Tx(r)&&(r=DL(r,a+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(fA,"$&/")+"/")+t)),e.push(r)),1;if(s=0,o=o===""?".":o+":",pA(t))for(var n=0;n<t.length;n++){i=t[n];var d=o+ky(i,n);s+=Nv(i,e,a,d,r)}else if(d=IL(t),typeof d=="function")for(t=d.call(t),n=0;!(i=t.next()).done;)i=i.value,d=o+ky(i,n++),s+=Nv(i,e,a,d,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ah(t,e,a){if(t==null)return t;var o=[],r=0;return Nv(t,o,"","",function(i){return e.call(a,i,r++)}),o}function PL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var No={current:null},jv={transition:null},LL={ReactCurrentDispatcher:No,ReactCurrentBatchConfig:jv,ReactCurrentOwner:Mx};It.Children={map:Ah,forEach:function(t,e,a){Ah(t,function(){e.apply(this,arguments)},a)},count:function(t){var e=0;return Ah(t,function(){e++}),e},toArray:function(t){return Ah(t,function(e){return e})||[]},only:function(t){if(!Tx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};It.Component=Su;It.Fragment=wL;It.Profiler=AL;It.PureComponent=Ax;It.StrictMode=SL;It.Suspense=CL;It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LL;It.cloneElement=function(t,e,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=c5({},t.props),r=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Mx.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var n=t.type.defaultProps;for(d in e)m5.call(e,d)&&!p5.hasOwnProperty(d)&&(o[d]=e[d]===void 0&&n!==void 0?n[d]:e[d])}var d=arguments.length-2;if(d===1)o.children=a;else if(1<d){n=Array(d);for(var c=0;c<d;c++)n[c]=arguments[c+2];o.children=n}return{$$typeof:_f,type:t.type,key:r,ref:i,props:o,_owner:s}};It.createContext=function(t){return t={$$typeof:ML,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EL,_context:t},t.Consumer=t};It.createElement=f5;It.createFactory=function(t){var e=f5.bind(null,t);return e.type=t,e};It.createRef=function(){return{current:null}};It.forwardRef=function(t){return{$$typeof:TL,render:t}};It.isValidElement=Tx;It.lazy=function(t){return{$$typeof:OL,_payload:{_status:-1,_result:t},_init:PL}};It.memo=function(t,e){return{$$typeof:RL,type:t,compare:e===void 0?null:e}};It.startTransition=function(t){var e=jv.transition;jv.transition={};try{t()}finally{jv.transition=e}};It.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};It.useCallback=function(t,e){return No.current.useCallback(t,e)};It.useContext=function(t){return No.current.useContext(t)};It.useDebugValue=function(){};It.useDeferredValue=function(t){return No.current.useDeferredValue(t)};It.useEffect=function(t,e){return No.current.useEffect(t,e)};It.useId=function(){return No.current.useId()};It.useImperativeHandle=function(t,e,a){return No.current.useImperativeHandle(t,e,a)};It.useInsertionEffect=function(t,e){return No.current.useInsertionEffect(t,e)};It.useLayoutEffect=function(t,e){return No.current.useLayoutEffect(t,e)};It.useMemo=function(t,e){return No.current.useMemo(t,e)};It.useReducer=function(t,e,a){return No.current.useReducer(t,e,a)};It.useRef=function(t){return No.current.useRef(t)};It.useState=function(t){return No.current.useState(t)};It.useSyncExternalStore=function(t,e,a){return No.current.useSyncExternalStore(t,e,a)};It.useTransition=function(){return No.current.useTransition()};It.version="18.2.0";n5.exports=It;var M=n5.exports;const jr=i5(M),Yl=r5({__proto__:null,default:jr},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NL=M,jL=Symbol.for("react.element"),FL=Symbol.for("react.fragment"),zL=Object.prototype.hasOwnProperty,BL=NL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kL={key:!0,ref:!0,__self:!0,__source:!0};function h5(t,e,a){var o,r={},i=null,s=null;a!==void 0&&(i=""+a),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(o in e)zL.call(e,o)&&!kL.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:jL,type:t,key:i,ref:s,props:r,_owner:BL.current}}T0.Fragment=FL;T0.jsx=h5;T0.jsxs=h5;s5.exports=T0;var R=s5.exports,e2={},v5={exports:{}},br={},g5={exports:{}},y5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var Z=F.length;F.push(V);e:for(;0<Z;){var se=Z-1>>>1,J=F[se];if(0<r(J,V))F[se]=V,F[Z]=J,Z=se;else break e}}function a(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var V=F[0],Z=F.pop();if(Z!==V){F[0]=Z;e:for(var se=0,J=F.length,te=J>>>1;se<te;){var me=2*(se+1)-1,xe=F[me],Q=me+1,Ee=F[Q];if(0>r(xe,Z))Q<J&&0>r(Ee,xe)?(F[se]=Ee,F[Q]=Z,se=Q):(F[se]=xe,F[me]=Z,se=me);else if(Q<J&&0>r(Ee,Z))F[se]=Ee,F[Q]=Z,se=Q;else break e}}return V}function r(F,V){var Z=F.sortIndex-V.sortIndex;return Z!==0?Z:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,n=s.now();t.unstable_now=function(){return s.now()-n}}var d=[],c=[],l=1,m=null,u=3,v=!1,g=!1,f=!1,p=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var V=a(c);V!==null;){if(V.callback===null)o(c);else if(V.startTime<=F)o(c),V.sortIndex=V.expirationTime,e(d,V);else break;V=a(c)}}function _(F){if(f=!1,b(F),!g)if(a(d)!==null)g=!0,$(S);else{var V=a(c);V!==null&&Y(_,V.startTime-F)}}function S(F,V){g=!1,f&&(f=!1,h(A),A=-1),v=!0;var Z=u;try{for(b(V),m=a(d);m!==null&&(!(m.expirationTime>V)||F&&!I());){var se=m.callback;if(typeof se=="function"){m.callback=null,u=m.priorityLevel;var J=se(m.expirationTime<=V);V=t.unstable_now(),typeof J=="function"?m.callback=J:m===a(d)&&o(d),b(V)}else o(d);m=a(d)}if(m!==null)var te=!0;else{var me=a(c);me!==null&&Y(_,me.startTime-V),te=!1}return te}finally{m=null,u=Z,v=!1}}var x=!1,w=null,A=-1,T=5,O=-1;function I(){return!(t.unstable_now()-O<T)}function U(){if(w!==null){var F=t.unstable_now();O=F;var V=!0;try{V=w(!0,F)}finally{V?B():(x=!1,w=null)}}else x=!1}var B;if(typeof y=="function")B=function(){y(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,z=N.port2;N.port1.onmessage=U,B=function(){z.postMessage(null)}}else B=function(){p(U,0)};function $(F){w=F,x||(x=!0,B())}function Y(F,V){A=p(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,$(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return a(d)},t.unstable_next=function(F){switch(u){case 1:case 2:case 3:var V=3;break;default:V=u}var Z=u;u=V;try{return F()}finally{u=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=u;u=F;try{return V()}finally{u=Z}},t.unstable_scheduleCallback=function(F,V,Z){var se=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?se+Z:se):Z=se,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Z+J,F={id:l++,callback:V,priorityLevel:F,startTime:Z,expirationTime:J,sortIndex:-1},Z>se?(F.sortIndex=Z,e(c,F),a(d)===null&&F===a(c)&&(f?(h(A),A=-1):f=!0,Y(_,Z-se))):(F.sortIndex=J,e(d,F),g||v||(g=!0,$(S))),F},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(F){var V=u;return function(){var Z=u;u=V;try{return F.apply(this,arguments)}finally{u=Z}}}})(y5);g5.exports=y5;var UL=g5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5=M,fr=UL;function Me(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _5=new Set,Ap={};function Ec(t,e){Zl(t,e),Zl(t+"Capture",e)}function Zl(t,e){for(Ap[t]=e,t=0;t<e.length;t++)_5.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t2=Object.prototype.hasOwnProperty,VL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hA={},vA={};function $L(t){return t2.call(vA,t)?!0:t2.call(hA,t)?!1:VL.test(t)?vA[t]=!0:(hA[t]=!0,!1)}function HL(t,e,a,o){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WL(t,e,a,o){if(e===null||typeof e>"u"||HL(t,e,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jo(t,e,a,o,r,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=a,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var mo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mo[t]=new jo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mo[e]=new jo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mo[t]=new jo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mo[t]=new jo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mo[t]=new jo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mo[t]=new jo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mo[t]=new jo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mo[t]=new jo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mo[t]=new jo(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cx=/[\-:]([a-z])/g;function Rx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cx,Rx);mo[e]=new jo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cx,Rx);mo[e]=new jo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cx,Rx);mo[e]=new jo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mo[t]=new jo(t,1,!1,t.toLowerCase(),null,!1,!1)});mo.xlinkHref=new jo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mo[t]=new jo(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ox(t,e,a,o){var r=mo.hasOwnProperty(e)?mo[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WL(e,a,r,o)&&(a=null),o||r===null?$L(e)&&(a===null?t.removeAttribute(e):t.setAttribute(e,""+a)):r.mustUseProperty?t[r.propertyName]=a===null?r.type===3?!1:"":a:(e=r.attributeName,o=r.attributeNamespace,a===null?t.removeAttribute(e):(r=r.type,a=r===3||r===4&&a===!0?"":""+a,o?t.setAttributeNS(o,e,a):t.setAttribute(e,a))))}var Gs=b5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),vl=Symbol.for("react.portal"),gl=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),a2=Symbol.for("react.profiler"),x5=Symbol.for("react.provider"),w5=Symbol.for("react.context"),Dx=Symbol.for("react.forward_ref"),o2=Symbol.for("react.suspense"),r2=Symbol.for("react.suspense_list"),qx=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),S5=Symbol.for("react.offscreen"),gA=Symbol.iterator;function nm(t){return t===null||typeof t!="object"?null:(t=gA&&t[gA]||t["@@iterator"],typeof t=="function"?t:null)}var ba=Object.assign,Uy;function Vm(t){if(Uy===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);Uy=e&&e[1]||""}return`
`+Uy+t}var Vy=!1;function $y(t,e){if(!t||Vy)return"";Vy=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){o=c}t.call(e.prototype)}else{try{throw Error()}catch(c){o=c}t()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),s=r.length-1,n=i.length-1;1<=s&&0<=n&&r[s]!==i[n];)n--;for(;1<=s&&0<=n;s--,n--)if(r[s]!==i[n]){if(s!==1||n!==1)do if(s--,n--,0>n||r[s]!==i[n]){var d=`
`+r[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=n);break}}}finally{Vy=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?Vm(t):""}function GL(t){switch(t.tag){case 5:return Vm(t.type);case 16:return Vm("Lazy");case 13:return Vm("Suspense");case 19:return Vm("SuspenseList");case 0:case 2:case 15:return t=$y(t.type,!1),t;case 11:return t=$y(t.type.render,!1),t;case 1:return t=$y(t.type,!0),t;default:return""}}function i2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gl:return"Fragment";case vl:return"Portal";case a2:return"Profiler";case Ix:return"StrictMode";case o2:return"Suspense";case r2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w5:return(t.displayName||"Context")+".Consumer";case x5:return(t._context.displayName||"Context")+".Provider";case Dx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qx:return e=t.displayName||null,e!==null?e:i2(t.type)||"Memo";case Sn:e=t._payload,t=t._init;try{return i2(t(e))}catch{}}return null}function YL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return i2(e);case 8:return e===Ix?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZL(t){var e=A5(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){o=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(s){o=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mh(t){t._valueTracker||(t._valueTracker=ZL(t))}function E5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var a=e.getValue(),o="";return t&&(o=A5(t)?t.checked?"true":"false":t.value),t=o,t!==a?(e.setValue(t),!0):!1}function lg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function s2(t,e){var a=e.checked;return ba({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function yA(t,e){var a=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;a=Yn(e.value!=null?e.value:a),t._wrapperState={initialChecked:o,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M5(t,e){e=e.checked,e!=null&&Ox(t,"checked",e,!1)}function n2(t,e){M5(t,e);var a=Yn(e.value),o=e.type;if(a!=null)o==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?d2(t,e.type,a):e.hasOwnProperty("defaultValue")&&d2(t,e.type,Yn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bA(t,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,a||e===t.value||(t.value=e),t.defaultValue=e}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function d2(t,e,a){(e!=="number"||lg(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var $m=Array.isArray;function jl(t,e,a,o){if(t=t.options,e){e={};for(var r=0;r<a.length;r++)e["$"+a[r]]=!0;for(a=0;a<t.length;a++)r=e.hasOwnProperty("$"+t[a].value),t[a].selected!==r&&(t[a].selected=r),r&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Yn(a),e=null,r=0;r<t.length;r++){if(t[r].value===a){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function c2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return ba({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _A(t,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(Me(92));if($m(a)){if(1<a.length)throw Error(Me(93));a=a[0]}e=a}e==null&&(e=""),a=e}t._wrapperState={initialValue:Yn(a)}}function T5(t,e){var a=Yn(e.value),o=Yn(e.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),e.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),o!=null&&(t.defaultValue=""+o)}function xA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function l2(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Th,R5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,a,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,a,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ep(t,e){if(e){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=e;return}}t.textContent=e}var dp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KL=["Webkit","ms","Moz","O"];Object.keys(dp).forEach(function(t){KL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dp[e]=dp[t]})});function O5(t,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||dp.hasOwnProperty(t)&&dp[t]?(""+e).trim():e+"px"}function I5(t,e){t=t.style;for(var a in e)if(e.hasOwnProperty(a)){var o=a.indexOf("--")===0,r=O5(a,e[a],o);a==="float"&&(a="cssFloat"),o?t.setProperty(a,r):t[a]=r}}var QL=ba({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function u2(t,e){if(e){if(QL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function m2(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p2=null;function Px(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var f2=null,Fl=null,zl=null;function wA(t){if(t=Sf(t)){if(typeof f2!="function")throw Error(Me(280));var e=t.stateNode;e&&(e=D0(e),f2(t.stateNode,t.type,e))}}function D5(t){Fl?zl?zl.push(t):zl=[t]:Fl=t}function q5(){if(Fl){var t=Fl,e=zl;if(zl=Fl=null,wA(t),e)for(t=0;t<e.length;t++)wA(e[t])}}function P5(t,e){return t(e)}function L5(){}var Hy=!1;function N5(t,e,a){if(Hy)return t(e,a);Hy=!0;try{return P5(t,e,a)}finally{Hy=!1,(Fl!==null||zl!==null)&&(L5(),q5())}}function Mp(t,e){var a=t.stateNode;if(a===null)return null;var o=D0(a);if(o===null)return null;a=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(Me(231,e,typeof a));return a}var h2=!1;if(zs)try{var dm={};Object.defineProperty(dm,"passive",{get:function(){h2=!0}}),window.addEventListener("test",dm,dm),window.removeEventListener("test",dm,dm)}catch{h2=!1}function XL(t,e,a,o,r,i,s,n,d){var c=Array.prototype.slice.call(arguments,3);try{e.apply(a,c)}catch(l){this.onError(l)}}var cp=!1,ug=null,mg=!1,v2=null,JL={onError:function(t){cp=!0,ug=t}};function eN(t,e,a,o,r,i,s,n,d){cp=!1,ug=null,XL.apply(JL,arguments)}function tN(t,e,a,o,r,i,s,n,d){if(eN.apply(this,arguments),cp){if(cp){var c=ug;cp=!1,ug=null}else throw Error(Me(198));mg||(mg=!0,v2=c)}}function Mc(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function j5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function SA(t){if(Mc(t)!==t)throw Error(Me(188))}function aN(t){var e=t.alternate;if(!e){if(e=Mc(t),e===null)throw Error(Me(188));return e!==t?null:t}for(var a=t,o=e;;){var r=a.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){a=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return SA(r),t;if(i===o)return SA(r),e;i=i.sibling}throw Error(Me(188))}if(a.return!==o.return)a=r,o=i;else{for(var s=!1,n=r.child;n;){if(n===a){s=!0,a=r,o=i;break}if(n===o){s=!0,o=r,a=i;break}n=n.sibling}if(!s){for(n=i.child;n;){if(n===a){s=!0,a=i,o=r;break}if(n===o){s=!0,o=i,a=r;break}n=n.sibling}if(!s)throw Error(Me(189))}}if(a.alternate!==o)throw Error(Me(190))}if(a.tag!==3)throw Error(Me(188));return a.stateNode.current===a?t:e}function F5(t){return t=aN(t),t!==null?z5(t):null}function z5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z5(t);if(e!==null)return e;t=t.sibling}return null}var B5=fr.unstable_scheduleCallback,AA=fr.unstable_cancelCallback,oN=fr.unstable_shouldYield,rN=fr.unstable_requestPaint,Da=fr.unstable_now,iN=fr.unstable_getCurrentPriorityLevel,Lx=fr.unstable_ImmediatePriority,k5=fr.unstable_UserBlockingPriority,pg=fr.unstable_NormalPriority,sN=fr.unstable_LowPriority,U5=fr.unstable_IdlePriority,C0=null,Zi=null;function nN(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(C0,t,void 0,(t.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:lN,dN=Math.log,cN=Math.LN2;function lN(t){return t>>>=0,t===0?32:31-(dN(t)/cN|0)|0}var Ch=64,Rh=4194304;function Hm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fg(t,e){var a=t.pendingLanes;if(a===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,s=a&268435455;if(s!==0){var n=s&~r;n!==0?o=Hm(n):(i&=s,i!==0&&(o=Hm(i)))}else s=a&~r,s!==0?o=Hm(s):i!==0&&(o=Hm(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=a&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)a=31-bi(e),r=1<<a,o|=t[a],e&=~r;return o}function uN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mN(t,e){for(var a=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-bi(i),n=1<<s,d=r[s];d===-1?(!(n&a)||n&o)&&(r[s]=uN(n,e)):d<=e&&(t.expiredLanes|=n),i&=~n}}function g2(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V5(){var t=Ch;return Ch<<=1,!(Ch&4194240)&&(Ch=64),t}function Wy(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function xf(t,e,a){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bi(e),t[e]=a}function pN(t,e){var a=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<a;){var r=31-bi(a),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,a&=~i}}function Nx(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var o=31-bi(a),r=1<<o;r&e|t[o]&e&&(t[o]|=e),a&=~r}}var Yt=0;function $5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var H5,jx,W5,G5,Y5,y2=!1,Oh=[],Fn=null,zn=null,Bn=null,Tp=new Map,Cp=new Map,qn=[],fN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EA(t,e){switch(t){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Tp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cp.delete(e.pointerId)}}function cm(t,e,a,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:a,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Sf(e),e!==null&&jx(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function hN(t,e,a,o,r){switch(e){case"focusin":return Fn=cm(Fn,t,e,a,o,r),!0;case"dragenter":return zn=cm(zn,t,e,a,o,r),!0;case"mouseover":return Bn=cm(Bn,t,e,a,o,r),!0;case"pointerover":var i=r.pointerId;return Tp.set(i,cm(Tp.get(i)||null,t,e,a,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Cp.set(i,cm(Cp.get(i)||null,t,e,a,o,r)),!0}return!1}function Z5(t){var e=Ld(t.target);if(e!==null){var a=Mc(e);if(a!==null){if(e=a.tag,e===13){if(e=j5(a),e!==null){t.blockedOn=e,Y5(t.priority,function(){W5(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var a=b2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);p2=o,a.target.dispatchEvent(o),p2=null}else return e=Sf(a),e!==null&&jx(e),t.blockedOn=a,!1;e.shift()}return!0}function MA(t,e,a){Fv(t)&&a.delete(e)}function vN(){y2=!1,Fn!==null&&Fv(Fn)&&(Fn=null),zn!==null&&Fv(zn)&&(zn=null),Bn!==null&&Fv(Bn)&&(Bn=null),Tp.forEach(MA),Cp.forEach(MA)}function lm(t,e){t.blockedOn===e&&(t.blockedOn=null,y2||(y2=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,vN)))}function Rp(t){function e(r){return lm(r,t)}if(0<Oh.length){lm(Oh[0],t);for(var a=1;a<Oh.length;a++){var o=Oh[a];o.blockedOn===t&&(o.blockedOn=null)}}for(Fn!==null&&lm(Fn,t),zn!==null&&lm(zn,t),Bn!==null&&lm(Bn,t),Tp.forEach(e),Cp.forEach(e),a=0;a<qn.length;a++)o=qn[a],o.blockedOn===t&&(o.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)Z5(a),a.blockedOn===null&&qn.shift()}var Bl=Gs.ReactCurrentBatchConfig,hg=!0;function gN(t,e,a,o){var r=Yt,i=Bl.transition;Bl.transition=null;try{Yt=1,Fx(t,e,a,o)}finally{Yt=r,Bl.transition=i}}function yN(t,e,a,o){var r=Yt,i=Bl.transition;Bl.transition=null;try{Yt=4,Fx(t,e,a,o)}finally{Yt=r,Bl.transition=i}}function Fx(t,e,a,o){if(hg){var r=b2(t,e,a,o);if(r===null)ab(t,e,o,vg,a),EA(t,o);else if(hN(r,t,e,a,o))o.stopPropagation();else if(EA(t,o),e&4&&-1<fN.indexOf(t)){for(;r!==null;){var i=Sf(r);if(i!==null&&H5(i),i=b2(t,e,a,o),i===null&&ab(t,e,o,vg,a),i===r)break;r=i}r!==null&&o.stopPropagation()}else ab(t,e,o,null,a)}}var vg=null;function b2(t,e,a,o){if(vg=null,t=Px(o),t=Ld(t),t!==null)if(e=Mc(t),e===null)t=null;else if(a=e.tag,a===13){if(t=j5(e),t!==null)return t;t=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vg=t,null}function K5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iN()){case Lx:return 1;case k5:return 4;case pg:case sN:return 16;case U5:return 536870912;default:return 16}default:return 16}}var Nn=null,zx=null,zv=null;function Q5(){if(zv)return zv;var t,e=zx,a=e.length,o,r="value"in Nn?Nn.value:Nn.textContent,i=r.length;for(t=0;t<a&&e[t]===r[t];t++);var s=a-t;for(o=1;o<=s&&e[a-o]===r[i-o];o++);return zv=r.slice(t,1<o?1-o:void 0)}function Bv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function TA(){return!1}function _r(t){function e(a,o,r,i,s){this._reactName=a,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var n in t)t.hasOwnProperty(n)&&(a=t[n],this[n]=a?a(i):i[n]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ih:TA,this.isPropagationStopped=TA,this}return ba(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),e}var Au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bx=_r(Au),wf=ba({},Au,{view:0,detail:0}),bN=_r(wf),Gy,Yy,um,R0=ba({},wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==um&&(um&&t.type==="mousemove"?(Gy=t.screenX-um.screenX,Yy=t.screenY-um.screenY):Yy=Gy=0,um=t),Gy)},movementY:function(t){return"movementY"in t?t.movementY:Yy}}),CA=_r(R0),_N=ba({},R0,{dataTransfer:0}),xN=_r(_N),wN=ba({},wf,{relatedTarget:0}),Zy=_r(wN),SN=ba({},Au,{animationName:0,elapsedTime:0,pseudoElement:0}),AN=_r(SN),EN=ba({},Au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MN=_r(EN),TN=ba({},Au,{data:0}),RA=_r(TN),CN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ON={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ON[t])?!!e[t]:!1}function kx(){return IN}var DN=ba({},wf,{key:function(t){if(t.key){var e=CN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kx,charCode:function(t){return t.type==="keypress"?Bv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qN=_r(DN),PN=ba({},R0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OA=_r(PN),LN=ba({},wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kx}),NN=_r(LN),jN=ba({},Au,{propertyName:0,elapsedTime:0,pseudoElement:0}),FN=_r(jN),zN=ba({},R0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BN=_r(zN),kN=[9,13,27,32],Ux=zs&&"CompositionEvent"in window,lp=null;zs&&"documentMode"in document&&(lp=document.documentMode);var UN=zs&&"TextEvent"in window&&!lp,X5=zs&&(!Ux||lp&&8<lp&&11>=lp),IA=" ",DA=!1;function J5(t,e){switch(t){case"keyup":return kN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yl=!1;function VN(t,e){switch(t){case"compositionend":return eR(e);case"keypress":return e.which!==32?null:(DA=!0,IA);case"textInput":return t=e.data,t===IA&&DA?null:t;default:return null}}function $N(t,e){if(yl)return t==="compositionend"||!Ux&&J5(t,e)?(t=Q5(),zv=zx=Nn=null,yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X5&&e.locale!=="ko"?null:e.data;default:return null}}var HN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HN[t.type]:e==="textarea"}function tR(t,e,a,o){D5(o),e=gg(e,"onChange"),0<e.length&&(a=new Bx("onChange","change",null,a,o),t.push({event:a,listeners:e}))}var up=null,Op=null;function WN(t){mR(t,0)}function O0(t){var e=xl(t);if(E5(e))return t}function GN(t,e){if(t==="change")return e}var aR=!1;if(zs){var Ky;if(zs){var Qy="oninput"in document;if(!Qy){var PA=document.createElement("div");PA.setAttribute("oninput","return;"),Qy=typeof PA.oninput=="function"}Ky=Qy}else Ky=!1;aR=Ky&&(!document.documentMode||9<document.documentMode)}function LA(){up&&(up.detachEvent("onpropertychange",oR),Op=up=null)}function oR(t){if(t.propertyName==="value"&&O0(Op)){var e=[];tR(e,Op,t,Px(t)),N5(WN,e)}}function YN(t,e,a){t==="focusin"?(LA(),up=e,Op=a,up.attachEvent("onpropertychange",oR)):t==="focusout"&&LA()}function ZN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return O0(Op)}function KN(t,e){if(t==="click")return O0(e)}function QN(t,e){if(t==="input"||t==="change")return O0(e)}function XN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mi=typeof Object.is=="function"?Object.is:XN;function Ip(t,e){if(Mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),o=Object.keys(e);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var r=a[o];if(!t2.call(e,r)||!Mi(t[r],e[r]))return!1}return!0}function NA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jA(t,e){var a=NA(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=e&&o>=e)return{node:a,offset:e-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=NA(a)}}function rR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iR(){for(var t=window,e=lg();e instanceof t.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)t=e.contentWindow;else break;e=lg(t.document)}return e}function Vx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JN(t){var e=iR(),a=t.focusedElem,o=t.selectionRange;if(e!==a&&a&&a.ownerDocument&&rR(a.ownerDocument.documentElement,a)){if(o!==null&&Vx(a)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in a)a.selectionStart=e,a.selectionEnd=Math.min(t,a.value.length);else if(t=(e=a.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=a.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=jA(a,i);var s=jA(a,o);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=a;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<e.length;a++)t=e[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ej=zs&&"documentMode"in document&&11>=document.documentMode,bl=null,_2=null,mp=null,x2=!1;function FA(t,e,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;x2||bl==null||bl!==lg(o)||(o=bl,"selectionStart"in o&&Vx(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),mp&&Ip(mp,o)||(mp=o,o=gg(_2,"onSelect"),0<o.length&&(e=new Bx("onSelect","select",null,e,a),t.push({event:e,listeners:o}),e.target=bl)))}function Dh(t,e){var a={};return a[t.toLowerCase()]=e.toLowerCase(),a["Webkit"+t]="webkit"+e,a["Moz"+t]="moz"+e,a}var _l={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},Xy={},sR={};zs&&(sR=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function I0(t){if(Xy[t])return Xy[t];if(!_l[t])return t;var e=_l[t],a;for(a in e)if(e.hasOwnProperty(a)&&a in sR)return Xy[t]=e[a];return t}var nR=I0("animationend"),dR=I0("animationiteration"),cR=I0("animationstart"),lR=I0("transitionend"),uR=new Map,zA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function id(t,e){uR.set(t,e),Ec(e,[t])}for(var Jy=0;Jy<zA.length;Jy++){var eb=zA[Jy],tj=eb.toLowerCase(),aj=eb[0].toUpperCase()+eb.slice(1);id(tj,"on"+aj)}id(nR,"onAnimationEnd");id(dR,"onAnimationIteration");id(cR,"onAnimationStart");id("dblclick","onDoubleClick");id("focusin","onFocus");id("focusout","onBlur");id(lR,"onTransitionEnd");Zl("onMouseEnter",["mouseout","mouseover"]);Zl("onMouseLeave",["mouseout","mouseover"]);Zl("onPointerEnter",["pointerout","pointerover"]);Zl("onPointerLeave",["pointerout","pointerover"]);Ec("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ec("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ec("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ec("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ec("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wm));function BA(t,e,a){var o=t.type||"unknown-event";t.currentTarget=a,tN(o,e,void 0,t),t.currentTarget=null}function mR(t,e){e=(e&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var s=o.length-1;0<=s;s--){var n=o[s],d=n.instance,c=n.currentTarget;if(n=n.listener,d!==i&&r.isPropagationStopped())break e;BA(r,n,c),i=d}else for(s=0;s<o.length;s++){if(n=o[s],d=n.instance,c=n.currentTarget,n=n.listener,d!==i&&r.isPropagationStopped())break e;BA(r,n,c),i=d}}}if(mg)throw t=v2,mg=!1,v2=null,t}function na(t,e){var a=e[M2];a===void 0&&(a=e[M2]=new Set);var o=t+"__bubble";a.has(o)||(pR(e,t,2,!1),a.add(o))}function tb(t,e,a){var o=0;e&&(o|=4),pR(a,t,o,e)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Dp(t){if(!t[qh]){t[qh]=!0,_5.forEach(function(a){a!=="selectionchange"&&(oj.has(a)||tb(a,!1,t),tb(a,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qh]||(e[qh]=!0,tb("selectionchange",!1,e))}}function pR(t,e,a,o){switch(K5(e)){case 1:var r=gN;break;case 4:r=yN;break;default:r=Fx}a=r.bind(null,e,a,t),r=void 0,!h2||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,a,{capture:!0,passive:r}):t.addEventListener(e,a,!0):r!==void 0?t.addEventListener(e,a,{passive:r}):t.addEventListener(e,a,!1)}function ab(t,e,a,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var s=o.tag;if(s===3||s===4){var n=o.stateNode.containerInfo;if(n===r||n.nodeType===8&&n.parentNode===r)break;if(s===4)for(s=o.return;s!==null;){var d=s.tag;if((d===3||d===4)&&(d=s.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;s=s.return}for(;n!==null;){if(s=Ld(n),s===null)return;if(d=s.tag,d===5||d===6){o=i=s;continue e}n=n.parentNode}}o=o.return}N5(function(){var c=i,l=Px(a),m=[];e:{var u=uR.get(t);if(u!==void 0){var v=Bx,g=t;switch(t){case"keypress":if(Bv(a)===0)break e;case"keydown":case"keyup":v=qN;break;case"focusin":g="focus",v=Zy;break;case"focusout":g="blur",v=Zy;break;case"beforeblur":case"afterblur":v=Zy;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=CA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=xN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=NN;break;case nR:case dR:case cR:v=AN;break;case lR:v=FN;break;case"scroll":v=bN;break;case"wheel":v=BN;break;case"copy":case"cut":case"paste":v=MN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=OA}var f=(e&4)!==0,p=!f&&t==="scroll",h=f?u!==null?u+"Capture":null:u;f=[];for(var y=c,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,h!==null&&(_=Mp(y,h),_!=null&&f.push(qp(y,_,b)))),p)break;y=y.return}0<f.length&&(u=new v(u,g,null,a,l),m.push({event:u,listeners:f}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",u&&a!==p2&&(g=a.relatedTarget||a.fromElement)&&(Ld(g)||g[Bs]))break e;if((v||u)&&(u=l.window===l?l:(u=l.ownerDocument)?u.defaultView||u.parentWindow:window,v?(g=a.relatedTarget||a.toElement,v=c,g=g?Ld(g):null,g!==null&&(p=Mc(g),g!==p||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=c),v!==g)){if(f=CA,_="onMouseLeave",h="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(f=OA,_="onPointerLeave",h="onPointerEnter",y="pointer"),p=v==null?u:xl(v),b=g==null?u:xl(g),u=new f(_,y+"leave",v,a,l),u.target=p,u.relatedTarget=b,_=null,Ld(l)===c&&(f=new f(h,y+"enter",g,a,l),f.target=b,f.relatedTarget=p,_=f),p=_,v&&g)t:{for(f=v,h=g,y=0,b=f;b;b=Pc(b))y++;for(b=0,_=h;_;_=Pc(_))b++;for(;0<y-b;)f=Pc(f),y--;for(;0<b-y;)h=Pc(h),b--;for(;y--;){if(f===h||h!==null&&f===h.alternate)break t;f=Pc(f),h=Pc(h)}f=null}else f=null;v!==null&&kA(m,u,v,f,!1),g!==null&&p!==null&&kA(m,p,g,f,!0)}}e:{if(u=c?xl(c):window,v=u.nodeName&&u.nodeName.toLowerCase(),v==="select"||v==="input"&&u.type==="file")var S=GN;else if(qA(u))if(aR)S=QN;else{S=ZN;var x=YN}else(v=u.nodeName)&&v.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(S=KN);if(S&&(S=S(t,c))){tR(m,S,a,l);break e}x&&x(t,u,c),t==="focusout"&&(x=u._wrapperState)&&x.controlled&&u.type==="number"&&d2(u,"number",u.value)}switch(x=c?xl(c):window,t){case"focusin":(qA(x)||x.contentEditable==="true")&&(bl=x,_2=c,mp=null);break;case"focusout":mp=_2=bl=null;break;case"mousedown":x2=!0;break;case"contextmenu":case"mouseup":case"dragend":x2=!1,FA(m,a,l);break;case"selectionchange":if(ej)break;case"keydown":case"keyup":FA(m,a,l)}var w;if(Ux)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else yl?J5(t,a)&&(A="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(A="onCompositionStart");A&&(X5&&a.locale!=="ko"&&(yl||A!=="onCompositionStart"?A==="onCompositionEnd"&&yl&&(w=Q5()):(Nn=l,zx="value"in Nn?Nn.value:Nn.textContent,yl=!0)),x=gg(c,A),0<x.length&&(A=new RA(A,t,null,a,l),m.push({event:A,listeners:x}),w?A.data=w:(w=eR(a),w!==null&&(A.data=w)))),(w=UN?VN(t,a):$N(t,a))&&(c=gg(c,"onBeforeInput"),0<c.length&&(l=new RA("onBeforeInput","beforeinput",null,a,l),m.push({event:l,listeners:c}),l.data=w))}mR(m,e)})}function qp(t,e,a){return{instance:t,listener:e,currentTarget:a}}function gg(t,e){for(var a=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Mp(t,a),i!=null&&o.unshift(qp(t,i,r)),i=Mp(t,e),i!=null&&o.push(qp(t,i,r))),t=t.return}return o}function Pc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function kA(t,e,a,o,r){for(var i=e._reactName,s=[];a!==null&&a!==o;){var n=a,d=n.alternate,c=n.stateNode;if(d!==null&&d===o)break;n.tag===5&&c!==null&&(n=c,r?(d=Mp(a,i),d!=null&&s.unshift(qp(a,d,n))):r||(d=Mp(a,i),d!=null&&s.push(qp(a,d,n)))),a=a.return}s.length!==0&&t.push({event:e,listeners:s})}var rj=/\r\n?/g,ij=/\u0000|\uFFFD/g;function UA(t){return(typeof t=="string"?t:""+t).replace(rj,`
`).replace(ij,"")}function Ph(t,e,a){if(e=UA(e),UA(t)!==e&&a)throw Error(Me(425))}function yg(){}var w2=null,S2=null;function A2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var E2=typeof setTimeout=="function"?setTimeout:void 0,sj=typeof clearTimeout=="function"?clearTimeout:void 0,VA=typeof Promise=="function"?Promise:void 0,nj=typeof queueMicrotask=="function"?queueMicrotask:typeof VA<"u"?function(t){return VA.resolve(null).then(t).catch(dj)}:E2;function dj(t){setTimeout(function(){throw t})}function ob(t,e){var a=e,o=0;do{var r=a.nextSibling;if(t.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(o===0){t.removeChild(r),Rp(e);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=r}while(a);Rp(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $A(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return t;e--}else a==="/$"&&e++}t=t.previousSibling}return null}var Eu=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Eu,Pp="__reactProps$"+Eu,Bs="__reactContainer$"+Eu,M2="__reactEvents$"+Eu,cj="__reactListeners$"+Eu,lj="__reactHandles$"+Eu;function Ld(t){var e=t[Hi];if(e)return e;for(var a=t.parentNode;a;){if(e=a[Bs]||a[Hi]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(t=$A(t);t!==null;){if(a=t[Hi])return a;t=$A(t)}return e}t=a,a=t.parentNode}return null}function Sf(t){return t=t[Hi]||t[Bs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Me(33))}function D0(t){return t[Pp]||null}var T2=[],wl=-1;function sd(t){return{current:t}}function ca(t){0>wl||(t.current=T2[wl],T2[wl]=null,wl--)}function oa(t,e){wl++,T2[wl]=t.current,t.current=e}var Zn={},xo=sd(Zn),Vo=sd(!1),ac=Zn;function Kl(t,e){var a=t.type.contextTypes;if(!a)return Zn;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in a)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function $o(t){return t=t.childContextTypes,t!=null}function bg(){ca(Vo),ca(xo)}function HA(t,e,a){if(xo.current!==Zn)throw Error(Me(168));oa(xo,e),oa(Vo,a)}function fR(t,e,a){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(Me(108,YL(t)||"Unknown",r));return ba({},a,o)}function _g(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zn,ac=xo.current,oa(xo,t),oa(Vo,Vo.current),!0}function WA(t,e,a){var o=t.stateNode;if(!o)throw Error(Me(169));a?(t=fR(t,e,ac),o.__reactInternalMemoizedMergedChildContext=t,ca(Vo),ca(xo),oa(xo,t)):ca(Vo),oa(Vo,a)}var As=null,q0=!1,rb=!1;function hR(t){As===null?As=[t]:As.push(t)}function uj(t){q0=!0,hR(t)}function nd(){if(!rb&&As!==null){rb=!0;var t=0,e=Yt;try{var a=As;for(Yt=1;t<a.length;t++){var o=a[t];do o=o(!0);while(o!==null)}As=null,q0=!1}catch(r){throw As!==null&&(As=As.slice(t+1)),B5(Lx,nd),r}finally{Yt=e,rb=!1}}return null}var Sl=[],Al=0,xg=null,wg=0,Pr=[],Lr=0,oc=null,Cs=1,Rs="";function Sd(t,e){Sl[Al++]=wg,Sl[Al++]=xg,xg=t,wg=e}function vR(t,e,a){Pr[Lr++]=Cs,Pr[Lr++]=Rs,Pr[Lr++]=oc,oc=t;var o=Cs;t=Rs;var r=32-bi(o)-1;o&=~(1<<r),a+=1;var i=32-bi(e)+r;if(30<i){var s=r-r%5;i=(o&(1<<s)-1).toString(32),o>>=s,r-=s,Cs=1<<32-bi(e)+r|a<<r|o,Rs=i+t}else Cs=1<<i|a<<r|o,Rs=t}function $x(t){t.return!==null&&(Sd(t,1),vR(t,1,0))}function Hx(t){for(;t===xg;)xg=Sl[--Al],Sl[Al]=null,wg=Sl[--Al],Sl[Al]=null;for(;t===oc;)oc=Pr[--Lr],Pr[Lr]=null,Rs=Pr[--Lr],Pr[Lr]=null,Cs=Pr[--Lr],Pr[Lr]=null}var mr=null,lr=null,pa=!1,ui=null;function gR(t,e){var a=Fr(5,null,null,0);a.elementType="DELETED",a.stateNode=e,a.return=t,e=t.deletions,e===null?(t.deletions=[a],t.flags|=16):e.push(a)}function GA(t,e){switch(t.tag){case 5:var a=t.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,lr=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(a=oc!==null?{id:Cs,overflow:Rs}:null,t.memoizedState={dehydrated:e,treeContext:a,retryLane:1073741824},a=Fr(18,null,null,0),a.stateNode=e,a.return=t,t.child=a,mr=t,lr=null,!0):!1;default:return!1}}function C2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function R2(t){if(pa){var e=lr;if(e){var a=e;if(!GA(t,e)){if(C2(t))throw Error(Me(418));e=kn(a.nextSibling);var o=mr;e&&GA(t,e)?gR(o,a):(t.flags=t.flags&-4097|2,pa=!1,mr=t)}}else{if(C2(t))throw Error(Me(418));t.flags=t.flags&-4097|2,pa=!1,mr=t}}}function YA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Lh(t){if(t!==mr)return!1;if(!pa)return YA(t),pa=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!A2(t.type,t.memoizedProps)),e&&(e=lr)){if(C2(t))throw yR(),Error(Me(418));for(;e;)gR(t,e),e=kn(e.nextSibling)}if(YA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Me(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(e===0){lr=kn(t.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=mr?kn(t.stateNode.nextSibling):null;return!0}function yR(){for(var t=lr;t;)t=kn(t.nextSibling)}function Ql(){lr=mr=null,pa=!1}function Wx(t){ui===null?ui=[t]:ui.push(t)}var mj=Gs.ReactCurrentBatchConfig;function di(t,e){if(t&&t.defaultProps){e=ba({},e),t=t.defaultProps;for(var a in t)e[a]===void 0&&(e[a]=t[a]);return e}return e}var Sg=sd(null),Ag=null,El=null,Gx=null;function Yx(){Gx=El=Ag=null}function Zx(t){var e=Sg.current;ca(Sg),t._currentValue=e}function O2(t,e,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===a)break;t=t.return}}function kl(t,e){Ag=t,Gx=El=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Uo=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(Gx!==t)if(t={context:t,memoizedValue:e,next:null},El===null){if(Ag===null)throw Error(Me(308));El=t,Ag.dependencies={lanes:0,firstContext:t}}else El=El.next=t;return e}var Nd=null;function Kx(t){Nd===null?Nd=[t]:Nd.push(t)}function bR(t,e,a,o){var r=e.interleaved;return r===null?(a.next=a,Kx(e)):(a.next=r.next,r.next=a),e.interleaved=a,ks(t,o)}function ks(t,e){t.lanes|=e;var a=t.alternate;for(a!==null&&(a.lanes|=e),a=t,t=t.return;t!==null;)t.childLanes|=e,a=t.alternate,a!==null&&(a.childLanes|=e),a=t,t=t.return;return a.tag===3?a.stateNode:null}var An=!1;function Qx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _R(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Un(t,e,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,zt&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,ks(t,a)}return r=o.interleaved,r===null?(e.next=e,Kx(o)):(e.next=r.next,r.next=e),o.interleaved=e,ks(t,a)}function kv(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,a|=o,e.lanes=a,Nx(t,a)}}function ZA(t,e){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var r=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var s={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};i===null?r=i=s:i=i.next=s,a=a.next}while(a!==null);i===null?r=i=e:i=i.next=e}else r=i=e;a={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}function Eg(t,e,a,o){var r=t.updateQueue;An=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,n=r.shared.pending;if(n!==null){r.shared.pending=null;var d=n,c=d.next;d.next=null,s===null?i=c:s.next=c,s=d;var l=t.alternate;l!==null&&(l=l.updateQueue,n=l.lastBaseUpdate,n!==s&&(n===null?l.firstBaseUpdate=c:n.next=c,l.lastBaseUpdate=d))}if(i!==null){var m=r.baseState;s=0,l=c=d=null,n=i;do{var u=n.lane,v=n.eventTime;if((o&u)===u){l!==null&&(l=l.next={eventTime:v,lane:0,tag:n.tag,payload:n.payload,callback:n.callback,next:null});e:{var g=t,f=n;switch(u=e,v=a,f.tag){case 1:if(g=f.payload,typeof g=="function"){m=g.call(v,m,u);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=f.payload,u=typeof g=="function"?g.call(v,m,u):g,u==null)break e;m=ba({},m,u);break e;case 2:An=!0}}n.callback!==null&&n.lane!==0&&(t.flags|=64,u=r.effects,u===null?r.effects=[n]:u.push(n))}else v={eventTime:v,lane:u,tag:n.tag,payload:n.payload,callback:n.callback,next:null},l===null?(c=l=v,d=m):l=l.next=v,s|=u;if(n=n.next,n===null){if(n=r.shared.pending,n===null)break;u=n,n=u.next,u.next=null,r.lastBaseUpdate=u,r.shared.pending=null}}while(!0);if(l===null&&(d=m),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=l,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);ic|=s,t.lanes=s,t.memoizedState=m}}function KA(t,e,a){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=a,typeof r!="function")throw Error(Me(191,r));r.call(o)}}}var xR=new b5.Component().refs;function I2(t,e,a,o){e=t.memoizedState,a=a(o,e),a=a==null?e:ba({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var P0={isMounted:function(t){return(t=t._reactInternals)?Mc(t)===t:!1},enqueueSetState:function(t,e,a){t=t._reactInternals;var o=Oo(),r=$n(t),i=Is(o,r);i.payload=e,a!=null&&(i.callback=a),e=Un(t,i,r),e!==null&&(_i(e,t,r,o),kv(e,t,r))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var o=Oo(),r=$n(t),i=Is(o,r);i.tag=1,i.payload=e,a!=null&&(i.callback=a),e=Un(t,i,r),e!==null&&(_i(e,t,r,o),kv(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Oo(),o=$n(t),r=Is(a,o);r.tag=2,e!=null&&(r.callback=e),e=Un(t,r,o),e!==null&&(_i(e,t,o,a),kv(e,t,o))}};function QA(t,e,a,o,r,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ip(a,o)||!Ip(r,i):!0}function wR(t,e,a){var o=!1,r=Zn,i=e.contextType;return typeof i=="object"&&i!==null?i=$r(i):(r=$o(e)?ac:xo.current,o=e.contextTypes,i=(o=o!=null)?Kl(t,r):Zn),e=new e(a,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=P0,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function XA(t,e,a,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,o),e.state!==t&&P0.enqueueReplaceState(e,e.state,null)}function D2(t,e,a,o){var r=t.stateNode;r.props=a,r.state=t.memoizedState,r.refs=xR,Qx(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=$r(i):(i=$o(e)?ac:xo.current,r.context=Kl(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(I2(t,e,i,a),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&P0.enqueueReplaceState(r,r.state,null),Eg(t,a,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function mm(t,e,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(Me(309));var o=a.stateNode}if(!o)throw Error(Me(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var n=r.refs;n===xR&&(n=r.refs={}),s===null?delete n[i]:n[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Me(284));if(!a._owner)throw Error(Me(290,t))}return t}function Nh(t,e){throw t=Object.prototype.toString.call(e),Error(Me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JA(t){var e=t._init;return e(t._payload)}function SR(t){function e(h,y){if(t){var b=h.deletions;b===null?(h.deletions=[y],h.flags|=16):b.push(y)}}function a(h,y){if(!t)return null;for(;y!==null;)e(h,y),y=y.sibling;return null}function o(h,y){for(h=new Map;y!==null;)y.key!==null?h.set(y.key,y):h.set(y.index,y),y=y.sibling;return h}function r(h,y){return h=Hn(h,y),h.index=0,h.sibling=null,h}function i(h,y,b){return h.index=b,t?(b=h.alternate,b!==null?(b=b.index,b<y?(h.flags|=2,y):b):(h.flags|=2,y)):(h.flags|=1048576,y)}function s(h){return t&&h.alternate===null&&(h.flags|=2),h}function n(h,y,b,_){return y===null||y.tag!==6?(y=ub(b,h.mode,_),y.return=h,y):(y=r(y,b),y.return=h,y)}function d(h,y,b,_){var S=b.type;return S===gl?l(h,y,b.props.children,_,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sn&&JA(S)===y.type)?(_=r(y,b.props),_.ref=mm(h,y,b),_.return=h,_):(_=Gv(b.type,b.key,b.props,null,h.mode,_),_.ref=mm(h,y,b),_.return=h,_)}function c(h,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=mb(b,h.mode,_),y.return=h,y):(y=r(y,b.children||[]),y.return=h,y)}function l(h,y,b,_,S){return y===null||y.tag!==7?(y=Yd(b,h.mode,_,S),y.return=h,y):(y=r(y,b),y.return=h,y)}function m(h,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ub(""+y,h.mode,b),y.return=h,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eh:return b=Gv(y.type,y.key,y.props,null,h.mode,b),b.ref=mm(h,null,y),b.return=h,b;case vl:return y=mb(y,h.mode,b),y.return=h,y;case Sn:var _=y._init;return m(h,_(y._payload),b)}if($m(y)||nm(y))return y=Yd(y,h.mode,b,null),y.return=h,y;Nh(h,y)}return null}function u(h,y,b,_){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:n(h,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eh:return b.key===S?d(h,y,b,_):null;case vl:return b.key===S?c(h,y,b,_):null;case Sn:return S=b._init,u(h,y,S(b._payload),_)}if($m(b)||nm(b))return S!==null?null:l(h,y,b,_,null);Nh(h,b)}return null}function v(h,y,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return h=h.get(b)||null,n(y,h,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eh:return h=h.get(_.key===null?b:_.key)||null,d(y,h,_,S);case vl:return h=h.get(_.key===null?b:_.key)||null,c(y,h,_,S);case Sn:var x=_._init;return v(h,y,b,x(_._payload),S)}if($m(_)||nm(_))return h=h.get(b)||null,l(y,h,_,S,null);Nh(y,_)}return null}function g(h,y,b,_){for(var S=null,x=null,w=y,A=y=0,T=null;w!==null&&A<b.length;A++){w.index>A?(T=w,w=null):T=w.sibling;var O=u(h,w,b[A],_);if(O===null){w===null&&(w=T);break}t&&w&&O.alternate===null&&e(h,w),y=i(O,y,A),x===null?S=O:x.sibling=O,x=O,w=T}if(A===b.length)return a(h,w),pa&&Sd(h,A),S;if(w===null){for(;A<b.length;A++)w=m(h,b[A],_),w!==null&&(y=i(w,y,A),x===null?S=w:x.sibling=w,x=w);return pa&&Sd(h,A),S}for(w=o(h,w);A<b.length;A++)T=v(w,h,A,b[A],_),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?A:T.key),y=i(T,y,A),x===null?S=T:x.sibling=T,x=T);return t&&w.forEach(function(I){return e(h,I)}),pa&&Sd(h,A),S}function f(h,y,b,_){var S=nm(b);if(typeof S!="function")throw Error(Me(150));if(b=S.call(b),b==null)throw Error(Me(151));for(var x=S=null,w=y,A=y=0,T=null,O=b.next();w!==null&&!O.done;A++,O=b.next()){w.index>A?(T=w,w=null):T=w.sibling;var I=u(h,w,O.value,_);if(I===null){w===null&&(w=T);break}t&&w&&I.alternate===null&&e(h,w),y=i(I,y,A),x===null?S=I:x.sibling=I,x=I,w=T}if(O.done)return a(h,w),pa&&Sd(h,A),S;if(w===null){for(;!O.done;A++,O=b.next())O=m(h,O.value,_),O!==null&&(y=i(O,y,A),x===null?S=O:x.sibling=O,x=O);return pa&&Sd(h,A),S}for(w=o(h,w);!O.done;A++,O=b.next())O=v(w,h,A,O.value,_),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?A:O.key),y=i(O,y,A),x===null?S=O:x.sibling=O,x=O);return t&&w.forEach(function(U){return e(h,U)}),pa&&Sd(h,A),S}function p(h,y,b,_){if(typeof b=="object"&&b!==null&&b.type===gl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Eh:e:{for(var S=b.key,x=y;x!==null;){if(x.key===S){if(S=b.type,S===gl){if(x.tag===7){a(h,x.sibling),y=r(x,b.props.children),y.return=h,h=y;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Sn&&JA(S)===x.type){a(h,x.sibling),y=r(x,b.props),y.ref=mm(h,x,b),y.return=h,h=y;break e}a(h,x);break}else e(h,x);x=x.sibling}b.type===gl?(y=Yd(b.props.children,h.mode,_,b.key),y.return=h,h=y):(_=Gv(b.type,b.key,b.props,null,h.mode,_),_.ref=mm(h,y,b),_.return=h,h=_)}return s(h);case vl:e:{for(x=b.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){a(h,y.sibling),y=r(y,b.children||[]),y.return=h,h=y;break e}else{a(h,y);break}else e(h,y);y=y.sibling}y=mb(b,h.mode,_),y.return=h,h=y}return s(h);case Sn:return x=b._init,p(h,y,x(b._payload),_)}if($m(b))return g(h,y,b,_);if(nm(b))return f(h,y,b,_);Nh(h,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(a(h,y.sibling),y=r(y,b),y.return=h,h=y):(a(h,y),y=ub(b,h.mode,_),y.return=h,h=y),s(h)):a(h,y)}return p}var Xl=SR(!0),AR=SR(!1),Af={},Ki=sd(Af),Lp=sd(Af),Np=sd(Af);function jd(t){if(t===Af)throw Error(Me(174));return t}function Xx(t,e){switch(oa(Np,e),oa(Lp,t),oa(Ki,Af),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:l2(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=l2(e,t)}ca(Ki),oa(Ki,e)}function Jl(){ca(Ki),ca(Lp),ca(Np)}function ER(t){jd(Np.current);var e=jd(Ki.current),a=l2(e,t.type);e!==a&&(oa(Lp,t),oa(Ki,a))}function Jx(t){Lp.current===t&&(ca(Ki),ca(Lp))}var ga=sd(0);function Mg(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ib=[];function ew(){for(var t=0;t<ib.length;t++)ib[t]._workInProgressVersionPrimary=null;ib.length=0}var Uv=Gs.ReactCurrentDispatcher,sb=Gs.ReactCurrentBatchConfig,rc=0,ya=null,Za=null,eo=null,Tg=!1,pp=!1,jp=0,pj=0;function fo(){throw Error(Me(321))}function tw(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!Mi(t[a],e[a]))return!1;return!0}function aw(t,e,a,o,r,i){if(rc=i,ya=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uv.current=t===null||t.memoizedState===null?gj:yj,t=a(o,r),pp){i=0;do{if(pp=!1,jp=0,25<=i)throw Error(Me(301));i+=1,eo=Za=null,e.updateQueue=null,Uv.current=bj,t=a(o,r)}while(pp)}if(Uv.current=Cg,e=Za!==null&&Za.next!==null,rc=0,eo=Za=ya=null,Tg=!1,e)throw Error(Me(300));return t}function ow(){var t=jp!==0;return jp=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return eo===null?ya.memoizedState=eo=t:eo=eo.next=t,eo}function Hr(){if(Za===null){var t=ya.alternate;t=t!==null?t.memoizedState:null}else t=Za.next;var e=eo===null?ya.memoizedState:eo.next;if(e!==null)eo=e,Za=t;else{if(t===null)throw Error(Me(310));Za=t,t={memoizedState:Za.memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},eo===null?ya.memoizedState=eo=t:eo=eo.next=t}return eo}function Fp(t,e){return typeof e=="function"?e(t):e}function nb(t){var e=Hr(),a=e.queue;if(a===null)throw Error(Me(311));a.lastRenderedReducer=t;var o=Za,r=o.baseQueue,i=a.pending;if(i!==null){if(r!==null){var s=r.next;r.next=i.next,i.next=s}o.baseQueue=r=i,a.pending=null}if(r!==null){i=r.next,o=o.baseState;var n=s=null,d=null,c=i;do{var l=c.lane;if((rc&l)===l)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:t(o,c.action);else{var m={lane:l,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(n=d=m,s=o):d=d.next=m,ya.lanes|=l,ic|=l}c=c.next}while(c!==null&&c!==i);d===null?s=o:d.next=n,Mi(o,e.memoizedState)||(Uo=!0),e.memoizedState=o,e.baseState=s,e.baseQueue=d,a.lastRenderedState=o}if(t=a.interleaved,t!==null){r=t;do i=r.lane,ya.lanes|=i,ic|=i,r=r.next;while(r!==t)}else r===null&&(a.lanes=0);return[e.memoizedState,a.dispatch]}function db(t){var e=Hr(),a=e.queue;if(a===null)throw Error(Me(311));a.lastRenderedReducer=t;var o=a.dispatch,r=a.pending,i=e.memoizedState;if(r!==null){a.pending=null;var s=r=r.next;do i=t(i,s.action),s=s.next;while(s!==r);Mi(i,e.memoizedState)||(Uo=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),a.lastRenderedState=i}return[i,o]}function MR(){}function TR(t,e){var a=ya,o=Hr(),r=e(),i=!Mi(o.memoizedState,r);if(i&&(o.memoizedState=r,Uo=!0),o=o.queue,rw(OR.bind(null,a,o,t),[t]),o.getSnapshot!==e||i||eo!==null&&eo.memoizedState.tag&1){if(a.flags|=2048,zp(9,RR.bind(null,a,o,r,e),void 0,null),oo===null)throw Error(Me(349));rc&30||CR(a,e,r)}return r}function CR(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=ya.updateQueue,e===null?(e={lastEffect:null,stores:null},ya.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function RR(t,e,a,o){e.value=a,e.getSnapshot=o,IR(e)&&DR(t)}function OR(t,e,a){return a(function(){IR(e)&&DR(t)})}function IR(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!Mi(t,a)}catch{return!0}}function DR(t){var e=ks(t,1);e!==null&&_i(e,t,1,-1)}function eE(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fp,lastRenderedState:t},e.queue=t,t=t.dispatch=vj.bind(null,ya,t),[e.memoizedState,t]}function zp(t,e,a,o){return t={tag:t,create:e,destroy:a,deps:o,next:null},e=ya.updateQueue,e===null?(e={lastEffect:null,stores:null},ya.updateQueue=e,e.lastEffect=t.next=t):(a=e.lastEffect,a===null?e.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,e.lastEffect=t)),t}function qR(){return Hr().memoizedState}function Vv(t,e,a,o){var r=zi();ya.flags|=t,r.memoizedState=zp(1|e,a,void 0,o===void 0?null:o)}function L0(t,e,a,o){var r=Hr();o=o===void 0?null:o;var i=void 0;if(Za!==null){var s=Za.memoizedState;if(i=s.destroy,o!==null&&tw(o,s.deps)){r.memoizedState=zp(e,a,i,o);return}}ya.flags|=t,r.memoizedState=zp(1|e,a,i,o)}function tE(t,e){return Vv(8390656,8,t,e)}function rw(t,e){return L0(2048,8,t,e)}function PR(t,e){return L0(4,2,t,e)}function LR(t,e){return L0(4,4,t,e)}function NR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jR(t,e,a){return a=a!=null?a.concat([t]):null,L0(4,4,NR.bind(null,e,t),a)}function iw(){}function FR(t,e){var a=Hr();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&tw(e,o[1])?o[0]:(a.memoizedState=[t,e],t)}function zR(t,e){var a=Hr();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&tw(e,o[1])?o[0]:(t=t(),a.memoizedState=[t,e],t)}function BR(t,e,a){return rc&21?(Mi(a,e)||(a=V5(),ya.lanes|=a,ic|=a,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Uo=!0),t.memoizedState=a)}function fj(t,e){var a=Yt;Yt=a!==0&&4>a?a:4,t(!0);var o=sb.transition;sb.transition={};try{t(!1),e()}finally{Yt=a,sb.transition=o}}function kR(){return Hr().memoizedState}function hj(t,e,a){var o=$n(t);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},UR(t))VR(e,a);else if(a=bR(t,e,a,o),a!==null){var r=Oo();_i(a,t,o,r),$R(a,e,o)}}function vj(t,e,a){var o=$n(t),r={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(UR(t))VR(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,n=i(s,a);if(r.hasEagerState=!0,r.eagerState=n,Mi(n,s)){var d=e.interleaved;d===null?(r.next=r,Kx(e)):(r.next=d.next,d.next=r),e.interleaved=r;return}}catch{}finally{}a=bR(t,e,r,o),a!==null&&(r=Oo(),_i(a,t,o,r),$R(a,e,o))}}function UR(t){var e=t.alternate;return t===ya||e!==null&&e===ya}function VR(t,e){pp=Tg=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function $R(t,e,a){if(a&4194240){var o=e.lanes;o&=t.pendingLanes,a|=o,e.lanes=a,Nx(t,a)}}var Cg={readContext:$r,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},gj={readContext:$r,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:tE,useImperativeHandle:function(t,e,a){return a=a!=null?a.concat([t]):null,Vv(4194308,4,NR.bind(null,e,t),a)},useLayoutEffect:function(t,e){return Vv(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vv(4,2,t,e)},useMemo:function(t,e){var a=zi();return e=e===void 0?null:e,t=t(),a.memoizedState=[t,e],t},useReducer:function(t,e,a){var o=zi();return e=a!==void 0?a(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=hj.bind(null,ya,t),[o.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:eE,useDebugValue:iw,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=eE(!1),e=t[0];return t=fj.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,a){var o=ya,r=zi();if(pa){if(a===void 0)throw Error(Me(407));a=a()}else{if(a=e(),oo===null)throw Error(Me(349));rc&30||CR(o,e,a)}r.memoizedState=a;var i={value:a,getSnapshot:e};return r.queue=i,tE(OR.bind(null,o,i,t),[t]),o.flags|=2048,zp(9,RR.bind(null,o,i,a,e),void 0,null),a},useId:function(){var t=zi(),e=oo.identifierPrefix;if(pa){var a=Rs,o=Cs;a=(o&~(1<<32-bi(o)-1)).toString(32)+a,e=":"+e+"R"+a,a=jp++,0<a&&(e+="H"+a.toString(32)),e+=":"}else a=pj++,e=":"+e+"r"+a.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yj={readContext:$r,useCallback:FR,useContext:$r,useEffect:rw,useImperativeHandle:jR,useInsertionEffect:PR,useLayoutEffect:LR,useMemo:zR,useReducer:nb,useRef:qR,useState:function(){return nb(Fp)},useDebugValue:iw,useDeferredValue:function(t){var e=Hr();return BR(e,Za.memoizedState,t)},useTransition:function(){var t=nb(Fp)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:MR,useSyncExternalStore:TR,useId:kR,unstable_isNewReconciler:!1},bj={readContext:$r,useCallback:FR,useContext:$r,useEffect:rw,useImperativeHandle:jR,useInsertionEffect:PR,useLayoutEffect:LR,useMemo:zR,useReducer:db,useRef:qR,useState:function(){return db(Fp)},useDebugValue:iw,useDeferredValue:function(t){var e=Hr();return Za===null?e.memoizedState=t:BR(e,Za.memoizedState,t)},useTransition:function(){var t=db(Fp)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:MR,useSyncExternalStore:TR,useId:kR,unstable_isNewReconciler:!1};function eu(t,e){try{var a="",o=e;do a+=GL(o),o=o.return;while(o);var r=a}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function cb(t,e,a){return{value:t,source:null,stack:a??null,digest:e??null}}function q2(t,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var _j=typeof WeakMap=="function"?WeakMap:Map;function HR(t,e,a){a=Is(-1,a),a.tag=3,a.payload={element:null};var o=e.value;return a.callback=function(){Og||(Og=!0,V2=o),q2(t,e)},a}function WR(t,e,a){a=Is(-1,a),a.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;a.payload=function(){return o(r)},a.callback=function(){q2(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(a.callback=function(){q2(t,e),typeof o!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),a}function aE(t,e,a){var o=t.pingCache;if(o===null){o=t.pingCache=new _j;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(a)||(r.add(a),t=Pj.bind(null,t,e,a),e.then(t,t))}function oE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rE(t,e,a,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(e=Is(-1,1),e.tag=2,Un(a,e,1))),a.lanes|=1),t)}var xj=Gs.ReactCurrentOwner,Uo=!1;function To(t,e,a,o){e.child=t===null?AR(e,null,a,o):Xl(e,t.child,a,o)}function iE(t,e,a,o,r){a=a.render;var i=e.ref;return kl(e,r),o=aw(t,e,a,o,i,r),a=ow(),t!==null&&!Uo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Us(t,e,r)):(pa&&a&&$x(e),e.flags|=1,To(t,e,o,r),e.child)}function sE(t,e,a,o,r){if(t===null){var i=a.type;return typeof i=="function"&&!pw(i)&&i.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=i,GR(t,e,i,o,r)):(t=Gv(a.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var s=i.memoizedProps;if(a=a.compare,a=a!==null?a:Ip,a(s,o)&&t.ref===e.ref)return Us(t,e,r)}return e.flags|=1,t=Hn(i,o),t.ref=e.ref,t.return=e,e.child=t}function GR(t,e,a,o,r){if(t!==null){var i=t.memoizedProps;if(Ip(i,o)&&t.ref===e.ref)if(Uo=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Uo=!0);else return e.lanes=t.lanes,Us(t,e,r)}return P2(t,e,a,o,r)}function YR(t,e,a){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oa(Tl,or),or|=a;else{if(!(a&1073741824))return t=i!==null?i.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oa(Tl,or),or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:a,oa(Tl,or),or|=o}else i!==null?(o=i.baseLanes|a,e.memoizedState=null):o=a,oa(Tl,or),or|=o;return To(t,e,r,a),e.child}function ZR(t,e){var a=e.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(e.flags|=512,e.flags|=2097152)}function P2(t,e,a,o,r){var i=$o(a)?ac:xo.current;return i=Kl(e,i),kl(e,r),a=aw(t,e,a,o,i,r),o=ow(),t!==null&&!Uo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Us(t,e,r)):(pa&&o&&$x(e),e.flags|=1,To(t,e,a,r),e.child)}function nE(t,e,a,o,r){if($o(a)){var i=!0;_g(e)}else i=!1;if(kl(e,r),e.stateNode===null)$v(t,e),wR(e,a,o),D2(e,a,o,r),o=!0;else if(t===null){var s=e.stateNode,n=e.memoizedProps;s.props=n;var d=s.context,c=a.contextType;typeof c=="object"&&c!==null?c=$r(c):(c=$o(a)?ac:xo.current,c=Kl(e,c));var l=a.getDerivedStateFromProps,m=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(n!==o||d!==c)&&XA(e,s,o,c),An=!1;var u=e.memoizedState;s.state=u,Eg(e,o,s,r),d=e.memoizedState,n!==o||u!==d||Vo.current||An?(typeof l=="function"&&(I2(e,a,l,o),d=e.memoizedState),(n=An||QA(e,a,n,o,u,d,c))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=d),s.props=o,s.state=d,s.context=c,o=n):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{s=e.stateNode,_R(t,e),n=e.memoizedProps,c=e.type===e.elementType?n:di(e.type,n),s.props=c,m=e.pendingProps,u=s.context,d=a.contextType,typeof d=="object"&&d!==null?d=$r(d):(d=$o(a)?ac:xo.current,d=Kl(e,d));var v=a.getDerivedStateFromProps;(l=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(n!==m||u!==d)&&XA(e,s,o,d),An=!1,u=e.memoizedState,s.state=u,Eg(e,o,s,r);var g=e.memoizedState;n!==m||u!==g||Vo.current||An?(typeof v=="function"&&(I2(e,a,v,o),g=e.memoizedState),(c=An||QA(e,a,c,o,u,g,d)||!1)?(l||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(o,g,d),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(o,g,d)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||n===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||n===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=g),s.props=o,s.state=g,s.context=d,o=c):(typeof s.componentDidUpdate!="function"||n===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||n===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),o=!1)}return L2(t,e,a,o,i,r)}function L2(t,e,a,o,r,i){ZR(t,e);var s=(e.flags&128)!==0;if(!o&&!s)return r&&WA(e,a,!1),Us(t,e,i);o=e.stateNode,xj.current=e;var n=s&&typeof a.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&s?(e.child=Xl(e,t.child,null,i),e.child=Xl(e,null,n,i)):To(t,e,n,i),e.memoizedState=o.state,r&&WA(e,a,!0),e.child}function KR(t){var e=t.stateNode;e.pendingContext?HA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HA(t,e.context,!1),Xx(t,e.containerInfo)}function dE(t,e,a,o,r){return Ql(),Wx(r),e.flags|=256,To(t,e,a,o),e.child}var N2={dehydrated:null,treeContext:null,retryLane:0};function j2(t){return{baseLanes:t,cachePool:null,transitions:null}}function QR(t,e,a){var o=e.pendingProps,r=ga.current,i=!1,s=(e.flags&128)!==0,n;if((n=s)||(n=t!==null&&t.memoizedState===null?!1:(r&2)!==0),n?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),oa(ga,r&1),t===null)return R2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=o.children,t=o.fallback,i?(o=e.mode,i=e.child,s={mode:"hidden",children:s},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=F0(s,o,0,null),t=Yd(t,o,a,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=j2(a),e.memoizedState=N2,t):sw(e,s));if(r=t.memoizedState,r!==null&&(n=r.dehydrated,n!==null))return wj(t,e,s,o,n,r,a);if(i){i=o.fallback,s=e.mode,r=t.child,n=r.sibling;var d={mode:"hidden",children:o.children};return!(s&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=d,e.deletions=null):(o=Hn(r,d),o.subtreeFlags=r.subtreeFlags&14680064),n!==null?i=Hn(n,i):(i=Yd(i,s,a,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,s=t.child.memoizedState,s=s===null?j2(a):{baseLanes:s.baseLanes|a,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~a,e.memoizedState=N2,o}return i=t.child,t=i.sibling,o=Hn(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=a),o.return=e,o.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=o,e.memoizedState=null,o}function sw(t,e){return e=F0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,a,o){return o!==null&&Wx(o),Xl(e,t.child,null,a),t=sw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wj(t,e,a,o,r,i,s){if(a)return e.flags&256?(e.flags&=-257,o=cb(Error(Me(422))),jh(t,e,s,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=F0({mode:"visible",children:o.children},r,0,null),i=Yd(i,r,s,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Xl(e,t.child,null,s),e.child.memoizedState=j2(s),e.memoizedState=N2,i);if(!(e.mode&1))return jh(t,e,s,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var n=o.dgst;return o=n,i=Error(Me(419)),o=cb(i,o,void 0),jh(t,e,s,o)}if(n=(s&t.childLanes)!==0,Uo||n){if(o=oo,o!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|s)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ks(t,r),_i(o,t,r,-1))}return mw(),o=cb(Error(Me(421))),jh(t,e,s,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Lj.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,lr=kn(r.nextSibling),mr=e,pa=!0,ui=null,t!==null&&(Pr[Lr++]=Cs,Pr[Lr++]=Rs,Pr[Lr++]=oc,Cs=t.id,Rs=t.overflow,oc=e),e=sw(e,o.children),e.flags|=4096,e)}function cE(t,e,a){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),O2(t.return,e,a)}function lb(t,e,a,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=a,i.tailMode=r)}function XR(t,e,a){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(To(t,e,o.children,a),o=ga.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cE(t,a,e);else if(t.tag===19)cE(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(oa(ga,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(a=e.child,r=null;a!==null;)t=a.alternate,t!==null&&Mg(t)===null&&(r=a),a=a.sibling;a=r,a===null?(r=e.child,e.child=null):(r=a.sibling,a.sibling=null),lb(e,!1,r,a,i);break;case"backwards":for(a=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Mg(t)===null){e.child=r;break}t=r.sibling,r.sibling=a,a=r,r=t}lb(e,!0,a,null,i);break;case"together":lb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $v(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Us(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),ic|=e.lanes,!(a&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Me(153));if(e.child!==null){for(t=e.child,a=Hn(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=Hn(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function Sj(t,e,a){switch(e.tag){case 3:KR(e),Ql();break;case 5:ER(e);break;case 1:$o(e.type)&&_g(e);break;case 4:Xx(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;oa(Sg,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(oa(ga,ga.current&1),e.flags|=128,null):a&e.child.childLanes?QR(t,e,a):(oa(ga,ga.current&1),t=Us(t,e,a),t!==null?t.sibling:null);oa(ga,ga.current&1);break;case 19:if(o=(a&e.childLanes)!==0,t.flags&128){if(o)return XR(t,e,a);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),oa(ga,ga.current),o)break;return null;case 22:case 23:return e.lanes=0,YR(t,e,a)}return Us(t,e,a)}var JR,F2,eO,tO;JR=function(t,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};F2=function(){};eO=function(t,e,a,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,jd(Ki.current);var i=null;switch(a){case"input":r=s2(t,r),o=s2(t,o),i=[];break;case"select":r=ba({},r,{value:void 0}),o=ba({},o,{value:void 0}),i=[];break;case"textarea":r=c2(t,r),o=c2(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=yg)}u2(a,o);var s;a=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var n=r[c];for(s in n)n.hasOwnProperty(s)&&(a||(a={}),a[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ap.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(n=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==n&&(d!=null||n!=null))if(c==="style")if(n){for(s in n)!n.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(a||(a={}),a[s]="");for(s in d)d.hasOwnProperty(s)&&n[s]!==d[s]&&(a||(a={}),a[s]=d[s])}else a||(i||(i=[]),i.push(c,a)),a=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,n=n?n.__html:void 0,d!=null&&n!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ap.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&na("scroll",t),i||n===d||(i=[])):(i=i||[]).push(c,d))}a&&(i=i||[]).push("style",a);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};tO=function(t,e,a,o){a!==o&&(e.flags|=4)};function pm(t,e){if(!pa)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ho(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(e)for(var r=t.child;r!==null;)a|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)a|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=a,e}function Aj(t,e,a){var o=e.pendingProps;switch(Hx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ho(e),null;case 1:return $o(e.type)&&bg(),ho(e),null;case 3:return o=e.stateNode,Jl(),ca(Vo),ca(xo),ew(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Lh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(W2(ui),ui=null))),F2(t,e),ho(e),null;case 5:Jx(e);var r=jd(Np.current);if(a=e.type,t!==null&&e.stateNode!=null)eO(t,e,a,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(Me(166));return ho(e),null}if(t=jd(Ki.current),Lh(e)){o=e.stateNode,a=e.type;var i=e.memoizedProps;switch(o[Hi]=e,o[Pp]=i,t=(e.mode&1)!==0,a){case"dialog":na("cancel",o),na("close",o);break;case"iframe":case"object":case"embed":na("load",o);break;case"video":case"audio":for(r=0;r<Wm.length;r++)na(Wm[r],o);break;case"source":na("error",o);break;case"img":case"image":case"link":na("error",o),na("load",o);break;case"details":na("toggle",o);break;case"input":yA(o,i),na("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},na("invalid",o);break;case"textarea":_A(o,i),na("invalid",o)}u2(a,i),r=null;for(var s in i)if(i.hasOwnProperty(s)){var n=i[s];s==="children"?typeof n=="string"?o.textContent!==n&&(i.suppressHydrationWarning!==!0&&Ph(o.textContent,n,t),r=["children",n]):typeof n=="number"&&o.textContent!==""+n&&(i.suppressHydrationWarning!==!0&&Ph(o.textContent,n,t),r=["children",""+n]):Ap.hasOwnProperty(s)&&n!=null&&s==="onScroll"&&na("scroll",o)}switch(a){case"input":Mh(o),bA(o,i,!0);break;case"textarea":Mh(o),xA(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=yg)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C5(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=s.createElement(a,{is:o.is}):(t=s.createElement(a),a==="select"&&(s=t,o.multiple?s.multiple=!0:o.size&&(s.size=o.size))):t=s.createElementNS(t,a),t[Hi]=e,t[Pp]=o,JR(t,e,!1,!1),e.stateNode=t;e:{switch(s=m2(a,o),a){case"dialog":na("cancel",t),na("close",t),r=o;break;case"iframe":case"object":case"embed":na("load",t),r=o;break;case"video":case"audio":for(r=0;r<Wm.length;r++)na(Wm[r],t);r=o;break;case"source":na("error",t),r=o;break;case"img":case"image":case"link":na("error",t),na("load",t),r=o;break;case"details":na("toggle",t),r=o;break;case"input":yA(t,o),r=s2(t,o),na("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=ba({},o,{value:void 0}),na("invalid",t);break;case"textarea":_A(t,o),r=c2(t,o),na("invalid",t);break;default:r=o}u2(a,r),n=r;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];i==="style"?I5(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&R5(t,d)):i==="children"?typeof d=="string"?(a!=="textarea"||d!=="")&&Ep(t,d):typeof d=="number"&&Ep(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ap.hasOwnProperty(i)?d!=null&&i==="onScroll"&&na("scroll",t):d!=null&&Ox(t,i,d,s))}switch(a){case"input":Mh(t),bA(t,o,!1);break;case"textarea":Mh(t),xA(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Yn(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?jl(t,!!o.multiple,i,!1):o.defaultValue!=null&&jl(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=yg)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ho(e),null;case 6:if(t&&e.stateNode!=null)tO(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(Me(166));if(a=jd(Np.current),jd(Ki.current),Lh(e)){if(o=e.stateNode,a=e.memoizedProps,o[Hi]=e,(i=o.nodeValue!==a)&&(t=mr,t!==null))switch(t.tag){case 3:Ph(o.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ph(o.nodeValue,a,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Hi]=e,e.stateNode=o}return ho(e),null;case 13:if(ca(ga),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pa&&lr!==null&&e.mode&1&&!(e.flags&128))yR(),Ql(),e.flags|=98560,i=!1;else if(i=Lh(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(Me(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Me(317));i[Hi]=e}else Ql(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ho(e),i=!1}else ui!==null&&(W2(ui),ui=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=a,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||ga.current&1?Ka===0&&(Ka=3):mw())),e.updateQueue!==null&&(e.flags|=4),ho(e),null);case 4:return Jl(),F2(t,e),t===null&&Dp(e.stateNode.containerInfo),ho(e),null;case 10:return Zx(e.type._context),ho(e),null;case 17:return $o(e.type)&&bg(),ho(e),null;case 19:if(ca(ga),i=e.memoizedState,i===null)return ho(e),null;if(o=(e.flags&128)!==0,s=i.rendering,s===null)if(o)pm(i,!1);else{if(Ka!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Mg(t),s!==null){for(e.flags|=128,pm(i,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=a,a=e.child;a!==null;)i=a,t=o,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return oa(ga,ga.current&1|2),e.child}t=t.sibling}i.tail!==null&&Da()>tu&&(e.flags|=128,o=!0,pm(i,!1),e.lanes=4194304)}else{if(!o)if(t=Mg(s),t!==null){if(e.flags|=128,o=!0,a=t.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),pm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!pa)return ho(e),null}else 2*Da()-i.renderingStartTime>tu&&a!==1073741824&&(e.flags|=128,o=!0,pm(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(a=i.last,a!==null?a.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Da(),e.sibling=null,a=ga.current,oa(ga,o?a&1|2:a&1),e):(ho(e),null);case 22:case 23:return uw(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?or&1073741824&&(ho(e),e.subtreeFlags&6&&(e.flags|=8192)):ho(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function Ej(t,e){switch(Hx(e),e.tag){case 1:return $o(e.type)&&bg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jl(),ca(Vo),ca(xo),ew(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jx(e),null;case 13:if(ca(ga),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));Ql()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ca(ga),null;case 4:return Jl(),null;case 10:return Zx(e.type._context),null;case 22:case 23:return uw(),null;case 24:return null;default:return null}}var Fh=!1,bo=!1,Mj=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Ml(t,e){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){Ma(t,e,o)}else a.current=null}function z2(t,e,a){try{a()}catch(o){Ma(t,e,o)}}var lE=!1;function Tj(t,e){if(w2=hg,t=iR(),Vx(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var s=0,n=-1,d=-1,c=0,l=0,m=t,u=null;t:for(;;){for(var v;m!==a||r!==0&&m.nodeType!==3||(n=s+r),m!==i||o!==0&&m.nodeType!==3||(d=s+o),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)u=m,m=v;for(;;){if(m===t)break t;if(u===a&&++c===r&&(n=s),u===i&&++l===o&&(d=s),(v=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=v}a=n===-1||d===-1?null:{start:n,end:d}}else a=null}a=a||{start:0,end:0}}else a=null;for(S2={focusedElem:t,selectionRange:a},hg=!1,Ye=e;Ye!==null;)if(e=Ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ye=t;else for(;Ye!==null;){e=Ye;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var f=g.memoizedProps,p=g.memoizedState,h=e.stateNode,y=h.getSnapshotBeforeUpdate(e.elementType===e.type?f:di(e.type,f),p);h.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(_){Ma(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Ye=t;break}Ye=e.return}return g=lE,lE=!1,g}function fp(t,e,a){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&z2(e,a,i)}r=r.next}while(r!==o)}}function N0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var a=e=e.next;do{if((a.tag&t)===t){var o=a.create;a.destroy=o()}a=a.next}while(a!==e)}}function B2(t){var e=t.ref;if(e!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof e=="function"?e(t):e.current=t}}function aO(t){var e=t.alternate;e!==null&&(t.alternate=null,aO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hi],delete e[Pp],delete e[M2],delete e[cj],delete e[lj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oO(t){return t.tag===5||t.tag===3||t.tag===4}function uE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function k2(t,e,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?a.nodeType===8?a.parentNode.insertBefore(t,e):a.insertBefore(t,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(t,a)):(e=a,e.appendChild(t)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=yg));else if(o!==4&&(t=t.child,t!==null))for(k2(t,e,a),t=t.sibling;t!==null;)k2(t,e,a),t=t.sibling}function U2(t,e,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?a.insertBefore(t,e):a.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(U2(t,e,a),t=t.sibling;t!==null;)U2(t,e,a),t=t.sibling}var no=null,ci=!1;function nn(t,e,a){for(a=a.child;a!==null;)rO(t,e,a),a=a.sibling}function rO(t,e,a){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(C0,a)}catch{}switch(a.tag){case 5:bo||Ml(a,e);case 6:var o=no,r=ci;no=null,nn(t,e,a),no=o,ci=r,no!==null&&(ci?(t=no,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):no.removeChild(a.stateNode));break;case 18:no!==null&&(ci?(t=no,a=a.stateNode,t.nodeType===8?ob(t.parentNode,a):t.nodeType===1&&ob(t,a),Rp(t)):ob(no,a.stateNode));break;case 4:o=no,r=ci,no=a.stateNode.containerInfo,ci=!0,nn(t,e,a),no=o,ci=r;break;case 0:case 11:case 14:case 15:if(!bo&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&z2(a,e,s),r=r.next}while(r!==o)}nn(t,e,a);break;case 1:if(!bo&&(Ml(a,e),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(n){Ma(a,e,n)}nn(t,e,a);break;case 21:nn(t,e,a);break;case 22:a.mode&1?(bo=(o=bo)||a.memoizedState!==null,nn(t,e,a),bo=o):nn(t,e,a);break;default:nn(t,e,a)}}function mE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new Mj),e.forEach(function(o){var r=Nj.bind(null,t,o);a.has(o)||(a.add(o),o.then(r,r))})}}function ei(t,e){var a=e.deletions;if(a!==null)for(var o=0;o<a.length;o++){var r=a[o];try{var i=t,s=e,n=s;e:for(;n!==null;){switch(n.tag){case 5:no=n.stateNode,ci=!1;break e;case 3:no=n.stateNode.containerInfo,ci=!0;break e;case 4:no=n.stateNode.containerInfo,ci=!0;break e}n=n.return}if(no===null)throw Error(Me(160));rO(i,s,r),no=null,ci=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){Ma(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iO(e,t),e=e.sibling}function iO(t,e){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ei(e,t),qi(t),o&4){try{fp(3,t,t.return),N0(3,t)}catch(f){Ma(t,t.return,f)}try{fp(5,t,t.return)}catch(f){Ma(t,t.return,f)}}break;case 1:ei(e,t),qi(t),o&512&&a!==null&&Ml(a,a.return);break;case 5:if(ei(e,t),qi(t),o&512&&a!==null&&Ml(a,a.return),t.flags&32){var r=t.stateNode;try{Ep(r,"")}catch(f){Ma(t,t.return,f)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,s=a!==null?a.memoizedProps:i,n=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{n==="input"&&i.type==="radio"&&i.name!=null&&M5(r,i),m2(n,s);var c=m2(n,i);for(s=0;s<d.length;s+=2){var l=d[s],m=d[s+1];l==="style"?I5(r,m):l==="dangerouslySetInnerHTML"?R5(r,m):l==="children"?Ep(r,m):Ox(r,l,m,c)}switch(n){case"input":n2(r,i);break;case"textarea":T5(r,i);break;case"select":var u=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?jl(r,!!i.multiple,v,!1):u!==!!i.multiple&&(i.defaultValue!=null?jl(r,!!i.multiple,i.defaultValue,!0):jl(r,!!i.multiple,i.multiple?[]:"",!1))}r[Pp]=i}catch(f){Ma(t,t.return,f)}}break;case 6:if(ei(e,t),qi(t),o&4){if(t.stateNode===null)throw Error(Me(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(f){Ma(t,t.return,f)}}break;case 3:if(ei(e,t),qi(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Rp(e.containerInfo)}catch(f){Ma(t,t.return,f)}break;case 4:ei(e,t),qi(t);break;case 13:ei(e,t),qi(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(cw=Da())),o&4&&mE(t);break;case 22:if(l=a!==null&&a.memoizedState!==null,t.mode&1?(bo=(c=bo)||l,ei(e,t),bo=c):ei(e,t),qi(t),o&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!l&&t.mode&1)for(Ye=t,l=t.child;l!==null;){for(m=Ye=l;Ye!==null;){switch(u=Ye,v=u.child,u.tag){case 0:case 11:case 14:case 15:fp(4,u,u.return);break;case 1:Ml(u,u.return);var g=u.stateNode;if(typeof g.componentWillUnmount=="function"){o=u,a=u.return;try{e=o,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(f){Ma(o,a,f)}}break;case 5:Ml(u,u.return);break;case 22:if(u.memoizedState!==null){fE(m);continue}}v!==null?(v.return=u,Ye=v):fE(m)}l=l.sibling}e:for(l=null,m=t;;){if(m.tag===5){if(l===null){l=m;try{r=m.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(n=m.stateNode,d=m.memoizedProps.style,s=d!=null&&d.hasOwnProperty("display")?d.display:null,n.style.display=O5("display",s))}catch(f){Ma(t,t.return,f)}}}else if(m.tag===6){if(l===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(f){Ma(t,t.return,f)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;l===m&&(l=null),m=m.return}l===m&&(l=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ei(e,t),qi(t),o&4&&mE(t);break;case 21:break;default:ei(e,t),qi(t)}}function qi(t){var e=t.flags;if(e&2){try{e:{for(var a=t.return;a!==null;){if(oO(a)){var o=a;break e}a=a.return}throw Error(Me(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Ep(r,""),o.flags&=-33);var i=uE(t);U2(t,i,r);break;case 3:case 4:var s=o.stateNode.containerInfo,n=uE(t);k2(t,n,s);break;default:throw Error(Me(161))}}catch(d){Ma(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cj(t,e,a){Ye=t,sO(t)}function sO(t,e,a){for(var o=(t.mode&1)!==0;Ye!==null;){var r=Ye,i=r.child;if(r.tag===22&&o){var s=r.memoizedState!==null||Fh;if(!s){var n=r.alternate,d=n!==null&&n.memoizedState!==null||bo;n=Fh;var c=bo;if(Fh=s,(bo=d)&&!c)for(Ye=r;Ye!==null;)s=Ye,d=s.child,s.tag===22&&s.memoizedState!==null?hE(r):d!==null?(d.return=s,Ye=d):hE(r);for(;i!==null;)Ye=i,sO(i),i=i.sibling;Ye=r,Fh=n,bo=c}pE(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,Ye=i):pE(t)}}function pE(t){for(;Ye!==null;){var e=Ye;if(e.flags&8772){var a=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bo||N0(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!bo)if(a===null)o.componentDidMount();else{var r=e.elementType===e.type?a.memoizedProps:di(e.type,a.memoizedProps);o.componentDidUpdate(r,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&KA(e,i,o);break;case 3:var s=e.updateQueue;if(s!==null){if(a=null,e.child!==null)switch(e.child.tag){case 5:a=e.child.stateNode;break;case 1:a=e.child.stateNode}KA(e,s,a)}break;case 5:var n=e.stateNode;if(a===null&&e.flags&4){a=n;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&a.focus();break;case"img":d.src&&(a.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var l=c.memoizedState;if(l!==null){var m=l.dehydrated;m!==null&&Rp(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}bo||e.flags&512&&B2(e)}catch(u){Ma(e,e.return,u)}}if(e===t){Ye=null;break}if(a=e.sibling,a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}function fE(t){for(;Ye!==null;){var e=Ye;if(e===t){Ye=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ye=a;break}Ye=e.return}}function hE(t){for(;Ye!==null;){var e=Ye;try{switch(e.tag){case 0:case 11:case 15:var a=e.return;try{N0(4,e)}catch(d){Ma(e,a,d)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(d){Ma(e,r,d)}}var i=e.return;try{B2(e)}catch(d){Ma(e,i,d)}break;case 5:var s=e.return;try{B2(e)}catch(d){Ma(e,s,d)}}}catch(d){Ma(e,e.return,d)}if(e===t){Ye=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ye=n;break}Ye=e.return}}var Rj=Math.ceil,Rg=Gs.ReactCurrentDispatcher,nw=Gs.ReactCurrentOwner,kr=Gs.ReactCurrentBatchConfig,zt=0,oo=null,Ha=null,uo=0,or=0,Tl=sd(0),Ka=0,Bp=null,ic=0,j0=0,dw=0,hp=null,ko=null,cw=0,tu=1/0,ws=null,Og=!1,V2=null,Vn=null,zh=!1,jn=null,Ig=0,vp=0,$2=null,Hv=-1,Wv=0;function Oo(){return zt&6?Da():Hv!==-1?Hv:Hv=Da()}function $n(t){return t.mode&1?zt&2&&uo!==0?uo&-uo:mj.transition!==null?(Wv===0&&(Wv=V5()),Wv):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:K5(t.type)),t):1}function _i(t,e,a,o){if(50<vp)throw vp=0,$2=null,Error(Me(185));xf(t,a,o),(!(zt&2)||t!==oo)&&(t===oo&&(!(zt&2)&&(j0|=a),Ka===4&&Pn(t,uo)),Ho(t,o),a===1&&zt===0&&!(e.mode&1)&&(tu=Da()+500,q0&&nd()))}function Ho(t,e){var a=t.callbackNode;mN(t,e);var o=fg(t,t===oo?uo:0);if(o===0)a!==null&&AA(a),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(a!=null&&AA(a),e===1)t.tag===0?uj(vE.bind(null,t)):hR(vE.bind(null,t)),nj(function(){!(zt&6)&&nd()}),a=null;else{switch($5(o)){case 1:a=Lx;break;case 4:a=k5;break;case 16:a=pg;break;case 536870912:a=U5;break;default:a=pg}a=fO(a,nO.bind(null,t))}t.callbackPriority=e,t.callbackNode=a}}function nO(t,e){if(Hv=-1,Wv=0,zt&6)throw Error(Me(327));var a=t.callbackNode;if(Ul()&&t.callbackNode!==a)return null;var o=fg(t,t===oo?uo:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=Dg(t,o);else{e=o;var r=zt;zt|=2;var i=cO();(oo!==t||uo!==e)&&(ws=null,tu=Da()+500,Gd(t,e));do try{Dj();break}catch(n){dO(t,n)}while(!0);Yx(),Rg.current=i,zt=r,Ha!==null?e=0:(oo=null,uo=0,e=Ka)}if(e!==0){if(e===2&&(r=g2(t),r!==0&&(o=r,e=H2(t,r))),e===1)throw a=Bp,Gd(t,0),Pn(t,o),Ho(t,Da()),a;if(e===6)Pn(t,o);else{if(r=t.current.alternate,!(o&30)&&!Oj(r)&&(e=Dg(t,o),e===2&&(i=g2(t),i!==0&&(o=i,e=H2(t,i))),e===1))throw a=Bp,Gd(t,0),Pn(t,o),Ho(t,Da()),a;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(Me(345));case 2:Ad(t,ko,ws);break;case 3:if(Pn(t,o),(o&130023424)===o&&(e=cw+500-Da(),10<e)){if(fg(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Oo(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=E2(Ad.bind(null,t,ko,ws),e);break}Ad(t,ko,ws);break;case 4:if(Pn(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var s=31-bi(o);i=1<<s,s=e[s],s>r&&(r=s),o&=~i}if(o=r,o=Da()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Rj(o/1960))-o,10<o){t.timeoutHandle=E2(Ad.bind(null,t,ko,ws),o);break}Ad(t,ko,ws);break;case 5:Ad(t,ko,ws);break;default:throw Error(Me(329))}}}return Ho(t,Da()),t.callbackNode===a?nO.bind(null,t):null}function H2(t,e){var a=hp;return t.current.memoizedState.isDehydrated&&(Gd(t,e).flags|=256),t=Dg(t,e),t!==2&&(e=ko,ko=a,e!==null&&W2(e)),t}function W2(t){ko===null?ko=t:ko.push.apply(ko,t)}function Oj(t){for(var e=t;;){if(e.flags&16384){var a=e.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var r=a[o],i=r.getSnapshot;r=r.value;try{if(!Mi(i(),r))return!1}catch{return!1}}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pn(t,e){for(e&=~dw,e&=~j0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var a=31-bi(e),o=1<<a;t[a]=-1,e&=~o}}function vE(t){if(zt&6)throw Error(Me(327));Ul();var e=fg(t,0);if(!(e&1))return Ho(t,Da()),null;var a=Dg(t,e);if(t.tag!==0&&a===2){var o=g2(t);o!==0&&(e=o,a=H2(t,o))}if(a===1)throw a=Bp,Gd(t,0),Pn(t,e),Ho(t,Da()),a;if(a===6)throw Error(Me(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ad(t,ko,ws),Ho(t,Da()),null}function lw(t,e){var a=zt;zt|=1;try{return t(e)}finally{zt=a,zt===0&&(tu=Da()+500,q0&&nd())}}function sc(t){jn!==null&&jn.tag===0&&!(zt&6)&&Ul();var e=zt;zt|=1;var a=kr.transition,o=Yt;try{if(kr.transition=null,Yt=1,t)return t()}finally{Yt=o,kr.transition=a,zt=e,!(zt&6)&&nd()}}function uw(){or=Tl.current,ca(Tl)}function Gd(t,e){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,sj(a)),Ha!==null)for(a=Ha.return;a!==null;){var o=a;switch(Hx(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&bg();break;case 3:Jl(),ca(Vo),ca(xo),ew();break;case 5:Jx(o);break;case 4:Jl();break;case 13:ca(ga);break;case 19:ca(ga);break;case 10:Zx(o.type._context);break;case 22:case 23:uw()}a=a.return}if(oo=t,Ha=t=Hn(t.current,null),uo=or=e,Ka=0,Bp=null,dw=j0=ic=0,ko=hp=null,Nd!==null){for(e=0;e<Nd.length;e++)if(a=Nd[e],o=a.interleaved,o!==null){a.interleaved=null;var r=o.next,i=a.pending;if(i!==null){var s=i.next;i.next=r,o.next=s}a.pending=o}Nd=null}return t}function dO(t,e){do{var a=Ha;try{if(Yx(),Uv.current=Cg,Tg){for(var o=ya.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Tg=!1}if(rc=0,eo=Za=ya=null,pp=!1,jp=0,nw.current=null,a===null||a.return===null){Ka=1,Bp=e,Ha=null;break}e:{var i=t,s=a.return,n=a,d=e;if(e=uo,n.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,l=n,m=l.tag;if(!(l.mode&1)&&(m===0||m===11||m===15)){var u=l.alternate;u?(l.updateQueue=u.updateQueue,l.memoizedState=u.memoizedState,l.lanes=u.lanes):(l.updateQueue=null,l.memoizedState=null)}var v=oE(s);if(v!==null){v.flags&=-257,rE(v,s,n,i,e),v.mode&1&&aE(i,c,e),e=v,d=c;var g=e.updateQueue;if(g===null){var f=new Set;f.add(d),e.updateQueue=f}else g.add(d);break e}else{if(!(e&1)){aE(i,c,e),mw();break e}d=Error(Me(426))}}else if(pa&&n.mode&1){var p=oE(s);if(p!==null){!(p.flags&65536)&&(p.flags|=256),rE(p,s,n,i,e),Wx(eu(d,n));break e}}i=d=eu(d,n),Ka!==4&&(Ka=2),hp===null?hp=[i]:hp.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var h=HR(i,d,e);ZA(i,h);break e;case 1:n=d;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Vn===null||!Vn.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=WR(i,n,e);ZA(i,_);break e}}i=i.return}while(i!==null)}uO(a)}catch(S){e=S,Ha===a&&a!==null&&(Ha=a=a.return);continue}break}while(!0)}function cO(){var t=Rg.current;return Rg.current=Cg,t===null?Cg:t}function mw(){(Ka===0||Ka===3||Ka===2)&&(Ka=4),oo===null||!(ic&268435455)&&!(j0&268435455)||Pn(oo,uo)}function Dg(t,e){var a=zt;zt|=2;var o=cO();(oo!==t||uo!==e)&&(ws=null,Gd(t,e));do try{Ij();break}catch(r){dO(t,r)}while(!0);if(Yx(),zt=a,Rg.current=o,Ha!==null)throw Error(Me(261));return oo=null,uo=0,Ka}function Ij(){for(;Ha!==null;)lO(Ha)}function Dj(){for(;Ha!==null&&!oN();)lO(Ha)}function lO(t){var e=pO(t.alternate,t,or);t.memoizedProps=t.pendingProps,e===null?uO(t):Ha=e,nw.current=null}function uO(t){var e=t;do{var a=e.alternate;if(t=e.return,e.flags&32768){if(a=Ej(a,e),a!==null){a.flags&=32767,Ha=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ka=6,Ha=null;return}}else if(a=Aj(a,e,or),a!==null){Ha=a;return}if(e=e.sibling,e!==null){Ha=e;return}Ha=e=t}while(e!==null);Ka===0&&(Ka=5)}function Ad(t,e,a){var o=Yt,r=kr.transition;try{kr.transition=null,Yt=1,qj(t,e,a,o)}finally{kr.transition=r,Yt=o}return null}function qj(t,e,a,o){do Ul();while(jn!==null);if(zt&6)throw Error(Me(327));a=t.finishedWork;var r=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(Me(177));t.callbackNode=null,t.callbackPriority=0;var i=a.lanes|a.childLanes;if(pN(t,i),t===oo&&(Ha=oo=null,uo=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||zh||(zh=!0,fO(pg,function(){return Ul(),null})),i=(a.flags&15990)!==0,a.subtreeFlags&15990||i){i=kr.transition,kr.transition=null;var s=Yt;Yt=1;var n=zt;zt|=4,nw.current=null,Tj(t,a),iO(a,t),JN(S2),hg=!!w2,S2=w2=null,t.current=a,Cj(a),rN(),zt=n,Yt=s,kr.transition=i}else t.current=a;if(zh&&(zh=!1,jn=t,Ig=r),i=t.pendingLanes,i===0&&(Vn=null),nN(a.stateNode),Ho(t,Da()),e!==null)for(o=t.onRecoverableError,a=0;a<e.length;a++)r=e[a],o(r.value,{componentStack:r.stack,digest:r.digest});if(Og)throw Og=!1,t=V2,V2=null,t;return Ig&1&&t.tag!==0&&Ul(),i=t.pendingLanes,i&1?t===$2?vp++:(vp=0,$2=t):vp=0,nd(),null}function Ul(){if(jn!==null){var t=$5(Ig),e=kr.transition,a=Yt;try{if(kr.transition=null,Yt=16>t?16:t,jn===null)var o=!1;else{if(t=jn,jn=null,Ig=0,zt&6)throw Error(Me(331));var r=zt;for(zt|=4,Ye=t.current;Ye!==null;){var i=Ye,s=i.child;if(Ye.flags&16){var n=i.deletions;if(n!==null){for(var d=0;d<n.length;d++){var c=n[d];for(Ye=c;Ye!==null;){var l=Ye;switch(l.tag){case 0:case 11:case 15:fp(8,l,i)}var m=l.child;if(m!==null)m.return=l,Ye=m;else for(;Ye!==null;){l=Ye;var u=l.sibling,v=l.return;if(aO(l),l===c){Ye=null;break}if(u!==null){u.return=v,Ye=u;break}Ye=v}}}var g=i.alternate;if(g!==null){var f=g.child;if(f!==null){g.child=null;do{var p=f.sibling;f.sibling=null,f=p}while(f!==null)}}Ye=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ye=s;else e:for(;Ye!==null;){if(i=Ye,i.flags&2048)switch(i.tag){case 0:case 11:case 15:fp(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,Ye=h;break e}Ye=i.return}}var y=t.current;for(Ye=y;Ye!==null;){s=Ye;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ye=b;else e:for(s=y;Ye!==null;){if(n=Ye,n.flags&2048)try{switch(n.tag){case 0:case 11:case 15:N0(9,n)}}catch(S){Ma(n,n.return,S)}if(n===s){Ye=null;break e}var _=n.sibling;if(_!==null){_.return=n.return,Ye=_;break e}Ye=n.return}}if(zt=r,nd(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(C0,t)}catch{}o=!0}return o}finally{Yt=a,kr.transition=e}}return!1}function gE(t,e,a){e=eu(a,e),e=HR(t,e,1),t=Un(t,e,1),e=Oo(),t!==null&&(xf(t,1,e),Ho(t,e))}function Ma(t,e,a){if(t.tag===3)gE(t,t,a);else for(;e!==null;){if(e.tag===3){gE(e,t,a);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vn===null||!Vn.has(o))){t=eu(a,t),t=WR(e,t,1),e=Un(e,t,1),t=Oo(),e!==null&&(xf(e,1,t),Ho(e,t));break}}e=e.return}}function Pj(t,e,a){var o=t.pingCache;o!==null&&o.delete(e),e=Oo(),t.pingedLanes|=t.suspendedLanes&a,oo===t&&(uo&a)===a&&(Ka===4||Ka===3&&(uo&130023424)===uo&&500>Da()-cw?Gd(t,0):dw|=a),Ho(t,e)}function mO(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var a=Oo();t=ks(t,e),t!==null&&(xf(t,e,a),Ho(t,a))}function Lj(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),mO(t,a)}function Nj(t,e){var a=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(a=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(Me(314))}o!==null&&o.delete(e),mO(t,a)}var pO;pO=function(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vo.current)Uo=!0;else{if(!(t.lanes&a)&&!(e.flags&128))return Uo=!1,Sj(t,e,a);Uo=!!(t.flags&131072)}else Uo=!1,pa&&e.flags&1048576&&vR(e,wg,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;$v(t,e),t=e.pendingProps;var r=Kl(e,xo.current);kl(e,a),r=aw(null,e,o,t,r,a);var i=ow();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$o(o)?(i=!0,_g(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Qx(e),r.updater=P0,e.stateNode=r,r._reactInternals=e,D2(e,o,t,a),e=L2(null,e,o,!0,i,a)):(e.tag=0,pa&&i&&$x(e),To(null,e,r,a),e=e.child),e;case 16:o=e.elementType;e:{switch($v(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Fj(o),t=di(o,t),r){case 0:e=P2(null,e,o,t,a);break e;case 1:e=nE(null,e,o,t,a);break e;case 11:e=iE(null,e,o,t,a);break e;case 14:e=sE(null,e,o,di(o.type,t),a);break e}throw Error(Me(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:di(o,r),P2(t,e,o,r,a);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:di(o,r),nE(t,e,o,r,a);case 3:e:{if(KR(e),t===null)throw Error(Me(387));o=e.pendingProps,i=e.memoizedState,r=i.element,_R(t,e),Eg(e,o,null,a);var s=e.memoizedState;if(o=s.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=eu(Error(Me(423)),e),e=dE(t,e,o,a,r);break e}else if(o!==r){r=eu(Error(Me(424)),e),e=dE(t,e,o,a,r);break e}else for(lr=kn(e.stateNode.containerInfo.firstChild),mr=e,pa=!0,ui=null,a=AR(e,null,o,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ql(),o===r){e=Us(t,e,a);break e}To(t,e,o,a)}e=e.child}return e;case 5:return ER(e),t===null&&R2(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,s=r.children,A2(o,r)?s=null:i!==null&&A2(o,i)&&(e.flags|=32),ZR(t,e),To(t,e,s,a),e.child;case 6:return t===null&&R2(e),null;case 13:return QR(t,e,a);case 4:return Xx(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Xl(e,null,o,a):To(t,e,o,a),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:di(o,r),iE(t,e,o,r,a);case 7:return To(t,e,e.pendingProps,a),e.child;case 8:return To(t,e,e.pendingProps.children,a),e.child;case 12:return To(t,e,e.pendingProps.children,a),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,s=r.value,oa(Sg,o._currentValue),o._currentValue=s,i!==null)if(Mi(i.value,s)){if(i.children===r.children&&!Vo.current){e=Us(t,e,a);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var n=i.dependencies;if(n!==null){s=i.child;for(var d=n.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=Is(-1,a&-a),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var l=c.pending;l===null?d.next=d:(d.next=l.next,l.next=d),c.pending=d}}i.lanes|=a,d=i.alternate,d!==null&&(d.lanes|=a),O2(i.return,a,e),n.lanes|=a;break}d=d.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Me(341));s.lanes|=a,n=s.alternate,n!==null&&(n.lanes|=a),O2(s,a,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}To(t,e,r.children,a),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,kl(e,a),r=$r(r),o=o(r),e.flags|=1,To(t,e,o,a),e.child;case 14:return o=e.type,r=di(o,e.pendingProps),r=di(o.type,r),sE(t,e,o,r,a);case 15:return GR(t,e,e.type,e.pendingProps,a);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:di(o,r),$v(t,e),e.tag=1,$o(o)?(t=!0,_g(e)):t=!1,kl(e,a),wR(e,o,r),D2(e,o,r,a),L2(null,e,o,!0,t,a);case 19:return XR(t,e,a);case 22:return YR(t,e,a)}throw Error(Me(156,e.tag))};function fO(t,e){return B5(t,e)}function jj(t,e,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(t,e,a,o){return new jj(t,e,a,o)}function pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fj(t){if(typeof t=="function")return pw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dx)return 11;if(t===qx)return 14}return 2}function Hn(t,e){var a=t.alternate;return a===null?(a=Fr(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Gv(t,e,a,o,r,i){var s=2;if(o=t,typeof t=="function")pw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case gl:return Yd(a.children,r,i,e);case Ix:s=8,r|=8;break;case a2:return t=Fr(12,a,e,r|2),t.elementType=a2,t.lanes=i,t;case o2:return t=Fr(13,a,e,r),t.elementType=o2,t.lanes=i,t;case r2:return t=Fr(19,a,e,r),t.elementType=r2,t.lanes=i,t;case S5:return F0(a,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x5:s=10;break e;case w5:s=9;break e;case Dx:s=11;break e;case qx:s=14;break e;case Sn:s=16,o=null;break e}throw Error(Me(130,t==null?t:typeof t,""))}return e=Fr(s,a,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function Yd(t,e,a,o){return t=Fr(7,t,o,e),t.lanes=a,t}function F0(t,e,a,o){return t=Fr(22,t,o,e),t.elementType=S5,t.lanes=a,t.stateNode={isHidden:!1},t}function ub(t,e,a){return t=Fr(6,t,null,e),t.lanes=a,t}function mb(t,e,a){return e=Fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zj(t,e,a,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wy(0),this.expirationTimes=Wy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wy(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function fw(t,e,a,o,r,i,s,n,d){return t=new zj(t,e,a,n,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qx(i),t}function Bj(t,e,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:o==null?null:""+o,children:t,containerInfo:e,implementation:a}}function hO(t){if(!t)return Zn;t=t._reactInternals;e:{if(Mc(t)!==t||t.tag!==1)throw Error(Me(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($o(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(t.tag===1){var a=t.type;if($o(a))return fR(t,a,e)}return e}function vO(t,e,a,o,r,i,s,n,d){return t=fw(a,o,!0,t,r,i,s,n,d),t.context=hO(null),a=t.current,o=Oo(),r=$n(a),i=Is(o,r),i.callback=e??null,Un(a,i,r),t.current.lanes=r,xf(t,r,o),Ho(t,o),t}function z0(t,e,a,o){var r=e.current,i=Oo(),s=$n(r);return a=hO(a),e.context===null?e.context=a:e.pendingContext=a,e=Is(i,s),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Un(r,e,s),t!==null&&(_i(t,r,s,i),kv(t,r,s)),s}function qg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function hw(t,e){yE(t,e),(t=t.alternate)&&yE(t,e)}function kj(){return null}var gO=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}B0.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Me(409));z0(t,e,null,null)};B0.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sc(function(){z0(null,t,null,null)}),e[Bs]=null}};function B0(t){this._internalRoot=t}B0.prototype.unstable_scheduleHydration=function(t){if(t){var e=G5();t={blockedOn:null,target:t,priority:e};for(var a=0;a<qn.length&&e!==0&&e<qn[a].priority;a++);qn.splice(a,0,t),a===0&&Z5(t)}};function gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function k0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bE(){}function Uj(t,e,a,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=qg(s);i.call(c)}}var s=vO(e,o,t,0,null,!1,!1,"",bE);return t._reactRootContainer=s,t[Bs]=s.current,Dp(t.nodeType===8?t.parentNode:t),sc(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var n=o;o=function(){var c=qg(d);n.call(c)}}var d=fw(t,0,!1,null,null,!1,!1,"",bE);return t._reactRootContainer=d,t[Bs]=d.current,Dp(t.nodeType===8?t.parentNode:t),sc(function(){z0(e,d,a,o)}),d}function U0(t,e,a,o,r){var i=a._reactRootContainer;if(i){var s=i;if(typeof r=="function"){var n=r;r=function(){var d=qg(s);n.call(d)}}z0(e,s,t,r)}else s=Uj(a,e,t,r,o);return qg(s)}H5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var a=Hm(e.pendingLanes);a!==0&&(Nx(e,a|1),Ho(e,Da()),!(zt&6)&&(tu=Da()+500,nd()))}break;case 13:sc(function(){var o=ks(t,1);if(o!==null){var r=Oo();_i(o,t,1,r)}}),hw(t,1)}};jx=function(t){if(t.tag===13){var e=ks(t,134217728);if(e!==null){var a=Oo();_i(e,t,134217728,a)}hw(t,134217728)}};W5=function(t){if(t.tag===13){var e=$n(t),a=ks(t,e);if(a!==null){var o=Oo();_i(a,t,e,o)}hw(t,e)}};G5=function(){return Yt};Y5=function(t,e){var a=Yt;try{return Yt=t,e()}finally{Yt=a}};f2=function(t,e,a){switch(e){case"input":if(n2(t,a),e=a.name,a.type==="radio"&&e!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var o=a[e];if(o!==t&&o.form===t.form){var r=D0(o);if(!r)throw Error(Me(90));E5(o),n2(o,r)}}}break;case"textarea":T5(t,a);break;case"select":e=a.value,e!=null&&jl(t,!!a.multiple,e,!1)}};P5=lw;L5=sc;var Vj={usingClientEntryPoint:!1,Events:[Sf,xl,D0,D5,q5,lw]},fm={findFiberByHostInstance:Ld,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$j={bundleType:fm.bundleType,version:fm.version,rendererPackageName:fm.rendererPackageName,rendererConfig:fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F5(t),t===null?null:t.stateNode},findFiberByHostInstance:fm.findFiberByHostInstance||kj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{C0=Bh.inject($j),Zi=Bh}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vj;br.createPortal=function(t,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(e))throw Error(Me(200));return Bj(t,e,null,a)};br.createRoot=function(t,e){if(!gw(t))throw Error(Me(299));var a=!1,o="",r=gO;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=fw(t,1,!1,null,null,a,!1,o,r),t[Bs]=e.current,Dp(t.nodeType===8?t.parentNode:t),new vw(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Me(188)):(t=Object.keys(t).join(","),Error(Me(268,t)));return t=F5(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return sc(t)};br.hydrate=function(t,e,a){if(!k0(e))throw Error(Me(200));return U0(null,t,e,!0,a)};br.hydrateRoot=function(t,e,a){if(!gw(t))throw Error(Me(405));var o=a!=null&&a.hydratedSources||null,r=!1,i="",s=gO;if(a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onRecoverableError!==void 0&&(s=a.onRecoverableError)),e=vO(e,null,t,1,a??null,r,!1,i,s),t[Bs]=e.current,Dp(t),o)for(t=0;t<o.length;t++)a=o[t],r=a._getVersion,r=r(a._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[a,r]:e.mutableSourceEagerHydrationData.push(a,r);return new B0(e)};br.render=function(t,e,a){if(!k0(e))throw Error(Me(200));return U0(null,t,e,!1,a)};br.unmountComponentAtNode=function(t){if(!k0(t))throw Error(Me(40));return t._reactRootContainer?(sc(function(){U0(null,null,t,!1,function(){t._reactRootContainer=null,t[Bs]=null})}),!0):!1};br.unstable_batchedUpdates=lw;br.unstable_renderSubtreeIntoContainer=function(t,e,a,o){if(!k0(a))throw Error(Me(200));if(t==null||t._reactInternals===void 0)throw Error(Me(38));return U0(t,e,a,!1,o)};br.version="18.2.0-next-9e3b772b8-20220608";function yO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yO)}catch(t){console.error(t)}}yO(),v5.exports=br;var au=v5.exports;const Gm=i5(au),Hj=r5({__proto__:null,default:Gm},[au]);var _E=au;e2.createRoot=_E.createRoot,e2.hydrateRoot=_E.hydrateRoot;var bO={exports:{}},_O={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=M;function Wj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gj=typeof Object.is=="function"?Object.is:Wj,Yj=Ef.useSyncExternalStore,Zj=Ef.useRef,Kj=Ef.useEffect,Qj=Ef.useMemo,Xj=Ef.useDebugValue;_O.useSyncExternalStoreWithSelector=function(t,e,a,o,r){var i=Zj(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Qj(function(){function d(v){if(!c){if(c=!0,l=v,v=o(v),r!==void 0&&s.hasValue){var g=s.value;if(r(g,v))return m=g}return m=v}if(g=m,Gj(l,v))return g;var f=o(v);return r!==void 0&&r(g,f)?g:(l=v,m=f)}var c=!1,l,m,u=a===void 0?null:a;return[function(){return d(e())},u===null?void 0:function(){return d(u())}]},[e,a,o,r]);var n=Yj(t,i[0],i[1]);return Kj(function(){s.hasValue=!0,s.value=n},[n]),Xj(n),n};bO.exports=_O;var Jj=bO.exports,ur="default"in Yl?jr:Yl,xE=Symbol.for("react-redux-context"),wE=typeof globalThis<"u"?globalThis:{};function eF(){if(!ur.createContext)return{};const t=wE[xE]??(wE[xE]=new Map);let e=t.get(ur.createContext);return e||(e=ur.createContext(null),t.set(ur.createContext,e)),e}var Kn=eF(),tF=()=>{throw new Error("uSES not initialized!")};function yw(t=Kn){return function(){return ur.useContext(t)}}var xO=yw(),wO=tF,aF=t=>{wO=t},oF=(t,e)=>t===e;function rF(t=Kn){const e=t===Kn?xO:yw(t),a=(o,r={})=>{const{equalityFn:i=oF,devModeChecks:s={}}=typeof r=="function"?{equalityFn:r}:r,{store:n,subscription:d,getServerState:c,stabilityCheck:l,identityFunctionCheck:m}=e();ur.useRef(!0);const u=ur.useCallback({[o.name](g){return o(g)}}[o.name],[o,l,s.stabilityCheck]),v=wO(d.addNestedSub,n.getState,c||n.getState,u,i);return ur.useDebugValue(v),v};return Object.assign(a,{withTypes:()=>a}),a}var iF=rF();function sF(t){t()}function nF(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sF(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let o=t;for(;o;)a.push(o),o=o.next;return a},subscribe(a){let o=!0;const r=e={callback:a,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!o||t===null||(o=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var SE={notify(){},get:()=>[]};function dF(t,e){let a,o=SE,r=0,i=!1;function s(f){l();const p=o.subscribe(f);let h=!1;return()=>{h||(h=!0,p(),m())}}function n(){o.notify()}function d(){g.onStateChange&&g.onStateChange()}function c(){return i}function l(){r++,a||(a=e?e.addNestedSub(d):t.subscribe(d),o=nF())}function m(){r--,a&&r===0&&(a(),a=void 0,o.clear(),o=SE)}function u(){i||(i=!0,l())}function v(){i&&(i=!1,m())}const g={addNestedSub:s,notifyNestedSubs:n,handleChangeWrapper:d,isSubscribed:c,trySubscribe:u,tryUnsubscribe:v,getListeners:()=>o};return g}var cF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lF=cF?ur.useLayoutEffect:ur.useEffect;function uF({store:t,context:e,children:a,serverState:o,stabilityCheck:r="once",identityFunctionCheck:i="once"}){const s=ur.useMemo(()=>{const c=dF(t);return{store:t,subscription:c,getServerState:o?()=>o:void 0,stabilityCheck:r,identityFunctionCheck:i}},[t,o,r,i]),n=ur.useMemo(()=>t.getState(),[t]);lF(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),n!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,n]);const d=e||Kn;return ur.createElement(d.Provider,{value:s},a)}var mF=uF;function SO(t=Kn){const e=t===Kn?xO:yw(t),a=()=>{const{store:o}=e();return o};return Object.assign(a,{withTypes:()=>a}),a}var pF=SO();function fF(t=Kn){const e=t===Kn?pF:SO(t),a=()=>e().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var hF=fF();aF(Jj.useSyncExternalStoreWithSelector);/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Ta.apply(this,arguments)}var Oa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oa||(Oa={}));const AE="popstate";function vF(t){t===void 0&&(t={});function e(o,r){let{pathname:i,search:s,hash:n}=o.location;return kp("",{pathname:i,search:s,hash:n},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(o,r){return typeof r=="string"?r:nc(r)}return yF(e,a,null,t)}function Mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ou(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gF(){return Math.random().toString(36).substr(2,8)}function EE(t,e){return{usr:t.state,key:t.key,idx:e}}function kp(t,e,a,o){return a===void 0&&(a=null),Ta({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ys(e):e,{state:a,key:e&&e.key||o||gF()})}function nc(t){let{pathname:e="/",search:a="",hash:o=""}=t;return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Ys(t){let e={};if(t){let a=t.indexOf("#");a>=0&&(e.hash=t.substr(a),t=t.substr(0,a));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function yF(t,e,a,o){o===void 0&&(o={});let{window:r=document.defaultView,v5Compat:i=!1}=o,s=r.history,n=Oa.Pop,d=null,c=l();c==null&&(c=0,s.replaceState(Ta({},s.state,{idx:c}),""));function l(){return(s.state||{idx:null}).idx}function m(){n=Oa.Pop;let p=l(),h=p==null?null:p-c;c=p,d&&d({action:n,location:f.location,delta:h})}function u(p,h){n=Oa.Push;let y=kp(f.location,p,h);a&&a(y,p),c=l()+1;let b=EE(y,c),_=f.createHref(y);try{s.pushState(b,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(_)}i&&d&&d({action:n,location:f.location,delta:1})}function v(p,h){n=Oa.Replace;let y=kp(f.location,p,h);a&&a(y,p),c=l();let b=EE(y,c),_=f.createHref(y);s.replaceState(b,"",_),i&&d&&d({action:n,location:f.location,delta:0})}function g(p){let h=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof p=="string"?p:nc(p);return y=y.replace(/ $/,"%20"),Mt(h,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,h)}let f={get action(){return n},get location(){return t(r,s)},listen(p){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(AE,m),d=p,()=>{r.removeEventListener(AE,m),d=null}},createHref(p){return e(r,p)},createURL:g,encodeLocation(p){let h=g(p);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:u,replace:v,go(p){return s.go(p)}};return f}var Ea;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ea||(Ea={}));const bF=new Set(["lazy","caseSensitive","path","id","index","children"]);function _F(t){return t.index===!0}function G2(t,e,a,o){return a===void 0&&(a=[]),o===void 0&&(o={}),t.map((r,i)=>{let s=[...a,i],n=typeof r.id=="string"?r.id:s.join("-");if(Mt(r.index!==!0||!r.children,"Cannot specify children on an index route"),Mt(!o[n],'Found a route id collision on id "'+n+`".  Route id's must be globally unique within Data Router usages`),_F(r)){let d=Ta({},r,e(r),{id:n});return o[n]=d,d}else{let d=Ta({},r,e(r),{id:n,children:void 0});return o[n]=d,r.children&&(d.children=G2(r.children,e,s,o)),d}})}function Cl(t,e,a){a===void 0&&(a="/");let o=typeof e=="string"?Ys(e):e,r=Mu(o.pathname||"/",a);if(r==null)return null;let i=EO(t);xF(i);let s=null;for(let n=0;s==null&&n<i.length;++n){let d=qF(r);s=OF(i[n],d)}return s}function AO(t,e){let{route:a,pathname:o,params:r}=t;return{id:a.id,pathname:o,params:r,data:e[a.id],handle:a.handle}}function EO(t,e,a,o){e===void 0&&(e=[]),a===void 0&&(a=[]),o===void 0&&(o="");let r=(i,s,n)=>{let d={relativePath:n===void 0?i.path||"":n,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};d.relativePath.startsWith("/")&&(Mt(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let c=Ds([o,d.relativePath]),l=a.concat(d);i.children&&i.children.length>0&&(Mt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),EO(i.children,e,l,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:CF(c,i.index),routesMeta:l})};return t.forEach((i,s)=>{var n;if(i.path===""||!((n=i.path)!=null&&n.includes("?")))r(i,s);else for(let d of MO(i.path))r(i,s,d)}),e}function MO(t){let e=t.split("/");if(e.length===0)return[];let[a,...o]=e,r=a.endsWith("?"),i=a.replace(/\?$/,"");if(o.length===0)return r?[i,""]:[i];let s=MO(o.join("/")),n=[];return n.push(...s.map(d=>d===""?i:[i,d].join("/"))),r&&n.push(...s),n.map(d=>t.startsWith("/")&&d===""?"/":d)}function xF(t){t.sort((e,a)=>e.score!==a.score?a.score-e.score:RF(e.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const wF=/^:[\w-]+$/,SF=3,AF=2,EF=1,MF=10,TF=-2,ME=t=>t==="*";function CF(t,e){let a=t.split("/"),o=a.length;return a.some(ME)&&(o+=TF),e&&(o+=AF),a.filter(r=>!ME(r)).reduce((r,i)=>r+(wF.test(i)?SF:i===""?EF:MF),o)}function RF(t,e){return t.length===e.length&&t.slice(0,-1).every((o,r)=>o===e[r])?t[t.length-1]-e[e.length-1]:0}function OF(t,e){let{routesMeta:a}=t,o={},r="/",i=[];for(let s=0;s<a.length;++s){let n=a[s],d=s===a.length-1,c=r==="/"?e:e.slice(r.length)||"/",l=IF({path:n.relativePath,caseSensitive:n.caseSensitive,end:d},c);if(!l)return null;Object.assign(o,l.params);let m=n.route;i.push({params:o,pathname:Ds([r,l.pathname]),pathnameBase:NF(Ds([r,l.pathnameBase])),route:m}),l.pathnameBase!=="/"&&(r=Ds([r,l.pathnameBase]))}return i}function IF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,o]=DF(t.path,t.caseSensitive,t.end),r=e.match(a);if(!r)return null;let i=r[0],s=i.replace(/(.)\/+$/,"$1"),n=r.slice(1);return{params:o.reduce((c,l,m)=>{let{paramName:u,isOptional:v}=l;if(u==="*"){let f=n[m]||"";s=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}const g=n[m];return v&&!g?c[u]=void 0:c[u]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:t}}function DF(t,e,a){e===void 0&&(e=!1),a===void 0&&(a=!0),ou(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,n,d)=>(o.push({paramName:n,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),o]}function qF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ou(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,o=t.charAt(a);return o&&o!=="/"?null:t.slice(a)||"/"}function PF(t,e){e===void 0&&(e="/");let{pathname:a,search:o="",hash:r=""}=typeof t=="string"?Ys(t):t;return{pathname:a?a.startsWith("/")?a:LF(a,e):e,search:jF(o),hash:FF(r)}}function LF(t,e){let a=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function pb(t,e,a,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TO(t){return t.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function V0(t,e){let a=TO(t);return e?a.map((o,r)=>r===t.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function $0(t,e,a,o){o===void 0&&(o=!1);let r;typeof t=="string"?r=Ys(t):(r=Ta({},t),Mt(!r.pathname||!r.pathname.includes("?"),pb("?","pathname","search",r)),Mt(!r.pathname||!r.pathname.includes("#"),pb("#","pathname","hash",r)),Mt(!r.search||!r.search.includes("#"),pb("#","search","hash",r)));let i=t===""||r.pathname==="",s=i?"/":r.pathname,n;if(s==null)n=a;else{let m=e.length-1;if(!o&&s.startsWith("..")){let u=s.split("/");for(;u[0]==="..";)u.shift(),m-=1;r.pathname=u.join("/")}n=m>=0?e[m]:"/"}let d=PF(r,n),c=s&&s!=="/"&&s.endsWith("/"),l=(i||s===".")&&a.endsWith("/");return!d.pathname.endsWith("/")&&(c||l)&&(d.pathname+="/"),d}const Ds=t=>t.join("/").replace(/\/\/+/g,"/"),NF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class bw{constructor(e,a,o,r){r===void 0&&(r=!1),this.status=e,this.statusText=a||"",this.internal=r,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function CO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RO=["post","put","patch","delete"],zF=new Set(RO),BF=["get",...RO],kF=new Set(BF),UF=new Set([301,302,303,307,308]),VF=new Set([307,308]),fb={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$F={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},OO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HF=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),IO="remix-router-transitions";function WF(t){const e=t.window?t.window:typeof window<"u"?window:void 0,a=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",o=!a;Mt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let ee=t.detectErrorBoundary;r=re=>({hasErrorBoundary:ee(re)})}else r=HF;let i={},s=G2(t.routes,r,void 0,i),n,d=t.basename||"/",c=Ta({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),l=null,m=new Set,u=null,v=null,g=null,f=t.hydrationData!=null,p=Cl(s,t.history.location,d),h=null;if(p==null){let ee=Or(404,{pathname:t.history.location.pathname}),{matches:re,route:ve}=PE(s);p=re,h={[ve.id]:ee}}let y,b=p.some(ee=>ee.route.lazy),_=p.some(ee=>ee.route.loader);if(b)y=!1;else if(!_)y=!0;else if(c.v7_partialHydration){let ee=t.hydrationData?t.hydrationData.loaderData:null,re=t.hydrationData?t.hydrationData.errors:null,ve=Se=>Se.route.loader?Se.route.loader.hydrate===!0?!1:ee&&ee[Se.route.id]!==void 0||re&&re[Se.route.id]!==void 0:!0;if(re){let Se=p.findIndex(Ue=>re[Ue.route.id]!==void 0);y=p.slice(0,Se+1).every(ve)}else y=p.every(ve)}else y=t.hydrationData!=null;let S,x={historyAction:t.history.action,location:t.history.location,matches:p,initialized:y,navigation:fb,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||h,fetchers:new Map,blockers:new Map},w=Oa.Pop,A=!1,T,O=!1,I=new Map,U=null,B=!1,N=!1,z=[],$=[],Y=new Map,F=0,V=-1,Z=new Map,se=new Set,J=new Map,te=new Map,me=new Set,xe=new Map,Q=new Map,Ee=!1;function Ae(){if(l=t.history.listen(ee=>{let{action:re,location:ve,delta:Se}=ee;if(Ee){Ee=!1;return}ou(Q.size===0||Se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ue=Ft({currentLocation:x.location,nextLocation:ve,historyAction:re});if(Ue&&Se!=null){Ee=!0,t.history.go(Se*-1),et(Ue,{state:"blocked",location:ve,proceed(){et(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),t.history.go(Se)},reset(){let nt=new Map(x.blockers);nt.set(Ue,hm),De({blockers:nt})}});return}return tt(re,ve)}),a){oz(e,I);let ee=()=>rz(e,I);e.addEventListener("pagehide",ee),U=()=>e.removeEventListener("pagehide",ee)}return x.initialized||tt(Oa.Pop,x.location,{initialHydration:!0}),S}function Ce(){l&&l(),U&&U(),m.clear(),T&&T.abort(),x.fetchers.forEach((ee,re)=>le(re)),x.blockers.forEach((ee,re)=>Ve(re))}function we(ee){return m.add(ee),()=>m.delete(ee)}function De(ee,re){re===void 0&&(re={}),x=Ta({},x,ee);let ve=[],Se=[];c.v7_fetcherPersist&&x.fetchers.forEach((Ue,nt)=>{Ue.state==="idle"&&(me.has(nt)?Se.push(nt):ve.push(nt))}),[...m].forEach(Ue=>Ue(x,{deletedFetchers:Se,unstable_viewTransitionOpts:re.viewTransitionOpts,unstable_flushSync:re.flushSync===!0})),c.v7_fetcherPersist&&(ve.forEach(Ue=>x.fetchers.delete(Ue)),Se.forEach(Ue=>le(Ue)))}function Te(ee,re,ve){var Se,Ue;let{flushSync:nt}=ve===void 0?{}:ve,pt=x.actionData!=null&&x.navigation.formMethod!=null&&li(x.navigation.formMethod)&&x.navigation.state==="loading"&&((Se=ee.state)==null?void 0:Se._isRedirect)!==!0,at;re.actionData?Object.keys(re.actionData).length>0?at=re.actionData:at=null:pt?at=x.actionData:at=null;let Xe=re.loaderData?qE(x.loaderData,re.loaderData,re.matches||[],re.errors):x.loaderData,Tt=x.blockers;Tt.size>0&&(Tt=new Map(Tt),Tt.forEach((H,ie)=>Tt.set(ie,hm)));let Na=A===!0||x.navigation.formMethod!=null&&li(x.navigation.formMethod)&&((Ue=ee.state)==null?void 0:Ue._isRedirect)!==!0;n&&(s=n,n=void 0),B||w===Oa.Pop||(w===Oa.Push?t.history.push(ee,ee.state):w===Oa.Replace&&t.history.replace(ee,ee.state));let yt;if(w===Oa.Pop){let H=I.get(x.location.pathname);H&&H.has(ee.pathname)?yt={currentLocation:x.location,nextLocation:ee}:I.has(ee.pathname)&&(yt={currentLocation:ee,nextLocation:x.location})}else if(O){let H=I.get(x.location.pathname);H?H.add(ee.pathname):(H=new Set([ee.pathname]),I.set(x.location.pathname,H)),yt={currentLocation:x.location,nextLocation:ee}}De(Ta({},re,{actionData:at,loaderData:Xe,historyAction:w,location:ee,initialized:!0,navigation:fb,revalidation:"idle",restoreScrollPosition:Ne(ee,re.matches||x.matches),preventScrollReset:Na,blockers:Tt}),{viewTransitionOpts:yt,flushSync:nt===!0}),w=Oa.Pop,A=!1,O=!1,B=!1,N=!1,z=[],$=[]}async function _e(ee,re){if(typeof ee=="number"){t.history.go(ee);return}let ve=Y2(x.location,x.matches,d,c.v7_prependBasename,ee,c.v7_relativeSplatPath,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:Se,submission:Ue,error:nt}=TE(c.v7_normalizeFormMethod,!1,ve,re),pt=x.location,at=kp(x.location,Se,re&&re.state);at=Ta({},at,t.history.encodeLocation(at));let Xe=re&&re.replace!=null?re.replace:void 0,Tt=Oa.Push;Xe===!0?Tt=Oa.Replace:Xe===!1||Ue!=null&&li(Ue.formMethod)&&Ue.formAction===x.location.pathname+x.location.search&&(Tt=Oa.Replace);let Na=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,yt=(re&&re.unstable_flushSync)===!0,H=Ft({currentLocation:pt,nextLocation:at,historyAction:Tt});if(H){et(H,{state:"blocked",location:at,proceed(){et(H,{state:"proceeding",proceed:void 0,reset:void 0,location:at}),_e(ee,re)},reset(){let ie=new Map(x.blockers);ie.set(H,hm),De({blockers:ie})}});return}return await tt(Tt,at,{submission:Ue,pendingError:nt,preventScrollReset:Na,replace:re&&re.replace,enableViewTransition:re&&re.unstable_viewTransition,flushSync:yt})}function Qe(){if(E(),De({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){tt(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}tt(w||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation})}}async function tt(ee,re,ve){T&&T.abort(),T=null,w=ee,B=(ve&&ve.startUninterruptedRevalidation)===!0,Ze(x.location,x.matches),A=(ve&&ve.preventScrollReset)===!0,O=(ve&&ve.enableViewTransition)===!0;let Se=n||s,Ue=ve&&ve.overrideNavigation,nt=Cl(Se,re,d),pt=(ve&&ve.flushSync)===!0;if(!nt){let ie=Or(404,{pathname:re.pathname}),{matches:pe,route:ce}=PE(Se);ae(),Te(re,{matches:pe,loaderData:{},errors:{[ce.id]:ie}},{flushSync:pt});return}if(x.initialized&&!N&&QF(x.location,re)&&!(ve&&ve.submission&&li(ve.submission.formMethod))){Te(re,{matches:nt},{flushSync:pt});return}T=new AbortController;let at=gm(t.history,re,T.signal,ve&&ve.submission),Xe,Tt;if(ve&&ve.pendingError)Tt={[gp(nt).route.id]:ve.pendingError};else if(ve&&ve.submission&&li(ve.submission.formMethod)){let ie=await jt(at,re,ve.submission,nt,{replace:ve.replace,flushSync:pt});if(ie.shortCircuited)return;Xe=ie.pendingActionData,Tt=ie.pendingActionError,Ue=hb(re,ve.submission),pt=!1,at=new Request(at.url,{signal:at.signal})}let{shortCircuited:Na,loaderData:yt,errors:H}=await Bt(at,re,nt,Ue,ve&&ve.submission,ve&&ve.fetcherSubmission,ve&&ve.replace,ve&&ve.initialHydration===!0,pt,Xe,Tt);Na||(T=null,Te(re,Ta({matches:nt},Xe?{actionData:Xe}:{},{loaderData:yt,errors:H})))}async function jt(ee,re,ve,Se,Ue){Ue===void 0&&(Ue={}),E();let nt=tz(re,ve);De({navigation:nt},{flushSync:Ue.flushSync===!0});let pt,at=K2(Se,re);if(!at.route.action&&!at.route.lazy)pt={type:Ea.error,error:Or(405,{method:ee.method,pathname:re.pathname,routeId:at.route.id})};else if(pt=await vm("action",ee,at,Se,i,r,d,c.v7_relativeSplatPath),ee.signal.aborted)return{shortCircuited:!0};if(zd(pt)){let Xe;return Ue&&Ue.replace!=null?Xe=Ue.replace:Xe=pt.location===x.location.pathname+x.location.search,await oe(x,pt,{submission:ve,replace:Xe}),{shortCircuited:!0}}if(Rl(pt)){let Xe=gp(Se,at.route.id);return(Ue&&Ue.replace)!==!0&&(w=Oa.Push),{pendingActionData:{},pendingActionError:{[Xe.route.id]:pt.error}}}if(Fd(pt))throw Or(400,{type:"defer-action"});return{pendingActionData:{[at.route.id]:pt.data}}}async function Bt(ee,re,ve,Se,Ue,nt,pt,at,Xe,Tt,Na){let yt=Se||hb(re,Ue),H=Ue||nt||jE(yt),ie=n||s,[pe,ce]=CE(t.history,x,ve,H,re,c.v7_partialHydration&&at===!0,N,z,$,me,J,se,ie,d,Tt,Na);if(ae(Et=>!(ve&&ve.some(Dt=>Dt.route.id===Et))||pe&&pe.some(Dt=>Dt.route.id===Et)),V=++F,pe.length===0&&ce.length===0){let Et=ze();return Te(re,Ta({matches:ve,loaderData:{},errors:Na||null},Tt?{actionData:Tt}:{},Et?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Xe}),{shortCircuited:!0}}if(!B&&(!c.v7_partialHydration||!at)){ce.forEach(Dt=>{let ia=x.fetchers.get(Dt.key),qt=ym(void 0,ia?ia.data:void 0);x.fetchers.set(Dt.key,qt)});let Et=Tt||x.actionData;De(Ta({navigation:yt},Et?Object.keys(Et).length===0?{actionData:null}:{actionData:Et}:{},ce.length>0?{fetchers:new Map(x.fetchers)}:{}),{flushSync:Xe})}ce.forEach(Et=>{Y.has(Et.key)&&X(Et.key),Et.controller&&Y.set(Et.key,Et.controller)});let be=()=>ce.forEach(Et=>X(Et.key));T&&T.signal.addEventListener("abort",be);let{results:Je,loaderResults:ft,fetcherResults:ct}=await q(x.matches,ve,pe,ce,ee);if(ee.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",be),ce.forEach(Et=>Y.delete(Et.key));let bt=LE(Je);if(bt){if(bt.idx>=pe.length){let Et=ce[bt.idx-pe.length].key;se.add(Et)}return await oe(x,bt.result,{replace:pt}),{shortCircuited:!0}}let{loaderData:ta,errors:xt}=DE(x,ve,pe,ft,Na,ce,ct,xe);xe.forEach((Et,Dt)=>{Et.subscribe(ia=>{(ia||Et.done)&&xe.delete(Dt)})}),c.v7_partialHydration&&at&&x.errors&&Object.entries(x.errors).filter(Et=>{let[Dt]=Et;return!pe.some(ia=>ia.route.id===Dt)}).forEach(Et=>{let[Dt,ia]=Et;xt=Object.assign(xt||{},{[Dt]:ia})});let Ct=ze(),ra=We(V),Ar=Ct||ra||ce.length>0;return Ta({loaderData:ta,errors:xt},Ar?{fetchers:new Map(x.fetchers)}:{})}function At(ee,re,ve,Se){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Y.has(ee)&&X(ee);let Ue=(Se&&Se.unstable_flushSync)===!0,nt=n||s,pt=Y2(x.location,x.matches,d,c.v7_prependBasename,ve,c.v7_relativeSplatPath,re,Se==null?void 0:Se.relative),at=Cl(nt,pt,d);if(!at){k(ee,re,Or(404,{pathname:pt}),{flushSync:Ue});return}let{path:Xe,submission:Tt,error:Na}=TE(c.v7_normalizeFormMethod,!0,pt,Se);if(Na){k(ee,re,Na,{flushSync:Ue});return}let yt=K2(at,Xe);if(A=(Se&&Se.preventScrollReset)===!0,Tt&&li(Tt.formMethod)){mt(ee,re,Xe,yt,at,Ue,Tt);return}J.set(ee,{routeId:re,path:Xe}),de(ee,re,Xe,yt,at,Ue,Tt)}async function mt(ee,re,ve,Se,Ue,nt,pt){if(E(),J.delete(ee),!Se.route.action&&!Se.route.lazy){let Dt=Or(405,{method:pt.formMethod,pathname:ve,routeId:re});k(ee,re,Dt,{flushSync:nt});return}let at=x.fetchers.get(ee);D(ee,az(pt,at),{flushSync:nt});let Xe=new AbortController,Tt=gm(t.history,ve,Xe.signal,pt);Y.set(ee,Xe);let Na=F,yt=await vm("action",Tt,Se,Ue,i,r,d,c.v7_relativeSplatPath);if(Tt.signal.aborted){Y.get(ee)===Xe&&Y.delete(ee);return}if(c.v7_fetcherPersist&&me.has(ee)){if(zd(yt)||Rl(yt)){D(ee,_n(void 0));return}}else{if(zd(yt))if(Y.delete(ee),V>Na){D(ee,_n(void 0));return}else return se.add(ee),D(ee,ym(pt)),oe(x,yt,{fetcherSubmission:pt});if(Rl(yt)){k(ee,re,yt.error);return}}if(Fd(yt))throw Or(400,{type:"defer-action"});let H=x.navigation.location||x.location,ie=gm(t.history,H,Xe.signal),pe=n||s,ce=x.navigation.state!=="idle"?Cl(pe,x.navigation.location,d):x.matches;Mt(ce,"Didn't find any matches after fetcher action");let be=++F;Z.set(ee,be);let Je=ym(pt,yt.data);x.fetchers.set(ee,Je);let[ft,ct]=CE(t.history,x,ce,pt,H,!1,N,z,$,me,J,se,pe,d,{[Se.route.id]:yt.data},void 0);ct.filter(Dt=>Dt.key!==ee).forEach(Dt=>{let ia=Dt.key,qt=x.fetchers.get(ia),on=ym(void 0,qt?qt.data:void 0);x.fetchers.set(ia,on),Y.has(ia)&&X(ia),Dt.controller&&Y.set(ia,Dt.controller)}),De({fetchers:new Map(x.fetchers)});let bt=()=>ct.forEach(Dt=>X(Dt.key));Xe.signal.addEventListener("abort",bt);let{results:ta,loaderResults:xt,fetcherResults:Ct}=await q(x.matches,ce,ft,ct,ie);if(Xe.signal.aborted)return;Xe.signal.removeEventListener("abort",bt),Z.delete(ee),Y.delete(ee),ct.forEach(Dt=>Y.delete(Dt.key));let ra=LE(ta);if(ra){if(ra.idx>=ft.length){let Dt=ct[ra.idx-ft.length].key;se.add(Dt)}return oe(x,ra.result)}let{loaderData:Ar,errors:Et}=DE(x,x.matches,ft,xt,void 0,ct,Ct,xe);if(x.fetchers.has(ee)){let Dt=_n(yt.data);x.fetchers.set(ee,Dt)}We(be),x.navigation.state==="loading"&&be>V?(Mt(w,"Expected pending action"),T&&T.abort(),Te(x.navigation.location,{matches:ce,loaderData:Ar,errors:Et,fetchers:new Map(x.fetchers)})):(De({errors:Et,loaderData:qE(x.loaderData,Ar,ce,Et),fetchers:new Map(x.fetchers)}),N=!1)}async function de(ee,re,ve,Se,Ue,nt,pt){let at=x.fetchers.get(ee);D(ee,ym(pt,at?at.data:void 0),{flushSync:nt});let Xe=new AbortController,Tt=gm(t.history,ve,Xe.signal);Y.set(ee,Xe);let Na=F,yt=await vm("loader",Tt,Se,Ue,i,r,d,c.v7_relativeSplatPath);if(Fd(yt)&&(yt=await PO(yt,Tt.signal,!0)||yt),Y.get(ee)===Xe&&Y.delete(ee),!Tt.signal.aborted){if(me.has(ee)){D(ee,_n(void 0));return}if(zd(yt))if(V>Na){D(ee,_n(void 0));return}else{se.add(ee),await oe(x,yt);return}if(Rl(yt)){k(ee,re,yt.error);return}Mt(!Fd(yt),"Unhandled fetcher deferred data"),D(ee,_n(yt.data))}}async function oe(ee,re,ve){let{submission:Se,fetcherSubmission:Ue,replace:nt}=ve===void 0?{}:ve;re.revalidate&&(N=!0);let pt=kp(ee.location,re.location,{_isRedirect:!0});if(Mt(pt,"Expected a location on the redirect navigation"),a){let H=!1;if(re.reloadDocument)H=!0;else if(OO.test(re.location)){const ie=t.history.createURL(re.location);H=ie.origin!==e.location.origin||Mu(ie.pathname,d)==null}if(H){nt?e.location.replace(re.location):e.location.assign(re.location);return}}T=null;let at=nt===!0?Oa.Replace:Oa.Push,{formMethod:Xe,formAction:Tt,formEncType:Na}=ee.navigation;!Se&&!Ue&&Xe&&Tt&&Na&&(Se=jE(ee.navigation));let yt=Se||Ue;if(VF.has(re.status)&&yt&&li(yt.formMethod))await tt(at,pt,{submission:Ta({},yt,{formAction:re.location}),preventScrollReset:A});else{let H=hb(pt,Se);await tt(at,pt,{overrideNavigation:H,fetcherSubmission:Ue,preventScrollReset:A})}}async function q(ee,re,ve,Se,Ue){let nt=await Promise.all([...ve.map(Xe=>vm("loader",Ue,Xe,re,i,r,d,c.v7_relativeSplatPath)),...Se.map(Xe=>Xe.matches&&Xe.match&&Xe.controller?vm("loader",gm(t.history,Xe.path,Xe.controller.signal),Xe.match,Xe.matches,i,r,d,c.v7_relativeSplatPath):{type:Ea.error,error:Or(404,{pathname:Xe.path})})]),pt=nt.slice(0,ve.length),at=nt.slice(ve.length);return await Promise.all([NE(ee,ve,pt,pt.map(()=>Ue.signal),!1,x.loaderData),NE(ee,Se.map(Xe=>Xe.match),at,Se.map(Xe=>Xe.controller?Xe.controller.signal:null),!0)]),{results:nt,loaderResults:pt,fetcherResults:at}}function E(){N=!0,z.push(...ae()),J.forEach((ee,re)=>{Y.has(re)&&($.push(re),X(re))})}function D(ee,re,ve){ve===void 0&&(ve={}),x.fetchers.set(ee,re),De({fetchers:new Map(x.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function k(ee,re,ve,Se){Se===void 0&&(Se={});let Ue=gp(x.matches,re);le(ee),De({errors:{[Ue.route.id]:ve},fetchers:new Map(x.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function K(ee){return c.v7_fetcherPersist&&(te.set(ee,(te.get(ee)||0)+1),me.has(ee)&&me.delete(ee)),x.fetchers.get(ee)||$F}function le(ee){let re=x.fetchers.get(ee);Y.has(ee)&&!(re&&re.state==="loading"&&Z.has(ee))&&X(ee),J.delete(ee),Z.delete(ee),se.delete(ee),me.delete(ee),x.fetchers.delete(ee)}function ge(ee){if(c.v7_fetcherPersist){let re=(te.get(ee)||0)-1;re<=0?(te.delete(ee),me.add(ee)):te.set(ee,re)}else le(ee);De({fetchers:new Map(x.fetchers)})}function X(ee){let re=Y.get(ee);Mt(re,"Expected fetch controller: "+ee),re.abort(),Y.delete(ee)}function Pe(ee){for(let re of ee){let ve=K(re),Se=_n(ve.data);x.fetchers.set(re,Se)}}function ze(){let ee=[],re=!1;for(let ve of se){let Se=x.fetchers.get(ve);Mt(Se,"Expected fetcher: "+ve),Se.state==="loading"&&(se.delete(ve),ee.push(ve),re=!0)}return Pe(ee),re}function We(ee){let re=[];for(let[ve,Se]of Z)if(Se<ee){let Ue=x.fetchers.get(ve);Mt(Ue,"Expected fetcher: "+ve),Ue.state==="loading"&&(X(ve),Z.delete(ve),re.push(ve))}return Pe(re),re.length>0}function ye(ee,re){let ve=x.blockers.get(ee)||hm;return Q.get(ee)!==re&&Q.set(ee,re),ve}function Ve(ee){x.blockers.delete(ee),Q.delete(ee)}function et(ee,re){let ve=x.blockers.get(ee)||hm;Mt(ve.state==="unblocked"&&re.state==="blocked"||ve.state==="blocked"&&re.state==="blocked"||ve.state==="blocked"&&re.state==="proceeding"||ve.state==="blocked"&&re.state==="unblocked"||ve.state==="proceeding"&&re.state==="unblocked","Invalid blocker state transition: "+ve.state+" -> "+re.state);let Se=new Map(x.blockers);Se.set(ee,re),De({blockers:Se})}function Ft(ee){let{currentLocation:re,nextLocation:ve,historyAction:Se}=ee;if(Q.size===0)return;Q.size>1&&ou(!1,"A router only supports one blocker at a time");let Ue=Array.from(Q.entries()),[nt,pt]=Ue[Ue.length-1],at=x.blockers.get(nt);if(!(at&&at.state==="proceeding")&&pt({currentLocation:re,nextLocation:ve,historyAction:Se}))return nt}function ae(ee){let re=[];return xe.forEach((ve,Se)=>{(!ee||ee(Se))&&(ve.cancel(),re.push(Se),xe.delete(Se))}),re}function He(ee,re,ve){if(u=ee,g=re,v=ve||null,!f&&x.navigation===fb){f=!0;let Se=Ne(x.location,x.matches);Se!=null&&De({restoreScrollPosition:Se})}return()=>{u=null,g=null,v=null}}function he(ee,re){return v&&v(ee,re.map(Se=>AO(Se,x.loaderData)))||ee.key}function Ze(ee,re){if(u&&g){let ve=he(ee,re);u[ve]=g()}}function Ne(ee,re){if(u){let ve=he(ee,re),Se=u[ve];if(typeof Se=="number")return Se}return null}function Xt(ee){i={},n=G2(ee,r,void 0,i)}return S={get basename(){return d},get future(){return c},get state(){return x},get routes(){return s},get window(){return e},initialize:Ae,subscribe:we,enableScrollRestoration:He,navigate:_e,fetch:At,revalidate:Qe,createHref:ee=>t.history.createHref(ee),encodeLocation:ee=>t.history.encodeLocation(ee),getFetcher:K,deleteFetcher:ge,dispose:Ce,getBlocker:ye,deleteBlocker:Ve,_internalFetchControllers:Y,_internalActiveDeferreds:xe,_internalSetRoutes:Xt},S}function GF(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Y2(t,e,a,o,r,i,s,n){let d,c;if(s){d=[];for(let m of e)if(d.push(m),m.route.id===s){c=m;break}}else d=e,c=e[e.length-1];let l=$0(r||".",V0(d,i),Mu(t.pathname,a)||t.pathname,n==="path");return r==null&&(l.search=t.search,l.hash=t.hash),(r==null||r===""||r===".")&&c&&c.route.index&&!_w(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),o&&a!=="/"&&(l.pathname=l.pathname==="/"?a:Ds([a,l.pathname])),nc(l)}function TE(t,e,a,o){if(!o||!GF(o))return{path:a};if(o.formMethod&&!ez(o.formMethod))return{path:a,error:Or(405,{method:o.formMethod})};let r=()=>({path:a,error:Or(400,{type:"invalid-body"})}),i=o.formMethod||"get",s=t?i.toUpperCase():i.toLowerCase(),n=qO(a);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!li(s))return r();let u=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((v,g)=>{let[f,p]=g;return""+v+f+"="+p+`
`},""):String(o.body);return{path:a,submission:{formMethod:s,formAction:n,formEncType:o.formEncType,formData:void 0,json:void 0,text:u}}}else if(o.formEncType==="application/json"){if(!li(s))return r();try{let u=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:a,submission:{formMethod:s,formAction:n,formEncType:o.formEncType,formData:void 0,json:u,text:void 0}}}catch{return r()}}}Mt(typeof FormData=="function","FormData is not available in this environment");let d,c;if(o.formData)d=Z2(o.formData),c=o.formData;else if(o.body instanceof FormData)d=Z2(o.body),c=o.body;else if(o.body instanceof URLSearchParams)d=o.body,c=IE(d);else if(o.body==null)d=new URLSearchParams,c=new FormData;else try{d=new URLSearchParams(o.body),c=IE(d)}catch{return r()}let l={formMethod:s,formAction:n,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(li(l.formMethod))return{path:a,submission:l};let m=Ys(a);return e&&m.search&&_w(m.search)&&d.append("index",""),m.search="?"+d,{path:nc(m),submission:l}}function YF(t,e){let a=t;if(e){let o=t.findIndex(r=>r.route.id===e);o>=0&&(a=t.slice(0,o))}return a}function CE(t,e,a,o,r,i,s,n,d,c,l,m,u,v,g,f){let p=f?Object.values(f)[0]:g?Object.values(g)[0]:void 0,h=t.createURL(e.location),y=t.createURL(r),b=f?Object.keys(f)[0]:void 0,S=YF(a,b).filter((w,A)=>{let{route:T}=w;if(T.lazy)return!0;if(T.loader==null)return!1;if(i)return T.loader.hydrate?!0:e.loaderData[T.id]===void 0&&(!e.errors||e.errors[T.id]===void 0);if(ZF(e.loaderData,e.matches[A],w)||n.some(U=>U===w.route.id))return!0;let O=e.matches[A],I=w;return RE(w,Ta({currentUrl:h,currentParams:O.params,nextUrl:y,nextParams:I.params},o,{actionResult:p,defaultShouldRevalidate:s||h.pathname+h.search===y.pathname+y.search||h.search!==y.search||DO(O,I)}))}),x=[];return l.forEach((w,A)=>{if(i||!a.some(B=>B.route.id===w.routeId)||c.has(A))return;let T=Cl(u,w.path,v);if(!T){x.push({key:A,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(A),I=K2(T,w.path),U=!1;m.has(A)?U=!1:d.includes(A)?U=!0:O&&O.state!=="idle"&&O.data===void 0?U=s:U=RE(I,Ta({currentUrl:h,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:a[a.length-1].params},o,{actionResult:p,defaultShouldRevalidate:s})),U&&x.push({key:A,routeId:w.routeId,path:w.path,matches:T,match:I,controller:new AbortController})}),[S,x]}function ZF(t,e,a){let o=!e||a.route.id!==e.route.id,r=t[a.route.id]===void 0;return o||r}function DO(t,e){let a=t.route.path;return t.pathname!==e.pathname||a!=null&&a.endsWith("*")&&t.params["*"]!==e.params["*"]}function RE(t,e){if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate(e);if(typeof a=="boolean")return a}return e.defaultShouldRevalidate}async function OE(t,e,a){if(!t.lazy)return;let o=await t.lazy();if(!t.lazy)return;let r=a[t.id];Mt(r,"No route found in manifest");let i={};for(let s in o){let d=r[s]!==void 0&&s!=="hasErrorBoundary";ou(!d,'Route "'+r.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!d&&!bF.has(s)&&(i[s]=o[s])}Object.assign(r,i),Object.assign(r,Ta({},e(r),{lazy:void 0}))}async function vm(t,e,a,o,r,i,s,n,d){d===void 0&&(d={});let c,l,m,u=f=>{let p,h=new Promise((y,b)=>p=b);return m=()=>p(),e.signal.addEventListener("abort",m),Promise.race([f({request:e,params:a.params,context:d.requestContext}),h])};try{let f=a.route[t];if(a.route.lazy)if(f){let p,h=await Promise.all([u(f).catch(y=>{p=y}),OE(a.route,i,r)]);if(p)throw p;l=h[0]}else if(await OE(a.route,i,r),f=a.route[t],f)l=await u(f);else if(t==="action"){let p=new URL(e.url),h=p.pathname+p.search;throw Or(405,{method:e.method,pathname:h,routeId:a.route.id})}else return{type:Ea.data,data:void 0};else if(f)l=await u(f);else{let p=new URL(e.url),h=p.pathname+p.search;throw Or(404,{pathname:h})}Mt(l!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+a.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){c=Ea.error,l=f}finally{m&&e.signal.removeEventListener("abort",m)}if(JF(l)){let f=l.status;if(UF.has(f)){let h=l.headers.get("Location");if(Mt(h,"Redirects returned/thrown from loaders/actions must have a Location header"),!OO.test(h))h=Y2(new URL(e.url),o.slice(0,o.indexOf(a)+1),s,!0,h,n);else if(!d.isStaticRequest){let y=new URL(e.url),b=h.startsWith("//")?new URL(y.protocol+h):new URL(h),_=Mu(b.pathname,s)!=null;b.origin===y.origin&&_&&(h=b.pathname+b.search+b.hash)}if(d.isStaticRequest)throw l.headers.set("Location",h),l;return{type:Ea.redirect,status:f,location:h,revalidate:l.headers.get("X-Remix-Revalidate")!==null,reloadDocument:l.headers.get("X-Remix-Reload-Document")!==null}}if(d.isRouteRequest)throw{type:c===Ea.error?Ea.error:Ea.data,response:l};let p;try{let h=l.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?l.body==null?p=null:p=await l.json():p=await l.text()}catch(h){return{type:Ea.error,error:h}}return c===Ea.error?{type:c,error:new bw(f,l.statusText,p),headers:l.headers}:{type:Ea.data,data:p,statusCode:l.status,headers:l.headers}}if(c===Ea.error)return{type:c,error:l};if(XF(l)){var v,g;return{type:Ea.deferred,deferredData:l,statusCode:(v=l.init)==null?void 0:v.status,headers:((g=l.init)==null?void 0:g.headers)&&new Headers(l.init.headers)}}return{type:Ea.data,data:l}}function gm(t,e,a,o){let r=t.createURL(qO(e)).toString(),i={signal:a};if(o&&li(o.formMethod)){let{formMethod:s,formEncType:n}=o;i.method=s.toUpperCase(),n==="application/json"?(i.headers=new Headers({"Content-Type":n}),i.body=JSON.stringify(o.json)):n==="text/plain"?i.body=o.text:n==="application/x-www-form-urlencoded"&&o.formData?i.body=Z2(o.formData):i.body=o.formData}return new Request(r,i)}function Z2(t){let e=new URLSearchParams;for(let[a,o]of t.entries())e.append(a,typeof o=="string"?o:o.name);return e}function IE(t){let e=new FormData;for(let[a,o]of t.entries())e.append(a,o);return e}function KF(t,e,a,o,r){let i={},s=null,n,d=!1,c={};return a.forEach((l,m)=>{let u=e[m].route.id;if(Mt(!zd(l),"Cannot handle redirect results in processLoaderData"),Rl(l)){let v=gp(t,u),g=l.error;o&&(g=Object.values(o)[0],o=void 0),s=s||{},s[v.route.id]==null&&(s[v.route.id]=g),i[u]=void 0,d||(d=!0,n=CO(l.error)?l.error.status:500),l.headers&&(c[u]=l.headers)}else Fd(l)?(r.set(u,l.deferredData),i[u]=l.deferredData.data):i[u]=l.data,l.statusCode!=null&&l.statusCode!==200&&!d&&(n=l.statusCode),l.headers&&(c[u]=l.headers)}),o&&(s=o,i[Object.keys(o)[0]]=void 0),{loaderData:i,errors:s,statusCode:n||200,loaderHeaders:c}}function DE(t,e,a,o,r,i,s,n){let{loaderData:d,errors:c}=KF(e,a,o,r,n);for(let l=0;l<i.length;l++){let{key:m,match:u,controller:v}=i[l];Mt(s!==void 0&&s[l]!==void 0,"Did not find corresponding fetcher result");let g=s[l];if(!(v&&v.signal.aborted))if(Rl(g)){let f=gp(t.matches,u==null?void 0:u.route.id);c&&c[f.route.id]||(c=Ta({},c,{[f.route.id]:g.error})),t.fetchers.delete(m)}else if(zd(g))Mt(!1,"Unhandled fetcher revalidation redirect");else if(Fd(g))Mt(!1,"Unhandled fetcher deferred data");else{let f=_n(g.data);t.fetchers.set(m,f)}}return{loaderData:d,errors:c}}function qE(t,e,a,o){let r=Ta({},e);for(let i of a){let s=i.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(r[s]=e[s]):t[s]!==void 0&&i.route.loader&&(r[s]=t[s]),o&&o.hasOwnProperty(s))break}return r}function gp(t,e){return(e?t.slice(0,t.findIndex(o=>o.route.id===e)+1):[...t]).reverse().find(o=>o.route.hasErrorBoundary===!0)||t[0]}function PE(t){let e=t.length===1?t[0]:t.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Or(t,e){let{pathname:a,routeId:o,method:r,type:i}=e===void 0?{}:e,s="Unknown Server Error",n="Unknown @remix-run/router error";return t===400?(s="Bad Request",r&&a&&o?n="You made a "+r+' request to "'+a+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":i==="defer-action"?n="defer() is not supported in actions":i==="invalid-body"&&(n="Unable to encode submission body")):t===403?(s="Forbidden",n='Route "'+o+'" does not match URL "'+a+'"'):t===404?(s="Not Found",n='No route matches URL "'+a+'"'):t===405&&(s="Method Not Allowed",r&&a&&o?n="You made a "+r.toUpperCase()+' request to "'+a+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":r&&(n='Invalid request method "'+r.toUpperCase()+'"')),new bw(t||500,s,new Error(n),!0)}function LE(t){for(let e=t.length-1;e>=0;e--){let a=t[e];if(zd(a))return{result:a,idx:e}}}function qO(t){let e=typeof t=="string"?Ys(t):t;return nc(Ta({},e,{hash:""}))}function QF(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Fd(t){return t.type===Ea.deferred}function Rl(t){return t.type===Ea.error}function zd(t){return(t&&t.type)===Ea.redirect}function XF(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function JF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function ez(t){return kF.has(t.toLowerCase())}function li(t){return zF.has(t.toLowerCase())}async function NE(t,e,a,o,r,i){for(let s=0;s<a.length;s++){let n=a[s],d=e[s];if(!d)continue;let c=t.find(m=>m.route.id===d.route.id),l=c!=null&&!DO(c,d)&&(i&&i[d.route.id])!==void 0;if(Fd(n)&&(r||l)){let m=o[s];Mt(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await PO(n,m,r).then(u=>{u&&(a[s]=u||a[s])})}}}async function PO(t,e,a){if(a===void 0&&(a=!1),!await t.deferredData.resolveData(e)){if(a)try{return{type:Ea.data,data:t.deferredData.unwrappedData}}catch(r){return{type:Ea.error,error:r}}return{type:Ea.data,data:t.deferredData.data}}}function _w(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function K2(t,e){let a=typeof e=="string"?Ys(e).search:e.search;if(t[t.length-1].route.index&&_w(a||""))return t[t.length-1];let o=TO(t);return o[o.length-1]}function jE(t){let{formMethod:e,formAction:a,formEncType:o,text:r,formData:i,json:s}=t;if(!(!e||!a||!o)){if(r!=null)return{formMethod:e,formAction:a,formEncType:o,formData:void 0,json:void 0,text:r};if(i!=null)return{formMethod:e,formAction:a,formEncType:o,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:a,formEncType:o,formData:void 0,json:s,text:void 0}}}function hb(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tz(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ym(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function az(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function _n(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function oz(t,e){try{let a=t.sessionStorage.getItem(IO);if(a){let o=JSON.parse(a);for(let[r,i]of Object.entries(o||{}))i&&Array.isArray(i)&&e.set(r,new Set(i||[]))}}catch{}}function rz(t,e){if(e.size>0){let a={};for(let[o,r]of e)a[o]=[...r];try{t.sessionStorage.setItem(IO,JSON.stringify(a))}catch(o){ou(!1,"Failed to save applied view transitions in sessionStorage ("+o+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},Up.apply(this,arguments)}const H0=M.createContext(null),LO=M.createContext(null),dd=M.createContext(null),W0=M.createContext(null),os=M.createContext({outlet:null,matches:[],isDataRoute:!1}),NO=M.createContext(null);function iz(t,e){let{relative:a}=e===void 0?{}:e;Tu()||Mt(!1);let{basename:o,navigator:r}=M.useContext(dd),{hash:i,pathname:s,search:n}=FO(t,{relative:a}),d=s;return o!=="/"&&(d=s==="/"?o:Ds([o,s])),r.createHref({pathname:d,search:n,hash:i})}function Tu(){return M.useContext(W0)!=null}function Tc(){return Tu()||Mt(!1),M.useContext(W0).location}function jO(t){M.useContext(dd).static||M.useLayoutEffect(t)}function G0(){let{isDataRoute:t}=M.useContext(os);return t?bz():sz()}function sz(){Tu()||Mt(!1);let t=M.useContext(H0),{basename:e,future:a,navigator:o}=M.useContext(dd),{matches:r}=M.useContext(os),{pathname:i}=Tc(),s=JSON.stringify(V0(r,a.v7_relativeSplatPath)),n=M.useRef(!1);return jO(()=>{n.current=!0}),M.useCallback(function(c,l){if(l===void 0&&(l={}),!n.current)return;if(typeof c=="number"){o.go(c);return}let m=$0(c,JSON.parse(s),i,l.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ds([e,m.pathname])),(l.replace?o.replace:o.push)(m,l.state,l)},[e,o,s,i,t])}const nz=M.createContext(null);function dz(t){let e=M.useContext(os).outlet;return e&&M.createElement(nz.Provider,{value:t},e)}function cz(){let{matches:t}=M.useContext(os),e=t[t.length-1];return e?e.params:{}}function FO(t,e){let{relative:a}=e===void 0?{}:e,{future:o}=M.useContext(dd),{matches:r}=M.useContext(os),{pathname:i}=Tc(),s=JSON.stringify(V0(r,o.v7_relativeSplatPath));return M.useMemo(()=>$0(t,JSON.parse(s),i,a==="path"),[t,s,i,a])}function lz(t,e,a,o){Tu()||Mt(!1);let{navigator:r}=M.useContext(dd),{matches:i}=M.useContext(os),s=i[i.length-1],n=s?s.params:{};s&&s.pathname;let d=s?s.pathnameBase:"/";s&&s.route;let c=Tc(),l;if(e){var m;let p=typeof e=="string"?Ys(e):e;d==="/"||(m=p.pathname)!=null&&m.startsWith(d)||Mt(!1),l=p}else l=c;let u=l.pathname||"/",v=u;if(d!=="/"){let p=d.replace(/^\//,"").split("/");v="/"+u.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=Cl(t,{pathname:v}),f=hz(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},n,p.params),pathname:Ds([d,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:Ds([d,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,a,o);return e&&f?M.createElement(W0.Provider,{value:{location:Up({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:Oa.Pop}},f):f}function uz(){let t=UO(),e=CO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),a?M.createElement("pre",{style:r},a):null,null)}const mz=M.createElement(uz,null);class pz extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){console.error("React Router caught the following error during render",e,a)}render(){return this.state.error!==void 0?M.createElement(os.Provider,{value:this.props.routeContext},M.createElement(NO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fz(t){let{routeContext:e,match:a,children:o}=t,r=M.useContext(H0);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),M.createElement(os.Provider,{value:e},o)}function hz(t,e,a,o){var r;if(e===void 0&&(e=[]),a===void 0&&(a=null),o===void 0&&(o=null),t==null){var i;if((i=a)!=null&&i.errors)t=a.matches;else return null}let s=t,n=(r=a)==null?void 0:r.errors;if(n!=null){let l=s.findIndex(m=>m.route.id&&(n==null?void 0:n[m.route.id]));l>=0||Mt(!1),s=s.slice(0,Math.min(s.length,l+1))}let d=!1,c=-1;if(a&&o&&o.v7_partialHydration)for(let l=0;l<s.length;l++){let m=s[l];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=l),m.route.id){let{loaderData:u,errors:v}=a,g=m.route.loader&&u[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||g){d=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((l,m,u)=>{let v,g=!1,f=null,p=null;a&&(v=n&&m.route.id?n[m.route.id]:void 0,f=m.route.errorElement||mz,d&&(c<0&&u===0?(_z("route-fallback",!1),g=!0,p=null):c===u&&(g=!0,p=m.route.hydrateFallbackElement||null)));let h=e.concat(s.slice(0,u+1)),y=()=>{let b;return v?b=f:g?b=p:m.route.Component?b=M.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=l,M.createElement(fz,{match:m,routeContext:{outlet:l,matches:h,isDataRoute:a!=null},children:b})};return a&&(m.route.ErrorBoundary||m.route.errorElement||u===0)?M.createElement(pz,{location:a.location,revalidation:a.revalidation,component:f,error:v,children:y(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):y()},null)}var zO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zO||{}),Vp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vp||{});function vz(t){let e=M.useContext(H0);return e||Mt(!1),e}function BO(t){let e=M.useContext(LO);return e||Mt(!1),e}function gz(t){let e=M.useContext(os);return e||Mt(!1),e}function kO(t){let e=gz(),a=e.matches[e.matches.length-1];return a.route.id||Mt(!1),a.route.id}function yz(){let{matches:t,loaderData:e}=BO(Vp.UseMatches);return M.useMemo(()=>t.map(a=>AO(a,e)),[t,e])}function UO(){var t;let e=M.useContext(NO),a=BO(Vp.UseRouteError),o=kO(Vp.UseRouteError);return e!==void 0?e:(t=a.errors)==null?void 0:t[o]}function bz(){let{router:t}=vz(zO.UseNavigateStable),e=kO(Vp.UseNavigateStable),a=M.useRef(!1);return jO(()=>{a.current=!0}),M.useCallback(function(r,i){i===void 0&&(i={}),a.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Up({fromRouteId:e},i)))},[t,e])}const FE={};function _z(t,e,a){!e&&!FE[t]&&(FE[t]=!0)}function xz(t){let{to:e,replace:a,state:o,relative:r}=t;Tu()||Mt(!1);let{future:i,static:s}=M.useContext(dd),{matches:n}=M.useContext(os),{pathname:d}=Tc(),c=G0(),l=$0(e,V0(n,i.v7_relativeSplatPath),d,r==="path"),m=JSON.stringify(l);return M.useEffect(()=>c(JSON.parse(m),{replace:a,state:o,relative:r}),[c,m,r,a,o]),null}function wz(t){return dz(t.context)}function Sz(t){let{basename:e="/",children:a=null,location:o,navigationType:r=Oa.Pop,navigator:i,static:s=!1,future:n}=t;Tu()&&Mt(!1);let d=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:d,navigator:i,static:s,future:Up({v7_relativeSplatPath:!1},n)}),[d,n,i,s]);typeof o=="string"&&(o=Ys(o));let{pathname:l="/",search:m="",hash:u="",state:v=null,key:g="default"}=o,f=M.useMemo(()=>{let p=Mu(l,d);return p==null?null:{location:{pathname:p,search:m,hash:u,state:v,key:g},navigationType:r}},[d,l,m,u,v,g,r]);return f==null?null:M.createElement(dd.Provider,{value:c},M.createElement(W0.Provider,{children:a,value:f}))}new Promise(()=>{});function Az(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},$p.apply(this,arguments)}function Ez(t,e){if(t==null)return{};var a={},o=Object.keys(t),r,i;for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(a[r]=t[r]);return a}function Mz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Tz(t,e){return t.button===0&&(!e||e==="_self")&&!Mz(t)}const Cz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Rz="6";try{window.__reactRouterVersion=Rz}catch{}function Oz(t,e){return WF({basename:e==null?void 0:e.basename,future:$p({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:vF({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Iz(),routes:t,mapRouteProperties:Az,window:e==null?void 0:e.window}).initialize()}function Iz(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=$p({},e,{errors:Dz(e.errors)})),e}function Dz(t){if(!t)return null;let e=Object.entries(t),a={};for(let[o,r]of e)if(r&&r.__type==="RouteErrorResponse")a[o]=new bw(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let i=window[r.__subType];if(typeof i=="function")try{let s=new i(r.message);s.stack="",a[o]=s}catch{}}if(a[o]==null){let i=new Error(r.message);i.stack="",a[o]=i}}else a[o]=r;return a}const qz=M.createContext({isTransitioning:!1}),Pz=M.createContext(new Map),Lz="startTransition",zE=Yl[Lz],Nz="flushSync",BE=Hj[Nz];function jz(t){zE?zE(t):t()}function bm(t){BE?BE(t):t()}class Fz{constructor(){this.status="pending",this.promise=new Promise((e,a)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",a(o))}})}}function zz(t){let{fallbackElement:e,router:a,future:o}=t,[r,i]=M.useState(a.state),[s,n]=M.useState(),[d,c]=M.useState({isTransitioning:!1}),[l,m]=M.useState(),[u,v]=M.useState(),[g,f]=M.useState(),p=M.useRef(new Map),{v7_startTransition:h}=o||{},y=M.useCallback(w=>{h?jz(w):w()},[h]),b=M.useCallback((w,A)=>{let{deletedFetchers:T,unstable_flushSync:O,unstable_viewTransitionOpts:I}=A;T.forEach(B=>p.current.delete(B)),w.fetchers.forEach((B,N)=>{B.data!==void 0&&p.current.set(N,B.data)});let U=a.window==null||typeof a.window.document.startViewTransition!="function";if(!I||U){O?bm(()=>i(w)):y(()=>i(w));return}if(O){bm(()=>{u&&(l&&l.resolve(),u.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let B=a.window.document.startViewTransition(()=>{bm(()=>i(w))});B.finished.finally(()=>{bm(()=>{m(void 0),v(void 0),n(void 0),c({isTransitioning:!1})})}),bm(()=>v(B));return}u?(l&&l.resolve(),u.skipTransition(),f({state:w,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(n(w),c({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[a.window,u,l,p,y]);M.useLayoutEffect(()=>a.subscribe(b),[a,b]),M.useEffect(()=>{d.isTransitioning&&!d.flushSync&&m(new Fz)},[d]),M.useEffect(()=>{if(l&&s&&a.window){let w=s,A=l.promise,T=a.window.document.startViewTransition(async()=>{y(()=>i(w)),await A});T.finished.finally(()=>{m(void 0),v(void 0),n(void 0),c({isTransitioning:!1})}),v(T)}},[y,s,l,a.window]),M.useEffect(()=>{l&&s&&r.location.key===s.location.key&&l.resolve()},[l,u,r.location,s]),M.useEffect(()=>{!d.isTransitioning&&g&&(n(g.state),c({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),f(void 0))},[d.isTransitioning,g]),M.useEffect(()=>{},[]);let _=M.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:w=>a.navigate(w),push:(w,A,T)=>a.navigate(w,{state:A,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(w,A,T)=>a.navigate(w,{replace:!0,state:A,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[a]),S=a.basename||"/",x=M.useMemo(()=>({router:a,navigator:_,static:!1,basename:S}),[a,_,S]);return M.createElement(M.Fragment,null,M.createElement(H0.Provider,{value:x},M.createElement(LO.Provider,{value:r},M.createElement(Pz.Provider,{value:p.current},M.createElement(qz.Provider,{value:d},M.createElement(Sz,{basename:S,location:r.location,navigationType:r.historyAction,navigator:_,future:{v7_relativeSplatPath:a.future.v7_relativeSplatPath}},r.initialized||a.future.v7_partialHydration?M.createElement(Bz,{routes:a.routes,future:a.future,state:r}):e))))),null)}function Bz(t){let{routes:e,future:a,state:o}=t;return lz(e,void 0,o,a)}const kz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xw=M.forwardRef(function(e,a){let{onClick:o,relative:r,reloadDocument:i,replace:s,state:n,target:d,to:c,preventScrollReset:l,unstable_viewTransition:m}=e,u=Ez(e,Cz),{basename:v}=M.useContext(dd),g,f=!1;if(typeof c=="string"&&Uz.test(c)&&(g=c,kz))try{let b=new URL(window.location.href),_=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=Mu(_.pathname,v);_.origin===b.origin&&S!=null?c=S+_.search+_.hash:f=!0}catch{}let p=iz(c,{relative:r}),h=Vz(c,{replace:s,state:n,target:d,preventScrollReset:l,relative:r,unstable_viewTransition:m});function y(b){o&&o(b),b.defaultPrevented||h(b)}return M.createElement("a",$p({},u,{href:g||p,onClick:f||i?o:y,ref:a,target:d}))});var kE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kE||(kE={}));var UE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(UE||(UE={}));function Vz(t,e){let{target:a,replace:o,state:r,preventScrollReset:i,relative:s,unstable_viewTransition:n}=e===void 0?{}:e,d=G0(),c=Tc(),l=FO(t,{relative:s});return M.useCallback(m=>{if(Tz(m,a)){m.preventDefault();let u=o!==void 0?o:nc(c)===nc(l);d(t,{replace:u,state:r,preventScrollReset:i,relative:s,unstable_viewTransition:n})}},[c,d,l,o,r,a,t,i,s,n])}const $z="modulepreload",Hz=function(t){return"/tagmar_pwa/"+t},VE={},Wz=function(e,a,o){let r=Promise.resolve();if(a&&a.length>0){const i=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),n=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(a.map(d=>{if(d=Hz(d),d in VE)return;VE[d]=!0;const c=d.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(!!o)for(let v=i.length-1;v>=0;v--){const g=i[v];if(g.href===d&&(!c||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${l}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":$z,c||(u.as="script",u.crossOrigin=""),u.href=d,n&&u.setAttribute("nonce",n),document.head.appendChild(u),c)return new Promise((v,g)=>{u.addEventListener("load",v),u.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}return r.then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};function Gz(t={}){const{immediate:e=!1,onNeedRefresh:a,onOfflineReady:o,onRegistered:r,onRegisteredSW:i,onRegisterError:s}=t;let n,d,c;const l=async(u=!0)=>{await d,await(c==null?void 0:c())};async function m(){if("serviceWorker"in navigator){if(n=await Wz(()=>import("./workbox-window.prod.es5-DFjpnwFp.js"),__vite__mapDeps([])).then(({Workbox:u})=>new u("/tagmar_pwa/sw.js",{scope:"/tagmar_pwa/",type:"classic"})).catch(u=>{s==null||s(u)}),!n)return;c=async()=>{await(n==null?void 0:n.messageSkipWaiting())};{let u=!1;const v=()=>{u=!0,n==null||n.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),a==null||a()};n.addEventListener("installed",g=>{typeof g.isUpdate>"u"?typeof g.isExternal<"u"?g.isExternal?v():!u&&(o==null||o()):g.isExternal?window.location.reload():!u&&(o==null||o()):g.isUpdate||o==null||o()}),n.addEventListener("waiting",v),n.addEventListener("externalwaiting",v)}n.register({immediate:e}).then(u=>{i?i("/tagmar_pwa/sw.js",u):r==null||r(u)}).catch(u=>{s==null||s(u)})}}return d=m(),l}const Yz={black:"#000",white:"#fff"},Hp=Yz,Zz={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Lc=Zz,Kz={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Nc=Kz,Qz={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},jc=Qz,Xz={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Fc=Xz,Jz={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},zc=Jz,eB={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_m=eB,tB={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},aB=tB;function dc(t){let e="https://mui.com/production-error/?code="+t;for(let a=1;a<arguments.length;a+=1)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const oB=Object.freeze(Object.defineProperty({__proto__:null,default:dc},Symbol.toStringTag,{value:"Module"})),cc="$$material";function j(){return j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},j.apply(this,arguments)}function Ie(t,e){if(t==null)return{};var a={},o=Object.keys(t),r,i;for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(a[r]=t[r]);return a}function VO(t){var e=Object.create(null);return function(a){return e[a]===void 0&&(e[a]=t(a)),e[a]}}var rB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,iB=VO(function(t){return rB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function sB(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function nB(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dB=function(){function t(a){var o=this;this._insertTag=function(r){var i;o.tags.length===0?o.insertionPoint?i=o.insertionPoint.nextSibling:o.prepend?i=o.container.firstChild:i=o.before:i=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(r,i),o.tags.push(r)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(o){o.forEach(this._insertTag)},e.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nB(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=sB(r);try{i.insertRule(o,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(o));this.ctr++},e.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},t}(),go="-ms-",Pg="-moz-",Ut="-webkit-",$O="comm",ww="rule",Sw="decl",cB="@import",HO="@keyframes",lB="@layer",uB=Math.abs,Y0=String.fromCharCode,mB=Object.assign;function pB(t,e){return co(t,0)^45?(((e<<2^co(t,0))<<2^co(t,1))<<2^co(t,2))<<2^co(t,3):0}function WO(t){return t.trim()}function fB(t,e){return(t=e.exec(t))?t[0]:t}function Vt(t,e,a){return t.replace(e,a)}function Q2(t,e){return t.indexOf(e)}function co(t,e){return t.charCodeAt(e)|0}function Wp(t,e,a){return t.slice(e,a)}function ki(t){return t.length}function Aw(t){return t.length}function kh(t,e){return e.push(t),t}function hB(t,e){return t.map(e).join("")}var Z0=1,ru=1,GO=0,Zo=0,ka=0,Cu="";function K0(t,e,a,o,r,i,s){return{value:t,root:e,parent:a,type:o,props:r,children:i,line:Z0,column:ru,length:s,return:""}}function xm(t,e){return mB(K0("",null,null,"",null,null,0),t,{length:-t.length},e)}function vB(){return ka}function gB(){return ka=Zo>0?co(Cu,--Zo):0,ru--,ka===10&&(ru=1,Z0--),ka}function pr(){return ka=Zo<GO?co(Cu,Zo++):0,ru++,ka===10&&(ru=1,Z0++),ka}function Qi(){return co(Cu,Zo)}function Yv(){return Zo}function Mf(t,e){return Wp(Cu,t,e)}function Gp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YO(t){return Z0=ru=1,GO=ki(Cu=t),Zo=0,[]}function ZO(t){return Cu="",t}function Zv(t){return WO(Mf(Zo-1,X2(t===91?t+2:t===40?t+1:t)))}function yB(t){for(;(ka=Qi())&&ka<33;)pr();return Gp(t)>2||Gp(ka)>3?"":" "}function bB(t,e){for(;--e&&pr()&&!(ka<48||ka>102||ka>57&&ka<65||ka>70&&ka<97););return Mf(t,Yv()+(e<6&&Qi()==32&&pr()==32))}function X2(t){for(;pr();)switch(ka){case t:return Zo;case 34:case 39:t!==34&&t!==39&&X2(ka);break;case 40:t===41&&X2(t);break;case 92:pr();break}return Zo}function _B(t,e){for(;pr()&&t+ka!==57;)if(t+ka===84&&Qi()===47)break;return"/*"+Mf(e,Zo-1)+"*"+Y0(t===47?t:pr())}function xB(t){for(;!Gp(Qi());)pr();return Mf(t,Zo)}function wB(t){return ZO(Kv("",null,null,null,[""],t=YO(t),0,[0],t))}function Kv(t,e,a,o,r,i,s,n,d){for(var c=0,l=0,m=s,u=0,v=0,g=0,f=1,p=1,h=1,y=0,b="",_=r,S=i,x=o,w=b;p;)switch(g=y,y=pr()){case 40:if(g!=108&&co(w,m-1)==58){Q2(w+=Vt(Zv(y),"&","&\f"),"&\f")!=-1&&(h=-1);break}case 34:case 39:case 91:w+=Zv(y);break;case 9:case 10:case 13:case 32:w+=yB(g);break;case 92:w+=bB(Yv()-1,7);continue;case 47:switch(Qi()){case 42:case 47:kh(SB(_B(pr(),Yv()),e,a),d);break;default:w+="/"}break;case 123*f:n[c++]=ki(w)*h;case 125*f:case 59:case 0:switch(y){case 0:case 125:p=0;case 59+l:h==-1&&(w=Vt(w,/\f/g,"")),v>0&&ki(w)-m&&kh(v>32?HE(w+";",o,a,m-1):HE(Vt(w," ","")+";",o,a,m-2),d);break;case 59:w+=";";default:if(kh(x=$E(w,e,a,c,l,r,n,b,_=[],S=[],m),i),y===123)if(l===0)Kv(w,e,x,x,_,i,m,n,S);else switch(u===99&&co(w,3)===110?100:u){case 100:case 108:case 109:case 115:Kv(t,x,x,o&&kh($E(t,x,x,0,0,r,n,b,r,_=[],m),S),r,S,m,n,o?_:S);break;default:Kv(w,x,x,x,[""],S,0,n,S)}}c=l=v=0,f=h=1,b=w="",m=s;break;case 58:m=1+ki(w),v=g;default:if(f<1){if(y==123)--f;else if(y==125&&f++==0&&gB()==125)continue}switch(w+=Y0(y),y*f){case 38:h=l>0?1:(w+="\f",-1);break;case 44:n[c++]=(ki(w)-1)*h,h=1;break;case 64:Qi()===45&&(w+=Zv(pr())),u=Qi(),l=m=ki(b=w+=xB(Yv())),y++;break;case 45:g===45&&ki(w)==2&&(f=0)}}return i}function $E(t,e,a,o,r,i,s,n,d,c,l){for(var m=r-1,u=r===0?i:[""],v=Aw(u),g=0,f=0,p=0;g<o;++g)for(var h=0,y=Wp(t,m+1,m=uB(f=s[g])),b=t;h<v;++h)(b=WO(f>0?u[h]+" "+y:Vt(y,/&\f/g,u[h])))&&(d[p++]=b);return K0(t,e,a,r===0?ww:n,d,c,l)}function SB(t,e,a){return K0(t,e,a,$O,Y0(vB()),Wp(t,2,-2),0)}function HE(t,e,a,o){return K0(t,e,a,Sw,Wp(t,0,o),Wp(t,o+1,-1),o)}function Vl(t,e){for(var a="",o=Aw(t),r=0;r<o;r++)a+=e(t[r],r,t,e)||"";return a}function AB(t,e,a,o){switch(t.type){case lB:if(t.children.length)break;case cB:case Sw:return t.return=t.return||t.value;case $O:return"";case HO:return t.return=t.value+"{"+Vl(t.children,o)+"}";case ww:t.value=t.props.join(",")}return ki(a=Vl(t.children,o))?t.return=t.value+"{"+a+"}":""}function EB(t){var e=Aw(t);return function(a,o,r,i){for(var s="",n=0;n<e;n++)s+=t[n](a,o,r,i)||"";return s}}function MB(t){return function(e){e.root||(e=e.return)&&t(e)}}var TB=function(e,a,o){for(var r=0,i=0;r=i,i=Qi(),r===38&&i===12&&(a[o]=1),!Gp(i);)pr();return Mf(e,Zo)},CB=function(e,a){var o=-1,r=44;do switch(Gp(r)){case 0:r===38&&Qi()===12&&(a[o]=1),e[o]+=TB(Zo-1,a,o);break;case 2:e[o]+=Zv(r);break;case 4:if(r===44){e[++o]=Qi()===58?"&\f":"",a[o]=e[o].length;break}default:e[o]+=Y0(r)}while(r=pr());return e},RB=function(e,a){return ZO(CB(YO(e),a))},WE=new WeakMap,OB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var a=e.value,o=e.parent,r=e.column===o.column&&e.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(e.props.length===1&&a.charCodeAt(0)!==58&&!WE.get(o))&&!r){WE.set(e,!0);for(var i=[],s=RB(a,i),n=o.props,d=0,c=0;d<s.length;d++)for(var l=0;l<n.length;l++,c++)e.props[c]=i[d]?s[d].replace(/&\f/g,n[l]):n[l]+" "+s[d]}}},IB=function(e){if(e.type==="decl"){var a=e.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(e.return="",e.value="")}};function KO(t,e){switch(pB(t,e)){case 5103:return Ut+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+t+Pg+t+go+t+t;case 6828:case 4268:return Ut+t+go+t+t;case 6165:return Ut+t+go+"flex-"+t+t;case 5187:return Ut+t+Vt(t,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+go+"flex-$1$2")+t;case 5443:return Ut+t+go+"flex-item-"+Vt(t,/flex-|-self/,"")+t;case 4675:return Ut+t+go+"flex-line-pack"+Vt(t,/align-content|flex-|-self/,"")+t;case 5548:return Ut+t+go+Vt(t,"shrink","negative")+t;case 5292:return Ut+t+go+Vt(t,"basis","preferred-size")+t;case 6060:return Ut+"box-"+Vt(t,"-grow","")+Ut+t+go+Vt(t,"grow","positive")+t;case 4554:return Ut+Vt(t,/([^-])(transform)/g,"$1"+Ut+"$2")+t;case 6187:return Vt(Vt(Vt(t,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),t,"")+t;case 5495:case 3959:return Vt(t,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return Vt(Vt(t,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+go+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+t+t;case 4095:case 3583:case 4068:case 2532:return Vt(t,/(.+)-inline(.+)/,Ut+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ki(t)-1-e>6)switch(co(t,e+1)){case 109:if(co(t,e+4)!==45)break;case 102:return Vt(t,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+Pg+(co(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Q2(t,"stretch")?KO(Vt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(co(t,e+1)!==115)break;case 6444:switch(co(t,ki(t)-3-(~Q2(t,"!important")&&10))){case 107:return Vt(t,":",":"+Ut)+t;case 101:return Vt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(co(t,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+go+"$2box$3")+t}break;case 5936:switch(co(t,e+11)){case 114:return Ut+t+go+Vt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ut+t+go+Vt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ut+t+go+Vt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ut+t+go+t+t}return t}var DB=function(e,a,o,r){if(e.length>-1&&!e.return)switch(e.type){case Sw:e.return=KO(e.value,e.length);break;case HO:return Vl([xm(e,{value:Vt(e.value,"@","@"+Ut)})],r);case ww:if(e.length)return hB(e.props,function(i){switch(fB(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vl([xm(e,{props:[Vt(i,/:(read-\w+)/,":"+Pg+"$1")]})],r);case"::placeholder":return Vl([xm(e,{props:[Vt(i,/:(plac\w+)/,":"+Ut+"input-$1")]}),xm(e,{props:[Vt(i,/:(plac\w+)/,":"+Pg+"$1")]}),xm(e,{props:[Vt(i,/:(plac\w+)/,go+"input-$1")]})],r)}return""})}},qB=[DB],QO=function(e){var a=e.key;if(a==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(f){var p=f.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(f),f.setAttribute("data-s",""))})}var r=e.stylisPlugins||qB,i={},s,n=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(f){for(var p=f.getAttribute("data-emotion").split(" "),h=1;h<p.length;h++)i[p[h]]=!0;n.push(f)});var d,c=[OB,IB];{var l,m=[AB,MB(function(f){l.insert(f)})],u=EB(c.concat(r,m)),v=function(p){return Vl(wB(p),u)};d=function(p,h,y,b){l=y,v(p?p+"{"+h.styles+"}":h.styles),b&&(g.inserted[h.name]=!0)}}var g={key:a,sheet:new dB({key:a,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:d};return g.sheet.hydrate(n),g},XO={exports:{}},Zt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=typeof Symbol=="function"&&Symbol.for,Ew=io?Symbol.for("react.element"):60103,Mw=io?Symbol.for("react.portal"):60106,Q0=io?Symbol.for("react.fragment"):60107,X0=io?Symbol.for("react.strict_mode"):60108,J0=io?Symbol.for("react.profiler"):60114,e1=io?Symbol.for("react.provider"):60109,t1=io?Symbol.for("react.context"):60110,Tw=io?Symbol.for("react.async_mode"):60111,a1=io?Symbol.for("react.concurrent_mode"):60111,o1=io?Symbol.for("react.forward_ref"):60112,r1=io?Symbol.for("react.suspense"):60113,PB=io?Symbol.for("react.suspense_list"):60120,i1=io?Symbol.for("react.memo"):60115,s1=io?Symbol.for("react.lazy"):60116,LB=io?Symbol.for("react.block"):60121,NB=io?Symbol.for("react.fundamental"):60117,jB=io?Symbol.for("react.responder"):60118,FB=io?Symbol.for("react.scope"):60119;function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ew:switch(t=t.type,t){case Tw:case a1:case Q0:case J0:case X0:case r1:return t;default:switch(t=t&&t.$$typeof,t){case t1:case o1:case s1:case i1:case e1:return t;default:return e}}case Mw:return e}}}function JO(t){return xr(t)===a1}Zt.AsyncMode=Tw;Zt.ConcurrentMode=a1;Zt.ContextConsumer=t1;Zt.ContextProvider=e1;Zt.Element=Ew;Zt.ForwardRef=o1;Zt.Fragment=Q0;Zt.Lazy=s1;Zt.Memo=i1;Zt.Portal=Mw;Zt.Profiler=J0;Zt.StrictMode=X0;Zt.Suspense=r1;Zt.isAsyncMode=function(t){return JO(t)||xr(t)===Tw};Zt.isConcurrentMode=JO;Zt.isContextConsumer=function(t){return xr(t)===t1};Zt.isContextProvider=function(t){return xr(t)===e1};Zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ew};Zt.isForwardRef=function(t){return xr(t)===o1};Zt.isFragment=function(t){return xr(t)===Q0};Zt.isLazy=function(t){return xr(t)===s1};Zt.isMemo=function(t){return xr(t)===i1};Zt.isPortal=function(t){return xr(t)===Mw};Zt.isProfiler=function(t){return xr(t)===J0};Zt.isStrictMode=function(t){return xr(t)===X0};Zt.isSuspense=function(t){return xr(t)===r1};Zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Q0||t===a1||t===J0||t===X0||t===r1||t===PB||typeof t=="object"&&t!==null&&(t.$$typeof===s1||t.$$typeof===i1||t.$$typeof===e1||t.$$typeof===t1||t.$$typeof===o1||t.$$typeof===NB||t.$$typeof===jB||t.$$typeof===FB||t.$$typeof===LB)};Zt.typeOf=xr;XO.exports=Zt;var zB=XO.exports,eI=zB,BB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tI={};tI[eI.ForwardRef]=BB;tI[eI.Memo]=kB;var UB=!0;function VB(t,e,a){var o="";return a.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):o+=r+" "}),o}var aI=function(e,a,o){var r=e.key+"-"+a.name;(o===!1||UB===!1)&&e.registered[r]===void 0&&(e.registered[r]=a.styles)},oI=function(e,a,o){aI(e,a,o);var r=e.key+"-"+a.name;if(e.inserted[a.name]===void 0){var i=a;do e.insert(a===i?"."+r:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function $B(t){for(var e=0,a,o=0,r=t.length;r>=4;++o,r-=4)a=t.charCodeAt(o)&255|(t.charCodeAt(++o)&255)<<8|(t.charCodeAt(++o)&255)<<16|(t.charCodeAt(++o)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,e=(a&65535)*1540483477+((a>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(o+2)&255)<<16;case 2:e^=(t.charCodeAt(o+1)&255)<<8;case 1:e^=t.charCodeAt(o)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var HB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WB=/[A-Z]|^ms/g,GB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rI=function(e){return e.charCodeAt(1)===45},GE=function(e){return e!=null&&typeof e!="boolean"},vb=VO(function(t){return rI(t)?t:t.replace(WB,"-$&").toLowerCase()}),YE=function(e,a){switch(e){case"animation":case"animationName":if(typeof a=="string")return a.replace(GB,function(o,r,i){return Ui={name:r,styles:i,next:Ui},r})}return HB[e]!==1&&!rI(e)&&typeof a=="number"&&a!==0?a+"px":a};function Yp(t,e,a){if(a==null)return"";if(a.__emotion_styles!==void 0)return a;switch(typeof a){case"boolean":return"";case"object":{if(a.anim===1)return Ui={name:a.name,styles:a.styles,next:Ui},a.name;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Ui={name:o.name,styles:o.styles,next:Ui},o=o.next;var r=a.styles+";";return r}return YB(t,e,a)}case"function":{if(t!==void 0){var i=Ui,s=a(t);return Ui=i,Yp(t,e,s)}break}}if(e==null)return a;var n=e[a];return n!==void 0?n:a}function YB(t,e,a){var o="";if(Array.isArray(a))for(var r=0;r<a.length;r++)o+=Yp(t,e,a[r])+";";else for(var i in a){var s=a[i];if(typeof s!="object")e!=null&&e[s]!==void 0?o+=i+"{"+e[s]+"}":GE(s)&&(o+=vb(i)+":"+YE(i,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var n=0;n<s.length;n++)GE(s[n])&&(o+=vb(i)+":"+YE(i,s[n])+";");else{var d=Yp(t,e,s);switch(i){case"animation":case"animationName":{o+=vb(i)+":"+d+";";break}default:o+=i+"{"+d+"}"}}}return o}var ZE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ui,Cw=function(e,a,o){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Ui=void 0;var s=e[0];s==null||s.raw===void 0?(r=!1,i+=Yp(o,a,s)):i+=s[0];for(var n=1;n<e.length;n++)i+=Yp(o,a,e[n]),r&&(i+=s[n]);ZE.lastIndex=0;for(var d="",c;(c=ZE.exec(i))!==null;)d+="-"+c[1];var l=$B(i)+d;return{name:l,styles:i,next:Ui}},ZB=function(e){return e()},iI=Yl.useInsertionEffect?Yl.useInsertionEffect:!1,KB=iI||ZB,KE=iI||M.useLayoutEffect,sI=M.createContext(typeof HTMLElement<"u"?QO({key:"css"}):null),QB=sI.Provider,nI=function(e){return M.forwardRef(function(a,o){var r=M.useContext(sI);return e(a,r,o)})},Tf=M.createContext({}),gb={exports:{}},QE;function dI(){return QE||(QE=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(gb)),gb.exports}dI();var XB=nI(function(t,e){var a=t.styles,o=Cw([a],void 0,M.useContext(Tf)),r=M.useRef();return KE(function(){var i=e.key+"-global",s=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),n=!1,d=document.querySelector('style[data-emotion="'+i+" "+o.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),d!==null&&(n=!0,d.setAttribute("data-emotion",i),s.hydrate([d])),r.current=[s,n],function(){s.flush()}},[e]),KE(function(){var i=r.current,s=i[0],n=i[1];if(n){i[1]=!1;return}if(o.next!==void 0&&oI(e,o.next,!0),s.tags.length){var d=s.tags[s.tags.length-1].nextElementSibling;s.before=d,s.flush()}e.insert("",o,s,!1)},[e,o.name]),null});function cI(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return Cw(e)}var n1=function(){var e=cI.apply(void 0,arguments),a="animation-"+e.name;return{name:a,styles:"@keyframes "+a+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},JB=iB,e7=function(e){return e!=="theme"},XE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?JB:e7},JE=function(e,a,o){var r;if(a){var i=a.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(s){return e.__emotion_forwardProp(s)&&i(s)}:i}return typeof r!="function"&&o&&(r=e.__emotion_forwardProp),r},t7=function(e){var a=e.cache,o=e.serialized,r=e.isStringTag;return aI(a,o,r),KB(function(){return oI(a,o,r)}),null},a7=function t(e,a){var o=e.__emotion_real===e,r=o&&e.__emotion_base||e,i,s;a!==void 0&&(i=a.label,s=a.target);var n=JE(e,a,o),d=n||XE(r),c=!d("as");return function(){var l=arguments,m=o&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&m.push("label:"+i+";"),l[0]==null||l[0].raw===void 0)m.push.apply(m,l);else{m.push(l[0][0]);for(var u=l.length,v=1;v<u;v++)m.push(l[v],l[0][v])}var g=nI(function(f,p,h){var y=c&&f.as||r,b="",_=[],S=f;if(f.theme==null){S={};for(var x in f)S[x]=f[x];S.theme=M.useContext(Tf)}typeof f.className=="string"?b=VB(p.registered,_,f.className):f.className!=null&&(b=f.className+" ");var w=Cw(m.concat(_),p.registered,S);b+=p.key+"-"+w.name,s!==void 0&&(b+=" "+s);var A=c&&n===void 0?XE(y):d,T={};for(var O in f)c&&O==="as"||A(O)&&(T[O]=f[O]);return T.className=b,T.ref=h,M.createElement(M.Fragment,null,M.createElement(t7,{cache:p,serialized:w,isStringTag:typeof y=="string"}),M.createElement(y,T))});return g.displayName=i!==void 0?i:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=r,g.__emotion_styles=m,g.__emotion_forwardProp=n,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(f,p){return t(f,j({},a,p,{shouldForwardProp:JE(g,p,!0)})).apply(void 0,m)},g}},o7=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],J2=a7.bind();o7.forEach(function(t){J2[t]=J2(t)});let e3;typeof document=="object"&&(e3=QO({key:"css",prepend:!0}));function r7(t){const{injectFirst:e,children:a}=t;return e&&e3?R.jsx(QB,{value:e3,children:a}):a}function i7(t){return t==null||Object.keys(t).length===0}function lI(t){const{styles:e,defaultTheme:a={}}=t,o=typeof e=="function"?r=>e(i7(r)?a:r):e;return R.jsx(XB,{styles:o})}function Rw(t,e){return J2(t,e)}const uI=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},s7=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:lI,StyledEngineProvider:r7,ThemeContext:Tf,css:cI,default:Rw,internal_processStyles:uI,keyframes:n1},Symbol.toStringTag,{value:"Module"}));function Ms(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mI(t){if(!Ms(t))return t;const e={};return Object.keys(t).forEach(a=>{e[a]=mI(t[a])}),e}function Io(t,e,a={clone:!0}){const o=a.clone?j({},t):t;return Ms(t)&&Ms(e)&&Object.keys(e).forEach(r=>{r!=="__proto__"&&(Ms(e[r])&&r in t&&Ms(t[r])?o[r]=Io(t[r],e[r],a):a.clone?o[r]=Ms(e[r])?mI(e[r]):e[r]:o[r]=e[r])}),o}const n7=Object.freeze(Object.defineProperty({__proto__:null,default:Io,isPlainObject:Ms},Symbol.toStringTag,{value:"Module"})),d7=["values","unit","step"],c7=t=>{const e=Object.keys(t).map(a=>({key:a,val:t[a]}))||[];return e.sort((a,o)=>a.val-o.val),e.reduce((a,o)=>j({},a,{[o.key]:o.val}),{})};function pI(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:o=5}=t,r=Ie(t,d7),i=c7(e),s=Object.keys(i);function n(u){return`@media (min-width:${typeof e[u]=="number"?e[u]:u}${a})`}function d(u){return`@media (max-width:${(typeof e[u]=="number"?e[u]:u)-o/100}${a})`}function c(u,v){const g=s.indexOf(v);return`@media (min-width:${typeof e[u]=="number"?e[u]:u}${a}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:v)-o/100}${a})`}function l(u){return s.indexOf(u)+1<s.length?c(u,s[s.indexOf(u)+1]):n(u)}function m(u){const v=s.indexOf(u);return v===0?n(s[1]):v===s.length-1?d(s[v]):c(u,s[s.indexOf(u)+1]).replace("@media","@media not all and")}return j({keys:s,values:i,up:n,down:d,between:c,only:l,not:m,unit:a},r)}const l7={borderRadius:4},u7=l7;function yp(t,e){return e?Io(t,e,{clone:!1}):t}const Ow={xs:0,sm:600,md:900,lg:1200,xl:1536},eM={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Ow[t]}px)`};function Ko(t,e,a){const o=t.theme||{};if(Array.isArray(e)){const i=o.breakpoints||eM;return e.reduce((s,n,d)=>(s[i.up(i.keys[d])]=a(e[d]),s),{})}if(typeof e=="object"){const i=o.breakpoints||eM;return Object.keys(e).reduce((s,n)=>{if(Object.keys(i.values||Ow).indexOf(n)!==-1){const d=i.up(n);s[d]=a(e[n],n)}else{const d=n;s[d]=e[d]}return s},{})}return a(e)}function fI(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((o,r)=>{const i=t.up(r);return o[i]={},o},{}))||{}}function hI(t,e){return t.reduce((a,o)=>{const r=a[o];return(!r||Object.keys(r).length===0)&&delete a[o],a},e)}function m7(t,...e){const a=fI(t),o=[a,...e].reduce((r,i)=>Io(r,i),{});return hI(Object.keys(a),o)}function p7(t,e){if(typeof t!="object")return{};const a={},o=Object.keys(e);return Array.isArray(t)?o.forEach((r,i)=>{i<t.length&&(a[r]=!0)}):o.forEach(r=>{t[r]!=null&&(a[r]=!0)}),a}function Zd({values:t,breakpoints:e,base:a}){const o=a||p7(t,e),r=Object.keys(o);if(r.length===0)return t;let i;return r.reduce((s,n,d)=>(Array.isArray(t)?(s[n]=t[d]!=null?t[d]:t[i],i=d):typeof t=="object"?(s[n]=t[n]!=null?t[n]:t[i],i=n):s[n]=t,s),{})}function Fe(t){if(typeof t!="string")throw new Error(dc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const f7=Object.freeze(Object.defineProperty({__proto__:null,default:Fe},Symbol.toStringTag,{value:"Module"}));function iu(t,e,a=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&a){const o=`vars.${e}`.split(".").reduce((r,i)=>r&&r[i]?r[i]:null,t);if(o!=null)return o}return e.split(".").reduce((o,r)=>o&&o[r]!=null?o[r]:null,t)}function Lg(t,e,a,o=a){let r;return typeof t=="function"?r=t(a):Array.isArray(t)?r=t[a]||o:r=iu(t,a)||o,e&&(r=e(r,o,t)),r}function Pa(t){const{prop:e,cssProperty:a=t.prop,themeKey:o,transform:r}=t,i=s=>{if(s[e]==null)return null;const n=s[e],d=s.theme,c=iu(d,o)||{};return Ko(s,n,m=>{let u=Lg(c,r,m);return m===u&&typeof m=="string"&&(u=Lg(c,r,`${e}${m==="default"?"":Fe(m)}`,m)),a===!1?u:{[a]:u}})};return i.propTypes={},i.filterProps=[e],i}function h7(t){const e={};return a=>(e[a]===void 0&&(e[a]=t(a)),e[a])}const v7={m:"margin",p:"padding"},g7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},tM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},y7=h7(t=>{if(t.length>2)if(tM[t])t=tM[t];else return[t];const[e,a]=t.split(""),o=v7[e],r=g7[a]||"";return Array.isArray(r)?r.map(i=>o+i):[o+r]}),Iw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Dw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Iw,...Dw];function Cf(t,e,a,o){var r;const i=(r=iu(t,e,!1))!=null?r:a;return typeof i=="number"?s=>typeof s=="string"?s:i*s:Array.isArray(i)?s=>typeof s=="string"?s:i[s]:typeof i=="function"?i:()=>{}}function qw(t){return Cf(t,"spacing",8)}function lc(t,e){if(typeof e=="string"||e==null)return e;const a=Math.abs(e),o=t(a);return e>=0?o:typeof o=="number"?-o:`-${o}`}function b7(t,e){return a=>t.reduce((o,r)=>(o[r]=lc(e,a),o),{})}function _7(t,e,a,o){if(e.indexOf(a)===-1)return null;const r=y7(a),i=b7(r,o),s=t[a];return Ko(t,s,i)}function vI(t,e){const a=qw(t.theme);return Object.keys(t).map(o=>_7(t,e,o,a)).reduce(yp,{})}function Sa(t){return vI(t,Iw)}Sa.propTypes={};Sa.filterProps=Iw;function Aa(t){return vI(t,Dw)}Aa.propTypes={};Aa.filterProps=Dw;function x7(t=8){if(t.mui)return t;const e=qw({spacing:t}),a=(...o)=>(o.length===0?[1]:o).map(i=>{const s=e(i);return typeof s=="number"?`${s}px`:s}).join(" ");return a.mui=!0,a}function d1(...t){const e=t.reduce((o,r)=>(r.filterProps.forEach(i=>{o[i]=r}),o),{}),a=o=>Object.keys(o).reduce((r,i)=>e[i]?yp(r,e[i](o)):r,{});return a.propTypes={},a.filterProps=t.reduce((o,r)=>o.concat(r.filterProps),[]),a}function Nr(t){return typeof t!="number"?t:`${t}px solid`}function Kr(t,e){return Pa({prop:t,themeKey:"borders",transform:e})}const w7=Kr("border",Nr),S7=Kr("borderTop",Nr),A7=Kr("borderRight",Nr),E7=Kr("borderBottom",Nr),M7=Kr("borderLeft",Nr),T7=Kr("borderColor"),C7=Kr("borderTopColor"),R7=Kr("borderRightColor"),O7=Kr("borderBottomColor"),I7=Kr("borderLeftColor"),D7=Kr("outline",Nr),q7=Kr("outlineColor"),c1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Cf(t.theme,"shape.borderRadius",4),a=o=>({borderRadius:lc(e,o)});return Ko(t,t.borderRadius,a)}return null};c1.propTypes={};c1.filterProps=["borderRadius"];d1(w7,S7,A7,E7,M7,T7,C7,R7,O7,I7,c1,D7,q7);const l1=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Cf(t.theme,"spacing",8),a=o=>({gap:lc(e,o)});return Ko(t,t.gap,a)}return null};l1.propTypes={};l1.filterProps=["gap"];const u1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Cf(t.theme,"spacing",8),a=o=>({columnGap:lc(e,o)});return Ko(t,t.columnGap,a)}return null};u1.propTypes={};u1.filterProps=["columnGap"];const m1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Cf(t.theme,"spacing",8),a=o=>({rowGap:lc(e,o)});return Ko(t,t.rowGap,a)}return null};m1.propTypes={};m1.filterProps=["rowGap"];const P7=Pa({prop:"gridColumn"}),L7=Pa({prop:"gridRow"}),N7=Pa({prop:"gridAutoFlow"}),j7=Pa({prop:"gridAutoColumns"}),F7=Pa({prop:"gridAutoRows"}),z7=Pa({prop:"gridTemplateColumns"}),B7=Pa({prop:"gridTemplateRows"}),k7=Pa({prop:"gridTemplateAreas"}),U7=Pa({prop:"gridArea"});d1(l1,u1,m1,P7,L7,N7,j7,F7,z7,B7,k7,U7);function $l(t,e){return e==="grey"?e:t}const V7=Pa({prop:"color",themeKey:"palette",transform:$l}),$7=Pa({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:$l}),H7=Pa({prop:"backgroundColor",themeKey:"palette",transform:$l});d1(V7,$7,H7);function sr(t){return t<=1&&t!==0?`${t*100}%`:t}const W7=Pa({prop:"width",transform:sr}),Pw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=a=>{var o,r;const i=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[a])||Ow[a];return i?((r=t.theme)==null||(r=r.breakpoints)==null?void 0:r.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:sr(a)}};return Ko(t,t.maxWidth,e)}return null};Pw.filterProps=["maxWidth"];const G7=Pa({prop:"minWidth",transform:sr}),Y7=Pa({prop:"height",transform:sr}),Z7=Pa({prop:"maxHeight",transform:sr}),K7=Pa({prop:"minHeight",transform:sr});Pa({prop:"size",cssProperty:"width",transform:sr});Pa({prop:"size",cssProperty:"height",transform:sr});const Q7=Pa({prop:"boxSizing"});d1(W7,Pw,G7,Y7,Z7,K7,Q7);const X7={border:{themeKey:"borders",transform:Nr},borderTop:{themeKey:"borders",transform:Nr},borderRight:{themeKey:"borders",transform:Nr},borderBottom:{themeKey:"borders",transform:Nr},borderLeft:{themeKey:"borders",transform:Nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:c1},color:{themeKey:"palette",transform:$l},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:$l},backgroundColor:{themeKey:"palette",transform:$l},p:{style:Aa},pt:{style:Aa},pr:{style:Aa},pb:{style:Aa},pl:{style:Aa},px:{style:Aa},py:{style:Aa},padding:{style:Aa},paddingTop:{style:Aa},paddingRight:{style:Aa},paddingBottom:{style:Aa},paddingLeft:{style:Aa},paddingX:{style:Aa},paddingY:{style:Aa},paddingInline:{style:Aa},paddingInlineStart:{style:Aa},paddingInlineEnd:{style:Aa},paddingBlock:{style:Aa},paddingBlockStart:{style:Aa},paddingBlockEnd:{style:Aa},m:{style:Sa},mt:{style:Sa},mr:{style:Sa},mb:{style:Sa},ml:{style:Sa},mx:{style:Sa},my:{style:Sa},margin:{style:Sa},marginTop:{style:Sa},marginRight:{style:Sa},marginBottom:{style:Sa},marginLeft:{style:Sa},marginX:{style:Sa},marginY:{style:Sa},marginInline:{style:Sa},marginInlineStart:{style:Sa},marginInlineEnd:{style:Sa},marginBlock:{style:Sa},marginBlockStart:{style:Sa},marginBlockEnd:{style:Sa},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:l1},rowGap:{style:m1},columnGap:{style:u1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sr},maxWidth:{style:Pw},minWidth:{transform:sr},height:{transform:sr},maxHeight:{transform:sr},minHeight:{transform:sr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Rf=X7;function J7(...t){const e=t.reduce((o,r)=>o.concat(Object.keys(r)),[]),a=new Set(e);return t.every(o=>a.size===Object.keys(o).length)}function e9(t,e){return typeof t=="function"?t(e):t}function gI(){function t(a,o,r,i){const s={[a]:o,theme:r},n=i[a];if(!n)return{[a]:o};const{cssProperty:d=a,themeKey:c,transform:l,style:m}=n;if(o==null)return null;if(c==="typography"&&o==="inherit")return{[a]:o};const u=iu(r,c)||{};return m?m(s):Ko(s,o,g=>{let f=Lg(u,l,g);return g===f&&typeof g=="string"&&(f=Lg(u,l,`${a}${g==="default"?"":Fe(g)}`,g)),d===!1?f:{[d]:f}})}function e(a){var o;const{sx:r,theme:i={}}=a||{};if(!r)return null;const s=(o=i.unstable_sxConfig)!=null?o:Rf;function n(d){let c=d;if(typeof d=="function")c=d(i);else if(typeof d!="object")return d;if(!c)return null;const l=fI(i.breakpoints),m=Object.keys(l);let u=l;return Object.keys(c).forEach(v=>{const g=e9(c[v],i);if(g!=null)if(typeof g=="object")if(s[v])u=yp(u,t(v,g,i,s));else{const f=Ko({theme:i},g,p=>({[v]:p}));J7(f,g)?u[v]=e({sx:g,theme:i}):u=yp(u,f)}else u=yp(u,t(v,g,i,s))}),hI(m,u)}return Array.isArray(r)?r.map(n):n(r)}return e}const Ru=gI();Ru.filterProps=["sx"];function yI(t,e){const a=this;return a.vars&&typeof a.getColorSchemeSelector=="function"?{[a.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:a.palette.mode===t?e:{}}const t9=["breakpoints","palette","spacing","shape"];function Of(t={},...e){const{breakpoints:a={},palette:o={},spacing:r,shape:i={}}=t,s=Ie(t,t9),n=pI(a),d=x7(r);let c=Io({breakpoints:n,direction:"ltr",components:{},palette:j({mode:"light"},o),spacing:d,shape:j({},u7,i)},s);return c.applyStyles=yI,c=e.reduce((l,m)=>Io(l,m),c),c.unstable_sxConfig=j({},Rf,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(m){return Ru({sx:m,theme:this})},c}const a9=Object.freeze(Object.defineProperty({__proto__:null,default:Of,private_createBreakpoints:pI,unstable_applyStyles:yI},Symbol.toStringTag,{value:"Module"}));function o9(t){return Object.keys(t).length===0}function bI(t=null){const e=M.useContext(Tf);return!e||o9(e)?t:e}const r9=Of();function p1(t=r9){return bI(t)}function i9({styles:t,themeId:e,defaultTheme:a={}}){const o=p1(a),r=typeof t=="function"?t(e&&o[e]||o):t;return R.jsx(lI,{styles:r})}const s9=["sx"],n9=t=>{var e,a;const o={systemProps:{},otherProps:{}},r=(e=t==null||(a=t.theme)==null?void 0:a.unstable_sxConfig)!=null?e:Rf;return Object.keys(t).forEach(i=>{r[i]?o.systemProps[i]=t[i]:o.otherProps[i]=t[i]}),o};function If(t){const{sx:e}=t,a=Ie(t,s9),{systemProps:o,otherProps:r}=n9(a);let i;return Array.isArray(e)?i=[o,...e]:typeof e=="function"?i=(...s)=>{const n=e(...s);return Ms(n)?j({},o,n):o}:i=j({},o,e),j({},r,{sx:i})}const d9=Object.freeze(Object.defineProperty({__proto__:null,default:Ru,extendSxProp:If,unstable_createStyleFunctionSx:gI,unstable_defaultSxConfig:Rf},Symbol.toStringTag,{value:"Module"})),aM=t=>t,c9=()=>{let t=aM;return{configure(e){t=e},generate(e){return t(e)},reset(){t=aM}}},l9=c9(),Lw=l9;function _I(t){var e,a,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(a=_I(t[e]))&&(o&&(o+=" "),o+=a)}else for(a in t)t[a]&&(o&&(o+=" "),o+=a);return o}function je(){for(var t,e,a=0,o="",r=arguments.length;a<r;a++)(t=arguments[a])&&(e=_I(t))&&(o&&(o+=" "),o+=e);return o}const u9=["className","component"];function m9(t={}){const{themeId:e,defaultTheme:a,defaultClassName:o="MuiBox-root",generateClassName:r}=t,i=Rw("div",{shouldForwardProp:n=>n!=="theme"&&n!=="sx"&&n!=="as"})(Ru);return M.forwardRef(function(d,c){const l=p1(a),m=If(d),{className:u,component:v="div"}=m,g=Ie(m,u9);return R.jsx(i,j({as:v,ref:c,className:je(u,r?r(o):o),theme:e&&l[e]||l},g))})}const p9={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function rt(t,e,a="Mui"){const o=p9[e];return o?`${a}-${o}`:`${Lw.generate(t)}-${e}`}function it(t,e,a="Mui"){const o={};return e.forEach(r=>{o[r]=rt(t,r,a)}),o}var xI={exports:{}},Kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw=Symbol.for("react.element"),jw=Symbol.for("react.portal"),f1=Symbol.for("react.fragment"),h1=Symbol.for("react.strict_mode"),v1=Symbol.for("react.profiler"),g1=Symbol.for("react.provider"),y1=Symbol.for("react.context"),f9=Symbol.for("react.server_context"),b1=Symbol.for("react.forward_ref"),_1=Symbol.for("react.suspense"),x1=Symbol.for("react.suspense_list"),w1=Symbol.for("react.memo"),S1=Symbol.for("react.lazy"),h9=Symbol.for("react.offscreen"),wI;wI=Symbol.for("react.module.reference");function Qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Nw:switch(t=t.type,t){case f1:case v1:case h1:case _1:case x1:return t;default:switch(t=t&&t.$$typeof,t){case f9:case y1:case b1:case S1:case w1:case g1:return t;default:return e}}case jw:return e}}}Kt.ContextConsumer=y1;Kt.ContextProvider=g1;Kt.Element=Nw;Kt.ForwardRef=b1;Kt.Fragment=f1;Kt.Lazy=S1;Kt.Memo=w1;Kt.Portal=jw;Kt.Profiler=v1;Kt.StrictMode=h1;Kt.Suspense=_1;Kt.SuspenseList=x1;Kt.isAsyncMode=function(){return!1};Kt.isConcurrentMode=function(){return!1};Kt.isContextConsumer=function(t){return Qr(t)===y1};Kt.isContextProvider=function(t){return Qr(t)===g1};Kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nw};Kt.isForwardRef=function(t){return Qr(t)===b1};Kt.isFragment=function(t){return Qr(t)===f1};Kt.isLazy=function(t){return Qr(t)===S1};Kt.isMemo=function(t){return Qr(t)===w1};Kt.isPortal=function(t){return Qr(t)===jw};Kt.isProfiler=function(t){return Qr(t)===v1};Kt.isStrictMode=function(t){return Qr(t)===h1};Kt.isSuspense=function(t){return Qr(t)===_1};Kt.isSuspenseList=function(t){return Qr(t)===x1};Kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===f1||t===v1||t===h1||t===_1||t===x1||t===h9||typeof t=="object"&&t!==null&&(t.$$typeof===S1||t.$$typeof===w1||t.$$typeof===g1||t.$$typeof===y1||t.$$typeof===b1||t.$$typeof===wI||t.getModuleId!==void 0)};Kt.typeOf=Qr;xI.exports=Kt;var oM=xI.exports;const v9=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function SI(t){const e=`${t}`.match(v9);return e&&e[1]||""}function AI(t,e=""){return t.displayName||t.name||SI(t)||e}function rM(t,e,a){const o=AI(e);return t.displayName||(o!==""?`${a}(${o})`:a)}function g9(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return AI(t,"Component");if(typeof t=="object")switch(t.$$typeof){case oM.ForwardRef:return rM(t,t.render,"ForwardRef");case oM.Memo:return rM(t,t.type,"memo");default:return}}}const y9=Object.freeze(Object.defineProperty({__proto__:null,default:g9,getFunctionName:SI},Symbol.toStringTag,{value:"Module"})),b9=["ownerState"],_9=["variants"],x9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function w9(t){return Object.keys(t).length===0}function S9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function yb(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const A9=Of(),E9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Uh({defaultTheme:t,theme:e,themeId:a}){return w9(e)?t:e[a]||e}function M9(t){return t?(e,a)=>a[t]:null}function Qv(t,e){let{ownerState:a}=e,o=Ie(e,b9);const r=typeof t=="function"?t(j({ownerState:a},o)):t;if(Array.isArray(r))return r.flatMap(i=>Qv(i,j({ownerState:a},o)));if(r&&typeof r=="object"&&Array.isArray(r.variants)){const{variants:i=[]}=r;let n=Ie(r,_9);return i.forEach(d=>{let c=!0;typeof d.props=="function"?c=d.props(j({ownerState:a},o,a)):Object.keys(d.props).forEach(l=>{(a==null?void 0:a[l])!==d.props[l]&&o[l]!==d.props[l]&&(c=!1)}),c&&(Array.isArray(n)||(n=[n]),n.push(typeof d.style=="function"?d.style(j({ownerState:a},o,a)):d.style))}),n}return r}function T9(t={}){const{themeId:e,defaultTheme:a=A9,rootShouldForwardProp:o=yb,slotShouldForwardProp:r=yb}=t,i=s=>Ru(j({},s,{theme:Uh(j({},s,{defaultTheme:a,themeId:e}))}));return i.__mui_systemSx=!0,(s,n={})=>{uI(s,S=>S.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:d,slot:c,skipVariantsResolver:l,skipSx:m,overridesResolver:u=M9(E9(c))}=n,v=Ie(n,x9),g=l!==void 0?l:c&&c!=="Root"&&c!=="root"||!1,f=m||!1;let p,h=yb;c==="Root"||c==="root"?h=o:c?h=r:S9(s)&&(h=void 0);const y=Rw(s,j({shouldForwardProp:h,label:p},v)),b=S=>typeof S=="function"&&S.__emotion_real!==S||Ms(S)?x=>Qv(S,j({},x,{theme:Uh({theme:x.theme,defaultTheme:a,themeId:e})})):S,_=(S,...x)=>{let w=b(S);const A=x?x.map(b):[];d&&u&&A.push(I=>{const U=Uh(j({},I,{defaultTheme:a,themeId:e}));if(!U.components||!U.components[d]||!U.components[d].styleOverrides)return null;const B=U.components[d].styleOverrides,N={};return Object.entries(B).forEach(([z,$])=>{N[z]=Qv($,j({},I,{theme:U}))}),u(I,N)}),d&&!g&&A.push(I=>{var U;const B=Uh(j({},I,{defaultTheme:a,themeId:e})),N=B==null||(U=B.components)==null||(U=U[d])==null?void 0:U.variants;return Qv({variants:N},j({},I,{theme:B}))}),f||A.push(i);const T=A.length-x.length;if(Array.isArray(S)&&T>0){const I=new Array(T).fill("");w=[...S,...I],w.raw=[...S.raw,...I]}const O=y(w,...A);return s.muiName&&(O.muiName=s.muiName),O};return y.withConfig&&(_.withConfig=y.withConfig),_}}const C9=T9();function Fw(t,e){const a=j({},e);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))a[o]=j({},t[o],a[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const r=t[o]||{},i=e[o];a[o]={},!i||!Object.keys(i)?a[o]=r:!r||!Object.keys(r)?a[o]=i:(a[o]=j({},i),Object.keys(r).forEach(s=>{a[o][s]=Fw(r[s],i[s])}))}else a[o]===void 0&&(a[o]=t[o])}),a}function R9(t){const{theme:e,name:a,props:o}=t;return!e||!e.components||!e.components[a]||!e.components[a].defaultProps?o:Fw(e.components[a].defaultProps,o)}function zw({props:t,name:e,defaultTheme:a,themeId:o}){let r=p1(a);return o&&(r=r[o]||r),R9({theme:r,name:e,props:t})}const hr=typeof window<"u"?M.useLayoutEffect:M.useEffect;function O9(t,e=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,a))}const I9=Object.freeze(Object.defineProperty({__proto__:null,default:O9},Symbol.toStringTag,{value:"Module"}));function t3(...t){return t.reduce((e,a)=>a==null?e:function(...r){e.apply(this,r),a.apply(this,r)},()=>{})}function A1(t,e=166){let a;function o(...r){const i=()=>{t.apply(this,r)};clearTimeout(a),a=setTimeout(i,e)}return o.clear=()=>{clearTimeout(a)},o}function D9(t,e){return()=>null}function bp(t,e){var a,o;return M.isValidElement(t)&&e.indexOf((a=t.type.muiName)!=null?a:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function ao(t){return t&&t.ownerDocument||document}function Wo(t){return ao(t).defaultView||window}function q9(t,e){return()=>null}function Ng(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let iM=0;function P9(t){const[e,a]=M.useState(t),o=t||e;return M.useEffect(()=>{e==null&&(iM+=1,a(`mui-${iM}`))},[e]),o}const sM=Yl.useId;function Bw(t){if(sM!==void 0){const e=sM();return t??e}return P9(t)}function L9(t,e,a,o,r){return null}function Zp({controlled:t,default:e,name:a,state:o="value"}){const{current:r}=M.useRef(t!==void 0),[i,s]=M.useState(e),n=r?t:i,d=M.useCallback(c=>{r||s(c)},[]);return[n,d]}function Gi(t){const e=M.useRef(t);return hr(()=>{e.current=t}),M.useRef((...a)=>(0,e.current)(...a)).current}function _a(...t){return M.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(a=>{Ng(a,e)})},t)}const nM={};function N9(t,e){const a=M.useRef(nM);return a.current===nM&&(a.current=t(e)),a}const j9=[];function F9(t){M.useEffect(t,j9)}class E1{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new E1}start(e,a){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,a()},e)}}function kw(){const t=N9(E1.create).current;return F9(t.disposeEffect),t}let M1=!0,a3=!1;const z9=new E1,B9={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function k9(t){const{type:e,tagName:a}=t;return!!(a==="INPUT"&&B9[e]&&!t.readOnly||a==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function U9(t){t.metaKey||t.altKey||t.ctrlKey||(M1=!0)}function bb(){M1=!1}function V9(){this.visibilityState==="hidden"&&a3&&(M1=!0)}function $9(t){t.addEventListener("keydown",U9,!0),t.addEventListener("mousedown",bb,!0),t.addEventListener("pointerdown",bb,!0),t.addEventListener("touchstart",bb,!0),t.addEventListener("visibilitychange",V9,!0)}function H9(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return M1||k9(e)}function Uw(){const t=M.useCallback(r=>{r!=null&&$9(r.ownerDocument)},[]),e=M.useRef(!1);function a(){return e.current?(a3=!0,z9.start(100,()=>{a3=!1}),e.current=!1,!0):!1}function o(r){return H9(r)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:o,onBlur:a,ref:t}}function EI(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}const MI=t=>{const e=M.useRef({});return M.useEffect(()=>{e.current=t}),e.current};function dt(t,e,a=void 0){const o={};return Object.keys(t).forEach(r=>{o[r]=t[r].reduce((i,s)=>{if(s){const n=e(s);n!==""&&i.push(n),a&&a[s]&&i.push(a[s])}return i},[]).join(" ")}),o}const W9=M.createContext(null),TI=W9;function CI(){return M.useContext(TI)}const G9=typeof Symbol=="function"&&Symbol.for,Y9=G9?Symbol.for("mui.nested"):"__THEME_NESTED__";function Z9(t,e){return typeof e=="function"?e(t):j({},t,e)}function K9(t){const{children:e,theme:a}=t,o=CI(),r=M.useMemo(()=>{const i=o===null?a:Z9(o,a);return i!=null&&(i[Y9]=o!==null),i},[a,o]);return R.jsx(TI.Provider,{value:r,children:e})}const Q9=["value"],RI=M.createContext();function X9(t){let{value:e}=t,a=Ie(t,Q9);return R.jsx(RI.Provider,j({value:e??!0},a))}const OI=()=>{const t=M.useContext(RI);return t??!1},dM={};function cM(t,e,a,o=!1){return M.useMemo(()=>{const r=t&&e[t]||e;if(typeof a=="function"){const i=a(r),s=t?j({},e,{[t]:i}):i;return o?()=>s:s}return t?j({},e,{[t]:a}):j({},e,a)},[t,e,a,o])}function J9(t){const{children:e,theme:a,themeId:o}=t,r=bI(dM),i=CI()||dM,s=cM(o,r,a),n=cM(o,i,a,!0),d=s.direction==="rtl";return R.jsx(K9,{theme:n,children:R.jsx(Tf.Provider,{value:s,children:R.jsx(X9,{value:d,children:e})})})}const ek=["component","direction","spacing","divider","children","className","useFlexGap"],tk=Of(),ak=C9("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function ok(t){return zw({props:t,name:"MuiStack",defaultTheme:tk})}function rk(t,e){const a=M.Children.toArray(t).filter(Boolean);return a.reduce((o,r,i)=>(o.push(r),i<a.length-1&&o.push(M.cloneElement(e,{key:`separator-${i}`})),o),[])}const ik=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],sk=({ownerState:t,theme:e})=>{let a=j({display:"flex",flexDirection:"column"},Ko({theme:e},Zd({values:t.direction,breakpoints:e.breakpoints.values}),o=>({flexDirection:o})));if(t.spacing){const o=qw(e),r=Object.keys(e.breakpoints.values).reduce((d,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(d[c]=!0),d),{}),i=Zd({values:t.direction,base:r}),s=Zd({values:t.spacing,base:r});typeof i=="object"&&Object.keys(i).forEach((d,c,l)=>{if(!i[d]){const u=c>0?i[l[c-1]]:"column";i[d]=u}}),a=Io(a,Ko({theme:e},s,(d,c)=>t.useFlexGap?{gap:lc(o,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${ik(c?i[c]:t.direction)}`]:lc(o,d)}}))}return a=m7(e.breakpoints,a),a};function nk(t={}){const{createStyledComponent:e=ak,useThemeProps:a=ok,componentName:o="MuiStack"}=t,r=()=>dt({root:["root"]},d=>rt(o,d),{}),i=e(sk);return M.forwardRef(function(d,c){const l=a(d),m=If(l),{component:u="div",direction:v="column",spacing:g=0,divider:f,children:p,className:h,useFlexGap:y=!1}=m,b=Ie(m,ek),_={direction:v,spacing:g,useFlexGap:y},S=r();return R.jsx(i,j({as:u,ownerState:_,ref:c,className:je(S.root,h)},b,{children:f?rk(p,f):p}))})}function dk(t,e){return j({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var La={},II={exports:{}};(function(t){function e(a){return a&&a.__esModule?a:{default:a}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(II);var Ri=II.exports;const ck=Zr(oB),lk=Zr(I9);var DI=Ri;Object.defineProperty(La,"__esModule",{value:!0});var fa=La.alpha=FI;La.blend=xk;La.colorChannel=void 0;var qI=La.darken=$w;La.decomposeColor=Wr;La.emphasize=_k;var uk=La.getContrastRatio=vk;La.getLuminance=jg;La.hexToRgb=LI;La.hslToRgb=jI;var PI=La.lighten=Hw;La.private_safeAlpha=gk;La.private_safeColorChannel=void 0;La.private_safeDarken=yk;La.private_safeEmphasize=zI;La.private_safeLighten=bk;La.recomposeColor=Ou;La.rgbToHex=hk;var lM=DI(ck),mk=DI(lk);function Vw(t,e=0,a=1){return(0,mk.default)(t,e,a)}function LI(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let a=t.match(e);return a&&a[0].length===1&&(a=a.map(o=>o+o)),a?`rgb${a.length===4?"a":""}(${a.map((o,r)=>r<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function pk(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Wr(t){if(t.type)return t;if(t.charAt(0)==="#")return Wr(LI(t));const e=t.indexOf("("),a=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error((0,lM.default)(9,t));let o=t.substring(e+1,t.length-1),r;if(a==="color"){if(o=o.split(" "),r=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error((0,lM.default)(10,r))}else o=o.split(",");return o=o.map(i=>parseFloat(i)),{type:a,values:o,colorSpace:r}}const NI=t=>{const e=Wr(t);return e.values.slice(0,3).map((a,o)=>e.type.indexOf("hsl")!==-1&&o!==0?`${a}%`:a).join(" ")};La.colorChannel=NI;const fk=(t,e)=>{try{return NI(t)}catch{return t}};La.private_safeColorChannel=fk;function Ou(t){const{type:e,colorSpace:a}=t;let{values:o}=t;return e.indexOf("rgb")!==-1?o=o.map((r,i)=>i<3?parseInt(r,10):r):e.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),e.indexOf("color")!==-1?o=`${a} ${o.join(" ")}`:o=`${o.join(", ")}`,`${e}(${o})`}function hk(t){if(t.indexOf("#")===0)return t;const{values:e}=Wr(t);return`#${e.map((a,o)=>pk(o===3?Math.round(255*a):a)).join("")}`}function jI(t){t=Wr(t);const{values:e}=t,a=e[0],o=e[1]/100,r=e[2]/100,i=o*Math.min(r,1-r),s=(c,l=(c+a/30)%12)=>r-i*Math.max(Math.min(l-3,9-l,1),-1);let n="rgb";const d=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(n+="a",d.push(e[3])),Ou({type:n,values:d})}function jg(t){t=Wr(t);let e=t.type==="hsl"||t.type==="hsla"?Wr(jI(t)).values:t.values;return e=e.map(a=>(t.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function vk(t,e){const a=jg(t),o=jg(e);return(Math.max(a,o)+.05)/(Math.min(a,o)+.05)}function FI(t,e){return t=Wr(t),e=Vw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Ou(t)}function gk(t,e,a){try{return FI(t,e)}catch{return t}}function $w(t,e){if(t=Wr(t),e=Vw(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)t.values[a]*=1-e;return Ou(t)}function yk(t,e,a){try{return $w(t,e)}catch{return t}}function Hw(t,e){if(t=Wr(t),e=Vw(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let a=0;a<3;a+=1)t.values[a]+=(255-t.values[a])*e;else if(t.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)t.values[a]+=(1-t.values[a])*e;return Ou(t)}function bk(t,e,a){try{return Hw(t,e)}catch{return t}}function _k(t,e=.15){return jg(t)>.5?$w(t,e):Hw(t,e)}function zI(t,e,a){try{return zI(t,e)}catch{return t}}function xk(t,e,a,o=1){const r=(d,c)=>Math.round((d**(1/o)*(1-a)+c**(1/o)*a)**o),i=Wr(t),s=Wr(e),n=[r(i.values[0],s.values[0]),r(i.values[1],s.values[1]),r(i.values[2],s.values[2])];return Ou({type:"rgb",values:n})}const wk=["mode","contrastThreshold","tonalOffset"],uM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hp.white,default:Hp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_b={text:{primary:Hp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function mM(t,e,a,o){const r=o.light||o,i=o.dark||o*1.5;t[e]||(t.hasOwnProperty(a)?t[e]=t[a]:e==="light"?t.light=PI(t.main,r):e==="dark"&&(t.dark=qI(t.main,i)))}function Sk(t="light"){return t==="dark"?{main:jc[200],light:jc[50],dark:jc[400]}:{main:jc[700],light:jc[400],dark:jc[800]}}function Ak(t="light"){return t==="dark"?{main:Nc[200],light:Nc[50],dark:Nc[400]}:{main:Nc[500],light:Nc[300],dark:Nc[700]}}function Ek(t="light"){return t==="dark"?{main:Lc[500],light:Lc[300],dark:Lc[700]}:{main:Lc[700],light:Lc[400],dark:Lc[800]}}function Mk(t="light"){return t==="dark"?{main:Fc[400],light:Fc[300],dark:Fc[700]}:{main:Fc[700],light:Fc[500],dark:Fc[900]}}function Tk(t="light"){return t==="dark"?{main:zc[400],light:zc[300],dark:zc[700]}:{main:zc[800],light:zc[500],dark:zc[900]}}function Ck(t="light"){return t==="dark"?{main:_m[400],light:_m[300],dark:_m[700]}:{main:"#ed6c02",light:_m[500],dark:_m[900]}}function Rk(t){const{mode:e="light",contrastThreshold:a=3,tonalOffset:o=.2}=t,r=Ie(t,wk),i=t.primary||Sk(e),s=t.secondary||Ak(e),n=t.error||Ek(e),d=t.info||Mk(e),c=t.success||Tk(e),l=t.warning||Ck(e);function m(f){return uk(f,_b.text.primary)>=a?_b.text.primary:uM.text.primary}const u=({color:f,name:p,mainShade:h=500,lightShade:y=300,darkShade:b=700})=>{if(f=j({},f),!f.main&&f[h]&&(f.main=f[h]),!f.hasOwnProperty("main"))throw new Error(dc(11,p?` (${p})`:"",h));if(typeof f.main!="string")throw new Error(dc(12,p?` (${p})`:"",JSON.stringify(f.main)));return mM(f,"light",y,o),mM(f,"dark",b,o),f.contrastText||(f.contrastText=m(f.main)),f},v={dark:_b,light:uM};return Io(j({common:j({},Hp),mode:e,primary:u({color:i,name:"primary"}),secondary:u({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:u({color:n,name:"error"}),warning:u({color:l,name:"warning"}),info:u({color:d,name:"info"}),success:u({color:c,name:"success"}),grey:aB,contrastThreshold:a,getContrastText:m,augmentColor:u,tonalOffset:o},v[e]),r)}const Ok=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ik(t){return Math.round(t*1e5)/1e5}const pM={textTransform:"uppercase"},fM='"Roboto", "Helvetica", "Arial", sans-serif';function Dk(t,e){const a=typeof e=="function"?e(t):e,{fontFamily:o=fM,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:n=500,fontWeightBold:d=700,htmlFontSize:c=16,allVariants:l,pxToRem:m}=a,u=Ie(a,Ok),v=r/14,g=m||(h=>`${h/c*v}rem`),f=(h,y,b,_,S)=>j({fontFamily:o,fontWeight:h,fontSize:g(y),lineHeight:b},o===fM?{letterSpacing:`${Ik(_/y)}em`}:{},S,l),p={h1:f(i,96,1.167,-1.5),h2:f(i,60,1.2,-.5),h3:f(s,48,1.167,0),h4:f(s,34,1.235,.25),h5:f(s,24,1.334,0),h6:f(n,20,1.6,.15),subtitle1:f(s,16,1.75,.15),subtitle2:f(n,14,1.57,.1),body1:f(s,16,1.5,.15),body2:f(s,14,1.43,.15),button:f(n,14,1.75,.4,pM),caption:f(s,12,1.66,.4),overline:f(s,12,2.66,1,pM),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Io(j({htmlFontSize:c,pxToRem:g,fontFamily:o,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:n,fontWeightBold:d},p),u,{clone:!1})}const qk=.2,Pk=.14,Lk=.12;function la(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${qk})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Pk})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Lk})`].join(",")}const Nk=["none",la(0,2,1,-1,0,1,1,0,0,1,3,0),la(0,3,1,-2,0,2,2,0,0,1,5,0),la(0,3,3,-2,0,3,4,0,0,1,8,0),la(0,2,4,-1,0,4,5,0,0,1,10,0),la(0,3,5,-1,0,5,8,0,0,1,14,0),la(0,3,5,-1,0,6,10,0,0,1,18,0),la(0,4,5,-2,0,7,10,1,0,2,16,1),la(0,5,5,-3,0,8,10,1,0,3,14,2),la(0,5,6,-3,0,9,12,1,0,3,16,2),la(0,6,6,-3,0,10,14,1,0,4,18,3),la(0,6,7,-4,0,11,15,1,0,4,20,3),la(0,7,8,-4,0,12,17,2,0,5,22,4),la(0,7,8,-4,0,13,19,2,0,5,24,4),la(0,7,9,-4,0,14,21,2,0,5,26,4),la(0,8,9,-5,0,15,22,2,0,6,28,5),la(0,8,10,-5,0,16,24,2,0,6,30,5),la(0,8,11,-5,0,17,26,2,0,6,32,5),la(0,9,11,-5,0,18,28,2,0,7,34,6),la(0,9,12,-6,0,19,29,2,0,7,36,6),la(0,10,13,-6,0,20,31,3,0,8,38,7),la(0,10,13,-6,0,21,33,3,0,8,40,7),la(0,10,14,-6,0,22,35,3,0,8,42,7),la(0,11,14,-7,0,23,36,3,0,9,44,8),la(0,11,15,-7,0,24,38,3,0,9,46,8)],jk=["duration","easing","delay"],Fk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},BI={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hM(t){return`${Math.round(t)}ms`}function zk(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Bk(t){const e=j({},Fk,t.easing),a=j({},BI,t.duration);return j({getAutoHeightDuration:zk,create:(r=["all"],i={})=>{const{duration:s=a.standard,easing:n=e.easeInOut,delay:d=0}=i;return Ie(i,jk),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof s=="string"?s:hM(s)} ${n} ${typeof d=="string"?d:hM(d)}`).join(",")}},t,{easing:e,duration:a})}const kk={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Uk=kk,Vk=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ww(t={},...e){const{mixins:a={},palette:o={},transitions:r={},typography:i={}}=t,s=Ie(t,Vk);if(t.vars)throw new Error(dc(18));const n=Rk(o),d=Of(t);let c=Io(d,{mixins:dk(d.breakpoints,a),palette:n,shadows:Nk.slice(),typography:Dk(n,i),transitions:Bk(r),zIndex:j({},Uk)});return c=Io(c,s),c=e.reduce((l,m)=>Io(l,m),c),c.unstable_sxConfig=j({},Rf,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(m){return Ru({sx:m,theme:this})},c}const $k=Ww(),T1=$k;function Cc(){const t=p1(T1);return t[cc]||t}function vt({props:t,name:e}){return zw({props:t,name:e,defaultTheme:T1,themeId:cc})}var Df={},xb={exports:{}},vM;function Hk(){return vM||(vM=1,function(t){function e(a,o){if(a==null)return{};var r={},i=Object.keys(a),s,n;for(n=0;n<i.length;n++)s=i[n],!(o.indexOf(s)>=0)&&(r[s]=a[s]);return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(xb)),xb.exports}const Wk=Zr(s7),Gk=Zr(n7),Yk=Zr(f7),Zk=Zr(y9),Kk=Zr(a9),Qk=Zr(d9);var Iu=Ri;Object.defineProperty(Df,"__esModule",{value:!0});var Xk=Df.default=uU;Df.shouldForwardProp=Xv;Df.systemDefaultTheme=void 0;var Ir=Iu(dI()),o3=Iu(Hk()),gM=iU(Wk),Jk=Gk;Iu(Yk);Iu(Zk);var eU=Iu(Kk),tU=Iu(Qk);const aU=["ownerState"],oU=["variants"],rU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function kI(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,a=new WeakMap;return(kI=function(o){return o?a:e})(t)}function iU(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var a=kI(e);if(a&&a.has(t))return a.get(t);var o={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=t[i]}return o.default=t,a&&a.set(t,o),o}function sU(t){return Object.keys(t).length===0}function nU(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Xv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const dU=Df.systemDefaultTheme=(0,eU.default)(),cU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Vh({defaultTheme:t,theme:e,themeId:a}){return sU(e)?t:e[a]||e}function lU(t){return t?(e,a)=>a[t]:null}function Jv(t,e){let{ownerState:a}=e,o=(0,o3.default)(e,aU);const r=typeof t=="function"?t((0,Ir.default)({ownerState:a},o)):t;if(Array.isArray(r))return r.flatMap(i=>Jv(i,(0,Ir.default)({ownerState:a},o)));if(r&&typeof r=="object"&&Array.isArray(r.variants)){const{variants:i=[]}=r;let n=(0,o3.default)(r,oU);return i.forEach(d=>{let c=!0;typeof d.props=="function"?c=d.props((0,Ir.default)({ownerState:a},o,a)):Object.keys(d.props).forEach(l=>{(a==null?void 0:a[l])!==d.props[l]&&o[l]!==d.props[l]&&(c=!1)}),c&&(Array.isArray(n)||(n=[n]),n.push(typeof d.style=="function"?d.style((0,Ir.default)({ownerState:a},o,a)):d.style))}),n}return r}function uU(t={}){const{themeId:e,defaultTheme:a=dU,rootShouldForwardProp:o=Xv,slotShouldForwardProp:r=Xv}=t,i=s=>(0,tU.default)((0,Ir.default)({},s,{theme:Vh((0,Ir.default)({},s,{defaultTheme:a,themeId:e}))}));return i.__mui_systemSx=!0,(s,n={})=>{(0,gM.internal_processStyles)(s,S=>S.filter(x=>!(x!=null&&x.__mui_systemSx)));const{name:d,slot:c,skipVariantsResolver:l,skipSx:m,overridesResolver:u=lU(cU(c))}=n,v=(0,o3.default)(n,rU),g=l!==void 0?l:c&&c!=="Root"&&c!=="root"||!1,f=m||!1;let p,h=Xv;c==="Root"||c==="root"?h=o:c?h=r:nU(s)&&(h=void 0);const y=(0,gM.default)(s,(0,Ir.default)({shouldForwardProp:h,label:p},v)),b=S=>typeof S=="function"&&S.__emotion_real!==S||(0,Jk.isPlainObject)(S)?x=>Jv(S,(0,Ir.default)({},x,{theme:Vh({theme:x.theme,defaultTheme:a,themeId:e})})):S,_=(S,...x)=>{let w=b(S);const A=x?x.map(b):[];d&&u&&A.push(I=>{const U=Vh((0,Ir.default)({},I,{defaultTheme:a,themeId:e}));if(!U.components||!U.components[d]||!U.components[d].styleOverrides)return null;const B=U.components[d].styleOverrides,N={};return Object.entries(B).forEach(([z,$])=>{N[z]=Jv($,(0,Ir.default)({},I,{theme:U}))}),u(I,N)}),d&&!g&&A.push(I=>{var U;const B=Vh((0,Ir.default)({},I,{defaultTheme:a,themeId:e})),N=B==null||(U=B.components)==null||(U=U[d])==null?void 0:U.variants;return Jv({variants:N},(0,Ir.default)({},I,{theme:B}))}),f||A.push(i);const T=A.length-x.length;if(Array.isArray(S)&&T>0){const I=new Array(T).fill("");w=[...S,...I],w.raw=[...S.raw,...I]}const O=y(w,...A);return s.muiName&&(O.muiName=s.muiName),O};return y.withConfig&&(_.withConfig=y.withConfig),_}}function UI(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const mU=t=>UI(t)&&t!=="classes",po=mU,Re=Xk({themeId:cc,defaultTheme:T1,rootShouldForwardProp:po}),pU=["theme"];function fU(t){let{theme:e}=t,a=Ie(t,pU);const o=e[cc];return R.jsx(J9,j({},a,{themeId:o?cc:void 0,theme:o||e}))}const yM=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function hU(t){return rt("MuiSvgIcon",t)}it("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],gU=t=>{const{color:e,fontSize:a,classes:o}=t,r={root:["root",e!=="inherit"&&`color${Fe(e)}`,`fontSize${Fe(a)}`]};return dt(r,hU,o)},yU=Re("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.color!=="inherit"&&e[`color${Fe(a.color)}`],e[`fontSize${Fe(a.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var a,o,r,i,s,n,d,c,l,m,u,v,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(a=t.transitions)==null||(o=a.create)==null?void 0:o.call(a,"fill",{duration:(r=t.transitions)==null||(r=r.duration)==null?void 0:r.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(s=i.pxToRem)==null?void 0:s.call(i,20))||"1.25rem",medium:((n=t.typography)==null||(d=n.pxToRem)==null?void 0:d.call(n,24))||"1.5rem",large:((c=t.typography)==null||(l=c.pxToRem)==null?void 0:l.call(c,35))||"2.1875rem"}[e.fontSize],color:(m=(u=(t.vars||t).palette)==null||(u=u[e.color])==null?void 0:u.main)!=null?m:{action:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),r3=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:s="inherit",component:n="svg",fontSize:d="medium",htmlColor:c,inheritViewBox:l=!1,titleAccess:m,viewBox:u="0 0 24 24"}=o,v=Ie(o,vU),g=M.isValidElement(r)&&r.type==="svg",f=j({},o,{color:s,component:n,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:l,viewBox:u,hasSvgAsChild:g}),p={};l||(p.viewBox=u);const h=gU(f);return R.jsxs(yU,j({as:n,className:je(h.root,i),focusable:"false",color:c,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:a},p,v,g&&r.props,{ownerState:f,children:[g?r.props.children:r,m?R.jsx("title",{children:m}):null]}))});r3.muiName="SvgIcon";function So(t,e){function a(o,r){return R.jsx(r3,j({"data-testid":`${e}Icon`,ref:r},o,{children:t}))}return a.muiName=r3.muiName,M.memo(M.forwardRef(a))}const bU={configure:t=>{Lw.configure(t)}},_U=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Fe,createChainedFunction:t3,createSvgIcon:So,debounce:A1,deprecatedPropType:D9,isMuiElement:bp,ownerDocument:ao,ownerWindow:Wo,requirePropFactory:q9,setRef:Ng,unstable_ClassNameGenerator:bU,unstable_useEnhancedEffect:hr,unstable_useId:Bw,unsupportedProp:L9,useControlled:Zp,useEventCallback:Gi,useForkRef:_a,useIsFocusVisible:Uw},Symbol.toStringTag,{value:"Module"}));var Qt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw=Symbol.for("react.element"),Yw=Symbol.for("react.portal"),C1=Symbol.for("react.fragment"),R1=Symbol.for("react.strict_mode"),O1=Symbol.for("react.profiler"),I1=Symbol.for("react.provider"),D1=Symbol.for("react.context"),xU=Symbol.for("react.server_context"),q1=Symbol.for("react.forward_ref"),P1=Symbol.for("react.suspense"),L1=Symbol.for("react.suspense_list"),N1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),wU=Symbol.for("react.offscreen"),VI;VI=Symbol.for("react.module.reference");function Xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Gw:switch(t=t.type,t){case C1:case O1:case R1:case P1:case L1:return t;default:switch(t=t&&t.$$typeof,t){case xU:case D1:case q1:case j1:case N1:case I1:return t;default:return e}}case Yw:return e}}}Qt.ContextConsumer=D1;Qt.ContextProvider=I1;Qt.Element=Gw;Qt.ForwardRef=q1;Qt.Fragment=C1;Qt.Lazy=j1;Qt.Memo=N1;Qt.Portal=Yw;Qt.Profiler=O1;Qt.StrictMode=R1;Qt.Suspense=P1;Qt.SuspenseList=L1;Qt.isAsyncMode=function(){return!1};Qt.isConcurrentMode=function(){return!1};Qt.isContextConsumer=function(t){return Xr(t)===D1};Qt.isContextProvider=function(t){return Xr(t)===I1};Qt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gw};Qt.isForwardRef=function(t){return Xr(t)===q1};Qt.isFragment=function(t){return Xr(t)===C1};Qt.isLazy=function(t){return Xr(t)===j1};Qt.isMemo=function(t){return Xr(t)===N1};Qt.isPortal=function(t){return Xr(t)===Yw};Qt.isProfiler=function(t){return Xr(t)===O1};Qt.isStrictMode=function(t){return Xr(t)===R1};Qt.isSuspense=function(t){return Xr(t)===P1};Qt.isSuspenseList=function(t){return Xr(t)===L1};Qt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===C1||t===O1||t===R1||t===P1||t===L1||t===wU||typeof t=="object"&&t!==null&&(t.$$typeof===j1||t.$$typeof===N1||t.$$typeof===I1||t.$$typeof===D1||t.$$typeof===q1||t.$$typeof===VI||t.getModuleId!==void 0)};Qt.typeOf=Xr;function Du(t){return vt}function i3(t,e){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,r){return o.__proto__=r,o},i3(t,e)}function $I(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i3(t,e)}const bM={disabled:!1},Fg=jr.createContext(null);var SU=function(e){return e.scrollTop},Ym="unmounted",Ed="exited",Md="entering",sl="entered",s3="exiting",Zs=function(t){$I(e,t);function e(o,r){var i;i=t.call(this,o,r)||this;var s=r,n=s&&!s.isMounting?o.enter:o.appear,d;return i.appearStatus=null,o.in?n?(d=Ed,i.appearStatus=Md):d=sl:o.unmountOnExit||o.mountOnEnter?d=Ym:d=Ed,i.state={status:d},i.nextCallback=null,i}e.getDerivedStateFromProps=function(r,i){var s=r.in;return s&&i.status===Ym?{status:Ed}:null};var a=e.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(r){var i=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==Md&&s!==sl&&(i=Md):(s===Md||s===sl)&&(i=s3)}this.updateStatus(!1,i)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var r=this.props.timeout,i,s,n;return i=s=n=r,r!=null&&typeof r!="number"&&(i=r.exit,s=r.enter,n=r.appear!==void 0?r.appear:s),{exit:i,enter:s,appear:n}},a.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===Md){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Gm.findDOMNode(this);s&&SU(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ed&&this.setState({status:Ym})},a.performEnter=function(r){var i=this,s=this.props.enter,n=this.context?this.context.isMounting:r,d=this.props.nodeRef?[n]:[Gm.findDOMNode(this),n],c=d[0],l=d[1],m=this.getTimeouts(),u=n?m.appear:m.enter;if(!r&&!s||bM.disabled){this.safeSetState({status:sl},function(){i.props.onEntered(c)});return}this.props.onEnter(c,l),this.safeSetState({status:Md},function(){i.props.onEntering(c,l),i.onTransitionEnd(u,function(){i.safeSetState({status:sl},function(){i.props.onEntered(c,l)})})})},a.performExit=function(){var r=this,i=this.props.exit,s=this.getTimeouts(),n=this.props.nodeRef?void 0:Gm.findDOMNode(this);if(!i||bM.disabled){this.safeSetState({status:Ed},function(){r.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:s3},function(){r.props.onExiting(n),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:Ed},function(){r.props.onExited(n)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},a.setNextCallback=function(r){var i=this,s=!0;return this.nextCallback=function(n){s&&(s=!1,i.nextCallback=null,r(n))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},a.onTransitionEnd=function(r,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:Gm.findDOMNode(this),n=r==null&&!this.props.addEndListener;if(!s||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=d[0],l=d[1];this.props.addEndListener(c,l)}r!=null&&setTimeout(this.nextCallback,r)},a.render=function(){var r=this.state.status;if(r===Ym)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var n=Ie(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return jr.createElement(Fg.Provider,{value:null},typeof s=="function"?s(r,n):jr.cloneElement(jr.Children.only(s),n))},e}(jr.Component);Zs.contextType=Fg;Zs.propTypes={};function Bc(){}Zs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bc,onEntering:Bc,onEntered:Bc,onExit:Bc,onExiting:Bc,onExited:Bc};Zs.UNMOUNTED=Ym;Zs.EXITED=Ed;Zs.ENTERING=Md;Zs.ENTERED=sl;Zs.EXITING=s3;const F1=Zs;function AU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zw(t,e){var a=function(i){return e&&M.isValidElement(i)?e(i):i},o=Object.create(null);return t&&M.Children.map(t,function(r){return r}).forEach(function(r){o[r.key]=a(r)}),o}function EU(t,e){t=t||{},e=e||{};function a(l){return l in e?e[l]:t[l]}var o=Object.create(null),r=[];for(var i in t)i in e?r.length&&(o[i]=r,r=[]):r.push(i);var s,n={};for(var d in e){if(o[d])for(s=0;s<o[d].length;s++){var c=o[d][s];n[o[d][s]]=a(c)}n[d]=a(d)}for(s=0;s<r.length;s++)n[r[s]]=a(r[s]);return n}function Bd(t,e,a){return a[e]!=null?a[e]:t.props[e]}function MU(t,e){return Zw(t.children,function(a){return M.cloneElement(a,{onExited:e.bind(null,a),in:!0,appear:Bd(a,"appear",t),enter:Bd(a,"enter",t),exit:Bd(a,"exit",t)})})}function TU(t,e,a){var o=Zw(t.children),r=EU(e,o);return Object.keys(r).forEach(function(i){var s=r[i];if(M.isValidElement(s)){var n=i in e,d=i in o,c=e[i],l=M.isValidElement(c)&&!c.props.in;d&&(!n||l)?r[i]=M.cloneElement(s,{onExited:a.bind(null,s),in:!0,exit:Bd(s,"exit",t),enter:Bd(s,"enter",t)}):!d&&n&&!l?r[i]=M.cloneElement(s,{in:!1}):d&&n&&M.isValidElement(c)&&(r[i]=M.cloneElement(s,{onExited:a.bind(null,s),in:c.props.in,exit:Bd(s,"exit",t),enter:Bd(s,"enter",t)}))}}),r}var CU=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},RU={component:"div",childFactory:function(e){return e}},Kw=function(t){$I(e,t);function e(o,r){var i;i=t.call(this,o,r)||this;var s=i.handleExited.bind(AU(i));return i.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},i}var a=e.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,i){var s=i.children,n=i.handleExited,d=i.firstRender;return{children:d?MU(r,n):TU(r,s,n),firstRender:!1}},a.handleExited=function(r,i){var s=Zw(this.props.children);r.key in s||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(n){var d=j({},n.children);return delete d[r.key],{children:d}}))},a.render=function(){var r=this.props,i=r.component,s=r.childFactory,n=Ie(r,["component","childFactory"]),d=this.state.contextValue,c=CU(this.state.children).map(s);return delete n.appear,delete n.enter,delete n.exit,i===null?jr.createElement(Fg.Provider,{value:d},c):jr.createElement(Fg.Provider,{value:d},jr.createElement(i,n,c))},e}(jr.Component);Kw.propTypes={};Kw.defaultProps=RU;const OU=Kw,Qw=t=>t.scrollTop;function Vs(t,e){var a,o;const{timeout:r,easing:i,style:s={}}=t;return{duration:(a=s.transitionDuration)!=null?a:typeof r=="number"?r:r[e.mode]||0,easing:(o=s.transitionTimingFunction)!=null?o:typeof i=="object"?i[e.mode]:i,delay:s.transitionDelay}}function IU(t){return rt("MuiCollapse",t)}it("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const DU=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],qU=t=>{const{orientation:e,classes:a}=t,o={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return dt(o,IU,a)},PU=Re("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.orientation],a.state==="entered"&&e.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>j({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&j({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),LU=Re("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>j({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),NU=Re("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>j({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),HI=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiCollapse"}),{addEndListener:r,children:i,className:s,collapsedSize:n="0px",component:d,easing:c,in:l,onEnter:m,onEntered:u,onEntering:v,onExit:g,onExited:f,onExiting:p,orientation:h="vertical",style:y,timeout:b=BI.standard,TransitionComponent:_=F1}=o,S=Ie(o,DU),x=j({},o,{orientation:h,collapsedSize:n}),w=qU(x),A=Cc(),T=kw(),O=M.useRef(null),I=M.useRef(),U=typeof n=="number"?`${n}px`:n,B=h==="horizontal",N=B?"width":"height",z=M.useRef(null),$=_a(a,z),Y=Q=>Ee=>{if(Q){const Ae=z.current;Ee===void 0?Q(Ae):Q(Ae,Ee)}},F=()=>O.current?O.current[B?"clientWidth":"clientHeight"]:0,V=Y((Q,Ee)=>{O.current&&B&&(O.current.style.position="absolute"),Q.style[N]=U,m&&m(Q,Ee)}),Z=Y((Q,Ee)=>{const Ae=F();O.current&&B&&(O.current.style.position="");const{duration:Ce,easing:we}=Vs({style:y,timeout:b,easing:c},{mode:"enter"});if(b==="auto"){const De=A.transitions.getAutoHeightDuration(Ae);Q.style.transitionDuration=`${De}ms`,I.current=De}else Q.style.transitionDuration=typeof Ce=="string"?Ce:`${Ce}ms`;Q.style[N]=`${Ae}px`,Q.style.transitionTimingFunction=we,v&&v(Q,Ee)}),se=Y((Q,Ee)=>{Q.style[N]="auto",u&&u(Q,Ee)}),J=Y(Q=>{Q.style[N]=`${F()}px`,g&&g(Q)}),te=Y(f),me=Y(Q=>{const Ee=F(),{duration:Ae,easing:Ce}=Vs({style:y,timeout:b,easing:c},{mode:"exit"});if(b==="auto"){const we=A.transitions.getAutoHeightDuration(Ee);Q.style.transitionDuration=`${we}ms`,I.current=we}else Q.style.transitionDuration=typeof Ae=="string"?Ae:`${Ae}ms`;Q.style[N]=U,Q.style.transitionTimingFunction=Ce,p&&p(Q)}),xe=Q=>{b==="auto"&&T.start(I.current||0,Q),r&&r(z.current,Q)};return R.jsx(_,j({in:l,onEnter:V,onEntered:se,onEntering:Z,onExit:J,onExited:te,onExiting:me,addEndListener:xe,nodeRef:z,timeout:b==="auto"?null:b},S,{children:(Q,Ee)=>R.jsx(PU,j({as:d,className:je(w.root,s,{entered:w.entered,exited:!l&&U==="0px"&&w.hidden}[Q]),style:j({[B?"minWidth":"minHeight"]:U},y),ref:$},Ee,{ownerState:j({},x,{state:Q}),children:R.jsx(LU,{ownerState:j({},x,{state:Q}),className:w.wrapper,ref:O,children:R.jsx(NU,{ownerState:j({},x,{state:Q}),className:w.wrapperInner,children:i})})}))}))});HI.muiSupportAuto=!0;const jU=HI;function FU(t){return rt("MuiPaper",t)}it("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const zU=["className","component","elevation","square","variant"],BU=t=>{const{square:e,elevation:a,variant:o,classes:r}=t,i={root:["root",o,!e&&"rounded",o==="elevation"&&`elevation${a}`]};return dt(i,FU,r)},kU=Re("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],!a.square&&e.rounded,a.variant==="elevation"&&e[`elevation${a.elevation}`]]}})(({theme:t,ownerState:e})=>{var a;return j({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&j({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${fa("#fff",yM(e.elevation))}, ${fa("#fff",yM(e.elevation))})`},t.vars&&{backgroundImage:(a=t.vars.overlays)==null?void 0:a[e.elevation]}))}),UU=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:s=1,square:n=!1,variant:d="elevation"}=o,c=Ie(o,zU),l=j({},o,{component:i,elevation:s,square:n,variant:d}),m=BU(l);return R.jsx(kU,j({as:i,ownerState:l,className:je(m.root,r),ref:a},c))}),qf=UU,VU=M.createContext({}),WI=VU;function su(t){return typeof t=="string"}function GI(t,e,a){return t===void 0||su(t)?e:j({},e,{ownerState:j({},e.ownerState,a)})}function YI(t,e=[]){if(t===void 0)return{};const a={};return Object.keys(t).filter(o=>o.match(/^on[A-Z]/)&&typeof t[o]=="function"&&!e.includes(o)).forEach(o=>{a[o]=t[o]}),a}function ZI(t,e,a){return typeof t=="function"?t(e,a):t}function _M(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(a=>!(a.match(/^on[A-Z]/)&&typeof t[a]=="function")).forEach(a=>{e[a]=t[a]}),e}function KI(t){const{getSlotProps:e,additionalProps:a,externalSlotProps:o,externalForwardedProps:r,className:i}=t;if(!e){const v=je(a==null?void 0:a.className,i,r==null?void 0:r.className,o==null?void 0:o.className),g=j({},a==null?void 0:a.style,r==null?void 0:r.style,o==null?void 0:o.style),f=j({},a,r,o);return v.length>0&&(f.className=v),Object.keys(g).length>0&&(f.style=g),{props:f,internalRef:void 0}}const s=YI(j({},r,o)),n=_M(o),d=_M(r),c=e(s),l=je(c==null?void 0:c.className,a==null?void 0:a.className,i,r==null?void 0:r.className,o==null?void 0:o.className),m=j({},c==null?void 0:c.style,a==null?void 0:a.style,r==null?void 0:r.style,o==null?void 0:o.style),u=j({},c,a,d,n);return l.length>0&&(u.className=l),Object.keys(m).length>0&&(u.style=m),{props:u,internalRef:c.ref}}const $U=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Qn(t){var e;const{elementType:a,externalSlotProps:o,ownerState:r,skipResolvingSlotProps:i=!1}=t,s=Ie(t,$U),n=i?{}:ZI(o,r),{props:d,internalRef:c}=KI(j({},s,{externalSlotProps:n})),l=_a(c,n==null?void 0:n.ref,(e=t.additionalProps)==null?void 0:e.ref);return GI(a,j({},d,{ref:l}),r)}const HU=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],WU=["component","slots","slotProps"],GU=["component"];function QI(t,e){const{className:a,elementType:o,ownerState:r,externalForwardedProps:i,getSlotOwnerState:s,internalForwardedProps:n}=e,d=Ie(e,HU),{component:c,slots:l={[t]:void 0},slotProps:m={[t]:void 0}}=i,u=Ie(i,WU),v=l[t]||o,g=ZI(m[t],r),f=KI(j({className:a},d,{externalForwardedProps:t==="root"?u:void 0,externalSlotProps:g})),{props:{component:p},internalRef:h}=f,y=Ie(f.props,GU),b=_a(h,g==null?void 0:g.ref,e.ref),_=s?s(y):{},S=j({},r,_),x=t==="root"?p||c:p,w=GI(v,j({},t==="root"&&!c&&!l[t]&&n,t!=="root"&&!l[t]&&n,y,x&&{as:x},{ref:b}),S);return Object.keys(_).forEach(A=>{delete w[A]}),[v,w]}function YU(t){return rt("MuiAccordion",t)}const ZU=it("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),$h=ZU,KU=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],QU=Du(),XU=t=>{const{classes:e,square:a,expanded:o,disabled:r,disableGutters:i}=t;return dt({root:["root",!a&&"rounded",o&&"expanded",r&&"disabled",!i&&"gutters"],region:["region"]},YU,e)},JU=Re(qf,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${$h.region}`]:e.region},e.root,!a.square&&e.rounded,!a.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${$h.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${$h.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t})=>({variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${$h.expanded}`]:{margin:"16px 0"}}}]})),eV=M.forwardRef(function(e,a){const o=QU({props:e,name:"MuiAccordion"}),{children:r,className:i,defaultExpanded:s=!1,disabled:n=!1,disableGutters:d=!1,expanded:c,onChange:l,square:m=!1,slots:u={},slotProps:v={},TransitionComponent:g,TransitionProps:f}=o,p=Ie(o,KU),[h,y]=Zp({controlled:c,default:s,name:"Accordion",state:"expanded"}),b=M.useCallback(B=>{y(!h),l&&l(B,!h)},[h,l,y]),[_,...S]=M.Children.toArray(r),x=M.useMemo(()=>({expanded:h,disabled:n,disableGutters:d,toggle:b}),[h,n,d,b]),w=j({},o,{square:m,disabled:n,disableGutters:d,expanded:h}),A=XU(w),T=j({transition:g},u),O=j({transition:f},v),[I,U]=QI("transition",{elementType:jU,externalForwardedProps:{slots:T,slotProps:O},ownerState:w});return R.jsxs(JU,j({className:je(A.root,i),ref:a,ownerState:w,square:m},p,{children:[R.jsx(WI.Provider,{value:x,children:_}),R.jsx(I,j({in:h,timeout:"auto"},U,{children:R.jsx("div",{"aria-labelledby":_.props.id,id:_.props["aria-controls"],role:"region",className:A.region,children:S})}))]}))}),tV=eV;function aV(t){return rt("MuiAccordionDetails",t)}it("MuiAccordionDetails",["root"]);const oV=["className"],rV=Du(),iV=t=>{const{classes:e}=t;return dt({root:["root"]},aV,e)},sV=Re("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),nV=M.forwardRef(function(e,a){const o=rV({props:e,name:"MuiAccordionDetails"}),{className:r}=o,i=Ie(o,oV),s=o,n=iV(s);return R.jsx(sV,j({className:je(n.root,r),ref:a,ownerState:s},i))}),XI=nV;function dV(t){const{className:e,classes:a,pulsate:o=!1,rippleX:r,rippleY:i,rippleSize:s,in:n,onExited:d,timeout:c}=t,[l,m]=M.useState(!1),u=je(e,a.ripple,a.rippleVisible,o&&a.ripplePulsate),v={width:s,height:s,top:-(s/2)+i,left:-(s/2)+r},g=je(a.child,l&&a.childLeaving,o&&a.childPulsate);return!n&&!l&&m(!0),M.useEffect(()=>{if(!n&&d!=null){const f=setTimeout(d,c);return()=>{clearTimeout(f)}}},[d,n,c]),R.jsx("span",{className:u,style:v,children:R.jsx("span",{className:g})})}const qr=it("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),cV=["center","classes","className"];let z1=t=>t,xM,wM,SM,AM;const n3=550,lV=80,uV=n1(xM||(xM=z1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),mV=n1(wM||(wM=z1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pV=n1(SM||(SM=z1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),fV=Re("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),hV=Re(dV,{name:"MuiTouchRipple",slot:"Ripple"})(AM||(AM=z1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),qr.rippleVisible,uV,n3,({theme:t})=>t.transitions.easing.easeInOut,qr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,qr.child,qr.childLeaving,mV,n3,({theme:t})=>t.transitions.easing.easeInOut,qr.childPulsate,pV,({theme:t})=>t.transitions.easing.easeInOut),vV=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:s}=o,n=Ie(o,cV),[d,c]=M.useState([]),l=M.useRef(0),m=M.useRef(null);M.useEffect(()=>{m.current&&(m.current(),m.current=null)},[d]);const u=M.useRef(!1),v=kw(),g=M.useRef(null),f=M.useRef(null),p=M.useCallback(_=>{const{pulsate:S,rippleX:x,rippleY:w,rippleSize:A,cb:T}=_;c(O=>[...O,R.jsx(hV,{classes:{ripple:je(i.ripple,qr.ripple),rippleVisible:je(i.rippleVisible,qr.rippleVisible),ripplePulsate:je(i.ripplePulsate,qr.ripplePulsate),child:je(i.child,qr.child),childLeaving:je(i.childLeaving,qr.childLeaving),childPulsate:je(i.childPulsate,qr.childPulsate)},timeout:n3,pulsate:S,rippleX:x,rippleY:w,rippleSize:A},l.current)]),l.current+=1,m.current=T},[i]),h=M.useCallback((_={},S={},x=()=>{})=>{const{pulsate:w=!1,center:A=r||S.pulsate,fakeElement:T=!1}=S;if((_==null?void 0:_.type)==="mousedown"&&u.current){u.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(u.current=!0);const O=T?null:f.current,I=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,B,N;if(A||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)U=Math.round(I.width/2),B=Math.round(I.height/2);else{const{clientX:z,clientY:$}=_.touches&&_.touches.length>0?_.touches[0]:_;U=Math.round(z-I.left),B=Math.round($-I.top)}if(A)N=Math.sqrt((2*I.width**2+I.height**2)/3),N%2===0&&(N+=1);else{const z=Math.max(Math.abs((O?O.clientWidth:0)-U),U)*2+2,$=Math.max(Math.abs((O?O.clientHeight:0)-B),B)*2+2;N=Math.sqrt(z**2+$**2)}_!=null&&_.touches?g.current===null&&(g.current=()=>{p({pulsate:w,rippleX:U,rippleY:B,rippleSize:N,cb:x})},v.start(lV,()=>{g.current&&(g.current(),g.current=null)})):p({pulsate:w,rippleX:U,rippleY:B,rippleSize:N,cb:x})},[r,p,v]),y=M.useCallback(()=>{h({},{pulsate:!0})},[h]),b=M.useCallback((_,S)=>{if(v.clear(),(_==null?void 0:_.type)==="touchend"&&g.current){g.current(),g.current=null,v.start(0,()=>{b(_,S)});return}g.current=null,c(x=>x.length>0?x.slice(1):x),m.current=S},[v]);return M.useImperativeHandle(a,()=>({pulsate:y,start:h,stop:b}),[y,h,b]),R.jsx(fV,j({className:je(qr.root,i.root,s),ref:f},n,{children:R.jsx(OU,{component:null,exit:!0,children:d})}))}),gV=vV;function yV(t){return rt("MuiButtonBase",t)}const bV=it("MuiButtonBase",["root","disabled","focusVisible"]),_V=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],xV=t=>{const{disabled:e,focusVisible:a,focusVisibleClassName:o,classes:r}=t,s=dt({root:["root",e&&"disabled",a&&"focusVisible"]},yV,r);return a&&o&&(s.root+=` ${o}`),s},wV=Re("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${bV.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),SV=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:s,className:n,component:d="button",disabled:c=!1,disableRipple:l=!1,disableTouchRipple:m=!1,focusRipple:u=!1,LinkComponent:v="a",onBlur:g,onClick:f,onContextMenu:p,onDragLeave:h,onFocus:y,onFocusVisible:b,onKeyDown:_,onKeyUp:S,onMouseDown:x,onMouseLeave:w,onMouseUp:A,onTouchEnd:T,onTouchMove:O,onTouchStart:I,tabIndex:U=0,TouchRippleProps:B,touchRippleRef:N,type:z}=o,$=Ie(o,_V),Y=M.useRef(null),F=M.useRef(null),V=_a(F,N),{isFocusVisibleRef:Z,onFocus:se,onBlur:J,ref:te}=Uw(),[me,xe]=M.useState(!1);c&&me&&xe(!1),M.useImperativeHandle(r,()=>({focusVisible:()=>{xe(!0),Y.current.focus()}}),[]);const[Q,Ee]=M.useState(!1);M.useEffect(()=>{Ee(!0)},[]);const Ae=Q&&!l&&!c;M.useEffect(()=>{me&&u&&!l&&Q&&F.current.pulsate()},[l,u,me,Q]);function Ce(X,Pe,ze=m){return Gi(We=>(Pe&&Pe(We),!ze&&F.current&&F.current[X](We),!0))}const we=Ce("start",x),De=Ce("stop",p),Te=Ce("stop",h),_e=Ce("stop",A),Qe=Ce("stop",X=>{me&&X.preventDefault(),w&&w(X)}),tt=Ce("start",I),jt=Ce("stop",T),Bt=Ce("stop",O),At=Ce("stop",X=>{J(X),Z.current===!1&&xe(!1),g&&g(X)},!1),mt=Gi(X=>{Y.current||(Y.current=X.currentTarget),se(X),Z.current===!0&&(xe(!0),b&&b(X)),y&&y(X)}),de=()=>{const X=Y.current;return d&&d!=="button"&&!(X.tagName==="A"&&X.href)},oe=M.useRef(!1),q=Gi(X=>{u&&!oe.current&&me&&F.current&&X.key===" "&&(oe.current=!0,F.current.stop(X,()=>{F.current.start(X)})),X.target===X.currentTarget&&de()&&X.key===" "&&X.preventDefault(),_&&_(X),X.target===X.currentTarget&&de()&&X.key==="Enter"&&!c&&(X.preventDefault(),f&&f(X))}),E=Gi(X=>{u&&X.key===" "&&F.current&&me&&!X.defaultPrevented&&(oe.current=!1,F.current.stop(X,()=>{F.current.pulsate(X)})),S&&S(X),f&&X.target===X.currentTarget&&de()&&X.key===" "&&!X.defaultPrevented&&f(X)});let D=d;D==="button"&&($.href||$.to)&&(D=v);const k={};D==="button"?(k.type=z===void 0?"button":z,k.disabled=c):(!$.href&&!$.to&&(k.role="button"),c&&(k["aria-disabled"]=c));const K=_a(a,te,Y),le=j({},o,{centerRipple:i,component:d,disabled:c,disableRipple:l,disableTouchRipple:m,focusRipple:u,tabIndex:U,focusVisible:me}),ge=xV(le);return R.jsxs(wV,j({as:D,className:je(ge.root,n),ownerState:le,onBlur:At,onClick:f,onContextMenu:De,onFocus:mt,onKeyDown:q,onKeyUp:E,onMouseDown:we,onMouseLeave:Qe,onMouseUp:_e,onDragLeave:Te,onTouchEnd:jt,onTouchMove:Bt,onTouchStart:tt,ref:K,tabIndex:c?-1:U,type:z},k,$,{children:[s,Ae?R.jsx(gV,j({ref:V,center:i},B)):null]}))}),Ks=SV;function AV(t){return rt("MuiAccordionSummary",t)}const EV=it("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ol=EV,MV=["children","className","expandIcon","focusVisibleClassName","onClick"],TV=Du(),CV=t=>{const{classes:e,expanded:a,disabled:o,disableGutters:r}=t;return dt({root:["root",a&&"expanded",o&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",a&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",a&&"expanded"]},AV,e)},RV=Re(Ks,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],e),[`&.${Ol.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ol.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Ol.disabled})`]:{cursor:"pointer"},variants:[{props:a=>!a.disableGutters,style:{[`&.${Ol.expanded}`]:{minHeight:64}}}]}}),OV=Re("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Ol.expanded}`]:{margin:"20px 0"}}}]})),IV=Re("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Ol.expanded}`]:{transform:"rotate(180deg)"}})),DV=M.forwardRef(function(e,a){const o=TV({props:e,name:"MuiAccordionSummary"}),{children:r,className:i,expandIcon:s,focusVisibleClassName:n,onClick:d}=o,c=Ie(o,MV),{disabled:l=!1,disableGutters:m,expanded:u,toggle:v}=M.useContext(WI),g=h=>{v&&v(h),d&&d(h)},f=j({},o,{expanded:u,disabled:l,disableGutters:m}),p=CV(f);return R.jsxs(RV,j({focusRipple:!1,disableRipple:!0,disabled:l,component:"div","aria-expanded":u,className:je(p.root,i),focusVisibleClassName:je(p.focusVisible,n),onClick:g,ref:a,ownerState:f},c,{children:[R.jsx(OV,{className:p.content,ownerState:f,children:r}),s&&R.jsx(IV,{className:p.expandIconWrapper,ownerState:f,children:s})]}))}),JI=DV;function qV(t){return rt("MuiIconButton",t)}const PV=it("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),LV=["edge","children","className","color","disabled","disableFocusRipple","size"],NV=t=>{const{classes:e,disabled:a,color:o,edge:r,size:i}=t,s={root:["root",a&&"disabled",o!=="default"&&`color${Fe(o)}`,r&&`edge${Fe(r)}`,`size${Fe(i)}`]};return dt(s,qV,e)},jV=Re(Ks,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.color!=="default"&&e[`color${Fe(a.color)}`],a.edge&&e[`edge${Fe(a.edge)}`],e[`size${Fe(a.size)}`]]}})(({theme:t,ownerState:e})=>j({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:fa(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var a;const o=(a=(t.vars||t).palette)==null?void 0:a[e.color];return j({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&j({color:o==null?void 0:o.main},!e.disableRipple&&{"&:hover":j({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fa(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${PV.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),FV=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:s,color:n="default",disabled:d=!1,disableFocusRipple:c=!1,size:l="medium"}=o,m=Ie(o,LV),u=j({},o,{edge:r,color:n,disabled:d,disableFocusRipple:c,size:l}),v=NV(u);return R.jsx(jV,j({className:je(v.root,s),centerRipple:!0,focusRipple:!c,disabled:d,ref:a},m,{ownerState:u,children:i}))}),Wn=FV;function zV(t){return rt("MuiTypography",t)}it("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const BV=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],kV=t=>{const{align:e,gutterBottom:a,noWrap:o,paragraph:r,variant:i,classes:s}=t,n={root:["root",i,t.align!=="inherit"&&`align${Fe(e)}`,a&&"gutterBottom",o&&"noWrap",r&&"paragraph"]};return dt(n,zV,s)},UV=Re("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.variant&&e[a.variant],a.align!=="inherit"&&e[`align${Fe(a.align)}`],a.noWrap&&e.noWrap,a.gutterBottom&&e.gutterBottom,a.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>j({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),EM={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},VV={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$V=t=>VV[t]||t,HV=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiTypography"}),r=$V(o.color),i=If(j({},o,{color:r})),{align:s="inherit",className:n,component:d,gutterBottom:c=!1,noWrap:l=!1,paragraph:m=!1,variant:u="body1",variantMapping:v=EM}=i,g=Ie(i,BV),f=j({},i,{align:s,color:r,className:n,component:d,gutterBottom:c,noWrap:l,paragraph:m,variant:u,variantMapping:v}),p=d||(m?"p":v[u]||EM[u])||"span",h=kV(f);return R.jsx(UV,j({as:p,ref:a,ownerState:f,className:je(h.root,n)},g))}),Os=HV;function WV(t){return rt("MuiAppBar",t)}it("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const GV=["className","color","enableColorOnDark","position"],YV=t=>{const{color:e,position:a,classes:o}=t,r={root:["root",`color${Fe(e)}`,`position${Fe(a)}`]};return dt(r,WV,o)},Hh=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,ZV=Re(qf,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`position${Fe(a.position)}`],e[`color${Fe(a.color)}`]]}})(({theme:t,ownerState:e})=>{const a=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return j({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&j({},e.color==="default"&&{backgroundColor:a,color:t.palette.getContrastText(a)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&j({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&j({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Hh(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Hh(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Hh(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Hh(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),KV=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:s=!1,position:n="fixed"}=o,d=Ie(o,GV),c=j({},o,{color:i,position:n,enableColorOnDark:s}),l=YV(c);return R.jsx(ZV,j({square:!0,component:"header",ownerState:c,elevation:4,className:je(l.root,r,n==="fixed"&&"mui-fixed"),ref:a},d))}),QV=KV;function XV(t){const{badgeContent:e,invisible:a=!1,max:o=99,showZero:r=!1}=t,i=MI({badgeContent:e,max:o});let s=a;a===!1&&e===0&&!r&&(s=!0);const{badgeContent:n,max:d=o}=s?i:t,c=n&&Number(n)>d?`${d}+`:n;return{badgeContent:n,invisible:s,max:d,displayValue:c}}const JV=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function e$(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function t$(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=o=>t.ownerDocument.querySelector(`input[type="radio"]${o}`);let a=e(`[name="${t.name}"]:checked`);return a||(a=e(`[name="${t.name}"]`)),a!==t}function a$(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||t$(t))}function o$(t){const e=[],a=[];return Array.from(t.querySelectorAll(JV)).forEach((o,r)=>{const i=e$(o);i===-1||!a$(o)||(i===0?e.push(o):a.push({documentOrder:r,tabIndex:i,node:o}))}),a.sort((o,r)=>o.tabIndex===r.tabIndex?o.documentOrder-r.documentOrder:o.tabIndex-r.tabIndex).map(o=>o.node).concat(e)}function r$(){return!0}function i$(t){const{children:e,disableAutoFocus:a=!1,disableEnforceFocus:o=!1,disableRestoreFocus:r=!1,getTabbable:i=o$,isEnabled:s=r$,open:n}=t,d=M.useRef(!1),c=M.useRef(null),l=M.useRef(null),m=M.useRef(null),u=M.useRef(null),v=M.useRef(!1),g=M.useRef(null),f=_a(e.ref,g),p=M.useRef(null);M.useEffect(()=>{!n||!g.current||(v.current=!a)},[a,n]),M.useEffect(()=>{if(!n||!g.current)return;const b=ao(g.current);return g.current.contains(b.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),v.current&&g.current.focus()),()=>{r||(m.current&&m.current.focus&&(d.current=!0,m.current.focus()),m.current=null)}},[n]),M.useEffect(()=>{if(!n||!g.current)return;const b=ao(g.current),_=w=>{p.current=w,!(o||!s()||w.key!=="Tab")&&b.activeElement===g.current&&w.shiftKey&&(d.current=!0,l.current&&l.current.focus())},S=()=>{const w=g.current;if(w===null)return;if(!b.hasFocus()||!s()||d.current){d.current=!1;return}if(w.contains(b.activeElement)||o&&b.activeElement!==c.current&&b.activeElement!==l.current)return;if(b.activeElement!==u.current)u.current=null;else if(u.current!==null)return;if(!v.current)return;let A=[];if((b.activeElement===c.current||b.activeElement===l.current)&&(A=i(g.current)),A.length>0){var T,O;const I=!!((T=p.current)!=null&&T.shiftKey&&((O=p.current)==null?void 0:O.key)==="Tab"),U=A[0],B=A[A.length-1];typeof U!="string"&&typeof B!="string"&&(I?B.focus():U.focus())}else w.focus()};b.addEventListener("focusin",S),b.addEventListener("keydown",_,!0);const x=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&S()},50);return()=>{clearInterval(x),b.removeEventListener("focusin",S),b.removeEventListener("keydown",_,!0)}},[a,o,r,s,n,i]);const h=b=>{m.current===null&&(m.current=b.relatedTarget),v.current=!0,u.current=b.target;const _=e.props.onFocus;_&&_(b)},y=b=>{m.current===null&&(m.current=b.relatedTarget),v.current=!0};return R.jsxs(M.Fragment,{children:[R.jsx("div",{tabIndex:n?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),M.cloneElement(e,{ref:f,onFocus:h}),R.jsx("div",{tabIndex:n?0:-1,onFocus:y,ref:l,"data-testid":"sentinelEnd"})]})}function s$(t){return typeof t=="function"?t():t}const n$=M.forwardRef(function(e,a){const{children:o,container:r,disablePortal:i=!1}=e,[s,n]=M.useState(null),d=_a(M.isValidElement(o)?o.ref:null,a);if(hr(()=>{i||n(s$(r)||document.body)},[r,i]),hr(()=>{if(s&&!i)return Ng(a,s),()=>{Ng(a,null)}},[a,s,i]),i){if(M.isValidElement(o)){const c={ref:d};return M.cloneElement(o,c)}return R.jsx(M.Fragment,{children:o})}return R.jsx(M.Fragment,{children:s&&au.createPortal(o,s)})});function d$(t){const e=ao(t);return e.body===t?Wo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function _p(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function MM(t){return parseInt(Wo(t).getComputedStyle(t).paddingRight,10)||0}function c$(t){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,o=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return a||o}function TM(t,e,a,o,r){const i=[e,a,...o];[].forEach.call(t.children,s=>{const n=i.indexOf(s)===-1,d=!c$(s);n&&d&&_p(s,r)})}function wb(t,e){let a=-1;return t.some((o,r)=>e(o)?(a=r,!0):!1),a}function l$(t,e){const a=[],o=t.container;if(!e.disableScrollLock){if(d$(o)){const s=EI(ao(o));a.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${MM(o)+s}px`;const n=ao(o).querySelectorAll(".mui-fixed");[].forEach.call(n,d=>{a.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${MM(d)+s}px`})}let i;if(o.parentNode instanceof DocumentFragment)i=ao(o).body;else{const s=o.parentElement,n=Wo(o);i=(s==null?void 0:s.nodeName)==="HTML"&&n.getComputedStyle(s).overflowY==="scroll"?s:o}a.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{a.forEach(({value:i,el:s,property:n})=>{i?s.style.setProperty(n,i):s.style.removeProperty(n)})}}function u$(t){const e=[];return[].forEach.call(t.children,a=>{a.getAttribute("aria-hidden")==="true"&&e.push(a)}),e}class m${constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,a){let o=this.modals.indexOf(e);if(o!==-1)return o;o=this.modals.length,this.modals.push(e),e.modalRef&&_p(e.modalRef,!1);const r=u$(a);TM(a,e.mount,e.modalRef,r,!0);const i=wb(this.containers,s=>s.container===a);return i!==-1?(this.containers[i].modals.push(e),o):(this.containers.push({modals:[e],container:a,restore:null,hiddenSiblings:r}),o)}mount(e,a){const o=wb(this.containers,i=>i.modals.indexOf(e)!==-1),r=this.containers[o];r.restore||(r.restore=l$(r,a))}remove(e,a=!0){const o=this.modals.indexOf(e);if(o===-1)return o;const r=wb(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(o,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&_p(e.modalRef,a),TM(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&_p(s.modalRef,!1)}return o}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function p$(t){return typeof t=="function"?t():t}function f$(t){return t?t.props.hasOwnProperty("in"):!1}const h$=new m$;function v$(t){const{container:e,disableEscapeKeyDown:a=!1,disableScrollLock:o=!1,manager:r=h$,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:n,children:d,onClose:c,open:l,rootRef:m}=t,u=M.useRef({}),v=M.useRef(null),g=M.useRef(null),f=_a(g,m),[p,h]=M.useState(!l),y=f$(d);let b=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(b=!1);const _=()=>ao(v.current),S=()=>(u.current.modalRef=g.current,u.current.mount=v.current,u.current),x=()=>{r.mount(S(),{disableScrollLock:o}),g.current&&(g.current.scrollTop=0)},w=Gi(()=>{const $=p$(e)||_().body;r.add(S(),$),g.current&&x()}),A=M.useCallback(()=>r.isTopModal(S()),[r]),T=Gi($=>{v.current=$,$&&(l&&A()?x():g.current&&_p(g.current,b))}),O=M.useCallback(()=>{r.remove(S(),b)},[b,r]);M.useEffect(()=>()=>{O()},[O]),M.useEffect(()=>{l?w():(!y||!i)&&O()},[l,O,y,i,w]);const I=$=>Y=>{var F;(F=$.onKeyDown)==null||F.call($,Y),!(Y.key!=="Escape"||Y.which===229||!A())&&(a||(Y.stopPropagation(),c&&c(Y,"escapeKeyDown")))},U=$=>Y=>{var F;(F=$.onClick)==null||F.call($,Y),Y.target===Y.currentTarget&&c&&c(Y,"backdropClick")};return{getRootProps:($={})=>{const Y=YI(t);delete Y.onTransitionEnter,delete Y.onTransitionExited;const F=j({},Y,$);return j({role:"presentation"},F,{onKeyDown:I(F),ref:f})},getBackdropProps:($={})=>{const Y=$;return j({"aria-hidden":!0},Y,{onClick:U(Y),open:l})},getTransitionProps:()=>{const $=()=>{h(!1),s&&s()},Y=()=>{h(!0),n&&n(),i&&O()};return{onEnter:t3($,d==null?void 0:d.props.onEnter),onExited:t3(Y,d==null?void 0:d.props.onExited)}},rootRef:f,portalRef:T,isTopModal:A,exited:p,hasTransition:y}}function g$(t){const{children:e,defer:a=!1,fallback:o=null}=t,[r,i]=M.useState(!1);return hr(()=>{a||i(!0)},[a]),M.useEffect(()=>{a&&i(!0)},[a]),R.jsx(M.Fragment,{children:r?e:o})}const y$=["onChange","maxRows","minRows","style","value"];function Wh(t){return parseInt(t,10)||0}const b$={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function _$(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const x$=M.forwardRef(function(e,a){const{onChange:o,maxRows:r,minRows:i=1,style:s,value:n}=e,d=Ie(e,y$),{current:c}=M.useRef(n!=null),l=M.useRef(null),m=_a(a,l),u=M.useRef(null),v=M.useCallback(()=>{const p=l.current,y=Wo(p).getComputedStyle(p);if(y.width==="0px")return{outerHeightStyle:0,overflowing:!1};const b=u.current;b.style.width=y.width,b.value=p.value||e.placeholder||"x",b.value.slice(-1)===`
`&&(b.value+=" ");const _=y.boxSizing,S=Wh(y.paddingBottom)+Wh(y.paddingTop),x=Wh(y.borderBottomWidth)+Wh(y.borderTopWidth),w=b.scrollHeight;b.value="x";const A=b.scrollHeight;let T=w;i&&(T=Math.max(Number(i)*A,T)),r&&(T=Math.min(Number(r)*A,T)),T=Math.max(T,A);const O=T+(_==="border-box"?S+x:0),I=Math.abs(T-w)<=1;return{outerHeightStyle:O,overflowing:I}},[r,i,e.placeholder]),g=M.useCallback(()=>{const p=v();if(_$(p))return;const h=l.current;h.style.height=`${p.outerHeightStyle}px`,h.style.overflow=p.overflowing?"hidden":""},[v]);hr(()=>{const p=()=>{g()};let h;const y=A1(p),b=l.current,_=Wo(b);_.addEventListener("resize",y);let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(p),S.observe(b)),()=>{y.clear(),cancelAnimationFrame(h),_.removeEventListener("resize",y),S&&S.disconnect()}},[v,g]),hr(()=>{g()});const f=p=>{c||g(),o&&o(p)};return R.jsxs(M.Fragment,{children:[R.jsx("textarea",j({value:n,onChange:f,ref:m,rows:i,style:s},d)),R.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:u,tabIndex:-1,style:j({},b$.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function cd({props:t,states:e,muiFormControl:a}){return e.reduce((o,r)=>(o[r]=t[r],a&&typeof t[r]>"u"&&(o[r]=a[r]),o),{})}const w$=M.createContext(void 0),B1=w$;function rs(){return M.useContext(B1)}function e6(t){return R.jsx(i9,j({},t,{defaultTheme:T1,themeId:cc}))}function CM(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function zg(t,e=!1){return t&&(CM(t.value)&&t.value!==""||e&&CM(t.defaultValue)&&t.defaultValue!=="")}function S$(t){return t.startAdornment}function A$(t){return rt("MuiInputBase",t)}const E$=it("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),nu=E$,M$=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],k1=(t,e)=>{const{ownerState:a}=t;return[e.root,a.formControl&&e.formControl,a.startAdornment&&e.adornedStart,a.endAdornment&&e.adornedEnd,a.error&&e.error,a.size==="small"&&e.sizeSmall,a.multiline&&e.multiline,a.color&&e[`color${Fe(a.color)}`],a.fullWidth&&e.fullWidth,a.hiddenLabel&&e.hiddenLabel]},U1=(t,e)=>{const{ownerState:a}=t;return[e.input,a.size==="small"&&e.inputSizeSmall,a.multiline&&e.inputMultiline,a.type==="search"&&e.inputTypeSearch,a.startAdornment&&e.inputAdornedStart,a.endAdornment&&e.inputAdornedEnd,a.hiddenLabel&&e.inputHiddenLabel]},T$=t=>{const{classes:e,color:a,disabled:o,error:r,endAdornment:i,focused:s,formControl:n,fullWidth:d,hiddenLabel:c,multiline:l,readOnly:m,size:u,startAdornment:v,type:g}=t,f={root:["root",`color${Fe(a)}`,o&&"disabled",r&&"error",d&&"fullWidth",s&&"focused",n&&"formControl",u&&u!=="medium"&&`size${Fe(u)}`,l&&"multiline",v&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",m&&"readOnly"],input:["input",o&&"disabled",g==="search"&&"inputTypeSearch",l&&"inputMultiline",u==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",v&&"inputAdornedStart",i&&"inputAdornedEnd",m&&"readOnly"]};return dt(f,A$,e)},V1=Re("div",{name:"MuiInputBase",slot:"Root",overridesResolver:k1})(({theme:t,ownerState:e})=>j({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${nu.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&j({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),$1=Re("input",{name:"MuiInputBase",slot:"Input",overridesResolver:U1})(({theme:t,ownerState:e})=>{const a=t.palette.mode==="light",o=j({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return j({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${nu.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${nu.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),C$=R.jsx(e6,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),R$=M.forwardRef(function(e,a){var o;const r=vt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:n,className:d,components:c={},componentsProps:l={},defaultValue:m,disabled:u,disableInjectingGlobalStyles:v,endAdornment:g,fullWidth:f=!1,id:p,inputComponent:h="input",inputProps:y={},inputRef:b,maxRows:_,minRows:S,multiline:x=!1,name:w,onBlur:A,onChange:T,onClick:O,onFocus:I,onKeyDown:U,onKeyUp:B,placeholder:N,readOnly:z,renderSuffix:$,rows:Y,slotProps:F={},slots:V={},startAdornment:Z,type:se="text",value:J}=r,te=Ie(r,M$),me=y.value!=null?y.value:J,{current:xe}=M.useRef(me!=null),Q=M.useRef(),Ee=M.useCallback(ge=>{},[]),Ae=_a(Q,b,y.ref,Ee),[Ce,we]=M.useState(!1),De=rs(),Te=cd({props:r,muiFormControl:De,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Te.focused=De?De.focused:Ce,M.useEffect(()=>{!De&&u&&Ce&&(we(!1),A&&A())},[De,u,Ce,A]);const _e=De&&De.onFilled,Qe=De&&De.onEmpty,tt=M.useCallback(ge=>{zg(ge)?_e&&_e():Qe&&Qe()},[_e,Qe]);hr(()=>{xe&&tt({value:me})},[me,tt,xe]);const jt=ge=>{if(Te.disabled){ge.stopPropagation();return}I&&I(ge),y.onFocus&&y.onFocus(ge),De&&De.onFocus?De.onFocus(ge):we(!0)},Bt=ge=>{A&&A(ge),y.onBlur&&y.onBlur(ge),De&&De.onBlur?De.onBlur(ge):we(!1)},At=(ge,...X)=>{if(!xe){const Pe=ge.target||Q.current;if(Pe==null)throw new Error(dc(1));tt({value:Pe.value})}y.onChange&&y.onChange(ge,...X),T&&T(ge,...X)};M.useEffect(()=>{tt(Q.current)},[]);const mt=ge=>{Q.current&&ge.currentTarget===ge.target&&Q.current.focus(),O&&O(ge)};let de=h,oe=y;x&&de==="input"&&(Y?oe=j({type:void 0,minRows:Y,maxRows:Y},oe):oe=j({type:void 0,maxRows:_,minRows:S},oe),de=x$);const q=ge=>{tt(ge.animationName==="mui-auto-fill-cancel"?Q.current:{value:"x"})};M.useEffect(()=>{De&&De.setAdornedStart(!!Z)},[De,Z]);const E=j({},r,{color:Te.color||"primary",disabled:Te.disabled,endAdornment:g,error:Te.error,focused:Te.focused,formControl:De,fullWidth:f,hiddenLabel:Te.hiddenLabel,multiline:x,size:Te.size,startAdornment:Z,type:se}),D=T$(E),k=V.root||c.Root||V1,K=F.root||l.root||{},le=V.input||c.Input||$1;return oe=j({},oe,(o=F.input)!=null?o:l.input),R.jsxs(M.Fragment,{children:[!v&&C$,R.jsxs(k,j({},K,!su(k)&&{ownerState:j({},E,K.ownerState)},{ref:a,onClick:mt},te,{className:je(D.root,K.className,d,z&&"MuiInputBase-readOnly"),children:[Z,R.jsx(B1.Provider,{value:null,children:R.jsx(le,j({ownerState:E,"aria-invalid":Te.error,"aria-describedby":i,autoComplete:s,autoFocus:n,defaultValue:m,disabled:Te.disabled,id:p,onAnimationStart:q,name:w,placeholder:N,readOnly:z,required:Te.required,rows:Y,value:me,onKeyDown:U,onKeyUp:B,type:se},oe,!su(le)&&{as:de,ownerState:j({},E,oe.ownerState)},{ref:Ae,className:je(D.input,oe.className,z&&"MuiInputBase-readOnly"),onBlur:Bt,onChange:At,onFocus:jt}))}),g,$?$(j({},Te,{startAdornment:Z})):null]}))]})}),Xw=R$;function O$(t){return rt("MuiInput",t)}const I$=j({},nu,it("MuiInput",["root","underline","input"])),wm=I$;function D$(t){return rt("MuiOutlinedInput",t)}const q$=j({},nu,it("MuiOutlinedInput",["root","notchedOutline","input"])),dn=q$;function P$(t){return rt("MuiFilledInput",t)}const L$=j({},nu,it("MuiFilledInput",["root","underline","input"])),md=L$,N$=So(R.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),j$=So(R.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function F$(t){return rt("MuiAvatar",t)}it("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const z$=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],B$=Du(),k$=t=>{const{classes:e,variant:a,colorDefault:o}=t;return dt({root:["root",a,o&&"colorDefault"],img:["img"],fallback:["fallback"]},F$,e)},U$=Re("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],a.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:j({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:j({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),V$=Re("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),$$=Re(j$,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function H$({crossOrigin:t,referrerPolicy:e,src:a,srcSet:o}){const[r,i]=M.useState(!1);return M.useEffect(()=>{if(!a&&!o)return;i(!1);let s=!0;const n=new Image;return n.onload=()=>{s&&i("loaded")},n.onerror=()=>{s&&i("error")},n.crossOrigin=t,n.referrerPolicy=e,n.src=a,o&&(n.srcset=o),()=>{s=!1}},[t,e,a,o]),r}const W$=M.forwardRef(function(e,a){const o=B$({props:e,name:"MuiAvatar"}),{alt:r,children:i,className:s,component:n="div",slots:d={},slotProps:c={},imgProps:l,sizes:m,src:u,srcSet:v,variant:g="circular"}=o,f=Ie(o,z$);let p=null;const h=H$(j({},l,{src:u,srcSet:v})),y=u||v,b=y&&h!=="error",_=j({},o,{colorDefault:!b,component:n,variant:g}),S=k$(_),[x,w]=QI("img",{className:S.img,elementType:V$,externalForwardedProps:{slots:d,slotProps:{img:j({},l,c.img)}},additionalProps:{alt:r,src:u,srcSet:v,sizes:m},ownerState:_});return b?p=R.jsx(x,j({},w)):i||i===0?p=i:y&&r?p=r[0]:p=R.jsx($$,{ownerState:_,className:S.fallback}),R.jsx(U$,j({as:n,ownerState:_,className:je(S.root,s),ref:a},f,{children:p}))}),Bg=W$,G$=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Y$={entering:{opacity:1},entered:{opacity:1}},Z$=M.forwardRef(function(e,a){const o=Cc(),r={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:n,easing:d,in:c,onEnter:l,onEntered:m,onEntering:u,onExit:v,onExited:g,onExiting:f,style:p,timeout:h=r,TransitionComponent:y=F1}=e,b=Ie(e,G$),_=M.useRef(null),S=_a(_,n.ref,a),x=N=>z=>{if(N){const $=_.current;z===void 0?N($):N($,z)}},w=x(u),A=x((N,z)=>{Qw(N);const $=Vs({style:p,timeout:h,easing:d},{mode:"enter"});N.style.webkitTransition=o.transitions.create("opacity",$),N.style.transition=o.transitions.create("opacity",$),l&&l(N,z)}),T=x(m),O=x(f),I=x(N=>{const z=Vs({style:p,timeout:h,easing:d},{mode:"exit"});N.style.webkitTransition=o.transitions.create("opacity",z),N.style.transition=o.transitions.create("opacity",z),v&&v(N)}),U=x(g),B=N=>{i&&i(_.current,N)};return R.jsx(y,j({appear:s,in:c,nodeRef:_,onEnter:A,onEntered:T,onEntering:w,onExit:I,onExited:U,onExiting:O,addEndListener:B,timeout:h},b,{children:(N,z)=>M.cloneElement(n,j({style:j({opacity:0,visibility:N==="exited"&&!c?"hidden":void 0},Y$[N],p,n.props.style),ref:S},z))}))}),t6=Z$;function K$(t){return rt("MuiBackdrop",t)}it("MuiBackdrop",["root","invisible"]);const Q$=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],X$=t=>{const{classes:e,invisible:a}=t;return dt({root:["root",a&&"invisible"]},K$,e)},J$=Re("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.invisible&&e.invisible]}})(({ownerState:t})=>j({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),eH=M.forwardRef(function(e,a){var o,r,i;const s=vt({props:e,name:"MuiBackdrop"}),{children:n,className:d,component:c="div",components:l={},componentsProps:m={},invisible:u=!1,open:v,slotProps:g={},slots:f={},TransitionComponent:p=t6,transitionDuration:h}=s,y=Ie(s,Q$),b=j({},s,{component:c,invisible:u}),_=X$(b),S=(o=g.root)!=null?o:m.root;return R.jsx(p,j({in:v,timeout:h},y,{children:R.jsx(J$,j({"aria-hidden":!0},S,{as:(r=(i=f.root)!=null?i:l.Root)!=null?r:c,className:je(_.root,d,S==null?void 0:S.className),ownerState:j({},b,S==null?void 0:S.ownerState),classes:_,ref:a,children:n}))}))}),tH=eH;function aH(t){return rt("MuiBadge",t)}const oH=it("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),cn=oH,rH=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Sb=10,Ab=4,iH=Du(),sH=t=>{const{color:e,anchorOrigin:a,invisible:o,overlap:r,variant:i,classes:s={}}=t,n={root:["root"],badge:["badge",i,o&&"invisible",`anchorOrigin${Fe(a.vertical)}${Fe(a.horizontal)}`,`anchorOrigin${Fe(a.vertical)}${Fe(a.horizontal)}${Fe(r)}`,`overlap${Fe(r)}`,e!=="default"&&`color${Fe(e)}`]};return dt(n,aH,s)},nH=Re("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),dH=Re("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.badge,e[a.variant],e[`anchorOrigin${Fe(a.anchorOrigin.vertical)}${Fe(a.anchorOrigin.horizontal)}${Fe(a.overlap)}`],a.color!=="default"&&e[`color${Fe(a.color)}`],a.invisible&&e.invisible]}})(({theme:t})=>{var e;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Sb*2,lineHeight:1,padding:"0 6px",height:Sb*2,borderRadius:Sb,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(a=>{var o,r;return((o=t.vars)!=null?o:t).palette[a].main&&((r=t.vars)!=null?r:t).palette[a].contrastText}).map(a=>({props:{color:a},style:{backgroundColor:(t.vars||t).palette[a].main,color:(t.vars||t).palette[a].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Ab,height:Ab*2,minWidth:Ab*2,padding:0}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${cn.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}}),cH=M.forwardRef(function(e,a){var o,r,i,s,n,d;const c=iH({props:e,name:"MuiBadge"}),{anchorOrigin:l={vertical:"top",horizontal:"right"},className:m,component:u,components:v={},componentsProps:g={},children:f,overlap:p="rectangular",color:h="default",invisible:y=!1,max:b=99,badgeContent:_,slots:S,slotProps:x,showZero:w=!1,variant:A="standard"}=c,T=Ie(c,rH),{badgeContent:O,invisible:I,max:U,displayValue:B}=XV({max:b,invisible:y,badgeContent:_,showZero:w}),N=MI({anchorOrigin:l,color:h,overlap:p,variant:A,badgeContent:_}),z=I||O==null&&A!=="dot",{color:$=h,overlap:Y=p,anchorOrigin:F=l,variant:V=A}=z?N:c,Z=V!=="dot"?B:void 0,se=j({},c,{badgeContent:O,invisible:z,max:U,displayValue:Z,showZero:w,anchorOrigin:F,color:$,overlap:Y,variant:V}),J=sH(se),te=(o=(r=S==null?void 0:S.root)!=null?r:v.Root)!=null?o:nH,me=(i=(s=S==null?void 0:S.badge)!=null?s:v.Badge)!=null?i:dH,xe=(n=x==null?void 0:x.root)!=null?n:g.root,Q=(d=x==null?void 0:x.badge)!=null?d:g.badge,Ee=Qn({elementType:te,externalSlotProps:xe,externalForwardedProps:T,additionalProps:{ref:a,as:u},ownerState:se,className:je(xe==null?void 0:xe.className,J.root,m)}),Ae=Qn({elementType:me,externalSlotProps:Q,ownerState:se,className:je(J.badge,Q==null?void 0:Q.className)});return R.jsxs(te,j({},Ee,{children:[f,R.jsx(me,j({},Ae,{children:Z}))]}))}),lH=cH,uH=it("MuiBox",["root"]),mH=uH,pH=Ww(),fH=m9({themeId:cc,defaultTheme:pH,defaultClassName:mH.root,generateClassName:Lw.generate}),qa=fH;function hH(t){return rt("MuiButton",t)}const vH=it("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Gh=vH,gH=M.createContext({}),yH=gH,bH=M.createContext(void 0),_H=bH,xH=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],wH=t=>{const{color:e,disableElevation:a,fullWidth:o,size:r,variant:i,classes:s}=t,n={root:["root",i,`${i}${Fe(e)}`,`size${Fe(r)}`,`${i}Size${Fe(r)}`,`color${Fe(e)}`,a&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Fe(r)}`],endIcon:["icon","endIcon",`iconSize${Fe(r)}`]},d=dt(n,hH,s);return j({},s,d)},a6=t=>j({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),SH=Re(Ks,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`${a.variant}${Fe(a.color)}`],e[`size${Fe(a.size)}`],e[`${a.variant}Size${Fe(a.size)}`],a.color==="inherit"&&e.colorInherit,a.disableElevation&&e.disableElevation,a.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var a,o;const r=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return j({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":j({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fa(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fa(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fa(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Gh.focusVisible}`]:j({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Gh.disabled}`]:j({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${fa(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(a=(o=t.palette).getContrastText)==null?void 0:a.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:r,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Gh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Gh.disabled}`]:{boxShadow:"none"}}),AH=Re("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.startIcon,e[`iconSize${Fe(a.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},a6(t))),EH=Re("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.endIcon,e[`iconSize${Fe(a.size)}`]]}})(({ownerState:t})=>j({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},a6(t))),MH=M.forwardRef(function(e,a){const o=M.useContext(yH),r=M.useContext(_H),i=Fw(o,e),s=vt({props:i,name:"MuiButton"}),{children:n,color:d="primary",component:c="button",className:l,disabled:m=!1,disableElevation:u=!1,disableFocusRipple:v=!1,endIcon:g,focusVisibleClassName:f,fullWidth:p=!1,size:h="medium",startIcon:y,type:b,variant:_="text"}=s,S=Ie(s,xH),x=j({},s,{color:d,component:c,disabled:m,disableElevation:u,disableFocusRipple:v,fullWidth:p,size:h,type:b,variant:_}),w=wH(x),A=y&&R.jsx(AH,{className:w.startIcon,ownerState:x,children:y}),T=g&&R.jsx(EH,{className:w.endIcon,ownerState:x,children:g}),O=r||"";return R.jsxs(SH,j({ownerState:x,className:je(o.className,w.root,l,O),component:c,disabled:m,focusRipple:!v,focusVisibleClassName:je(w.focusVisible,f),ref:a,type:b},S,{classes:w,children:[A,n,T]}))}),Jw=MH;function TH(t){return rt("MuiCard",t)}it("MuiCard",["root"]);const CH=["className","raised"],RH=t=>{const{classes:e}=t;return dt({root:["root"]},TH,e)},OH=Re(qf,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),IH=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=o,s=Ie(o,CH),n=j({},o,{raised:i}),d=RH(n);return R.jsx(OH,j({className:je(d.root,r),elevation:i?8:void 0,ref:a,ownerState:n},s))}),DH=IH;function qH(t){return rt("MuiCardActionArea",t)}const PH=it("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Eb=PH,LH=["children","className","focusVisibleClassName"],NH=t=>{const{classes:e}=t;return dt({root:["root"],focusHighlight:["focusHighlight"]},qH,e)},jH=Re(Ks,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Eb.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Eb.focusVisible} .${Eb.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),FH=Re("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),zH=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiCardActionArea"}),{children:r,className:i,focusVisibleClassName:s}=o,n=Ie(o,LH),d=o,c=NH(d);return R.jsxs(jH,j({className:je(c.root,i),focusVisibleClassName:je(s,c.focusVisible),ref:a,ownerState:d},n,{children:[r,R.jsx(FH,{className:c.focusHighlight,ownerState:d})]}))}),BH=zH;function kH(t){return rt("MuiCardActions",t)}it("MuiCardActions",["root","spacing"]);const UH=["disableSpacing","className"],VH=t=>{const{classes:e,disableSpacing:a}=t;return dt({root:["root",!a&&"spacing"]},kH,e)},$H=Re("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disableSpacing&&e.spacing]}})(({ownerState:t})=>j({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),HH=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:i}=o,s=Ie(o,UH),n=j({},o,{disableSpacing:r}),d=VH(n);return R.jsx($H,j({className:je(d.root,i),ownerState:n,ref:a},s))}),WH=HH;function GH(t){return rt("MuiCardContent",t)}it("MuiCardContent",["root"]);const YH=["className","component"],ZH=t=>{const{classes:e}=t;return dt({root:["root"]},GH,e)},KH=Re("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),QH=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=o,s=Ie(o,YH),n=j({},o,{component:i}),d=ZH(n);return R.jsx(KH,j({as:i,className:je(d.root,r),ownerState:n,ref:a},s))}),XH=QH;function JH(t){return rt("PrivateSwitchBase",t)}it("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const eW=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],tW=t=>{const{classes:e,checked:a,disabled:o,edge:r}=t,i={root:["root",a&&"checked",o&&"disabled",r&&`edge${Fe(r)}`],input:["input"]};return dt(i,JH,e)},aW=Re(Ks)(({ownerState:t})=>j({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),oW=Re("input",{shouldForwardProp:po})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),rW=M.forwardRef(function(e,a){const{autoFocus:o,checked:r,checkedIcon:i,className:s,defaultChecked:n,disabled:d,disableFocusRipple:c=!1,edge:l=!1,icon:m,id:u,inputProps:v,inputRef:g,name:f,onBlur:p,onChange:h,onFocus:y,readOnly:b,required:_=!1,tabIndex:S,type:x,value:w}=e,A=Ie(e,eW),[T,O]=Zp({controlled:r,default:!!n,name:"SwitchBase",state:"checked"}),I=rs(),U=V=>{y&&y(V),I&&I.onFocus&&I.onFocus(V)},B=V=>{p&&p(V),I&&I.onBlur&&I.onBlur(V)},N=V=>{if(V.nativeEvent.defaultPrevented)return;const Z=V.target.checked;O(Z),h&&h(V,Z)};let z=d;I&&typeof z>"u"&&(z=I.disabled);const $=x==="checkbox"||x==="radio",Y=j({},e,{checked:T,disabled:z,disableFocusRipple:c,edge:l}),F=tW(Y);return R.jsxs(aW,j({component:"span",className:je(F.root,s),centerRipple:!0,focusRipple:!c,disabled:z,tabIndex:null,role:void 0,onFocus:U,onBlur:B,ownerState:Y,ref:a},A,{children:[R.jsx(oW,j({autoFocus:o,checked:r,defaultChecked:n,className:F.input,disabled:z,id:$?u:void 0,name:f,onChange:N,readOnly:b,ref:g,required:_,ownerState:Y,tabIndex:S,type:x},x==="checkbox"&&w===void 0?{}:{value:w},v)),T?i:m]}))}),iW=rW,sW=(t,e)=>j({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),nW=t=>j({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),dW=(t,e=!1)=>{var a;const o={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([s,n])=>{var d;o[t.getColorSchemeSelector(s).replace(/\s*&/,"")]={colorScheme:(d=n.palette)==null?void 0:d.mode}});let r=j({html:sW(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:j({margin:0},nW(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},o);const i=(a=t.components)==null||(a=a.MuiCssBaseline)==null?void 0:a.styleOverrides;return i&&(r=[r,i]),r};function cW(t){const e=vt({props:t,name:"MuiCssBaseline"}),{children:a,enableColorScheme:o=!1}=e;return R.jsxs(M.Fragment,{children:[R.jsx(e6,{styles:r=>dW(r,o)}),a]})}function lW(t){return rt("MuiModal",t)}it("MuiModal",["root","hidden","backdrop"]);const uW=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],mW=t=>{const{open:e,exited:a,classes:o}=t;return dt({root:["root",!e&&a&&"hidden"],backdrop:["backdrop"]},lW,o)},pW=Re("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.open&&a.exited&&e.hidden]}})(({theme:t,ownerState:e})=>j({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),fW=Re(tH,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),hW=M.forwardRef(function(e,a){var o,r,i,s,n,d;const c=vt({name:"MuiModal",props:e}),{BackdropComponent:l=fW,BackdropProps:m,className:u,closeAfterTransition:v=!1,children:g,container:f,component:p,components:h={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:_=!1,disableEscapeKeyDown:S=!1,disablePortal:x=!1,disableRestoreFocus:w=!1,disableScrollLock:A=!1,hideBackdrop:T=!1,keepMounted:O=!1,onBackdropClick:I,open:U,slotProps:B,slots:N}=c,z=Ie(c,uW),$=j({},c,{closeAfterTransition:v,disableAutoFocus:b,disableEnforceFocus:_,disableEscapeKeyDown:S,disablePortal:x,disableRestoreFocus:w,disableScrollLock:A,hideBackdrop:T,keepMounted:O}),{getRootProps:Y,getBackdropProps:F,getTransitionProps:V,portalRef:Z,isTopModal:se,exited:J,hasTransition:te}=v$(j({},$,{rootRef:a})),me=j({},$,{exited:J}),xe=mW(me),Q={};if(g.props.tabIndex===void 0&&(Q.tabIndex="-1"),te){const{onEnter:_e,onExited:Qe}=V();Q.onEnter=_e,Q.onExited=Qe}const Ee=(o=(r=N==null?void 0:N.root)!=null?r:h.Root)!=null?o:pW,Ae=(i=(s=N==null?void 0:N.backdrop)!=null?s:h.Backdrop)!=null?i:l,Ce=(n=B==null?void 0:B.root)!=null?n:y.root,we=(d=B==null?void 0:B.backdrop)!=null?d:y.backdrop,De=Qn({elementType:Ee,externalSlotProps:Ce,externalForwardedProps:z,getSlotProps:Y,additionalProps:{ref:a,as:p},ownerState:me,className:je(u,Ce==null?void 0:Ce.className,xe==null?void 0:xe.root,!me.open&&me.exited&&(xe==null?void 0:xe.hidden))}),Te=Qn({elementType:Ae,externalSlotProps:we,additionalProps:m,getSlotProps:_e=>F(j({},_e,{onClick:Qe=>{I&&I(Qe),_e!=null&&_e.onClick&&_e.onClick(Qe)}})),className:je(we==null?void 0:we.className,m==null?void 0:m.className,xe==null?void 0:xe.backdrop),ownerState:me});return!O&&!U&&(!te||J)?null:R.jsx(n$,{ref:Z,container:f,disablePortal:x,children:R.jsxs(Ee,j({},De,{children:[!T&&l?R.jsx(Ae,j({},Te)):null,R.jsx(i$,{disableEnforceFocus:_,disableAutoFocus:b,disableRestoreFocus:w,isEnabled:se,open:U,children:M.cloneElement(g,Q)})]}))})}),o6=hW;function vW(t){return rt("MuiDivider",t)}const gW=it("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),RM=gW,yW=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],bW=t=>{const{absolute:e,children:a,classes:o,flexItem:r,light:i,orientation:s,textAlign:n,variant:d}=t;return dt({root:["root",e&&"absolute",d,i&&"light",s==="vertical"&&"vertical",r&&"flexItem",a&&"withChildren",a&&s==="vertical"&&"withChildrenVertical",n==="right"&&s!=="vertical"&&"textAlignRight",n==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},vW,o)},_W=Re("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.absolute&&e.absolute,e[a.variant],a.light&&e.light,a.orientation==="vertical"&&e.vertical,a.flexItem&&e.flexItem,a.children&&e.withChildren,a.children&&a.orientation==="vertical"&&e.withChildrenVertical,a.textAlign==="right"&&a.orientation!=="vertical"&&e.textAlignRight,a.textAlign==="left"&&a.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>j({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:fa(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>j({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>j({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>j({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>j({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),xW=Re("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.wrapper,a.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>j({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),r6=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:s,component:n=i?"div":"hr",flexItem:d=!1,light:c=!1,orientation:l="horizontal",role:m=n!=="hr"?"separator":void 0,textAlign:u="center",variant:v="fullWidth"}=o,g=Ie(o,yW),f=j({},o,{absolute:r,component:n,flexItem:d,light:c,orientation:l,role:m,textAlign:u,variant:v}),p=bW(f);return R.jsx(_W,j({as:n,className:je(p.root,s),role:m,ref:a,ownerState:f},g,{children:i?R.jsx(xW,{className:p.wrapper,ownerState:f,children:i}):null}))});r6.muiSkipListHighlight=!0;const kg=r6,wW=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function SW(t,e,a){const o=e.getBoundingClientRect(),r=a&&a.getBoundingClientRect(),i=Wo(e);let s;if(e.fakeTransform)s=e.fakeTransform;else{const c=i.getComputedStyle(e);s=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let n=0,d=0;if(s&&s!=="none"&&typeof s=="string"){const c=s.split("(")[1].split(")")[0].split(",");n=parseInt(c[4],10),d=parseInt(c[5],10)}return t==="left"?r?`translateX(${r.right+n-o.left}px)`:`translateX(${i.innerWidth+n-o.left}px)`:t==="right"?r?`translateX(-${o.right-r.left-n}px)`:`translateX(-${o.left+o.width-n}px)`:t==="up"?r?`translateY(${r.bottom+d-o.top}px)`:`translateY(${i.innerHeight+d-o.top}px)`:r?`translateY(-${o.top-r.top+o.height-d}px)`:`translateY(-${o.top+o.height-d}px)`}function AW(t){return typeof t=="function"?t():t}function Yh(t,e,a){const o=AW(a),r=SW(t,e,o);r&&(e.style.webkitTransform=r,e.style.transform=r)}const EW=M.forwardRef(function(e,a){const o=Cc(),r={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:s,appear:n=!0,children:d,container:c,direction:l="down",easing:m=r,in:u,onEnter:v,onEntered:g,onEntering:f,onExit:p,onExited:h,onExiting:y,style:b,timeout:_=i,TransitionComponent:S=F1}=e,x=Ie(e,wW),w=M.useRef(null),A=_a(d.ref,w,a),T=F=>V=>{F&&(V===void 0?F(w.current):F(w.current,V))},O=T((F,V)=>{Yh(l,F,c),Qw(F),v&&v(F,V)}),I=T((F,V)=>{const Z=Vs({timeout:_,style:b,easing:m},{mode:"enter"});F.style.webkitTransition=o.transitions.create("-webkit-transform",j({},Z)),F.style.transition=o.transitions.create("transform",j({},Z)),F.style.webkitTransform="none",F.style.transform="none",f&&f(F,V)}),U=T(g),B=T(y),N=T(F=>{const V=Vs({timeout:_,style:b,easing:m},{mode:"exit"});F.style.webkitTransition=o.transitions.create("-webkit-transform",V),F.style.transition=o.transitions.create("transform",V),Yh(l,F,c),p&&p(F)}),z=T(F=>{F.style.webkitTransition="",F.style.transition="",h&&h(F)}),$=F=>{s&&s(w.current,F)},Y=M.useCallback(()=>{w.current&&Yh(l,w.current,c)},[l,c]);return M.useEffect(()=>{if(u||l==="down"||l==="right")return;const F=A1(()=>{w.current&&Yh(l,w.current,c)}),V=Wo(w.current);return V.addEventListener("resize",F),()=>{F.clear(),V.removeEventListener("resize",F)}},[l,u,c]),M.useEffect(()=>{u||Y()},[u,Y]),R.jsx(S,j({nodeRef:w,onEnter:O,onEntered:U,onEntering:I,onExit:N,onExited:z,onExiting:B,addEndListener:$,appear:n,in:u,timeout:_},x,{children:(F,V)=>M.cloneElement(d,j({ref:A,style:j({visibility:F==="exited"&&!u?"hidden":void 0},b,d.props.style)},V))}))}),i6=EW;function MW(t){return rt("MuiDrawer",t)}it("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const TW=["BackdropProps"],CW=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],s6=(t,e)=>{const{ownerState:a}=t;return[e.root,(a.variant==="permanent"||a.variant==="persistent")&&e.docked,e.modal]},RW=t=>{const{classes:e,anchor:a,variant:o}=t,r={root:["root"],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Fe(a)}`,o!=="temporary"&&`paperAnchorDocked${Fe(a)}`]};return dt(r,MW,e)},OW=Re(o6,{name:"MuiDrawer",slot:"Root",overridesResolver:s6})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),OM=Re("div",{shouldForwardProp:po,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:s6})({flex:"0 0 auto"}),IW=Re(qf,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.paper,e[`paperAnchor${Fe(a.anchor)}`],a.variant!=="temporary"&&e[`paperAnchorDocked${Fe(a.anchor)}`]]}})(({theme:t,ownerState:e})=>j({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),n6={left:"right",right:"left",top:"down",bottom:"up"};function Od(t){return["left","right"].indexOf(t)!==-1}function Zm({direction:t},e){return t==="rtl"&&Od(e)?n6[e]:e}const DW=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiDrawer"}),r=Cc(),i=OI(),s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:n="left",BackdropProps:d,children:c,className:l,elevation:m=16,hideBackdrop:u=!1,ModalProps:{BackdropProps:v}={},onClose:g,open:f=!1,PaperProps:p={},SlideProps:h,TransitionComponent:y=i6,transitionDuration:b=s,variant:_="temporary"}=o,S=Ie(o.ModalProps,TW),x=Ie(o,CW),w=M.useRef(!1);M.useEffect(()=>{w.current=!0},[]);const A=Zm({direction:i?"rtl":"ltr"},n),O=j({},o,{anchor:n,elevation:m,open:f,variant:_},x),I=RW(O),U=R.jsx(IW,j({elevation:_==="temporary"?m:0,square:!0},p,{className:je(I.paper,p.className),ownerState:O,children:c}));if(_==="permanent")return R.jsx(OM,j({className:je(I.root,I.docked,l),ownerState:O,ref:a},x,{children:U}));const B=R.jsx(y,j({in:f,direction:n6[A],timeout:b,appear:w.current},h,{children:U}));return _==="persistent"?R.jsx(OM,j({className:je(I.root,I.docked,l),ownerState:O,ref:a},x,{children:B})):R.jsx(OW,j({BackdropProps:j({},d,v,{transitionDuration:b}),className:je(I.root,I.modal,l),open:f,ownerState:O,onClose:g,hideBackdrop:u,ref:a},x,S,{children:B}))}),d6=DW;function qW(t){return rt("MuiFab",t)}const PW=it("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),IM=PW,LW=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],NW=t=>{const{color:e,variant:a,classes:o,size:r}=t,i={root:["root",a,`size${Fe(r)}`,e==="inherit"?"colorInherit":e]},s=dt(i,qW,o);return j({},o,s)},jW=Re(Ks,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>po(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`size${Fe(a.size)}`],a.color==="inherit"&&e.colorInherit,e[Fe(a.size)],e[a.color]]}})(({theme:t,ownerState:e})=>{var a,o;return j({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(a=(o=t.palette).getContrastText)==null?void 0:a.call(o,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${IM.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>j({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${IM.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),FW=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiFab"}),{children:r,className:i,color:s="default",component:n="button",disabled:d=!1,disableFocusRipple:c=!1,focusVisibleClassName:l,size:m="large",variant:u="circular"}=o,v=Ie(o,LW),g=j({},o,{color:s,component:n,disabled:d,disableFocusRipple:c,size:m,variant:u}),f=NW(g);return R.jsx(jW,j({className:je(f.root,i),component:n,disabled:d,focusRipple:!c,focusVisibleClassName:je(f.focusVisible,l),ownerState:g,ref:a},v,{classes:f,children:r}))}),zW=FW,BW=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],kW=t=>{const{classes:e,disableUnderline:a}=t,r=dt({root:["root",!a&&"underline"],input:["input"]},P$,e);return j({},e,r)},UW=Re(V1,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[...k1(t,e),!a.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var a;const o=t.palette.mode==="light",r=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",n=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return j({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${md.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${md.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:n}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[e.color||"primary"])==null?void 0:a.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${md.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${md.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${md.disabled}, .${md.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${md.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&j({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),VW=Re($1,{name:"MuiFilledInput",slot:"Input",overridesResolver:U1})(({theme:t,ownerState:e})=>j({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),c6=M.forwardRef(function(e,a){var o,r,i,s;const n=vt({props:e,name:"MuiFilledInput"}),{components:d={},componentsProps:c,fullWidth:l=!1,inputComponent:m="input",multiline:u=!1,slotProps:v,slots:g={},type:f="text"}=n,p=Ie(n,BW),h=j({},n,{fullWidth:l,inputComponent:m,multiline:u,type:f}),y=kW(n),b={root:{ownerState:h},input:{ownerState:h}},_=v??c?Io(b,v??c):b,S=(o=(r=g.root)!=null?r:d.Root)!=null?o:UW,x=(i=(s=g.input)!=null?s:d.Input)!=null?i:VW;return R.jsx(Xw,j({slots:{root:S,input:x},componentsProps:_,fullWidth:l,inputComponent:m,multiline:u,ref:a,type:f},p,{classes:y}))});c6.muiName="Input";const l6=c6;function $W(t){return rt("MuiFormControl",t)}it("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const HW=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],WW=t=>{const{classes:e,margin:a,fullWidth:o}=t,r={root:["root",a!=="none"&&`margin${Fe(a)}`,o&&"fullWidth"]};return dt(r,$W,e)},GW=Re("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,e[`margin${Fe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>j({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),YW=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiFormControl"}),{children:r,className:i,color:s="primary",component:n="div",disabled:d=!1,error:c=!1,focused:l,fullWidth:m=!1,hiddenLabel:u=!1,margin:v="none",required:g=!1,size:f="medium",variant:p="outlined"}=o,h=Ie(o,HW),y=j({},o,{color:s,component:n,disabled:d,error:c,fullWidth:m,hiddenLabel:u,margin:v,required:g,size:f,variant:p}),b=WW(y),[_,S]=M.useState(()=>{let B=!1;return r&&M.Children.forEach(r,N=>{if(!bp(N,["Input","Select"]))return;const z=bp(N,["Select"])?N.props.input:N;z&&S$(z.props)&&(B=!0)}),B}),[x,w]=M.useState(()=>{let B=!1;return r&&M.Children.forEach(r,N=>{bp(N,["Input","Select"])&&(zg(N.props,!0)||zg(N.props.inputProps,!0))&&(B=!0)}),B}),[A,T]=M.useState(!1);d&&A&&T(!1);const O=l!==void 0&&!d?l:A;let I;const U=M.useMemo(()=>({adornedStart:_,setAdornedStart:S,color:s,disabled:d,error:c,filled:x,focused:O,fullWidth:m,hiddenLabel:u,size:f,onBlur:()=>{T(!1)},onEmpty:()=>{w(!1)},onFilled:()=>{w(!0)},onFocus:()=>{T(!0)},registerEffect:I,required:g,variant:p}),[_,s,d,c,x,O,m,u,I,g,f,p]);return R.jsx(B1.Provider,{value:U,children:R.jsx(GW,j({as:n,ownerState:y,className:je(b.root,i),ref:a},h,{children:r}))})}),eS=YW,ZW=nk({createStyledComponent:Re("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>vt({props:t,name:"MuiStack"})}),KW=ZW;function QW(t){return rt("MuiFormControlLabel",t)}const XW=it("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Km=XW,JW=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],eG=t=>{const{classes:e,disabled:a,labelPlacement:o,error:r,required:i}=t,s={root:["root",a&&"disabled",`labelPlacement${Fe(o)}`,r&&"error",i&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",r&&"error"]};return dt(s,QW,e)},tG=Re("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${Km.label}`]:e.label},e.root,e[`labelPlacement${Fe(a.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>j({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Km.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Km.label}`]:{[`&.${Km.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),aG=Re("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Km.error}`]:{color:(t.vars||t).palette.error.main}})),oG=M.forwardRef(function(e,a){var o,r;const i=vt({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:n={},control:d,disabled:c,disableTypography:l,label:m,labelPlacement:u="end",required:v,slotProps:g={}}=i,f=Ie(i,JW),p=rs(),h=(o=c??d.props.disabled)!=null?o:p==null?void 0:p.disabled,y=v??d.props.required,b={disabled:h,required:y};["checked","name","onChange","value","inputRef"].forEach(T=>{typeof d.props[T]>"u"&&typeof i[T]<"u"&&(b[T]=i[T])});const _=cd({props:i,muiFormControl:p,states:["error"]}),S=j({},i,{disabled:h,labelPlacement:u,required:y,error:_.error}),x=eG(S),w=(r=g.typography)!=null?r:n.typography;let A=m;return A!=null&&A.type!==Os&&!l&&(A=R.jsx(Os,j({component:"span"},w,{className:je(x.label,w==null?void 0:w.className),children:A}))),R.jsxs(tG,j({className:je(x.root,s),ownerState:S,ref:a},f,{children:[M.cloneElement(d,b),y?R.jsxs(KW,{display:"block",children:[A,R.jsxs(aG,{ownerState:S,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]}):A]}))}),DM=oG;function rG(t){return rt("MuiFormGroup",t)}it("MuiFormGroup",["root","row","error"]);const iG=["className","row"],sG=t=>{const{classes:e,row:a,error:o}=t;return dt({root:["root",a&&"row",o&&"error"]},rG,e)},nG=Re("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.row&&e.row]}})(({ownerState:t})=>j({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),dG=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiFormGroup"}),{className:r,row:i=!1}=o,s=Ie(o,iG),n=rs(),d=cd({props:o,muiFormControl:n,states:["error"]}),c=j({},o,{row:i,error:d.error}),l=sG(c);return R.jsx(nG,j({className:je(l.root,r),ownerState:c,ref:a},s))}),cG=dG;function lG(t){return rt("MuiFormHelperText",t)}const uG=it("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),qM=uG;var PM;const mG=["children","className","component","disabled","error","filled","focused","margin","required","variant"],pG=t=>{const{classes:e,contained:a,size:o,disabled:r,error:i,filled:s,focused:n,required:d}=t,c={root:["root",r&&"disabled",i&&"error",o&&`size${Fe(o)}`,a&&"contained",n&&"focused",s&&"filled",d&&"required"]};return dt(c,lG,e)},fG=Re("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.size&&e[`size${Fe(a.size)}`],a.contained&&e.contained,a.filled&&e.filled]}})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${qM.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${qM.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),hG=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:s="p"}=o,n=Ie(o,mG),d=rs(),c=cd({props:o,muiFormControl:d,states:["variant","size","disabled","error","filled","focused","required"]}),l=j({},o,{component:s,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),m=pG(l);return R.jsx(fG,j({as:s,ownerState:l,className:je(m.root,i),ref:a},n,{children:r===" "?PM||(PM=R.jsx("span",{className:"notranslate",children:"​"})):r}))}),vG=hG;function gG(t){return rt("MuiFormLabel",t)}const yG=it("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),xp=yG,bG=["children","className","color","component","disabled","error","filled","focused","required"],_G=t=>{const{classes:e,color:a,focused:o,disabled:r,error:i,filled:s,required:n}=t,d={root:["root",`color${Fe(a)}`,r&&"disabled",i&&"error",s&&"filled",o&&"focused",n&&"required"],asterisk:["asterisk",i&&"error"]};return dt(d,gG,e)},xG=Re("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>j({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>j({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${xp.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${xp.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${xp.error}`]:{color:(t.vars||t).palette.error.main}})),wG=Re("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${xp.error}`]:{color:(t.vars||t).palette.error.main}})),SG=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:s="label"}=o,n=Ie(o,bG),d=rs(),c=cd({props:o,muiFormControl:d,states:["color","required","focused","disabled","error","filled"]}),l=j({},o,{color:c.color||"primary",component:s,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),m=_G(l);return R.jsxs(xG,j({as:s,ownerState:l,className:je(m.root,i),ref:a},n,{children:[r,c.required&&R.jsxs(wG,{ownerState:l,"aria-hidden":!0,className:m.asterisk,children:[" ","*"]})]}))}),AG=SG,EG=M.createContext(),LM=EG;function MG(t){return rt("MuiGrid",t)}const TG=[0,1,2,3,4,5,6,7,8,9,10],CG=["column-reverse","column","row-reverse","row"],RG=["nowrap","wrap-reverse","wrap"],Sm=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Kp=it("MuiGrid",["root","container","item","zeroMinWidth",...TG.map(t=>`spacing-xs-${t}`),...CG.map(t=>`direction-xs-${t}`),...RG.map(t=>`wrap-xs-${t}`),...Sm.map(t=>`grid-xs-${t}`),...Sm.map(t=>`grid-sm-${t}`),...Sm.map(t=>`grid-md-${t}`),...Sm.map(t=>`grid-lg-${t}`),...Sm.map(t=>`grid-xl-${t}`)]),OG=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Hl(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function IG({theme:t,ownerState:e}){let a;return t.breakpoints.keys.reduce((o,r)=>{let i={};if(e[r]&&(a=e[r]),!a)return o;if(a===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(a==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=Zd({values:e.columns,breakpoints:t.breakpoints.values}),n=typeof s=="object"?s[r]:s;if(n==null)return o;const d=`${Math.round(a/n*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const l=t.spacing(e.columnSpacing);if(l!=="0px"){const m=`calc(${d} + ${Hl(l)})`;c={flexBasis:m,maxWidth:m}}}i=j({flexBasis:d,flexGrow:0,maxWidth:d},c)}return t.breakpoints.values[r]===0?Object.assign(o,i):o[t.breakpoints.up(r)]=i,o},{})}function DG({theme:t,ownerState:e}){const a=Zd({values:e.direction,breakpoints:t.breakpoints.values});return Ko({theme:t},a,o=>{const r={flexDirection:o};return o.indexOf("column")===0&&(r[`& > .${Kp.item}`]={maxWidth:"none"}),r})}function u6({breakpoints:t,values:e}){let a="";Object.keys(e).forEach(r=>{a===""&&e[r]!==0&&(a=r)});const o=Object.keys(t).sort((r,i)=>t[r]-t[i]);return o.slice(0,o.indexOf(a))}function qG({theme:t,ownerState:e}){const{container:a,rowSpacing:o}=e;let r={};if(a&&o!==0){const i=Zd({values:o,breakpoints:t.breakpoints.values});let s;typeof i=="object"&&(s=u6({breakpoints:t.breakpoints.values,values:i})),r=Ko({theme:t},i,(n,d)=>{var c;const l=t.spacing(n);return l!=="0px"?{marginTop:`-${Hl(l)}`,[`& > .${Kp.item}`]:{paddingTop:Hl(l)}}:(c=s)!=null&&c.includes(d)?{}:{marginTop:0,[`& > .${Kp.item}`]:{paddingTop:0}}})}return r}function PG({theme:t,ownerState:e}){const{container:a,columnSpacing:o}=e;let r={};if(a&&o!==0){const i=Zd({values:o,breakpoints:t.breakpoints.values});let s;typeof i=="object"&&(s=u6({breakpoints:t.breakpoints.values,values:i})),r=Ko({theme:t},i,(n,d)=>{var c;const l=t.spacing(n);return l!=="0px"?{width:`calc(100% + ${Hl(l)})`,marginLeft:`-${Hl(l)}`,[`& > .${Kp.item}`]:{paddingLeft:Hl(l)}}:(c=s)!=null&&c.includes(d)?{}:{width:"100%",marginLeft:0,[`& > .${Kp.item}`]:{paddingLeft:0}}})}return r}function LG(t,e,a={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[a[`spacing-xs-${String(t)}`]];const o=[];return e.forEach(r=>{const i=t[r];Number(i)>0&&o.push(a[`spacing-${r}-${String(i)}`])}),o}const NG=Re("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t,{container:o,direction:r,item:i,spacing:s,wrap:n,zeroMinWidth:d,breakpoints:c}=a;let l=[];o&&(l=LG(s,c,e));const m=[];return c.forEach(u=>{const v=a[u];v&&m.push(e[`grid-${u}-${String(v)}`])}),[e.root,o&&e.container,i&&e.item,d&&e.zeroMinWidth,...l,r!=="row"&&e[`direction-xs-${String(r)}`],n!=="wrap"&&e[`wrap-xs-${String(n)}`],...m]}})(({ownerState:t})=>j({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),DG,qG,PG,IG);function jG(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const a=[];return e.forEach(o=>{const r=t[o];if(Number(r)>0){const i=`spacing-${o}-${String(r)}`;a.push(i)}}),a}const FG=t=>{const{classes:e,container:a,direction:o,item:r,spacing:i,wrap:s,zeroMinWidth:n,breakpoints:d}=t;let c=[];a&&(c=jG(i,d));const l=[];d.forEach(u=>{const v=t[u];v&&l.push(`grid-${u}-${String(v)}`)});const m={root:["root",a&&"container",r&&"item",n&&"zeroMinWidth",...c,o!=="row"&&`direction-xs-${String(o)}`,s!=="wrap"&&`wrap-xs-${String(s)}`,...l]};return dt(m,MG,e)},zG=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiGrid"}),{breakpoints:r}=Cc(),i=If(o),{className:s,columns:n,columnSpacing:d,component:c="div",container:l=!1,direction:m="row",item:u=!1,rowSpacing:v,spacing:g=0,wrap:f="wrap",zeroMinWidth:p=!1}=i,h=Ie(i,OG),y=v||g,b=d||g,_=M.useContext(LM),S=l?n||12:_,x={},w=j({},h);r.keys.forEach(O=>{h[O]!=null&&(x[O]=h[O],delete w[O])});const A=j({},i,{columns:S,container:l,direction:m,item:u,rowSpacing:y,columnSpacing:b,wrap:f,zeroMinWidth:p,spacing:g},x,{breakpoints:r.keys}),T=FG(A);return R.jsx(LM.Provider,{value:S,children:R.jsx(NG,j({ownerState:A,className:je(T.root,s),as:c,ref:a},w))})}),du=zG,BG=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function d3(t){return`scale(${t}, ${t**2})`}const kG={entering:{opacity:1,transform:d3(1)},entered:{opacity:1,transform:"none"}},Mb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),m6=M.forwardRef(function(e,a){const{addEndListener:o,appear:r=!0,children:i,easing:s,in:n,onEnter:d,onEntered:c,onEntering:l,onExit:m,onExited:u,onExiting:v,style:g,timeout:f="auto",TransitionComponent:p=F1}=e,h=Ie(e,BG),y=kw(),b=M.useRef(),_=Cc(),S=M.useRef(null),x=_a(S,i.ref,a),w=z=>$=>{if(z){const Y=S.current;$===void 0?z(Y):z(Y,$)}},A=w(l),T=w((z,$)=>{Qw(z);const{duration:Y,delay:F,easing:V}=Vs({style:g,timeout:f,easing:s},{mode:"enter"});let Z;f==="auto"?(Z=_.transitions.getAutoHeightDuration(z.clientHeight),b.current=Z):Z=Y,z.style.transition=[_.transitions.create("opacity",{duration:Z,delay:F}),_.transitions.create("transform",{duration:Mb?Z:Z*.666,delay:F,easing:V})].join(","),d&&d(z,$)}),O=w(c),I=w(v),U=w(z=>{const{duration:$,delay:Y,easing:F}=Vs({style:g,timeout:f,easing:s},{mode:"exit"});let V;f==="auto"?(V=_.transitions.getAutoHeightDuration(z.clientHeight),b.current=V):V=$,z.style.transition=[_.transitions.create("opacity",{duration:V,delay:Y}),_.transitions.create("transform",{duration:Mb?V:V*.666,delay:Mb?Y:Y||V*.333,easing:F})].join(","),z.style.opacity=0,z.style.transform=d3(.75),m&&m(z)}),B=w(u),N=z=>{f==="auto"&&y.start(b.current||0,z),o&&o(S.current,z)};return R.jsx(p,j({appear:r,in:n,nodeRef:S,onEnter:T,onEntered:O,onEntering:A,onExit:U,onExited:B,onExiting:I,addEndListener:N,timeout:f==="auto"?null:f},h,{children:(z,$)=>M.cloneElement(i,j({style:j({opacity:0,transform:d3(.75),visibility:z==="exited"&&!n?"hidden":void 0},kG[z],g,i.props.style),ref:x},$))}))});m6.muiSupportAuto=!0;const UG=m6,VG=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],$G=t=>{const{classes:e,disableUnderline:a}=t,r=dt({root:["root",!a&&"underline"],input:["input"]},O$,e);return j({},e,r)},HG=Re(V1,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[...k1(t,e),!a.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(o=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),j({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wm.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wm.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wm.disabled}, .${wm.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${wm.disabled}:before`]:{borderBottomStyle:"dotted"}})}),WG=Re($1,{name:"MuiInput",slot:"Input",overridesResolver:U1})({}),p6=M.forwardRef(function(e,a){var o,r,i,s;const n=vt({props:e,name:"MuiInput"}),{disableUnderline:d,components:c={},componentsProps:l,fullWidth:m=!1,inputComponent:u="input",multiline:v=!1,slotProps:g,slots:f={},type:p="text"}=n,h=Ie(n,VG),y=$G(n),_={root:{ownerState:{disableUnderline:d}}},S=g??l?Io(g??l,_):_,x=(o=(r=f.root)!=null?r:c.Root)!=null?o:HG,w=(i=(s=f.input)!=null?s:c.Input)!=null?i:WG;return R.jsx(Xw,j({slots:{root:x,input:w},slotProps:S,fullWidth:m,inputComponent:u,multiline:v,ref:a,type:p},h,{classes:y}))});p6.muiName="Input";const f6=p6;function GG(t){return rt("MuiInputAdornment",t)}const YG=it("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),NM=YG;var jM;const ZG=["children","className","component","disablePointerEvents","disableTypography","position","variant"],KG=(t,e)=>{const{ownerState:a}=t;return[e.root,e[`position${Fe(a.position)}`],a.disablePointerEvents===!0&&e.disablePointerEvents,e[a.variant]]},QG=t=>{const{classes:e,disablePointerEvents:a,hiddenLabel:o,position:r,size:i,variant:s}=t,n={root:["root",a&&"disablePointerEvents",r&&`position${Fe(r)}`,s,o&&"hiddenLabel",i&&`size${Fe(i)}`]};return dt(n,GG,e)},XG=Re("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:KG})(({theme:t,ownerState:e})=>j({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${NM.positionStart}&:not(.${NM.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),JG=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiInputAdornment"}),{children:r,className:i,component:s="div",disablePointerEvents:n=!1,disableTypography:d=!1,position:c,variant:l}=o,m=Ie(o,ZG),u=rs()||{};let v=l;l&&u.variant,u&&!v&&(v=u.variant);const g=j({},o,{hiddenLabel:u.hiddenLabel,size:u.size,disablePointerEvents:n,position:c,variant:v}),f=QG(g);return R.jsx(B1.Provider,{value:null,children:R.jsx(XG,j({as:s,ownerState:g,className:je(f.root,i),ref:a},m,{children:typeof r=="string"&&!d?R.jsx(Os,{color:"text.secondary",children:r}):R.jsxs(M.Fragment,{children:[c==="start"?jM||(jM=R.jsx("span",{className:"notranslate",children:"​"})):null,r]})}))})}),h6=JG;function eY(t){return rt("MuiInputLabel",t)}it("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const tY=["disableAnimation","margin","shrink","variant","className"],aY=t=>{const{classes:e,formControl:a,size:o,shrink:r,disableAnimation:i,variant:s,required:n}=t,d={root:["root",a&&"formControl",!i&&"animated",r&&"shrink",o&&o!=="normal"&&`size${Fe(o)}`,s],asterisk:[n&&"asterisk"]},c=dt(d,eY,e);return j({},e,c)},oY=Re(AG,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${xp.asterisk}`]:e.asterisk},e.root,a.formControl&&e.formControl,a.size==="small"&&e.sizeSmall,a.shrink&&e.shrink,!a.disableAnimation&&e.animated,a.focused&&e.focused,e[a.variant]]}})(({theme:t,ownerState:e})=>j({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&j({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&j({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&j({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),rY=M.forwardRef(function(e,a){const o=vt({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:s}=o,n=Ie(o,tY),d=rs();let c=i;typeof c>"u"&&d&&(c=d.filled||d.focused||d.adornedStart);const l=cd({props:o,muiFormControl:d,states:["size","variant","required","focused"]}),m=j({},o,{disableAnimation:r,formControl:d,shrink:c,size:l.size,variant:l.variant,required:l.required,focused:l.focused}),u=aY(m);return R.jsx(oY,j({"data-shrink":c,ownerState:m,ref:a,className:je(u.root,s)},n,{classes:u}))}),iY=rY;function sY(t){return rt("MuiLink",t)}const nY=it("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),dY=nY,v6={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},cY=t=>v6[t]||t,lY=({theme:t,ownerState:e})=>{const a=cY(e.color),o=iu(t,`palette.${a}`,!1)||e.color,r=iu(t,`palette.${a}Channel`);return"vars"in t&&r?`rgba(${r} / 0.4)`:fa(o,.4)},uY=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],mY=t=>{const{classes:e,component:a,focusVisible:o,underline:r}=t,i={root:["root",`underline${Fe(r)}`,a==="button"&&"button",o&&"focusVisible"]};return dt(i,sY,e)},pY=Re(Os,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`underline${Fe(a.underline)}`],a.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>j({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&j({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:lY({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dY.focusVisible}`]:{outline:"auto"}})),fY=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiLink"}),{className:r,color:i="primary",component:s="a",onBlur:n,onFocus:d,TypographyClasses:c,underline:l="always",variant:m="inherit",sx:u}=o,v=Ie(o,uY),{isFocusVisibleRef:g,onBlur:f,onFocus:p,ref:h}=Uw(),[y,b]=M.useState(!1),_=_a(a,h),S=T=>{f(T),g.current===!1&&b(!1),n&&n(T)},x=T=>{p(T),g.current===!0&&b(!0),d&&d(T)},w=j({},o,{color:i,component:s,focusVisible:y,underline:l,variant:m}),A=mY(w);return R.jsx(pY,j({color:i,className:je(A.root,r),classes:c,component:s,onBlur:S,onFocus:x,ref:_,ownerState:w,variant:m,sx:[...Object.keys(v6).includes(i)?[]:[{color:i}],...Array.isArray(u)?u:[u]]},v))}),hY=fY,vY=M.createContext({}),xi=vY;function gY(t){return rt("MuiList",t)}it("MuiList",["root","padding","dense","subheader"]);const yY=["children","className","component","dense","disablePadding","subheader"],bY=t=>{const{classes:e,disablePadding:a,dense:o,subheader:r}=t;return dt({root:["root",!a&&"padding",o&&"dense",r&&"subheader"]},gY,e)},_Y=Re("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disablePadding&&e.padding,a.dense&&e.dense,a.subheader&&e.subheader]}})(({ownerState:t})=>j({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),xY=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiList"}),{children:r,className:i,component:s="ul",dense:n=!1,disablePadding:d=!1,subheader:c}=o,l=Ie(o,yY),m=M.useMemo(()=>({dense:n}),[n]),u=j({},o,{component:s,dense:n,disablePadding:d}),v=bY(u);return R.jsx(xi.Provider,{value:m,children:R.jsxs(_Y,j({as:s,className:je(v.root,i),ref:a,ownerState:u},l,{children:[c,r]}))})}),H1=xY;function wY(t){return rt("MuiListItem",t)}const SY=it("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),nl=SY;function AY(t){return rt("MuiListItemButton",t)}const EY=it("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),dl=EY,MY=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],TY=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters]},CY=t=>{const{alignItems:e,classes:a,dense:o,disabled:r,disableGutters:i,divider:s,selected:n}=t,c=dt({root:["root",o&&"dense",!i&&"gutters",s&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",n&&"selected"]},AY,a);return j({},a,c)},RY=Re(Ks,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:TY})(({theme:t,ownerState:e})=>j({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${dl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fa(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${dl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fa(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${dl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fa(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fa(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${dl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${dl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),OY=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:i=!1,component:s="div",children:n,dense:d=!1,disableGutters:c=!1,divider:l=!1,focusVisibleClassName:m,selected:u=!1,className:v}=o,g=Ie(o,MY),f=M.useContext(xi),p=M.useMemo(()=>({dense:d||f.dense||!1,alignItems:r,disableGutters:c}),[r,f.dense,d,c]),h=M.useRef(null);hr(()=>{i&&h.current&&h.current.focus()},[i]);const y=j({},o,{alignItems:r,dense:p.dense,disableGutters:c,divider:l,selected:u}),b=CY(y),_=_a(h,a);return R.jsx(xi.Provider,{value:p,children:R.jsx(RY,j({ref:_,href:g.href||g.to,component:(g.href||g.to)&&s==="div"?"button":s,focusVisibleClassName:je(b.focusVisible,m),ownerState:y,className:je(b.root,v)},g,{classes:b,children:n}))})}),IY=OY;function DY(t){return rt("MuiListItemSecondaryAction",t)}it("MuiListItemSecondaryAction",["root","disableGutters"]);const qY=["className"],PY=t=>{const{disableGutters:e,classes:a}=t;return dt({root:["root",e&&"disableGutters"]},DY,a)},LY=Re("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.disableGutters&&e.disableGutters]}})(({ownerState:t})=>j({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),g6=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=o,i=Ie(o,qY),s=M.useContext(xi),n=j({},o,{disableGutters:s.disableGutters}),d=PY(n);return R.jsx(LY,j({className:je(d.root,r),ownerState:n,ref:a},i))});g6.muiName="ListItemSecondaryAction";const NY=g6,jY=["className"],FY=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],zY=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters,!a.disablePadding&&e.padding,a.button&&e.button,a.hasSecondaryAction&&e.secondaryAction]},BY=t=>{const{alignItems:e,button:a,classes:o,dense:r,disabled:i,disableGutters:s,disablePadding:n,divider:d,hasSecondaryAction:c,selected:l}=t;return dt({root:["root",r&&"dense",!s&&"gutters",!n&&"padding",d&&"divider",i&&"disabled",a&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",l&&"selected"],container:["container"]},wY,o)},kY=Re("div",{name:"MuiListItem",slot:"Root",overridesResolver:zY})(({theme:t,ownerState:e})=>j({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&j({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${dl.root}`]:{paddingRight:48}},{[`&.${nl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${nl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fa(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${nl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fa(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${nl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${nl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fa(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fa(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),UY=Re("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),VY=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:i=!1,button:s=!1,children:n,className:d,component:c,components:l={},componentsProps:m={},ContainerComponent:u="li",ContainerProps:{className:v}={},dense:g=!1,disabled:f=!1,disableGutters:p=!1,disablePadding:h=!1,divider:y=!1,focusVisibleClassName:b,secondaryAction:_,selected:S=!1,slotProps:x={},slots:w={}}=o,A=Ie(o.ContainerProps,jY),T=Ie(o,FY),O=M.useContext(xi),I=M.useMemo(()=>({dense:g||O.dense||!1,alignItems:r,disableGutters:p}),[r,O.dense,g,p]),U=M.useRef(null);hr(()=>{i&&U.current&&U.current.focus()},[i]);const B=M.Children.toArray(n),N=B.length&&bp(B[B.length-1],["ListItemSecondaryAction"]),z=j({},o,{alignItems:r,autoFocus:i,button:s,dense:I.dense,disabled:f,disableGutters:p,disablePadding:h,divider:y,hasSecondaryAction:N,selected:S}),$=BY(z),Y=_a(U,a),F=w.root||l.Root||kY,V=x.root||m.root||{},Z=j({className:je($.root,V.className,d),disabled:f},T);let se=c||"li";return s&&(Z.component=c||"div",Z.focusVisibleClassName=je(nl.focusVisible,b),se=Ks),N?(se=!Z.component&&!c?"div":se,u==="li"&&(se==="li"?se="div":Z.component==="li"&&(Z.component="div")),R.jsx(xi.Provider,{value:I,children:R.jsxs(UY,j({as:u,className:je($.container,v),ref:Y,ownerState:z},A,{children:[R.jsx(F,j({},V,!su(F)&&{as:se,ownerState:j({},z,V.ownerState)},Z,{children:B})),B.pop()]}))})):R.jsx(xi.Provider,{value:I,children:R.jsxs(F,j({},V,{as:se,ref:Y},!su(F)&&{ownerState:j({},z,V.ownerState)},Z,{children:[B,_&&R.jsx(NY,{children:_})]}))})}),Il=VY;function $Y(t){return rt("MuiListItemIcon",t)}const HY=it("MuiListItemIcon",["root","alignItemsFlexStart"]),FM=HY,WY=["className"],GY=t=>{const{alignItems:e,classes:a}=t;return dt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},$Y,a)},YY=Re("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>j({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),ZY=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiListItemIcon"}),{className:r}=o,i=Ie(o,WY),s=M.useContext(xi),n=j({},o,{alignItems:s.alignItems}),d=GY(n);return R.jsx(YY,j({className:je(d.root,r),ownerState:n,ref:a},i))}),y6=ZY;function KY(t){return rt("MuiListItemText",t)}const QY=it("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Ug=QY,XY=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],JY=t=>{const{classes:e,inset:a,primary:o,secondary:r,dense:i}=t;return dt({root:["root",a&&"inset",i&&"dense",o&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},KY,e)},eZ=Re("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${Ug.primary}`]:e.primary},{[`& .${Ug.secondary}`]:e.secondary},e.root,a.inset&&e.inset,a.primary&&a.secondary&&e.multiline,a.dense&&e.dense]}})(({ownerState:t})=>j({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),tZ=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiListItemText"}),{children:r,className:i,disableTypography:s=!1,inset:n=!1,primary:d,primaryTypographyProps:c,secondary:l,secondaryTypographyProps:m}=o,u=Ie(o,XY),{dense:v}=M.useContext(xi);let g=d??r,f=l;const p=j({},o,{disableTypography:s,inset:n,primary:!!g,secondary:!!f,dense:v}),h=JY(p);return g!=null&&g.type!==Os&&!s&&(g=R.jsx(Os,j({variant:v?"body2":"body1",className:h.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:g}))),f!=null&&f.type!==Os&&!s&&(f=R.jsx(Os,j({variant:"body2",className:h.secondary,color:"text.secondary",display:"block"},m,{children:f}))),R.jsxs(eZ,j({className:je(h.root,i),ownerState:p,ref:a},u,{children:[g,f]}))}),c3=tZ,aZ=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Tb(t,e,a){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:a?null:t.firstChild}function zM(t,e,a){return t===e?a?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:a?null:t.lastChild}function b6(t,e){if(e===void 0)return!0;let a=t.innerText;return a===void 0&&(a=t.textContent),a=a.trim().toLowerCase(),a.length===0?!1:e.repeating?a[0]===e.keys[0]:a.indexOf(e.keys.join(""))===0}function Am(t,e,a,o,r,i){let s=!1,n=r(t,e,e?a:!1);for(;n;){if(n===t.firstChild){if(s)return!1;s=!0}const d=o?!1:n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||!b6(n,i)||d)n=r(t,n,a);else return n.focus(),!0}return!1}const oZ=M.forwardRef(function(e,a){const{actions:o,autoFocus:r=!1,autoFocusItem:i=!1,children:s,className:n,disabledItemsFocusable:d=!1,disableListWrap:c=!1,onKeyDown:l,variant:m="selectedMenu"}=e,u=Ie(e,aZ),v=M.useRef(null),g=M.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});hr(()=>{r&&v.current.focus()},[r]),M.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(b,{direction:_})=>{const S=!v.current.style.width;if(b.clientHeight<v.current.clientHeight&&S){const x=`${EI(ao(b))}px`;v.current.style[_==="rtl"?"paddingLeft":"paddingRight"]=x,v.current.style.width=`calc(100% + ${x})`}return v.current}}),[]);const f=b=>{const _=v.current,S=b.key,x=ao(_).activeElement;if(S==="ArrowDown")b.preventDefault(),Am(_,x,c,d,Tb);else if(S==="ArrowUp")b.preventDefault(),Am(_,x,c,d,zM);else if(S==="Home")b.preventDefault(),Am(_,null,c,d,Tb);else if(S==="End")b.preventDefault(),Am(_,null,c,d,zM);else if(S.length===1){const w=g.current,A=S.toLowerCase(),T=performance.now();w.keys.length>0&&(T-w.lastTime>500?(w.keys=[],w.repeating=!0,w.previousKeyMatched=!0):w.repeating&&A!==w.keys[0]&&(w.repeating=!1)),w.lastTime=T,w.keys.push(A);const O=x&&!w.repeating&&b6(x,w);w.previousKeyMatched&&(O||Am(_,x,!1,d,Tb,w))?b.preventDefault():w.previousKeyMatched=!1}l&&l(b)},p=_a(v,a);let h=-1;M.Children.forEach(s,(b,_)=>{if(!M.isValidElement(b)){h===_&&(h+=1,h>=s.length&&(h=-1));return}b.props.disabled||(m==="selectedMenu"&&b.props.selected||h===-1)&&(h=_),h===_&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(h+=1,h>=s.length&&(h=-1))});const y=M.Children.map(s,(b,_)=>{if(_===h){const S={};return i&&(S.autoFocus=!0),b.props.tabIndex===void 0&&m==="selectedMenu"&&(S.tabIndex=0),M.cloneElement(b,S)}return b});return R.jsx(H1,j({role:"menu",ref:p,className:n,onKeyDown:f,tabIndex:r?0:-1},u,{children:y}))}),rZ=oZ;function iZ(t){return rt("MuiPopover",t)}it("MuiPopover",["root","paper"]);const sZ=["onEntering"],nZ=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],dZ=["slotProps"];function BM(t,e){let a=0;return typeof e=="number"?a=e:e==="center"?a=t.height/2:e==="bottom"&&(a=t.height),a}function kM(t,e){let a=0;return typeof e=="number"?a=e:e==="center"?a=t.width/2:e==="right"&&(a=t.width),a}function UM(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Cb(t){return typeof t=="function"?t():t}const cZ=t=>{const{classes:e}=t;return dt({root:["root"],paper:["paper"]},iZ,e)},lZ=Re(o6,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_6=Re(qf,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),uZ=M.forwardRef(function(e,a){var o,r,i;const s=vt({props:e,name:"MuiPopover"}),{action:n,anchorEl:d,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:m="anchorEl",children:u,className:v,container:g,elevation:f=8,marginThreshold:p=16,open:h,PaperProps:y={},slots:b,slotProps:_,transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:x=UG,transitionDuration:w="auto",TransitionProps:{onEntering:A}={},disableScrollLock:T=!1}=s,O=Ie(s.TransitionProps,sZ),I=Ie(s,nZ),U=(o=_==null?void 0:_.paper)!=null?o:y,B=M.useRef(),N=_a(B,U.ref),z=j({},s,{anchorOrigin:c,anchorReference:m,elevation:f,marginThreshold:p,externalPaperSlotProps:U,transformOrigin:S,TransitionComponent:x,transitionDuration:w,TransitionProps:O}),$=cZ(z),Y=M.useCallback(()=>{if(m==="anchorPosition")return l;const _e=Cb(d),tt=(_e&&_e.nodeType===1?_e:ao(B.current).body).getBoundingClientRect();return{top:tt.top+BM(tt,c.vertical),left:tt.left+kM(tt,c.horizontal)}},[d,c.horizontal,c.vertical,l,m]),F=M.useCallback(_e=>({vertical:BM(_e,S.vertical),horizontal:kM(_e,S.horizontal)}),[S.horizontal,S.vertical]),V=M.useCallback(_e=>{const Qe={width:_e.offsetWidth,height:_e.offsetHeight},tt=F(Qe);if(m==="none")return{top:null,left:null,transformOrigin:UM(tt)};const jt=Y();let Bt=jt.top-tt.vertical,At=jt.left-tt.horizontal;const mt=Bt+Qe.height,de=At+Qe.width,oe=Wo(Cb(d)),q=oe.innerHeight-p,E=oe.innerWidth-p;if(p!==null&&Bt<p){const D=Bt-p;Bt-=D,tt.vertical+=D}else if(p!==null&&mt>q){const D=mt-q;Bt-=D,tt.vertical+=D}if(p!==null&&At<p){const D=At-p;At-=D,tt.horizontal+=D}else if(de>E){const D=de-E;At-=D,tt.horizontal+=D}return{top:`${Math.round(Bt)}px`,left:`${Math.round(At)}px`,transformOrigin:UM(tt)}},[d,m,Y,F,p]),[Z,se]=M.useState(h),J=M.useCallback(()=>{const _e=B.current;if(!_e)return;const Qe=V(_e);Qe.top!==null&&(_e.style.top=Qe.top),Qe.left!==null&&(_e.style.left=Qe.left),_e.style.transformOrigin=Qe.transformOrigin,se(!0)},[V]);M.useEffect(()=>(T&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[d,T,J]);const te=(_e,Qe)=>{A&&A(_e,Qe),J()},me=()=>{se(!1)};M.useEffect(()=>{h&&J()}),M.useImperativeHandle(n,()=>h?{updatePosition:()=>{J()}}:null,[h,J]),M.useEffect(()=>{if(!h)return;const _e=A1(()=>{J()}),Qe=Wo(d);return Qe.addEventListener("resize",_e),()=>{_e.clear(),Qe.removeEventListener("resize",_e)}},[d,h,J]);let xe=w;w==="auto"&&!x.muiSupportAuto&&(xe=void 0);const Q=g||(d?ao(Cb(d)).body:void 0),Ee=(r=b==null?void 0:b.root)!=null?r:lZ,Ae=(i=b==null?void 0:b.paper)!=null?i:_6,Ce=Qn({elementType:Ae,externalSlotProps:j({},U,{style:Z?U.style:j({},U.style,{opacity:0})}),additionalProps:{elevation:f,ref:N},ownerState:z,className:je($.paper,U==null?void 0:U.className)}),we=Qn({elementType:Ee,externalSlotProps:(_==null?void 0:_.root)||{},externalForwardedProps:I,additionalProps:{ref:a,slotProps:{backdrop:{invisible:!0}},container:Q,open:h},ownerState:z,className:je($.root,v)}),{slotProps:De}=we,Te=Ie(we,dZ);return R.jsx(Ee,j({},Te,!su(Ee)&&{slotProps:De,disableScrollLock:T},{children:R.jsx(x,j({appear:!0,in:h,onEntering:te,onExited:me,timeout:xe},O,{children:R.jsx(Ae,j({},Ce,{children:u}))}))}))}),mZ=uZ;function pZ(t){return rt("MuiMenu",t)}it("MuiMenu",["root","paper","list"]);const fZ=["onEntering"],hZ=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],vZ={vertical:"top",horizontal:"right"},gZ={vertical:"top",horizontal:"left"},yZ=t=>{const{classes:e}=t;return dt({root:["root"],paper:["paper"],list:["list"]},pZ,e)},bZ=Re(mZ,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_Z=Re(_6,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xZ=Re(rZ,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),wZ=M.forwardRef(function(e,a){var o,r;const i=vt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:n,className:d,disableAutoFocusItem:c=!1,MenuListProps:l={},onClose:m,open:u,PaperProps:v={},PopoverClasses:g,transitionDuration:f="auto",TransitionProps:{onEntering:p}={},variant:h="selectedMenu",slots:y={},slotProps:b={}}=i,_=Ie(i.TransitionProps,fZ),S=Ie(i,hZ),x=OI(),w=j({},i,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:l,onEntering:p,PaperProps:v,transitionDuration:f,TransitionProps:_,variant:h}),A=yZ(w),T=s&&!c&&u,O=M.useRef(null),I=(F,V)=>{O.current&&O.current.adjustStyleForScrollbar(F,{direction:x?"rtl":"ltr"}),p&&p(F,V)},U=F=>{F.key==="Tab"&&(F.preventDefault(),m&&m(F,"tabKeyDown"))};let B=-1;M.Children.map(n,(F,V)=>{M.isValidElement(F)&&(F.props.disabled||(h==="selectedMenu"&&F.props.selected||B===-1)&&(B=V))});const N=(o=y.paper)!=null?o:_Z,z=(r=b.paper)!=null?r:v,$=Qn({elementType:y.root,externalSlotProps:b.root,ownerState:w,className:[A.root,d]}),Y=Qn({elementType:N,externalSlotProps:z,ownerState:w,className:A.paper});return R.jsx(bZ,j({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?vZ:gZ,slots:{paper:N,root:y.root},slotProps:{root:$,paper:Y},open:u,ref:a,transitionDuration:f,TransitionProps:j({onEntering:I},_),ownerState:w},S,{classes:g,children:R.jsx(xZ,j({onKeyDown:U,actions:O,autoFocus:s&&(B===-1||c),autoFocusItem:T,variant:h},l,{className:je(A.list,l.className),children:n}))}))}),x6=wZ;function SZ(t){return rt("MuiMenuItem",t)}const AZ=it("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Em=AZ,EZ=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],MZ=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.divider&&e.divider,!a.disableGutters&&e.gutters]},TZ=t=>{const{disabled:e,dense:a,divider:o,disableGutters:r,selected:i,classes:s}=t,d=dt({root:["root",a&&"dense",e&&"disabled",!r&&"gutters",o&&"divider",i&&"selected"]},SZ,s);return j({},s,d)},CZ=Re(Ks,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:MZ})(({theme:t,ownerState:e})=>j({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Em.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fa(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Em.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fa(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Em.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fa(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fa(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Em.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Em.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${RM.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${RM.inset}`]:{marginLeft:52},[`& .${Ug.root}`]:{marginTop:0,marginBottom:0},[`& .${Ug.inset}`]:{paddingLeft:36},[`& .${FM.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&j({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${FM.root} svg`]:{fontSize:"1.25rem"}}))),RZ=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:s=!1,divider:n=!1,disableGutters:d=!1,focusVisibleClassName:c,role:l="menuitem",tabIndex:m,className:u}=o,v=Ie(o,EZ),g=M.useContext(xi),f=M.useMemo(()=>({dense:s||g.dense||!1,disableGutters:d}),[g.dense,s,d]),p=M.useRef(null);hr(()=>{r&&p.current&&p.current.focus()},[r]);const h=j({},o,{dense:f.dense,divider:n,disableGutters:d}),y=TZ(o),b=_a(p,a);let _;return o.disabled||(_=m!==void 0?m:-1),R.jsx(xi.Provider,{value:f,children:R.jsx(CZ,j({ref:b,role:l,tabIndex:_,component:i,focusVisibleClassName:je(y.focusVisible,c),className:je(y.root,u)},v,{ownerState:h,classes:y}))})}),tS=RZ;function OZ(t){return rt("MuiNativeSelect",t)}const IZ=it("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),aS=IZ,DZ=["className","disabled","error","IconComponent","inputRef","variant"],qZ=t=>{const{classes:e,variant:a,disabled:o,multiple:r,open:i,error:s}=t,n={select:["select",a,o&&"disabled",r&&"multiple",s&&"error"],icon:["icon",`icon${Fe(a)}`,i&&"iconOpen",o&&"disabled"]};return dt(n,OZ,e)},w6=({ownerState:t,theme:e})=>j({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":j({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${aS.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),PZ=Re("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:po,overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.select,e[a.variant],a.error&&e.error,{[`&.${aS.multiple}`]:e.multiple}]}})(w6),S6=({ownerState:t,theme:e})=>j({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${aS.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),LZ=Re("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.icon,a.variant&&e[`icon${Fe(a.variant)}`],a.open&&e.iconOpen]}})(S6),NZ=M.forwardRef(function(e,a){const{className:o,disabled:r,error:i,IconComponent:s,inputRef:n,variant:d="standard"}=e,c=Ie(e,DZ),l=j({},e,{disabled:r,variant:d,error:i}),m=qZ(l);return R.jsxs(M.Fragment,{children:[R.jsx(PZ,j({ownerState:l,className:je(m.select,o),disabled:r,ref:n||a},c)),e.multiple?null:R.jsx(LZ,{as:s,ownerState:l,className:m.icon})]})}),jZ=NZ;var VM;const FZ=["children","classes","className","label","notched"],zZ=Re("fieldset",{shouldForwardProp:po})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),BZ=Re("legend",{shouldForwardProp:po})(({ownerState:t,theme:e})=>j({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&j({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function kZ(t){const{className:e,label:a,notched:o}=t,r=Ie(t,FZ),i=a!=null&&a!=="",s=j({},t,{notched:o,withLabel:i});return R.jsx(zZ,j({"aria-hidden":!0,className:e,ownerState:s},r,{children:R.jsx(BZ,{ownerState:s,children:i?R.jsx("span",{children:a}):VM||(VM=R.jsx("span",{className:"notranslate",children:"​"}))})}))}const UZ=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],VZ=t=>{const{classes:e}=t,o=dt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},D$,e);return j({},e,o)},$Z=Re(V1,{shouldForwardProp:t=>po(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:k1})(({theme:t,ownerState:e})=>{const a=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return j({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${dn.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${dn.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:a}},[`&.${dn.focused} .${dn.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${dn.error} .${dn.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${dn.disabled} .${dn.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&j({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),HZ=Re(kZ,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),WZ=Re($1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:U1})(({theme:t,ownerState:e})=>j({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),A6=M.forwardRef(function(e,a){var o,r,i,s,n;const d=vt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:l=!1,inputComponent:m="input",label:u,multiline:v=!1,notched:g,slots:f={},type:p="text"}=d,h=Ie(d,UZ),y=VZ(d),b=rs(),_=cd({props:d,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=j({},d,{color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:b,fullWidth:l,hiddenLabel:_.hiddenLabel,multiline:v,size:_.size,type:p}),x=(o=(r=f.root)!=null?r:c.Root)!=null?o:$Z,w=(i=(s=f.input)!=null?s:c.Input)!=null?i:WZ;return R.jsx(Xw,j({slots:{root:x,input:w},renderSuffix:A=>R.jsx(HZ,{ownerState:S,className:y.notchedOutline,label:u!=null&&u!==""&&_.required?n||(n=R.jsxs(M.Fragment,{children:[u," ","*"]})):u,notched:typeof g<"u"?g:!!(A.startAdornment||A.filled||A.focused)}),fullWidth:l,inputComponent:m,multiline:v,ref:a,type:p},h,{classes:j({},y,{notchedOutline:null})}))});A6.muiName="Input";const E6=A6;function GZ(t){return rt("MuiSelect",t)}const Mm=it("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var $M;const YZ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ZZ=Re("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`&.${Mm.select}`]:e.select},{[`&.${Mm.select}`]:e[a.variant]},{[`&.${Mm.error}`]:e.error},{[`&.${Mm.multiple}`]:e.multiple}]}})(w6,{[`&.${Mm.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),KZ=Re("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.icon,a.variant&&e[`icon${Fe(a.variant)}`],a.open&&e.iconOpen]}})(S6),QZ=Re("input",{shouldForwardProp:t=>UI(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function HM(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function XZ(t){return t==null||typeof t=="string"&&!t.trim()}const JZ=t=>{const{classes:e,variant:a,disabled:o,multiple:r,open:i,error:s}=t,n={select:["select",a,o&&"disabled",r&&"multiple",s&&"error"],icon:["icon",`icon${Fe(a)}`,i&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return dt(n,GZ,e)},eK=M.forwardRef(function(e,a){var o;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:n,children:d,className:c,defaultOpen:l,defaultValue:m,disabled:u,displayEmpty:v,error:g=!1,IconComponent:f,inputRef:p,labelId:h,MenuProps:y={},multiple:b,name:_,onBlur:S,onChange:x,onClose:w,onFocus:A,onOpen:T,open:O,readOnly:I,renderValue:U,SelectDisplayProps:B={},tabIndex:N,value:z,variant:$="standard"}=e,Y=Ie(e,YZ),[F,V]=Zp({controlled:z,default:m,name:"Select"}),[Z,se]=Zp({controlled:O,default:l,name:"Select"}),J=M.useRef(null),te=M.useRef(null),[me,xe]=M.useState(null),{current:Q}=M.useRef(O!=null),[Ee,Ae]=M.useState(),Ce=_a(a,p),we=M.useCallback(ye=>{te.current=ye,ye&&xe(ye)},[]),De=me==null?void 0:me.parentNode;M.useImperativeHandle(Ce,()=>({focus:()=>{te.current.focus()},node:J.current,value:F}),[F]),M.useEffect(()=>{l&&Z&&me&&!Q&&(Ae(n?null:De.clientWidth),te.current.focus())},[me,n]),M.useEffect(()=>{s&&te.current.focus()},[s]),M.useEffect(()=>{if(!h)return;const ye=ao(te.current).getElementById(h);if(ye){const Ve=()=>{getSelection().isCollapsed&&te.current.focus()};return ye.addEventListener("click",Ve),()=>{ye.removeEventListener("click",Ve)}}},[h]);const Te=(ye,Ve)=>{ye?T&&T(Ve):w&&w(Ve),Q||(Ae(n?null:De.clientWidth),se(ye))},_e=ye=>{ye.button===0&&(ye.preventDefault(),te.current.focus(),Te(!0,ye))},Qe=ye=>{Te(!1,ye)},tt=M.Children.toArray(d),jt=ye=>{const Ve=tt.find(et=>et.props.value===ye.target.value);Ve!==void 0&&(V(Ve.props.value),x&&x(ye,Ve))},Bt=ye=>Ve=>{let et;if(Ve.currentTarget.hasAttribute("tabindex")){if(b){et=Array.isArray(F)?F.slice():[];const Ft=F.indexOf(ye.props.value);Ft===-1?et.push(ye.props.value):et.splice(Ft,1)}else et=ye.props.value;if(ye.props.onClick&&ye.props.onClick(Ve),F!==et&&(V(et),x)){const Ft=Ve.nativeEvent||Ve,ae=new Ft.constructor(Ft.type,Ft);Object.defineProperty(ae,"target",{writable:!0,value:{value:et,name:_}}),x(ae,ye)}b||Te(!1,Ve)}},At=ye=>{I||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ye.key)!==-1&&(ye.preventDefault(),Te(!0,ye))},mt=me!==null&&Z,de=ye=>{!mt&&S&&(Object.defineProperty(ye,"target",{writable:!0,value:{value:F,name:_}}),S(ye))};delete Y["aria-invalid"];let oe,q;const E=[];let D=!1;(zg({value:F})||v)&&(U?oe=U(F):D=!0);const k=tt.map(ye=>{if(!M.isValidElement(ye))return null;let Ve;if(b){if(!Array.isArray(F))throw new Error(dc(2));Ve=F.some(et=>HM(et,ye.props.value)),Ve&&D&&E.push(ye.props.children)}else Ve=HM(F,ye.props.value),Ve&&D&&(q=ye.props.children);return M.cloneElement(ye,{"aria-selected":Ve?"true":"false",onClick:Bt(ye),onKeyUp:et=>{et.key===" "&&et.preventDefault(),ye.props.onKeyUp&&ye.props.onKeyUp(et)},role:"option",selected:Ve,value:void 0,"data-value":ye.props.value})});D&&(b?E.length===0?oe=null:oe=E.reduce((ye,Ve,et)=>(ye.push(Ve),et<E.length-1&&ye.push(", "),ye),[]):oe=q);let K=Ee;!n&&Q&&me&&(K=De.clientWidth);let le;typeof N<"u"?le=N:le=u?null:0;const ge=B.id||(_?`mui-component-select-${_}`:void 0),X=j({},e,{variant:$,value:F,open:mt,error:g}),Pe=JZ(X),ze=j({},y.PaperProps,(o=y.slotProps)==null?void 0:o.paper),We=Bw();return R.jsxs(M.Fragment,{children:[R.jsx(ZZ,j({ref:we,tabIndex:le,role:"combobox","aria-controls":We,"aria-disabled":u?"true":void 0,"aria-expanded":mt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[h,ge].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:At,onMouseDown:u||I?null:_e,onBlur:de,onFocus:A},B,{ownerState:X,className:je(B.className,Pe.select,c),id:ge,children:XZ(oe)?$M||($M=R.jsx("span",{className:"notranslate",children:"​"})):oe})),R.jsx(QZ,j({"aria-invalid":g,value:Array.isArray(F)?F.join(","):F,name:_,ref:J,"aria-hidden":!0,onChange:jt,tabIndex:-1,disabled:u,className:Pe.nativeInput,autoFocus:s,ownerState:X},Y)),R.jsx(KZ,{as:f,className:Pe.icon,ownerState:X}),R.jsx(x6,j({id:`menu-${_||""}`,anchorEl:De,open:mt,onClose:Qe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:j({"aria-labelledby":h,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:We},y.MenuListProps),slotProps:j({},y.slotProps,{paper:j({},ze,{style:j({minWidth:K},ze!=null?ze.style:null)})}),children:k}))]})}),tK=eK,aK=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],oK=["root"],rK=t=>{const{classes:e}=t;return e},oS={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>po(t)&&t!=="variant",slot:"Root"},iK=Re(f6,oS)(""),sK=Re(E6,oS)(""),nK=Re(l6,oS)(""),M6=M.forwardRef(function(e,a){const o=vt({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:i,classes:s={},className:n,defaultOpen:d=!1,displayEmpty:c=!1,IconComponent:l=N$,id:m,input:u,inputProps:v,label:g,labelId:f,MenuProps:p,multiple:h=!1,native:y=!1,onClose:b,onOpen:_,open:S,renderValue:x,SelectDisplayProps:w,variant:A="outlined"}=o,T=Ie(o,aK),O=y?jZ:tK,I=rs(),U=cd({props:o,muiFormControl:I,states:["variant","error"]}),B=U.variant||A,N=j({},o,{variant:B,classes:s}),z=rK(N),$=Ie(z,oK),Y=u||{standard:R.jsx(iK,{ownerState:N}),outlined:R.jsx(sK,{label:g,ownerState:N}),filled:R.jsx(nK,{ownerState:N})}[B],F=_a(a,Y.ref);return R.jsx(M.Fragment,{children:M.cloneElement(Y,j({inputComponent:O,inputProps:j({children:i,error:U.error,IconComponent:l,variant:B,type:void 0,multiple:h},y?{id:m}:{autoWidth:r,defaultOpen:d,displayEmpty:c,labelId:f,MenuProps:p,onClose:b,onOpen:_,open:S,renderValue:x,SelectDisplayProps:j({id:m},w)},v,{classes:v?Io($,v.classes):$},u?u.props.inputProps:{})},(h&&y||c)&&B==="outlined"?{notched:!0}:{},{ref:F,className:je(Y.props.className,n,z.root)},!u&&{variant:B},T))})});M6.muiName="Select";const T6=M6,dK=["anchor","classes","className","width","style"],cK=Re("div",{shouldForwardProp:po})(({theme:t,ownerState:e})=>j({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),lK=M.forwardRef(function(e,a){const{anchor:o,classes:r={},className:i,width:s,style:n}=e,d=Ie(e,dK),c=e;return R.jsx(cK,j({className:je("PrivateSwipeArea-root",r.root,r[`anchor${Fe(o)}`],i),ref:a,style:j({[Od(o)?"width":"height"]:s},n),ownerState:c},d))}),uK=lK,mK=["BackdropProps"],pK=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","allowSwipeInChildren","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],Zh=3,Rb=20;let ds=null;function Ob(t,e,a){return t==="right"?a.body.offsetWidth-e[0].pageX:e[0].pageX}function Ib(t,e,a){return t==="bottom"?a.innerHeight-e[0].clientY:e[0].clientY}function Tm(t,e){return t?e.clientWidth:e.clientHeight}function WM(t,e,a,o){return Math.min(Math.max(a?e-t:o+e-t,0),o)}function fK(t,e){const a=[];for(;t&&t!==e.parentElement;){const o=Wo(e).getComputedStyle(t);o.getPropertyValue("position")==="absolute"||o.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&a.push(t),t=t.parentElement}return a}function hK({domTreeShapes:t,start:e,current:a,anchor:o}){const r={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(i=>{let s=a>=e;(o==="top"||o==="left")&&(s=!s);const n=o==="left"||o==="right"?"x":"y",d=Math.round(i[r.scrollPosition[n]]),c=d>0,l=d+i[r.clientLength[n]]<i[r.scrollLength[n]];return!!(s&&l||!s&&c)})}const vK=typeof navigator<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent),gK=M.forwardRef(function(e,a){const o=zw({name:"MuiSwipeableDrawer",props:e}),r=Cc(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:s="left",disableBackdropTransition:n=!1,disableDiscovery:d=!1,disableSwipeToOpen:c=vK,hideBackdrop:l,hysteresis:m=.52,allowSwipeInChildren:u=!1,minFlingVelocity:v=450,ModalProps:{BackdropProps:g}={},onClose:f,onOpen:p,open:h=!1,PaperProps:y={},SwipeAreaProps:b,swipeAreaWidth:_=20,transitionDuration:S=i,variant:x="temporary"}=o,w=Ie(o.ModalProps,mK),A=Ie(o,pK),[T,O]=M.useState(!1),I=M.useRef({isSwiping:null}),U=M.useRef(),B=M.useRef(),N=M.useRef(),z=_a(y.ref,N),$=M.useRef(!1),Y=M.useRef();hr(()=>{Y.current=null},[h]);const F=M.useCallback((te,me={})=>{const{mode:xe=null,changeTransition:Q=!0}=me,Ee=Zm(r,s),Ae=["right","bottom"].indexOf(Ee)!==-1?1:-1,Ce=Od(s),we=Ce?`translate(${Ae*te}px, 0)`:`translate(0, ${Ae*te}px)`,De=N.current.style;De.webkitTransform=we,De.transform=we;let Te="";if(xe&&(Te=r.transitions.create("all",Vs({easing:void 0,style:void 0,timeout:S},{mode:xe}))),Q&&(De.webkitTransition=Te,De.transition=Te),!n&&!l){const _e=B.current.style;_e.opacity=1-te/Tm(Ce,N.current),Q&&(_e.webkitTransition=Te,_e.transition=Te)}},[s,n,l,r,S]),V=Gi(te=>{if(!$.current)return;if(ds=null,$.current=!1,au.flushSync(()=>{O(!1)}),!I.current.isSwiping){I.current.isSwiping=null;return}I.current.isSwiping=null;const me=Zm(r,s),xe=Od(s);let Q;xe?Q=Ob(me,te.changedTouches,ao(te.currentTarget)):Q=Ib(me,te.changedTouches,Wo(te.currentTarget));const Ee=xe?I.current.startX:I.current.startY,Ae=Tm(xe,N.current),Ce=WM(Q,Ee,h,Ae),we=Ce/Ae;if(Math.abs(I.current.velocity)>v&&(Y.current=Math.abs((Ae-Ce)/I.current.velocity)*1e3),h){I.current.velocity>v||we>m?f():F(0,{mode:"exit"});return}I.current.velocity<-v||1-we>m?p():F(Tm(xe,N.current),{mode:"enter"})}),Z=(te=!1)=>{if(!T){(te||!(d&&u))&&au.flushSync(()=>{O(!0)});const me=Od(s);!h&&N.current&&F(Tm(me,N.current)+(d?15:-Rb),{changeTransition:!1}),I.current.velocity=0,I.current.lastTime=null,I.current.lastTranslate=null,I.current.paperHit=!1,$.current=!0}},se=Gi(te=>{if(!N.current||!$.current||ds!==null&&ds!==I.current)return;Z(!0);const me=Zm(r,s),xe=Od(s),Q=Ob(me,te.touches,ao(te.currentTarget)),Ee=Ib(me,te.touches,Wo(te.currentTarget));if(h&&N.current.contains(te.target)&&ds===null){const Te=fK(te.target,N.current);if(hK({domTreeShapes:Te,start:xe?I.current.startX:I.current.startY,current:xe?Q:Ee,anchor:s})){ds=!0;return}ds=I.current}if(I.current.isSwiping==null){const Te=Math.abs(Q-I.current.startX),_e=Math.abs(Ee-I.current.startY),Qe=xe?Te>_e&&Te>Zh:_e>Te&&_e>Zh;if(Qe&&te.cancelable&&te.preventDefault(),Qe===!0||(xe?_e>Zh:Te>Zh)){if(I.current.isSwiping=Qe,!Qe){V(te);return}I.current.startX=Q,I.current.startY=Ee,!d&&!h&&(xe?I.current.startX-=Rb:I.current.startY-=Rb)}}if(!I.current.isSwiping)return;const Ae=Tm(xe,N.current);let Ce=xe?I.current.startX:I.current.startY;h&&!I.current.paperHit&&(Ce=Math.min(Ce,Ae));const we=WM(xe?Q:Ee,Ce,h,Ae);if(h)if(I.current.paperHit)we===0&&(I.current.startX=Q,I.current.startY=Ee);else if(xe?Q<Ae:Ee<Ae)I.current.paperHit=!0,I.current.startX=Q,I.current.startY=Ee;else return;I.current.lastTranslate===null&&(I.current.lastTranslate=we,I.current.lastTime=performance.now()+1);const De=(we-I.current.lastTranslate)/(performance.now()-I.current.lastTime)*1e3;I.current.velocity=I.current.velocity*.4+De*.6,I.current.lastTranslate=we,I.current.lastTime=performance.now(),te.cancelable&&te.preventDefault(),F(we)}),J=Gi(te=>{if(te.defaultPrevented||te.defaultMuiPrevented||h&&(l||!B.current.contains(te.target))&&!N.current.contains(te.target))return;const me=Zm(r,s),xe=Od(s),Q=Ob(me,te.touches,ao(te.currentTarget)),Ee=Ib(me,te.touches,Wo(te.currentTarget));if(!h){var Ae;if(c||!(te.target===U.current||(Ae=N.current)!=null&&Ae.contains(te.target)&&(typeof u=="function"?u(te,U.current,N.current):u)))return;if(xe){if(Q>_)return}else if(Ee>_)return}te.defaultMuiPrevented=!0,ds=null,I.current.startX=Q,I.current.startY=Ee,Z()});return M.useEffect(()=>{if(x==="temporary"){const te=ao(N.current);return te.addEventListener("touchstart",J),te.addEventListener("touchmove",se,{passive:!h}),te.addEventListener("touchend",V),()=>{te.removeEventListener("touchstart",J),te.removeEventListener("touchmove",se,{passive:!h}),te.removeEventListener("touchend",V)}}},[x,h,J,se,V]),M.useEffect(()=>()=>{ds===I.current&&(ds=null)},[]),M.useEffect(()=>{h||O(!1)},[h]),R.jsxs(M.Fragment,{children:[R.jsx(d6,j({open:x==="temporary"&&T?!0:h,variant:x,ModalProps:j({BackdropProps:j({},g,{ref:B})},x==="temporary"&&{keepMounted:!0},w),hideBackdrop:l,PaperProps:j({},y,{style:j({pointerEvents:x==="temporary"&&!h&&!u?"none":""},y.style),ref:z}),anchor:s,transitionDuration:Y.current||S,onClose:f,ref:a},A)),!c&&x==="temporary"&&R.jsx(g$,{children:R.jsx(uK,j({anchor:s,ref:U,width:_},b))})]})}),yK=gK;function bK(t){return rt("MuiSwitch",t)}const Mo=it("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),_K=["className","color","edge","size","sx"],xK=Du(),wK=t=>{const{classes:e,edge:a,size:o,color:r,checked:i,disabled:s}=t,n={root:["root",a&&`edge${Fe(a)}`,`size${Fe(o)}`],switchBase:["switchBase",`color${Fe(r)}`,i&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=dt(n,bK,e);return j({},e,d)},SK=Re("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.edge&&e[`edge${Fe(a.edge)}`],e[`size${Fe(a.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Mo.thumb}`]:{width:16,height:16},[`& .${Mo.switchBase}`]:{padding:4,[`&.${Mo.checked}`]:{transform:"translateX(16px)"}}}}]}),AK=Re(iW,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.switchBase,{[`& .${Mo.input}`]:e.input},a.color!=="default"&&e[`color${Fe(a.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Mo.checked}`]:{transform:"translateX(20px)"},[`&.${Mo.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Mo.checked} + .${Mo.track}`]:{opacity:.5},[`&.${Mo.disabled} + .${Mo.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Mo.input}`]:{left:"-100%",width:"300%"}}),({theme:t})=>({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:fa(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(([,e])=>e.main&&e.light).map(([e])=>({props:{color:e},style:{[`&.${Mo.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fa(t.palette[e].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Mo.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?PI(t.palette[e].main,.62):qI(t.palette[e].main,.55)}`}},[`&.${Mo.checked} + .${Mo.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]})),EK=Re("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),MK=Re("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),TK=M.forwardRef(function(e,a){const o=xK({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:s=!1,size:n="medium",sx:d}=o,c=Ie(o,_K),l=j({},o,{color:i,edge:s,size:n}),m=wK(l),u=R.jsx(MK,{className:m.thumb,ownerState:l});return R.jsxs(SK,{className:je(m.root,r),sx:d,ownerState:l,children:[R.jsx(AK,j({type:"checkbox",icon:u,checkedIcon:u,ref:a,ownerState:l},c,{classes:j({},m,{root:m.switchBase})})),R.jsx(EK,{className:m.track,ownerState:l})]})}),GM=TK;function CK(t){return rt("MuiToolbar",t)}it("MuiToolbar",["root","gutters","regular","dense"]);const RK=["className","component","disableGutters","variant"],OK=t=>{const{classes:e,disableGutters:a,variant:o}=t;return dt({root:["root",!a&&"gutters",o]},CK,e)},IK=Re("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disableGutters&&e.gutters,e[a.variant]]}})(({theme:t,ownerState:e})=>j({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),DK=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:s=!1,variant:n="regular"}=o,d=Ie(o,RK),c=j({},o,{component:i,disableGutters:s,variant:n}),l=OK(c);return R.jsx(IK,j({as:i,className:je(l.root,r),ref:a,ownerState:c},d))}),C6=DK;function qK(t){return rt("MuiTextField",t)}it("MuiTextField",["root"]);const PK=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],LK={standard:f6,filled:l6,outlined:E6},NK=t=>{const{classes:e}=t;return dt({root:["root"]},qK,e)},jK=Re(eS,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),FK=M.forwardRef(function(e,a){const o=vt({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:s,className:n,color:d="primary",defaultValue:c,disabled:l=!1,error:m=!1,FormHelperTextProps:u,fullWidth:v=!1,helperText:g,id:f,InputLabelProps:p,inputProps:h,InputProps:y,inputRef:b,label:_,maxRows:S,minRows:x,multiline:w=!1,name:A,onBlur:T,onChange:O,onFocus:I,placeholder:U,required:B=!1,rows:N,select:z=!1,SelectProps:$,type:Y,value:F,variant:V="outlined"}=o,Z=Ie(o,PK),se=j({},o,{autoFocus:i,color:d,disabled:l,error:m,fullWidth:v,multiline:w,required:B,select:z,variant:V}),J=NK(se),te={};V==="outlined"&&(p&&typeof p.shrink<"u"&&(te.notched=p.shrink),te.label=_),z&&((!$||!$.native)&&(te.id=void 0),te["aria-describedby"]=void 0);const me=Bw(f),xe=g&&me?`${me}-helper-text`:void 0,Q=_&&me?`${me}-label`:void 0,Ee=LK[V],Ae=R.jsx(Ee,j({"aria-describedby":xe,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:v,multiline:w,name:A,rows:N,maxRows:S,minRows:x,type:Y,value:F,id:me,inputRef:b,onBlur:T,onChange:O,onFocus:I,placeholder:U,inputProps:h},te,y));return R.jsxs(jK,j({className:je(J.root,n),disabled:l,error:m,fullWidth:v,ref:a,required:B,color:d,variant:V,ownerState:se},Z,{children:[_!=null&&_!==""&&R.jsx(iY,j({htmlFor:me,id:Q},p,{children:_})),z?R.jsx(T6,j({"aria-describedby":xe,id:me,labelId:Q,value:F,input:Ae},$,{children:s})):Ae,g&&R.jsx(vG,j({id:xe},u,{children:g}))]}))}),R6=FK,zK=["getTrigger","target"];function BK(t,e){const{disableHysteresis:a=!1,threshold:o=100,target:r}=e,i=t.current;return r&&(t.current=r.pageYOffset!==void 0?r.pageYOffset:r.scrollTop),!a&&i!==void 0&&t.current<i?!1:t.current>o}const kK=typeof window<"u"?window:null;function O6(t={}){const{getTrigger:e=BK,target:a=kK}=t,o=Ie(t,zK),r=M.useRef(),[i,s]=M.useState(()=>e(r,o));return M.useEffect(()=>{const n=()=>{s(e(r,j({target:a},o)))};return n(),a.addEventListener("scroll",n,{passive:!0}),()=>{a.removeEventListener("scroll",n,{passive:!0})}},[a,e,JSON.stringify(o)]),i}var W1={},qu={},l3=function(t,e){return l3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(a[r]=o[r])},l3(t,e)};function I6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");l3(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}var Vg=function(){return Vg=Object.assign||function(e){for(var a,o=1,r=arguments.length;o<r;o++){a=arguments[o];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Vg.apply(this,arguments)};function D6(t,e){var a={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(a[o[r]]=t[o[r]]);return a}function q6(t,e,a,o){var r=arguments.length,i=r<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,a):o,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,a,o);else for(var n=t.length-1;n>=0;n--)(s=t[n])&&(i=(r<3?s(i):r>3?s(e,a,i):s(e,a))||i);return r>3&&i&&Object.defineProperty(e,a,i),i}function P6(t,e){return function(a,o){e(a,o,t)}}function UK(t,e,a,o,r,i){function s(h){if(h!==void 0&&typeof h!="function")throw new TypeError("Function expected");return h}for(var n=o.kind,d=n==="getter"?"get":n==="setter"?"set":"value",c=!e&&t?o.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,o.name):{}),m,u=!1,v=a.length-1;v>=0;v--){var g={};for(var f in o)g[f]=f==="access"?{}:o[f];for(var f in o.access)g.access[f]=o.access[f];g.addInitializer=function(h){if(u)throw new TypeError("Cannot add initializers after decoration has completed");i.push(s(h||null))};var p=(0,a[v])(n==="accessor"?{get:l.get,set:l.set}:l[d],g);if(n==="accessor"){if(p===void 0)continue;if(p===null||typeof p!="object")throw new TypeError("Object expected");(m=s(p.get))&&(l.get=m),(m=s(p.set))&&(l.set=m),(m=s(p.init))&&r.unshift(m)}else(m=s(p))&&(n==="field"?r.unshift(m):l[d]=m)}c&&Object.defineProperty(c,o.name,l),u=!0}function VK(t,e,a){for(var o=arguments.length>2,r=0;r<e.length;r++)a=o?e[r].call(t,a):e[r].call(t);return o?a:void 0}function $K(t){return typeof t=="symbol"?t:"".concat(t)}function HK(t,e,a){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:a?"".concat(a," ",e):e})}function L6(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function N6(t,e,a,o){function r(i){return i instanceof a?i:new a(function(s){s(i)})}return new(a||(a=Promise))(function(i,s){function n(l){try{c(o.next(l))}catch(m){s(m)}}function d(l){try{c(o.throw(l))}catch(m){s(m)}}function c(l){l.done?i(l.value):r(l.value).then(n,d)}c((o=o.apply(t,e||[])).next())})}function j6(t,e){var a={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,r,i,s;return s={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function n(c){return function(l){return d([c,l])}}function d(c){if(o)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(a=0)),a;)try{if(o=1,r&&(i=c[0]&2?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){a.label=c[1];break}if(c[0]===6&&a.label<i[1]){a.label=i[1],i=c;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(c);break}i[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(l){c=[6,l],r=0}finally{o=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var G1=Object.create?function(t,e,a,o){o===void 0&&(o=a);var r=Object.getOwnPropertyDescriptor(e,a);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(t,o,r)}:function(t,e,a,o){o===void 0&&(o=a),t[o]=e[a]};function F6(t,e){for(var a in t)a!=="default"&&!Object.prototype.hasOwnProperty.call(e,a)&&G1(e,t,a)}function $g(t){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&t[e],o=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function rS(t,e){var a=typeof Symbol=="function"&&t[Symbol.iterator];if(!a)return t;var o=a.call(t),r,i=[],s;try{for(;(e===void 0||e-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(n){s={error:n}}finally{try{r&&!r.done&&(a=o.return)&&a.call(o)}finally{if(s)throw s.error}}return i}function z6(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rS(arguments[e]));return t}function B6(){for(var t=0,e=0,a=arguments.length;e<a;e++)t+=arguments[e].length;for(var o=Array(t),r=0,e=0;e<a;e++)for(var i=arguments[e],s=0,n=i.length;s<n;s++,r++)o[r]=i[s];return o}function k6(t,e,a){if(a||arguments.length===2)for(var o=0,r=e.length,i;o<r;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))}function cu(t){return this instanceof cu?(this.v=t,this):new cu(t)}function U6(t,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(t,e||[]),r,i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(u){o[u]&&(r[u]=function(v){return new Promise(function(g,f){i.push([u,v,g,f])>1||n(u,v)})})}function n(u,v){try{d(o[u](v))}catch(g){m(i[0][3],g)}}function d(u){u.value instanceof cu?Promise.resolve(u.value.v).then(c,l):m(i[0][2],u)}function c(u){n("next",u)}function l(u){n("throw",u)}function m(u,v){u(v),i.shift(),i.length&&n(i[0][0],i[0][1])}}function V6(t){var e,a;return e={},o("next"),o("throw",function(r){throw r}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(r,i){e[r]=t[r]?function(s){return(a=!a)?{value:cu(t[r](s)),done:!1}:i?i(s):s}:i}}function $6(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],a;return e?e.call(t):(t=typeof $g=="function"?$g(t):t[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(i){a[i]=t[i]&&function(s){return new Promise(function(n,d){s=t[i](s),r(n,d,s.done,s.value)})}}function r(i,s,n,d){Promise.resolve(d).then(function(c){i({value:c,done:n})},s)}}function H6(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var WK=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function W6(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var a in t)a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)&&G1(e,t,a);return WK(e,t),e}function G6(t){return t&&t.__esModule?t:{default:t}}function Y6(t,e,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(t):o?o.value:e.get(t)}function Z6(t,e,a,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,a):r?r.value=a:e.set(t,a),a}function K6(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Q6(t,e,a){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose]}if(typeof o!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:o,async:a})}else a&&t.stack.push({async:!0});return e}var GK=typeof SuppressedError=="function"?SuppressedError:function(t,e,a){var o=new Error(a);return o.name="SuppressedError",o.error=t,o.suppressed=e,o};function X6(t){function e(o){t.error=t.hasError?new GK(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}function a(){for(;t.stack.length;){var o=t.stack.pop();try{var r=o.dispose&&o.dispose.call(o.value);if(o.async)return Promise.resolve(r).then(a,function(i){return e(i),a()})}catch(i){e(i)}}if(t.hasError)throw t.error}return a()}const YK={__extends:I6,__assign:Vg,__rest:D6,__decorate:q6,__param:P6,__metadata:L6,__awaiter:N6,__generator:j6,__createBinding:G1,__exportStar:F6,__values:$g,__read:rS,__spread:z6,__spreadArrays:B6,__spreadArray:k6,__await:cu,__asyncGenerator:U6,__asyncDelegator:V6,__asyncValues:$6,__makeTemplateObject:H6,__importStar:W6,__importDefault:G6,__classPrivateFieldGet:Y6,__classPrivateFieldSet:Z6,__classPrivateFieldIn:K6,__addDisposableResource:Q6,__disposeResources:X6},ZK=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Q6,get __assign(){return Vg},__asyncDelegator:V6,__asyncGenerator:U6,__asyncValues:$6,__await:cu,__awaiter:N6,__classPrivateFieldGet:Y6,__classPrivateFieldIn:K6,__classPrivateFieldSet:Z6,__createBinding:G1,__decorate:q6,__disposeResources:X6,__esDecorate:UK,__exportStar:F6,__extends:I6,__generator:j6,__importDefault:G6,__importStar:W6,__makeTemplateObject:H6,__metadata:L6,__param:P6,__propKey:$K,__read:rS,__rest:D6,__runInitializers:VK,__setFunctionName:HK,__spread:z6,__spreadArray:k6,__spreadArrays:B6,__values:$g,default:YK},Symbol.toStringTag,{value:"Module"})),wr=Zr(ZK);var Oe={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.encodeUtf8=Gr.decodeUtf8=void 0;const KK=new TextDecoder("utf-8"),QK=t=>KK.decode(t);Gr.decodeUtf8=QK;const XK=new TextEncoder,JK=t=>XK.encode(t);Gr.encodeUtf8=JK;var ld={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isFlatbuffersByteBuffer=t.isReadableNodeStream=t.isWritableNodeStream=t.isReadableDOMStream=t.isWritableDOMStream=t.isFetchResponse=t.isFSReadStream=t.isFileHandle=t.isUnderlyingSink=t.isIteratorResult=t.isArrayLike=t.isArrowJSON=t.isAsyncIterable=t.isIterable=t.isObservable=t.isPromise=t.isObject=void 0;const e=x=>typeof x=="number",a=x=>typeof x=="boolean",o=x=>typeof x=="function",r=x=>x!=null&&Object(x)===x;t.isObject=r;const i=x=>(0,t.isObject)(x)&&o(x.then);t.isPromise=i;const s=x=>(0,t.isObject)(x)&&o(x.subscribe);t.isObservable=s;const n=x=>(0,t.isObject)(x)&&o(x[Symbol.iterator]);t.isIterable=n;const d=x=>(0,t.isObject)(x)&&o(x[Symbol.asyncIterator]);t.isAsyncIterable=d;const c=x=>(0,t.isObject)(x)&&(0,t.isObject)(x.schema);t.isArrowJSON=c;const l=x=>(0,t.isObject)(x)&&e(x.length);t.isArrayLike=l;const m=x=>(0,t.isObject)(x)&&"done"in x&&"value"in x;t.isIteratorResult=m;const u=x=>(0,t.isObject)(x)&&o(x.abort)&&o(x.close)&&o(x.start)&&o(x.write);t.isUnderlyingSink=u;const v=x=>(0,t.isObject)(x)&&o(x.stat)&&e(x.fd);t.isFileHandle=v;const g=x=>(0,t.isReadableNodeStream)(x)&&e(x.bytesRead);t.isFSReadStream=g;const f=x=>(0,t.isObject)(x)&&(0,t.isReadableDOMStream)(x.body);t.isFetchResponse=f;const p=x=>"_getDOMStream"in x&&"_getNodeStream"in x,h=x=>(0,t.isObject)(x)&&o(x.abort)&&o(x.getWriter)&&!p(x);t.isWritableDOMStream=h;const y=x=>(0,t.isObject)(x)&&o(x.cancel)&&o(x.getReader)&&!p(x);t.isReadableDOMStream=y;const b=x=>(0,t.isObject)(x)&&o(x.end)&&o(x.write)&&a(x.writable)&&!p(x);t.isWritableNodeStream=b;const _=x=>(0,t.isObject)(x)&&o(x.read)&&o(x.pipe)&&a(x.readable)&&!p(x);t.isReadableNodeStream=_;const S=x=>(0,t.isObject)(x)&&o(x.clear)&&o(x.bytes)&&o(x.position)&&o(x.setPosition)&&o(x.capacity)&&o(x.getBufferIdentifier)&&o(x.createLong);t.isFlatbuffersByteBuffer=S})(ld);Object.defineProperty(Oe,"__esModule",{value:!0});Oe.compareArrayLike=Oe.rebaseValueOffsets=Oe.toUint8ClampedArrayAsyncIterator=Oe.toFloat64ArrayAsyncIterator=Oe.toFloat32ArrayAsyncIterator=Oe.toUint32ArrayAsyncIterator=Oe.toUint16ArrayAsyncIterator=Oe.toUint8ArrayAsyncIterator=Oe.toInt32ArrayAsyncIterator=Oe.toInt16ArrayAsyncIterator=Oe.toInt8ArrayAsyncIterator=Oe.toArrayBufferViewAsyncIterator=Oe.toUint8ClampedArrayIterator=Oe.toFloat64ArrayIterator=Oe.toFloat32ArrayIterator=Oe.toUint32ArrayIterator=Oe.toUint16ArrayIterator=Oe.toUint8ArrayIterator=Oe.toInt32ArrayIterator=Oe.toInt16ArrayIterator=Oe.toInt8ArrayIterator=Oe.toArrayBufferViewIterator=Oe.toUint8ClampedArray=Oe.toFloat64Array=Oe.toFloat32Array=Oe.toBigUint64Array=Oe.toUint32Array=Oe.toUint16Array=Oe.toUint8Array=Oe.toBigInt64Array=Oe.toInt32Array=Oe.toInt16Array=Oe.toInt8Array=Oe.toArrayBufferView=Oe.joinUint8Arrays=Oe.memcpy=void 0;const ja=wr,eQ=Gr,Wl=ld,iS=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function tQ(t){const e=t[0]?[t[0]]:[];let a,o,r,i;for(let s,n,d=0,c=0,l=t.length;++d<l;){if(s=e[c],n=t[d],!s||!n||s.buffer!==n.buffer||n.byteOffset<s.byteOffset){n&&(e[++c]=n);continue}if({byteOffset:a,byteLength:r}=s,{byteOffset:o,byteLength:i}=n,a+r<o||o+i<a){n&&(e[++c]=n);continue}e[c]=new Uint8Array(s.buffer,a,o-a+i)}return e}function u3(t,e,a=0,o=e.byteLength){const r=t.byteLength,i=new Uint8Array(t.buffer,t.byteOffset,r),s=new Uint8Array(e.buffer,e.byteOffset,Math.min(o,r));return i.set(s,a),t}Oe.memcpy=u3;function aQ(t,e){const a=tQ(t),o=a.reduce((l,m)=>l+m.byteLength,0);let r,i,s,n=0,d=-1;const c=Math.min(e||Number.POSITIVE_INFINITY,o);for(const l=a.length;++d<l;){if(r=a[d],i=r.subarray(0,Math.min(r.length,c-n)),c<=n+i.length){i.length<r.length?a[d]=r.subarray(i.length):i.length===r.length&&d++,s?u3(s,i,n):s=i;break}u3(s||(s=new Uint8Array(c)),i,n),n+=i.length}return[s||new Uint8Array(0),a.slice(d),o-(s?s.byteLength:0)]}Oe.joinUint8Arrays=aQ;function Fo(t,e){let a=(0,Wl.isIteratorResult)(e)?e.value:e;return a instanceof t?t===Uint8Array?new t(a.buffer,a.byteOffset,a.byteLength):a:a?(typeof a=="string"&&(a=(0,eQ.encodeUtf8)(a)),a instanceof ArrayBuffer?new t(a):a instanceof iS?new t(a):(0,Wl.isFlatbuffersByteBuffer)(a)?Fo(t,a.bytes()):ArrayBuffer.isView(a)?a.byteLength<=0?new t(0):new t(a.buffer,a.byteOffset,a.byteLength/t.BYTES_PER_ELEMENT):t.from(a)):new t(0)}Oe.toArrayBufferView=Fo;const oQ=t=>Fo(Int8Array,t);Oe.toInt8Array=oQ;const rQ=t=>Fo(Int16Array,t);Oe.toInt16Array=rQ;const iQ=t=>Fo(Int32Array,t);Oe.toInt32Array=iQ;const sQ=t=>Fo(BigInt64Array,t);Oe.toBigInt64Array=sQ;const nQ=t=>Fo(Uint8Array,t);Oe.toUint8Array=nQ;const dQ=t=>Fo(Uint16Array,t);Oe.toUint16Array=dQ;const cQ=t=>Fo(Uint32Array,t);Oe.toUint32Array=cQ;const lQ=t=>Fo(BigUint64Array,t);Oe.toBigUint64Array=lQ;const uQ=t=>Fo(Float32Array,t);Oe.toFloat32Array=uQ;const mQ=t=>Fo(Float64Array,t);Oe.toFloat64Array=mQ;const pQ=t=>Fo(Uint8ClampedArray,t);Oe.toUint8ClampedArray=pQ;const m3=t=>(t.next(),t);function*is(t,e){const a=function*(r){yield r},o=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof iS?a(e):(0,Wl.isIterable)(e)?e:a(e);return yield*m3(function*(r){let i=null;do i=r.next(yield Fo(t,i));while(!i.done)}(o[Symbol.iterator]())),new t}Oe.toArrayBufferViewIterator=is;const fQ=t=>is(Int8Array,t);Oe.toInt8ArrayIterator=fQ;const hQ=t=>is(Int16Array,t);Oe.toInt16ArrayIterator=hQ;const vQ=t=>is(Int32Array,t);Oe.toInt32ArrayIterator=vQ;const gQ=t=>is(Uint8Array,t);Oe.toUint8ArrayIterator=gQ;const yQ=t=>is(Uint16Array,t);Oe.toUint16ArrayIterator=yQ;const bQ=t=>is(Uint32Array,t);Oe.toUint32ArrayIterator=bQ;const _Q=t=>is(Float32Array,t);Oe.toFloat32ArrayIterator=_Q;const xQ=t=>is(Float64Array,t);Oe.toFloat64ArrayIterator=xQ;const wQ=t=>is(Uint8ClampedArray,t);Oe.toUint8ClampedArrayIterator=wQ;function Oi(t,e){return ja.__asyncGenerator(this,arguments,function*(){if((0,Wl.isPromise)(e))return yield ja.__await(yield ja.__await(yield*ja.__asyncDelegator(ja.__asyncValues(Oi(t,yield ja.__await(e))))));const o=function(s){return ja.__asyncGenerator(this,arguments,function*(){yield yield ja.__await(yield ja.__await(s))})},r=function(s){return ja.__asyncGenerator(this,arguments,function*(){yield ja.__await(yield*ja.__asyncDelegator(ja.__asyncValues(m3(function*(n){let d=null;do d=n.next(yield d==null?void 0:d.value);while(!d.done)}(s[Symbol.iterator]())))))})},i=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof iS?o(e):(0,Wl.isIterable)(e)?r(e):(0,Wl.isAsyncIterable)(e)?e:o(e);return yield ja.__await(yield*ja.__asyncDelegator(ja.__asyncValues(m3(function(s){return ja.__asyncGenerator(this,arguments,function*(){let n=null;do n=yield ja.__await(s.next(yield yield ja.__await(Fo(t,n))));while(!n.done)})}(i[Symbol.asyncIterator]()))))),yield ja.__await(new t)})}Oe.toArrayBufferViewAsyncIterator=Oi;const SQ=t=>Oi(Int8Array,t);Oe.toInt8ArrayAsyncIterator=SQ;const AQ=t=>Oi(Int16Array,t);Oe.toInt16ArrayAsyncIterator=AQ;const EQ=t=>Oi(Int32Array,t);Oe.toInt32ArrayAsyncIterator=EQ;const MQ=t=>Oi(Uint8Array,t);Oe.toUint8ArrayAsyncIterator=MQ;const TQ=t=>Oi(Uint16Array,t);Oe.toUint16ArrayAsyncIterator=TQ;const CQ=t=>Oi(Uint32Array,t);Oe.toUint32ArrayAsyncIterator=CQ;const RQ=t=>Oi(Float32Array,t);Oe.toFloat32ArrayAsyncIterator=RQ;const OQ=t=>Oi(Float64Array,t);Oe.toFloat64ArrayAsyncIterator=OQ;const IQ=t=>Oi(Uint8ClampedArray,t);Oe.toUint8ClampedArrayAsyncIterator=IQ;function DQ(t,e,a){if(t!==0){a=a.slice(0,e);for(let o=-1,r=a.length;++o<r;)a[o]+=t}return a.subarray(0,e)}Oe.rebaseValueOffsets=DQ;function qQ(t,e){let a=0;const o=t.length;if(o!==e.length)return!1;if(o>0)do if(t[a]!==e[a])return!1;while(++a<o);return!0}Oe.compareArrayLike=qQ;Object.defineProperty(qu,"__esModule",{value:!0});const aa=wr,Co=Oe;qu.default={fromIterable(t){return Kh(PQ(t))},fromAsyncIterable(t){return Kh(LQ(t))},fromDOMStream(t){return Kh(NQ(t))},fromNodeStream(t){return Kh(FQ(t))},toDOMStream(t,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(t,e){throw new Error('"toNodeStream" not available in this environment')}};const Kh=t=>(t.next(),t);function*PQ(t){let e,a=!1,o=[],r,i,s,n=0;function d(){return i==="peek"?(0,Co.joinUint8Arrays)(o,s)[0]:([r,o,n]=(0,Co.joinUint8Arrays)(o,s),r)}({cmd:i,size:s}=(yield null)||{cmd:"read",size:0});const c=(0,Co.toUint8ArrayIterator)(t)[Symbol.iterator]();try{do if({done:e,value:r}=Number.isNaN(s-n)?c.next():c.next(s-n),!e&&r.byteLength>0&&(o.push(r),n+=r.byteLength),e||s<=n)do({cmd:i,size:s}=yield d());while(s<n);while(!e)}catch(l){(a=!0)&&typeof c.throw=="function"&&c.throw(l)}finally{a===!1&&typeof c.return=="function"&&c.return(null)}return null}function LQ(t){return aa.__asyncGenerator(this,arguments,function*(){let a,o=!1,r=[],i,s,n,d=0;function c(){return s==="peek"?(0,Co.joinUint8Arrays)(r,n)[0]:([i,r,d]=(0,Co.joinUint8Arrays)(r,n),i)}({cmd:s,size:n}=(yield yield aa.__await(null))||{cmd:"read",size:0});const l=(0,Co.toUint8ArrayAsyncIterator)(t)[Symbol.asyncIterator]();try{do if({done:a,value:i}=Number.isNaN(n-d)?yield aa.__await(l.next()):yield aa.__await(l.next(n-d)),!a&&i.byteLength>0&&(r.push(i),d+=i.byteLength),a||n<=d)do({cmd:s,size:n}=yield yield aa.__await(c()));while(n<d);while(!a)}catch(m){(o=!0)&&typeof l.throw=="function"&&(yield aa.__await(l.throw(m)))}finally{o===!1&&typeof l.return=="function"&&(yield aa.__await(l.return(new Uint8Array(0))))}return yield aa.__await(null)})}function NQ(t){return aa.__asyncGenerator(this,arguments,function*(){let a=!1,o=!1,r=[],i,s,n,d=0;function c(){return s==="peek"?(0,Co.joinUint8Arrays)(r,n)[0]:([i,r,d]=(0,Co.joinUint8Arrays)(r,n),i)}({cmd:s,size:n}=(yield yield aa.__await(null))||{cmd:"read",size:0});const l=new jQ(t);try{do if({done:a,value:i}=Number.isNaN(n-d)?yield aa.__await(l.read()):yield aa.__await(l.read(n-d)),!a&&i.byteLength>0&&(r.push((0,Co.toUint8Array)(i)),d+=i.byteLength),a||n<=d)do({cmd:s,size:n}=yield yield aa.__await(c()));while(n<d);while(!a)}catch(m){(o=!0)&&(yield aa.__await(l.cancel(m)))}finally{o===!1?yield aa.__await(l.cancel()):t.locked&&l.releaseLock()}return yield aa.__await(null)})}class jQ{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return aa.__awaiter(this,void 0,void 0,function*(){const{reader:a,source:o}=this;a&&(yield a.cancel(e).catch(()=>{})),o&&o.locked&&this.releaseLock()})}read(e){return aa.__awaiter(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const a=yield this.reader.read();return!a.done&&(a.value=(0,Co.toUint8Array)(a)),a})}}const Db=(t,e)=>{const a=r=>o([e,r]);let o;return[e,a,new Promise(r=>(o=r)&&t.once(e,a))]};function FQ(t){return aa.__asyncGenerator(this,arguments,function*(){const a=[];let o="error",r=!1,i=null,s,n,d=0,c=[],l;function m(){return s==="peek"?(0,Co.joinUint8Arrays)(c,n)[0]:([l,c,d]=(0,Co.joinUint8Arrays)(c,n),l)}if({cmd:s,size:n}=(yield yield aa.__await(null))||{cmd:"read",size:0},t.isTTY)return yield yield aa.__await(new Uint8Array(0)),yield aa.__await(null);try{a[0]=Db(t,"end"),a[1]=Db(t,"error");do{if(a[2]=Db(t,"readable"),[o,i]=yield aa.__await(Promise.race(a.map(v=>v[2]))),o==="error")break;if((r=o==="end")||(Number.isFinite(n-d)?(l=(0,Co.toUint8Array)(t.read(n-d)),l.byteLength<n-d&&(l=(0,Co.toUint8Array)(t.read()))):l=(0,Co.toUint8Array)(t.read()),l.byteLength>0&&(c.push(l),d+=l.byteLength)),r||n<=d)do({cmd:s,size:n}=yield yield aa.__await(m()));while(n<d)}while(!r)}finally{yield aa.__await(u(a,o==="error"?i:null))}return yield aa.__await(null);function u(v,g){return l=c=null,new Promise((f,p)=>{for(const[h,y]of v)t.off(h,y);try{const h=t.destroy;h&&h.call(t,g),g=void 0}catch(h){g=h||g}finally{g!=null?p(g):f()}})}})}var Gt={},pd={},xa={},Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.MetadataVersion=void 0;var YM;(function(t){t[t.V1=0]="V1",t[t.V2=1]="V2",t[t.V3=2]="V3",t[t.V4=3]="V4",t[t.V5=4]="V5"})(YM||(Pu.MetadataVersion=YM={}));var Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.UnionMode=void 0;var ZM;(function(t){t[t.Sparse=0]="Sparse",t[t.Dense=1]="Dense"})(ZM||(Pf.UnionMode=ZM={}));var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.Precision=void 0;var KM;(function(t){t[t.HALF=0]="HALF",t[t.SINGLE=1]="SINGLE",t[t.DOUBLE=2]="DOUBLE"})(KM||(Lf.Precision=KM={}));var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.DateUnit=void 0;var QM;(function(t){t[t.DAY=0]="DAY",t[t.MILLISECOND=1]="MILLISECOND"})(QM||(Nf.DateUnit=QM={}));var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.TimeUnit=void 0;var XM;(function(t){t[t.SECOND=0]="SECOND",t[t.MILLISECOND=1]="MILLISECOND",t[t.MICROSECOND=2]="MICROSECOND",t[t.NANOSECOND=3]="NANOSECOND"})(XM||(Rc.TimeUnit=XM={}));var jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.IntervalUnit=void 0;var JM;(function(t){t[t.YEAR_MONTH=0]="YEAR_MONTH",t[t.DAY_TIME=1]="DAY_TIME",t[t.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(JM||(jf.IntervalUnit=JM={}));var Xi={},Ff={};const eg=2,pi=4,Wi=4,J6=4,Es=new Int32Array(2),p3=new Float32Array(Es.buffer),f3=new Float64Array(Es.buffer),Qm=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;var Hg;(function(t){t[t.UTF8_BYTES=1]="UTF8_BYTES",t[t.UTF16_STRING=2]="UTF16_STRING"})(Hg||(Hg={}));let h3=class eD{constructor(e){this.bytes_=e,this.position_=0,this.text_decoder_=new TextDecoder}static allocate(e){return new eD(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return BigInt.asIntN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readUint64(e){return BigInt.asUintN(64,BigInt(this.readUint32(e))+(BigInt(this.readUint32(e+4))<<BigInt(32)))}readFloat32(e){return Es[0]=this.readInt32(e),p3[0]}readFloat64(e){return Es[Qm?0:1]=this.readInt32(e),Es[Qm?1:0]=this.readInt32(e+4),f3[0]}writeInt8(e,a){this.bytes_[e]=a}writeUint8(e,a){this.bytes_[e]=a}writeInt16(e,a){this.bytes_[e]=a,this.bytes_[e+1]=a>>8}writeUint16(e,a){this.bytes_[e]=a,this.bytes_[e+1]=a>>8}writeInt32(e,a){this.bytes_[e]=a,this.bytes_[e+1]=a>>8,this.bytes_[e+2]=a>>16,this.bytes_[e+3]=a>>24}writeUint32(e,a){this.bytes_[e]=a,this.bytes_[e+1]=a>>8,this.bytes_[e+2]=a>>16,this.bytes_[e+3]=a>>24}writeInt64(e,a){this.writeInt32(e,Number(BigInt.asIntN(32,a))),this.writeInt32(e+4,Number(BigInt.asIntN(32,a>>BigInt(32))))}writeUint64(e,a){this.writeUint32(e,Number(BigInt.asUintN(32,a))),this.writeUint32(e+4,Number(BigInt.asUintN(32,a>>BigInt(32))))}writeFloat32(e,a){p3[0]=a,this.writeInt32(e,Es[0])}writeFloat64(e,a){f3[0]=a,this.writeInt32(e,Es[Qm?0:1]),this.writeInt32(e+4,Es[Qm?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+pi+Wi)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let a=0;a<Wi;a++)e+=String.fromCharCode(this.readInt8(this.position_+pi+a));return e}__offset(e,a){const o=e-this.readInt32(e);return a<this.readInt16(o)?this.readInt16(o+a):0}__union(e,a){return e.bb_pos=a+this.readInt32(a),e.bb=this,e}__string(e,a){e+=this.readInt32(e);const o=this.readInt32(e);e+=pi;const r=this.bytes_.subarray(e,e+o);return a===Hg.UTF8_BYTES?r:this.text_decoder_.decode(r)}__union_with_string(e,a){return typeof e=="string"?this.__string(a):this.__union(e,a)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+pi}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Wi)throw new Error("FlatBuffers: file identifier must be length "+Wi);for(let a=0;a<Wi;a++)if(e.charCodeAt(a)!=this.readInt8(this.position()+pi+a))return!1;return!0}createScalarList(e,a){const o=[];for(let r=0;r<a;++r){const i=e(r);i!==null&&o.push(i)}return o}createObjList(e,a){const o=[];for(let r=0;r<a;++r){const i=e(r);i!==null&&o.push(i.unpack())}return o}},zQ=class tD{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,this.text_encoder=new TextEncoder;let a;e?a=e:a=1024,this.bb=h3.allocate(a),this.space=a}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,a){e>this.minalign&&(this.minalign=e);const o=~(this.bb.capacity()-this.space+a)+1&e-1;for(;this.space<o+e+a;){const r=this.bb.capacity();this.bb=tD.growByteBuffer(this.bb),this.space+=this.bb.capacity()-r}this.pad(o)}pad(e){for(let a=0;a<e;a++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,a,o){(this.force_defaults||a!=o)&&(this.addInt8(a),this.slot(e))}addFieldInt16(e,a,o){(this.force_defaults||a!=o)&&(this.addInt16(a),this.slot(e))}addFieldInt32(e,a,o){(this.force_defaults||a!=o)&&(this.addInt32(a),this.slot(e))}addFieldInt64(e,a,o){(this.force_defaults||a!==o)&&(this.addInt64(a),this.slot(e))}addFieldFloat32(e,a,o){(this.force_defaults||a!=o)&&(this.addFloat32(a),this.slot(e))}addFieldFloat64(e,a,o){(this.force_defaults||a!=o)&&(this.addFloat64(a),this.slot(e))}addFieldOffset(e,a,o){(this.force_defaults||a!=o)&&(this.addOffset(a),this.slot(e))}addFieldStruct(e,a,o){a!=o&&(this.nested(a),this.slot(e))}nested(e){if(e!=this.offset())throw new TypeError("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new TypeError("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const a=e.capacity();if(a&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const o=a<<1,r=h3.allocate(o);return r.setPosition(o-a),r.bytes().set(e.bytes(),o-a),r}addOffset(e){this.prep(pi,0),this.writeInt32(this.offset()-e+pi)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let a=0;a<e;a++)this.vtable[a]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let a=this.vtable_in_use-1;for(;a>=0&&this.vtable[a]==0;a--);const o=a+1;for(;a>=0;a--)this.addInt16(this.vtable[a]!=0?e-this.vtable[a]:0);const r=2;this.addInt16(e-this.object_start);const i=(o+r)*eg;this.addInt16(i);let s=0;const n=this.space;e:for(a=0;a<this.vtables.length;a++){const d=this.bb.capacity()-this.vtables[a];if(i==this.bb.readInt16(d)){for(let c=eg;c<i;c+=eg)if(this.bb.readInt16(n+c)!=this.bb.readInt16(d+c))continue e;s=this.vtables[a];break}}return s?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,s-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,a,o){const r=o?J6:0;if(a){const i=a;if(this.prep(this.minalign,pi+Wi+r),i.length!=Wi)throw new TypeError("FlatBuffers: file identifier must be length "+Wi);for(let s=Wi-1;s>=0;s--)this.writeInt8(i.charCodeAt(s))}this.prep(this.minalign,pi+r),this.addOffset(e),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,a){this.finish(e,a,!0)}requiredField(e,a){const o=this.bb.capacity()-e,r=o-this.bb.readInt32(o);if(!(a<this.bb.readInt16(r)&&this.bb.readInt16(r+a)!=0))throw new TypeError("FlatBuffers: field "+a+" must be set")}startVector(e,a,o){this.notNested(),this.vector_num_elems=a,this.prep(pi,e*a),this.prep(o,e*a)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const a=this.createString(e);return this.string_maps.set(e,a),a}createString(e){if(e==null)return 0;let a;e instanceof Uint8Array?a=e:a=this.text_encoder.encode(e),this.addInt8(0),this.startVector(1,a.length,1),this.bb.setPosition(this.space-=a.length);for(let o=0,r=this.space,i=this.bb.bytes();o<a.length;o++)i[r++]=a[o];return this.endVector()}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const a=[];for(let o=0;o<e.length;++o){const r=e[o];if(r!==null)a.push(this.createObjectOffset(r));else throw new TypeError("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return a}createStructOffsetList(e,a){return a(this,e.length),this.createObjectOffsetList(e.slice().reverse()),this.endVector()}};const BQ=Object.freeze(Object.defineProperty({__proto__:null,Builder:zQ,ByteBuffer:h3,get Encoding(){return Hg},FILE_IDENTIFIER_LENGTH:Wi,SIZEOF_INT:pi,SIZEOF_SHORT:eg,SIZE_PREFIX_LENGTH:J6,float32:p3,float64:f3,int32:Es,isLittleEndian:Qm},Symbol.toStringTag,{value:"Module"})),St=Zr(BQ);var Lu={},Y1={},Z1={};Object.defineProperty(Z1,"__esModule",{value:!0});Z1.BodyCompressionMethod=void 0;var eT;(function(t){t[t.BUFFER=0]="BUFFER"})(eT||(Z1.BodyCompressionMethod=eT={}));var K1={};Object.defineProperty(K1,"__esModule",{value:!0});K1.CompressionType=void 0;var tT;(function(t){t[t.LZ4_FRAME=0]="LZ4_FRAME",t[t.ZSTD=1]="ZSTD"})(tT||(K1.CompressionType=tT={}));Object.defineProperty(Y1,"__esModule",{value:!0});Y1.BodyCompression=void 0;const kQ=St,aT=Z1,oT=K1;class En{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsBodyCompression(e,a){return(a||new En).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,a){return e.setPosition(e.position()+kQ.SIZE_PREFIX_LENGTH),(a||new En).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):oT.CompressionType.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):aT.BodyCompressionMethod.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,a){e.addFieldInt8(0,a,oT.CompressionType.LZ4_FRAME)}static addMethod(e,a){e.addFieldInt8(1,a,aT.BodyCompressionMethod.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,a,o){return En.startBodyCompression(e),En.addCodec(e,a),En.addMethod(e,o),En.endBodyCompression(e)}}Y1.BodyCompression=En;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.Buffer=void 0;class UQ{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,a,o){return e.prep(8,16),e.writeInt64(BigInt(o??0)),e.writeInt64(BigInt(a??0)),e.offset()}}ss.Buffer=UQ;var zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.FieldNode=void 0;class VQ{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,a,o){return e.prep(8,16),e.writeInt64(BigInt(o??0)),e.writeInt64(BigInt(a??0)),e.offset()}}zf.FieldNode=VQ;Object.defineProperty(Lu,"__esModule",{value:!0});Lu.RecordBatch=void 0;const $Q=St,HQ=Y1,WQ=ss,GQ=zf;class Wg{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsRecordBatch(e,a){return(a||new Wg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,a){return e.setPosition(e.position()+$Q.SIZE_PREFIX_LENGTH),(a||new Wg).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}nodes(e,a){const o=this.bb.__offset(this.bb_pos,6);return o?(a||new GQ.FieldNode).__init(this.bb.__vector(this.bb_pos+o)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,a){const o=this.bb.__offset(this.bb_pos,8);return o?(a||new WQ.Buffer).__init(this.bb.__vector(this.bb_pos+o)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const a=this.bb.__offset(this.bb_pos,10);return a?(e||new HQ.BodyCompression).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,a){e.addFieldInt64(0,a,BigInt("0"))}static addNodes(e,a){e.addFieldOffset(1,a,0)}static startNodesVector(e,a){e.startVector(16,a,8)}static addBuffers(e,a){e.addFieldOffset(2,a,0)}static startBuffersVector(e,a){e.startVector(16,a,8)}static addCompression(e,a){e.addFieldOffset(3,a,0)}static endRecordBatch(e){return e.endObject()}}Lu.RecordBatch=Wg;Object.defineProperty(Ff,"__esModule",{value:!0});Ff.DictionaryBatch=void 0;const YQ=St,ZQ=Lu;class Gg{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsDictionaryBatch(e,a){return(a||new Gg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,a){return e.setPosition(e.position()+YQ.SIZE_PREFIX_LENGTH),(a||new Gg).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}data(e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new ZQ.RecordBatch).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,a){e.addFieldInt64(0,a,BigInt("0"))}static addData(e,a){e.addFieldOffset(1,a,0)}static addIsDelta(e,a){e.addFieldInt8(2,+a,0)}static endDictionaryBatch(e){return e.endObject()}}Ff.DictionaryBatch=Gg;var Nu={},Bf={};Object.defineProperty(Bf,"__esModule",{value:!0});Bf.Endianness=void 0;var rT;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(rT||(Bf.Endianness=rT={}));var kf={},Uf={},Q1={};Object.defineProperty(Q1,"__esModule",{value:!0});Q1.DictionaryKind=void 0;var iT;(function(t){t[t.DenseArray=0]="DenseArray"})(iT||(Q1.DictionaryKind=iT={}));var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.Int=void 0;const KQ=St;class Mn{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsInt(e,a){return(a||new Mn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,a){return e.setPosition(e.position()+KQ.SIZE_PREFIX_LENGTH),(a||new Mn).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,a){e.addFieldInt32(0,a,0)}static addIsSigned(e,a){e.addFieldInt8(1,+a,0)}static endInt(e){return e.endObject()}static createInt(e,a,o){return Mn.startInt(e),Mn.addBitWidth(e,a),Mn.addIsSigned(e,o),Mn.endInt(e)}}ns.Int=Mn;Object.defineProperty(Uf,"__esModule",{value:!0});Uf.DictionaryEncoding=void 0;const QQ=St,sT=Q1,XQ=ns;class Yg{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsDictionaryEncoding(e,a){return(a||new Yg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,a){return e.setPosition(e.position()+QQ.SIZE_PREFIX_LENGTH),(a||new Yg).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}indexType(e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new XQ.Int).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):sT.DictionaryKind.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,a){e.addFieldInt64(0,a,BigInt("0"))}static addIndexType(e,a){e.addFieldOffset(1,a,0)}static addIsOrdered(e,a){e.addFieldInt8(2,+a,0)}static addDictionaryKind(e,a){e.addFieldInt16(3,a,sT.DictionaryKind.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}Uf.DictionaryEncoding=Yg;var ud={};Object.defineProperty(ud,"__esModule",{value:!0});ud.KeyValue=void 0;const JQ=St;class Tn{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsKeyValue(e,a){return(a||new Tn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,a){return e.setPosition(e.position()+JQ.SIZE_PREFIX_LENGTH),(a||new Tn).__init(e.readInt32(e.position())+e.position(),e)}key(e){const a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,e):null}value(e){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,a){e.addFieldOffset(0,a,0)}static addValue(e,a){e.addFieldOffset(1,a,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,a,o){return Tn.startKeyValue(e),Tn.addKey(e,a),Tn.addValue(e,o),Tn.endKeyValue(e)}}ud.KeyValue=Tn;var Ur={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.Binary=void 0;const eX=St;let tX=class Xm{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsBinary(e,a){return(a||new Xm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,a){return e.setPosition(e.position()+eX.SIZE_PREFIX_LENGTH),(a||new Xm).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Xm.startBinary(e),Xm.endBinary(e)}};Vf.Binary=tX;var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.Bool=void 0;const aX=St;let oX=class Jm{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsBool(e,a){return(a||new Jm).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,a){return e.setPosition(e.position()+aX.SIZE_PREFIX_LENGTH),(a||new Jm).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Jm.startBool(e),Jm.endBool(e)}};$f.Bool=oX;var ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.Date=void 0;const rX=St,nT=Nf;let iX=class cl{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsDate(e,a){return(a||new cl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,a){return e.setPosition(e.position()+rX.SIZE_PREFIX_LENGTH),(a||new cl).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):nT.DateUnit.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,a){e.addFieldInt16(0,a,nT.DateUnit.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,a){return cl.startDate(e),cl.addUnit(e,a),cl.endDate(e)}};ju.Date=iX;var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.Decimal=void 0;const sX=St;let nX=class xn{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsDecimal(e,a){return(a||new xn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,a){return e.setPosition(e.position()+sX.SIZE_PREFIX_LENGTH),(a||new xn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,a){e.addFieldInt32(0,a,0)}static addScale(e,a){e.addFieldInt32(1,a,0)}static addBitWidth(e,a){e.addFieldInt32(2,a,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,a,o,r){return xn.startDecimal(e),xn.addPrecision(e,a),xn.addScale(e,o),xn.addBitWidth(e,r),xn.endDecimal(e)}};Fu.Decimal=nX;var zu={};Object.defineProperty(zu,"__esModule",{value:!0});zu.Duration=void 0;const dX=St,dT=Rc;let cX=class ll{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsDuration(e,a){return(a||new ll).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDuration(e,a){return e.setPosition(e.position()+dX.SIZE_PREFIX_LENGTH),(a||new ll).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):dT.TimeUnit.MILLISECOND}static startDuration(e){e.startObject(1)}static addUnit(e,a){e.addFieldInt16(0,a,dT.TimeUnit.MILLISECOND)}static endDuration(e){return e.endObject()}static createDuration(e,a){return ll.startDuration(e),ll.addUnit(e,a),ll.endDuration(e)}};zu.Duration=cX;var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.FixedSizeBinary=void 0;const lX=St;let uX=class ul{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsFixedSizeBinary(e,a){return(a||new ul).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,a){return e.setPosition(e.position()+lX.SIZE_PREFIX_LENGTH),(a||new ul).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,a){e.addFieldInt32(0,a,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,a){return ul.startFixedSizeBinary(e),ul.addByteWidth(e,a),ul.endFixedSizeBinary(e)}};Bu.FixedSizeBinary=uX;var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.FixedSizeList=void 0;const mX=St;let pX=class ml{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsFixedSizeList(e,a){return(a||new ml).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,a){return e.setPosition(e.position()+mX.SIZE_PREFIX_LENGTH),(a||new ml).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,a){e.addFieldInt32(0,a,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,a){return ml.startFixedSizeList(e),ml.addListSize(e,a),ml.endFixedSizeList(e)}};ku.FixedSizeList=pX;var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.FloatingPoint=void 0;const fX=St,cT=Lf;class Id{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsFloatingPoint(e,a){return(a||new Id).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,a){return e.setPosition(e.position()+fX.SIZE_PREFIX_LENGTH),(a||new Id).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):cT.Precision.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,a){e.addFieldInt16(0,a,cT.Precision.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,a){return Id.startFloatingPoint(e),Id.addPrecision(e,a),Id.endFloatingPoint(e)}}Uu.FloatingPoint=Id;var Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Interval=void 0;const hX=St,lT=jf;class Dd{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsInterval(e,a){return(a||new Dd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,a){return e.setPosition(e.position()+hX.SIZE_PREFIX_LENGTH),(a||new Dd).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):lT.IntervalUnit.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,a){e.addFieldInt16(0,a,lT.IntervalUnit.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,a){return Dd.startInterval(e),Dd.addUnit(e,a),Dd.endInterval(e)}}Vu.Interval=Dd;var Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.LargeBinary=void 0;const vX=St;let gX=class ep{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsLargeBinary(e,a){return(a||new ep).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeBinary(e,a){return e.setPosition(e.position()+vX.SIZE_PREFIX_LENGTH),(a||new ep).__init(e.readInt32(e.position())+e.position(),e)}static startLargeBinary(e){e.startObject(0)}static endLargeBinary(e){return e.endObject()}static createLargeBinary(e){return ep.startLargeBinary(e),ep.endLargeBinary(e)}};Hf.LargeBinary=gX;var X1={};Object.defineProperty(X1,"__esModule",{value:!0});X1.LargeList=void 0;const yX=St;class Dl{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsLargeList(e,a){return(a||new Dl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeList(e,a){return e.setPosition(e.position()+yX.SIZE_PREFIX_LENGTH),(a||new Dl).__init(e.readInt32(e.position())+e.position(),e)}static startLargeList(e){e.startObject(0)}static endLargeList(e){return e.endObject()}static createLargeList(e){return Dl.startLargeList(e),Dl.endLargeList(e)}}X1.LargeList=Dl;var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0});Wf.LargeUtf8=void 0;const bX=St;let _X=class tp{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsLargeUtf8(e,a){return(a||new tp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsLargeUtf8(e,a){return e.setPosition(e.position()+bX.SIZE_PREFIX_LENGTH),(a||new tp).__init(e.readInt32(e.position())+e.position(),e)}static startLargeUtf8(e){e.startObject(0)}static endLargeUtf8(e){return e.endObject()}static createLargeUtf8(e){return tp.startLargeUtf8(e),tp.endLargeUtf8(e)}};Wf.LargeUtf8=_X;var Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.List=void 0;const xX=St;let wX=class ap{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsList(e,a){return(a||new ap).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,a){return e.setPosition(e.position()+xX.SIZE_PREFIX_LENGTH),(a||new ap).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return ap.startList(e),ap.endList(e)}};Gf.List=wX;var $u={};Object.defineProperty($u,"__esModule",{value:!0});$u.Map=void 0;const SX=St;let AX=class pl{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsMap(e,a){return(a||new pl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,a){return e.setPosition(e.position()+SX.SIZE_PREFIX_LENGTH),(a||new pl).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,a){e.addFieldInt8(0,+a,0)}static endMap(e){return e.endObject()}static createMap(e,a){return pl.startMap(e),pl.addKeysSorted(e,a),pl.endMap(e)}};$u.Map=AX;var Yf={};Object.defineProperty(Yf,"__esModule",{value:!0});Yf.Null=void 0;const EX=St;let MX=class op{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsNull(e,a){return(a||new op).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,a){return e.setPosition(e.position()+EX.SIZE_PREFIX_LENGTH),(a||new op).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return op.startNull(e),op.endNull(e)}};Yf.Null=MX;var J1={};Object.defineProperty(J1,"__esModule",{value:!0});J1.RunEndEncoded=void 0;const TX=St;class ql{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsRunEndEncoded(e,a){return(a||new ql).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRunEndEncoded(e,a){return e.setPosition(e.position()+TX.SIZE_PREFIX_LENGTH),(a||new ql).__init(e.readInt32(e.position())+e.position(),e)}static startRunEndEncoded(e){e.startObject(0)}static endRunEndEncoded(e){return e.endObject()}static createRunEndEncoded(e){return ql.startRunEndEncoded(e),ql.endRunEndEncoded(e)}}J1.RunEndEncoded=ql;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Struct_=void 0;const CX=St;class Pl{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsStruct_(e,a){return(a||new Pl).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,a){return e.setPosition(e.position()+CX.SIZE_PREFIX_LENGTH),(a||new Pl).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return Pl.startStruct_(e),Pl.endStruct_(e)}}Zf.Struct_=Pl;var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.Time=void 0;const RX=St,uT=Rc;class Cn{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsTime(e,a){return(a||new Cn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,a){return e.setPosition(e.position()+RX.SIZE_PREFIX_LENGTH),(a||new Cn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):uT.TimeUnit.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,a){e.addFieldInt16(0,a,uT.TimeUnit.MILLISECOND)}static addBitWidth(e,a){e.addFieldInt32(1,a,32)}static endTime(e){return e.endObject()}static createTime(e,a,o){return Cn.startTime(e),Cn.addUnit(e,a),Cn.addBitWidth(e,o),Cn.endTime(e)}}Hu.Time=Cn;var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.Timestamp=void 0;const OX=St,mT=Rc;class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsTimestamp(e,a){return(a||new Rn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,a){return e.setPosition(e.position()+OX.SIZE_PREFIX_LENGTH),(a||new Rn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):mT.TimeUnit.SECOND}timezone(e){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,a){e.addFieldInt16(0,a,mT.TimeUnit.SECOND)}static addTimezone(e,a){e.addFieldOffset(1,a,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,a,o){return Rn.startTimestamp(e),Rn.addUnit(e,a),Rn.addTimezone(e,o),Rn.endTimestamp(e)}}Wu.Timestamp=Rn;var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.Union=void 0;const IX=St,pT=Pf;class On{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsUnion(e,a){return(a||new On).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,a){return e.setPosition(e.position()+IX.SIZE_PREFIX_LENGTH),(a||new On).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):pT.UnionMode.Sparse}typeIds(e){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb.__vector(this.bb_pos+a)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,a){e.addFieldInt16(0,a,pT.UnionMode.Sparse)}static addTypeIds(e,a){e.addFieldOffset(1,a,0)}static createTypeIdsVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addInt32(a[o]);return e.endVector()}static startTypeIdsVector(e,a){e.startVector(4,a,4)}static endUnion(e){return e.endObject()}static createUnion(e,a,o){return On.startUnion(e),On.addMode(e,a),On.addTypeIds(e,o),On.endUnion(e)}}Gu.Union=On;var Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.Utf8=void 0;const DX=St;let qX=class rp{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsUtf8(e,a){return(a||new rp).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,a){return e.setPosition(e.position()+DX.SIZE_PREFIX_LENGTH),(a||new rp).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return rp.startUtf8(e),rp.endUtf8(e)}};Kf.Utf8=qX;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.unionListToType=Ur.unionToType=Ur.Type=void 0;const aD=Vf,oD=$f,rD=ju,iD=Fu,sD=zu,nD=Bu,dD=ku,cD=Uu,lD=ns,uD=Vu,mD=Hf,pD=X1,fD=Wf,hD=Gf,vD=$u,gD=Yf,yD=J1,bD=Zf,_D=Hu,xD=Wu,wD=Gu,SD=Kf;var Zg;(function(t){t[t.NONE=0]="NONE",t[t.Null=1]="Null",t[t.Int=2]="Int",t[t.FloatingPoint=3]="FloatingPoint",t[t.Binary=4]="Binary",t[t.Utf8=5]="Utf8",t[t.Bool=6]="Bool",t[t.Decimal=7]="Decimal",t[t.Date=8]="Date",t[t.Time=9]="Time",t[t.Timestamp=10]="Timestamp",t[t.Interval=11]="Interval",t[t.List=12]="List",t[t.Struct_=13]="Struct_",t[t.Union=14]="Union",t[t.FixedSizeBinary=15]="FixedSizeBinary",t[t.FixedSizeList=16]="FixedSizeList",t[t.Map=17]="Map",t[t.Duration=18]="Duration",t[t.LargeBinary=19]="LargeBinary",t[t.LargeUtf8=20]="LargeUtf8",t[t.LargeList=21]="LargeList",t[t.RunEndEncoded=22]="RunEndEncoded"})(Zg||(Ur.Type=Zg={}));function PX(t,e){switch(Zg[t]){case"NONE":return null;case"Null":return e(new gD.Null);case"Int":return e(new lD.Int);case"FloatingPoint":return e(new cD.FloatingPoint);case"Binary":return e(new aD.Binary);case"Utf8":return e(new SD.Utf8);case"Bool":return e(new oD.Bool);case"Decimal":return e(new iD.Decimal);case"Date":return e(new rD.Date);case"Time":return e(new _D.Time);case"Timestamp":return e(new xD.Timestamp);case"Interval":return e(new uD.Interval);case"List":return e(new hD.List);case"Struct_":return e(new bD.Struct_);case"Union":return e(new wD.Union);case"FixedSizeBinary":return e(new nD.FixedSizeBinary);case"FixedSizeList":return e(new dD.FixedSizeList);case"Map":return e(new vD.Map);case"Duration":return e(new sD.Duration);case"LargeBinary":return e(new mD.LargeBinary);case"LargeUtf8":return e(new fD.LargeUtf8);case"LargeList":return e(new pD.LargeList);case"RunEndEncoded":return e(new yD.RunEndEncoded);default:return null}}Ur.unionToType=PX;function LX(t,e,a){switch(Zg[t]){case"NONE":return null;case"Null":return e(a,new gD.Null);case"Int":return e(a,new lD.Int);case"FloatingPoint":return e(a,new cD.FloatingPoint);case"Binary":return e(a,new aD.Binary);case"Utf8":return e(a,new SD.Utf8);case"Bool":return e(a,new oD.Bool);case"Decimal":return e(a,new iD.Decimal);case"Date":return e(a,new rD.Date);case"Time":return e(a,new _D.Time);case"Timestamp":return e(a,new xD.Timestamp);case"Interval":return e(a,new uD.Interval);case"List":return e(a,new hD.List);case"Struct_":return e(a,new bD.Struct_);case"Union":return e(a,new wD.Union);case"FixedSizeBinary":return e(a,new nD.FixedSizeBinary);case"FixedSizeList":return e(a,new dD.FixedSizeList);case"Map":return e(a,new vD.Map);case"Duration":return e(a,new sD.Duration);case"LargeBinary":return e(a,new mD.LargeBinary);case"LargeUtf8":return e(a,new fD.LargeUtf8);case"LargeList":return e(a,new pD.LargeList);case"RunEndEncoded":return e(a,new yD.RunEndEncoded);default:return null}}Ur.unionListToType=LX;Object.defineProperty(kf,"__esModule",{value:!0});kf.Field=void 0;const NX=St,jX=Uf,FX=ud,fT=Ur;let zX=class tg{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsField(e,a){return(a||new tg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,a){return e.setPosition(e.position()+NX.SIZE_PREFIX_LENGTH),(a||new tg).__init(e.readInt32(e.position())+e.position(),e)}name(e){const a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__string(this.bb_pos+a,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):fT.Type.NONE}type(e){const a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__union(e,this.bb_pos+a):null}dictionary(e){const a=this.bb.__offset(this.bb_pos,12);return a?(e||new jX.DictionaryEncoding).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}children(e,a){const o=this.bb.__offset(this.bb_pos,14);return o?(a||new tg).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,a){const o=this.bb.__offset(this.bb_pos,16);return o?(a||new FX.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,a){e.addFieldOffset(0,a,0)}static addNullable(e,a){e.addFieldInt8(1,+a,0)}static addTypeType(e,a){e.addFieldInt8(2,a,fT.Type.NONE)}static addType(e,a){e.addFieldOffset(3,a,0)}static addDictionary(e,a){e.addFieldOffset(4,a,0)}static addChildren(e,a){e.addFieldOffset(5,a,0)}static createChildrenVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startChildrenVector(e,a){e.startVector(4,a,4)}static addCustomMetadata(e,a){e.addFieldOffset(6,a,0)}static createCustomMetadataVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startCustomMetadataVector(e,a){e.startVector(4,a,4)}static endField(e){return e.endObject()}};kf.Field=zX;Object.defineProperty(Nu,"__esModule",{value:!0});Nu.Schema=void 0;const BX=St,hT=Bf,kX=kf,UX=ud;let VX=class xs{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsSchema(e,a){return(a||new xs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,a){return e.setPosition(e.position()+BX.SIZE_PREFIX_LENGTH),(a||new xs).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):hT.Endianness.Little}fields(e,a){const o=this.bb.__offset(this.bb_pos,6);return o?(a||new kX.Field).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,a){const o=this.bb.__offset(this.bb_pos,8);return o?(a||new UX.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+e*8):BigInt(0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,a){e.addFieldInt16(0,a,hT.Endianness.Little)}static addFields(e,a){e.addFieldOffset(1,a,0)}static createFieldsVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startFieldsVector(e,a){e.startVector(4,a,4)}static addCustomMetadata(e,a){e.addFieldOffset(2,a,0)}static createCustomMetadataVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startCustomMetadataVector(e,a){e.startVector(4,a,4)}static addFeatures(e,a){e.addFieldOffset(3,a,0)}static createFeaturesVector(e,a){e.startVector(8,a.length,8);for(let o=a.length-1;o>=0;o--)e.addInt64(a[o]);return e.endVector()}static startFeaturesVector(e,a){e.startVector(8,a,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,a){e.finish(a)}static finishSizePrefixedSchemaBuffer(e,a){e.finish(a,void 0,!0)}static createSchema(e,a,o,r,i){return xs.startSchema(e),xs.addEndianness(e,a),xs.addFields(e,o),xs.addCustomMetadata(e,r),xs.addFeatures(e,i),xs.endSchema(e)}};Nu.Schema=VX;var ey={},Gn={},ty={},ay={};Object.defineProperty(ay,"__esModule",{value:!0});ay.SparseMatrixCompressedAxis=void 0;var vT;(function(t){t[t.Row=0]="Row",t[t.Column=1]="Column"})(vT||(ay.SparseMatrixCompressedAxis=vT={}));Object.defineProperty(ty,"__esModule",{value:!0});ty.SparseMatrixIndexCSX=void 0;const $X=St,gT=ss,yT=ns,bT=ay;class Kg{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsSparseMatrixIndexCSX(e,a){return(a||new Kg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseMatrixIndexCSX(e,a){return e.setPosition(e.position()+$X.SIZE_PREFIX_LENGTH),(a||new Kg).__init(e.readInt32(e.position())+e.position(),e)}compressedAxis(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):bT.SparseMatrixCompressedAxis.Row}indptrType(e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new yT.Int).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}indptrBuffer(e){const a=this.bb.__offset(this.bb_pos,8);return a?(e||new gT.Buffer).__init(this.bb_pos+a,this.bb):null}indicesType(e){const a=this.bb.__offset(this.bb_pos,10);return a?(e||new yT.Int).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}indicesBuffer(e){const a=this.bb.__offset(this.bb_pos,12);return a?(e||new gT.Buffer).__init(this.bb_pos+a,this.bb):null}static startSparseMatrixIndexCSX(e){e.startObject(5)}static addCompressedAxis(e,a){e.addFieldInt16(0,a,bT.SparseMatrixCompressedAxis.Row)}static addIndptrType(e,a){e.addFieldOffset(1,a,0)}static addIndptrBuffer(e,a){e.addFieldStruct(2,a,0)}static addIndicesType(e,a){e.addFieldOffset(3,a,0)}static addIndicesBuffer(e,a){e.addFieldStruct(4,a,0)}static endSparseMatrixIndexCSX(e){const a=e.endObject();return e.requiredField(a,6),e.requiredField(a,8),e.requiredField(a,10),e.requiredField(a,12),a}}ty.SparseMatrixIndexCSX=Kg;var oy={};Object.defineProperty(oy,"__esModule",{value:!0});oy.SparseTensorIndexCOO=void 0;const HX=St,WX=ss,GX=ns;class Qg{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsSparseTensorIndexCOO(e,a){return(a||new Qg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCOO(e,a){return e.setPosition(e.position()+HX.SIZE_PREFIX_LENGTH),(a||new Qg).__init(e.readInt32(e.position())+e.position(),e)}indicesType(e){const a=this.bb.__offset(this.bb_pos,4);return a?(e||new GX.Int).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}indicesStrides(e){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+e*8):BigInt(0)}indicesStridesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesBuffer(e){const a=this.bb.__offset(this.bb_pos,8);return a?(e||new WX.Buffer).__init(this.bb_pos+a,this.bb):null}isCanonical(){const e=this.bb.__offset(this.bb_pos,10);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startSparseTensorIndexCOO(e){e.startObject(4)}static addIndicesType(e,a){e.addFieldOffset(0,a,0)}static addIndicesStrides(e,a){e.addFieldOffset(1,a,0)}static createIndicesStridesVector(e,a){e.startVector(8,a.length,8);for(let o=a.length-1;o>=0;o--)e.addInt64(a[o]);return e.endVector()}static startIndicesStridesVector(e,a){e.startVector(8,a,8)}static addIndicesBuffer(e,a){e.addFieldStruct(2,a,0)}static addIsCanonical(e,a){e.addFieldInt8(3,+a,0)}static endSparseTensorIndexCOO(e){const a=e.endObject();return e.requiredField(a,4),e.requiredField(a,8),a}}oy.SparseTensorIndexCOO=Qg;var ry={};Object.defineProperty(ry,"__esModule",{value:!0});ry.SparseTensorIndexCSF=void 0;const YX=St,_T=ss,xT=ns;class Xg{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsSparseTensorIndexCSF(e,a){return(a||new Xg).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensorIndexCSF(e,a){return e.setPosition(e.position()+YX.SIZE_PREFIX_LENGTH),(a||new Xg).__init(e.readInt32(e.position())+e.position(),e)}indptrType(e){const a=this.bb.__offset(this.bb_pos,4);return a?(e||new xT.Int).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}indptrBuffers(e,a){const o=this.bb.__offset(this.bb_pos,6);return o?(a||new _T.Buffer).__init(this.bb.__vector(this.bb_pos+o)+e*16,this.bb):null}indptrBuffersLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}indicesType(e){const a=this.bb.__offset(this.bb_pos,8);return a?(e||new xT.Int).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}indicesBuffers(e,a){const o=this.bb.__offset(this.bb_pos,10);return o?(a||new _T.Buffer).__init(this.bb.__vector(this.bb_pos+o)+e*16,this.bb):null}indicesBuffersLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrder(e){const a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt32(this.bb.__vector(this.bb_pos+a)+e*4):0}axisOrderLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}axisOrderArray(){const e=this.bb.__offset(this.bb_pos,12);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startSparseTensorIndexCSF(e){e.startObject(5)}static addIndptrType(e,a){e.addFieldOffset(0,a,0)}static addIndptrBuffers(e,a){e.addFieldOffset(1,a,0)}static startIndptrBuffersVector(e,a){e.startVector(16,a,8)}static addIndicesType(e,a){e.addFieldOffset(2,a,0)}static addIndicesBuffers(e,a){e.addFieldOffset(3,a,0)}static startIndicesBuffersVector(e,a){e.startVector(16,a,8)}static addAxisOrder(e,a){e.addFieldOffset(4,a,0)}static createAxisOrderVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addInt32(a[o]);return e.endVector()}static startAxisOrderVector(e,a){e.startVector(4,a,4)}static endSparseTensorIndexCSF(e){const a=e.endObject();return e.requiredField(a,4),e.requiredField(a,6),e.requiredField(a,8),e.requiredField(a,10),e.requiredField(a,12),a}}ry.SparseTensorIndexCSF=Xg;Object.defineProperty(Gn,"__esModule",{value:!0});Gn.unionListToSparseTensorIndex=Gn.unionToSparseTensorIndex=Gn.SparseTensorIndex=void 0;const AD=ty,ED=oy,MD=ry;var Jg;(function(t){t[t.NONE=0]="NONE",t[t.SparseTensorIndexCOO=1]="SparseTensorIndexCOO",t[t.SparseMatrixIndexCSX=2]="SparseMatrixIndexCSX",t[t.SparseTensorIndexCSF=3]="SparseTensorIndexCSF"})(Jg||(Gn.SparseTensorIndex=Jg={}));function ZX(t,e){switch(Jg[t]){case"NONE":return null;case"SparseTensorIndexCOO":return e(new ED.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(new AD.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(new MD.SparseTensorIndexCSF);default:return null}}Gn.unionToSparseTensorIndex=ZX;function KX(t,e,a){switch(Jg[t]){case"NONE":return null;case"SparseTensorIndexCOO":return e(a,new ED.SparseTensorIndexCOO);case"SparseMatrixIndexCSX":return e(a,new AD.SparseMatrixIndexCSX);case"SparseTensorIndexCSF":return e(a,new MD.SparseTensorIndexCSF);default:return null}}Gn.unionListToSparseTensorIndex=KX;var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.TensorDim=void 0;const QX=St;class In{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsTensorDim(e,a){return(a||new In).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensorDim(e,a){return e.setPosition(e.position()+QX.SIZE_PREFIX_LENGTH),(a||new In).__init(e.readInt32(e.position())+e.position(),e)}size(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}name(e){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__string(this.bb_pos+a,e):null}static startTensorDim(e){e.startObject(2)}static addSize(e,a){e.addFieldInt64(0,a,BigInt("0"))}static addName(e,a){e.addFieldOffset(1,a,0)}static endTensorDim(e){return e.endObject()}static createTensorDim(e,a,o){return In.startTensorDim(e),In.addSize(e,a),In.addName(e,o),In.endTensorDim(e)}}Qf.TensorDim=In;Object.defineProperty(ey,"__esModule",{value:!0});ey.SparseTensor=void 0;const XX=St,JX=ss,wT=Gn,eJ=Qf,ST=Ur;class e0{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsSparseTensor(e,a){return(a||new e0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSparseTensor(e,a){return e.setPosition(e.position()+XX.SIZE_PREFIX_LENGTH),(a||new e0).__init(e.readInt32(e.position())+e.position(),e)}typeType(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):ST.Type.NONE}type(e){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__union(e,this.bb_pos+a):null}shape(e,a){const o=this.bb.__offset(this.bb_pos,8);return o?(a||new eJ.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}shapeLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}nonZeroLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}sparseIndexType(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb_pos+e):wT.SparseTensorIndex.NONE}sparseIndex(e){const a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__union(e,this.bb_pos+a):null}data(e){const a=this.bb.__offset(this.bb_pos,16);return a?(e||new JX.Buffer).__init(this.bb_pos+a,this.bb):null}static startSparseTensor(e){e.startObject(7)}static addTypeType(e,a){e.addFieldInt8(0,a,ST.Type.NONE)}static addType(e,a){e.addFieldOffset(1,a,0)}static addShape(e,a){e.addFieldOffset(2,a,0)}static createShapeVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startShapeVector(e,a){e.startVector(4,a,4)}static addNonZeroLength(e,a){e.addFieldInt64(3,a,BigInt("0"))}static addSparseIndexType(e,a){e.addFieldInt8(4,a,wT.SparseTensorIndex.NONE)}static addSparseIndex(e,a){e.addFieldOffset(5,a,0)}static addData(e,a){e.addFieldStruct(6,a,0)}static endSparseTensor(e){const a=e.endObject();return e.requiredField(a,6),e.requiredField(a,8),e.requiredField(a,14),e.requiredField(a,16),a}static finishSparseTensorBuffer(e,a){e.finish(a)}static finishSizePrefixedSparseTensorBuffer(e,a){e.finish(a,void 0,!0)}}ey.SparseTensor=e0;var iy={};Object.defineProperty(iy,"__esModule",{value:!0});iy.Tensor=void 0;const tJ=St,aJ=ss,oJ=Qf,AT=Ur;class t0{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsTensor(e,a){return(a||new t0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTensor(e,a){return e.setPosition(e.position()+tJ.SIZE_PREFIX_LENGTH),(a||new t0).__init(e.readInt32(e.position())+e.position(),e)}typeType(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint8(this.bb_pos+e):AT.Type.NONE}type(e){const a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__union(e,this.bb_pos+a):null}shape(e,a){const o=this.bb.__offset(this.bb_pos,8);return o?(a||new oJ.TensorDim).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}shapeLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}strides(e){const a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt64(this.bb.__vector(this.bb_pos+a)+e*8):BigInt(0)}stridesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}data(e){const a=this.bb.__offset(this.bb_pos,12);return a?(e||new aJ.Buffer).__init(this.bb_pos+a,this.bb):null}static startTensor(e){e.startObject(5)}static addTypeType(e,a){e.addFieldInt8(0,a,AT.Type.NONE)}static addType(e,a){e.addFieldOffset(1,a,0)}static addShape(e,a){e.addFieldOffset(2,a,0)}static createShapeVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startShapeVector(e,a){e.startVector(4,a,4)}static addStrides(e,a){e.addFieldOffset(3,a,0)}static createStridesVector(e,a){e.startVector(8,a.length,8);for(let o=a.length-1;o>=0;o--)e.addInt64(a[o]);return e.endVector()}static startStridesVector(e,a){e.startVector(8,a,8)}static addData(e,a){e.addFieldStruct(4,a,0)}static endTensor(e){const a=e.endObject();return e.requiredField(a,6),e.requiredField(a,8),e.requiredField(a,12),a}static finishTensorBuffer(e,a){e.finish(a)}static finishSizePrefixedTensorBuffer(e,a){e.finish(a,void 0,!0)}}iy.Tensor=t0;Object.defineProperty(Xi,"__esModule",{value:!0});Xi.unionListToMessageHeader=Xi.unionToMessageHeader=Xi.MessageHeader=void 0;const TD=Ff,CD=Lu,RD=Nu,OD=ey,ID=iy;var a0;(function(t){t[t.NONE=0]="NONE",t[t.Schema=1]="Schema",t[t.DictionaryBatch=2]="DictionaryBatch",t[t.RecordBatch=3]="RecordBatch",t[t.Tensor=4]="Tensor",t[t.SparseTensor=5]="SparseTensor"})(a0||(Xi.MessageHeader=a0={}));function rJ(t,e){switch(a0[t]){case"NONE":return null;case"Schema":return e(new RD.Schema);case"DictionaryBatch":return e(new TD.DictionaryBatch);case"RecordBatch":return e(new CD.RecordBatch);case"Tensor":return e(new ID.Tensor);case"SparseTensor":return e(new OD.SparseTensor);default:return null}}Xi.unionToMessageHeader=rJ;function iJ(t,e,a){switch(a0[t]){case"NONE":return null;case"Schema":return e(a,new RD.Schema);case"DictionaryBatch":return e(a,new TD.DictionaryBatch);case"RecordBatch":return e(a,new CD.RecordBatch);case"Tensor":return e(a,new ID.Tensor);case"SparseTensor":return e(a,new OD.SparseTensor);default:return null}}Xi.unionListToMessageHeader=iJ;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BufferType=t.Type=t.MessageHeader=t.IntervalUnit=t.TimeUnit=t.DateUnit=t.Precision=t.UnionMode=t.MetadataVersion=void 0;var e=Pu;Object.defineProperty(t,"MetadataVersion",{enumerable:!0,get:function(){return e.MetadataVersion}});var a=Pf;Object.defineProperty(t,"UnionMode",{enumerable:!0,get:function(){return a.UnionMode}});var o=Lf;Object.defineProperty(t,"Precision",{enumerable:!0,get:function(){return o.Precision}});var r=Nf;Object.defineProperty(t,"DateUnit",{enumerable:!0,get:function(){return r.DateUnit}});var i=Rc;Object.defineProperty(t,"TimeUnit",{enumerable:!0,get:function(){return i.TimeUnit}});var s=jf;Object.defineProperty(t,"IntervalUnit",{enumerable:!0,get:function(){return s.IntervalUnit}});var n=Xi;Object.defineProperty(t,"MessageHeader",{enumerable:!0,get:function(){return n.MessageHeader}});var d;(function(l){l[l.NONE=0]="NONE",l[l.Null=1]="Null",l[l.Int=2]="Int",l[l.Float=3]="Float",l[l.Binary=4]="Binary",l[l.Utf8=5]="Utf8",l[l.Bool=6]="Bool",l[l.Decimal=7]="Decimal",l[l.Date=8]="Date",l[l.Time=9]="Time",l[l.Timestamp=10]="Timestamp",l[l.Interval=11]="Interval",l[l.List=12]="List",l[l.Struct=13]="Struct",l[l.Union=14]="Union",l[l.FixedSizeBinary=15]="FixedSizeBinary",l[l.FixedSizeList=16]="FixedSizeList",l[l.Map=17]="Map",l[l.Duration=18]="Duration",l[l.LargeBinary=19]="LargeBinary",l[l.LargeUtf8=20]="LargeUtf8",l[l.Dictionary=-1]="Dictionary",l[l.Int8=-2]="Int8",l[l.Int16=-3]="Int16",l[l.Int32=-4]="Int32",l[l.Int64=-5]="Int64",l[l.Uint8=-6]="Uint8",l[l.Uint16=-7]="Uint16",l[l.Uint32=-8]="Uint32",l[l.Uint64=-9]="Uint64",l[l.Float16=-10]="Float16",l[l.Float32=-11]="Float32",l[l.Float64=-12]="Float64",l[l.DateDay=-13]="DateDay",l[l.DateMillisecond=-14]="DateMillisecond",l[l.TimestampSecond=-15]="TimestampSecond",l[l.TimestampMillisecond=-16]="TimestampMillisecond",l[l.TimestampMicrosecond=-17]="TimestampMicrosecond",l[l.TimestampNanosecond=-18]="TimestampNanosecond",l[l.TimeSecond=-19]="TimeSecond",l[l.TimeMillisecond=-20]="TimeMillisecond",l[l.TimeMicrosecond=-21]="TimeMicrosecond",l[l.TimeNanosecond=-22]="TimeNanosecond",l[l.DenseUnion=-23]="DenseUnion",l[l.SparseUnion=-24]="SparseUnion",l[l.IntervalDayTime=-25]="IntervalDayTime",l[l.IntervalYearMonth=-26]="IntervalYearMonth",l[l.DurationSecond=-27]="DurationSecond",l[l.DurationMillisecond=-28]="DurationMillisecond",l[l.DurationMicrosecond=-29]="DurationMicrosecond",l[l.DurationNanosecond=-30]="DurationNanosecond"})(d||(t.Type=d={}));var c;(function(l){l[l.OFFSET=0]="OFFSET",l[l.DATA=1]="DATA",l[l.VALIDITY=2]="VALIDITY",l[l.TYPE=3]="TYPE"})(c||(t.BufferType=c={}))})(xa);var cs={},qb={},Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.valueToString=void 0;const sJ=void 0;function DD(t){if(t===null)return"null";if(t===sJ)return"undefined";switch(typeof t){case"number":return`${t}`;case"bigint":return`${t}`;case"string":return`"${t}"`}return typeof t[Symbol.toPrimitive]=="function"?t[Symbol.toPrimitive]("string"):ArrayBuffer.isView(t)?t instanceof BigInt64Array||t instanceof BigUint64Array?`[${[...t].map(e=>DD(e))}]`:`[${t}]`:ArrayBuffer.isView(t)?`[${t}]`:JSON.stringify(t,(e,a)=>typeof a=="bigint"?`${a}`:a)}Oc.valueToString=DD;var Pb={},sy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.BN=t.bigNumToBigInt=t.bigNumToString=t.isArrowBigNumSymbol=void 0;const e=Oe;t.isArrowBigNumSymbol=Symbol.for("isArrowBigNum");function a(c,...l){return l.length===0?Object.setPrototypeOf((0,e.toArrayBufferView)(this.TypedArray,c),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(c,...l),this.constructor.prototype)}a.prototype[t.isArrowBigNumSymbol]=!0,a.prototype.toJSON=function(){return`"${(0,t.bigNumToString)(this)}"`},a.prototype.valueOf=function(){return s(this)},a.prototype.toString=function(){return(0,t.bigNumToString)(this)},a.prototype[Symbol.toPrimitive]=function(c="default"){switch(c){case"number":return s(this);case"string":return(0,t.bigNumToString)(this);case"default":return(0,t.bigNumToBigInt)(this)}return(0,t.bigNumToString)(this)};function o(...c){return a.apply(this,c)}function r(...c){return a.apply(this,c)}function i(...c){return a.apply(this,c)}Object.setPrototypeOf(o.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(r.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(i.prototype,Object.create(Uint32Array.prototype)),Object.assign(o.prototype,a.prototype,{constructor:o,signed:!0,TypedArray:Int32Array,BigIntArray:BigInt64Array}),Object.assign(r.prototype,a.prototype,{constructor:r,signed:!1,TypedArray:Uint32Array,BigIntArray:BigUint64Array}),Object.assign(i.prototype,a.prototype,{constructor:i,signed:!0,TypedArray:Uint32Array,BigIntArray:BigUint64Array});function s(c){const{buffer:l,byteOffset:m,length:u,signed:v}=c,g=new BigUint64Array(l,m,u),f=v&&g.at(-1)&BigInt(1)<<BigInt(63);let p=BigInt(f?1:0),h=BigInt(0);if(f){for(const y of g)p+=~y*(BigInt(1)<<BigInt(32)*h++);p*=BigInt(-1)}else for(const y of g)p+=y*(BigInt(1)<<BigInt(32)*h++);return p}t.bigNumToString=c=>{if(c.byteLength===8)return`${new c.BigIntArray(c.buffer,c.byteOffset,1)[0]}`;if(!c.signed)return n(c);let l=new Uint16Array(c.buffer,c.byteOffset,c.byteLength/2);if(new Int16Array([l.at(-1)])[0]>=0)return n(c);l=l.slice();let u=1;for(let g=0;g<l.length;g++){const f=l[g],p=~f+u;l[g]=p,u&=f===0?1:0}return`-${n(l)}`},t.bigNumToBigInt=c=>c.byteLength===8?new c.BigIntArray(c.buffer,c.byteOffset,1)[0]:(0,t.bigNumToString)(c);function n(c){let l="";const m=new Uint32Array(2);let u=new Uint16Array(c.buffer,c.byteOffset,c.byteLength/2);const v=new Uint32Array((u=new Uint16Array(u).reverse()).buffer);let g=-1;const f=u.length-1;do{for(m[0]=u[g=0];g<f;)u[g++]=m[1]=m[0]/10,m[0]=(m[0]-m[1]*10<<16)+u[g];u[g]=m[1]=m[0]/10,m[0]=m[0]-m[1]*10,l=`${m[0]}${l}`}while(v[0]||v[1]||v[2]||v[3]);return l??"0"}class d{static new(l,m){switch(m){case!0:return new o(l);case!1:return new r(l)}switch(l.constructor){case Int8Array:case Int16Array:case Int32Array:case BigInt64Array:return new o(l)}return l.byteLength===16?new i(l):new r(l)}static signed(l){return new o(l)}static unsigned(l){return new r(l)}static decimal(l){return new i(l)}constructor(l,m){return d.new(l,m)}}t.BN=d})(sy);var Ao={},fe={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.bigIntToNumber=void 0;function nJ(t){if(typeof t=="bigint"&&(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER))throw new TypeError(`${t} is not safe to convert to a number.`);return Number(t)}Qs.bigIntToNumber=nJ;var qD,PD,LD,ND,jD,FD,zD,BD,kD,UD,VD,$D,HD,WD,GD,YD,ZD,KD,QD,XD,JD,eq;Object.defineProperty(fe,"__esModule",{value:!0});fe.Map_=fe.FixedSizeList=fe.FixedSizeBinary=fe.SparseUnion=fe.DenseUnion=fe.Union=fe.Struct=fe.List=fe.DurationNanosecond=fe.DurationMicrosecond=fe.DurationMillisecond=fe.DurationSecond=fe.Duration=fe.IntervalYearMonth=fe.IntervalDayTime=fe.Interval=fe.TimestampNanosecond=fe.TimestampMicrosecond=fe.TimestampMillisecond=fe.TimestampSecond=fe.Timestamp=fe.TimeNanosecond=fe.TimeMicrosecond=fe.TimeMillisecond=fe.TimeSecond=fe.Time=fe.DateMillisecond=fe.DateDay=fe.Date_=fe.Decimal=fe.Bool=fe.LargeUtf8=fe.Utf8=fe.LargeBinary=fe.Binary=fe.Float64=fe.Float32=fe.Float16=fe.Float=fe.Uint64=fe.Uint32=fe.Uint16=fe.Uint8=fe.Int64=fe.Int32=fe.Int16=fe.Int8=fe.Int=fe.Null=fe.DataType=void 0;fe.strideForType=fe.Dictionary=void 0;const dJ=Qs,Le=xa;class ea{static isNull(e){return(e==null?void 0:e.typeId)===Le.Type.Null}static isInt(e){return(e==null?void 0:e.typeId)===Le.Type.Int}static isFloat(e){return(e==null?void 0:e.typeId)===Le.Type.Float}static isBinary(e){return(e==null?void 0:e.typeId)===Le.Type.Binary}static isLargeBinary(e){return(e==null?void 0:e.typeId)===Le.Type.LargeBinary}static isUtf8(e){return(e==null?void 0:e.typeId)===Le.Type.Utf8}static isLargeUtf8(e){return(e==null?void 0:e.typeId)===Le.Type.LargeUtf8}static isBool(e){return(e==null?void 0:e.typeId)===Le.Type.Bool}static isDecimal(e){return(e==null?void 0:e.typeId)===Le.Type.Decimal}static isDate(e){return(e==null?void 0:e.typeId)===Le.Type.Date}static isTime(e){return(e==null?void 0:e.typeId)===Le.Type.Time}static isTimestamp(e){return(e==null?void 0:e.typeId)===Le.Type.Timestamp}static isInterval(e){return(e==null?void 0:e.typeId)===Le.Type.Interval}static isDuration(e){return(e==null?void 0:e.typeId)===Le.Type.Duration}static isList(e){return(e==null?void 0:e.typeId)===Le.Type.List}static isStruct(e){return(e==null?void 0:e.typeId)===Le.Type.Struct}static isUnion(e){return(e==null?void 0:e.typeId)===Le.Type.Union}static isFixedSizeBinary(e){return(e==null?void 0:e.typeId)===Le.Type.FixedSizeBinary}static isFixedSizeList(e){return(e==null?void 0:e.typeId)===Le.Type.FixedSizeList}static isMap(e){return(e==null?void 0:e.typeId)===Le.Type.Map}static isDictionary(e){return(e==null?void 0:e.typeId)===Le.Type.Dictionary}static isDenseUnion(e){return ea.isUnion(e)&&e.mode===Le.UnionMode.Dense}static isSparseUnion(e){return ea.isUnion(e)&&e.mode===Le.UnionMode.Sparse}constructor(e){this.typeId=e}}fe.DataType=ea;qD=Symbol.toStringTag;ea[qD]=(t=>(t.children=null,t.ArrayType=Array,t.OffsetArrayType=Int32Array,t[Symbol.toStringTag]="DataType"))(ea.prototype);class v3 extends ea{constructor(){super(Le.Type.Null)}toString(){return"Null"}}fe.Null=v3;PD=Symbol.toStringTag;v3[PD]=(t=>t[Symbol.toStringTag]="Null")(v3.prototype);class Ti extends ea{constructor(e,a){super(Le.Type.Int),this.isSigned=e,this.bitWidth=a}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}fe.Int=Ti;LD=Symbol.toStringTag;Ti[LD]=(t=>(t.isSigned=null,t.bitWidth=null,t[Symbol.toStringTag]="Int"))(Ti.prototype);class tq extends Ti{constructor(){super(!0,8)}get ArrayType(){return Int8Array}}fe.Int8=tq;class aq extends Ti{constructor(){super(!0,16)}get ArrayType(){return Int16Array}}fe.Int16=aq;class oq extends Ti{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}fe.Int32=oq;let rq=class extends Ti{constructor(){super(!0,64)}get ArrayType(){return BigInt64Array}};fe.Int64=rq;class iq extends Ti{constructor(){super(!1,8)}get ArrayType(){return Uint8Array}}fe.Uint8=iq;class sq extends Ti{constructor(){super(!1,16)}get ArrayType(){return Uint16Array}}fe.Uint16=sq;class nq extends Ti{constructor(){super(!1,32)}get ArrayType(){return Uint32Array}}fe.Uint32=nq;let dq=class extends Ti{constructor(){super(!1,64)}get ArrayType(){return BigUint64Array}};fe.Uint64=dq;Object.defineProperty(tq.prototype,"ArrayType",{value:Int8Array});Object.defineProperty(aq.prototype,"ArrayType",{value:Int16Array});Object.defineProperty(oq.prototype,"ArrayType",{value:Int32Array});Object.defineProperty(rq.prototype,"ArrayType",{value:BigInt64Array});Object.defineProperty(iq.prototype,"ArrayType",{value:Uint8Array});Object.defineProperty(sq.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(nq.prototype,"ArrayType",{value:Uint32Array});Object.defineProperty(dq.prototype,"ArrayType",{value:BigUint64Array});class lu extends ea{constructor(e){super(Le.Type.Float),this.precision=e}get ArrayType(){switch(this.precision){case Le.Precision.HALF:return Uint16Array;case Le.Precision.SINGLE:return Float32Array;case Le.Precision.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}fe.Float=lu;ND=Symbol.toStringTag;lu[ND]=(t=>(t.precision=null,t[Symbol.toStringTag]="Float"))(lu.prototype);class cq extends lu{constructor(){super(Le.Precision.HALF)}}fe.Float16=cq;class lq extends lu{constructor(){super(Le.Precision.SINGLE)}}fe.Float32=lq;class uq extends lu{constructor(){super(Le.Precision.DOUBLE)}}fe.Float64=uq;Object.defineProperty(cq.prototype,"ArrayType",{value:Uint16Array});Object.defineProperty(lq.prototype,"ArrayType",{value:Float32Array});Object.defineProperty(uq.prototype,"ArrayType",{value:Float64Array});class g3 extends ea{constructor(){super(Le.Type.Binary)}toString(){return"Binary"}}fe.Binary=g3;jD=Symbol.toStringTag;g3[jD]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Binary"))(g3.prototype);class y3 extends ea{constructor(){super(Le.Type.LargeBinary)}toString(){return"LargeBinary"}}fe.LargeBinary=y3;FD=Symbol.toStringTag;y3[FD]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeBinary"))(y3.prototype);class b3 extends ea{constructor(){super(Le.Type.Utf8)}toString(){return"Utf8"}}fe.Utf8=b3;zD=Symbol.toStringTag;b3[zD]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Utf8"))(b3.prototype);class _3 extends ea{constructor(){super(Le.Type.LargeUtf8)}toString(){return"LargeUtf8"}}fe.LargeUtf8=_3;BD=Symbol.toStringTag;_3[BD]=(t=>(t.ArrayType=Uint8Array,t.OffsetArrayType=BigInt64Array,t[Symbol.toStringTag]="LargeUtf8"))(_3.prototype);class x3 extends ea{constructor(){super(Le.Type.Bool)}toString(){return"Bool"}}fe.Bool=x3;kD=Symbol.toStringTag;x3[kD]=(t=>(t.ArrayType=Uint8Array,t[Symbol.toStringTag]="Bool"))(x3.prototype);class w3 extends ea{constructor(e,a,o=128){super(Le.Type.Decimal),this.scale=e,this.precision=a,this.bitWidth=o}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}}fe.Decimal=w3;UD=Symbol.toStringTag;w3[UD]=(t=>(t.scale=null,t.precision=null,t.ArrayType=Uint32Array,t[Symbol.toStringTag]="Decimal"))(w3.prototype);class Qp extends ea{constructor(e){super(Le.Type.Date),this.unit=e}toString(){return`Date${(this.unit+1)*32}<${Le.DateUnit[this.unit]}>`}}fe.Date_=Qp;VD=Symbol.toStringTag;Qp[VD]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Date"))(Qp.prototype);class cJ extends Qp{constructor(){super(Le.DateUnit.DAY)}}fe.DateDay=cJ;class lJ extends Qp{constructor(){super(Le.DateUnit.MILLISECOND)}}fe.DateMillisecond=lJ;class uc extends ea{constructor(e,a){super(Le.Type.Time),this.unit=e,this.bitWidth=a}toString(){return`Time${this.bitWidth}<${Le.TimeUnit[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}fe.Time=uc;$D=Symbol.toStringTag;uc[$D]=(t=>(t.unit=null,t.bitWidth=null,t[Symbol.toStringTag]="Time"))(uc.prototype);class uJ extends uc{constructor(){super(Le.TimeUnit.SECOND,32)}}fe.TimeSecond=uJ;class mJ extends uc{constructor(){super(Le.TimeUnit.MILLISECOND,32)}}fe.TimeMillisecond=mJ;class pJ extends uc{constructor(){super(Le.TimeUnit.MICROSECOND,64)}}fe.TimeMicrosecond=pJ;class fJ extends uc{constructor(){super(Le.TimeUnit.NANOSECOND,64)}}fe.TimeNanosecond=fJ;class mc extends ea{constructor(e,a){super(Le.Type.Timestamp),this.unit=e,this.timezone=a}toString(){return`Timestamp<${Le.TimeUnit[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}fe.Timestamp=mc;HD=Symbol.toStringTag;mc[HD]=(t=>(t.unit=null,t.timezone=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Timestamp"))(mc.prototype);class hJ extends mc{constructor(e){super(Le.TimeUnit.SECOND,e)}}fe.TimestampSecond=hJ;class vJ extends mc{constructor(e){super(Le.TimeUnit.MILLISECOND,e)}}fe.TimestampMillisecond=vJ;class gJ extends mc{constructor(e){super(Le.TimeUnit.MICROSECOND,e)}}fe.TimestampMicrosecond=gJ;class yJ extends mc{constructor(e){super(Le.TimeUnit.NANOSECOND,e)}}fe.TimestampNanosecond=yJ;class Xp extends ea{constructor(e){super(Le.Type.Interval),this.unit=e}toString(){return`Interval<${Le.IntervalUnit[this.unit]}>`}}fe.Interval=Xp;WD=Symbol.toStringTag;Xp[WD]=(t=>(t.unit=null,t.ArrayType=Int32Array,t[Symbol.toStringTag]="Interval"))(Xp.prototype);class bJ extends Xp{constructor(){super(Le.IntervalUnit.DAY_TIME)}}fe.IntervalDayTime=bJ;class _J extends Xp{constructor(){super(Le.IntervalUnit.YEAR_MONTH)}}fe.IntervalYearMonth=_J;class pc extends ea{constructor(e){super(Le.Type.Duration),this.unit=e}toString(){return`Duration<${Le.TimeUnit[this.unit]}>`}}fe.Duration=pc;GD=Symbol.toStringTag;pc[GD]=(t=>(t.unit=null,t.ArrayType=BigInt64Array,t[Symbol.toStringTag]="Duration"))(pc.prototype);class xJ extends pc{constructor(){super(Le.TimeUnit.SECOND)}}fe.DurationSecond=xJ;class wJ extends pc{constructor(){super(Le.TimeUnit.MILLISECOND)}}fe.DurationMillisecond=wJ;class SJ extends pc{constructor(){super(Le.TimeUnit.MICROSECOND)}}fe.DurationMicrosecond=SJ;class AJ extends pc{constructor(){super(Le.TimeUnit.NANOSECOND)}}fe.DurationNanosecond=AJ;class S3 extends ea{constructor(e){super(Le.Type.List),this.children=[e]}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}}fe.List=S3;YD=Symbol.toStringTag;S3[YD]=(t=>(t.children=null,t[Symbol.toStringTag]="List"))(S3.prototype);class A3 extends ea{constructor(e){super(Le.Type.Struct),this.children=e}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}fe.Struct=A3;ZD=Symbol.toStringTag;A3[ZD]=(t=>(t.children=null,t[Symbol.toStringTag]="Struct"))(A3.prototype);class Jp extends ea{constructor(e,a,o){super(Le.Type.Union),this.mode=e,this.children=o,this.typeIds=a=Int32Array.from(a),this.typeIdToChildIndex=a.reduce((r,i,s)=>(r[i]=s)&&r||r,Object.create(null))}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}fe.Union=Jp;KD=Symbol.toStringTag;Jp[KD]=(t=>(t.mode=null,t.typeIds=null,t.children=null,t.typeIdToChildIndex=null,t.ArrayType=Int8Array,t[Symbol.toStringTag]="Union"))(Jp.prototype);class EJ extends Jp{constructor(e,a){super(Le.UnionMode.Dense,e,a)}}fe.DenseUnion=EJ;class MJ extends Jp{constructor(e,a){super(Le.UnionMode.Sparse,e,a)}}fe.SparseUnion=MJ;class E3 extends ea{constructor(e){super(Le.Type.FixedSizeBinary),this.byteWidth=e}toString(){return`FixedSizeBinary[${this.byteWidth}]`}}fe.FixedSizeBinary=E3;QD=Symbol.toStringTag;E3[QD]=(t=>(t.byteWidth=null,t.ArrayType=Uint8Array,t[Symbol.toStringTag]="FixedSizeBinary"))(E3.prototype);class M3 extends ea{constructor(e,a){super(Le.Type.FixedSizeList),this.listSize=e,this.children=[a]}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}}fe.FixedSizeList=M3;XD=Symbol.toStringTag;M3[XD]=(t=>(t.children=null,t.listSize=null,t[Symbol.toStringTag]="FixedSizeList"))(M3.prototype);class T3 extends ea{constructor(e,a=!1){var o,r,i;if(super(Le.Type.Map),this.children=[e],this.keysSorted=a,e&&(e.name="entries",!((o=e==null?void 0:e.type)===null||o===void 0)&&o.children)){const s=(r=e==null?void 0:e.type)===null||r===void 0?void 0:r.children[0];s&&(s.name="key");const n=(i=e==null?void 0:e.type)===null||i===void 0?void 0:i.children[1];n&&(n.name="value")}}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}fe.Map_=T3;JD=Symbol.toStringTag;T3[JD]=(t=>(t.children=null,t.keysSorted=null,t[Symbol.toStringTag]="Map_"))(T3.prototype);const TJ=(t=>()=>++t)(-1);class C3 extends ea{constructor(e,a,o,r){super(Le.Type.Dictionary),this.indices=a,this.dictionary=e,this.isOrdered=r||!1,this.id=o==null?TJ():(0,dJ.bigIntToNumber)(o)}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}fe.Dictionary=C3;eq=Symbol.toStringTag;C3[eq]=(t=>(t.id=null,t.indices=null,t.isOrdered=null,t.dictionary=null,t[Symbol.toStringTag]="Dictionary"))(C3.prototype);function CJ(t){const e=t;switch(t.typeId){case Le.Type.Decimal:return t.bitWidth/32;case Le.Type.Timestamp:return 2;case Le.Type.Date:return 1+e.unit;case Le.Type.Interval:return 1+e.unit;case Le.Type.FixedSizeList:return e.listSize;case Le.Type.FixedSizeBinary:return e.byteWidth;default:return 1}}fe.strideForType=CJ;Object.defineProperty(Ao,"__esModule",{value:!0});Ao.Visitor=void 0;const ue=xa,ET=fe;class Ht{visitMany(e,...a){return e.map((o,r)=>this.visit(o,...a.map(i=>i[r])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,a=!0){return RJ(this,e,a)}getVisitFnByTypeId(e,a=!0){return fl(this,e,a)}visitNull(e,...a){return null}visitBool(e,...a){return null}visitInt(e,...a){return null}visitFloat(e,...a){return null}visitUtf8(e,...a){return null}visitLargeUtf8(e,...a){return null}visitBinary(e,...a){return null}visitLargeBinary(e,...a){return null}visitFixedSizeBinary(e,...a){return null}visitDate(e,...a){return null}visitTimestamp(e,...a){return null}visitTime(e,...a){return null}visitDecimal(e,...a){return null}visitList(e,...a){return null}visitStruct(e,...a){return null}visitUnion(e,...a){return null}visitDictionary(e,...a){return null}visitInterval(e,...a){return null}visitDuration(e,...a){return null}visitFixedSizeList(e,...a){return null}visitMap(e,...a){return null}}Ao.Visitor=Ht;function RJ(t,e,a=!0){return typeof e=="number"?fl(t,e,a):typeof e=="string"&&e in ue.Type?fl(t,ue.Type[e],a):e&&e instanceof ET.DataType?fl(t,MT(e),a):e!=null&&e.type&&e.type instanceof ET.DataType?fl(t,MT(e.type),a):fl(t,ue.Type.NONE,a)}function fl(t,e,a=!0){let o=null;switch(e){case ue.Type.Null:o=t.visitNull;break;case ue.Type.Bool:o=t.visitBool;break;case ue.Type.Int:o=t.visitInt;break;case ue.Type.Int8:o=t.visitInt8||t.visitInt;break;case ue.Type.Int16:o=t.visitInt16||t.visitInt;break;case ue.Type.Int32:o=t.visitInt32||t.visitInt;break;case ue.Type.Int64:o=t.visitInt64||t.visitInt;break;case ue.Type.Uint8:o=t.visitUint8||t.visitInt;break;case ue.Type.Uint16:o=t.visitUint16||t.visitInt;break;case ue.Type.Uint32:o=t.visitUint32||t.visitInt;break;case ue.Type.Uint64:o=t.visitUint64||t.visitInt;break;case ue.Type.Float:o=t.visitFloat;break;case ue.Type.Float16:o=t.visitFloat16||t.visitFloat;break;case ue.Type.Float32:o=t.visitFloat32||t.visitFloat;break;case ue.Type.Float64:o=t.visitFloat64||t.visitFloat;break;case ue.Type.Utf8:o=t.visitUtf8;break;case ue.Type.LargeUtf8:o=t.visitLargeUtf8;break;case ue.Type.Binary:o=t.visitBinary;break;case ue.Type.LargeBinary:o=t.visitLargeBinary;break;case ue.Type.FixedSizeBinary:o=t.visitFixedSizeBinary;break;case ue.Type.Date:o=t.visitDate;break;case ue.Type.DateDay:o=t.visitDateDay||t.visitDate;break;case ue.Type.DateMillisecond:o=t.visitDateMillisecond||t.visitDate;break;case ue.Type.Timestamp:o=t.visitTimestamp;break;case ue.Type.TimestampSecond:o=t.visitTimestampSecond||t.visitTimestamp;break;case ue.Type.TimestampMillisecond:o=t.visitTimestampMillisecond||t.visitTimestamp;break;case ue.Type.TimestampMicrosecond:o=t.visitTimestampMicrosecond||t.visitTimestamp;break;case ue.Type.TimestampNanosecond:o=t.visitTimestampNanosecond||t.visitTimestamp;break;case ue.Type.Time:o=t.visitTime;break;case ue.Type.TimeSecond:o=t.visitTimeSecond||t.visitTime;break;case ue.Type.TimeMillisecond:o=t.visitTimeMillisecond||t.visitTime;break;case ue.Type.TimeMicrosecond:o=t.visitTimeMicrosecond||t.visitTime;break;case ue.Type.TimeNanosecond:o=t.visitTimeNanosecond||t.visitTime;break;case ue.Type.Decimal:o=t.visitDecimal;break;case ue.Type.List:o=t.visitList;break;case ue.Type.Struct:o=t.visitStruct;break;case ue.Type.Union:o=t.visitUnion;break;case ue.Type.DenseUnion:o=t.visitDenseUnion||t.visitUnion;break;case ue.Type.SparseUnion:o=t.visitSparseUnion||t.visitUnion;break;case ue.Type.Dictionary:o=t.visitDictionary;break;case ue.Type.Interval:o=t.visitInterval;break;case ue.Type.IntervalDayTime:o=t.visitIntervalDayTime||t.visitInterval;break;case ue.Type.IntervalYearMonth:o=t.visitIntervalYearMonth||t.visitInterval;break;case ue.Type.Duration:o=t.visitDuration;break;case ue.Type.DurationSecond:o=t.visitDurationSecond||t.visitDuration;break;case ue.Type.DurationMillisecond:o=t.visitDurationMillisecond||t.visitDuration;break;case ue.Type.DurationMicrosecond:o=t.visitDurationMicrosecond||t.visitDuration;break;case ue.Type.DurationNanosecond:o=t.visitDurationNanosecond||t.visitDuration;break;case ue.Type.FixedSizeList:o=t.visitFixedSizeList;break;case ue.Type.Map:o=t.visitMap;break}if(typeof o=="function")return o;if(!a)return()=>null;throw new Error(`Unrecognized type '${ue.Type[e]}'`)}function MT(t){switch(t.typeId){case ue.Type.Null:return ue.Type.Null;case ue.Type.Int:{const{bitWidth:e,isSigned:a}=t;switch(e){case 8:return a?ue.Type.Int8:ue.Type.Uint8;case 16:return a?ue.Type.Int16:ue.Type.Uint16;case 32:return a?ue.Type.Int32:ue.Type.Uint32;case 64:return a?ue.Type.Int64:ue.Type.Uint64}return ue.Type.Int}case ue.Type.Float:switch(t.precision){case ue.Precision.HALF:return ue.Type.Float16;case ue.Precision.SINGLE:return ue.Type.Float32;case ue.Precision.DOUBLE:return ue.Type.Float64}return ue.Type.Float;case ue.Type.Binary:return ue.Type.Binary;case ue.Type.LargeBinary:return ue.Type.LargeBinary;case ue.Type.Utf8:return ue.Type.Utf8;case ue.Type.LargeUtf8:return ue.Type.LargeUtf8;case ue.Type.Bool:return ue.Type.Bool;case ue.Type.Decimal:return ue.Type.Decimal;case ue.Type.Time:switch(t.unit){case ue.TimeUnit.SECOND:return ue.Type.TimeSecond;case ue.TimeUnit.MILLISECOND:return ue.Type.TimeMillisecond;case ue.TimeUnit.MICROSECOND:return ue.Type.TimeMicrosecond;case ue.TimeUnit.NANOSECOND:return ue.Type.TimeNanosecond}return ue.Type.Time;case ue.Type.Timestamp:switch(t.unit){case ue.TimeUnit.SECOND:return ue.Type.TimestampSecond;case ue.TimeUnit.MILLISECOND:return ue.Type.TimestampMillisecond;case ue.TimeUnit.MICROSECOND:return ue.Type.TimestampMicrosecond;case ue.TimeUnit.NANOSECOND:return ue.Type.TimestampNanosecond}return ue.Type.Timestamp;case ue.Type.Date:switch(t.unit){case ue.DateUnit.DAY:return ue.Type.DateDay;case ue.DateUnit.MILLISECOND:return ue.Type.DateMillisecond}return ue.Type.Date;case ue.Type.Interval:switch(t.unit){case ue.IntervalUnit.DAY_TIME:return ue.Type.IntervalDayTime;case ue.IntervalUnit.YEAR_MONTH:return ue.Type.IntervalYearMonth}return ue.Type.Interval;case ue.Type.Duration:switch(t.unit){case ue.TimeUnit.SECOND:return ue.Type.DurationSecond;case ue.TimeUnit.MILLISECOND:return ue.Type.DurationMillisecond;case ue.TimeUnit.MICROSECOND:return ue.Type.DurationMicrosecond;case ue.TimeUnit.NANOSECOND:return ue.Type.DurationNanosecond}return ue.Type.Duration;case ue.Type.Map:return ue.Type.Map;case ue.Type.List:return ue.Type.List;case ue.Type.Struct:return ue.Type.Struct;case ue.Type.Union:switch(t.mode){case ue.UnionMode.Dense:return ue.Type.DenseUnion;case ue.UnionMode.Sparse:return ue.Type.SparseUnion}return ue.Type.Union;case ue.Type.FixedSizeBinary:return ue.Type.FixedSizeBinary;case ue.Type.FixedSizeList:return ue.Type.FixedSizeList;case ue.Type.Dictionary:return ue.Type.Dictionary}throw new Error(`Unrecognized type '${ue.Type[t.typeId]}'`)}Ht.prototype.visitInt8=null;Ht.prototype.visitInt16=null;Ht.prototype.visitInt32=null;Ht.prototype.visitInt64=null;Ht.prototype.visitUint8=null;Ht.prototype.visitUint16=null;Ht.prototype.visitUint32=null;Ht.prototype.visitUint64=null;Ht.prototype.visitFloat16=null;Ht.prototype.visitFloat32=null;Ht.prototype.visitFloat64=null;Ht.prototype.visitDateDay=null;Ht.prototype.visitDateMillisecond=null;Ht.prototype.visitTimestampSecond=null;Ht.prototype.visitTimestampMillisecond=null;Ht.prototype.visitTimestampMicrosecond=null;Ht.prototype.visitTimestampNanosecond=null;Ht.prototype.visitTimeSecond=null;Ht.prototype.visitTimeMillisecond=null;Ht.prototype.visitTimeMicrosecond=null;Ht.prototype.visitTimeNanosecond=null;Ht.prototype.visitDenseUnion=null;Ht.prototype.visitSparseUnion=null;Ht.prototype.visitIntervalDayTime=null;Ht.prototype.visitIntervalYearMonth=null;Ht.prototype.visitDuration=null;Ht.prototype.visitDurationSecond=null;Ht.prototype.visitDurationMillisecond=null;Ht.prototype.visitDurationMicrosecond=null;Ht.prototype.visitDurationNanosecond=null;var Cm={},Lb={},$s={};Object.defineProperty($s,"__esModule",{value:!0});$s.float64ToUint16=$s.uint16ToFloat64=void 0;const mq=new Float64Array(1),kc=new Uint32Array(mq.buffer);function OJ(t){const e=(t&31744)>>10,a=(t&1023)/1024,o=Math.pow(-1,(t&32768)>>15);switch(e){case 31:return o*(a?Number.NaN:1/0);case 0:return o*(a?6103515625e-14*a:0)}return o*Math.pow(2,e-15)*(1+a)}$s.uint16ToFloat64=OJ;function IJ(t){if(t!==t)return 32256;mq[0]=t;const e=(kc[1]&2147483648)>>16&65535;let a=kc[1]&2146435072,o=0;return a>=1089470464?kc[0]>0?a=31744:(a=(a&2080374784)>>16,o=(kc[1]&1048575)>>10):a<=1056964608?(o=1048576+(kc[1]&1048575),o=1048576+(o<<(a>>20)-998)>>21,a=0):(a=a-1056964608>>10,o=(kc[1]&1048575)+512>>10),e|a|o&65535}$s.float64ToUint16=IJ;var TT;function Jr(){return TT||(TT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.instance=t.setDuration=t.setDurationNanosecond=t.setDurationMicrosecond=t.setDurationMillisecond=t.setDurationSecond=t.setIntervalYearMonth=t.setIntervalDayTime=t.setIntervalValue=t.setDecimal=t.setTime=t.setTimeNanosecond=t.setTimeMicrosecond=t.setTimeMillisecond=t.setTimeSecond=t.setTimestamp=t.setTimestampNanosecond=t.setTimestampMicrosecond=t.setTimestampMillisecond=t.setTimestampSecond=t.setDate=t.setFixedSizeBinary=t.setDateMillisecond=t.setDateDay=t.setAnyFloat=t.setFloat16=t.setFloat=t.setInt=t.setVariableWidthBytes=t.setEpochMsToNanosecondsLong=t.setEpochMsToMicrosecondsLong=t.setEpochMsToMillisecondsLong=t.setEpochMsToDays=t.SetVisitor=void 0;const e=Qo(),a=Ao,o=Qs,r=Gr,i=$s,s=xa;class n extends a.Visitor{}t.SetVisitor=n;function d(de){return(oe,q,E)=>{if(oe.setValid(q,E!=null))return de(oe,q,E)}}const c=(de,oe,q)=>{de[oe]=Math.trunc(q/864e5)};t.setEpochMsToDays=c;const l=(de,oe,q)=>{de[oe]=Math.trunc(q%4294967296),de[oe+1]=Math.trunc(q/4294967296)};t.setEpochMsToMillisecondsLong=l;const m=(de,oe,q)=>{de[oe]=Math.trunc(q*1e3%4294967296),de[oe+1]=Math.trunc(q*1e3/4294967296)};t.setEpochMsToMicrosecondsLong=m;const u=(de,oe,q)=>{de[oe]=Math.trunc(q*1e6%4294967296),de[oe+1]=Math.trunc(q*1e6/4294967296)};t.setEpochMsToNanosecondsLong=u;const v=(de,oe,q,E)=>{if(q+1<oe.length){const D=(0,o.bigIntToNumber)(oe[q]),k=(0,o.bigIntToNumber)(oe[q+1]);de.set(E.subarray(0,k-D),D)}};t.setVariableWidthBytes=v;const g=({offset:de,values:oe},q,E)=>{const D=de+q;E?oe[D>>3]|=1<<D%8:oe[D>>3]&=~(1<<D%8)},f=({values:de},oe,q)=>{de[oe]=q};t.setInt=f;const p=({values:de},oe,q)=>{de[oe]=q};t.setFloat=p;const h=({values:de},oe,q)=>{de[oe]=(0,i.float64ToUint16)(q)};t.setFloat16=h;const y=(de,oe,q)=>{switch(de.type.precision){case s.Precision.HALF:return(0,t.setFloat16)(de,oe,q);case s.Precision.SINGLE:case s.Precision.DOUBLE:return(0,t.setFloat)(de,oe,q)}};t.setAnyFloat=y;const b=({values:de},oe,q)=>{(0,t.setEpochMsToDays)(de,oe,q.valueOf())};t.setDateDay=b;const _=({values:de},oe,q)=>{(0,t.setEpochMsToMillisecondsLong)(de,oe*2,q.valueOf())};t.setDateMillisecond=_;const S=({stride:de,values:oe},q,E)=>{oe.set(E.subarray(0,de),de*q)};t.setFixedSizeBinary=S;const x=({values:de,valueOffsets:oe},q,E)=>(0,t.setVariableWidthBytes)(de,oe,q,E),w=({values:de,valueOffsets:oe},q,E)=>(0,t.setVariableWidthBytes)(de,oe,q,(0,r.encodeUtf8)(E)),A=(de,oe,q)=>{de.type.unit===s.DateUnit.DAY?(0,t.setDateDay)(de,oe,q):(0,t.setDateMillisecond)(de,oe,q)};t.setDate=A;const T=({values:de},oe,q)=>(0,t.setEpochMsToMillisecondsLong)(de,oe*2,q/1e3);t.setTimestampSecond=T;const O=({values:de},oe,q)=>(0,t.setEpochMsToMillisecondsLong)(de,oe*2,q);t.setTimestampMillisecond=O;const I=({values:de},oe,q)=>(0,t.setEpochMsToMicrosecondsLong)(de,oe*2,q);t.setTimestampMicrosecond=I;const U=({values:de},oe,q)=>(0,t.setEpochMsToNanosecondsLong)(de,oe*2,q);t.setTimestampNanosecond=U;const B=(de,oe,q)=>{switch(de.type.unit){case s.TimeUnit.SECOND:return(0,t.setTimestampSecond)(de,oe,q);case s.TimeUnit.MILLISECOND:return(0,t.setTimestampMillisecond)(de,oe,q);case s.TimeUnit.MICROSECOND:return(0,t.setTimestampMicrosecond)(de,oe,q);case s.TimeUnit.NANOSECOND:return(0,t.setTimestampNanosecond)(de,oe,q)}};t.setTimestamp=B;const N=({values:de},oe,q)=>{de[oe]=q};t.setTimeSecond=N;const z=({values:de},oe,q)=>{de[oe]=q};t.setTimeMillisecond=z;const $=({values:de},oe,q)=>{de[oe]=q};t.setTimeMicrosecond=$;const Y=({values:de},oe,q)=>{de[oe]=q};t.setTimeNanosecond=Y;const F=(de,oe,q)=>{switch(de.type.unit){case s.TimeUnit.SECOND:return(0,t.setTimeSecond)(de,oe,q);case s.TimeUnit.MILLISECOND:return(0,t.setTimeMillisecond)(de,oe,q);case s.TimeUnit.MICROSECOND:return(0,t.setTimeMicrosecond)(de,oe,q);case s.TimeUnit.NANOSECOND:return(0,t.setTimeNanosecond)(de,oe,q)}};t.setTime=F;const V=({values:de,stride:oe},q,E)=>{de.set(E.subarray(0,oe),oe*q)};t.setDecimal=V;const Z=(de,oe,q)=>{const E=de.children[0],D=de.valueOffsets,k=t.instance.getVisitFn(E);if(Array.isArray(q))for(let K=-1,le=D[oe],ge=D[oe+1];le<ge;)k(E,le++,q[++K]);else for(let K=-1,le=D[oe],ge=D[oe+1];le<ge;)k(E,le++,q.get(++K))},se=(de,oe,q)=>{const E=de.children[0],{valueOffsets:D}=de,k=t.instance.getVisitFn(E);let{[oe]:K,[oe+1]:le}=D;const ge=q instanceof Map?q.entries():Object.entries(q);for(const X of ge)if(k(E,K,X),++K>=le)break},J=(de,oe)=>(q,E,D,k)=>E&&q(E,de,oe[k]),te=(de,oe)=>(q,E,D,k)=>E&&q(E,de,oe.get(k)),me=(de,oe)=>(q,E,D,k)=>E&&q(E,de,oe.get(D.name)),xe=(de,oe)=>(q,E,D,k)=>E&&q(E,de,oe[D.name]),Q=(de,oe,q)=>{const E=de.type.children.map(k=>t.instance.getVisitFn(k.type)),D=q instanceof Map?me(oe,q):q instanceof e.Vector?te(oe,q):Array.isArray(q)?J(oe,q):xe(oe,q);de.type.children.forEach((k,K)=>D(E[K],de.children[K],k,K))},Ee=(de,oe,q)=>{de.type.mode===s.UnionMode.Dense?Ae(de,oe,q):Ce(de,oe,q)},Ae=(de,oe,q)=>{const E=de.type.typeIdToChildIndex[de.typeIds[oe]],D=de.children[E];t.instance.visit(D,de.valueOffsets[oe],q)},Ce=(de,oe,q)=>{const E=de.type.typeIdToChildIndex[de.typeIds[oe]],D=de.children[E];t.instance.visit(D,oe,q)},we=(de,oe,q)=>{var E;(E=de.dictionary)===null||E===void 0||E.set(de.values[oe],q)},De=(de,oe,q)=>{de.type.unit===s.IntervalUnit.DAY_TIME?(0,t.setIntervalDayTime)(de,oe,q):(0,t.setIntervalYearMonth)(de,oe,q)};t.setIntervalValue=De;const Te=({values:de},oe,q)=>{de.set(q.subarray(0,2),2*oe)};t.setIntervalDayTime=Te;const _e=({values:de},oe,q)=>{de[oe]=q[0]*12+q[1]%12};t.setIntervalYearMonth=_e;const Qe=({values:de},oe,q)=>{de[oe]=q};t.setDurationSecond=Qe;const tt=({values:de},oe,q)=>{de[oe]=q};t.setDurationMillisecond=tt;const jt=({values:de},oe,q)=>{de[oe]=q};t.setDurationMicrosecond=jt;const Bt=({values:de},oe,q)=>{de[oe]=q};t.setDurationNanosecond=Bt;const At=(de,oe,q)=>{switch(de.type.unit){case s.TimeUnit.SECOND:return(0,t.setDurationSecond)(de,oe,q);case s.TimeUnit.MILLISECOND:return(0,t.setDurationMillisecond)(de,oe,q);case s.TimeUnit.MICROSECOND:return(0,t.setDurationMicrosecond)(de,oe,q);case s.TimeUnit.NANOSECOND:return(0,t.setDurationNanosecond)(de,oe,q)}};t.setDuration=At;const mt=(de,oe,q)=>{const{stride:E}=de,D=de.children[0],k=t.instance.getVisitFn(D);if(Array.isArray(q))for(let K=-1,le=oe*E;++K<E;)k(D,le+K,q[K]);else for(let K=-1,le=oe*E;++K<E;)k(D,le+K,q.get(K))};n.prototype.visitBool=d(g),n.prototype.visitInt=d(t.setInt),n.prototype.visitInt8=d(t.setInt),n.prototype.visitInt16=d(t.setInt),n.prototype.visitInt32=d(t.setInt),n.prototype.visitInt64=d(t.setInt),n.prototype.visitUint8=d(t.setInt),n.prototype.visitUint16=d(t.setInt),n.prototype.visitUint32=d(t.setInt),n.prototype.visitUint64=d(t.setInt),n.prototype.visitFloat=d(t.setAnyFloat),n.prototype.visitFloat16=d(t.setFloat16),n.prototype.visitFloat32=d(t.setFloat),n.prototype.visitFloat64=d(t.setFloat),n.prototype.visitUtf8=d(w),n.prototype.visitLargeUtf8=d(w),n.prototype.visitBinary=d(x),n.prototype.visitLargeBinary=d(x),n.prototype.visitFixedSizeBinary=d(t.setFixedSizeBinary),n.prototype.visitDate=d(t.setDate),n.prototype.visitDateDay=d(t.setDateDay),n.prototype.visitDateMillisecond=d(t.setDateMillisecond),n.prototype.visitTimestamp=d(t.setTimestamp),n.prototype.visitTimestampSecond=d(t.setTimestampSecond),n.prototype.visitTimestampMillisecond=d(t.setTimestampMillisecond),n.prototype.visitTimestampMicrosecond=d(t.setTimestampMicrosecond),n.prototype.visitTimestampNanosecond=d(t.setTimestampNanosecond),n.prototype.visitTime=d(t.setTime),n.prototype.visitTimeSecond=d(t.setTimeSecond),n.prototype.visitTimeMillisecond=d(t.setTimeMillisecond),n.prototype.visitTimeMicrosecond=d(t.setTimeMicrosecond),n.prototype.visitTimeNanosecond=d(t.setTimeNanosecond),n.prototype.visitDecimal=d(t.setDecimal),n.prototype.visitList=d(Z),n.prototype.visitStruct=d(Q),n.prototype.visitUnion=d(Ee),n.prototype.visitDenseUnion=d(Ae),n.prototype.visitSparseUnion=d(Ce),n.prototype.visitDictionary=d(we),n.prototype.visitInterval=d(t.setIntervalValue),n.prototype.visitIntervalDayTime=d(t.setIntervalDayTime),n.prototype.visitIntervalYearMonth=d(t.setIntervalYearMonth),n.prototype.visitDuration=d(t.setDuration),n.prototype.visitDurationSecond=d(t.setDurationSecond),n.prototype.visitDurationMillisecond=d(t.setDurationMillisecond),n.prototype.visitDurationMicrosecond=d(t.setDurationMicrosecond),n.prototype.visitDurationNanosecond=d(t.setDurationNanosecond),n.prototype.visitFixedSizeList=d(mt),n.prototype.visitMap=d(se),t.instance=new n}(Lb)),Lb}var CT;function sS(){if(CT)return Cm;CT=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.StructRow=void 0;const t=Oc,e=Yu(),a=Jr(),o=Symbol.for("parent"),r=Symbol.for("rowIndex");class i{constructor(c,l){return this[o]=c,this[r]=l,new Proxy(this,new n)}toArray(){return Object.values(this.toJSON())}toJSON(){const c=this[r],l=this[o],m=l.type.children,u={};for(let v=-1,g=m.length;++v<g;)u[m[v].name]=e.instance.visit(l.children[v],c);return u}toString(){return`{${[...this].map(([c,l])=>`${(0,t.valueToString)(c)}: ${(0,t.valueToString)(l)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new s(this[o],this[r])}}Cm.StructRow=i;class s{constructor(c,l){this.childIndex=0,this.children=c.children,this.rowIndex=l,this.childFields=c.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const c=this.childIndex;return c<this.numChildren?(this.childIndex=c+1,{done:!1,value:[this.childFields[c].name,e.instance.visit(this.children[c],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[o]:{writable:!0,enumerable:!1,configurable:!1,value:null},[r]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class n{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(c){return c[o].type.children.map(l=>l.name)}has(c,l){return c[o].type.children.findIndex(m=>m.name===l)!==-1}getOwnPropertyDescriptor(c,l){if(c[o].type.children.findIndex(m=>m.name===l)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(c,l){if(Reflect.has(c,l))return c[l];const m=c[o].type.children.findIndex(u=>u.name===l);if(m!==-1){const u=e.instance.visit(c[o].children[m],c[r]);return Reflect.set(c,l,u),u}}set(c,l,m){const u=c[o].type.children.findIndex(v=>v.name===l);return u!==-1?(a.instance.visit(c[o].children[u],c[r],m),Reflect.set(c,l,m)):Reflect.has(c,l)||typeof l=="symbol"?Reflect.set(c,l,m):!1}}return Cm}var RT;function Yu(){return RT||(RT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.instance=t.GetVisitor=void 0;const e=sy,a=Qo(),o=Ao,r=ny(),i=sS(),s=Qs,n=Gr,d=$s,c=xa;class l extends o.Visitor{}t.GetVisitor=l;function m(D){return(k,K)=>k.getValid(K)?D(k,K):null}const u=(D,k)=>864e5*D[k],v=(D,k)=>4294967296*D[k+1]+(D[k]>>>0),g=(D,k)=>4294967296*(D[k+1]/1e3)+(D[k]>>>0)/1e3,f=(D,k)=>4294967296*(D[k+1]/1e6)+(D[k]>>>0)/1e6,p=D=>new Date(D),h=(D,k)=>p(u(D,k)),y=(D,k)=>p(v(D,k)),b=(D,k)=>null,_=(D,k,K)=>{if(K+1>=k.length)return null;const le=(0,s.bigIntToNumber)(k[K]),ge=(0,s.bigIntToNumber)(k[K+1]);return D.subarray(le,ge)},S=({offset:D,values:k},K)=>{const le=D+K;return(k[le>>3]&1<<le%8)!==0},x=({values:D},k)=>h(D,k),w=({values:D},k)=>y(D,k*2),A=({stride:D,values:k},K)=>k[D*K],T=({stride:D,values:k},K)=>(0,d.uint16ToFloat64)(k[D*K]),O=({values:D},k)=>D[k],I=({stride:D,values:k},K)=>k.subarray(D*K,D*(K+1)),U=({values:D,valueOffsets:k},K)=>_(D,k,K),B=({values:D,valueOffsets:k},K)=>{const le=_(D,k,K);return le!==null?(0,n.decodeUtf8)(le):null},N=({values:D},k)=>D[k],z=({type:D,values:k},K)=>D.precision!==c.Precision.HALF?k[K]:(0,d.uint16ToFloat64)(k[K]),$=(D,k)=>D.type.unit===c.DateUnit.DAY?x(D,k):w(D,k),Y=({values:D},k)=>1e3*v(D,k*2),F=({values:D},k)=>v(D,k*2),V=({values:D},k)=>g(D,k*2),Z=({values:D},k)=>f(D,k*2),se=(D,k)=>{switch(D.type.unit){case c.TimeUnit.SECOND:return Y(D,k);case c.TimeUnit.MILLISECOND:return F(D,k);case c.TimeUnit.MICROSECOND:return V(D,k);case c.TimeUnit.NANOSECOND:return Z(D,k)}},J=({values:D},k)=>D[k],te=({values:D},k)=>D[k],me=({values:D},k)=>D[k],xe=({values:D},k)=>D[k],Q=(D,k)=>{switch(D.type.unit){case c.TimeUnit.SECOND:return J(D,k);case c.TimeUnit.MILLISECOND:return te(D,k);case c.TimeUnit.MICROSECOND:return me(D,k);case c.TimeUnit.NANOSECOND:return xe(D,k)}},Ee=({values:D,stride:k},K)=>e.BN.decimal(D.subarray(k*K,k*(K+1))),Ae=(D,k)=>{const{valueOffsets:K,stride:le,children:ge}=D,{[k*le]:X,[k*le+1]:Pe}=K,We=ge[0].slice(X,Pe-X);return new a.Vector([We])},Ce=(D,k)=>{const{valueOffsets:K,children:le}=D,{[k]:ge,[k+1]:X}=K,Pe=le[0];return new r.MapRow(Pe.slice(ge,X-ge))},we=(D,k)=>new i.StructRow(D,k),De=(D,k)=>D.type.mode===c.UnionMode.Dense?Te(D,k):_e(D,k),Te=(D,k)=>{const K=D.type.typeIdToChildIndex[D.typeIds[k]],le=D.children[K];return t.instance.visit(le,D.valueOffsets[k])},_e=(D,k)=>{const K=D.type.typeIdToChildIndex[D.typeIds[k]],le=D.children[K];return t.instance.visit(le,k)},Qe=(D,k)=>{var K;return(K=D.dictionary)===null||K===void 0?void 0:K.get(D.values[k])},tt=(D,k)=>D.type.unit===c.IntervalUnit.DAY_TIME?jt(D,k):Bt(D,k),jt=({values:D},k)=>D.subarray(2*k,2*(k+1)),Bt=({values:D},k)=>{const K=D[k],le=new Int32Array(2);return le[0]=Math.trunc(K/12),le[1]=Math.trunc(K%12),le},At=({values:D},k)=>D[k],mt=({values:D},k)=>D[k],de=({values:D},k)=>D[k],oe=({values:D},k)=>D[k],q=(D,k)=>{switch(D.type.unit){case c.TimeUnit.SECOND:return At(D,k);case c.TimeUnit.MILLISECOND:return mt(D,k);case c.TimeUnit.MICROSECOND:return de(D,k);case c.TimeUnit.NANOSECOND:return oe(D,k)}},E=(D,k)=>{const{stride:K,children:le}=D,X=le[0].slice(k*K,K);return new a.Vector([X])};l.prototype.visitNull=m(b),l.prototype.visitBool=m(S),l.prototype.visitInt=m(N),l.prototype.visitInt8=m(A),l.prototype.visitInt16=m(A),l.prototype.visitInt32=m(A),l.prototype.visitInt64=m(O),l.prototype.visitUint8=m(A),l.prototype.visitUint16=m(A),l.prototype.visitUint32=m(A),l.prototype.visitUint64=m(O),l.prototype.visitFloat=m(z),l.prototype.visitFloat16=m(T),l.prototype.visitFloat32=m(A),l.prototype.visitFloat64=m(A),l.prototype.visitUtf8=m(B),l.prototype.visitLargeUtf8=m(B),l.prototype.visitBinary=m(U),l.prototype.visitLargeBinary=m(U),l.prototype.visitFixedSizeBinary=m(I),l.prototype.visitDate=m($),l.prototype.visitDateDay=m(x),l.prototype.visitDateMillisecond=m(w),l.prototype.visitTimestamp=m(se),l.prototype.visitTimestampSecond=m(Y),l.prototype.visitTimestampMillisecond=m(F),l.prototype.visitTimestampMicrosecond=m(V),l.prototype.visitTimestampNanosecond=m(Z),l.prototype.visitTime=m(Q),l.prototype.visitTimeSecond=m(J),l.prototype.visitTimeMillisecond=m(te),l.prototype.visitTimeMicrosecond=m(me),l.prototype.visitTimeNanosecond=m(xe),l.prototype.visitDecimal=m(Ee),l.prototype.visitList=m(Ae),l.prototype.visitStruct=m(we),l.prototype.visitUnion=m(De),l.prototype.visitDenseUnion=m(Te),l.prototype.visitSparseUnion=m(_e),l.prototype.visitDictionary=m(Qe),l.prototype.visitInterval=m(tt),l.prototype.visitIntervalDayTime=m(jt),l.prototype.visitIntervalYearMonth=m(Bt),l.prototype.visitDuration=m(q),l.prototype.visitDurationSecond=m(At),l.prototype.visitDurationMillisecond=m(mt),l.prototype.visitDurationMicrosecond=m(de),l.prototype.visitDurationNanosecond=m(oe),l.prototype.visitFixedSizeList=m(E),l.prototype.visitMap=m(Ce),t.instance=new l}(Pb)),Pb}var OT;function ny(){return OT||(OT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MapRow=t.kVals=t.kKeys=void 0;const e=Qo(),a=Oc,o=Yu(),r=Jr();t.kKeys=Symbol.for("keys"),t.kVals=Symbol.for("vals");class i{constructor(c){return this[t.kKeys]=new e.Vector([c.children[0]]).memoize(),this[t.kVals]=c.children[1],new Proxy(this,new n)}[Symbol.iterator](){return new s(this[t.kKeys],this[t.kVals])}get size(){return this[t.kKeys].length}toArray(){return Object.values(this.toJSON())}toJSON(){const c=this[t.kKeys],l=this[t.kVals],m={};for(let u=-1,v=c.length;++u<v;)m[c.get(u)]=o.instance.visit(l,u);return m}toString(){return`{${[...this].map(([c,l])=>`${(0,a.valueToString)(c)}: ${(0,a.valueToString)(l)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}t.MapRow=i;class s{constructor(c,l){this.keys=c,this.vals=l,this.keyIndex=0,this.numKeys=c.length}[Symbol.iterator](){return this}next(){const c=this.keyIndex;return c===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(c),o.instance.visit(this.vals,c)]})}}class n{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(c){return c[t.kKeys].toArray().map(String)}has(c,l){return c[t.kKeys].includes(l)}getOwnPropertyDescriptor(c,l){if(c[t.kKeys].indexOf(l)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(c,l){if(Reflect.has(c,l))return c[l];const m=c[t.kKeys].indexOf(l);if(m!==-1){const u=o.instance.visit(Reflect.get(c,t.kVals),m);return Reflect.set(c,l,u),u}}set(c,l,m){const u=c[t.kKeys].indexOf(l);return u!==-1?(r.instance.visit(Reflect.get(c,t.kVals),u,m),Reflect.set(c,l,m)):Reflect.has(c,l)?Reflect.set(c,l,m):!1}}Object.defineProperties(i.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[t.kKeys]:{writable:!0,enumerable:!1,configurable:!1,value:null},[t.kVals]:{writable:!0,enumerable:!1,configurable:!1,value:null}})}(qb)),qb}var IT;function dy(){if(IT)return cs;IT=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.createElementComparator=cs.clampRange=cs.clampIndex=void 0;const t=Qo(),e=ny(),a=sS(),o=Oe;function r(h,y,b){const _=h.length,S=y>-1?y:_+y%_;return b?b(h,S):S}cs.clampIndex=r;let i;function s(h,y,b,_){const{length:S=0}=h;let x=typeof y!="number"?0:y,w=typeof b!="number"?S:b;return x<0&&(x=(x%S+S)%S),w<0&&(w=(w%S+S)%S),w<x&&(i=x,x=w,w=i),w>S&&(w=S),_?_(h,x,w):[x,w]}cs.clampRange=s;const n=h=>h!==h;function d(h){if(typeof h!=="object"||h===null)return n(h)?n:b=>b===h;if(h instanceof Date){const b=h.valueOf();return _=>_ instanceof Date?_.valueOf()===b:!1}return ArrayBuffer.isView(h)?b=>b?(0,o.compareArrayLike)(h,b):!1:h instanceof Map?l(h):Array.isArray(h)?c(h):h instanceof t.Vector?m(h):u(h,!0)}cs.createElementComparator=d;function c(h){const y=[];for(let b=-1,_=h.length;++b<_;)y[b]=d(h[b]);return v(y)}function l(h){let y=-1;const b=[];for(const _ of h.values())b[++y]=d(_);return v(b)}function m(h){const y=[];for(let b=-1,_=h.length;++b<_;)y[b]=d(h.get(b));return v(y)}function u(h,y=!1){const b=Object.keys(h);if(!y&&b.length===0)return()=>!1;const _=[];for(let S=-1,x=b.length;++S<x;)_[S]=d(h[b[S]]);return v(_,b)}function v(h,y){return b=>{if(!b||typeof b!="object")return!1;switch(b.constructor){case Array:return g(h,b);case Map:return p(h,b,b.keys());case e.MapRow:case a.StructRow:case Object:case void 0:return p(h,b,y||Object.keys(b))}return b instanceof t.Vector?f(h,b):!1}}function g(h,y){const b=h.length;if(y.length!==b)return!1;for(let _=-1;++_<b;)if(!h[_](y[_]))return!1;return!0}function f(h,y){const b=h.length;if(y.length!==b)return!1;for(let _=-1;++_<b;)if(!h[_](y.get(_)))return!1;return!0}function p(h,y,b){const _=b[Symbol.iterator](),S=y instanceof Map?y.keys():Object.keys(y)[Symbol.iterator](),x=y instanceof Map?y.values():Object.values(y)[Symbol.iterator]();let w=0;const A=h.length;let T=x.next(),O=_.next(),I=S.next();for(;w<A&&!O.done&&!I.done&&!T.done&&!(O.value!==I.value||!h[w](T.value));++w,O=_.next(),I=S.next(),T=x.next());return w===A&&O.done&&I.done&&T.done?!0:(_.return&&_.return(),S.return&&S.return(),x.return&&x.return(),!1)}return cs}var Nb={},da={};Object.defineProperty(da,"__esModule",{value:!0});da.popcnt_uint32=da.popcnt_array=da.popcnt_bit_range=da.BitIterator=da.packBools=da.truncateBitmap=da.setBool=da.getBit=da.getBool=void 0;function pq(t,e,a,o){return(a&1<<o)!==0}da.getBool=pq;function fq(t,e,a,o){return(a&1<<o)>>o}da.getBit=fq;function DJ(t,e,a){return a?!!(t[e>>3]|=1<<e%8)||!0:!(t[e>>3]&=~(1<<e%8))&&!1}da.setBool=DJ;function qJ(t,e,a){const o=a.byteLength+7&-8;if(t>0||a.byteLength<o){const r=new Uint8Array(o);return r.set(t%8===0?a.subarray(t>>3):hq(new nS(a,t,e,null,pq)).subarray(0,o)),r}return a}da.truncateBitmap=qJ;function hq(t){const e=[];let a=0,o=0,r=0;for(const s of t)s&&(r|=1<<o),++o===8&&(e[a++]=r,r=o=0);(a===0||o>0)&&(e[a++]=r);const i=new Uint8Array(e.length+7&-8);return i.set(e),i}da.packBools=hq;class nS{constructor(e,a,o,r,i){this.bytes=e,this.length=o,this.context=r,this.get=i,this.bit=a%8,this.byteIndex=a>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}da.BitIterator=nS;function R3(t,e,a){if(a-e<=0)return 0;if(a-e<8){let i=0;for(const s of new nS(t,e,a-e,t,fq))i+=s;return i}const o=a>>3<<3,r=e+(e%8===0?0:8-e%8);return R3(t,e,r)+R3(t,o,a)+vq(t,r>>3,o-r>>3)}da.popcnt_bit_range=R3;function vq(t,e,a){let o=0,r=Math.trunc(e);const i=new DataView(t.buffer,t.byteOffset,t.byteLength),s=a===void 0?t.byteLength:r+a;for(;s-r>=4;)o+=ag(i.getUint32(r)),r+=4;for(;s-r>=2;)o+=ag(i.getUint16(r)),r+=2;for(;s-r>=1;)o+=ag(i.getUint8(r)),r+=1;return o}da.popcnt_array=vq;function ag(t){let e=Math.trunc(t);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}da.popcnt_uint32=ag;var DT;function Xs(){return DT||(DT=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.makeData=t.Data=t.kUnknownNullCount=void 0;const e=Qo(),a=xa,o=fe,r=da;t.kUnknownNullCount=-1;class i{get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get nullable(){if(this._nullCount!==0){const{type:u}=this;return o.DataType.isSparseUnion(u)?this.children.some(v=>v.nullable):o.DataType.isDenseUnion(u)?this.children.some(v=>v.nullable):this.nullBitmap&&this.nullBitmap.byteLength>0}return!0}get byteLength(){let u=0;const{valueOffsets:v,values:g,nullBitmap:f,typeIds:p}=this;return v&&(u+=v.byteLength),g&&(u+=g.byteLength),f&&(u+=f.byteLength),p&&(u+=p.byteLength),this.children.reduce((h,y)=>h+y.byteLength,u)}get nullCount(){if(o.DataType.isUnion(this.type))return this.children.reduce((g,f)=>g+f.nullCount,0);let u=this._nullCount,v;return u<=t.kUnknownNullCount&&(v=this.nullBitmap)&&(this._nullCount=u=this.length-(0,r.popcnt_bit_range)(v,this.offset,this.offset+this.length)),u}constructor(u,v,g,f,p,h=[],y){this.type=u,this.children=h,this.dictionary=y,this.offset=Math.floor(Math.max(v||0,0)),this.length=Math.floor(Math.max(g||0,0)),this._nullCount=Math.floor(Math.max(f||0,-1));let b;p instanceof i?(this.stride=p.stride,this.values=p.values,this.typeIds=p.typeIds,this.nullBitmap=p.nullBitmap,this.valueOffsets=p.valueOffsets):(this.stride=(0,o.strideForType)(u),p&&((b=p[0])&&(this.valueOffsets=b),(b=p[1])&&(this.values=b),(b=p[2])&&(this.nullBitmap=b),(b=p[3])&&(this.typeIds=b)))}getValid(u){const{type:v}=this;if(o.DataType.isUnion(v)){const g=v,f=this.children[g.typeIdToChildIndex[this.typeIds[u]]],p=g.mode===a.UnionMode.Dense?this.valueOffsets[u]:u;return f.getValid(p)}if(this.nullable&&this.nullCount>0){const g=this.offset+u;return(this.nullBitmap[g>>3]&1<<g%8)!==0}return!0}setValid(u,v){let g;const{type:f}=this;if(o.DataType.isUnion(f)){const p=f,h=this.children[p.typeIdToChildIndex[this.typeIds[u]]],y=p.mode===a.UnionMode.Dense?this.valueOffsets[u]:u;g=h.getValid(y),h.setValid(y,v)}else{let{nullBitmap:p}=this;const{offset:h,length:y}=this,b=h+u,_=1<<b%8,S=b>>3;(!p||p.byteLength<=S)&&(p=new Uint8Array((h+y+63&-64)>>3).fill(255),this.nullCount>0&&p.set((0,r.truncateBitmap)(h,y,this.nullBitmap),0),Object.assign(this,{nullBitmap:p,_nullCount:-1}));const x=p[S];g=(x&_)!==0,v?p[S]=x|_:p[S]=x&~_}return g!==!!v&&(this._nullCount=this.nullCount+(v?-1:1)),v}clone(u=this.type,v=this.offset,g=this.length,f=this._nullCount,p=this,h=this.children){return new i(u,v,g,f,p,h,this.dictionary)}slice(u,v){const{stride:g,typeId:f,children:p}=this,h=+(this._nullCount===0)-1,y=f===16?g:1,b=this._sliceBuffers(u,v,g,f);return this.clone(this.type,this.offset+u,v,h,b,p.length===0||this.valueOffsets?p:this._sliceChildren(p,y*u,y*v))}_changeLengthAndBackfillNullBitmap(u){if(this.typeId===a.Type.Null)return this.clone(this.type,0,u,0);const{length:v,nullCount:g}=this,f=new Uint8Array((u+63&-64)>>3).fill(255,0,v>>3);f[v>>3]=(1<<v-(v&-8))-1,g>0&&f.set((0,r.truncateBitmap)(this.offset,v,this.nullBitmap),0);const p=this.buffers;return p[a.BufferType.VALIDITY]=f,this.clone(this.type,0,u,g+(u-v),p)}_sliceBuffers(u,v,g,f){let p;const{buffers:h}=this;return(p=h[a.BufferType.TYPE])&&(h[a.BufferType.TYPE]=p.subarray(u,u+v)),(p=h[a.BufferType.OFFSET])&&(h[a.BufferType.OFFSET]=p.subarray(u,u+v+1))||(p=h[a.BufferType.DATA])&&(h[a.BufferType.DATA]=f===6?p:p.subarray(g*u,g*(u+v))),h}_sliceChildren(u,v,g){return u.map(f=>f.slice(v,g))}}t.Data=i,i.prototype.children=Object.freeze([]);const s=Ao,n=Oe;class d extends s.Visitor{visit(u){return this.getVisitFn(u.type).call(this,u)}visitNull(u){const{["type"]:v,["offset"]:g=0,["length"]:f=0}=u;return new i(v,g,f,f)}visitBool(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length>>3,["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitInt(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length,["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitFloat(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length,["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitUtf8(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.data),p=(0,n.toUint8Array)(u.nullBitmap),h=(0,n.toInt32Array)(u.valueOffsets),{["length"]:y=h.length-1,["nullCount"]:b=u.nullBitmap?-1:0}=u;return new i(v,g,y,b,[h,f,p])}visitLargeUtf8(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.data),p=(0,n.toUint8Array)(u.nullBitmap),h=(0,n.toBigInt64Array)(u.valueOffsets),{["length"]:y=h.length-1,["nullCount"]:b=u.nullBitmap?-1:0}=u;return new i(v,g,y,b,[h,f,p])}visitBinary(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.data),p=(0,n.toUint8Array)(u.nullBitmap),h=(0,n.toInt32Array)(u.valueOffsets),{["length"]:y=h.length-1,["nullCount"]:b=u.nullBitmap?-1:0}=u;return new i(v,g,y,b,[h,f,p])}visitLargeBinary(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.data),p=(0,n.toUint8Array)(u.nullBitmap),h=(0,n.toBigInt64Array)(u.valueOffsets),{["length"]:y=h.length-1,["nullCount"]:b=u.nullBitmap?-1:0}=u;return new i(v,g,y,b,[h,f,p])}visitFixedSizeBinary(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length/(0,o.strideForType)(v),["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitDate(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length/(0,o.strideForType)(v),["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitTimestamp(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length/(0,o.strideForType)(v),["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitTime(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length/(0,o.strideForType)(v),["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitDecimal(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length/(0,o.strideForType)(v),["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitList(u){const{["type"]:v,["offset"]:g=0,["child"]:f}=u,p=(0,n.toUint8Array)(u.nullBitmap),h=(0,n.toInt32Array)(u.valueOffsets),{["length"]:y=h.length-1,["nullCount"]:b=u.nullBitmap?-1:0}=u;return new i(v,g,y,b,[h,void 0,p],[f])}visitStruct(u){const{["type"]:v,["offset"]:g=0,["children"]:f=[]}=u,p=(0,n.toUint8Array)(u.nullBitmap),{length:h=f.reduce((b,{length:_})=>Math.max(b,_),0),nullCount:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,void 0,p],f)}visitUnion(u){const{["type"]:v,["offset"]:g=0,["children"]:f=[]}=u,p=(0,n.toArrayBufferView)(v.ArrayType,u.typeIds),{["length"]:h=p.length,["nullCount"]:y=-1}=u;if(o.DataType.isSparseUnion(v))return new i(v,g,h,y,[void 0,void 0,void 0,p],f);const b=(0,n.toInt32Array)(u.valueOffsets);return new i(v,g,h,y,[b,void 0,void 0,p],f)}visitDictionary(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.indices.ArrayType,u.data),{["dictionary"]:h=new e.Vector([new d().visit({type:v.dictionary})])}=u,{["length"]:y=p.length,["nullCount"]:b=u.nullBitmap?-1:0}=u;return new i(v,g,y,b,[void 0,p,f],[],h)}visitInterval(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length/(0,o.strideForType)(v),["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitDuration(u){const{["type"]:v,["offset"]:g=0}=u,f=(0,n.toUint8Array)(u.nullBitmap),p=(0,n.toArrayBufferView)(v.ArrayType,u.data),{["length"]:h=p.length,["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,p,f])}visitFixedSizeList(u){const{["type"]:v,["offset"]:g=0,["child"]:f=new d().visit({type:v.valueType})}=u,p=(0,n.toUint8Array)(u.nullBitmap),{["length"]:h=f.length/(0,o.strideForType)(v),["nullCount"]:y=u.nullBitmap?-1:0}=u;return new i(v,g,h,y,[void 0,void 0,p],[f])}visitMap(u){const{["type"]:v,["offset"]:g=0,["child"]:f=new d().visit({type:v.childType})}=u,p=(0,n.toUint8Array)(u.nullBitmap),h=(0,n.toInt32Array)(u.valueOffsets),{["length"]:y=h.length-1,["nullCount"]:b=u.nullBitmap?-1:0}=u;return new i(v,g,y,b,[h,void 0,p],[f])}}const c=new d;function l(m){return c.visit(m)}t.makeData=l}(Nb)),Nb}var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.wrapChunkedIndexOf=ma.wrapChunkedCall2=ma.wrapChunkedCall1=ma.isChunkedValid=ma.binarySearch=ma.sliceChunks=ma.computeChunkOffsets=ma.computeChunkNullCounts=ma.computeChunkNullable=ma.ChunkedIterator=void 0;class PJ{constructor(e=0,a){this.numChunks=e,this.getChunkIterator=a,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}ma.ChunkedIterator=PJ;function LJ(t){return t.some(e=>e.nullable)}ma.computeChunkNullable=LJ;function NJ(t){return t.reduce((e,a)=>e+a.nullCount,0)}ma.computeChunkNullCounts=NJ;function jJ(t){return t.reduce((e,a,o)=>(e[o+1]=e[o]+a.length,e),new Uint32Array(t.length+1))}ma.computeChunkOffsets=jJ;function FJ(t,e,a,o){const r=[];for(let i=-1,s=t.length;++i<s;){const n=t[i],d=e[i],{length:c}=n;if(d>=o)break;if(a>=d+c)continue;if(d>=a&&d+c<=o){r.push(n);continue}const l=Math.max(0,a-d),m=Math.min(o-d,c);r.push(n.slice(l,m-l))}return r.length===0&&r.push(t[0].slice(0,0)),r}ma.sliceChunks=FJ;function cy(t,e,a,o){let r=0,i=0,s=e.length-1;do{if(r>=s-1)return a<e[s]?o(t,r,a-e[r]):null;i=r+Math.trunc((s-r)*.5),a<e[i]?s=i:r=i}while(r<s)}ma.binarySearch=cy;function zJ(t,e){return t.getValid(e)}ma.isChunkedValid=zJ;function BJ(t){function e(a,o,r){return t(a[o],r)}return function(a){const o=this.data;return cy(o,this._offsets,a,e)}}ma.wrapChunkedCall1=BJ;function kJ(t){let e;function a(o,r,i){return t(o[r],i,e)}return function(o,r){const i=this.data;e=r;const s=cy(i,this._offsets,o,a);return e=void 0,s}}ma.wrapChunkedCall2=kJ;function UJ(t){let e;function a(o,r,i){let s=i,n=0,d=0;for(let c=r-1,l=o.length;++c<l;){const m=o[c];if(~(n=t(m,e,s)))return d+n;s=0,d+=m.length}return-1}return function(o,r){e=o;const i=this.data,s=typeof r!="number"?a(i,0,0):cy(i,this._offsets,r,a);return e=void 0,s}}ma.wrapChunkedIndexOf=UJ;var fd={},qT;function dS(){if(qT)return fd;qT=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.instance=fd.IndexOfVisitor=void 0;const t=xa,e=Ao,a=Yu(),o=da,r=dy();class i extends e.Visitor{}fd.IndexOfVisitor=i;function s(l,m){return m===null&&l.length>0?0:-1}function n(l,m){const{nullBitmap:u}=l;if(!u||l.nullCount<=0)return-1;let v=0;for(const g of new o.BitIterator(u,l.offset+(m||0),l.length,u,o.getBool)){if(!g)return v;++v}return-1}function d(l,m,u){if(m===void 0)return-1;if(m===null)switch(l.typeId){case t.Type.Union:break;case t.Type.Dictionary:break;default:return n(l,u)}const v=a.instance.getVisitFn(l),g=(0,r.createElementComparator)(m);for(let f=(u||0)-1,p=l.length;++f<p;)if(g(v(l,f)))return f;return-1}function c(l,m,u){const v=a.instance.getVisitFn(l),g=(0,r.createElementComparator)(m);for(let f=(u||0)-1,p=l.length;++f<p;)if(g(v(l,f)))return f;return-1}return i.prototype.visitNull=s,i.prototype.visitBool=d,i.prototype.visitInt=d,i.prototype.visitInt8=d,i.prototype.visitInt16=d,i.prototype.visitInt32=d,i.prototype.visitInt64=d,i.prototype.visitUint8=d,i.prototype.visitUint16=d,i.prototype.visitUint32=d,i.prototype.visitUint64=d,i.prototype.visitFloat=d,i.prototype.visitFloat16=d,i.prototype.visitFloat32=d,i.prototype.visitFloat64=d,i.prototype.visitUtf8=d,i.prototype.visitLargeUtf8=d,i.prototype.visitBinary=d,i.prototype.visitLargeBinary=d,i.prototype.visitFixedSizeBinary=d,i.prototype.visitDate=d,i.prototype.visitDateDay=d,i.prototype.visitDateMillisecond=d,i.prototype.visitTimestamp=d,i.prototype.visitTimestampSecond=d,i.prototype.visitTimestampMillisecond=d,i.prototype.visitTimestampMicrosecond=d,i.prototype.visitTimestampNanosecond=d,i.prototype.visitTime=d,i.prototype.visitTimeSecond=d,i.prototype.visitTimeMillisecond=d,i.prototype.visitTimeMicrosecond=d,i.prototype.visitTimeNanosecond=d,i.prototype.visitDecimal=d,i.prototype.visitList=d,i.prototype.visitStruct=d,i.prototype.visitUnion=d,i.prototype.visitDenseUnion=c,i.prototype.visitSparseUnion=c,i.prototype.visitDictionary=d,i.prototype.visitInterval=d,i.prototype.visitIntervalDayTime=d,i.prototype.visitIntervalYearMonth=d,i.prototype.visitDuration=d,i.prototype.visitDurationSecond=d,i.prototype.visitDurationMillisecond=d,i.prototype.visitDurationMicrosecond=d,i.prototype.visitDurationNanosecond=d,i.prototype.visitFixedSizeList=d,i.prototype.visitMap=d,fd.instance=new i,fd}var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.instance=Xn.IteratorVisitor=void 0;const VJ=Ao,PT=xa,jb=fe,LT=ma;class st extends VJ.Visitor{}Xn.IteratorVisitor=st;function lt(t){const{type:e}=t;if(t.nullCount===0&&t.stride===1&&(e.typeId===PT.Type.Timestamp||e instanceof jb.Int&&e.bitWidth!==64||e instanceof jb.Time&&e.bitWidth!==64||e instanceof jb.Float&&e.precision!==PT.Precision.HALF))return new LT.ChunkedIterator(t.data.length,o=>{const r=t.data[o];return r.values.subarray(0,r.length)[Symbol.iterator]()});let a=0;return new LT.ChunkedIterator(t.data.length,o=>{const i=t.data[o].length,s=t.slice(a,a+i);return a+=i,new $J(s)})}class $J{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}st.prototype.visitNull=lt;st.prototype.visitBool=lt;st.prototype.visitInt=lt;st.prototype.visitInt8=lt;st.prototype.visitInt16=lt;st.prototype.visitInt32=lt;st.prototype.visitInt64=lt;st.prototype.visitUint8=lt;st.prototype.visitUint16=lt;st.prototype.visitUint32=lt;st.prototype.visitUint64=lt;st.prototype.visitFloat=lt;st.prototype.visitFloat16=lt;st.prototype.visitFloat32=lt;st.prototype.visitFloat64=lt;st.prototype.visitUtf8=lt;st.prototype.visitLargeUtf8=lt;st.prototype.visitBinary=lt;st.prototype.visitLargeBinary=lt;st.prototype.visitFixedSizeBinary=lt;st.prototype.visitDate=lt;st.prototype.visitDateDay=lt;st.prototype.visitDateMillisecond=lt;st.prototype.visitTimestamp=lt;st.prototype.visitTimestampSecond=lt;st.prototype.visitTimestampMillisecond=lt;st.prototype.visitTimestampMicrosecond=lt;st.prototype.visitTimestampNanosecond=lt;st.prototype.visitTime=lt;st.prototype.visitTimeSecond=lt;st.prototype.visitTimeMillisecond=lt;st.prototype.visitTimeMicrosecond=lt;st.prototype.visitTimeNanosecond=lt;st.prototype.visitDecimal=lt;st.prototype.visitList=lt;st.prototype.visitStruct=lt;st.prototype.visitUnion=lt;st.prototype.visitDenseUnion=lt;st.prototype.visitSparseUnion=lt;st.prototype.visitDictionary=lt;st.prototype.visitInterval=lt;st.prototype.visitIntervalDayTime=lt;st.prototype.visitIntervalYearMonth=lt;st.prototype.visitDuration=lt;st.prototype.visitDurationSecond=lt;st.prototype.visitDurationMillisecond=lt;st.prototype.visitDurationMicrosecond=lt;st.prototype.visitDurationNanosecond=lt;st.prototype.visitFixedSizeList=lt;st.prototype.visitMap=lt;Xn.instance=new st;var NT;function Qo(){if(NT)return pd;NT=1;var t;Object.defineProperty(pd,"__esModule",{value:!0}),pd.makeVector=pd.Vector=void 0;const e=xa,a=dy(),o=fe,r=Xs(),i=ma,s=Yu(),n=Jr(),d=dS(),c=Xn,l={},m={};class u{constructor(y){var b,_,S;const x=y[0]instanceof u?y.flatMap(A=>A.data):y;if(x.length===0||x.some(A=>!(A instanceof r.Data)))throw new TypeError("Vector constructor expects an Array of Data instances.");const w=(b=x[0])===null||b===void 0?void 0:b.type;switch(x.length){case 0:this._offsets=[0];break;case 1:{const{get:A,set:T,indexOf:O}=l[w.typeId],I=x[0];this.isValid=U=>(0,i.isChunkedValid)(I,U),this.get=U=>A(I,U),this.set=(U,B)=>T(I,U,B),this.indexOf=U=>O(I,U),this._offsets=[0,I.length];break}default:Object.setPrototypeOf(this,m[w.typeId]),this._offsets=(0,i.computeChunkOffsets)(x);break}this.data=x,this.type=w,this.stride=(0,o.strideForType)(w),this.numChildren=(S=(_=w.children)===null||_===void 0?void 0:_.length)!==null&&S!==void 0?S:0,this.length=this._offsets.at(-1)}get byteLength(){return this.data.reduce((y,b)=>y+b.byteLength,0)}get nullable(){return(0,i.computeChunkNullable)(this.data)}get nullCount(){return(0,i.computeChunkNullCounts)(this.data)}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${e.Type[this.type.typeId]}Vector`}isValid(y){return!1}get(y){return null}set(y,b){}indexOf(y,b){return-1}includes(y,b){return this.indexOf(y,b)>-1}[Symbol.iterator](){return c.instance.visit(this)}concat(...y){return new u(this.data.concat(y.flatMap(b=>b.data).flat(Number.POSITIVE_INFINITY)))}slice(y,b){return new u((0,a.clampRange)(this,y,b,({data:_,_offsets:S},x,w)=>(0,i.sliceChunks)(_,S,x,w)))}toJSON(){return[...this]}toArray(){const{type:y,data:b,length:_,stride:S,ArrayType:x}=this;switch(y.typeId){case e.Type.Int:case e.Type.Float:case e.Type.Decimal:case e.Type.Time:case e.Type.Timestamp:switch(b.length){case 0:return new x;case 1:return b[0].values.subarray(0,_*S);default:return b.reduce((w,{values:A,length:T})=>(w.array.set(A.subarray(0,T*S),w.offset),w.offset+=T*S,w),{array:new x(_*S),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(y){var b;return this.getChildAt((b=this.type.children)===null||b===void 0?void 0:b.findIndex(_=>_.name===y))}getChildAt(y){return y>-1&&y<this.numChildren?new u(this.data.map(({children:b})=>b[y])):null}get isMemoized(){return o.DataType.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(o.DataType.isDictionary(this.type)){const y=new v(this.data[0].dictionary),b=this.data.map(_=>{const S=_.clone();return S.dictionary=y,S});return new u(b)}return new v(this)}unmemoize(){if(o.DataType.isDictionary(this.type)&&this.isMemoized){const y=this.data[0].dictionary.unmemoize(),b=this.data.map(_=>{const S=_.clone();return S.dictionary=y,S});return new u(b)}return this}}pd.Vector=u,t=Symbol.toStringTag,u[t]=(h=>{h.type=o.DataType.prototype,h.data=[],h.length=0,h.stride=1,h.numChildren=0,h._offsets=new Uint32Array([0]),h[Symbol.isConcatSpreadable]=!0;const y=Object.keys(e.Type).map(b=>e.Type[b]).filter(b=>typeof b=="number"&&b!==e.Type.NONE);for(const b of y){const _=s.instance.getVisitFnByTypeId(b),S=n.instance.getVisitFnByTypeId(b),x=d.instance.getVisitFnByTypeId(b);l[b]={get:_,set:S,indexOf:x},m[b]=Object.create(h,{isValid:{value:(0,i.wrapChunkedCall1)(i.isChunkedValid)},get:{value:(0,i.wrapChunkedCall1)(s.instance.getVisitFnByTypeId(b))},set:{value:(0,i.wrapChunkedCall2)(n.instance.getVisitFnByTypeId(b))},indexOf:{value:(0,i.wrapChunkedIndexOf)(d.instance.getVisitFnByTypeId(b))}})}return"Vector"})(u.prototype);class v extends u{constructor(y){super(y.data);const b=this.get,_=this.set,S=this.slice,x=new Array(this.length);Object.defineProperty(this,"get",{value(w){const A=x[w];if(A!==void 0)return A;const T=b.call(this,w);return x[w]=T,T}}),Object.defineProperty(this,"set",{value(w,A){_.call(this,w,A),x[w]=A}}),Object.defineProperty(this,"slice",{value:(w,A)=>new v(S.call(this,w,A))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new u(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}const g=fe;function f(h){if(h){if(h instanceof r.Data)return new u([h]);if(h instanceof u)return new u(h.data);if(h.type instanceof o.DataType)return new u([(0,r.makeData)(h)]);if(Array.isArray(h))return new u(h.flatMap(y=>p(y)));if(ArrayBuffer.isView(h)){h instanceof DataView&&(h=new Uint8Array(h.buffer));const y={offset:0,length:h.length,nullCount:0,data:h};if(h instanceof Int8Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Int8}))]);if(h instanceof Int16Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Int16}))]);if(h instanceof Int32Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Int32}))]);if(h instanceof BigInt64Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Int64}))]);if(h instanceof Uint8Array||h instanceof Uint8ClampedArray)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Uint8}))]);if(h instanceof Uint16Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Uint16}))]);if(h instanceof Uint32Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Uint32}))]);if(h instanceof BigUint64Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Uint64}))]);if(h instanceof Float32Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Float32}))]);if(h instanceof Float64Array)return new u([(0,r.makeData)(Object.assign(Object.assign({},y),{type:new g.Float64}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}pd.makeVector=f;function p(h){return h instanceof r.Data?[h]:h instanceof u?h.data:f(h).data}return pd}var ly={};Object.defineProperty(ly,"__esModule",{value:!0});ly.createIsValidFunction=void 0;const jT=Oc;function HJ(t){if(!t||t.length<=0)return function(r){return!0};let e="";const a=t.filter(o=>o===o);return a.length>0&&(e=`
    switch (x) {${a.map(o=>`
        case ${WJ(o)}:`).join("")}
            return false;
    }`),t.length!==a.length&&(e=`if (x !== x) return false;
${e}`),new Function("x",`${e}
return true;`)}ly.createIsValidFunction=HJ;function WJ(t){return typeof t!="bigint"?(0,jT.valueToString)(t):`${(0,jT.valueToString)(t)}n`}var lo={};Object.defineProperty(lo,"__esModule",{value:!0});lo.OffsetsBufferBuilder=lo.BitmapBufferBuilder=lo.DataBufferBuilder=lo.BufferBuilder=void 0;const GJ=Oe;function Fb(t,e){const a=Math.ceil(t)*e-1;return(a-a%64+64||64)/e}function FT(t,e=0){return t.length>=e?t.subarray(0,e):(0,GJ.memcpy)(new t.constructor(e),t,0)}class gq{constructor(e,a=0,o=1){this.length=Math.ceil(a/o),this.buffer=new e(this.length),this.stride=o,this.BYTES_PER_ELEMENT=e.BYTES_PER_ELEMENT,this.ArrayType=e}get byteLength(){return Math.ceil(this.length*this.stride)*this.BYTES_PER_ELEMENT}get reservedLength(){return this.buffer.length/this.stride}get reservedByteLength(){return this.buffer.byteLength}set(e,a){return this}append(e){return this.set(this.length,e)}reserve(e){if(e>0){this.length+=e;const a=this.stride,o=this.length*a,r=this.buffer.length;o>=r&&this._resize(r===0?Fb(o*1,this.BYTES_PER_ELEMENT):Fb(o*2,this.BYTES_PER_ELEMENT))}return this}flush(e=this.length){e=Fb(e*this.stride,this.BYTES_PER_ELEMENT);const a=FT(this.buffer,e);return this.clear(),a}clear(){return this.length=0,this.buffer=new this.ArrayType,this}_resize(e){return this.buffer=FT(this.buffer,e)}}lo.BufferBuilder=gq;class cS extends gq{last(){return this.get(this.length-1)}get(e){return this.buffer[e]}set(e,a){return this.reserve(e-this.length+1),this.buffer[e*this.stride]=a,this}}lo.DataBufferBuilder=cS;class YJ extends cS{constructor(){super(Uint8Array,0,1/8),this.numValid=0}get numInvalid(){return this.length-this.numValid}get(e){return this.buffer[e>>3]>>e%8&1}set(e,a){const{buffer:o}=this.reserve(e-this.length+1),r=e>>3,i=e%8,s=o[r]>>i&1;return a?s===0&&(o[r]|=1<<i,++this.numValid):s===1&&(o[r]&=~(1<<i),--this.numValid),this}clear(){return this.numValid=0,super.clear()}}lo.BitmapBufferBuilder=YJ;class ZJ extends cS{constructor(e){super(e.OffsetArrayType,1,1)}append(e){return this.set(this.length-1,e)}set(e,a){const o=this.length-1,r=this.reserve(e-o+1).buffer;return o<e++&&o>=0&&r.fill(r[o],o,e),r[e]=r[e-1]+a,this}flush(e=this.length-1){return e>this.length&&this.set(e-1,this.BYTES_PER_ELEMENT>4?BigInt(0):0),super.flush(e+1)}}lo.OffsetsBufferBuilder=ZJ;Object.defineProperty(Gt,"__esModule",{value:!0});Gt.VariableWidthBuilder=Gt.FixedWidthBuilder=Gt.Builder=void 0;const KJ=Qo(),QJ=Xs(),zT=ny(),XJ=fe,JJ=ly,lS=lo;let Js=class{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e){throw new Error('"throughDOM" not available in this environment')}constructor({type:e,nullValues:a}){this.length=0,this.finished=!1,this.type=e,this.children=[],this.nullValues=a,this.stride=(0,XJ.strideForType)(e),this._nulls=new lS.BitmapBufferBuilder,a&&a.length>0&&(this._isValid=(0,JJ.createIsValidFunction)(a))}toVector(){return new KJ.Vector([this.flush()])}get ArrayType(){return this.type.ArrayType}get nullCount(){return this._nulls.numInvalid}get numChildren(){return this.children.length}get byteLength(){let e=0;const{_offsets:a,_values:o,_nulls:r,_typeIds:i,children:s}=this;return a&&(e+=a.byteLength),o&&(e+=o.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),s.reduce((n,d)=>n+d.byteLength,e)}get reservedLength(){return this._nulls.reservedLength}get reservedByteLength(){let e=0;return this._offsets&&(e+=this._offsets.reservedByteLength),this._values&&(e+=this._values.reservedByteLength),this._nulls&&(e+=this._nulls.reservedByteLength),this._typeIds&&(e+=this._typeIds.reservedByteLength),this.children.reduce((a,o)=>a+o.reservedByteLength,e)}get valueOffsets(){return this._offsets?this._offsets.buffer:null}get values(){return this._values?this._values.buffer:null}get nullBitmap(){return this._nulls?this._nulls.buffer:null}get typeIds(){return this._typeIds?this._typeIds.buffer:null}append(e){return this.set(this.length,e)}isValid(e){return this._isValid(e)}set(e,a){return this.setValid(e,this.isValid(a))&&this.setValue(e,a),this}setValue(e,a){this._setValue(this,e,a)}setValid(e,a){return this.length=this._nulls.set(e,+a).length,a}addChild(e,a=`${this.numChildren}`){throw new Error(`Cannot append children to non-nested type "${this.type}"`)}getChildAt(e){return this.children[e]||null}flush(){let e,a,o,r;const{type:i,length:s,nullCount:n,_typeIds:d,_offsets:c,_values:l,_nulls:m}=this;(a=d==null?void 0:d.flush(s))?r=c==null?void 0:c.flush(s):(r=c==null?void 0:c.flush(s))?e=l==null?void 0:l.flush(c.last()):e=l==null?void 0:l.flush(s),n>0&&(o=m==null?void 0:m.flush(s));const u=this.children.map(v=>v.flush());return this.clear(),(0,QJ.makeData)({type:i,length:s,nullCount:n,children:u,child:u[0],data:e,typeIds:a,nullBitmap:o,valueOffsets:r})}finish(){this.finished=!0;for(const e of this.children)e.finish();return this}clear(){var e,a,o,r;this.length=0,(e=this._nulls)===null||e===void 0||e.clear(),(a=this._values)===null||a===void 0||a.clear(),(o=this._offsets)===null||o===void 0||o.clear(),(r=this._typeIds)===null||r===void 0||r.clear();for(const i of this.children)i.clear();return this}};Gt.Builder=Js;Js.prototype.length=1;Js.prototype.stride=1;Js.prototype.children=null;Js.prototype.finished=!1;Js.prototype.nullValues=null;Js.prototype._isValid=()=>!0;class eee extends Js{constructor(e){super(e),this._values=new lS.DataBufferBuilder(this.ArrayType,0,this.stride)}setValue(e,a){const o=this._values;return o.reserve(e-o.length+1),super.setValue(e,a)}}Gt.FixedWidthBuilder=eee;class tee extends Js{constructor(e){super(e),this._pendingLength=0,this._offsets=new lS.OffsetsBufferBuilder(e.type)}setValue(e,a){const o=this._pending||(this._pending=new Map),r=o.get(e);r&&(this._pendingLength-=r.length),this._pendingLength+=a instanceof zT.MapRow?a[zT.kKeys].length:a.length,o.set(e,a)}setValid(e,a){return super.setValid(e,a)?!0:((this._pending||(this._pending=new Map)).set(e,void 0),!1)}clear(){return this._pendingLength=0,this._pending=void 0,super.clear()}flush(){return this._flush(),super.flush()}finish(){return this._flush(),super.finish()}_flush(){const e=this._pending,a=this._pendingLength;return this._pendingLength=0,this._pending=void 0,e&&e.size>0&&this._flushPending(e,a),this}}Gt.VariableWidthBuilder=tee;var Ro={},fc={},Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.Block=void 0;class aee{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,a,o,r){return e.prep(8,24),e.writeInt64(BigInt(r??0)),e.pad(4),e.writeInt32(o),e.writeInt64(BigInt(a??0)),e.offset()}}Xf.Block=aee;var uy={};Object.defineProperty(uy,"__esModule",{value:!0});uy.Footer=void 0;const oee=St,BT=Xf,ree=ud,kT=Pu,iee=Nu;class o0{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsFooter(e,a){return(a||new o0).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,a){return e.setPosition(e.position()+oee.SIZE_PREFIX_LENGTH),(a||new o0).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):kT.MetadataVersion.V1}schema(e){const a=this.bb.__offset(this.bb_pos,6);return a?(e||new iee.Schema).__init(this.bb.__indirect(this.bb_pos+a),this.bb):null}dictionaries(e,a){const o=this.bb.__offset(this.bb_pos,8);return o?(a||new BT.Block).__init(this.bb.__vector(this.bb_pos+o)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,a){const o=this.bb.__offset(this.bb_pos,10);return o?(a||new BT.Block).__init(this.bb.__vector(this.bb_pos+o)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,a){const o=this.bb.__offset(this.bb_pos,12);return o?(a||new ree.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,a){e.addFieldInt16(0,a,kT.MetadataVersion.V1)}static addSchema(e,a){e.addFieldOffset(1,a,0)}static addDictionaries(e,a){e.addFieldOffset(2,a,0)}static startDictionariesVector(e,a){e.startVector(24,a,8)}static addRecordBatches(e,a){e.addFieldOffset(3,a,0)}static startRecordBatchesVector(e,a){e.startVector(24,a,8)}static addCustomMetadata(e,a){e.addFieldOffset(4,a,0)}static createCustomMetadataVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startCustomMetadataVector(e,a){e.startVector(4,a,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,a){e.finish(a)}static finishSizePrefixedFooterBuffer(e,a){e.finish(a,void 0,!0)}}uy.Footer=o0;var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.Field=ro.Schema=void 0;const see=xa,nee=fe;class mi{constructor(e=[],a,o,r=see.MetadataVersion.V5){this.fields=e||[],this.metadata=a||new Map,o||(o=O3(e)),this.dictionaries=o,this.metadataVersion=r}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,a)=>`${a}: ${e}`).join(", ")} }>`}select(e){const a=new Set(e),o=this.fields.filter(r=>a.has(r.name));return new mi(o,this.metadata)}selectAt(e){const a=e.map(o=>this.fields[o]).filter(Boolean);return new mi(a,this.metadata)}assign(...e){const a=e[0]instanceof mi?e[0]:Array.isArray(e[0])?new mi(e[0]):new mi(e),o=[...this.fields],r=Qh(Qh(new Map,this.metadata),a.metadata),i=a.fields.filter(n=>{const d=o.findIndex(c=>c.name===n.name);return~d?(o[d]=n.clone({metadata:Qh(Qh(new Map,o[d].metadata),n.metadata)}))&&!1:!0}),s=O3(i,new Map);return new mi([...o,...i],r,new Map([...this.dictionaries,...s]))}}ro.Schema=mi;mi.prototype.fields=null;mi.prototype.metadata=null;mi.prototype.dictionaries=null;class Jn{static new(...e){let[a,o,r,i]=e;return e[0]&&typeof e[0]=="object"&&({name:a}=e[0],o===void 0&&(o=e[0].type),r===void 0&&(r=e[0].nullable),i===void 0&&(i=e[0].metadata)),new Jn(`${a}`,o,r,i)}constructor(e,a,o=!1,r){this.name=e,this.type=a,this.nullable=o,this.metadata=r||new Map}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[a,o,r,i]=e;return!e[0]||typeof e[0]!="object"?[a=this.name,o=this.type,r=this.nullable,i=this.metadata]=e:{name:a=this.name,type:o=this.type,nullable:r=this.nullable,metadata:i=this.metadata}=e[0],Jn.new(a,o,r,i)}}ro.Field=Jn;Jn.prototype.type=null;Jn.prototype.name=null;Jn.prototype.nullable=null;Jn.prototype.metadata=null;function Qh(t,e){return new Map([...t||new Map,...e||new Map])}function O3(t,e=new Map){for(let a=-1,o=t.length;++a<o;){const i=t[a].type;if(nee.DataType.isDictionary(i)){if(!e.has(i.id))e.set(i.id,i.dictionary);else if(e.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}i.children&&i.children.length>0&&O3(i.children,e)}return e}Object.defineProperty(fc,"__esModule",{value:!0});fc.FileBlock=fc.Footer=void 0;const dee=Xf,Pi=uy,yq=St;var cee=yq.Builder,lee=yq.ByteBuffer;const UT=ro,VT=xa,uee=Oe,$T=Qs;class bq{static decode(e){e=new lee((0,uee.toUint8Array)(e));const a=Pi.Footer.getRootAsFooter(e),o=UT.Schema.decode(a.schema(),new Map,a.version());return new mee(o,a)}static encode(e){const a=new cee,o=UT.Schema.encode(a,e.schema);Pi.Footer.startRecordBatchesVector(a,e.numRecordBatches);for(const s of[...e.recordBatches()].slice().reverse())hc.encode(a,s);const r=a.endVector();Pi.Footer.startDictionariesVector(a,e.numDictionaries);for(const s of[...e.dictionaryBatches()].slice().reverse())hc.encode(a,s);const i=a.endVector();return Pi.Footer.startFooter(a),Pi.Footer.addSchema(a,o),Pi.Footer.addVersion(a,VT.MetadataVersion.V5),Pi.Footer.addRecordBatches(a,r),Pi.Footer.addDictionaries(a,i),Pi.Footer.finishFooterBuffer(a,Pi.Footer.endFooter(a)),a.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}constructor(e,a=VT.MetadataVersion.V5,o,r){this.schema=e,this.version=a,o&&(this._recordBatches=o),r&&(this._dictionaryBatches=r)}*recordBatches(){for(let e,a=-1,o=this.numRecordBatches;++a<o;)(e=this.getRecordBatch(a))&&(yield e)}*dictionaryBatches(){for(let e,a=-1,o=this.numDictionaries;++a<o;)(e=this.getDictionaryBatch(a))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}fc.Footer=bq;class mee extends bq{get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}constructor(e,a){super(e,a.version()),this._footer=a}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const a=this._footer.recordBatches(e);if(a)return hc.decode(a)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const a=this._footer.dictionaries(e);if(a)return hc.decode(a)}return null}}class hc{static decode(e){return new hc(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,a){const{metaDataLength:o}=a,r=BigInt(a.offset),i=BigInt(a.bodyLength);return dee.Block.createBlock(e,r,o,i)}constructor(e,a,o){this.metaDataLength=e,this.offset=(0,$T.bigIntToNumber)(o),this.bodyLength=(0,$T.bigIntToNumber)(a)}}fc.FileBlock=hc;var Go={},Jf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncQueue=t.ReadableInterop=t.ArrowJSON=t.ITERATOR_DONE=void 0;const e=wr,a=qu;t.ITERATOR_DONE=Object.freeze({done:!0,value:void 0});class o{constructor(n){this._json=n}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}t.ArrowJSON=o;class r{tee(){return this._getDOMStream().tee()}pipe(n,d){return this._getNodeStream().pipe(n,d)}pipeTo(n,d){return this._getDOMStream().pipeTo(n,d)}pipeThrough(n,d){return this._getDOMStream().pipeThrough(n,d)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}t.ReadableInterop=r;class i extends r{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(n=>this._closedPromiseResolve=n)}get closed(){return this._closedPromise}cancel(n){return e.__awaiter(this,void 0,void 0,function*(){yield this.return(n)})}write(n){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(n):this.resolvers.shift().resolve({done:!1,value:n}))}abort(n){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:n}:this.resolvers.shift().reject({done:!0,value:n}))}close(){if(this._closedPromiseResolve){const{resolvers:n}=this;for(;n.length>0;)n.shift().resolve(t.ITERATOR_DONE);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(n){return a.default.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,n)}toNodeStream(n){return a.default.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,n)}throw(n){return e.__awaiter(this,void 0,void 0,function*(){return yield this.abort(n),t.ITERATOR_DONE})}return(n){return e.__awaiter(this,void 0,void 0,function*(){return yield this.close(),t.ITERATOR_DONE})}read(n){return e.__awaiter(this,void 0,void 0,function*(){return(yield this.next(n,"read")).value})}peek(n){return e.__awaiter(this,void 0,void 0,function*(){return(yield this.next(n,"peek")).value})}next(...n){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((d,c)=>{this.resolvers.push({resolve:d,reject:c})}):Promise.resolve(t.ITERATOR_DONE)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}t.AsyncQueue=i})(Jf);Object.defineProperty(Go,"__esModule",{value:!0});Go.AsyncByteStream=Go.ByteStream=Go.AsyncByteQueue=void 0;const Dn=wr,wn=qu,HT=Gr,ef=Jf,zb=Oe,Uc=ld;class _q extends ef.AsyncQueue{write(e){if((e=(0,zb.toUint8Array)(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?(0,HT.decodeUtf8)(this.toUint8Array(!0)):this.toUint8Array(!1).then(HT.decodeUtf8)}toUint8Array(e=!1){return e?(0,zb.joinUint8Arrays)(this._values)[0]:Dn.__awaiter(this,void 0,void 0,function*(){var a,o,r,i;const s=[];let n=0;try{for(var d=!0,c=Dn.__asyncValues(this),l;l=yield c.next(),a=l.done,!a;d=!0){i=l.value,d=!1;const m=i;s.push(m),n+=m.byteLength}}catch(m){o={error:m}}finally{try{!d&&!a&&(r=c.return)&&(yield r.call(c))}finally{if(o)throw o.error}}return(0,zb.joinUint8Arrays)(s,n)[0]})}}Go.AsyncByteQueue=_q;class pee{constructor(e){e&&(this.source=new fee(wn.default.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}Go.ByteStream=pee;class uS{constructor(e){e instanceof uS?this.source=e.source:e instanceof _q?this.source=new hd(wn.default.fromAsyncIterable(e)):(0,Uc.isReadableNodeStream)(e)?this.source=new hd(wn.default.fromNodeStream(e)):(0,Uc.isReadableDOMStream)(e)?this.source=new hd(wn.default.fromDOMStream(e)):(0,Uc.isFetchResponse)(e)?this.source=new hd(wn.default.fromDOMStream(e.body)):(0,Uc.isIterable)(e)?this.source=new hd(wn.default.fromIterable(e)):(0,Uc.isPromise)(e)?this.source=new hd(wn.default.fromAsyncIterable(e)):(0,Uc.isAsyncIterable)(e)&&(this.source=new hd(wn.default.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}Go.AsyncByteStream=uS;class fee{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,a="read"){return this.source.next({cmd:a,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||ef.ITERATOR_DONE)}return(e){return Object.create(this.source.return&&this.source.return(e)||ef.ITERATOR_DONE)}}class hd{constructor(e){this.source=e,this._closedPromise=new Promise(a=>this._closedPromiseResolve=a)}cancel(e){return Dn.__awaiter(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return Dn.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return Dn.__awaiter(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,a="read"){return Dn.__awaiter(this,void 0,void 0,function*(){return yield this.source.next({cmd:a,size:e})})}throw(e){return Dn.__awaiter(this,void 0,void 0,function*(){const a=this.source.throw&&(yield this.source.throw(e))||ef.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(a)})}return(e){return Dn.__awaiter(this,void 0,void 0,function*(){const a=this.source.return&&(yield this.source.return(e))||ef.ITERATOR_DONE;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(a)})}}var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.AsyncRandomAccessFile=vc.RandomAccessFile=void 0;const ln=wr,xq=Go,hee=Oe;class vee extends xq.ByteStream{constructor(e,a){super(),this.position=0,this.buffer=(0,hee.toUint8Array)(e),this.size=a===void 0?this.buffer.byteLength:a}readInt32(e){const{buffer:a,byteOffset:o}=this.readAt(e,4);return new DataView(a,o).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:a,size:o,position:r}=this;return a&&r<o?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(o,r+Math.min(o-r,e)),a.subarray(r,this.position)):null}readAt(e,a){const o=this.buffer,r=Math.min(this.size,e+a);return o?o.subarray(e,r):new Uint8Array(a)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}vc.RandomAccessFile=vee;class gee extends xq.AsyncByteStream{constructor(e,a){super(),this.position=0,this._handle=e,typeof a=="number"?this.size=a:this._pending=ln.__awaiter(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return ln.__awaiter(this,void 0,void 0,function*(){const{buffer:a,byteOffset:o}=yield this.readAt(e,4);return new DataView(a,o).getInt32(0,!0)})}seek(e){return ln.__awaiter(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return ln.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:a,size:o,position:r}=this;if(a&&r<o){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let i=r,s=0,n=0;const d=Math.min(o,i+Math.min(o-i,e)),c=new Uint8Array(Math.max(0,(this.position=d)-i));for(;(i+=n)<d&&(s+=n)<c.byteLength;)({bytesRead:n}=yield a.read(c,s,c.byteLength-s,i));return c}return null})}readAt(e,a){return ln.__awaiter(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:o,size:r}=this;if(o&&e+a<r){const i=Math.min(r,e+a),s=new Uint8Array(i-e);return(yield o.read(s,0,a,e)).buffer}return new Uint8Array(a)})}close(){return ln.__awaiter(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return ln.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return ln.__awaiter(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}vc.AsyncRandomAccessFile=gee;var uu={},hi={};Object.defineProperty(hi,"__esModule",{value:!0});hi.Int128=hi.Int64=hi.Uint64=hi.BaseInt64=void 0;const yee=65536;function Ll(t){return t<0&&(t=4294967295+t+1),`0x${t.toString(16)}`}const mu=8,mS=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class pS{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const a=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),o=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let r=a[3]*o[3];this.buffer[0]=r&65535;let i=r>>>16;return r=a[2]*o[3],i+=r,r=a[3]*o[2]>>>0,i+=r,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<r?yee:0,this.buffer[1]+=i>>>16,this.buffer[1]+=a[1]*o[3]+a[2]*o[2]+a[3]*o[1],this.buffer[1]+=a[0]*o[3]+a[1]*o[2]+a[2]*o[1]+a[3]*o[0]<<16,this}_plus(e){const a=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],a<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=a}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${Ll(this.buffer[1])} ${Ll(this.buffer[0])}`}}hi.BaseInt64=pS;class Wt extends pS{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,a=new Uint32Array(2)){return Wt.fromString(typeof e=="string"?e:e.toString(),a)}static fromNumber(e,a=new Uint32Array(2)){return Wt.fromString(e.toString(),a)}static fromString(e,a=new Uint32Array(2)){const o=e.length,r=new Wt(a);for(let i=0;i<o;){const s=mu<o-i?mu:o-i,n=new Wt(new Uint32Array([Number.parseInt(e.slice(i,i+s),10),0])),d=new Wt(new Uint32Array([mS[s],0]));r.times(d),r.plus(n),i+=s}return r}static convertArray(e){const a=new Uint32Array(e.length*2);for(let o=-1,r=e.length;++o<r;)Wt.from(e[o],new Uint32Array(a.buffer,a.byteOffset+2*o*4,2));return a}static multiply(e,a){return new Wt(new Uint32Array(e.buffer)).times(a)}static add(e,a){return new Wt(new Uint32Array(e.buffer)).plus(a)}}hi.Uint64=Wt;class Dr extends pS{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const a=this.buffer[1]<<0,o=e.buffer[1]<<0;return a<o||a===o&&this.buffer[0]<e.buffer[0]}static from(e,a=new Uint32Array(2)){return Dr.fromString(typeof e=="string"?e:e.toString(),a)}static fromNumber(e,a=new Uint32Array(2)){return Dr.fromString(e.toString(),a)}static fromString(e,a=new Uint32Array(2)){const o=e.startsWith("-"),r=e.length,i=new Dr(a);for(let s=o?1:0;s<r;){const n=mu<r-s?mu:r-s,d=new Dr(new Uint32Array([Number.parseInt(e.slice(s,s+n),10),0])),c=new Dr(new Uint32Array([mS[n],0]));i.times(c),i.plus(d),s+=n}return o?i.negate():i}static convertArray(e){const a=new Uint32Array(e.length*2);for(let o=-1,r=e.length;++o<r;)Dr.from(e[o],new Uint32Array(a.buffer,a.byteOffset+2*o*4,2));return a}static multiply(e,a){return new Dr(new Uint32Array(e.buffer)).times(a)}static add(e,a){return new Dr(new Uint32Array(e.buffer)).plus(a)}}hi.Int64=Dr;class Bi{constructor(e){this.buffer=e}high(){return new Dr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Dr(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const a=new Wt(new Uint32Array([this.buffer[3],0])),o=new Wt(new Uint32Array([this.buffer[2],0])),r=new Wt(new Uint32Array([this.buffer[1],0])),i=new Wt(new Uint32Array([this.buffer[0],0])),s=new Wt(new Uint32Array([e.buffer[3],0])),n=new Wt(new Uint32Array([e.buffer[2],0])),d=new Wt(new Uint32Array([e.buffer[1],0])),c=new Wt(new Uint32Array([e.buffer[0],0]));let l=Wt.multiply(i,c);this.buffer[0]=l.low();const m=new Wt(new Uint32Array([l.high(),0]));return l=Wt.multiply(r,c),m.plus(l),l=Wt.multiply(i,d),m.plus(l),this.buffer[1]=m.low(),this.buffer[3]=m.lessThan(l)?1:0,this.buffer[2]=m.high(),new Wt(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Wt.multiply(o,c)).plus(Wt.multiply(r,d)).plus(Wt.multiply(i,n)),this.buffer[3]+=Wt.multiply(a,c).plus(Wt.multiply(o,d)).plus(Wt.multiply(r,n)).plus(Wt.multiply(i,s)).low(),this}plus(e){const a=new Uint32Array(4);return a[3]=this.buffer[3]+e.buffer[3]>>>0,a[2]=this.buffer[2]+e.buffer[2]>>>0,a[1]=this.buffer[1]+e.buffer[1]>>>0,a[0]=this.buffer[0]+e.buffer[0]>>>0,a[0]<this.buffer[0]>>>0&&++a[1],a[1]<this.buffer[1]>>>0&&++a[2],a[2]<this.buffer[2]>>>0&&++a[3],this.buffer[3]=a[3],this.buffer[2]=a[2],this.buffer[1]=a[1],this.buffer[0]=a[0],this}hex(){return`${Ll(this.buffer[3])} ${Ll(this.buffer[2])} ${Ll(this.buffer[1])} ${Ll(this.buffer[0])}`}static multiply(e,a){return new Bi(new Uint32Array(e.buffer)).times(a)}static add(e,a){return new Bi(new Uint32Array(e.buffer)).plus(a)}static from(e,a=new Uint32Array(4)){return Bi.fromString(typeof e=="string"?e:e.toString(),a)}static fromNumber(e,a=new Uint32Array(4)){return Bi.fromString(e.toString(),a)}static fromString(e,a=new Uint32Array(4)){const o=e.startsWith("-"),r=e.length,i=new Bi(a);for(let s=o?1:0;s<r;){const n=mu<r-s?mu:r-s,d=new Bi(new Uint32Array([Number.parseInt(e.slice(s,s+n),10),0,0,0])),c=new Bi(new Uint32Array([mS[n],0,0,0]));i.times(c),i.plus(d),s+=n}return o?i.negate():i}static convertArray(e){const a=new Uint32Array(e.length*4);for(let o=-1,r=e.length;++o<r;)Bi.from(e[o],new Uint32Array(a.buffer,a.byteOffset+4*4*o,4));return a}}hi.Int128=Bi;Object.defineProperty(uu,"__esModule",{value:!0});uu.JSONVectorLoader=uu.VectorLoader=void 0;const wa=Xs(),bee=ro,Mr=fe,_ee=Ao,WT=da,xee=Gr,Xh=hi,og=xa,Li=Oe;class wq extends _ee.Visitor{constructor(e,a,o,r,i=og.MetadataVersion.V5){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=a,this.buffers=o,this.dictionaries=r,this.metadataVersion=i}visit(e){return super.visit(e instanceof bee.Field?e.type:e)}visitNull(e,{length:a}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a})}visitBool(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitInt(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitFloat(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitUtf8(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeUtf8(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitLargeBinary(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitDate(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitTimestamp(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitTime(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitDecimal(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitList(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),children:this.visitMany(e.children)})}visitUnion(e,{length:a,nullCount:o}=this.nextFieldNode()){return this.metadataVersion<og.MetadataVersion.V5&&this.readNullBitmap(e,o),e.mode===og.UnionMode.Sparse?this.visitSparseUnion(e,{length:a,nullCount:o}):this.visitDenseUnion(e,{length:a,nullCount:o})}visitDenseUnion(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitDuration(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),data:this.readData(e)})}visitFixedSizeList(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),child:this.visit(e.children[0])})}visitMap(e,{length:a,nullCount:o}=this.nextFieldNode()){return(0,wa.makeData)({type:e,length:a,nullCount:o,nullBitmap:this.readNullBitmap(e,o),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,a,o=this.nextBufferRange()){return a>0&&this.readData(e,o)||new Uint8Array(0)}readOffsets(e,a){return this.readData(e,a)}readTypeIds(e,a){return this.readData(e,a)}readData(e,{length:a,offset:o}=this.nextBufferRange()){return this.bytes.subarray(o,o+a)}readDictionary(e){return this.dictionaries.get(e.id)}}uu.VectorLoader=wq;class wee extends wq{constructor(e,a,o,r,i){super(new Uint8Array(0),a,o,r,i),this.sources=e}readNullBitmap(e,a,{offset:o}=this.nextBufferRange()){return a<=0?new Uint8Array(0):(0,WT.packBools)(this.sources[o])}readOffsets(e,{offset:a}=this.nextBufferRange()){return(0,Li.toArrayBufferView)(Uint8Array,(0,Li.toArrayBufferView)(e.OffsetArrayType,this.sources[a]))}readTypeIds(e,{offset:a}=this.nextBufferRange()){return(0,Li.toArrayBufferView)(Uint8Array,(0,Li.toArrayBufferView)(e.ArrayType,this.sources[a]))}readData(e,{offset:a}=this.nextBufferRange()){const{sources:o}=this;return Mr.DataType.isTimestamp(e)||(Mr.DataType.isInt(e)||Mr.DataType.isTime(e))&&e.bitWidth===64||Mr.DataType.isDuration(e)||Mr.DataType.isDate(e)&&e.unit===og.DateUnit.MILLISECOND?(0,Li.toArrayBufferView)(Uint8Array,Xh.Int64.convertArray(o[a])):Mr.DataType.isDecimal(e)?(0,Li.toArrayBufferView)(Uint8Array,Xh.Int128.convertArray(o[a])):Mr.DataType.isBinary(e)||Mr.DataType.isLargeBinary(e)||Mr.DataType.isFixedSizeBinary(e)?See(o[a]):Mr.DataType.isBool(e)?(0,WT.packBools)(o[a]):Mr.DataType.isUtf8(e)||Mr.DataType.isLargeUtf8(e)?(0,xee.encodeUtf8)(o[a].join("")):(0,Li.toArrayBufferView)(Uint8Array,(0,Li.toArrayBufferView)(e.ArrayType,o[a].map(r=>+r)))}}uu.JSONVectorLoader=wee;function See(t){const e=t.join(""),a=new Uint8Array(e.length/2);for(let o=0;o<e.length;o+=2)a[o>>1]=Number.parseInt(e.slice(o,o+2),16);return a}var vd={},ls={},Jo={},gd={},Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.BinaryBuilder=void 0;const Aee=lo,Eee=Gt,Mee=Oe;class Tee extends Eee.VariableWidthBuilder{constructor(e){super(e),this._values=new Aee.BufferBuilder(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,a){return super.setValue(e,(0,Mee.toUint8Array)(a))}_flushPending(e,a){const o=this._offsets,r=this._values.reserve(a).buffer;let i=0;for(const[s,n]of e)if(n===void 0)o.set(s,0);else{const d=n.length;r.set(n,i),o.set(s,d),i+=d}}}Zu.BinaryBuilder=Tee;var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.LargeBinaryBuilder=void 0;const Cee=Oe,Ree=lo,Oee=Gt;class Iee extends Oee.VariableWidthBuilder{constructor(e){super(e),this._values=new Ree.BufferBuilder(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,a){return super.setValue(e,(0,Cee.toUint8Array)(a))}_flushPending(e,a){const o=this._offsets,r=this._values.reserve(a).buffer;let i=0;for(const[s,n]of e)if(n===void 0)o.set(s,BigInt(0));else{const d=n.length;r.set(n,i),o.set(s,BigInt(d)),i+=d}}}Ku.LargeBinaryBuilder=Iee;var eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.BoolBuilder=void 0;const Dee=lo,qee=Gt;class Pee extends qee.Builder{constructor(e){super(e),this._values=new Dee.BitmapBufferBuilder}setValue(e,a){this._values.set(e,+a)}}eh.BoolBuilder=Pee;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.DateMillisecondBuilder=qs.DateDayBuilder=qs.DateBuilder=void 0;const Lee=Gt,fS=Jr();class my extends Lee.FixedWidthBuilder{}qs.DateBuilder=my;my.prototype._setValue=fS.setDate;class Sq extends my{}qs.DateDayBuilder=Sq;Sq.prototype._setValue=fS.setDateDay;class Aq extends my{}qs.DateMillisecondBuilder=Aq;Aq.prototype._setValue=fS.setDateMillisecond;var th={};Object.defineProperty(th,"__esModule",{value:!0});th.DecimalBuilder=void 0;const Nee=Gt,jee=Jr();class Eq extends Nee.FixedWidthBuilder{}th.DecimalBuilder=Eq;Eq.prototype._setValue=jee.setDecimal;var Rm={},GT;function Mq(){if(GT)return Rm;GT=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.DictionaryBuilder=void 0;const t=fe,e=Gt,a=hy();class o extends e.Builder{constructor({type:i,nullValues:s,dictionaryHashFunction:n}){super({type:new t.Dictionary(i.dictionary,i.indices,i.id,i.isOrdered)}),this._nulls=null,this._dictionaryOffset=0,this._keysToIndices=Object.create(null),this.indices=(0,a.makeBuilder)({type:this.type.indices,nullValues:s}),this.dictionary=(0,a.makeBuilder)({type:this.type.dictionary,nullValues:null}),typeof n=="function"&&(this.valueToKey=n)}get values(){return this.indices.values}get nullCount(){return this.indices.nullCount}get nullBitmap(){return this.indices.nullBitmap}get byteLength(){return this.indices.byteLength+this.dictionary.byteLength}get reservedLength(){return this.indices.reservedLength+this.dictionary.reservedLength}get reservedByteLength(){return this.indices.reservedByteLength+this.dictionary.reservedByteLength}isValid(i){return this.indices.isValid(i)}setValid(i,s){const n=this.indices;return s=n.setValid(i,s),this.length=n.length,s}setValue(i,s){const n=this._keysToIndices,d=this.valueToKey(s);let c=n[d];return c===void 0&&(n[d]=c=this._dictionaryOffset+this.dictionary.append(s).length-1),this.indices.setValue(i,c)}flush(){const i=this.type,s=this._dictionary,n=this.dictionary.toVector(),d=this.indices.flush().clone(i);return d.dictionary=s?s.concat(n):n,this.finished||(this._dictionaryOffset+=n.length),this._dictionary=d.dictionary,this.clear(),d}finish(){return this.indices.finish(),this.dictionary.finish(),this._dictionaryOffset=0,this._keysToIndices=Object.create(null),super.finish()}clear(){return this.indices.clear(),this.dictionary.clear(),super.clear()}valueToKey(i){return typeof i=="string"?i:`${i}`}}return Rm.DictionaryBuilder=o,Rm}var ah={};Object.defineProperty(ah,"__esModule",{value:!0});ah.FixedSizeBinaryBuilder=void 0;const Fee=Gt,zee=Jr();class Tq extends Fee.FixedWidthBuilder{}ah.FixedSizeBinaryBuilder=Tq;Tq.prototype._setValue=zee.setFixedSizeBinary;var oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.FixedSizeListBuilder=void 0;const Bee=ro,kee=Gt,Uee=fe;class Vee extends kee.Builder{setValue(e,a){const[o]=this.children,r=e*this.stride;for(let i=-1,s=a.length;++i<s;)o.set(r+i,a[i])}addChild(e,a="0"){if(this.numChildren>0)throw new Error("FixedSizeListBuilder can only have one child.");const o=this.children.push(e);return this.type=new Uee.FixedSizeList(this.type.listSize,new Bee.Field(a,e.type,!0)),o}}oh.FixedSizeListBuilder=Vee;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.Float64Builder=vi.Float32Builder=vi.Float16Builder=vi.FloatBuilder=void 0;const $ee=$s,Hee=Gt;class py extends Hee.FixedWidthBuilder{setValue(e,a){this._values.set(e,a)}}vi.FloatBuilder=py;class Wee extends py{setValue(e,a){super.setValue(e,(0,$ee.float64ToUint16)(a))}}vi.Float16Builder=Wee;class Gee extends py{}vi.Float32Builder=Gee;class Yee extends py{}vi.Float64Builder=Yee;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});Ps.IntervalYearMonthBuilder=Ps.IntervalDayTimeBuilder=Ps.IntervalBuilder=void 0;const Zee=Gt,hS=Jr();class fy extends Zee.FixedWidthBuilder{}Ps.IntervalBuilder=fy;fy.prototype._setValue=hS.setIntervalValue;class Cq extends fy{}Ps.IntervalDayTimeBuilder=Cq;Cq.prototype._setValue=hS.setIntervalDayTime;class Rq extends fy{}Ps.IntervalYearMonthBuilder=Rq;Rq.prototype._setValue=hS.setIntervalYearMonth;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.DurationNanosecondBuilder=nr.DurationMicrosecondBuilder=nr.DurationMillisecondBuilder=nr.DurationSecondBuilder=nr.DurationBuilder=void 0;const Kee=Gt,rh=Jr();class Qu extends Kee.FixedWidthBuilder{}nr.DurationBuilder=Qu;Qu.prototype._setValue=rh.setDuration;class Oq extends Qu{}nr.DurationSecondBuilder=Oq;Oq.prototype._setValue=rh.setDurationSecond;class Iq extends Qu{}nr.DurationMillisecondBuilder=Iq;Iq.prototype._setValue=rh.setDurationMillisecond;class Dq extends Qu{}nr.DurationMicrosecondBuilder=Dq;Dq.prototype._setValue=rh.setDurationMicrosecond;class qq extends Qu{}nr.DurationNanosecondBuilder=qq;qq.prototype._setValue=rh.setDurationNanosecond;var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.Uint64Builder=Ia.Uint32Builder=Ia.Uint16Builder=Ia.Uint8Builder=Ia.Int64Builder=Ia.Int32Builder=Ia.Int16Builder=Ia.Int8Builder=Ia.IntBuilder=void 0;const Qee=Gt;class en extends Qee.FixedWidthBuilder{setValue(e,a){this._values.set(e,a)}}Ia.IntBuilder=en;class Xee extends en{}Ia.Int8Builder=Xee;class Jee extends en{}Ia.Int16Builder=Jee;class ete extends en{}Ia.Int32Builder=ete;class tte extends en{}Ia.Int64Builder=tte;class ate extends en{}Ia.Uint8Builder=ate;class ote extends en{}Ia.Uint16Builder=ote;class rte extends en{}Ia.Uint32Builder=rte;class ite extends en{}Ia.Uint64Builder=ite;var ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.ListBuilder=void 0;const ste=ro,nte=fe,dte=lo,cte=Gt;class lte extends cte.VariableWidthBuilder{constructor(e){super(e),this._offsets=new dte.OffsetsBufferBuilder(e.type)}addChild(e,a="0"){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new nte.List(new ste.Field(a,e.type,!0)),this.numChildren-1}_flushPending(e){const a=this._offsets,[o]=this.children;for(const[r,i]of e)if(typeof i>"u")a.set(r,0);else{const s=i,n=s.length,d=a.set(r,n).buffer[r];for(let c=-1;++c<n;)o.set(d+c,s[c])}}}ih.ListBuilder=lte;var sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.MapBuilder=void 0;const ute=ro,mte=fe,pte=Gt;class fte extends pte.VariableWidthBuilder{set(e,a){return super.set(e,a)}setValue(e,a){const o=a instanceof Map?a:new Map(Object.entries(a)),r=this._pending||(this._pending=new Map),i=r.get(e);i&&(this._pendingLength-=i.size),this._pendingLength+=o.size,r.set(e,o)}addChild(e,a=`${this.numChildren}`){if(this.numChildren>0)throw new Error("ListBuilder can only have one child.");return this.children[this.numChildren]=e,this.type=new mte.Map_(new ute.Field(a,e.type,!0),this.type.keysSorted),this.numChildren-1}_flushPending(e){const a=this._offsets,[o]=this.children;for(const[r,i]of e)if(i===void 0)a.set(r,0);else{let{[r]:s,[r+1]:n}=a.set(r,i.size).buffer;for(const d of i.entries())if(o.set(s,d),++s>=n)break}}}sh.MapBuilder=fte;var nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.NullBuilder=void 0;const hte=Gt;class vte extends hte.Builder{setValue(e,a){}setValid(e,a){return this.length=Math.max(e+1,this.length),a}}nh.NullBuilder=vte;var dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.StructBuilder=void 0;const gte=ro,yte=Gt,bte=fe;class _te extends yte.Builder{setValue(e,a){const{children:o,type:r}=this;switch(Array.isArray(a)||a.constructor){case!0:return r.children.forEach((i,s)=>o[s].set(e,a[s]));case Map:return r.children.forEach((i,s)=>o[s].set(e,a.get(i.name)));default:return r.children.forEach((i,s)=>o[s].set(e,a[i.name]))}}setValid(e,a){return super.setValid(e,a)||this.children.forEach(o=>o.setValid(e,a)),a}addChild(e,a=`${this.numChildren}`){const o=this.children.push(e);return this.type=new bte.Struct([...this.type.children,new gte.Field(a,e.type,!0)]),o}}dh.StructBuilder=_te;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.TimestampNanosecondBuilder=dr.TimestampMicrosecondBuilder=dr.TimestampMillisecondBuilder=dr.TimestampSecondBuilder=dr.TimestampBuilder=void 0;const xte=Gt,ch=Jr();class Xu extends xte.FixedWidthBuilder{}dr.TimestampBuilder=Xu;Xu.prototype._setValue=ch.setTimestamp;class Pq extends Xu{}dr.TimestampSecondBuilder=Pq;Pq.prototype._setValue=ch.setTimestampSecond;class Lq extends Xu{}dr.TimestampMillisecondBuilder=Lq;Lq.prototype._setValue=ch.setTimestampMillisecond;class Nq extends Xu{}dr.TimestampMicrosecondBuilder=Nq;Nq.prototype._setValue=ch.setTimestampMicrosecond;class jq extends Xu{}dr.TimestampNanosecondBuilder=jq;jq.prototype._setValue=ch.setTimestampNanosecond;var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.TimeNanosecondBuilder=cr.TimeMicrosecondBuilder=cr.TimeMillisecondBuilder=cr.TimeSecondBuilder=cr.TimeBuilder=void 0;const wte=Gt,lh=Jr();class Ju extends wte.FixedWidthBuilder{}cr.TimeBuilder=Ju;Ju.prototype._setValue=lh.setTime;class Fq extends Ju{}cr.TimeSecondBuilder=Fq;Fq.prototype._setValue=lh.setTimeSecond;class zq extends Ju{}cr.TimeMillisecondBuilder=zq;zq.prototype._setValue=lh.setTimeMillisecond;class Bq extends Ju{}cr.TimeMicrosecondBuilder=Bq;Bq.prototype._setValue=lh.setTimeMicrosecond;class kq extends Ju{}cr.TimeNanosecondBuilder=kq;kq.prototype._setValue=lh.setTimeNanosecond;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.DenseUnionBuilder=Ls.SparseUnionBuilder=Ls.UnionBuilder=void 0;const Ste=ro,Uq=lo,Ate=Gt,Ete=fe;class vS extends Ate.Builder{constructor(e){super(e),this._typeIds=new Uq.DataBufferBuilder(Int8Array,0,1),typeof e.valueToChildTypeId=="function"&&(this._valueToChildTypeId=e.valueToChildTypeId)}get typeIdToChildIndex(){return this.type.typeIdToChildIndex}append(e,a){return this.set(this.length,e,a)}set(e,a,o){return o===void 0&&(o=this._valueToChildTypeId(this,a,e)),this.setValue(e,a,o),this}setValue(e,a,o){this._typeIds.set(e,o);const r=this.type.typeIdToChildIndex[o],i=this.children[r];i==null||i.set(e,a)}addChild(e,a=`${this.children.length}`){const o=this.children.push(e),{type:{children:r,mode:i,typeIds:s}}=this,n=[...r,new Ste.Field(a,e.type)];return this.type=new Ete.Union(i,[...s,o],n),o}_valueToChildTypeId(e,a,o){throw new Error("Cannot map UnionBuilder value to child typeId. Pass the `childTypeId` as the second argument to unionBuilder.append(), or supply a `valueToChildTypeId` function as part of the UnionBuilder constructor options.")}}Ls.UnionBuilder=vS;class Mte extends vS{}Ls.SparseUnionBuilder=Mte;class Tte extends vS{constructor(e){super(e),this._offsets=new Uq.DataBufferBuilder(Int32Array)}setValue(e,a,o){const r=this._typeIds.set(e,o).buffer[e],i=this.getChildAt(this.type.typeIdToChildIndex[r]),s=this._offsets.set(e,i.length).buffer[e];i==null||i.set(s,a)}}Ls.DenseUnionBuilder=Tte;var uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.Utf8Builder=void 0;const Cte=Gr,Rte=Zu,Ote=lo,Ite=Gt;class Vq extends Ite.VariableWidthBuilder{constructor(e){super(e),this._values=new Ote.BufferBuilder(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,a){return super.setValue(e,(0,Cte.encodeUtf8)(a))}_flushPending(e,a){}}uh.Utf8Builder=Vq;Vq.prototype._flushPending=Rte.BinaryBuilder.prototype._flushPending;var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.LargeUtf8Builder=void 0;const Dte=Gr,qte=lo,Pte=Gt,Lte=Ku;class $q extends Pte.VariableWidthBuilder{constructor(e){super(e),this._values=new qte.BufferBuilder(Uint8Array)}get byteLength(){let e=this._pendingLength+this.length*4;return this._offsets&&(e+=this._offsets.byteLength),this._values&&(e+=this._values.byteLength),this._nulls&&(e+=this._nulls.byteLength),e}setValue(e,a){return super.setValue(e,(0,Dte.encodeUtf8)(a))}_flushPending(e,a){}}mh.LargeUtf8Builder=$q;$q.prototype._flushPending=Lte.LargeBinaryBuilder.prototype._flushPending;var YT;function Nte(){if(YT)return gd;YT=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.instance=gd.GetBuilderCtor=void 0;const t=Ao,e=Zu,a=Ku,o=eh,r=qs,i=th,s=Mq(),n=ah,d=oh,c=vi,l=Ps,m=nr,u=Ia,v=ih,g=sh,f=nh,p=dh,h=dr,y=cr,b=Ls,_=uh,S=mh;class x extends t.Visitor{visitNull(){return f.NullBuilder}visitBool(){return o.BoolBuilder}visitInt(){return u.IntBuilder}visitInt8(){return u.Int8Builder}visitInt16(){return u.Int16Builder}visitInt32(){return u.Int32Builder}visitInt64(){return u.Int64Builder}visitUint8(){return u.Uint8Builder}visitUint16(){return u.Uint16Builder}visitUint32(){return u.Uint32Builder}visitUint64(){return u.Uint64Builder}visitFloat(){return c.FloatBuilder}visitFloat16(){return c.Float16Builder}visitFloat32(){return c.Float32Builder}visitFloat64(){return c.Float64Builder}visitUtf8(){return _.Utf8Builder}visitLargeUtf8(){return S.LargeUtf8Builder}visitBinary(){return e.BinaryBuilder}visitLargeBinary(){return a.LargeBinaryBuilder}visitFixedSizeBinary(){return n.FixedSizeBinaryBuilder}visitDate(){return r.DateBuilder}visitDateDay(){return r.DateDayBuilder}visitDateMillisecond(){return r.DateMillisecondBuilder}visitTimestamp(){return h.TimestampBuilder}visitTimestampSecond(){return h.TimestampSecondBuilder}visitTimestampMillisecond(){return h.TimestampMillisecondBuilder}visitTimestampMicrosecond(){return h.TimestampMicrosecondBuilder}visitTimestampNanosecond(){return h.TimestampNanosecondBuilder}visitTime(){return y.TimeBuilder}visitTimeSecond(){return y.TimeSecondBuilder}visitTimeMillisecond(){return y.TimeMillisecondBuilder}visitTimeMicrosecond(){return y.TimeMicrosecondBuilder}visitTimeNanosecond(){return y.TimeNanosecondBuilder}visitDecimal(){return i.DecimalBuilder}visitList(){return v.ListBuilder}visitStruct(){return p.StructBuilder}visitUnion(){return b.UnionBuilder}visitDenseUnion(){return b.DenseUnionBuilder}visitSparseUnion(){return b.SparseUnionBuilder}visitDictionary(){return s.DictionaryBuilder}visitInterval(){return l.IntervalBuilder}visitIntervalDayTime(){return l.IntervalDayTimeBuilder}visitIntervalYearMonth(){return l.IntervalYearMonthBuilder}visitDuration(){return m.DurationBuilder}visitDurationSecond(){return m.DurationSecondBuilder}visitDurationMillisecond(){return m.DurationMillisecondBuilder}visitDurationMicrosecond(){return m.DurationMicrosecondBuilder}visitDurationNanosecond(){return m.DurationNanosecondBuilder}visitFixedSizeList(){return d.FixedSizeListBuilder}visitMap(){return g.MapBuilder}}return gd.GetBuilderCtor=x,gd.instance=new x,gd}var ph={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compareTypes=t.compareFields=t.compareSchemas=t.instance=t.TypeComparator=void 0;const e=Ao;class a extends e.Visitor{compareSchemas(w,A){return w===A||A instanceof w.constructor&&this.compareManyFields(w.fields,A.fields)}compareManyFields(w,A){return w===A||Array.isArray(w)&&Array.isArray(A)&&w.length===A.length&&w.every((T,O)=>this.compareFields(T,A[O]))}compareFields(w,A){return w===A||A instanceof w.constructor&&w.name===A.name&&w.nullable===A.nullable&&this.visit(w.type,A.type)}}t.TypeComparator=a;function o(x,w){return w instanceof x.constructor}function r(x,w){return x===w||o(x,w)}function i(x,w){return x===w||o(x,w)&&x.bitWidth===w.bitWidth&&x.isSigned===w.isSigned}function s(x,w){return x===w||o(x,w)&&x.precision===w.precision}function n(x,w){return x===w||o(x,w)&&x.byteWidth===w.byteWidth}function d(x,w){return x===w||o(x,w)&&x.unit===w.unit}function c(x,w){return x===w||o(x,w)&&x.unit===w.unit&&x.timezone===w.timezone}function l(x,w){return x===w||o(x,w)&&x.unit===w.unit&&x.bitWidth===w.bitWidth}function m(x,w){return x===w||o(x,w)&&x.children.length===w.children.length&&t.instance.compareManyFields(x.children,w.children)}function u(x,w){return x===w||o(x,w)&&x.children.length===w.children.length&&t.instance.compareManyFields(x.children,w.children)}function v(x,w){return x===w||o(x,w)&&x.mode===w.mode&&x.typeIds.every((A,T)=>A===w.typeIds[T])&&t.instance.compareManyFields(x.children,w.children)}function g(x,w){return x===w||o(x,w)&&x.id===w.id&&x.isOrdered===w.isOrdered&&t.instance.visit(x.indices,w.indices)&&t.instance.visit(x.dictionary,w.dictionary)}function f(x,w){return x===w||o(x,w)&&x.unit===w.unit}function p(x,w){return x===w||o(x,w)&&x.unit===w.unit}function h(x,w){return x===w||o(x,w)&&x.listSize===w.listSize&&x.children.length===w.children.length&&t.instance.compareManyFields(x.children,w.children)}function y(x,w){return x===w||o(x,w)&&x.keysSorted===w.keysSorted&&x.children.length===w.children.length&&t.instance.compareManyFields(x.children,w.children)}a.prototype.visitNull=r,a.prototype.visitBool=r,a.prototype.visitInt=i,a.prototype.visitInt8=i,a.prototype.visitInt16=i,a.prototype.visitInt32=i,a.prototype.visitInt64=i,a.prototype.visitUint8=i,a.prototype.visitUint16=i,a.prototype.visitUint32=i,a.prototype.visitUint64=i,a.prototype.visitFloat=s,a.prototype.visitFloat16=s,a.prototype.visitFloat32=s,a.prototype.visitFloat64=s,a.prototype.visitUtf8=r,a.prototype.visitLargeUtf8=r,a.prototype.visitBinary=r,a.prototype.visitLargeBinary=r,a.prototype.visitFixedSizeBinary=n,a.prototype.visitDate=d,a.prototype.visitDateDay=d,a.prototype.visitDateMillisecond=d,a.prototype.visitTimestamp=c,a.prototype.visitTimestampSecond=c,a.prototype.visitTimestampMillisecond=c,a.prototype.visitTimestampMicrosecond=c,a.prototype.visitTimestampNanosecond=c,a.prototype.visitTime=l,a.prototype.visitTimeSecond=l,a.prototype.visitTimeMillisecond=l,a.prototype.visitTimeMicrosecond=l,a.prototype.visitTimeNanosecond=l,a.prototype.visitDecimal=r,a.prototype.visitList=m,a.prototype.visitStruct=u,a.prototype.visitUnion=v,a.prototype.visitDenseUnion=v,a.prototype.visitSparseUnion=v,a.prototype.visitDictionary=g,a.prototype.visitInterval=f,a.prototype.visitIntervalDayTime=f,a.prototype.visitIntervalYearMonth=f,a.prototype.visitDuration=p,a.prototype.visitDurationSecond=p,a.prototype.visitDurationMillisecond=p,a.prototype.visitDurationMicrosecond=p,a.prototype.visitDurationNanosecond=p,a.prototype.visitFixedSizeList=h,a.prototype.visitMap=y,t.instance=new a;function b(x,w){return t.instance.compareSchemas(x,w)}t.compareSchemas=b;function _(x,w){return t.instance.compareFields(x,w)}t.compareFields=_;function S(x,w){return t.instance.visit(x,w)}t.compareTypes=S})(ph);var ZT;function hy(){if(ZT)return Jo;ZT=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.builderThroughAsyncIterable=Jo.builderThroughIterable=Jo.tableFromJSON=Jo.vectorFromArray=Jo.makeBuilder=void 0;const t=wr,e=ro,a=fe,o=Xs(),r=Qo(),i=Nte(),s=fh(),n=Ic(),d=ph;function c(f){const p=f.type,h=new(i.instance.getVisitFn(p)())(f);if(p.children&&p.children.length>0){const y=f.children||[],b={nullValues:f.nullValues},_=Array.isArray(y)?(S,x)=>y[x]||b:({name:S})=>y[S]||b;for(const[S,x]of p.children.entries()){const{type:w}=x,A=_(x,S);h.children.push(c(Object.assign(Object.assign({},A),{type:w})))}}return h}Jo.makeBuilder=c;function l(f,p){if(f instanceof o.Data||f instanceof r.Vector||f.type instanceof a.DataType||ArrayBuffer.isView(f))return(0,r.makeVector)(f);const h={type:p??u(f),nullValues:[null]},y=[...v(h)(f)],b=y.length===1?y[0]:y.reduce((_,S)=>_.concat(S));return a.DataType.isDictionary(b.type)?b.memoize():b}Jo.vectorFromArray=l;function m(f){const p=l(f),h=new n.RecordBatch(new e.Schema(p.type.children),p.data[0]);return new s.Table(h)}Jo.tableFromJSON=m;function u(f){if(f.length===0)return new a.Null;let p=0,h=0,y=0,b=0,_=0,S=0,x=0,w=0;for(const A of f){if(A==null){++p;continue}switch(typeof A){case"bigint":++S;continue;case"boolean":++x;continue;case"number":++b;continue;case"string":++_;continue;case"object":Array.isArray(A)?++h:Object.prototype.toString.call(A)==="[object Date]"?++w:++y;continue}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}if(b+p===f.length)return new a.Float64;if(_+p===f.length)return new a.Dictionary(new a.Utf8,new a.Int32);if(S+p===f.length)return new a.Int64;if(x+p===f.length)return new a.Bool;if(w+p===f.length)return new a.DateMillisecond;if(h+p===f.length){const A=f,T=u(A[A.findIndex(O=>O!=null)]);if(A.every(O=>O==null||(0,d.compareTypes)(T,u(O))))return new a.List(new e.Field("",T,!0))}else if(y+p===f.length){const A=new Map;for(const T of f)for(const O of Object.keys(T))!A.has(O)&&T[O]!=null&&A.set(O,new e.Field(O,u([T[O]]),!0));return new a.Struct([...A.values()])}throw new TypeError("Unable to infer Vector type from input values, explicit type declaration expected.")}function v(f){const{["queueingStrategy"]:p="count"}=f,{["highWaterMark"]:h=p!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=f,y=p!=="bytes"?"length":"byteLength";return function*(b){let _=0;const S=c(f);for(const x of b)S.append(x)[y]>=h&&++_&&(yield S.toVector());(S.finish().length>0||_===0)&&(yield S.toVector())}}Jo.builderThroughIterable=v;function g(f){const{["queueingStrategy"]:p="count"}=f,{["highWaterMark"]:h=p!=="bytes"?Number.POSITIVE_INFINITY:Math.pow(2,14)}=f,y=p!=="bytes"?"length":"byteLength";return function(b){return t.__asyncGenerator(this,arguments,function*(){var _,S,x,w;let A=0;const T=c(f);try{for(var O=!0,I=t.__asyncValues(b),U;U=yield t.__await(I.next()),_=U.done,!_;O=!0){w=U.value,O=!1;const B=w;T.append(B)[y]>=h&&++A&&(yield yield t.__await(T.toVector()))}}catch(B){S={error:B}}finally{try{!O&&!_&&(x=I.return)&&(yield t.__await(x.call(I)))}finally{if(S)throw S.error}}(T.finish().length>0||A===0)&&(yield yield t.__await(T.toVector()))})}}return Jo.builderThroughAsyncIterable=g,Jo}var Om={},KT;function jte(){if(KT)return Om;KT=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.distributeVectorsIntoRecordBatches=void 0;const t=Xs(),e=fe,a=Ic();function o(s,n){return r(s,n.map(d=>d.data.concat()))}Om.distributeVectorsIntoRecordBatches=o;function r(s,n){const d=[...s.fields],c=[],l={numBatches:n.reduce((h,y)=>Math.max(h,y.length),0)};let m=0,u=0,v=-1;const g=n.length;let f,p=[];for(;l.numBatches-- >0;){for(u=Number.POSITIVE_INFINITY,v=-1;++v<g;)p[v]=f=n[v].shift(),u=Math.min(u,f?f.length:u);Number.isFinite(u)&&(p=i(d,u,p,n,l),u>0&&(c[m++]=(0,t.makeData)({type:new e.Struct(d),length:u,nullCount:0,children:p.slice()})))}return[s=s.assign(d),c.map(h=>new a.RecordBatch(s,h))]}function i(s,n,d,c,l){var m;const u=(n+63&-64)>>3;for(let v=-1,g=c.length;++v<g;){const f=d[v],p=f==null?void 0:f.length;if(p>=n)p===n?d[v]=f:(d[v]=f.slice(0,n),l.numBatches=Math.max(l.numBatches,c[v].unshift(f.slice(n,p-n))));else{const h=s[v];s[v]=h.clone({nullable:!0}),d[v]=(m=f==null?void 0:f._changeLengthAndBackfillNullBitmap(n))!==null&&m!==void 0?m:(0,t.makeData)({type:h.type,length:n,nullCount:n,nullBitmap:new Uint8Array(u)})}}return d}return Om}var QT;function fh(){if(QT)return ls;QT=1;var t;Object.defineProperty(ls,"__esModule",{value:!0}),ls.tableFromArrays=ls.makeTable=ls.Table=void 0;const e=xa,a=Xs(),o=hy(),r=Qo(),i=ro,s=fe,n=ph,d=jte(),c=ma,l=Yu(),m=Jr(),u=dS(),v=Xn,g=dy(),f=Ic();class p{constructor(..._){var S,x;if(_.length===0)return this.batches=[],this.schema=new i.Schema([]),this._offsets=[0],this;let w,A;_[0]instanceof i.Schema&&(w=_.shift()),_.at(-1)instanceof Uint32Array&&(A=_.pop());const T=I=>{if(I){if(I instanceof f.RecordBatch)return[I];if(I instanceof p)return I.batches;if(I instanceof a.Data){if(I.type instanceof s.Struct)return[new f.RecordBatch(new i.Schema(I.type.children),I)]}else{if(Array.isArray(I))return I.flatMap(U=>T(U));if(typeof I[Symbol.iterator]=="function")return[...I].flatMap(U=>T(U));if(typeof I=="object"){const U=Object.keys(I),B=U.map($=>new r.Vector([I[$]])),N=w??new i.Schema(U.map(($,Y)=>new i.Field(String($),B[Y].type,B[Y].nullable))),[,z]=(0,d.distributeVectorsIntoRecordBatches)(N,B);return z.length===0?[new f.RecordBatch(I)]:z}}}return[]},O=_.flatMap(I=>T(I));if(w=(x=w??((S=O[0])===null||S===void 0?void 0:S.schema))!==null&&x!==void 0?x:new i.Schema([]),!(w instanceof i.Schema))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const I of O){if(!(I instanceof f.RecordBatch))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!(0,n.compareSchemas)(w,I.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=w,this.batches=O,this._offsets=A??(0,c.computeChunkOffsets)(this.data)}get data(){return this.batches.map(({data:_})=>_)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((_,S)=>_+S.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=(0,c.computeChunkNullCounts)(this.data)),this._nullCount}isValid(_){return!1}get(_){return null}set(_,S){}indexOf(_,S){return-1}[Symbol.iterator](){return this.batches.length>0?v.instance.visit(new r.Vector(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(..._){const S=this.schema,x=this.data.concat(_.flatMap(({data:w})=>w));return new p(S,x.map(w=>new f.RecordBatch(S,w)))}slice(_,S){const x=this.schema;[_,S]=(0,g.clampRange)({length:this.numRows},_,S);const w=(0,c.sliceChunks)(this.data,this._offsets,_,S);return new p(x,w.map(A=>new f.RecordBatch(x,A)))}getChild(_){return this.getChildAt(this.schema.fields.findIndex(S=>S.name===_))}getChildAt(_){if(_>-1&&_<this.schema.fields.length){const S=this.data.map(x=>x.children[_]);if(S.length===0){const{type:x}=this.schema.fields[_],w=(0,a.makeData)({type:x,length:0,nullCount:0});S.push(w._changeLengthAndBackfillNullBitmap(this.numRows))}return new r.Vector(S)}return null}setChild(_,S){var x;return this.setChildAt((x=this.schema.fields)===null||x===void 0?void 0:x.findIndex(w=>w.name===_),S)}setChildAt(_,S){let x=this.schema,w=[...this.batches];if(_>-1&&_<this.numCols){S||(S=new r.Vector([(0,a.makeData)({type:new s.Null,length:this.numRows})]));const A=x.fields.slice(),T=A[_].clone({type:S.type}),O=this.schema.fields.map((I,U)=>this.getChildAt(U));[A[_],O[_]]=[T,S],[x,w]=(0,d.distributeVectorsIntoRecordBatches)(x,O)}return new p(x,w)}select(_){const S=this.schema.fields.reduce((x,w,A)=>x.set(w.name,A),new Map);return this.selectAt(_.map(x=>S.get(x)).filter(x=>x>-1))}selectAt(_){const S=this.schema.selectAt(_),x=this.batches.map(w=>w.selectAt(_));return new p(S,x)}assign(_){const S=this.schema.fields,[x,w]=_.schema.fields.reduce((O,I,U)=>{const[B,N]=O,z=S.findIndex($=>$.name===I.name);return~z?N[z]=U:B.push(U),O},[[],[]]),A=this.schema.assign(_.schema),T=[...S.map((O,I)=>[I,w[I]]).map(([O,I])=>I===void 0?this.getChildAt(O):_.getChildAt(I)),...x.map(O=>_.getChildAt(O))].filter(Boolean);return new p(...(0,d.distributeVectorsIntoRecordBatches)(A,T))}}ls.Table=p,t=Symbol.toStringTag,p[t]=(b=>(b.schema=null,b.batches=[],b._offsets=new Uint32Array([0]),b._nullCount=-1,b[Symbol.isConcatSpreadable]=!0,b.isValid=(0,c.wrapChunkedCall1)(c.isChunkedValid),b.get=(0,c.wrapChunkedCall1)(l.instance.getVisitFn(e.Type.Struct)),b.set=(0,c.wrapChunkedCall2)(m.instance.getVisitFn(e.Type.Struct)),b.indexOf=(0,c.wrapChunkedIndexOf)(u.instance.getVisitFn(e.Type.Struct)),"Table"))(p.prototype);function h(b){const _={},S=Object.entries(b);for(const[x,w]of S)_[x]=(0,r.makeVector)(w);return new p(_)}ls.makeTable=h;function y(b){const _={},S=Object.entries(b);for(const[x,w]of S)_[x]=(0,o.vectorFromArray)(w);return new p(_)}return ls.tableFromArrays=y,ls}var XT;function Ic(){if(XT)return vd;XT=1;var t;Object.defineProperty(vd,"__esModule",{value:!0}),vd._InternalEmptyPlaceholderRecordBatch=vd.RecordBatch=void 0;const e=Xs(),a=fh(),o=Qo(),r=ro,i=fe,s=Yu(),n=Jr(),d=dS(),c=Xn;class l{constructor(...f){switch(f.length){case 2:{if([this.schema]=f,!(this.schema instanceof r.Schema))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,e.makeData)({nullCount:0,type:new i.Struct(this.schema.fields),children:this.schema.fields.map(p=>(0,e.makeData)({type:p.type,nullCount:0}))})]=f,!(this.data instanceof e.Data))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=m(this.schema,this.data.children);break}case 1:{const[p]=f,{fields:h,children:y,length:b}=Object.keys(p).reduce((x,w,A)=>(x.children[A]=p[w],x.length=Math.max(x.length,p[w].length),x.fields[A]=r.Field.new({name:w,type:p[w].type,nullable:!0}),x),{length:0,fields:new Array,children:new Array}),_=new r.Schema(h),S=(0,e.makeData)({type:new i.Struct(h),length:b,children:y,nullCount:0});[this.schema,this.data]=m(_,S.children,b);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=u(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(f){return this.data.getValid(f)}get(f){return s.instance.visit(this.data,f)}set(f,p){return n.instance.visit(this.data,f,p)}indexOf(f,p){return d.instance.visit(this.data,f,p)}[Symbol.iterator](){return c.instance.visit(new o.Vector([this.data]))}toArray(){return[...this]}concat(...f){return new a.Table(this.schema,[this,...f])}slice(f,p){const[h]=new o.Vector([this.data]).slice(f,p).data;return new l(this.schema,h)}getChild(f){var p;return this.getChildAt((p=this.schema.fields)===null||p===void 0?void 0:p.findIndex(h=>h.name===f))}getChildAt(f){return f>-1&&f<this.schema.fields.length?new o.Vector([this.data.children[f]]):null}setChild(f,p){var h;return this.setChildAt((h=this.schema.fields)===null||h===void 0?void 0:h.findIndex(y=>y.name===f),p)}setChildAt(f,p){let h=this.schema,y=this.data;if(f>-1&&f<this.numCols){p||(p=new o.Vector([(0,e.makeData)({type:new i.Null,length:this.numRows})]));const b=h.fields.slice(),_=y.children.slice(),S=b[f].clone({type:p.type});[b[f],_[f]]=[S,p.data[0]],h=new r.Schema(b,new Map(this.schema.metadata)),y=(0,e.makeData)({type:new i.Struct(b),children:_})}return new l(h,y)}select(f){const p=this.schema.select(f),h=new i.Struct(p.fields),y=[];for(const b of f){const _=this.schema.fields.findIndex(S=>S.name===b);~_&&(y[_]=this.data.children[_])}return new l(p,(0,e.makeData)({type:h,length:this.numRows,children:y}))}selectAt(f){const p=this.schema.selectAt(f),h=f.map(b=>this.data.children[b]).filter(Boolean),y=(0,e.makeData)({type:new i.Struct(p.fields),length:this.numRows,children:h});return new l(p,y)}}vd.RecordBatch=l,t=Symbol.toStringTag,l[t]=(g=>(g._nullCount=-1,g[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(l.prototype);function m(g,f,p=f.reduce((h,y)=>Math.max(h,y.length),0)){var h;const y=[...g.fields],b=[...f],_=(p+63&-64)>>3;for(const[S,x]of g.fields.entries()){const w=f[S];(!w||w.length!==p)&&(y[S]=x.clone({nullable:!0}),b[S]=(h=w==null?void 0:w._changeLengthAndBackfillNullBitmap(p))!==null&&h!==void 0?h:(0,e.makeData)({type:x.type,length:p,nullCount:p,nullBitmap:new Uint8Array(_)}))}return[g.assign(y),(0,e.makeData)({type:new i.Struct(y),length:p,children:b})]}function u(g,f,p=new Map){var h,y;if(((h=g==null?void 0:g.length)!==null&&h!==void 0?h:0)>0&&(g==null?void 0:g.length)===(f==null?void 0:f.length))for(let b=-1,_=g.length;++b<_;){const{type:S}=g[b],x=f[b];for(const w of[x,...((y=x==null?void 0:x.dictionary)===null||y===void 0?void 0:y.data)||[]])u(S.children,w==null?void 0:w.children,p);if(i.DataType.isDictionary(S)){const{id:w}=S;if(!p.has(w))x!=null&&x.dictionary&&p.set(w,x.dictionary);else if(p.get(w)!==x.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}}return p}class v extends l{constructor(f){const p=f.fields.map(y=>(0,e.makeData)({type:y.type})),h=(0,e.makeData)({type:new i.Struct(f.fields),nullCount:0,children:p});super(f,h)}}return vd._InternalEmptyPlaceholderRecordBatch=v,vd}var vy={},er={},gy={};Object.defineProperty(gy,"__esModule",{value:!0});gy.Message=void 0;const Fte=St,zte=ud,JT=Xi,eC=Pu;class ni{constructor(){this.bb=null,this.bb_pos=0}__init(e,a){return this.bb_pos=e,this.bb=a,this}static getRootAsMessage(e,a){return(a||new ni).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,a){return e.setPosition(e.position()+Fte.SIZE_PREFIX_LENGTH),(a||new ni).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):eC.MetadataVersion.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):JT.MessageHeader.NONE}header(e){const a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__union(e,this.bb_pos+a):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):BigInt("0")}customMetadata(e,a){const o=this.bb.__offset(this.bb_pos,12);return o?(a||new zte.KeyValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+o)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,a){e.addFieldInt16(0,a,eC.MetadataVersion.V1)}static addHeaderType(e,a){e.addFieldInt8(1,a,JT.MessageHeader.NONE)}static addHeader(e,a){e.addFieldOffset(2,a,0)}static addBodyLength(e,a){e.addFieldInt64(3,a,BigInt("0"))}static addCustomMetadata(e,a){e.addFieldOffset(4,a,0)}static createCustomMetadataVector(e,a){e.startVector(4,a.length,4);for(let o=a.length-1;o>=0;o--)e.addOffset(a[o]);return e.endVector()}static startCustomMetadataVector(e,a){e.startVector(4,a,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,a){e.finish(a)}static finishSizePrefixedMessageBuffer(e,a){e.finish(a,void 0,!0)}static createMessage(e,a,o,r,i,s){return ni.startMessage(e),ni.addVersion(e,a),ni.addHeaderType(e,o),ni.addHeader(e,r),ni.addBodyLength(e,i),ni.addCustomMetadata(e,s),ni.endMessage(e)}}gy.Message=ni;var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.instance=pu.TypeAssembler=void 0;const Bte=Ao,tC=Yf,Jh=ns,Bb=Uu,aC=Vf,oC=Hf,rC=$f,iC=Kf,sC=Wf,Im=Fu,kb=ju,ev=Hu,tv=Wu,Ub=Vu,Vb=zu,nC=Gf,dC=Zf,Vc=Gu,Dm=Uf,$b=Bu,Hb=ku,Wb=$u;class Hq extends Bte.Visitor{visit(e,a){return e==null||a==null?void 0:super.visit(e,a)}visitNull(e,a){return tC.Null.startNull(a),tC.Null.endNull(a)}visitInt(e,a){return Jh.Int.startInt(a),Jh.Int.addBitWidth(a,e.bitWidth),Jh.Int.addIsSigned(a,e.isSigned),Jh.Int.endInt(a)}visitFloat(e,a){return Bb.FloatingPoint.startFloatingPoint(a),Bb.FloatingPoint.addPrecision(a,e.precision),Bb.FloatingPoint.endFloatingPoint(a)}visitBinary(e,a){return aC.Binary.startBinary(a),aC.Binary.endBinary(a)}visitLargeBinary(e,a){return oC.LargeBinary.startLargeBinary(a),oC.LargeBinary.endLargeBinary(a)}visitBool(e,a){return rC.Bool.startBool(a),rC.Bool.endBool(a)}visitUtf8(e,a){return iC.Utf8.startUtf8(a),iC.Utf8.endUtf8(a)}visitLargeUtf8(e,a){return sC.LargeUtf8.startLargeUtf8(a),sC.LargeUtf8.endLargeUtf8(a)}visitDecimal(e,a){return Im.Decimal.startDecimal(a),Im.Decimal.addScale(a,e.scale),Im.Decimal.addPrecision(a,e.precision),Im.Decimal.addBitWidth(a,e.bitWidth),Im.Decimal.endDecimal(a)}visitDate(e,a){return kb.Date.startDate(a),kb.Date.addUnit(a,e.unit),kb.Date.endDate(a)}visitTime(e,a){return ev.Time.startTime(a),ev.Time.addUnit(a,e.unit),ev.Time.addBitWidth(a,e.bitWidth),ev.Time.endTime(a)}visitTimestamp(e,a){const o=e.timezone&&a.createString(e.timezone)||void 0;return tv.Timestamp.startTimestamp(a),tv.Timestamp.addUnit(a,e.unit),o!==void 0&&tv.Timestamp.addTimezone(a,o),tv.Timestamp.endTimestamp(a)}visitInterval(e,a){return Ub.Interval.startInterval(a),Ub.Interval.addUnit(a,e.unit),Ub.Interval.endInterval(a)}visitDuration(e,a){return Vb.Duration.startDuration(a),Vb.Duration.addUnit(a,e.unit),Vb.Duration.endDuration(a)}visitList(e,a){return nC.List.startList(a),nC.List.endList(a)}visitStruct(e,a){return dC.Struct_.startStruct_(a),dC.Struct_.endStruct_(a)}visitUnion(e,a){Vc.Union.startTypeIdsVector(a,e.typeIds.length);const o=Vc.Union.createTypeIdsVector(a,e.typeIds);return Vc.Union.startUnion(a),Vc.Union.addMode(a,e.mode),Vc.Union.addTypeIds(a,o),Vc.Union.endUnion(a)}visitDictionary(e,a){const o=this.visit(e.indices,a);return Dm.DictionaryEncoding.startDictionaryEncoding(a),Dm.DictionaryEncoding.addId(a,BigInt(e.id)),Dm.DictionaryEncoding.addIsOrdered(a,e.isOrdered),o!==void 0&&Dm.DictionaryEncoding.addIndexType(a,o),Dm.DictionaryEncoding.endDictionaryEncoding(a)}visitFixedSizeBinary(e,a){return $b.FixedSizeBinary.startFixedSizeBinary(a),$b.FixedSizeBinary.addByteWidth(a,e.byteWidth),$b.FixedSizeBinary.endFixedSizeBinary(a)}visitFixedSizeList(e,a){return Hb.FixedSizeList.startFixedSizeList(a),Hb.FixedSizeList.addListSize(a,e.listSize),Hb.FixedSizeList.endFixedSizeList(a)}visitMap(e,a){return Wb.Map.startMap(a),Wb.Map.addKeysSorted(a,e.keysSorted),Wb.Map.endMap(a)}}pu.TypeAssembler=Hq;pu.instance=new Hq;var ti={},cC;function kte(){if(cC)return ti;cC=1,Object.defineProperty(ti,"__esModule",{value:!0}),ti.fieldFromJSON=ti.dictionaryBatchFromJSON=ti.recordBatchFromJSON=ti.schemaFromJSON=void 0;const t=ro,e=fe,a=em(),o=xa;function r(p,h=new Map){return new t.Schema(n(p,h),v(p.metadata),h)}ti.schemaFromJSON=r;function i(p){return new a.RecordBatch(p.count,c(p.columns),l(p.columns))}ti.recordBatchFromJSON=i;function s(p){return new a.DictionaryBatch(i(p.data),p.id,p.isDelta)}ti.dictionaryBatchFromJSON=s;function n(p,h){return(p.fields||[]).filter(Boolean).map(y=>t.Field.fromJSON(y,h))}function d(p,h){return(p.children||[]).filter(Boolean).map(y=>t.Field.fromJSON(y,h))}function c(p){return(p||[]).reduce((h,y)=>[...h,new a.FieldNode(y.count,m(y.VALIDITY)),...c(y.children)],[])}function l(p,h=[]){for(let y=-1,b=(p||[]).length;++y<b;){const _=p[y];_.VALIDITY&&h.push(new a.BufferRegion(h.length,_.VALIDITY.length)),_.TYPE_ID&&h.push(new a.BufferRegion(h.length,_.TYPE_ID.length)),_.OFFSET&&h.push(new a.BufferRegion(h.length,_.OFFSET.length)),_.DATA&&h.push(new a.BufferRegion(h.length,_.DATA.length)),h=l(_.children,h)}return h}function m(p){return(p||[]).reduce((h,y)=>h+ +(y===0),0)}function u(p,h){let y,b,_,S,x,w;return!h||!(S=p.dictionary)?(x=f(p,d(p,h)),_=new t.Field(p.name,x,p.nullable,v(p.metadata))):h.has(y=S.id)?(b=(b=S.indexType)?g(b):new e.Int32,w=new e.Dictionary(h.get(y),b,y,S.isOrdered),_=new t.Field(p.name,w,p.nullable,v(p.metadata))):(b=(b=S.indexType)?g(b):new e.Int32,h.set(y,x=f(p,d(p,h))),w=new e.Dictionary(x,b,y,S.isOrdered),_=new t.Field(p.name,w,p.nullable,v(p.metadata))),_||null}ti.fieldFromJSON=u;function v(p=[]){return new Map(p.map(({key:h,value:y})=>[h,y]))}function g(p){return new e.Int(p.isSigned,p.bitWidth)}function f(p,h){const y=p.type.name;switch(y){case"NONE":return new e.Null;case"null":return new e.Null;case"binary":return new e.Binary;case"largebinary":return new e.LargeBinary;case"utf8":return new e.Utf8;case"largeutf8":return new e.LargeUtf8;case"bool":return new e.Bool;case"list":return new e.List((h||[])[0]);case"struct":return new e.Struct(h||[]);case"struct_":return new e.Struct(h||[])}switch(y){case"int":{const b=p.type;return new e.Int(b.isSigned,b.bitWidth)}case"floatingpoint":{const b=p.type;return new e.Float(o.Precision[b.precision])}case"decimal":{const b=p.type;return new e.Decimal(b.scale,b.precision,b.bitWidth)}case"date":{const b=p.type;return new e.Date_(o.DateUnit[b.unit])}case"time":{const b=p.type;return new e.Time(o.TimeUnit[b.unit],b.bitWidth)}case"timestamp":{const b=p.type;return new e.Timestamp(o.TimeUnit[b.unit],b.timezone)}case"interval":{const b=p.type;return new e.Interval(o.IntervalUnit[b.unit])}case"duration":{const b=p.type;return new e.Duration(o.TimeUnit[b.unit])}case"union":{const b=p.type,[_,...S]=(b.mode+"").toLowerCase(),x=_.toUpperCase()+S.join("");return new e.Union(o.UnionMode[x],b.typeIds||[],h||[])}case"fixedsizebinary":{const b=p.type;return new e.FixedSizeBinary(b.byteWidth)}case"fixedsizelist":{const b=p.type;return new e.FixedSizeList(b.listSize,(h||[])[0])}case"map":{const b=p.type;return new e.Map_((h||[])[0],b.keysSorted)}}throw new Error(`Unrecognized type: "${y}"`)}return ti}var lC;function em(){if(lC)return er;lC=1,Object.defineProperty(er,"__esModule",{value:!0}),er.FieldNode=er.BufferRegion=er.DictionaryBatch=er.RecordBatch=er.Message=void 0;const t=St,e=Nu,a=ns,o=Lu,r=Ff,i=ss,s=kf,n=zf,d=Ur,c=ud,l=Bf,m=Uu,u=Fu,v=ju,g=Hu,f=Wu,p=Vu,h=zu,y=Gu,b=Bu,_=ku,S=$u,x=gy,w=ro,A=Oe,T=Qs,O=xa,I=pu,U=kte();var B=t.Builder,N=t.ByteBuffer;const z=fe;class ${static fromJSON(D,k){const K=new $(0,O.MetadataVersion.V5,k);return K._createHeader=se(D,k),K}static decode(D){D=new N((0,A.toUint8Array)(D));const k=x.Message.getRootAsMessage(D),K=k.bodyLength(),le=k.version(),ge=k.headerType(),X=new $(K,le,ge);return X._createHeader=J(k,ge),X}static encode(D){const k=new B;let K=-1;return D.isSchema()?K=w.Schema.encode(k,D.header()):D.isRecordBatch()?K=Y.encode(k,D.header()):D.isDictionaryBatch()&&(K=F.encode(k,D.header())),x.Message.startMessage(k),x.Message.addVersion(k,O.MetadataVersion.V5),x.Message.addHeader(k,K),x.Message.addHeaderType(k,D.headerType),x.Message.addBodyLength(k,BigInt(D.bodyLength)),x.Message.finishMessageBuffer(k,x.Message.endMessage(k)),k.asUint8Array()}static from(D,k=0){if(D instanceof w.Schema)return new $(0,O.MetadataVersion.V5,O.MessageHeader.Schema,D);if(D instanceof Y)return new $(k,O.MetadataVersion.V5,O.MessageHeader.RecordBatch,D);if(D instanceof F)return new $(k,O.MetadataVersion.V5,O.MessageHeader.DictionaryBatch,D);throw new Error(`Unrecognized Message header: ${D}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===O.MessageHeader.Schema}isRecordBatch(){return this.headerType===O.MessageHeader.RecordBatch}isDictionaryBatch(){return this.headerType===O.MessageHeader.DictionaryBatch}constructor(D,k,K,le){this._version=k,this._headerType=K,this.body=new Uint8Array(0),le&&(this._createHeader=()=>le),this._bodyLength=(0,T.bigIntToNumber)(D)}}er.Message=$;class Y{get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}constructor(D,k,K){this._nodes=k,this._buffers=K,this._length=(0,T.bigIntToNumber)(D)}}er.RecordBatch=Y;class F{get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}constructor(D,k,K=!1){this._data=D,this._isDelta=K,this._id=(0,T.bigIntToNumber)(k)}}er.DictionaryBatch=F;class V{constructor(D,k){this.offset=(0,T.bigIntToNumber)(D),this.length=(0,T.bigIntToNumber)(k)}}er.BufferRegion=V;class Z{constructor(D,k){this.length=(0,T.bigIntToNumber)(D),this.nullCount=(0,T.bigIntToNumber)(k)}}er.FieldNode=Z;function se(E,D){return()=>{switch(D){case O.MessageHeader.Schema:return w.Schema.fromJSON(E);case O.MessageHeader.RecordBatch:return Y.fromJSON(E);case O.MessageHeader.DictionaryBatch:return F.fromJSON(E)}throw new Error(`Unrecognized Message type: { name: ${O.MessageHeader[D]}, type: ${D} }`)}}function J(E,D){return()=>{switch(D){case O.MessageHeader.Schema:return w.Schema.decode(E.header(new e.Schema),new Map,E.version());case O.MessageHeader.RecordBatch:return Y.decode(E.header(new o.RecordBatch),E.version());case O.MessageHeader.DictionaryBatch:return F.decode(E.header(new r.DictionaryBatch),E.version())}throw new Error(`Unrecognized Message type: { name: ${O.MessageHeader[D]}, type: ${D} }`)}}w.Field.encode=Bt,w.Field.decode=Te,w.Field.fromJSON=U.fieldFromJSON,w.Schema.encode=jt,w.Schema.decode=te,w.Schema.fromJSON=U.schemaFromJSON,Y.encode=At,Y.decode=me,Y.fromJSON=U.recordBatchFromJSON,F.encode=mt,F.decode=xe,F.fromJSON=U.dictionaryBatchFromJSON,Z.encode=de,Z.decode=Ee,V.encode=oe,V.decode=Q;function te(E,D=new Map,k=O.MetadataVersion.V5){const K=we(E,D);return new w.Schema(K,_e(E),D,k)}function me(E,D=O.MetadataVersion.V5){if(E.compression()!==null)throw new Error("Record batch compression not implemented");return new Y(E.length(),Ae(E),Ce(E,D))}function xe(E,D=O.MetadataVersion.V5){return new F(Y.decode(E.data(),D),E.id(),E.isDelta())}function Q(E){return new V(E.offset(),E.length())}function Ee(E){return new Z(E.length(),E.nullCount())}function Ae(E){const D=[];for(let k,K=-1,le=-1,ge=E.nodesLength();++K<ge;)(k=E.nodes(K))&&(D[++le]=Z.decode(k));return D}function Ce(E,D){const k=[];for(let K,le=-1,ge=-1,X=E.buffersLength();++le<X;)(K=E.buffers(le))&&(D<O.MetadataVersion.V4&&(K.bb_pos+=8*(le+1)),k[++ge]=V.decode(K));return k}function we(E,D){const k=[];for(let K,le=-1,ge=-1,X=E.fieldsLength();++le<X;)(K=E.fields(le))&&(k[++ge]=w.Field.decode(K,D));return k}function De(E,D){const k=[];for(let K,le=-1,ge=-1,X=E.childrenLength();++le<X;)(K=E.children(le))&&(k[++ge]=w.Field.decode(K,D));return k}function Te(E,D){let k,K,le,ge,X,Pe;return!D||!(Pe=E.dictionary())?(le=tt(E,De(E,D)),K=new w.Field(E.name(),le,E.nullable(),_e(E))):D.has(k=(0,T.bigIntToNumber)(Pe.id()))?(ge=(ge=Pe.indexType())?Qe(ge):new z.Int32,X=new z.Dictionary(D.get(k),ge,k,Pe.isOrdered()),K=new w.Field(E.name(),X,E.nullable(),_e(E))):(ge=(ge=Pe.indexType())?Qe(ge):new z.Int32,D.set(k,le=tt(E,De(E,D))),X=new z.Dictionary(le,ge,k,Pe.isOrdered()),K=new w.Field(E.name(),X,E.nullable(),_e(E))),K||null}function _e(E){const D=new Map;if(E)for(let k,K,le=-1,ge=Math.trunc(E.customMetadataLength());++le<ge;)(k=E.customMetadata(le))&&(K=k.key())!=null&&D.set(K,k.value());return D}function Qe(E){return new z.Int(E.isSigned(),E.bitWidth())}function tt(E,D){const k=E.typeType();switch(k){case d.Type.NONE:return new z.Null;case d.Type.Null:return new z.Null;case d.Type.Binary:return new z.Binary;case d.Type.LargeBinary:return new z.LargeBinary;case d.Type.Utf8:return new z.Utf8;case d.Type.LargeUtf8:return new z.LargeUtf8;case d.Type.Bool:return new z.Bool;case d.Type.List:return new z.List((D||[])[0]);case d.Type.Struct_:return new z.Struct(D||[])}switch(k){case d.Type.Int:{const K=E.type(new a.Int);return new z.Int(K.isSigned(),K.bitWidth())}case d.Type.FloatingPoint:{const K=E.type(new m.FloatingPoint);return new z.Float(K.precision())}case d.Type.Decimal:{const K=E.type(new u.Decimal);return new z.Decimal(K.scale(),K.precision(),K.bitWidth())}case d.Type.Date:{const K=E.type(new v.Date);return new z.Date_(K.unit())}case d.Type.Time:{const K=E.type(new g.Time);return new z.Time(K.unit(),K.bitWidth())}case d.Type.Timestamp:{const K=E.type(new f.Timestamp);return new z.Timestamp(K.unit(),K.timezone())}case d.Type.Interval:{const K=E.type(new p.Interval);return new z.Interval(K.unit())}case d.Type.Duration:{const K=E.type(new h.Duration);return new z.Duration(K.unit())}case d.Type.Union:{const K=E.type(new y.Union);return new z.Union(K.mode(),K.typeIdsArray()||[],D||[])}case d.Type.FixedSizeBinary:{const K=E.type(new b.FixedSizeBinary);return new z.FixedSizeBinary(K.byteWidth())}case d.Type.FixedSizeList:{const K=E.type(new _.FixedSizeList);return new z.FixedSizeList(K.listSize(),(D||[])[0])}case d.Type.Map:{const K=E.type(new S.Map);return new z.Map_((D||[])[0],K.keysSorted())}}throw new Error(`Unrecognized type: "${d.Type[k]}" (${k})`)}function jt(E,D){const k=D.fields.map(ge=>w.Field.encode(E,ge));e.Schema.startFieldsVector(E,k.length);const K=e.Schema.createFieldsVector(E,k),le=D.metadata&&D.metadata.size>0?e.Schema.createCustomMetadataVector(E,[...D.metadata].map(([ge,X])=>{const Pe=E.createString(`${ge}`),ze=E.createString(`${X}`);return c.KeyValue.startKeyValue(E),c.KeyValue.addKey(E,Pe),c.KeyValue.addValue(E,ze),c.KeyValue.endKeyValue(E)})):-1;return e.Schema.startSchema(E),e.Schema.addFields(E,K),e.Schema.addEndianness(E,q?l.Endianness.Little:l.Endianness.Big),le!==-1&&e.Schema.addCustomMetadata(E,le),e.Schema.endSchema(E)}function Bt(E,D){let k=-1,K=-1,le=-1;const ge=D.type;let X=D.typeId;z.DataType.isDictionary(ge)?(X=ge.dictionary.typeId,le=I.instance.visit(ge,E),K=I.instance.visit(ge.dictionary,E)):K=I.instance.visit(ge,E);const Pe=(ge.children||[]).map(ye=>w.Field.encode(E,ye)),ze=s.Field.createChildrenVector(E,Pe),We=D.metadata&&D.metadata.size>0?s.Field.createCustomMetadataVector(E,[...D.metadata].map(([ye,Ve])=>{const et=E.createString(`${ye}`),Ft=E.createString(`${Ve}`);return c.KeyValue.startKeyValue(E),c.KeyValue.addKey(E,et),c.KeyValue.addValue(E,Ft),c.KeyValue.endKeyValue(E)})):-1;return D.name&&(k=E.createString(D.name)),s.Field.startField(E),s.Field.addType(E,K),s.Field.addTypeType(E,X),s.Field.addChildren(E,ze),s.Field.addNullable(E,!!D.nullable),k!==-1&&s.Field.addName(E,k),le!==-1&&s.Field.addDictionary(E,le),We!==-1&&s.Field.addCustomMetadata(E,We),s.Field.endField(E)}function At(E,D){const k=D.nodes||[],K=D.buffers||[];o.RecordBatch.startNodesVector(E,k.length);for(const X of k.slice().reverse())Z.encode(E,X);const le=E.endVector();o.RecordBatch.startBuffersVector(E,K.length);for(const X of K.slice().reverse())V.encode(E,X);const ge=E.endVector();return o.RecordBatch.startRecordBatch(E),o.RecordBatch.addLength(E,BigInt(D.length)),o.RecordBatch.addNodes(E,le),o.RecordBatch.addBuffers(E,ge),o.RecordBatch.endRecordBatch(E)}function mt(E,D){const k=Y.encode(E,D.data);return r.DictionaryBatch.startDictionaryBatch(E),r.DictionaryBatch.addId(E,BigInt(D.id)),r.DictionaryBatch.addIsDelta(E,D.isDelta),r.DictionaryBatch.addData(E,k),r.DictionaryBatch.endDictionaryBatch(E)}function de(E,D){return n.FieldNode.createFieldNode(E,BigInt(D.length),BigInt(D.nullCount))}function oe(E,D){return i.Buffer.createBuffer(E,BigInt(D.offset),BigInt(D.length))}const q=(()=>{const E=new ArrayBuffer(2);return new DataView(E).setInt16(0,256,!0),new Int16Array(E)[0]===256})();return er}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.magicX2AndPadding=t.magicAndPadding=t.magicLength=t.checkForMagicArrowString=t.MAGIC=t.MAGIC_STR=t.PADDING=t.JSONMessageReader=t.AsyncMessageReader=t.MessageReader=void 0;const e=wr,a=xa,o=St,r=em(),i=ld,s=vc,n=Oe,d=Go,c=Jf,l=y=>`Expected ${a.MessageHeader[y]} Message in stream, but was null or length 0.`,m=y=>`Header pointer of flatbuffer-encoded ${a.MessageHeader[y]} Message is null or length 0.`,u=(y,b)=>`Expected to read ${y} metadata bytes, but only read ${b}.`,v=(y,b)=>`Expected to read ${y} bytes for message body, but only read ${b}.`;class g{constructor(b){this.source=b instanceof d.ByteStream?b:new d.ByteStream(b)}[Symbol.iterator](){return this}next(){let b;return(b=this.readMetadataLength()).done||b.value===-1&&(b=this.readMetadataLength()).done||(b=this.readMetadata(b.value)).done?c.ITERATOR_DONE:b}throw(b){return this.source.throw(b)}return(b){return this.source.return(b)}readMessage(b){let _;if((_=this.next()).done)return null;if(b!=null&&_.value.headerType!==b)throw new Error(l(b));return _.value}readMessageBody(b){if(b<=0)return new Uint8Array(0);const _=(0,n.toUint8Array)(this.source.read(b));if(_.byteLength<b)throw new Error(v(b,_.byteLength));return _.byteOffset%8===0&&_.byteOffset+_.byteLength<=_.buffer.byteLength?_:_.slice()}readSchema(b=!1){const _=a.MessageHeader.Schema,S=this.readMessage(_),x=S==null?void 0:S.header();if(b&&!x)throw new Error(m(_));return x}readMetadataLength(){const b=this.source.read(t.PADDING),_=b&&new o.ByteBuffer(b),S=(_==null?void 0:_.readInt32(0))||0;return{done:S===0,value:S}}readMetadata(b){const _=this.source.read(b);if(!_)return c.ITERATOR_DONE;if(_.byteLength<b)throw new Error(u(b,_.byteLength));return{done:!1,value:r.Message.decode(_)}}}t.MessageReader=g;class f{constructor(b,_){this.source=b instanceof d.AsyncByteStream?b:(0,i.isFileHandle)(b)?new s.AsyncRandomAccessFile(b,_):new d.AsyncByteStream(b)}[Symbol.asyncIterator](){return this}next(){return e.__awaiter(this,void 0,void 0,function*(){let b;return(b=yield this.readMetadataLength()).done||b.value===-1&&(b=yield this.readMetadataLength()).done||(b=yield this.readMetadata(b.value)).done?c.ITERATOR_DONE:b})}throw(b){return e.__awaiter(this,void 0,void 0,function*(){return yield this.source.throw(b)})}return(b){return e.__awaiter(this,void 0,void 0,function*(){return yield this.source.return(b)})}readMessage(b){return e.__awaiter(this,void 0,void 0,function*(){let _;if((_=yield this.next()).done)return null;if(b!=null&&_.value.headerType!==b)throw new Error(l(b));return _.value})}readMessageBody(b){return e.__awaiter(this,void 0,void 0,function*(){if(b<=0)return new Uint8Array(0);const _=(0,n.toUint8Array)(yield this.source.read(b));if(_.byteLength<b)throw new Error(v(b,_.byteLength));return _.byteOffset%8===0&&_.byteOffset+_.byteLength<=_.buffer.byteLength?_:_.slice()})}readSchema(b=!1){return e.__awaiter(this,void 0,void 0,function*(){const _=a.MessageHeader.Schema,S=yield this.readMessage(_),x=S==null?void 0:S.header();if(b&&!x)throw new Error(m(_));return x})}readMetadataLength(){return e.__awaiter(this,void 0,void 0,function*(){const b=yield this.source.read(t.PADDING),_=b&&new o.ByteBuffer(b),S=(_==null?void 0:_.readInt32(0))||0;return{done:S===0,value:S}})}readMetadata(b){return e.__awaiter(this,void 0,void 0,function*(){const _=yield this.source.read(b);if(!_)return c.ITERATOR_DONE;if(_.byteLength<b)throw new Error(u(b,_.byteLength));return{done:!1,value:r.Message.decode(_)}})}}t.AsyncMessageReader=f;class p extends g{constructor(b){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=b instanceof c.ArrowJSON?b:new c.ArrowJSON(b)}next(){const{_json:b}=this;if(!this._schema)return this._schema=!0,{done:!1,value:r.Message.fromJSON(b.schema,a.MessageHeader.Schema)};if(this._dictionaryIndex<b.dictionaries.length){const _=b.dictionaries[this._dictionaryIndex++];return this._body=_.data.columns,{done:!1,value:r.Message.fromJSON(_,a.MessageHeader.DictionaryBatch)}}if(this._batchIndex<b.batches.length){const _=b.batches[this._batchIndex++];return this._body=_.columns,{done:!1,value:r.Message.fromJSON(_,a.MessageHeader.RecordBatch)}}return this._body=[],c.ITERATOR_DONE}readMessageBody(b){return _(this._body);function _(S){return(S||[]).reduce((x,w)=>[...x,...w.VALIDITY&&[w.VALIDITY]||[],...w.TYPE_ID&&[w.TYPE_ID]||[],...w.OFFSET&&[w.OFFSET]||[],...w.DATA&&[w.DATA]||[],..._(w.children)],[])}}readMessage(b){let _;if((_=this.next()).done)return null;if(b!=null&&_.value.headerType!==b)throw new Error(l(b));return _.value}readSchema(){const b=a.MessageHeader.Schema,_=this.readMessage(b),S=_==null?void 0:_.header();if(!_||!S)throw new Error(m(b));return S}}t.JSONMessageReader=p,t.PADDING=4,t.MAGIC_STR="ARROW1",t.MAGIC=new Uint8Array(t.MAGIC_STR.length);for(let y=0;y<t.MAGIC_STR.length;y+=1)t.MAGIC[y]=t.MAGIC_STR.codePointAt(y);function h(y,b=0){for(let _=-1,S=t.MAGIC.length;++_<S;)if(t.MAGIC[_]!==y[b+_])return!1;return!0}t.checkForMagicArrowString=h,t.magicLength=t.MAGIC.length,t.magicAndPadding=t.magicLength+t.PADDING,t.magicX2AndPadding=t.magicLength*2+t.PADDING})(vy);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.AsyncRecordBatchFileReader=Ro.RecordBatchFileReader=Ro.AsyncRecordBatchStreamReader=Ro.RecordBatchStreamReader=Ro.RecordBatchReader=void 0;const Jt=wr,Ute=Xs(),uC=Qo(),Vte=fe,r0=xa,Wq=fc,mC=qu,pC=Go,tf=vc,Gq=uu,gS=Ic(),Kd=Jf,Vr=vy,Rr=ld;class Ns extends Kd.ReadableInterop{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const a=this._impl.open(e);return(0,Rr.isPromise)(a)?a.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return mC.default.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return mC.default.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,a){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Ns?e:(0,Rr.isArrowJSON)(e)?Wte(e):(0,Rr.isFileHandle)(e)?Zte(e):(0,Rr.isPromise)(e)?Jt.__awaiter(this,void 0,void 0,function*(){return yield Ns.from(yield e)}):(0,Rr.isFetchResponse)(e)||(0,Rr.isReadableDOMStream)(e)||(0,Rr.isReadableNodeStream)(e)||(0,Rr.isAsyncIterable)(e)?Yte(new pC.AsyncByteStream(e)):Gte(new pC.ByteStream(e))}static readAll(e){return e instanceof Ns?e.isSync()?fC(e):hC(e):(0,Rr.isArrowJSON)(e)||ArrayBuffer.isView(e)||(0,Rr.isIterable)(e)||(0,Rr.isIteratorResult)(e)?fC(e):hC(e)}}Ro.RecordBatchReader=Ns;class af extends Ns{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Jt.__asyncGenerator(this,arguments,function*(){yield Jt.__await(yield*Jt.__asyncDelegator(Jt.__asyncValues(this[Symbol.iterator]())))})}}Ro.RecordBatchStreamReader=af;class of extends Ns{constructor(e){super(e),this._impl=e}readAll(){var e,a,o,r;return Jt.__awaiter(this,void 0,void 0,function*(){const i=new Array;try{for(var s=!0,n=Jt.__asyncValues(this),d;d=yield n.next(),e=d.done,!e;s=!0){r=d.value,s=!1;const c=r;i.push(c)}}catch(c){a={error:c}}finally{try{!s&&!e&&(o=n.return)&&(yield o.call(n))}finally{if(a)throw a.error}}return i})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}Ro.AsyncRecordBatchStreamReader=of;class yS extends af{constructor(e){super(e),this._impl=e}}Ro.RecordBatchFileReader=yS;class Yq extends of{constructor(e){super(e),this._impl=e}}Ro.AsyncRecordBatchFileReader=Yq;class Zq{get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,a){const o=this._loadVectors(e,a,this.schema.fields),r=(0,Ute.makeData)({type:new Vte.Struct(this.schema.fields),length:e.length,children:o});return new gS.RecordBatch(this.schema,r)}_loadDictionaryBatch(e,a){const{id:o,isDelta:r}=e,{dictionaries:i,schema:s}=this,n=i.get(o);if(r||!n){const d=s.dictionaries.get(o),c=this._loadVectors(e.data,a,[d]);return(n&&r?n.concat(new uC.Vector(c)):new uC.Vector(c)).memoize()}return n.memoize()}_loadVectors(e,a,o){return new Gq.VectorLoader(a,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(o)}}class i0 extends Zq{constructor(e,a){super(a),this._reader=(0,Rr.isArrowJSON)(e)?new Vr.JSONMessageReader(this._handle=e):new Vr.MessageReader(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=Qq(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Kd.ITERATOR_DONE}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Kd.ITERATOR_DONE}next(){if(this.closed)return Kd.ITERATOR_DONE;let e;const{_reader:a}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const o=e.header(),r=a.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(o,r)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const o=e.header(),r=a.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(o,r);this.dictionaries.set(o.id,i)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new gS._InternalEmptyPlaceholderRecordBatch(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class s0 extends Zq{constructor(e,a){super(a),this._reader=new Vr.AsyncMessageReader(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return Jt.__awaiter(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return Jt.__awaiter(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Qq(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return Jt.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):Kd.ITERATOR_DONE})}return(e){return Jt.__awaiter(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):Kd.ITERATOR_DONE})}next(){return Jt.__awaiter(this,void 0,void 0,function*(){if(this.closed)return Kd.ITERATOR_DONE;let e;const{_reader:a}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const o=e.header(),r=yield a.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(o,r)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const o=e.header(),r=yield a.readMessageBody(e.bodyLength),i=this._loadDictionaryBatch(o,r);this.dictionaries.set(o.id,i)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new gS._InternalEmptyPlaceholderRecordBatch(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return Jt.__awaiter(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class Kq extends i0{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,a){super(e instanceof tf.RandomAccessFile?e:new tf.RandomAccessFile(e),a)}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const a of this._footer.dictionaryBatches())a&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var a;if(this.closed)return null;this._footer||this.open();const o=(a=this._footer)===null||a===void 0?void 0:a.getRecordBatch(e);if(o&&this._handle.seek(o.offset)){const r=this._reader.readMessage(r0.MessageHeader.RecordBatch);if(r!=null&&r.isRecordBatch()){const i=r.header(),s=this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(i,s)}}return null}_readDictionaryBatch(e){var a;const o=(a=this._footer)===null||a===void 0?void 0:a.getDictionaryBatch(e);if(o&&this._handle.seek(o.offset)){const r=this._reader.readMessage(r0.MessageHeader.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const i=r.header(),s=this._reader.readMessageBody(r.bodyLength),n=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,n)}}}_readFooter(){const{_handle:e}=this,a=e.size-Vr.magicAndPadding,o=e.readInt32(a),r=e.readAt(a-o,o);return Wq.Footer.decode(r)}_readNextMessageAndValidate(e){var a;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const o=(a=this._footer)===null||a===void 0?void 0:a.getRecordBatch(this._recordBatchIndex);if(o&&this._handle.seek(o.offset))return this._reader.readMessage(e)}return null}}class $te extends s0{get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}constructor(e,...a){const o=typeof a[0]!="number"?a.shift():void 0,r=a[0]instanceof Map?a.shift():void 0;super(e instanceof tf.AsyncRandomAccessFile?e:new tf.AsyncRandomAccessFile(e,o),r)}isFile(){return!0}isAsync(){return!0}open(e){const a=Object.create(null,{open:{get:()=>super.open}});return Jt.__awaiter(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const o of this._footer.dictionaryBatches())o&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield a.open.call(this,e)})}readRecordBatch(e){var a;return Jt.__awaiter(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const o=(a=this._footer)===null||a===void 0?void 0:a.getRecordBatch(e);if(o&&(yield this._handle.seek(o.offset))){const r=yield this._reader.readMessage(r0.MessageHeader.RecordBatch);if(r!=null&&r.isRecordBatch()){const i=r.header(),s=yield this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(i,s)}}return null})}_readDictionaryBatch(e){var a;return Jt.__awaiter(this,void 0,void 0,function*(){const o=(a=this._footer)===null||a===void 0?void 0:a.getDictionaryBatch(e);if(o&&(yield this._handle.seek(o.offset))){const r=yield this._reader.readMessage(r0.MessageHeader.DictionaryBatch);if(r!=null&&r.isDictionaryBatch()){const i=r.header(),s=yield this._reader.readMessageBody(r.bodyLength),n=this._loadDictionaryBatch(i,s);this.dictionaries.set(i.id,n)}}})}_readFooter(){return Jt.__awaiter(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const a=e.size-Vr.magicAndPadding,o=yield e.readInt32(a),r=yield e.readAt(a-o,o);return Wq.Footer.decode(r)})}_readNextMessageAndValidate(e){return Jt.__awaiter(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const a=this._footer.getRecordBatch(this._recordBatchIndex);if(a&&(yield this._handle.seek(a.offset)))return yield this._reader.readMessage(e)}return null})}}class Hte extends i0{constructor(e,a){super(e,a)}_loadVectors(e,a,o){return new Gq.JSONVectorLoader(a,e.nodes,e.buffers,this.dictionaries,this.schema.metadataVersion).visitMany(o)}}function Qq(t,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:t.autoDestroy}function*fC(t){const e=Ns.from(t);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function hC(t){return Jt.__asyncGenerator(this,arguments,function*(){const a=yield Jt.__await(Ns.from(t));try{if(!(yield Jt.__await(a.open({autoDestroy:!1}))).closed)do yield yield Jt.__await(a);while(!(yield Jt.__await(a.reset().open())).closed)}finally{yield Jt.__await(a.cancel())}})}function Wte(t){return new af(new Hte(t))}function Gte(t){const e=t.peek(Vr.magicLength+7&-8);return e&&e.byteLength>=4?(0,Vr.checkForMagicArrowString)(e)?new yS(new Kq(t.read())):new af(new i0(t)):new af(new i0(function*(){}()))}function Yte(t){return Jt.__awaiter(this,void 0,void 0,function*(){const e=yield t.peek(Vr.magicLength+7&-8);return e&&e.byteLength>=4?(0,Vr.checkForMagicArrowString)(e)?new yS(new Kq(yield t.read())):new of(new s0(t)):new of(new s0(function(){return Jt.__asyncGenerator(this,arguments,function*(){})}()))})}function Zte(t){return Jt.__awaiter(this,void 0,void 0,function*(){const{size:e}=yield t.stat(),a=new tf.AsyncRandomAccessFile(t,e);return e>=Vr.magicX2AndPadding&&(0,Vr.checkForMagicArrowString)(yield a.readAt(0,Vr.magicLength+7&-8))?new Yq(new $te(a)):new of(new s0(a))})}var zr={},yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.VectorAssembler=void 0;const Kte=Qo(),Qte=Ao,vC=xa,Xte=Ic(),Xq=Oe,I3=da,D3=em(),Gb=fe,gC=Qs;class Ca extends Qte.Visitor{static assemble(...e){const a=r=>r.flatMap(i=>Array.isArray(i)?a(i):i instanceof Xte.RecordBatch?i.data.children:i.data),o=new Ca;return o.visitMany(a(e)),o}constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}visit(e){if(e instanceof Kte.Vector)return this.visitMany(e.data),this;const{type:a}=e;if(!Gb.DataType.isDictionary(a)){const{length:o}=e;if(o>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");if(Gb.DataType.isUnion(a))this.nodes.push(new D3.FieldNode(o,0));else{const{nullCount:r}=e;Gb.DataType.isNull(a)||wi.call(this,r<=0?new Uint8Array(0):(0,I3.truncateBitmap)(e.offset,o,e.nullBitmap)),this.nodes.push(new D3.FieldNode(o,r))}}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}yy.VectorAssembler=Ca;function wi(t){const e=t.byteLength+7&-8;return this.buffers.push(t),this.bufferRegions.push(new D3.BufferRegion(this._byteLength,e)),this._byteLength+=e,this}function Jte(t){var e;const{type:a,length:o,typeIds:r,valueOffsets:i}=t;if(wi.call(this,r),a.mode===vC.UnionMode.Sparse)return q3.call(this,t);if(a.mode===vC.UnionMode.Dense){if(t.offset<=0)return wi.call(this,i),q3.call(this,t);{const s=new Int32Array(o),n=Object.create(null),d=Object.create(null);for(let c,l,m=-1;++m<o;)(c=r[m])!==void 0&&((l=n[c])===void 0&&(l=n[c]=i[m]),s[m]=i[m]-l,d[c]=((e=d[c])!==null&&e!==void 0?e:0)+1);wi.call(this,s),this.visitMany(t.children.map((c,l)=>{const m=a.typeIds[l],u=n[m],v=d[m];return c.slice(u,Math.min(o,v))}))}}return this}function eae(t){let e;return t.nullCount>=t.length?wi.call(this,new Uint8Array(0)):(e=t.values)instanceof Uint8Array?wi.call(this,(0,I3.truncateBitmap)(t.offset,t.length,e)):wi.call(this,(0,I3.packBools)(t.values))}function tn(t){return wi.call(this,t.values.subarray(0,t.length*t.stride))}function by(t){const{length:e,values:a,valueOffsets:o}=t,r=(0,gC.bigIntToNumber)(o[0]),i=(0,gC.bigIntToNumber)(o[e]),s=Math.min(i-r,a.byteLength-r);return wi.call(this,(0,Xq.rebaseValueOffsets)(-r,e+1,o)),wi.call(this,a.subarray(r,r+s)),this}function bS(t){const{length:e,valueOffsets:a}=t;if(a){const{[0]:o,[e]:r}=a;return wi.call(this,(0,Xq.rebaseValueOffsets)(-o,e+1,a)),this.visit(t.children[0].slice(o,r-o))}return this.visit(t.children[0])}function q3(t){return this.visitMany(t.type.children.map((e,a)=>t.children[a]).filter(Boolean))[0]}Ca.prototype.visitBool=eae;Ca.prototype.visitInt=tn;Ca.prototype.visitFloat=tn;Ca.prototype.visitUtf8=by;Ca.prototype.visitLargeUtf8=by;Ca.prototype.visitBinary=by;Ca.prototype.visitLargeBinary=by;Ca.prototype.visitFixedSizeBinary=tn;Ca.prototype.visitDate=tn;Ca.prototype.visitTimestamp=tn;Ca.prototype.visitTime=tn;Ca.prototype.visitDecimal=tn;Ca.prototype.visitList=bS;Ca.prototype.visitStruct=q3;Ca.prototype.visitUnion=Jte;Ca.prototype.visitInterval=tn;Ca.prototype.visitDuration=tn;Ca.prototype.visitFixedSizeList=bS;Ca.prototype.visitMap=bS;var _y={};Object.defineProperty(_y,"__esModule",{value:!0});_y.JSONTypeAssembler=void 0;const tae=Ao,Fa=Ur,yd=xa;class aae extends tae.Visitor{visit(e){return e==null?void 0:super.visit(e)}visitNull({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitInt({typeId:e,bitWidth:a,isSigned:o}){return{name:Fa.Type[e].toLowerCase(),bitWidth:a,isSigned:o}}visitFloat({typeId:e,precision:a}){return{name:Fa.Type[e].toLowerCase(),precision:yd.Precision[a]}}visitBinary({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitLargeBinary({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitBool({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitUtf8({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitLargeUtf8({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitDecimal({typeId:e,scale:a,precision:o,bitWidth:r}){return{name:Fa.Type[e].toLowerCase(),scale:a,precision:o,bitWidth:r}}visitDate({typeId:e,unit:a}){return{name:Fa.Type[e].toLowerCase(),unit:yd.DateUnit[a]}}visitTime({typeId:e,unit:a,bitWidth:o}){return{name:Fa.Type[e].toLowerCase(),unit:yd.TimeUnit[a],bitWidth:o}}visitTimestamp({typeId:e,timezone:a,unit:o}){return{name:Fa.Type[e].toLowerCase(),unit:yd.TimeUnit[o],timezone:a}}visitInterval({typeId:e,unit:a}){return{name:Fa.Type[e].toLowerCase(),unit:yd.IntervalUnit[a]}}visitDuration({typeId:e,unit:a}){return{name:Fa.Type[e].toLocaleLowerCase(),unit:yd.TimeUnit[a]}}visitList({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitStruct({typeId:e}){return{name:Fa.Type[e].toLowerCase()}}visitUnion({typeId:e,mode:a,typeIds:o}){return{name:Fa.Type[e].toLowerCase(),mode:yd.UnionMode[a].toUpperCase(),typeIds:[...o]}}visitDictionary(e){return this.visit(e.dictionary)}visitFixedSizeBinary({typeId:e,byteWidth:a}){return{name:Fa.Type[e].toLowerCase(),byteWidth:a}}visitFixedSizeList({typeId:e,listSize:a}){return{name:Fa.Type[e].toLowerCase(),listSize:a}}visitMap({typeId:e,keysSorted:a}){return{name:Fa.Type[e].toLowerCase(),keysSorted:a}}}_y.JSONTypeAssembler=aae;var xy={};Object.defineProperty(xy,"__esModule",{value:!0});xy.JSONVectorAssembler=void 0;const oae=sy,qm=Qo(),rae=Ao,iae=xa,Yb=xa,av=da,Zb=fe;class _S extends rae.Visitor{static assemble(...e){const a=new _S;return e.map(({schema:o,data:r})=>a.visitMany(o.fields,r.children))}visit({name:e},a){const{length:o}=a,{offset:r,nullCount:i,nullBitmap:s}=a,n=Zb.DataType.isDictionary(a.type)?a.type.indices:a.type,d=Object.assign([],a.buffers,{[iae.BufferType.VALIDITY]:void 0});return Object.assign({name:e,count:o,VALIDITY:Zb.DataType.isNull(n)||Zb.DataType.isUnion(n)?void 0:i<=0?Array.from({length:o},()=>1):[...new av.BitIterator(s,r,o,null,av.getBit)]},super.visit(a.clone(n,r,o,0,d)))}visitNull(){return{}}visitBool({values:e,offset:a,length:o}){return{DATA:[...new av.BitIterator(e,a,o,null,av.getBool)]}}visitInt(e){return{DATA:e.type.bitWidth<64?[...e.values]:[...un(e.values,2)]}}visitFloat(e){return{DATA:[...e.values]}}visitUtf8(e){return{DATA:[...new qm.Vector([e])],OFFSET:[...e.valueOffsets]}}visitLargeUtf8(e){return{DATA:[...new qm.Vector([e])],OFFSET:[...un(e.valueOffsets,2)]}}visitBinary(e){return{DATA:[...Kb(new qm.Vector([e]))],OFFSET:[...e.valueOffsets]}}visitLargeBinary(e){return{DATA:[...Kb(new qm.Vector([e]))],OFFSET:[...un(e.valueOffsets,2)]}}visitFixedSizeBinary(e){return{DATA:[...Kb(new qm.Vector([e]))]}}visitDate(e){return{DATA:e.type.unit===Yb.DateUnit.DAY?[...e.values]:[...un(e.values,2)]}}visitTimestamp(e){return{DATA:[...un(e.values,2)]}}visitTime(e){return{DATA:e.type.unit<Yb.TimeUnit.MICROSECOND?[...e.values]:[...un(e.values,2)]}}visitDecimal(e){return{DATA:[...un(e.values,4)]}}visitList(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}visitStruct(e){return{children:this.visitMany(e.type.children,e.children)}}visitUnion(e){return{TYPE_ID:[...e.typeIds],OFFSET:e.type.mode===Yb.UnionMode.Dense?[...e.valueOffsets]:void 0,children:this.visitMany(e.type.children,e.children)}}visitInterval(e){return{DATA:[...e.values]}}visitDuration(e){return{DATA:[...un(e.values,2)]}}visitFixedSizeList(e){return{children:this.visitMany(e.type.children,e.children)}}visitMap(e){return{OFFSET:[...e.valueOffsets],children:this.visitMany(e.type.children,e.children)}}}xy.JSONVectorAssembler=_S;function*Kb(t){for(const e of t)yield e.reduce((a,o)=>`${a}${("0"+(o&255).toString(16)).slice(-2)}`,"").toUpperCase()}function*un(t,e){const a=new Uint32Array(t.buffer);for(let o=-1,r=a.length/e;++o<r;)yield`${oae.BN.new(a.subarray((o+0)*e,(o+1)*e),!1)}`}Object.defineProperty(zr,"__esModule",{value:!0});zr.RecordBatchJSONWriter=zr.RecordBatchFileWriter=zr.RecordBatchStreamWriter=zr.RecordBatchWriter=void 0;const yC=wr,P3=fh(),sae=vy,nae=Qo(),dae=fe,ov=em(),Qb=em(),fu=fc,L3=xa,bC=ph,Xb=Go,_C=yy,cae=_y,Jq=xy,lae=Oe,rg=Ic(),uae=Jf,Vi=ld;class wy extends uae.ReadableInterop{static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,a){throw new Error('"throughDOM" not available in this environment')}constructor(e){super(),this._position=0,this._started=!1,this._sink=new Xb.AsyncByteQueue,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(0,Vi.isObject)(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return(0,Vi.isPromise)(e)?e.then(a=>this.writeAll(a)):(0,Vi.isAsyncIterable)(e)?ES(this,e):AS(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,a=null){return e===this._sink||e instanceof Xb.AsyncByteQueue?this._sink=e:(this._sink=new Xb.AsyncByteQueue,e&&(0,Vi.isWritableDOMStream)(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&(0,Vi.isWritableNodeStream)(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!a||!(0,bC.compareSchemas)(a,this._schema))&&(a==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=a,this._writeSchema(a))),this}write(e){let a=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof P3.Table&&!(a=e.schema))return this.finish()&&void 0;if(e instanceof rg.RecordBatch&&!(a=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(a&&!(0,bC.compareSchemas)(a,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,a)}e instanceof rg.RecordBatch?e instanceof rg._InternalEmptyPlaceholderRecordBatch||this._writeRecordBatch(e):e instanceof P3.Table?this.writeAll(e.batches):(0,Vi.isIterable)(e)&&this.writeAll(e)}_writeMessage(e,a=8){const o=a-1,r=ov.Message.encode(e),i=r.byteLength,s=this._writeLegacyIpcFormat?4:8,n=i+s+o&~o,d=n-i-s;return e.headerType===L3.MessageHeader.RecordBatch?this._recordBatchBlocks.push(new fu.FileBlock(n,e.bodyLength,this._position)):e.headerType===L3.MessageHeader.DictionaryBatch&&this._dictionaryBlocks.push(new fu.FileBlock(n,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(n-s)),i>0&&this._write(r),this._writePadding(d)}_write(e){if(this._started){const a=(0,lae.toUint8Array)(e);a&&a.byteLength>0&&(this._sink.write(a),this._position+=a.byteLength)}return this}_writeSchema(e){return this._writeMessage(ov.Message.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(sae.MAGIC)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:a,nodes:o,bufferRegions:r,buffers:i}=_C.VectorAssembler.assemble(e),s=new Qb.RecordBatch(e.numRows,o,r),n=ov.Message.from(s,a);return this._writeDictionaries(e)._writeMessage(n)._writeBodyBuffers(i)}_writeDictionaryBatch(e,a,o=!1){this._dictionaryDeltaOffsets.set(a,e.length+(this._dictionaryDeltaOffsets.get(a)||0));const{byteLength:r,nodes:i,bufferRegions:s,buffers:n}=_C.VectorAssembler.assemble(new nae.Vector([e])),d=new Qb.RecordBatch(e.length,i,s),c=new Qb.DictionaryBatch(d,a,o),l=ov.Message.from(c,r);return this._writeMessage(l)._writeBodyBuffers(n)}_writeBodyBuffers(e){let a,o,r;for(let i=-1,s=e.length;++i<s;)(a=e[i])&&(o=a.byteLength)>0&&(this._write(a),(r=(o+7&-8)-o)>0&&this._writePadding(r));return this}_writeDictionaries(e){for(let[a,o]of e.dictionaries){let r=this._dictionaryDeltaOffsets.get(a)||0;if(r===0||(o=o==null?void 0:o.slice(r)).length>0)for(const i of o.data)this._writeDictionaryBatch(i,a,r>0),r+=i.length}return this}}zr.RecordBatchWriter=wy;class xS extends wy{static writeAll(e,a){const o=new xS(a);return(0,Vi.isPromise)(e)?e.then(r=>o.writeAll(r)):(0,Vi.isAsyncIterable)(e)?ES(o,e):AS(o,e)}}zr.RecordBatchStreamWriter=xS;class wS extends wy{static writeAll(e){const a=new wS;return(0,Vi.isPromise)(e)?e.then(o=>a.writeAll(o)):(0,Vi.isAsyncIterable)(e)?ES(a,e):AS(a,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const a=fu.Footer.encode(new fu.Footer(e,L3.MetadataVersion.V5,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(a)._write(Int32Array.of(a.byteLength))._writeMagic()}}zr.RecordBatchFileWriter=wS;class SS extends wy{static writeAll(e){return new SS().writeAll(e)}constructor(){super(),this._autoDestroy=!0,this._recordBatches=[],this._dictionaries=[]}_writeMessage(){return this}_writeFooter(e){return this}_writeSchema(e){return this._write(`{
  "schema": ${JSON.stringify({fields:e.fields.map(a=>e8(a))},null,2)}`)}_writeDictionaries(e){return e.dictionaries.size>0&&this._dictionaries.push(e),this}_writeDictionaryBatch(e,a,o=!1){return this._dictionaryDeltaOffsets.set(a,e.length+(this._dictionaryDeltaOffsets.get(a)||0)),this._write(this._dictionaryBlocks.length===0?"    ":`,
    `),this._write(mae(e,a,o)),this._dictionaryBlocks.push(new fu.FileBlock(0,0,0)),this}_writeRecordBatch(e){return this._writeDictionaries(e),this._recordBatches.push(e),this}close(){if(this._dictionaries.length>0){this._write(`,
  "dictionaries": [
`);for(const e of this._dictionaries)super._writeDictionaries(e);this._write(`
  ]`)}if(this._recordBatches.length>0){for(let e=-1,a=this._recordBatches.length;++e<a;)this._write(e===0?`,
  "batches": [
    `:`,
    `),this._write(pae(this._recordBatches[e])),this._recordBatchBlocks.push(new fu.FileBlock(0,0,0));this._write(`
  ]`)}return this._schema&&this._write(`
}`),this._dictionaries=[],this._recordBatches=[],super.close()}}zr.RecordBatchJSONWriter=SS;function AS(t,e){let a=e;e instanceof P3.Table&&(a=e.batches,t.reset(void 0,e.schema));for(const o of a)t.write(o);return t.finish()}function ES(t,e){var a,o,r,i,s,n,d;return yC.__awaiter(this,void 0,void 0,function*(){try{for(a=!0,o=yC.__asyncValues(e);r=yield o.next(),i=r.done,!i;a=!0){d=r.value,a=!1;const c=d;t.write(c)}}catch(c){s={error:c}}finally{try{!a&&!i&&(n=o.return)&&(yield n.call(o))}finally{if(s)throw s.error}}return t.finish()})}function e8({name:t,type:e,nullable:a}){const o=new cae.JSONTypeAssembler;return{name:t,nullable:a,type:o.visit(e),children:(e.children||[]).map(r=>e8(r)),dictionary:dae.DataType.isDictionary(e)?{id:e.id,isOrdered:e.isOrdered,indexType:o.visit(e.indices)}:void 0}}function mae(t,e,a=!1){const[o]=Jq.JSONVectorAssembler.assemble(new rg.RecordBatch({[e]:t}));return JSON.stringify({id:e,isDelta:a,data:{count:t.length,columns:o}},null,2)}function pae(t){const[e]=Jq.JSONVectorAssembler.assemble(t);return JSON.stringify({count:t.numRows,columns:e},null,2)}var Sy={};Object.defineProperty(Sy,"__esModule",{value:!0});Sy.toDOMStream=void 0;const rv=wr,t8=Oe,xC=ld;function fae(t,e){if((0,xC.isAsyncIterable)(t))return vae(t,e);if((0,xC.isIterable)(t))return hae(t,e);throw new Error("toDOMStream() must be called with an Iterable or AsyncIterable")}Sy.toDOMStream=fae;function hae(t,e){let a=null;const o=(e==null?void 0:e.type)==="bytes"||!1,r=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(s){i(s,a||(a=t[Symbol.iterator]()))},pull(s){a?i(s,a):s.close()},cancel(){(a!=null&&a.return&&a.return()||!0)&&(a=null)}}),Object.assign({highWaterMark:o?r:void 0},e));function i(s,n){let d,c=null,l=s.desiredSize||null;for(;!(c=n.next(o?l:null)).done;)if(ArrayBuffer.isView(c.value)&&(d=(0,t8.toUint8Array)(c.value))&&(l!=null&&o&&(l=l-d.byteLength+1),c.value=d),s.enqueue(c.value),l!=null&&--l<=0)return;s.close()}}function vae(t,e){let a=null;const o=(e==null?void 0:e.type)==="bytes"||!1,r=(e==null?void 0:e.highWaterMark)||Math.pow(2,24);return new ReadableStream(Object.assign(Object.assign({},e),{start(s){return rv.__awaiter(this,void 0,void 0,function*(){yield i(s,a||(a=t[Symbol.asyncIterator]()))})},pull(s){return rv.__awaiter(this,void 0,void 0,function*(){a?yield i(s,a):s.close()})},cancel(){return rv.__awaiter(this,void 0,void 0,function*(){(a!=null&&a.return&&(yield a.return())||!0)&&(a=null)})}}),Object.assign({highWaterMark:o?r:void 0},e));function i(s,n){return rv.__awaiter(this,void 0,void 0,function*(){let d,c=null,l=s.desiredSize||null;for(;!(c=yield n.next(o?l:null)).done;)if(ArrayBuffer.isView(c.value)&&(d=(0,t8.toUint8Array)(c.value))&&(l!=null&&o&&(l=l-d.byteLength+1),c.value=d),s.enqueue(c.value),l!=null&&--l<=0)return;s.close()})}}var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.BuilderTransform=hu.builderThroughDOMStream=void 0;const gae=wr,yae=hy();function bae(t){return new a8(t)}hu.builderThroughDOMStream=bae;class a8{constructor(e){this._numChunks=0,this._finished=!1,this._bufferedSize=0;const{["readableStrategy"]:a,["writableStrategy"]:o,["queueingStrategy"]:r="count"}=e,i=gae.__rest(e,["readableStrategy","writableStrategy","queueingStrategy"]);this._controller=null,this._builder=(0,yae.makeBuilder)(i),this._getSize=r!=="bytes"?wC:SC;const{["highWaterMark"]:s=r==="bytes"?Math.pow(2,14):1e3}=Object.assign({},a),{["highWaterMark"]:n=r==="bytes"?Math.pow(2,14):1e3}=Object.assign({},o);this.readable=new ReadableStream({cancel:()=>{this._builder.clear()},pull:d=>{this._maybeFlush(this._builder,this._controller=d)},start:d=>{this._maybeFlush(this._builder,this._controller=d)}},{highWaterMark:s,size:r!=="bytes"?wC:SC}),this.writable=new WritableStream({abort:()=>{this._builder.clear()},write:()=>{this._maybeFlush(this._builder,this._controller)},close:()=>{this._maybeFlush(this._builder.finish(),this._controller)}},{highWaterMark:n,size:d=>this._writeValueAndReturnChunkSize(d)})}_writeValueAndReturnChunkSize(e){const a=this._bufferedSize;return this._bufferedSize=this._getSize(this._builder.append(e)),this._bufferedSize-a}_maybeFlush(e,a){a!=null&&(this._bufferedSize>=a.desiredSize&&++this._numChunks&&this._enqueue(a,e.toVector()),e.finished&&((e.length>0||this._numChunks===0)&&++this._numChunks&&this._enqueue(a,e.toVector()),!this._finished&&(this._finished=!0)&&this._enqueue(a,null)))}_enqueue(e,a){this._bufferedSize=0,this._controller=null,a==null?e.close():e.enqueue(a)}}hu.BuilderTransform=a8;const wC=t=>{var e;return(e=t==null?void 0:t.length)!==null&&e!==void 0?e:0},SC=t=>{var e;return(e=t==null?void 0:t.byteLength)!==null&&e!==void 0?e:0};var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.recordBatchReaderThroughDOMStream=void 0;const Pm=wr,_ae=Go,xae=Ro;function wae(t,e){const a=new _ae.AsyncByteQueue;let o=null;const r=new ReadableStream({cancel(){return Pm.__awaiter(this,void 0,void 0,function*(){yield a.close()})},start(n){return Pm.__awaiter(this,void 0,void 0,function*(){yield s(n,o||(o=yield i()))})},pull(n){return Pm.__awaiter(this,void 0,void 0,function*(){o?yield s(n,o):n.close()})}});return{writable:new WritableStream(a,Object.assign({highWaterMark:Math.pow(2,14)},t)),readable:r};function i(){return Pm.__awaiter(this,void 0,void 0,function*(){return yield(yield xae.RecordBatchReader.from(a)).open(e)})}function s(n,d){return Pm.__awaiter(this,void 0,void 0,function*(){let c=n.desiredSize,l=null;for(;!(l=yield d.next()).done;)if(n.enqueue(l.value),c!=null&&--c<=0)return;n.close()})}}Ay.recordBatchReaderThroughDOMStream=wae;var Ey={};Object.defineProperty(Ey,"__esModule",{value:!0});Ey.recordBatchWriterThroughDOMStream=void 0;const iv=wr,Sae=Go;function Aae(t,e){const a=new this(t),o=new Sae.AsyncByteStream(a),r=new ReadableStream({cancel(){return iv.__awaiter(this,void 0,void 0,function*(){yield o.cancel()})},pull(s){return iv.__awaiter(this,void 0,void 0,function*(){yield i(s)})},start(s){return iv.__awaiter(this,void 0,void 0,function*(){yield i(s)})}},Object.assign({highWaterMark:Math.pow(2,14)},e));return{writable:new WritableStream(a,t),readable:r};function i(s){return iv.__awaiter(this,void 0,void 0,function*(){let n=null,d=s.desiredSize;for(;n=yield o.read(d||null);)if(s.enqueue(n),d!=null&&(d-=n.byteLength)<=0)return;s.close()})}}Ey.recordBatchWriterThroughDOMStream=Aae;var N3={},vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.tableToIPC=vu.tableFromIPC=void 0;const AC=fh(),Eae=ld,Mae=Ro,EC=zr;function o8(t){const e=Mae.RecordBatchReader.from(t);return(0,Eae.isPromise)(e)?e.then(a=>o8(a)):e.isAsync()?e.readAll().then(a=>new AC.Table(a)):new AC.Table(e.readAll())}vu.tableFromIPC=o8;function Tae(t,e="stream"){return(e==="stream"?EC.RecordBatchStreamWriter:EC.RecordBatchFileWriter).writeAll(t).toUint8Array(!0)}vu.tableToIPC=Tae;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DenseUnion=t.Union=t.Struct=t.List=t.Decimal=t.TimeNanosecond=t.TimeMicrosecond=t.TimeMillisecond=t.TimeSecond=t.Time=t.TimestampNanosecond=t.TimestampMicrosecond=t.TimestampMillisecond=t.TimestampSecond=t.Timestamp=t.DateMillisecond=t.DateDay=t.Date_=t.FixedSizeBinary=t.LargeBinary=t.Binary=t.LargeUtf8=t.Utf8=t.Float64=t.Float32=t.Float16=t.Float=t.Uint64=t.Uint32=t.Uint16=t.Uint8=t.Int64=t.Int32=t.Int16=t.Int8=t.Int=t.Bool=t.Null=t.DataType=t.makeData=t.Data=t.MetadataVersion=t.IntervalUnit=t.UnionMode=t.Precision=t.TimeUnit=t.DateUnit=t.BufferType=t.Type=t.MessageHeader=void 0,t.TimeBuilder=t.Uint64Builder=t.Uint32Builder=t.Uint16Builder=t.Uint8Builder=t.Int64Builder=t.Int32Builder=t.Int16Builder=t.Int8Builder=t.IntBuilder=t.Float64Builder=t.Float32Builder=t.Float16Builder=t.FloatBuilder=t.FixedSizeBinaryBuilder=t.DictionaryBuilder=t.DecimalBuilder=t.DateMillisecondBuilder=t.DateDayBuilder=t.DateBuilder=t.NullBuilder=t.BoolBuilder=t.builderThroughAsyncIterable=t.builderThroughIterable=t.tableFromJSON=t.vectorFromArray=t.makeBuilder=t.Builder=t.StructRow=t.MapRow=t.Field=t.Schema=t.Visitor=t.makeVector=t.Vector=t.tableFromArrays=t.makeTable=t.Table=t.Map_=t.FixedSizeList=t.DurationNanosecond=t.DurationMicrosecond=t.DurationMillisecond=t.DurationSecond=t.Duration=t.IntervalYearMonth=t.IntervalDayTime=t.Interval=t.Dictionary=t.SparseUnion=void 0,t.util=t.RecordBatch=t.Message=t.JSONMessageReader=t.AsyncMessageReader=t.MessageReader=t.tableFromIPC=t.tableToIPC=t.RecordBatchJSONWriter=t.RecordBatchStreamWriter=t.RecordBatchFileWriter=t.RecordBatchWriter=t.AsyncRecordBatchStreamReader=t.AsyncRecordBatchFileReader=t.RecordBatchStreamReader=t.RecordBatchFileReader=t.RecordBatchReader=t.AsyncByteQueue=t.AsyncByteStream=t.ByteStream=t.DenseUnionBuilder=t.SparseUnionBuilder=t.UnionBuilder=t.StructBuilder=t.MapBuilder=t.FixedSizeListBuilder=t.ListBuilder=t.LargeBinaryBuilder=t.BinaryBuilder=t.LargeUtf8Builder=t.Utf8Builder=t.DurationNanosecondBuilder=t.DurationMicrosecondBuilder=t.DurationMillisecondBuilder=t.DurationSecondBuilder=t.DurationBuilder=t.IntervalYearMonthBuilder=t.IntervalDayTimeBuilder=t.IntervalBuilder=t.TimestampNanosecondBuilder=t.TimestampMicrosecondBuilder=t.TimestampMillisecondBuilder=t.TimestampSecondBuilder=t.TimestampBuilder=t.TimeNanosecondBuilder=t.TimeMicrosecondBuilder=t.TimeMillisecondBuilder=t.TimeSecondBuilder=void 0;var e=Xi;Object.defineProperty(t,"MessageHeader",{enumerable:!0,get:function(){return e.MessageHeader}});var a=xa;Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return a.Type}}),Object.defineProperty(t,"BufferType",{enumerable:!0,get:function(){return a.BufferType}}),Object.defineProperty(t,"DateUnit",{enumerable:!0,get:function(){return a.DateUnit}}),Object.defineProperty(t,"TimeUnit",{enumerable:!0,get:function(){return a.TimeUnit}}),Object.defineProperty(t,"Precision",{enumerable:!0,get:function(){return a.Precision}}),Object.defineProperty(t,"UnionMode",{enumerable:!0,get:function(){return a.UnionMode}}),Object.defineProperty(t,"IntervalUnit",{enumerable:!0,get:function(){return a.IntervalUnit}}),Object.defineProperty(t,"MetadataVersion",{enumerable:!0,get:function(){return a.MetadataVersion}});var o=Xs();Object.defineProperty(t,"Data",{enumerable:!0,get:function(){return o.Data}}),Object.defineProperty(t,"makeData",{enumerable:!0,get:function(){return o.makeData}});var r=fe;Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return r.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return r.Null}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return r.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return r.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return r.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return r.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return r.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return r.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return r.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return r.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return r.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return r.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return r.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return r.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return r.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return r.Float64}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return r.Utf8}}),Object.defineProperty(t,"LargeUtf8",{enumerable:!0,get:function(){return r.LargeUtf8}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return r.Binary}}),Object.defineProperty(t,"LargeBinary",{enumerable:!0,get:function(){return r.LargeBinary}}),Object.defineProperty(t,"FixedSizeBinary",{enumerable:!0,get:function(){return r.FixedSizeBinary}}),Object.defineProperty(t,"Date_",{enumerable:!0,get:function(){return r.Date_}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return r.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return r.DateMillisecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return r.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return r.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return r.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return r.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return r.TimestampNanosecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return r.Time}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return r.TimeSecond}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return r.TimeMillisecond}}),Object.defineProperty(t,"TimeMicrosecond",{enumerable:!0,get:function(){return r.TimeMicrosecond}}),Object.defineProperty(t,"TimeNanosecond",{enumerable:!0,get:function(){return r.TimeNanosecond}}),Object.defineProperty(t,"Decimal",{enumerable:!0,get:function(){return r.Decimal}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return r.List}}),Object.defineProperty(t,"Struct",{enumerable:!0,get:function(){return r.Struct}}),Object.defineProperty(t,"Union",{enumerable:!0,get:function(){return r.Union}}),Object.defineProperty(t,"DenseUnion",{enumerable:!0,get:function(){return r.DenseUnion}}),Object.defineProperty(t,"SparseUnion",{enumerable:!0,get:function(){return r.SparseUnion}}),Object.defineProperty(t,"Dictionary",{enumerable:!0,get:function(){return r.Dictionary}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return r.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return r.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return r.IntervalYearMonth}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return r.Duration}}),Object.defineProperty(t,"DurationSecond",{enumerable:!0,get:function(){return r.DurationSecond}}),Object.defineProperty(t,"DurationMillisecond",{enumerable:!0,get:function(){return r.DurationMillisecond}}),Object.defineProperty(t,"DurationMicrosecond",{enumerable:!0,get:function(){return r.DurationMicrosecond}}),Object.defineProperty(t,"DurationNanosecond",{enumerable:!0,get:function(){return r.DurationNanosecond}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return r.FixedSizeList}}),Object.defineProperty(t,"Map_",{enumerable:!0,get:function(){return r.Map_}});var i=fh();Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return i.Table}}),Object.defineProperty(t,"makeTable",{enumerable:!0,get:function(){return i.makeTable}}),Object.defineProperty(t,"tableFromArrays",{enumerable:!0,get:function(){return i.tableFromArrays}});var s=Qo();Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return s.Vector}}),Object.defineProperty(t,"makeVector",{enumerable:!0,get:function(){return s.makeVector}});var n=Ao;Object.defineProperty(t,"Visitor",{enumerable:!0,get:function(){return n.Visitor}});var d=ro;Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return d.Schema}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return d.Field}});var c=ny();Object.defineProperty(t,"MapRow",{enumerable:!0,get:function(){return c.MapRow}});var l=sS();Object.defineProperty(t,"StructRow",{enumerable:!0,get:function(){return l.StructRow}});var m=Gt;Object.defineProperty(t,"Builder",{enumerable:!0,get:function(){return m.Builder}});var u=hy();Object.defineProperty(t,"makeBuilder",{enumerable:!0,get:function(){return u.makeBuilder}}),Object.defineProperty(t,"vectorFromArray",{enumerable:!0,get:function(){return u.vectorFromArray}}),Object.defineProperty(t,"tableFromJSON",{enumerable:!0,get:function(){return u.tableFromJSON}}),Object.defineProperty(t,"builderThroughIterable",{enumerable:!0,get:function(){return u.builderThroughIterable}}),Object.defineProperty(t,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return u.builderThroughAsyncIterable}});var v=eh;Object.defineProperty(t,"BoolBuilder",{enumerable:!0,get:function(){return v.BoolBuilder}});var g=nh;Object.defineProperty(t,"NullBuilder",{enumerable:!0,get:function(){return g.NullBuilder}});var f=qs;Object.defineProperty(t,"DateBuilder",{enumerable:!0,get:function(){return f.DateBuilder}}),Object.defineProperty(t,"DateDayBuilder",{enumerable:!0,get:function(){return f.DateDayBuilder}}),Object.defineProperty(t,"DateMillisecondBuilder",{enumerable:!0,get:function(){return f.DateMillisecondBuilder}});var p=th;Object.defineProperty(t,"DecimalBuilder",{enumerable:!0,get:function(){return p.DecimalBuilder}});var h=Mq();Object.defineProperty(t,"DictionaryBuilder",{enumerable:!0,get:function(){return h.DictionaryBuilder}});var y=ah;Object.defineProperty(t,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return y.FixedSizeBinaryBuilder}});var b=vi;Object.defineProperty(t,"FloatBuilder",{enumerable:!0,get:function(){return b.FloatBuilder}}),Object.defineProperty(t,"Float16Builder",{enumerable:!0,get:function(){return b.Float16Builder}}),Object.defineProperty(t,"Float32Builder",{enumerable:!0,get:function(){return b.Float32Builder}}),Object.defineProperty(t,"Float64Builder",{enumerable:!0,get:function(){return b.Float64Builder}});var _=Ia;Object.defineProperty(t,"IntBuilder",{enumerable:!0,get:function(){return _.IntBuilder}}),Object.defineProperty(t,"Int8Builder",{enumerable:!0,get:function(){return _.Int8Builder}}),Object.defineProperty(t,"Int16Builder",{enumerable:!0,get:function(){return _.Int16Builder}}),Object.defineProperty(t,"Int32Builder",{enumerable:!0,get:function(){return _.Int32Builder}}),Object.defineProperty(t,"Int64Builder",{enumerable:!0,get:function(){return _.Int64Builder}}),Object.defineProperty(t,"Uint8Builder",{enumerable:!0,get:function(){return _.Uint8Builder}}),Object.defineProperty(t,"Uint16Builder",{enumerable:!0,get:function(){return _.Uint16Builder}}),Object.defineProperty(t,"Uint32Builder",{enumerable:!0,get:function(){return _.Uint32Builder}}),Object.defineProperty(t,"Uint64Builder",{enumerable:!0,get:function(){return _.Uint64Builder}});var S=cr;Object.defineProperty(t,"TimeBuilder",{enumerable:!0,get:function(){return S.TimeBuilder}}),Object.defineProperty(t,"TimeSecondBuilder",{enumerable:!0,get:function(){return S.TimeSecondBuilder}}),Object.defineProperty(t,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return S.TimeMillisecondBuilder}}),Object.defineProperty(t,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return S.TimeMicrosecondBuilder}}),Object.defineProperty(t,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return S.TimeNanosecondBuilder}});var x=dr;Object.defineProperty(t,"TimestampBuilder",{enumerable:!0,get:function(){return x.TimestampBuilder}}),Object.defineProperty(t,"TimestampSecondBuilder",{enumerable:!0,get:function(){return x.TimestampSecondBuilder}}),Object.defineProperty(t,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return x.TimestampMillisecondBuilder}}),Object.defineProperty(t,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return x.TimestampMicrosecondBuilder}}),Object.defineProperty(t,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return x.TimestampNanosecondBuilder}});var w=Ps;Object.defineProperty(t,"IntervalBuilder",{enumerable:!0,get:function(){return w.IntervalBuilder}}),Object.defineProperty(t,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return w.IntervalDayTimeBuilder}}),Object.defineProperty(t,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return w.IntervalYearMonthBuilder}});var A=nr;Object.defineProperty(t,"DurationBuilder",{enumerable:!0,get:function(){return A.DurationBuilder}}),Object.defineProperty(t,"DurationSecondBuilder",{enumerable:!0,get:function(){return A.DurationSecondBuilder}}),Object.defineProperty(t,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return A.DurationMillisecondBuilder}}),Object.defineProperty(t,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return A.DurationMicrosecondBuilder}}),Object.defineProperty(t,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return A.DurationNanosecondBuilder}});var T=uh;Object.defineProperty(t,"Utf8Builder",{enumerable:!0,get:function(){return T.Utf8Builder}});var O=mh;Object.defineProperty(t,"LargeUtf8Builder",{enumerable:!0,get:function(){return O.LargeUtf8Builder}});var I=Zu;Object.defineProperty(t,"BinaryBuilder",{enumerable:!0,get:function(){return I.BinaryBuilder}});var U=Ku;Object.defineProperty(t,"LargeBinaryBuilder",{enumerable:!0,get:function(){return U.LargeBinaryBuilder}});var B=ih;Object.defineProperty(t,"ListBuilder",{enumerable:!0,get:function(){return B.ListBuilder}});var N=oh;Object.defineProperty(t,"FixedSizeListBuilder",{enumerable:!0,get:function(){return N.FixedSizeListBuilder}});var z=sh;Object.defineProperty(t,"MapBuilder",{enumerable:!0,get:function(){return z.MapBuilder}});var $=dh;Object.defineProperty(t,"StructBuilder",{enumerable:!0,get:function(){return $.StructBuilder}});var Y=Ls;Object.defineProperty(t,"UnionBuilder",{enumerable:!0,get:function(){return Y.UnionBuilder}}),Object.defineProperty(t,"SparseUnionBuilder",{enumerable:!0,get:function(){return Y.SparseUnionBuilder}}),Object.defineProperty(t,"DenseUnionBuilder",{enumerable:!0,get:function(){return Y.DenseUnionBuilder}});var F=Go;Object.defineProperty(t,"ByteStream",{enumerable:!0,get:function(){return F.ByteStream}}),Object.defineProperty(t,"AsyncByteStream",{enumerable:!0,get:function(){return F.AsyncByteStream}}),Object.defineProperty(t,"AsyncByteQueue",{enumerable:!0,get:function(){return F.AsyncByteQueue}});var V=Ro;Object.defineProperty(t,"RecordBatchReader",{enumerable:!0,get:function(){return V.RecordBatchReader}}),Object.defineProperty(t,"RecordBatchFileReader",{enumerable:!0,get:function(){return V.RecordBatchFileReader}}),Object.defineProperty(t,"RecordBatchStreamReader",{enumerable:!0,get:function(){return V.RecordBatchStreamReader}}),Object.defineProperty(t,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return V.AsyncRecordBatchFileReader}}),Object.defineProperty(t,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return V.AsyncRecordBatchStreamReader}});var Z=zr;Object.defineProperty(t,"RecordBatchWriter",{enumerable:!0,get:function(){return Z.RecordBatchWriter}}),Object.defineProperty(t,"RecordBatchFileWriter",{enumerable:!0,get:function(){return Z.RecordBatchFileWriter}}),Object.defineProperty(t,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return Z.RecordBatchStreamWriter}}),Object.defineProperty(t,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return Z.RecordBatchJSONWriter}});var se=vu;Object.defineProperty(t,"tableToIPC",{enumerable:!0,get:function(){return se.tableToIPC}}),Object.defineProperty(t,"tableFromIPC",{enumerable:!0,get:function(){return se.tableFromIPC}});var J=vy;Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return J.MessageReader}}),Object.defineProperty(t,"AsyncMessageReader",{enumerable:!0,get:function(){return J.AsyncMessageReader}}),Object.defineProperty(t,"JSONMessageReader",{enumerable:!0,get:function(){return J.JSONMessageReader}});var te=em();Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return te.Message}});var me=Ic();Object.defineProperty(t,"RecordBatch",{enumerable:!0,get:function(){return me.RecordBatch}});const xe=sy,Q=hi,Ee=da,Ae=$s,Ce=Oe,we=dy(),De=Oc,Te=ph;t.util=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xe),Q),Ee),Ae),Ce),we),De),{compareSchemas:Te.compareSchemas,compareFields:Te.compareFields,compareTypes:Te.compareTypes})})(N3);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Union=t.StructRow=t.Struct=t.List=t.Decimal=t.TimeNanosecond=t.TimeMicrosecond=t.TimeMillisecond=t.TimeSecond=t.Time=t.TimestampNanosecond=t.TimestampMicrosecond=t.TimestampMillisecond=t.TimestampSecond=t.Timestamp=t.DateMillisecond=t.DateDay=t.Date_=t.FixedSizeBinary=t.LargeBinary=t.Binary=t.LargeUtf8=t.Utf8=t.Float64=t.Float32=t.Float16=t.Float=t.Uint64=t.Uint32=t.Uint16=t.Uint8=t.Int64=t.Int32=t.Int16=t.Int8=t.Int=t.Bool=t.Null=t.DataType=t.makeData=t.Data=t.BufferType=t.UnionMode=t.Type=t.TimeUnit=t.Precision=t.MetadataVersion=t.MessageHeader=t.IntervalUnit=t.DateUnit=void 0,t.LargeBinaryBuilder=t.BinaryBuilder=t.builderThroughAsyncIterable=t.builderThroughIterable=t.makeBuilder=t.Builder=t.util=t.RecordBatch=t.Message=t.JSONMessageReader=t.AsyncMessageReader=t.MessageReader=t.tableToIPC=t.tableFromIPC=t.RecordBatchJSONWriter=t.RecordBatchStreamWriter=t.RecordBatchFileWriter=t.RecordBatchWriter=t.AsyncRecordBatchStreamReader=t.AsyncRecordBatchFileReader=t.RecordBatchStreamReader=t.RecordBatchFileReader=t.RecordBatchReader=t.AsyncByteQueue=t.AsyncByteStream=t.ByteStream=t.tableFromJSON=t.vectorFromArray=t.makeVector=t.Vector=t.Visitor=t.Field=t.Schema=t.tableFromArrays=t.makeTable=t.Table=t.MapRow=t.Map_=t.FixedSizeList=t.DurationNanosecond=t.DurationMicrosecond=t.DurationMillisecond=t.DurationSecond=t.Duration=t.IntervalYearMonth=t.IntervalDayTime=t.Interval=t.Dictionary=t.SparseUnion=t.DenseUnion=void 0,t.LargeUtf8Builder=t.Utf8Builder=t.SparseUnionBuilder=t.DenseUnionBuilder=t.UnionBuilder=t.TimeNanosecondBuilder=t.TimeMicrosecondBuilder=t.TimeMillisecondBuilder=t.TimeSecondBuilder=t.TimeBuilder=t.TimestampNanosecondBuilder=t.TimestampMicrosecondBuilder=t.TimestampMillisecondBuilder=t.TimestampSecondBuilder=t.TimestampBuilder=t.StructBuilder=t.NullBuilder=t.MapBuilder=t.ListBuilder=t.Uint64Builder=t.Uint32Builder=t.Uint16Builder=t.Uint8Builder=t.Int64Builder=t.Int32Builder=t.Int16Builder=t.Int8Builder=t.IntBuilder=t.DurationNanosecondBuilder=t.DurationMicrosecondBuilder=t.DurationMillisecondBuilder=t.DurationSecondBuilder=t.DurationBuilder=t.IntervalYearMonthBuilder=t.IntervalDayTimeBuilder=t.IntervalBuilder=t.Float64Builder=t.Float32Builder=t.Float16Builder=t.FloatBuilder=t.FixedSizeListBuilder=t.FixedSizeBinaryBuilder=t.DictionaryBuilder=t.DecimalBuilder=t.DateMillisecondBuilder=t.DateDayBuilder=t.DateBuilder=t.BoolBuilder=void 0;const e=qu,a=Gt,o=Ro,r=zr,i=Sy,s=hu,n=Ay,d=Ey;e.default.toDOMStream=i.toDOMStream,a.Builder.throughDOM=s.builderThroughDOMStream,o.RecordBatchReader.throughDOM=n.recordBatchReaderThroughDOMStream,o.RecordBatchFileReader.throughDOM=n.recordBatchReaderThroughDOMStream,o.RecordBatchStreamReader.throughDOM=n.recordBatchReaderThroughDOMStream,r.RecordBatchWriter.throughDOM=d.recordBatchWriterThroughDOMStream,r.RecordBatchFileWriter.throughDOM=d.recordBatchWriterThroughDOMStream,r.RecordBatchStreamWriter.throughDOM=d.recordBatchWriterThroughDOMStream;var c=N3;Object.defineProperty(t,"DateUnit",{enumerable:!0,get:function(){return c.DateUnit}}),Object.defineProperty(t,"IntervalUnit",{enumerable:!0,get:function(){return c.IntervalUnit}}),Object.defineProperty(t,"MessageHeader",{enumerable:!0,get:function(){return c.MessageHeader}}),Object.defineProperty(t,"MetadataVersion",{enumerable:!0,get:function(){return c.MetadataVersion}}),Object.defineProperty(t,"Precision",{enumerable:!0,get:function(){return c.Precision}}),Object.defineProperty(t,"TimeUnit",{enumerable:!0,get:function(){return c.TimeUnit}}),Object.defineProperty(t,"Type",{enumerable:!0,get:function(){return c.Type}}),Object.defineProperty(t,"UnionMode",{enumerable:!0,get:function(){return c.UnionMode}}),Object.defineProperty(t,"BufferType",{enumerable:!0,get:function(){return c.BufferType}}),Object.defineProperty(t,"Data",{enumerable:!0,get:function(){return c.Data}}),Object.defineProperty(t,"makeData",{enumerable:!0,get:function(){return c.makeData}}),Object.defineProperty(t,"DataType",{enumerable:!0,get:function(){return c.DataType}}),Object.defineProperty(t,"Null",{enumerable:!0,get:function(){return c.Null}}),Object.defineProperty(t,"Bool",{enumerable:!0,get:function(){return c.Bool}}),Object.defineProperty(t,"Int",{enumerable:!0,get:function(){return c.Int}}),Object.defineProperty(t,"Int8",{enumerable:!0,get:function(){return c.Int8}}),Object.defineProperty(t,"Int16",{enumerable:!0,get:function(){return c.Int16}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return c.Int32}}),Object.defineProperty(t,"Int64",{enumerable:!0,get:function(){return c.Int64}}),Object.defineProperty(t,"Uint8",{enumerable:!0,get:function(){return c.Uint8}}),Object.defineProperty(t,"Uint16",{enumerable:!0,get:function(){return c.Uint16}}),Object.defineProperty(t,"Uint32",{enumerable:!0,get:function(){return c.Uint32}}),Object.defineProperty(t,"Uint64",{enumerable:!0,get:function(){return c.Uint64}}),Object.defineProperty(t,"Float",{enumerable:!0,get:function(){return c.Float}}),Object.defineProperty(t,"Float16",{enumerable:!0,get:function(){return c.Float16}}),Object.defineProperty(t,"Float32",{enumerable:!0,get:function(){return c.Float32}}),Object.defineProperty(t,"Float64",{enumerable:!0,get:function(){return c.Float64}}),Object.defineProperty(t,"Utf8",{enumerable:!0,get:function(){return c.Utf8}}),Object.defineProperty(t,"LargeUtf8",{enumerable:!0,get:function(){return c.LargeUtf8}}),Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return c.Binary}}),Object.defineProperty(t,"LargeBinary",{enumerable:!0,get:function(){return c.LargeBinary}}),Object.defineProperty(t,"FixedSizeBinary",{enumerable:!0,get:function(){return c.FixedSizeBinary}}),Object.defineProperty(t,"Date_",{enumerable:!0,get:function(){return c.Date_}}),Object.defineProperty(t,"DateDay",{enumerable:!0,get:function(){return c.DateDay}}),Object.defineProperty(t,"DateMillisecond",{enumerable:!0,get:function(){return c.DateMillisecond}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return c.Timestamp}}),Object.defineProperty(t,"TimestampSecond",{enumerable:!0,get:function(){return c.TimestampSecond}}),Object.defineProperty(t,"TimestampMillisecond",{enumerable:!0,get:function(){return c.TimestampMillisecond}}),Object.defineProperty(t,"TimestampMicrosecond",{enumerable:!0,get:function(){return c.TimestampMicrosecond}}),Object.defineProperty(t,"TimestampNanosecond",{enumerable:!0,get:function(){return c.TimestampNanosecond}}),Object.defineProperty(t,"Time",{enumerable:!0,get:function(){return c.Time}}),Object.defineProperty(t,"TimeSecond",{enumerable:!0,get:function(){return c.TimeSecond}}),Object.defineProperty(t,"TimeMillisecond",{enumerable:!0,get:function(){return c.TimeMillisecond}}),Object.defineProperty(t,"TimeMicrosecond",{enumerable:!0,get:function(){return c.TimeMicrosecond}}),Object.defineProperty(t,"TimeNanosecond",{enumerable:!0,get:function(){return c.TimeNanosecond}}),Object.defineProperty(t,"Decimal",{enumerable:!0,get:function(){return c.Decimal}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return c.List}}),Object.defineProperty(t,"Struct",{enumerable:!0,get:function(){return c.Struct}}),Object.defineProperty(t,"StructRow",{enumerable:!0,get:function(){return c.StructRow}}),Object.defineProperty(t,"Union",{enumerable:!0,get:function(){return c.Union}}),Object.defineProperty(t,"DenseUnion",{enumerable:!0,get:function(){return c.DenseUnion}}),Object.defineProperty(t,"SparseUnion",{enumerable:!0,get:function(){return c.SparseUnion}}),Object.defineProperty(t,"Dictionary",{enumerable:!0,get:function(){return c.Dictionary}}),Object.defineProperty(t,"Interval",{enumerable:!0,get:function(){return c.Interval}}),Object.defineProperty(t,"IntervalDayTime",{enumerable:!0,get:function(){return c.IntervalDayTime}}),Object.defineProperty(t,"IntervalYearMonth",{enumerable:!0,get:function(){return c.IntervalYearMonth}}),Object.defineProperty(t,"Duration",{enumerable:!0,get:function(){return c.Duration}}),Object.defineProperty(t,"DurationSecond",{enumerable:!0,get:function(){return c.DurationSecond}}),Object.defineProperty(t,"DurationMillisecond",{enumerable:!0,get:function(){return c.DurationMillisecond}}),Object.defineProperty(t,"DurationMicrosecond",{enumerable:!0,get:function(){return c.DurationMicrosecond}}),Object.defineProperty(t,"DurationNanosecond",{enumerable:!0,get:function(){return c.DurationNanosecond}}),Object.defineProperty(t,"FixedSizeList",{enumerable:!0,get:function(){return c.FixedSizeList}}),Object.defineProperty(t,"Map_",{enumerable:!0,get:function(){return c.Map_}}),Object.defineProperty(t,"MapRow",{enumerable:!0,get:function(){return c.MapRow}}),Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return c.Table}}),Object.defineProperty(t,"makeTable",{enumerable:!0,get:function(){return c.makeTable}}),Object.defineProperty(t,"tableFromArrays",{enumerable:!0,get:function(){return c.tableFromArrays}}),Object.defineProperty(t,"Schema",{enumerable:!0,get:function(){return c.Schema}}),Object.defineProperty(t,"Field",{enumerable:!0,get:function(){return c.Field}}),Object.defineProperty(t,"Visitor",{enumerable:!0,get:function(){return c.Visitor}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return c.Vector}}),Object.defineProperty(t,"makeVector",{enumerable:!0,get:function(){return c.makeVector}}),Object.defineProperty(t,"vectorFromArray",{enumerable:!0,get:function(){return c.vectorFromArray}}),Object.defineProperty(t,"tableFromJSON",{enumerable:!0,get:function(){return c.tableFromJSON}}),Object.defineProperty(t,"ByteStream",{enumerable:!0,get:function(){return c.ByteStream}}),Object.defineProperty(t,"AsyncByteStream",{enumerable:!0,get:function(){return c.AsyncByteStream}}),Object.defineProperty(t,"AsyncByteQueue",{enumerable:!0,get:function(){return c.AsyncByteQueue}}),Object.defineProperty(t,"RecordBatchReader",{enumerable:!0,get:function(){return c.RecordBatchReader}}),Object.defineProperty(t,"RecordBatchFileReader",{enumerable:!0,get:function(){return c.RecordBatchFileReader}}),Object.defineProperty(t,"RecordBatchStreamReader",{enumerable:!0,get:function(){return c.RecordBatchStreamReader}}),Object.defineProperty(t,"AsyncRecordBatchFileReader",{enumerable:!0,get:function(){return c.AsyncRecordBatchFileReader}}),Object.defineProperty(t,"AsyncRecordBatchStreamReader",{enumerable:!0,get:function(){return c.AsyncRecordBatchStreamReader}}),Object.defineProperty(t,"RecordBatchWriter",{enumerable:!0,get:function(){return c.RecordBatchWriter}}),Object.defineProperty(t,"RecordBatchFileWriter",{enumerable:!0,get:function(){return c.RecordBatchFileWriter}}),Object.defineProperty(t,"RecordBatchStreamWriter",{enumerable:!0,get:function(){return c.RecordBatchStreamWriter}}),Object.defineProperty(t,"RecordBatchJSONWriter",{enumerable:!0,get:function(){return c.RecordBatchJSONWriter}}),Object.defineProperty(t,"tableFromIPC",{enumerable:!0,get:function(){return c.tableFromIPC}}),Object.defineProperty(t,"tableToIPC",{enumerable:!0,get:function(){return c.tableToIPC}}),Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AsyncMessageReader",{enumerable:!0,get:function(){return c.AsyncMessageReader}}),Object.defineProperty(t,"JSONMessageReader",{enumerable:!0,get:function(){return c.JSONMessageReader}}),Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return c.Message}}),Object.defineProperty(t,"RecordBatch",{enumerable:!0,get:function(){return c.RecordBatch}}),Object.defineProperty(t,"util",{enumerable:!0,get:function(){return c.util}}),Object.defineProperty(t,"Builder",{enumerable:!0,get:function(){return c.Builder}}),Object.defineProperty(t,"makeBuilder",{enumerable:!0,get:function(){return c.makeBuilder}}),Object.defineProperty(t,"builderThroughIterable",{enumerable:!0,get:function(){return c.builderThroughIterable}}),Object.defineProperty(t,"builderThroughAsyncIterable",{enumerable:!0,get:function(){return c.builderThroughAsyncIterable}});var l=N3;Object.defineProperty(t,"BinaryBuilder",{enumerable:!0,get:function(){return l.BinaryBuilder}}),Object.defineProperty(t,"LargeBinaryBuilder",{enumerable:!0,get:function(){return l.LargeBinaryBuilder}}),Object.defineProperty(t,"BoolBuilder",{enumerable:!0,get:function(){return l.BoolBuilder}}),Object.defineProperty(t,"DateBuilder",{enumerable:!0,get:function(){return l.DateBuilder}}),Object.defineProperty(t,"DateDayBuilder",{enumerable:!0,get:function(){return l.DateDayBuilder}}),Object.defineProperty(t,"DateMillisecondBuilder",{enumerable:!0,get:function(){return l.DateMillisecondBuilder}}),Object.defineProperty(t,"DecimalBuilder",{enumerable:!0,get:function(){return l.DecimalBuilder}}),Object.defineProperty(t,"DictionaryBuilder",{enumerable:!0,get:function(){return l.DictionaryBuilder}}),Object.defineProperty(t,"FixedSizeBinaryBuilder",{enumerable:!0,get:function(){return l.FixedSizeBinaryBuilder}}),Object.defineProperty(t,"FixedSizeListBuilder",{enumerable:!0,get:function(){return l.FixedSizeListBuilder}}),Object.defineProperty(t,"FloatBuilder",{enumerable:!0,get:function(){return l.FloatBuilder}}),Object.defineProperty(t,"Float16Builder",{enumerable:!0,get:function(){return l.Float16Builder}}),Object.defineProperty(t,"Float32Builder",{enumerable:!0,get:function(){return l.Float32Builder}}),Object.defineProperty(t,"Float64Builder",{enumerable:!0,get:function(){return l.Float64Builder}}),Object.defineProperty(t,"IntervalBuilder",{enumerable:!0,get:function(){return l.IntervalBuilder}}),Object.defineProperty(t,"IntervalDayTimeBuilder",{enumerable:!0,get:function(){return l.IntervalDayTimeBuilder}}),Object.defineProperty(t,"IntervalYearMonthBuilder",{enumerable:!0,get:function(){return l.IntervalYearMonthBuilder}}),Object.defineProperty(t,"DurationBuilder",{enumerable:!0,get:function(){return l.DurationBuilder}}),Object.defineProperty(t,"DurationSecondBuilder",{enumerable:!0,get:function(){return l.DurationSecondBuilder}}),Object.defineProperty(t,"DurationMillisecondBuilder",{enumerable:!0,get:function(){return l.DurationMillisecondBuilder}}),Object.defineProperty(t,"DurationMicrosecondBuilder",{enumerable:!0,get:function(){return l.DurationMicrosecondBuilder}}),Object.defineProperty(t,"DurationNanosecondBuilder",{enumerable:!0,get:function(){return l.DurationNanosecondBuilder}}),Object.defineProperty(t,"IntBuilder",{enumerable:!0,get:function(){return l.IntBuilder}}),Object.defineProperty(t,"Int8Builder",{enumerable:!0,get:function(){return l.Int8Builder}}),Object.defineProperty(t,"Int16Builder",{enumerable:!0,get:function(){return l.Int16Builder}}),Object.defineProperty(t,"Int32Builder",{enumerable:!0,get:function(){return l.Int32Builder}}),Object.defineProperty(t,"Int64Builder",{enumerable:!0,get:function(){return l.Int64Builder}}),Object.defineProperty(t,"Uint8Builder",{enumerable:!0,get:function(){return l.Uint8Builder}}),Object.defineProperty(t,"Uint16Builder",{enumerable:!0,get:function(){return l.Uint16Builder}}),Object.defineProperty(t,"Uint32Builder",{enumerable:!0,get:function(){return l.Uint32Builder}}),Object.defineProperty(t,"Uint64Builder",{enumerable:!0,get:function(){return l.Uint64Builder}}),Object.defineProperty(t,"ListBuilder",{enumerable:!0,get:function(){return l.ListBuilder}}),Object.defineProperty(t,"MapBuilder",{enumerable:!0,get:function(){return l.MapBuilder}}),Object.defineProperty(t,"NullBuilder",{enumerable:!0,get:function(){return l.NullBuilder}}),Object.defineProperty(t,"StructBuilder",{enumerable:!0,get:function(){return l.StructBuilder}}),Object.defineProperty(t,"TimestampBuilder",{enumerable:!0,get:function(){return l.TimestampBuilder}}),Object.defineProperty(t,"TimestampSecondBuilder",{enumerable:!0,get:function(){return l.TimestampSecondBuilder}}),Object.defineProperty(t,"TimestampMillisecondBuilder",{enumerable:!0,get:function(){return l.TimestampMillisecondBuilder}}),Object.defineProperty(t,"TimestampMicrosecondBuilder",{enumerable:!0,get:function(){return l.TimestampMicrosecondBuilder}}),Object.defineProperty(t,"TimestampNanosecondBuilder",{enumerable:!0,get:function(){return l.TimestampNanosecondBuilder}}),Object.defineProperty(t,"TimeBuilder",{enumerable:!0,get:function(){return l.TimeBuilder}}),Object.defineProperty(t,"TimeSecondBuilder",{enumerable:!0,get:function(){return l.TimeSecondBuilder}}),Object.defineProperty(t,"TimeMillisecondBuilder",{enumerable:!0,get:function(){return l.TimeMillisecondBuilder}}),Object.defineProperty(t,"TimeMicrosecondBuilder",{enumerable:!0,get:function(){return l.TimeMicrosecondBuilder}}),Object.defineProperty(t,"TimeNanosecondBuilder",{enumerable:!0,get:function(){return l.TimeNanosecondBuilder}}),Object.defineProperty(t,"UnionBuilder",{enumerable:!0,get:function(){return l.UnionBuilder}}),Object.defineProperty(t,"DenseUnionBuilder",{enumerable:!0,get:function(){return l.DenseUnionBuilder}}),Object.defineProperty(t,"SparseUnionBuilder",{enumerable:!0,get:function(){return l.SparseUnionBuilder}}),Object.defineProperty(t,"Utf8Builder",{enumerable:!0,get:function(){return l.Utf8Builder}}),Object.defineProperty(t,"LargeUtf8Builder",{enumerable:!0,get:function(){return l.LargeUtf8Builder}})})(W1);var Cae=Object.create,My=Object.defineProperty,Rae=Object.getOwnPropertyDescriptor,Oae=Object.getOwnPropertyNames,Iae=Object.getPrototypeOf,Dae=Object.prototype.hasOwnProperty,qae=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Pae=(t,e)=>{for(var a in e)My(t,a,{get:e[a],enumerable:!0})},r8=(t,e,a,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Oae(e))!Dae.call(t,r)&&r!==a&&My(t,r,{get:()=>e[r],enumerable:!(o=Rae(e,r))||o.enumerable});return t},MS=(t,e,a)=>(a=t!=null?Cae(Iae(t)):{},r8(e||!t||!t.__esModule?My(a,"default",{value:t,enumerable:!0}):a,t)),Lae=t=>r8(My({},"__esModule",{value:!0}),t),Nae=qae((t,e)=>{e.exports=Worker}),i8={};Pae(i8,{AsyncDuckDB:()=>$ae,AsyncDuckDBConnection:()=>p8,AsyncDuckDBDispatcher:()=>Hae,AsyncPreparedStatement:()=>f8,AsyncResultStreamIterator:()=>TS,ConsoleLogger:()=>Fae,DuckDBAccessMode:()=>s8,DuckDBDataProtocol:()=>x8,LogEvent:()=>l8,LogLevel:()=>d8,LogOrigin:()=>u8,LogTopic:()=>c8,PACKAGE_NAME:()=>g8,PACKAGE_VERSION:()=>y8,PACKAGE_VERSION_MAJOR:()=>Kae,PACKAGE_VERSION_MINOR:()=>Qae,PACKAGE_VERSION_PATCH:()=>Xae,StatusCode:()=>m8,TokenType:()=>n8,VoidLogger:()=>jae,WorkerRequestType:()=>h8,WorkerResponseType:()=>v8,WorkerTask:()=>Pt,createWorker:()=>roe,getJsDelivrBundles:()=>toe,getLogEventLabel:()=>Bae,getLogLevelLabel:()=>zae,getLogOriginLabel:()=>Uae,getLogTopicLabel:()=>kae,getPlatformFeatures:()=>_8,isFirefox:()=>Jae,isNode:()=>OS,isSafari:()=>eoe,selectBundle:()=>aoe});var Ty=Lae(i8),s8=(t=>(t[t.UNDEFINED=0]="UNDEFINED",t[t.AUTOMATIC=1]="AUTOMATIC",t[t.READ_ONLY=2]="READ_ONLY",t[t.READ_WRITE=3]="READ_WRITE",t))(s8||{}),n8=(t=>(t[t.IDENTIFIER=0]="IDENTIFIER",t[t.NUMERIC_CONSTANT=1]="NUMERIC_CONSTANT",t[t.STRING_CONSTANT=2]="STRING_CONSTANT",t[t.OPERATOR=3]="OPERATOR",t[t.KEYWORD=4]="KEYWORD",t[t.COMMENT=5]="COMMENT",t))(n8||{}),d8=(t=>(t[t.NONE=0]="NONE",t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARNING=3]="WARNING",t[t.ERROR=4]="ERROR",t))(d8||{}),c8=(t=>(t[t.NONE=0]="NONE",t[t.CONNECT=1]="CONNECT",t[t.DISCONNECT=2]="DISCONNECT",t[t.OPEN=3]="OPEN",t[t.QUERY=4]="QUERY",t[t.INSTANTIATE=5]="INSTANTIATE",t))(c8||{}),l8=(t=>(t[t.NONE=0]="NONE",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR",t[t.START=3]="START",t[t.RUN=4]="RUN",t[t.CAPTURE=5]="CAPTURE",t))(l8||{}),u8=(t=>(t[t.NONE=0]="NONE",t[t.WEB_WORKER=1]="WEB_WORKER",t[t.NODE_WORKER=2]="NODE_WORKER",t[t.BINDINGS=3]="BINDINGS",t[t.ASYNC_DUCKDB=4]="ASYNC_DUCKDB",t))(u8||{}),jae=class{log(t){}},Fae=class{constructor(t=2){this.level=t}log(t){t.level>=this.level&&console.log(t)}};function zae(t){switch(t){case 0:return"NONE";case 1:return"DEBUG";case 2:return"INFO";case 3:return"WARNING";case 4:return"ERROR";default:return"?"}}function Bae(t){switch(t){case 0:return"NONE";case 1:return"OK";case 2:return"ERROR";case 3:return"START";case 4:return"RUN";case 5:return"CAPTURE";default:return"?"}}function kae(t){switch(t){case 1:return"CONNECT";case 2:return"DISCONNECT";case 5:return"INSTANTIATE";case 3:return"OPEN";case 4:return"QUERY";default:return"?"}}function Uae(t){switch(t){case 0:return"NONE";case 1:return"WEB WORKER";case 2:return"NODE WORKER";case 3:return"DUCKDB BINDINGS";case 4:return"DUCKDB";default:return"?"}}var m8=(t=>(t[t.SUCCESS=0]="SUCCESS",t))(m8||{}),kd=MS(W1),p8=class{constructor(t,e){this._bindings=t,this._conn=e}get bindings(){return this._bindings}async close(){return this._bindings.disconnect(this._conn)}useUnsafe(t){return t(this._bindings,this._conn)}async query(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.runQuery(this._conn,t),a=kd.RecordBatchReader.from(e);return console.assert(a.isSync(),"Reader is not sync"),console.assert(a.isFile(),"Reader is not file"),new kd.Table(a)}async send(t){this._bindings.logger.log({timestamp:new Date,level:2,origin:4,topic:4,event:4,value:t});let e=await this._bindings.startPendingQuery(this._conn,t);for(;e==null;)e=await this._bindings.pollPendingQuery(this._conn);let a=new TS(this._bindings,this._conn,e),o=await kd.RecordBatchReader.from(a);return console.assert(o.isAsync()),console.assert(o.isStream()),o}async cancelSent(){return await this._bindings.cancelPendingQuery(this._conn)}async getTableNames(t){return await this._bindings.getTableNames(this._conn,t)}async prepare(t){let e=await this._bindings.createPrepared(this._conn,t);return new f8(this._bindings,this._conn,e)}async insertArrowTable(t,e){let a=kd.tableToIPC(t,"stream");await this.insertArrowFromIPCStream(a,e)}async insertArrowFromIPCStream(t,e){await this._bindings.insertArrowFromIPCStream(this._conn,t,e)}async insertCSVFromPath(t,e){await this._bindings.insertCSVFromPath(this._conn,t,e)}async insertJSONFromPath(t,e){await this._bindings.insertJSONFromPath(this._conn,t,e)}},TS=class{constructor(t,e,a){this.db=t,this.conn=e,this.header=a,this._first=!0,this._depleted=!1,this._inFlight=null}async next(){if(this._first)return this._first=!1,{done:!1,value:this.header};if(this._depleted)return{done:!0,value:null};let t;return this._inFlight!=null?(t=await this._inFlight,this._inFlight=null):t=await this.db.fetchQueryResults(this.conn),this._depleted=t.length==0,this._depleted||(this._inFlight=this.db.fetchQueryResults(this.conn)),{done:this._depleted,value:t}}[Symbol.asyncIterator](){return this}},f8=class{constructor(t,e,a){this.bindings=t,this.connectionId=e,this.statementId=a}async close(){await this.bindings.closePrepared(this.connectionId,this.statementId)}async query(...t){let e=await this.bindings.runPrepared(this.connectionId,this.statementId,t),a=kd.RecordBatchReader.from(e);return console.assert(a.isSync()),console.assert(a.isFile()),new kd.Table(a)}async send(...t){let e=await this.bindings.sendPrepared(this.connectionId,this.statementId,t),a=new TS(this.bindings,this.connectionId,e),o=await kd.RecordBatchReader.from(a);return console.assert(o.isAsync()),console.assert(o.isStream()),o}},h8=(t=>(t.CANCEL_PENDING_QUERY="CANCEL_PENDING_QUERY",t.CLOSE_PREPARED="CLOSE_PREPARED",t.COLLECT_FILE_STATISTICS="COLLECT_FILE_STATISTICS",t.CONNECT="CONNECT",t.COPY_FILE_TO_BUFFER="COPY_FILE_TO_BUFFER",t.COPY_FILE_TO_PATH="COPY_FILE_TO_PATH",t.CREATE_PREPARED="CREATE_PREPARED",t.DISCONNECT="DISCONNECT",t.DROP_FILE="DROP_FILE",t.DROP_FILES="DROP_FILES",t.EXPORT_FILE_STATISTICS="EXPORT_FILE_STATISTICS",t.FETCH_QUERY_RESULTS="FETCH_QUERY_RESULTS",t.FLUSH_FILES="FLUSH_FILES",t.GET_FEATURE_FLAGS="GET_FEATURE_FLAGS",t.GET_TABLE_NAMES="GET_TABLE_NAMES",t.GET_VERSION="GET_VERSION",t.GLOB_FILE_INFOS="GLOB_FILE_INFOS",t.INSERT_ARROW_FROM_IPC_STREAM="INSERT_ARROW_FROM_IPC_STREAM",t.INSERT_CSV_FROM_PATH="IMPORT_CSV_FROM_PATH",t.INSERT_JSON_FROM_PATH="IMPORT_JSON_FROM_PATH",t.INSTANTIATE="INSTANTIATE",t.OPEN="OPEN",t.PING="PING",t.POLL_PENDING_QUERY="POLL_PENDING_QUERY",t.REGISTER_FILE_BUFFER="REGISTER_FILE_BUFFER",t.REGISTER_FILE_HANDLE="REGISTER_FILE_HANDLE",t.REGISTER_FILE_URL="REGISTER_FILE_URL",t.RESET="RESET",t.RUN_PREPARED="RUN_PREPARED",t.RUN_QUERY="RUN_QUERY",t.SEND_PREPARED="SEND_PREPARED",t.START_PENDING_QUERY="START_PENDING_QUERY",t.TOKENIZE="TOKENIZE",t))(h8||{}),v8=(t=>(t.CONNECTION_INFO="CONNECTION_INFO",t.ERROR="ERROR",t.FEATURE_FLAGS="FEATURE_FLAGS",t.FILE_BUFFER="FILE_BUFFER",t.FILE_INFOS="FILE_INFOS",t.FILE_SIZE="FILE_SIZE",t.FILE_STATISTICS="FILE_STATISTICS",t.INSTANTIATE_PROGRESS="INSTANTIATE_PROGRESS",t.LOG="LOG",t.OK="OK",t.PREPARED_STATEMENT_ID="PREPARED_STATEMENT_ID",t.QUERY_PLAN="QUERY_PLAN",t.QUERY_RESULT="QUERY_RESULT",t.QUERY_RESULT_CHUNK="QUERY_RESULT_CHUNK",t.QUERY_RESULT_HEADER="QUERY_RESULT_HEADER",t.QUERY_RESULT_HEADER_OR_NULL="QUERY_RESULT_HEADER_OR_NULL",t.REGISTERED_FILE="REGISTERED_FILE",t.SCRIPT_TOKENS="SCRIPT_TOKENS",t.SUCCESS="SUCCESS",t.TABLE_NAMES="TABLE_NAMES",t.VERSION_STRING="VERSION_STRING",t))(v8||{}),Pt=class{constructor(t,e){this.promiseResolver=()=>{},this.promiseRejecter=()=>{},this.type=t,this.data=e,this.promise=new Promise((a,o)=>{this.promiseResolver=a,this.promiseRejecter=o})}},Ot=MS(W1);function ig(t){switch(t.typeId){case Ot.Type.Binary:return{sqlType:"binary"};case Ot.Type.Bool:return{sqlType:"bool"};case Ot.Type.Date:return{sqlType:"date"};case Ot.Type.DateDay:return{sqlType:"date32[d]"};case Ot.Type.DateMillisecond:return{sqlType:"date64[ms]"};case Ot.Type.Decimal:{let e=t;return{sqlType:"decimal",precision:e.precision,scale:e.scale}}case Ot.Type.Float:return{sqlType:"float"};case Ot.Type.Float16:return{sqlType:"float16"};case Ot.Type.Float32:return{sqlType:"float32"};case Ot.Type.Float64:return{sqlType:"float64"};case Ot.Type.Int:return{sqlType:"int32"};case Ot.Type.Int16:return{sqlType:"int16"};case Ot.Type.Int32:return{sqlType:"int32"};case Ot.Type.Int64:return{sqlType:"int64"};case Ot.Type.Uint16:return{sqlType:"uint16"};case Ot.Type.Uint32:return{sqlType:"uint32"};case Ot.Type.Uint64:return{sqlType:"uint64"};case Ot.Type.Uint8:return{sqlType:"uint8"};case Ot.Type.IntervalDayTime:return{sqlType:"interval[dt]"};case Ot.Type.IntervalYearMonth:return{sqlType:"interval[m]"};case Ot.Type.List:return{sqlType:"list",valueType:ig(t.valueType)};case Ot.Type.FixedSizeBinary:return{sqlType:"fixedsizebinary",byteWidth:t.byteWidth};case Ot.Type.Null:return{sqlType:"null"};case Ot.Type.Utf8:return{sqlType:"utf8"};case Ot.Type.Struct:return{sqlType:"struct",fields:t.children.map(e=>j3(e.name,e.type))};case Ot.Type.Map:{let e=t;return{sqlType:"map",keyType:ig(e.keyType),valueType:ig(e.valueType)}}case Ot.Type.Time:return{sqlType:"time[s]"};case Ot.Type.TimeMicrosecond:return{sqlType:"time[us]"};case Ot.Type.TimeMillisecond:return{sqlType:"time[ms]"};case Ot.Type.TimeNanosecond:return{sqlType:"time[ns]"};case Ot.Type.TimeSecond:return{sqlType:"time[s]"};case Ot.Type.Timestamp:return{sqlType:"timestamp",timezone:t.timezone||void 0};case Ot.Type.TimestampSecond:return{sqlType:"timestamp[s]",timezone:t.timezone||void 0};case Ot.Type.TimestampMicrosecond:return{sqlType:"timestamp[us]",timezone:t.timezone||void 0};case Ot.Type.TimestampNanosecond:return{sqlType:"timestamp[ns]",timezone:t.timezone||void 0};case Ot.Type.TimestampMillisecond:return{sqlType:"timestamp[ms]",timezone:t.timezone||void 0}}throw new Error("unsupported arrow type: ".concat(t.toString()))}function j3(t,e){let a=ig(e);return a.name=t,a}var Vae=new TextEncoder,$ae=class{constructor(t,e=null){this._onInstantiationProgress=[],this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{},this._nextMessageId=0,this._pendingRequests=new Map,this._logger=t,this._onMessageHandler=this.onMessage.bind(this),this._onErrorHandler=this.onError.bind(this),this._onCloseHandler=this.onClose.bind(this),e!=null&&this.attach(e)}get logger(){return this._logger}attach(t){this._worker=t,this._worker.addEventListener("message",this._onMessageHandler),this._worker.addEventListener("error",this._onErrorHandler),this._worker.addEventListener("close",this._onCloseHandler),this._workerShutdownPromise=new Promise((e,a)=>{this._workerShutdownResolver=e})}detach(){this._worker&&(this._worker.removeEventListener("message",this._onMessageHandler),this._worker.removeEventListener("error",this._onErrorHandler),this._worker.removeEventListener("close",this._onCloseHandler),this._worker=null,this._workerShutdownResolver(null),this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async terminate(){this._worker&&(this._worker.terminate(),this._worker=null,this._workerShutdownPromise=null,this._workerShutdownResolver=()=>{})}async postTask(t,e=[]){if(!this._worker){console.error("cannot send a message since the worker is not set!");return}let a=this._nextMessageId++;return this._pendingRequests.set(a,t),this._worker.postMessage({messageId:a,type:t.type,data:t.data},e),await t.promise}onMessage(t){var e;let a=t.data;switch(a.type){case"LOG":{this._logger.log(a.data);return}case"INSTANTIATE_PROGRESS":{for(let r of this._onInstantiationProgress)r(a.data);return}}let o=this._pendingRequests.get(a.requestId);if(!o){console.warn("unassociated response: [".concat(a.requestId,", ").concat(a.type.toString(),"]"));return}if(this._pendingRequests.delete(a.requestId),a.type=="ERROR"){let r=new Error(a.data.message);r.name=a.data.name,(e=Object.getOwnPropertyDescriptor(r,"stack"))!=null&&e.writable&&(r.stack=a.data.stack),o.promiseRejecter(r);return}switch(o.type){case"CLOSE_PREPARED":case"COLLECT_FILE_STATISTICS":case"COPY_FILE_TO_PATH":case"DISCONNECT":case"DROP_FILE":case"DROP_FILES":case"FLUSH_FILES":case"INSERT_ARROW_FROM_IPC_STREAM":case"IMPORT_CSV_FROM_PATH":case"IMPORT_JSON_FROM_PATH":case"OPEN":case"PING":case"REGISTER_FILE_BUFFER":case"REGISTER_FILE_HANDLE":case"REGISTER_FILE_URL":case"RESET":if(a.type=="OK"){o.promiseResolver(a.data);return}break;case"INSTANTIATE":if(this._onInstantiationProgress=[],a.type=="OK"){o.promiseResolver(a.data);return}break;case"GLOB_FILE_INFOS":if(a.type=="FILE_INFOS"){o.promiseResolver(a.data);return}break;case"GET_VERSION":if(a.type=="VERSION_STRING"){o.promiseResolver(a.data);return}break;case"GET_FEATURE_FLAGS":if(a.type=="FEATURE_FLAGS"){o.promiseResolver(a.data);return}break;case"GET_TABLE_NAMES":if(a.type=="TABLE_NAMES"){o.promiseResolver(a.data);return}break;case"TOKENIZE":if(a.type=="SCRIPT_TOKENS"){o.promiseResolver(a.data);return}break;case"COPY_FILE_TO_BUFFER":if(a.type=="FILE_BUFFER"){o.promiseResolver(a.data);return}break;case"EXPORT_FILE_STATISTICS":if(a.type=="FILE_STATISTICS"){o.promiseResolver(a.data);return}break;case"CONNECT":if(a.type=="CONNECTION_INFO"){o.promiseResolver(a.data);return}break;case"RUN_PREPARED":case"RUN_QUERY":if(a.type=="QUERY_RESULT"){o.promiseResolver(a.data);return}break;case"SEND_PREPARED":if(a.type=="QUERY_RESULT_HEADER"){o.promiseResolver(a.data);return}break;case"START_PENDING_QUERY":if(a.type=="QUERY_RESULT_HEADER_OR_NULL"){o.promiseResolver(a.data);return}break;case"POLL_PENDING_QUERY":if(a.type=="QUERY_RESULT_HEADER_OR_NULL"){o.promiseResolver(a.data);return}break;case"CANCEL_PENDING_QUERY":if(this._onInstantiationProgress=[],a.type=="SUCCESS"){o.promiseResolver(a.data);return}break;case"FETCH_QUERY_RESULTS":if(a.type=="QUERY_RESULT_CHUNK"){o.promiseResolver(a.data);return}break;case"CREATE_PREPARED":if(a.type=="PREPARED_STATEMENT_ID"){o.promiseResolver(a.data);return}break}o.promiseRejecter(new Error("unexpected response type: ".concat(a.type.toString())))}onError(t){console.error(t),console.error("error in duckdb worker: ".concat(t.message)),this._pendingRequests.clear()}onClose(){if(this._workerShutdownResolver(null),this._pendingRequests.size!=0){console.warn("worker terminated with ".concat(this._pendingRequests.size," pending requests"));return}this._pendingRequests.clear()}async reset(){let t=new Pt("RESET",null);return await this.postTask(t)}async ping(){let t=new Pt("PING",null);await this.postTask(t)}async dropFile(t){let e=new Pt("DROP_FILE",t);return await this.postTask(e)}async dropFiles(){let t=new Pt("DROP_FILES",null);return await this.postTask(t)}async flushFiles(){let t=new Pt("FLUSH_FILES",null);return await this.postTask(t)}async instantiate(t,e=null,a=o=>{}){this._onInstantiationProgress.push(a);let o=new Pt("INSTANTIATE",[t,e]);return await this.postTask(o)}async getVersion(){let t=new Pt("GET_VERSION",null);return await this.postTask(t)}async getFeatureFlags(){let t=new Pt("GET_FEATURE_FLAGS",null);return await this.postTask(t)}async open(t){let e=new Pt("OPEN",t);await this.postTask(e)}async tokenize(t){let e=new Pt("TOKENIZE",t);return await this.postTask(e)}async connectInternal(){let t=new Pt("CONNECT",null);return await this.postTask(t)}async connect(){let t=await this.connectInternal();return new p8(this,t)}async disconnect(t){let e=new Pt("DISCONNECT",t);await this.postTask(e)}async runQuery(t,e){let a=new Pt("RUN_QUERY",[t,e]);return await this.postTask(a)}async startPendingQuery(t,e){let a=new Pt("START_PENDING_QUERY",[t,e]);return await this.postTask(a)}async pollPendingQuery(t){let e=new Pt("POLL_PENDING_QUERY",t);return await this.postTask(e)}async cancelPendingQuery(t){let e=new Pt("CANCEL_PENDING_QUERY",t);return await this.postTask(e)}async fetchQueryResults(t){let e=new Pt("FETCH_QUERY_RESULTS",t);return await this.postTask(e)}async getTableNames(t,e){let a=new Pt("GET_TABLE_NAMES",[t,e]);return await this.postTask(a)}async createPrepared(t,e){let a=new Pt("CREATE_PREPARED",[t,e]);return await this.postTask(a)}async closePrepared(t,e){let a=new Pt("CLOSE_PREPARED",[t,e]);await this.postTask(a)}async runPrepared(t,e,a){let o=new Pt("RUN_PREPARED",[t,e,a]);return await this.postTask(o)}async sendPrepared(t,e,a){let o=new Pt("SEND_PREPARED",[t,e,a]);return await this.postTask(o)}async globFiles(t){let e=new Pt("GLOB_FILE_INFOS",t);return await this.postTask(e)}async registerFileText(t,e){let a=Vae.encode(e);await this.registerFileBuffer(t,a)}async registerFileURL(t,e,a,o){e===void 0&&(e=t);let r=new Pt("REGISTER_FILE_URL",[t,e,a,o]);await this.postTask(r)}async registerEmptyFileBuffer(t){}async registerFileBuffer(t,e){let a=new Pt("REGISTER_FILE_BUFFER",[t,e]);await this.postTask(a,[e.buffer])}async registerFileHandle(t,e,a,o){let r=new Pt("REGISTER_FILE_HANDLE",[t,e,a,o]);await this.postTask(r,[])}async collectFileStatistics(t,e){let a=new Pt("COLLECT_FILE_STATISTICS",[t,e]);await this.postTask(a,[])}async exportFileStatistics(t){let e=new Pt("EXPORT_FILE_STATISTICS",t);return await this.postTask(e,[])}async copyFileToBuffer(t){let e=new Pt("COPY_FILE_TO_BUFFER",t);return await this.postTask(e)}async copyFileToPath(t,e){let a=new Pt("COPY_FILE_TO_PATH",[t,e]);await this.postTask(a)}async insertArrowFromIPCStream(t,e,a){if(e.length==0)return;let o=new Pt("INSERT_ARROW_FROM_IPC_STREAM",[t,e,a]);await this.postTask(o,[e.buffer])}async insertCSVFromPath(t,e,a){if(a.columns!==void 0){let r=[];for(let i in a.columns){let s=a.columns[i];r.push(j3(i,s))}a.columnsFlat=r,delete a.columns}let o=new Pt("IMPORT_CSV_FROM_PATH",[t,e,a]);await this.postTask(o)}async insertJSONFromPath(t,e,a){if(a.columns!==void 0){let r=[];for(let i in a.columns){let s=a.columns[i];r.push(j3(i,s))}a.columnsFlat=r,delete a.columns}let o=new Pt("IMPORT_JSON_FROM_PATH",[t,e,a]);await this.postTask(o)}},Hae=class{constructor(){this._bindings=null,this._nextMessageId=0}log(t){this.postMessage({messageId:this._nextMessageId++,requestId:0,type:"LOG",data:t},[])}sendOK(t){this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"OK",data:null},[])}failWith(t,e){let a={name:e.name,message:e.message,stack:e.stack||void 0};this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"ERROR",data:a},[])}async onMessage(t){switch(t.type){case"PING":this.sendOK(t);return;case"INSTANTIATE":this._bindings!=null&&this.failWith(t,new Error("duckdb already initialized"));try{this._bindings=await this.instantiate(t.data[0],t.data[1],e=>{this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"INSTANTIATE_PROGRESS",data:e},[])}),this.sendOK(t)}catch(e){console.log(e),this._bindings=null,this.failWith(t,e)}return}if(!this._bindings)return this.failWith(t,new Error("duckdb is not initialized"));try{switch(t.type){case"GET_VERSION":this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"VERSION_STRING",data:this._bindings.getVersion()},[]);break;case"GET_FEATURE_FLAGS":this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FEATURE_FLAGS",data:this._bindings.getFeatureFlags()},[]);break;case"RESET":this._bindings.reset(),this.sendOK(t);break;case"OPEN":this._bindings.open(t.data),this.sendOK(t);break;case"DROP_FILE":this._bindings.dropFile(t.data),this.sendOK(t);break;case"DROP_FILES":this._bindings.dropFiles(),this.sendOK(t);break;case"FLUSH_FILES":this._bindings.flushFiles(),this.sendOK(t);break;case"CONNECT":{let e=this._bindings.connect();this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"CONNECTION_INFO",data:e.useUnsafe((a,o)=>o)},[]);break}case"DISCONNECT":this._bindings.disconnect(t.data),this.sendOK(t);break;case"CREATE_PREPARED":{let e=this._bindings.createPrepared(t.data[0],t.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"PREPARED_STATEMENT_ID",data:e},[]);break}case"CLOSE_PREPARED":{this._bindings.closePrepared(t.data[0],t.data[1]),this.sendOK(t);break}case"RUN_PREPARED":{let e=this._bindings.runPrepared(t.data[0],t.data[1],t.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"RUN_QUERY":{let e=this._bindings.runQuery(t.data[0],t.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT",data:e},[e.buffer]);break}case"SEND_PREPARED":{let e=this._bindings.sendPrepared(t.data[0],t.data[1],t.data[2]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_HEADER",data:e},[e.buffer]);break}case"START_PENDING_QUERY":{let e=this._bindings.startPendingQuery(t.data[0],t.data[1]),a=[];e&&a.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},a);break}case"POLL_PENDING_QUERY":{let e=this._bindings.pollPendingQuery(t.data),a=[];e&&a.push(e.buffer),this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_HEADER_OR_NULL",data:e},a);break}case"CANCEL_PENDING_QUERY":{let e=this._bindings.cancelPendingQuery(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"SUCCESS",data:e},[]);break}case"FETCH_QUERY_RESULTS":{let e=this._bindings.fetchQueryResults(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"QUERY_RESULT_CHUNK",data:e},[e.buffer]);break}case"GET_TABLE_NAMES":{let e=this._bindings.getTableNames(t.data[0],t.data[1]);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"TABLE_NAMES",data:e},[]);break}case"GLOB_FILE_INFOS":{let e=this._bindings.globFiles(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FILE_INFOS",data:e},[]);break}case"REGISTER_FILE_URL":this._bindings.registerFileURL(t.data[0],t.data[1],t.data[2],t.data[3]),this.sendOK(t);break;case"REGISTER_FILE_BUFFER":this._bindings.registerFileBuffer(t.data[0],t.data[1]),this.sendOK(t);break;case"REGISTER_FILE_HANDLE":this._bindings.registerFileHandle(t.data[0],t.data[1],t.data[2],t.data[3]),this.sendOK(t);break;case"COPY_FILE_TO_PATH":this._bindings.copyFileToPath(t.data[0],t.data[1]),this.sendOK(t);break;case"COPY_FILE_TO_BUFFER":{let e=this._bindings.copyFileToBuffer(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FILE_BUFFER",data:e},[]);break}case"COLLECT_FILE_STATISTICS":this._bindings.collectFileStatistics(t.data[0],t.data[1]),this.sendOK(t);break;case"EXPORT_FILE_STATISTICS":{this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"FILE_STATISTICS",data:this._bindings.exportFileStatistics(t.data)},[]);break}case"INSERT_ARROW_FROM_IPC_STREAM":{this._bindings.insertArrowFromIPCStream(t.data[0],t.data[1],t.data[2]),this.sendOK(t);break}case"IMPORT_CSV_FROM_PATH":{this._bindings.insertCSVFromPath(t.data[0],t.data[1],t.data[2]),this.sendOK(t);break}case"IMPORT_JSON_FROM_PATH":{this._bindings.insertJSONFromPath(t.data[0],t.data[1],t.data[2]),this.sendOK(t);break}case"TOKENIZE":{let e=this._bindings.tokenize(t.data);this.postMessage({messageId:this._nextMessageId++,requestId:t.messageId,type:"SCRIPT_TOKENS",data:e},[]);break}}}catch(e){return console.log(e),this.failWith(t,e)}}},Wae=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),Gae=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),Yae=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),Zae=()=>(async t=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(t)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),CS={name:"@duckdb/duckdb-wasm",version:"1.28.1-dev159.0",description:"DuckDB powered by WebAssembly",license:"MIT",repository:{type:"git",url:"https://github.com/duckdb/duckdb-wasm.git"},keywords:["sql","duckdb","relational","database","data","query","wasm","analytics","olap","arrow","parquet","json","csv"],dependencies:{"apache-arrow":"^15.0.0"},devDependencies:{"@types/emscripten":"^1.39.10","@types/jasmine":"^5.1.4","@typescript-eslint/eslint-plugin":"^6.21.0","@typescript-eslint/parser":"^6.21.0",esbuild:"^0.20.1",eslint:"^8.56.0","eslint-plugin-jasmine":"^4.1.3","eslint-plugin-react":"^7.33.2","fast-glob":"^3.3.2",jasmine:"^5.1.0","jasmine-core":"^5.1.1","jasmine-spec-reporter":"^7.0.0","js-sha256":"^0.11.0",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-firefox-launcher":"^2.1.3","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-sourcemap-loader":"^0.4.0","karma-spec-reporter":"^0.0.36","make-dir":"^4.0.0",nyc:"^15.1.0",prettier:"^3.2.4",puppeteer:"^21.7.0",rimraf:"^5.0.5",s3rver:"^3.7.1",typedoc:"^0.25.7",typescript:"^5.3.3","wasm-feature-detect":"^1.6.1","web-worker":"^1.2.0"},scripts:{"build:debug":"node bundle.mjs debug && tsc --emitDeclarationOnly","build:release":"node bundle.mjs release && tsc --emitDeclarationOnly",docs:"typedoc",report:"node ./coverage.mjs","test:node":"node --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:debug":"node --inspect-brk --enable-source-maps ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:node:coverage":"nyc -r json --report-dir ./coverage/node node ../../node_modules/jasmine/bin/jasmine ./dist/tests-node.cjs","test:firefox":"karma start ./karma/tests-firefox.cjs","test:chrome":"karma start ./karma/tests-chrome.cjs","test:chrome:eh":"karma start ./karma/tests-chrome-eh.cjs","test:chrome:coverage":"karma start ./karma/tests-chrome-coverage.cjs","test:browser":"karma start ./karma/tests-all.cjs","test:browser:debug":"karma start ./karma/tests-debug.cjs",test:"npm run test:chrome && npm run test:node","test:coverage":"npm run test:chrome:coverage && npm run test:node:coverage && npm run report",lint:"eslint src test"},files:["dist","!dist/tests-*","!dist/duckdb-browser-mvp.worker.js.map","!dist/types/test"],main:"dist/duckdb-browser.cjs",module:"dist/duckdb-browser.mjs",types:"dist/duckdb-browser.d.ts",jsdelivr:"dist/duckdb-browser.cjs",unpkg:"dist/duckdb-browser.mjs",sideEffects:!1,browser:{fs:!1,path:!1,perf_hooks:!1,os:!1,worker_threads:!1},exports:{"./dist/duckdb-mvp.wasm":"./dist/duckdb-mvp.wasm","./dist/duckdb-eh.wasm":"./dist/duckdb-eh.wasm","./dist/duckdb-coi.wasm":"./dist/duckdb-coi.wasm","./dist/duckdb-browser":"./dist/duckdb-browser.mjs","./dist/duckdb-browser.cjs":"./dist/duckdb-browser.cjs","./dist/duckdb-browser.mjs":"./dist/duckdb-browser.mjs","./dist/duckdb-browser-blocking":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.mjs":"./dist/duckdb-browser-blocking.mjs","./dist/duckdb-browser-blocking.cjs":"./dist/duckdb-browser-blocking.cjs","./dist/duckdb-browser-coi.pthread.worker.js":"./dist/duckdb-browser-coi.pthread.worker.js","./dist/duckdb-browser-coi.worker.js":"./dist/duckdb-browser-coi.worker.js","./dist/duckdb-browser-eh.worker.js":"./dist/duckdb-browser-eh.worker.js","./dist/duckdb-browser-mvp.worker.js":"./dist/duckdb-browser-mvp.worker.js","./dist/duckdb-node":"./dist/duckdb-node.cjs","./dist/duckdb-node.cjs":"./dist/duckdb-node.cjs","./dist/duckdb-node-blocking":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-blocking.cjs":"./dist/duckdb-node-blocking.cjs","./dist/duckdb-node-eh.worker.cjs":"./dist/duckdb-node-eh.worker.cjs","./dist/duckdb-node-mvp.worker.cjs":"./dist/duckdb-node-mvp.worker.cjs","./blocking":{browser:{types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},node:{types:"./dist/duckdb-node-blocking.d.ts",require:"./dist/duckdb-node-blocking.cjs",import:"./dist/duckdb-node-blocking.cjs"},types:"./dist/duckdb-browser-blocking.d.ts",import:"./dist/duckdb-browser-blocking.mjs",require:"./dist/duckdb-browser-blocking.cjs"},".":{browser:{types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"},node:{types:"./dist/duckdb-node.d.ts",import:"./dist/duckdb-node.cjs",require:"./dist/duckdb-node.cjs"},types:"./dist/duckdb-browser.d.ts",import:"./dist/duckdb-browser.mjs",require:"./dist/duckdb-browser.cjs"}}},g8=CS.name,y8=CS.version,RS=CS.version.split("."),Kae=RS[0],Qae=RS[1],Xae=RS[2],OS=()=>typeof navigator>"u",b8=()=>OS()?"node":navigator.userAgent,Jae=()=>b8().includes("Firefox"),eoe=()=>/^((?!chrome|android).)*safari/i.test(b8());function toe(){let t="https://cdn.jsdelivr.net/npm/".concat(g8,"@").concat(y8,"/dist/");return{mvp:{mainModule:"".concat(t,"duckdb-mvp.wasm"),mainWorker:"".concat(t,"duckdb-browser-mvp.worker.js")},eh:{mainModule:"".concat(t,"duckdb-eh.wasm"),mainWorker:"".concat(t,"duckdb-browser-eh.worker.js")}}}var Jb=null,e_=null,t_=null,a_=null,o_=null;async function _8(){return Jb==null&&(Jb=typeof BigInt64Array<"u"),e_==null&&(e_=await Gae()),t_==null&&(t_=await Zae()),a_==null&&(a_=await Yae()),o_==null&&(o_=await Wae()),{bigInt64Array:Jb,crossOriginIsolated:OS()||globalThis.crossOriginIsolated||!1,wasmExceptions:e_,wasmSIMD:a_,wasmThreads:t_,wasmBulkMemory:o_}}async function aoe(t){let e=await _8();if(e.wasmExceptions){if(e.wasmSIMD&&e.wasmThreads&&e.crossOriginIsolated&&t.coi)return{mainModule:t.coi.mainModule,mainWorker:t.coi.mainWorker,pthreadWorker:t.coi.pthreadWorker};if(t.eh)return{mainModule:t.eh.mainModule,mainWorker:t.eh.mainWorker,pthreadWorker:null}}return{mainModule:t.mvp.mainModule,mainWorker:t.mvp.mainWorker,pthreadWorker:null}}var ooe=MS(Nae());async function roe(t){let e=new Request(t),a=await fetch(e),o=URL.createObjectURL(await a.blob());return new ooe.default(o)}function ioe(){let t=new TextDecoder;return e=>(typeof SharedArrayBuffer<"u"&&e.buffer instanceof SharedArrayBuffer&&(e=new Uint8Array(e)),t.decode(e))}ioe();var x8=(t=>(t[t.BUFFER=0]="BUFFER",t[t.NODE_FS=1]="NODE_FS",t[t.BROWSER_FILEREADER=2]="BROWSER_FILEREADER",t[t.BROWSER_FSACCESS=3]="BROWSER_FSACCESS",t[t.HTTP=4]="HTTP",t[t.S3=5]="S3",t))(x8||{});function gu(){return gu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},gu.apply(this,arguments)}typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function soe(t,e){try{var a=t()}catch(o){return e(!0,o)}return a&&a.then?a.then(e.bind(null,!1),e.bind(null,!0)):e(!1,value)}var noe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?M.useLayoutEffect:M.useEffect,doe=function(e){var a=M.useRef(e);return noe(function(){a.current=e}),M.useCallback(function(){return a.current},[a])},coe={status:"not-requested",loading:!1,result:void 0,error:void 0},w8={status:"loading",loading:!0,result:void 0,error:void 0},loe=function(e){return w8},uoe=function(e,a){return{status:"success",loading:!1,result:e,error:void 0}},moe=function(e,a){return{status:"error",loading:!1,result:void 0,error:e}},MC=function(){},poe={initialState:function(e){return e&&e.executeOnMount?w8:coe},executeOnMount:!0,executeOnUpdate:!0,setLoading:loe,setResult:uoe,setError:moe,onSuccess:MC,onError:MC},foe=function(e){return gu({},poe,{},e)},hoe=function(e){var a=M.useState(function(){return e.initialState(e)}),o=a[0],r=a[1],i=M.useCallback(function(){return r(e.initialState(e))},[r,e]),s=M.useCallback(function(){return r(e.setLoading(o))},[o,r]),n=M.useCallback(function(l){return r(e.setResult(l,o))},[o,r]),d=M.useCallback(function(l){return r(e.setError(l,o))},[o,r]),c=M.useCallback(function(l){return r(gu({},o,{},l))},[o,r]);return{value:o,set:r,merge:c,reset:i,setLoading:s,setResult:n,setError:d}},voe=function(){var e=M.useRef(!1);return M.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),function(){return e.current}},goe=function(){var e=M.useRef(null);return{set:function(o){return e.current=o},get:function(){return e.current},is:function(o){return e.current===o}}},S8=function(e,a,o){!a&&(a=[]);var r=foe(o),i=M.useState(null),s=i[0],n=i[1],d=hoe(r),c=voe(),l=goe(),m=function(h){return c()&&l.is(h)},u=function(){for(var h=arguments.length,y=new Array(h),b=0;b<h;b++)y[b]=arguments[b];var _=function(){try{return Promise.resolve(e.apply(void 0,y))}catch(S){return Promise.reject(S)}}();return n(y),l.set(_),d.setLoading(),_.then(function(S){m(_)&&d.setResult(S),r.onSuccess(S,{isCurrent:function(){return l.is(_)}})},function(S){m(_)&&d.setError(S),r.onError(S,{isCurrent:function(){return l.is(_)}})}),_},v=doe(u),g=M.useCallback(function(){return v().apply(void 0,arguments)},[v]),f=!c();return M.useEffect(function(){var p=function(){return v().apply(void 0,a)};f&&r.executeOnMount&&p(),!f&&r.executeOnUpdate&&p()},a),gu({},d.value,{set:d.set,merge:d.merge,reset:d.reset,execute:g,currentPromise:l.get(),currentParams:s})};function A8(t,e,a){return S8(t,e,a)}var yoe=function(e,a,o){var r=M.useRef(),i=function(){for(var n=arguments.length,d=new Array(n),c=0;c<n;c++)d[c]=arguments[c];try{r.current&&r.current.abort();var l=new AbortController;return r.current=l,Promise.resolve(soe(function(){return Promise.resolve(e.apply(void 0,[l.signal].concat(d)))},function(m,u){if(r.current===l&&(r.current=void 0),m)throw u;return u}))}catch(m){return Promise.reject(m)}};return A8(i,a,o)},boe=function(e,a){return S8(e,[],gu({},a,{executeOnMount:!1,executeOnUpdate:!1}))};const _oe=Object.freeze(Object.defineProperty({__proto__:null,useAsync:A8,useAsyncAbortable:yoe,useAsyncCallback:boe},Symbol.toStringTag,{value:"Module"})),E8=Zr(_oe);var TC={},IS=Object.defineProperty,xoe=Object.getOwnPropertyDescriptor,woe=Object.getOwnPropertyNames,Soe=Object.prototype.hasOwnProperty,Aoe=(t,e)=>{for(var a in e)IS(t,a,{get:e[a],enumerable:!0})},Eoe=(t,e,a,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of woe(e))!Soe.call(t,r)&&r!==a&&IS(t,r,{get:()=>e[r],enumerable:!(o=xoe(e,r))||o.enumerable});return t},Moe=t=>Eoe(IS({},"__esModule",{value:!0}),t),M8={};Aoe(M8,{AssertionError:()=>I8,Environment:()=>T8,HttpError:()=>Roe,addLogger:()=>Foe,assertError:()=>D8,assertTrue:()=>Ooe,formatElapsedTime:()=>N8,getEnvironment:()=>DS,isArray:()=>Doe,isBrowser:()=>O8,isDebug:()=>R8,isDevelopment:()=>C8,isModKey:()=>Loe,isNotNull:()=>Poe,isProduction:()=>Toe,isRecord:()=>qoe,isServer:()=>Coe,isString:()=>Ioe,isValidUrl:()=>Voe,logElapsedTime:()=>Uoe,logError:()=>zoe,modKey:()=>Noe,normalizeUrl:()=>$oe});var Cy=Moe(M8),T8=(t=>(t.Production="production",t.Development="development",t))(T8||{}),DS=()=>{switch("production"){case"development":return"development";case"production":return"production";default:throw new Error("Unknown environment")}},C8=()=>DS()==="development",Toe=()=>DS()==="production",R8=()=>C8()&&(TC.NEXT_PUBLIC_DEBUG==="true"||TC.DEBUG==="true"),O8=()=>typeof window<"u",Coe=()=>!O8(),Roe=class extends Error{constructor(t,e=500,a){super(t),this.status=e,this.headers=a}},I8=class extends Error{};function D8(t){throw new I8(t)}function Ooe(t,e){t||D8(e)}var Ioe=t=>typeof t=="string",Doe=t=>Array.isArray(t),qoe=t=>typeof t=="object"&&t!==null&&!Array.isArray(t),Poe=t=>t!==null,qS=typeof navigator=="object"?navigator.platform:"",q8=qS==="Win32",P8=qS.startsWith("Mac"),L8=qS==="Linux",Loe=t=>P8?t.metaKey:q8||L8?t.ctrlKey:!1,Noe=t=>{if(P8)return`⌘${t}`;if(q8||L8)return`Ctrl+${t}`},joe=(t,e)=>{R8()&&(e?(console.error(t),console.error(e)):console.error(t))},F3=[joe],Foe=t=>{F3.includes(t)||F3.push(t)},zoe=(t,e)=>{F3.forEach(a=>{a(t,e)})},Boe="\x1B[31m",koe="\x1B[0m",N8=(t,e,a=void 0)=>{const r=(a??performance.now())-e;let i;switch(!0){case r>=1e3:i=`${(r/1e3).toFixed(1)}s`;break;case r>=1:i=`${r.toFixed(0)}ms`;break;default:i=`${r.toFixed(3)}ms`;break}return`${Boe}[${i}] ${koe}${t}`},Uoe=(t,e,a=void 0)=>{console.debug(N8(t,e,a))},Voe=t=>{try{return new URL(t),!0}catch{return!1}},$oe=t=>{!t.startsWith("http://")&&!t.startsWith("https://")&&(t="http://"+t);try{const e=new URL(t);return e.pathname=e.pathname.replace(/\/+$/,""),e.toString()}catch{return null}},Hoe=Object.create,Ry=Object.defineProperty,Woe=Object.getOwnPropertyDescriptor,Goe=Object.getOwnPropertyNames,Yoe=Object.getPrototypeOf,Zoe=Object.prototype.hasOwnProperty,Koe=(t,e)=>{for(var a in e)Ry(t,a,{get:e[a],enumerable:!0})},j8=(t,e,a,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Goe(e))!Zoe.call(t,r)&&r!==a&&Ry(t,r,{get:()=>e[r],enumerable:!(o=Woe(e,r))||o.enumerable});return t},F8=(t,e,a)=>(a=t!=null?Hoe(Yoe(t)):{},j8(e||!t||!t.__esModule?Ry(a,"default",{value:t,enumerable:!0}):a,t)),Qoe=t=>j8(Ry({},"__esModule",{value:!0}),t),Ra=(t,e,a)=>new Promise((o,r)=>{var i=d=>{try{n(a.next(d))}catch(c){r(c)}},s=d=>{try{n(a.throw(d))}catch(c){r(c)}},n=d=>d.done?o(d.value):Promise.resolve(d.value).then(i,s);n((a=a.apply(t,e)).next())}),z8={};Koe(z8,{ARROW_MIME_TYPE:()=>$8,AsyncDuckDB:()=>Joe.AsyncDuckDB,CSV_MIME_TYPE:()=>G8,InsertFileError:()=>yu,PARQUET_MIME_TYPE:()=>Y8,arrayBufferToArrow:()=>LS,arrowToArrayBuffer:()=>W8,arrowToJSON:()=>ure,cardinalities:()=>cre,drop:()=>dre,exportArrow:()=>mre,exportCsv:()=>pre,exportParquet:()=>fre,getDuckDB:()=>k8,getTempFilename:()=>hh,initializeDuckDb:()=>B8,insertArrow:()=>k3,insertArrowTable:()=>K8,insertCSV:()=>B3,insertFile:()=>bre,insertParquet:()=>U3,isArrow:()=>lre,isArrowFile:()=>H8,isParquetFile:()=>Z8,runQuery:()=>Yr,useDuckDb:()=>U8,useDuckDbQuery:()=>sre});var Xoe=Qoe(z8),Joe=Ty,ere=E8,sv=F8(Ty),tre=Ty,are=Cy,n0,wp;function B8(t){return Ra(this,null,function*(){const{debug:e=!1,config:a}=t||{};return n0=e,wp===void 0&&(wp=ore(a)),wp})}var ore=t=>Ra(void 0,null,function*(){const e=performance.now(),a=sv.getJsDelivrBundles(),o=yield sv.selectBundle(a),r=URL.createObjectURL(new Blob([`importScripts("${o.mainWorker}");`],{type:"text/javascript"})),i=new Worker(r),s=n0?new sv.ConsoleLogger:new sv.VoidLogger,n=new tre.AsyncDuckDB(s,i);if(yield n.instantiate(o.mainModule,o.pthreadWorker),URL.revokeObjectURL(r),t){if(t.path){const c=yield(yield fetch(t.path)).arrayBuffer(),l=t.path.match(/[^/]*$/);l&&(t.path=l[0]),yield n.registerFileBuffer(t.path,new Uint8Array(c))}yield n.open(t)}return n0&&((0,are.logElapsedTime)("DuckDB initialized",e),t&&console.debug(`DuckDbConfig: ${JSON.stringify(t,null,2)}`)),n}),k8=()=>Ra(void 0,null,function*(){return wp||(yield B8())}),U8=()=>{const{result:t,loading:e,error:a}=(0,ere.useAsync)(()=>Ra(void 0,null,function*(){return yield k8()}),[]);return{db:t,loading:e,error:a}},rre=E8,ire=Cy,Yr=(t,e)=>Ra(void 0,null,function*(){const a=performance.now(),o=yield t.connect(),r=yield o.query(e);return yield o.close(),n0&&(0,ire.logElapsedTime)(`Run query: ${e}`,a),r}),sre=t=>{const{db:e}=U8(),{result:a,loading:o,error:r}=(0,rre.useAsync)(()=>Ra(void 0,null,function*(){return!e||!t?void 0:yield Yr(e,t)}),[e,t]);return{arrow:a,loading:o,error:r}},z3=Cy,nre=(t,e)=>Ra(void 0,null,function*(){const a=yield Yr(t,`select table_type from information_schema.tables where table_name = '${e}'`);if(a.numRows===1){const o=a.get(0),r=o==null?void 0:o.toArray()[0];switch(r){case"BASE TABLE":return"Table";case"VIEW":return"View";default:throw new z3.AssertionError(`Unexpected table type: ${r}`)}}else return}),dre=(t,e)=>Ra(void 0,null,function*(){const a=yield nre(t,e);a==="Table"?yield Yr(t,`drop table if exists "${e}"`):a==="View"&&(yield Yr(t,`drop view if exists "${e}"`))}),V8=(t,e)=>Ra(void 0,null,function*(){const a=yield Yr(t,`select column_name, data_type from information_schema.columns where table_name = '${e}'`),o=new Map;for(let r=0;r<a.numRows;r++){const i=a.get(r);if(i){const[s,n]=i.toArray();o.set(s,n)}}return o}),cre=(t,e)=>Ra(void 0,null,function*(){const a=yield V8(t,e),o=Array.from(a.keys()),i=(yield Yr(t,`select count(distinct columns(*)) from "${e}"`)).get(0);if(!i)throw new z3.AssertionError(`Expected a single row of cardinalities: ${e}`);const s=i.toArray();if(s.length!==o.length)throw new z3.AssertionError(`Unexpected length mismatch: ${e}`);const n={};for(let d=0;d<o.length;d++)n[o[d]]=s[d];return n}),hh=()=>{const t=Date.now().toString(),e=Math.random().toString(36).substring(2);return`file-${t}-${e}`},PS=W1,$8="application/vnd.apache.arrow.file",lre=t=>t instanceof PS.Table,H8=t=>Ra(void 0,null,function*(){try{const e=yield t.arrayBuffer();return LS(e),!0}catch{}return!1}),LS=t=>(0,PS.tableFromIPC)(new Uint8Array(t)),W8=t=>(0,PS.tableToIPC)(t,"file").buffer;function ure(t){const e=[];for(let a=0;a<t.numRows;a++){const o=t.get(a);o&&e.push(o.toJSON())}return e}var G8="text/csv",Y8="application/vnd.apache.parquet",Z8=t=>Ra(void 0,null,function*(){return(yield t.slice(0,4).text()).startsWith("PAR1")}),mre=(t,e,a)=>Ra(void 0,null,function*(){a=a||NS(e,"arrow");const o=yield Yr(t,`SELECT * FROM '${e}'`),r=W8(o);return new File([r],a,{type:$8})}),pre=(t,e,a,o=",")=>Ra(void 0,null,function*(){a=a||NS(e,"csv");const r=hh();yield Yr(t,`COPY '${e}' TO '${r}' WITH (HEADER 1, DELIMITER '${o}')`);const i=yield t.copyFileToBuffer(r);return yield t.dropFile(r),new File([i],a,{type:G8})}),fre=(t,e,a,o="zstd")=>Ra(void 0,null,function*(){a=a||NS(e,"parquet");const r=hh();yield Yr(t,`COPY '${e}' TO '${r}' (FORMAT PARQUET, COMPRESSION ${o})`);const i=yield t.copyFileToBuffer(r);return yield t.dropFile(r),new File([i],a,{type:Y8})}),hre=(t,e)=>{const a=t.split("."),o=a.length>1?a.pop():"",r=a.join(".");return e.includes(o)?r:t},NS=(t,e)=>hre(t,["arrow","csv","parquet"])+"."+e,vre=F8(Ty),gre=Cy,yre=(t,e)=>Ra(void 0,null,function*(){const a=yield V8(t,e),o=Array.from(a.keys());for(let r=0;r<o.length;r++){const i=o[r];i.toLowerCase().includes("year")&&(yield Yr(t,`ALTER TABLE "${e}" ALTER COLUMN "${i}" SET DATA TYPE VARCHAR`))}}),yu=class extends Error{constructor(t,e){super(e),this.title=t,this.name="InsertFileError"}},bre=(t,e,a,o=!1)=>Ra(void 0,null,function*(){const r=performance.now();yield _re(t,e,a),o&&(0,gre.logElapsedTime)(`Imported ${e.name}`,r)}),_re=(t,e,a)=>Ra(void 0,null,function*(){try{if(a=a||e.name,yield Z8(e)){yield U3(t,e,a);return}if(yield H8(e)){yield k3(t,e,a);return}switch(e.name.toLowerCase().split(".").at(-1)){case"arrow":yield k3(t,e,a);return;case"parquet":yield U3(t,e,a);return;case"csv":yield B3(t,e,a);return}return yield B3(t,e,a)}catch(o){throw console.error(o),o instanceof yu?o:new yu("Invalid file type","Only CSV, Parquet, or Arrow files are supported")}}),B3=(t,e,a)=>Ra(void 0,null,function*(){try{const o=yield e.text(),r=hh();yield t.registerFileText(r,o);const i=yield t.connect();yield i.insertCSVFromPath(r,{name:a,schema:"main",detect:!0}),yield i.close(),t.dropFile(r),yield yre(t,a)}catch(o){throw console.error(o),e.type==="text/csv"||e.name.toLowerCase().endsWith(".csv")?new yu("CSV import failed","Sorry, we couldn't import that CSV. Please try again."):o}}),k3=(t,e,a)=>Ra(void 0,null,function*(){try{const o=yield e.arrayBuffer(),r=LS(o);yield K8(t,r,a)}catch(o){throw console.error(o),new yu("Arrow import failed","Sorry, we couldn't import that file")}}),K8=(t,e,a)=>Ra(void 0,null,function*(){const o=yield t.connect();yield o.insertArrowTable(e,{name:a}),yield o.close()}),U3=(t,e,a)=>Ra(void 0,null,function*(){try{const o=hh()+".parquet";yield t.registerFileHandle(o,e,vre.DuckDBDataProtocol.BROWSER_FILEREADER,!0),yield Yr(t,`CREATE TABLE '${a}' AS SELECT * FROM '${o}'`),yield t.dropFile(o)}catch(o){throw console.error(o),new yu("Parquet import failed","Sorry, we couldn't import that file")}});const xre=t=>t.map(e=>e.handle).filter(e=>!!e),Q8=()=>{const t=yz();return(t==null?void 0:t.length)>0?xre(t)[0]:{title:"Erro",isMainRoute:!1}};var Ua;(t=>{t.CSS={transition:{time:"0.3s",mode:"easy"},padding:{button:"9px 16px",page:"15px 25px"},caixaGrande:{width:"288px",height:"51px",radius:"10px"}},t.DRAWER_WIDTH=300,t.MARGEM_DIFERENCA_PALAVRAS=.8,(e=>{e.dado="Dado",e.mapas="Mapas",e.sobre="Sobre",e.tagmar="Tagmar",e.fichas="Fichas",e.magias="Magias",e.habilidades="Habilidades",e.configuracoes="Configurações"})(t.PAGES||(t.PAGES={}))})(Ua||(Ua={}));var jS={},r_={};const wre=Zr(_U);var CC;function an(){return CC||(CC=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=wre}(r_)),r_}var Sre=Ri;Object.defineProperty(jS,"__esModule",{value:!0});var X8=jS.default=void 0,Are=Sre(an()),Ere=R;X8=jS.default=(0,Are.default)((0,Ere.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");var FS={},Mre=Ri;Object.defineProperty(FS,"__esModule",{value:!0});var J8=FS.default=void 0,Tre=Mre(an()),Cre=R;J8=FS.default=(0,Tre.default)((0,Cre.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");const vh={palette:{mode:"dark",primary:{main:"#FFAC3D",dark:"#B06A0B",contrastText:"#ffffff",light:"#f3d9b5"},secondary:{main:"#70B0E0",contrastText:"#052640",light:"#badffb",dark:"#4e7b9c"},background:{default:"#121212",paper:"#2a2a2a"},text:{primary:"#ffffff",secondary:"#F3D9B5",disabled:"#3d2808"},divider:"#414141"},typography:{fontFamily:"Poppins"}},Rre=Ww(vh),Ore=({children:t})=>R.jsx(fU,{theme:Rre,children:t});function Ire(t){const{children:e}=t,a=O6({target:window??void 0});return R.jsx(i6,{appear:!1,direction:"down",in:!a,children:e})}const Wa=t=>R.jsx(Os,{variant:"body2",...t}),Dre=({onMenu:t})=>{var r,i;const{isMainRoute:e,title:a,rightAction:o}=Q8();return R.jsx(Ire,{children:R.jsx(QV,{position:"fixed",sx:{ml:{sm:`${Ua.DRAWER_WIDTH}px`},width:{sm:`calc(100% - ${Ua.DRAWER_WIDTH}px)`}},children:R.jsxs(C6,{sx:{backgroundColor:(i=(r=vh.palette)==null?void 0:r.background)==null?void 0:i.default},children:[R.jsx(Wn,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:t,sx:{mr:2,display:{sm:"none"}},children:e?R.jsx(J8,{}):R.jsx(X8,{})}),R.jsx(Wa,{variant:"h6",noWrap:!0,component:"div",flexGrow:1,children:a}),o&&R.jsx(Wn,{edge:"end",onClick:o.action,disabled:!0,children:R.jsx(o.Icon,{})})]})})})},eP=hF,tP=iF;var Vd,$d,Hd,Wd;const Sp=class Sp{constructor(){sm(this,Vd,0);sm(this,$d,0);sm(this,Hd,0);sm(this,Wd,1)}static createFrom(e){const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(a){const r=new Sp;return Di(r,Vd,parseInt(a[1],16)),Di(r,$d,parseInt(a[2],16)),Di(r,Hd,parseInt(a[3],16)),Di(r,Wd,1),r}const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(o){const r=new Sp;return Di(r,Vd,parseInt(o[1],16)),Di(r,$d,parseInt(o[2],16)),Di(r,Hd,parseInt(o[3],16)),Di(r,Wd,parseInt(o[4],16)),r}return new Sp}toRgb(){return`rgb(${sn(this,Vd)},${sn(this,$d)},${sn(this,Hd)})`}changeAlpha(e){return Di(this,Wd,e),this}toRgba(){return`rgb(${sn(this,Vd)},${sn(this,$d)},${sn(this,Hd)},${sn(this,Wd)})`}};Vd=new WeakMap,$d=new WeakMap,Hd=new WeakMap,Wd=new WeakMap;let V3=Sp;const i_=t=>Array.isArray(t)?t:[t],qre=(t,e)=>V3.createFrom(t).changeAlpha(e).toRgba(),Pre=(t,e)=>`${t.split(":")[0]}${e}`,Lre=(t,e)=>(t.has(e)?t.delete(e):t.add(e),new Set([...t]));function so(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Nre=typeof Symbol=="function"&&Symbol.observable||"@@observable",RC=Nre,s_=()=>Math.random().toString(36).substring(7).split("").join("."),jre={INIT:`@@redux/INIT${s_()}`,REPLACE:`@@redux/REPLACE${s_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s_()}`},d0=jre;function zS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function aP(t,e,a){if(typeof t!="function")throw new Error(so(2));if(typeof e=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(so(0));if(typeof e=="function"&&typeof a>"u"&&(a=e,e=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(so(1));return a(aP)(t,e)}let o=t,r=e,i=new Map,s=i,n=0,d=!1;function c(){s===i&&(s=new Map,i.forEach((p,h)=>{s.set(h,p)}))}function l(){if(d)throw new Error(so(3));return r}function m(p){if(typeof p!="function")throw new Error(so(4));if(d)throw new Error(so(5));let h=!0;c();const y=n++;return s.set(y,p),function(){if(h){if(d)throw new Error(so(6));h=!1,c(),s.delete(y),i=null}}}function u(p){if(!zS(p))throw new Error(so(7));if(typeof p.type>"u")throw new Error(so(8));if(typeof p.type!="string")throw new Error(so(17));if(d)throw new Error(so(9));try{d=!0,r=o(r,p)}finally{d=!1}return(i=s).forEach(y=>{y()}),p}function v(p){if(typeof p!="function")throw new Error(so(10));o=p,u({type:d0.REPLACE})}function g(){const p=m;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(so(11));function y(){const _=h;_.next&&_.next(l())}return y(),{unsubscribe:p(y)}},[RC](){return this}}}return u({type:d0.INIT}),{dispatch:u,subscribe:m,getState:l,replaceReducer:v,[RC]:g}}function Fre(t){Object.keys(t).forEach(e=>{const a=t[e];if(typeof a(void 0,{type:d0.INIT})>"u")throw new Error(so(12));if(typeof a(void 0,{type:d0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(so(13))})}function zre(t){const e=Object.keys(t),a={};for(let i=0;i<e.length;i++){const s=e[i];typeof t[s]=="function"&&(a[s]=t[s])}const o=Object.keys(a);let r;try{Fre(a)}catch(i){r=i}return function(s={},n){if(r)throw r;let d=!1;const c={};for(let l=0;l<o.length;l++){const m=o[l],u=a[m],v=s[m],g=u(v,n);if(typeof g>"u")throw n&&n.type,new Error(so(14));c[m]=g,d=d||g!==v}return d=d||o.length!==Object.keys(s).length,d?c:s}}function c0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,a)=>(...o)=>e(a(...o)))}function Bre(...t){return e=>(a,o)=>{const r=e(a,o);let i=()=>{throw new Error(so(15))};const s={getState:r.getState,dispatch:(d,...c)=>i(d,...c)},n=t.map(d=>d(s));return i=c0(...n)(r.dispatch),{...r,dispatch:i}}}function kre(t){return zS(t)&&"type"in t&&typeof t.type=="string"}var oP=Symbol.for("immer-nothing"),OC=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function fi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var bu=Object.getPrototypeOf;function ed(t){return!!t&&!!t[vr]}function Hs(t){var e;return t?rP(t)||Array.isArray(t)||!!t[OC]||!!((e=t.constructor)!=null&&e[OC])||Iy(t)||Dy(t):!1}var Ure=Object.prototype.constructor.toString();function rP(t){if(!t||typeof t!="object")return!1;const e=bu(t);if(e===null)return!0;const a=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===Ure}function l0(t,e){Oy(t)===0?Reflect.ownKeys(t).forEach(a=>{e(a,t[a],t)}):t.forEach((a,o)=>e(o,a,t))}function Oy(t){const e=t[vr];return e?e.type_:Array.isArray(t)?1:Iy(t)?2:Dy(t)?3:0}function $3(t,e){return Oy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function iP(t,e,a){const o=Oy(t);o===2?t.set(e,a):o===3?t.add(a):t[e]=a}function Vre(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Iy(t){return t instanceof Map}function Dy(t){return t instanceof Set}function Td(t){return t.copy_||t.base_}function H3(t,e){if(Iy(t))return new Map(t);if(Dy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&rP(t))return bu(t)?{...t}:Object.assign(Object.create(null),t);const a=Object.getOwnPropertyDescriptors(t);delete a[vr];let o=Reflect.ownKeys(a);for(let r=0;r<o.length;r++){const i=o[r],s=a[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(a[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(bu(t),a)}function BS(t,e=!1){return qy(t)||ed(t)||!Hs(t)||(Oy(t)>1&&(t.set=t.add=t.clear=t.delete=$re),Object.freeze(t),e&&Object.entries(t).forEach(([a,o])=>BS(o,!0))),t}function $re(){fi(2)}function qy(t){return Object.isFrozen(t)}var Hre={};function gc(t){const e=Hre[t];return e||fi(0,t),e}var rf;function sP(){return rf}function Wre(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function IC(t,e){e&&(gc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function W3(t){G3(t),t.drafts_.forEach(Gre),t.drafts_=null}function G3(t){t===rf&&(rf=t.parent_)}function DC(t){return rf=Wre(rf,t)}function Gre(t){const e=t[vr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const a=e.drafts_[0];return t!==void 0&&t!==a?(a[vr].modified_&&(W3(e),fi(4)),Hs(t)&&(t=u0(e,t),e.parent_||m0(e,t)),e.patches_&&gc("Patches").generateReplacementPatches_(a[vr].base_,t,e.patches_,e.inversePatches_)):t=u0(e,a,[]),W3(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==oP?t:void 0}function u0(t,e,a){if(qy(e))return e;const o=e[vr];if(!o)return l0(e,(r,i)=>PC(t,o,e,r,i,a)),e;if(o.scope_!==t)return e;if(!o.modified_)return m0(t,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const r=o.copy_;let i=r,s=!1;o.type_===3&&(i=new Set(r),r.clear(),s=!0),l0(i,(n,d)=>PC(t,o,r,n,d,a,s)),m0(t,r,!1),a&&t.patches_&&gc("Patches").generatePatches_(o,a,t.patches_,t.inversePatches_)}return o.copy_}function PC(t,e,a,o,r,i,s){if(ed(r)){const n=i&&e&&e.type_!==3&&!$3(e.assigned_,o)?i.concat(o):void 0,d=u0(t,r,n);if(iP(a,o,d),ed(d))t.canAutoFreeze_=!1;else return}else s&&a.add(r);if(Hs(r)&&!qy(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;u0(t,r),(!e||!e.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,o)&&m0(t,r)}}function m0(t,e,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&BS(e,a)}function Yre(t,e){const a=Array.isArray(t),o={type_:a?1:0,scope_:e?e.scope_:sP(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=o,i=kS;a&&(r=[o],i=sf);const{revoke:s,proxy:n}=Proxy.revocable(r,i);return o.draft_=n,o.revoke_=s,n}var kS={get(t,e){if(e===vr)return t;const a=Td(t);if(!$3(a,e))return Zre(t,a,e);const o=a[e];return t.finalized_||!Hs(o)?o:o===n_(t.base_,e)?(d_(t),t.copy_[e]=Z3(o,t)):o},has(t,e){return e in Td(t)},ownKeys(t){return Reflect.ownKeys(Td(t))},set(t,e,a){const o=nP(Td(t),e);if(o!=null&&o.set)return o.set.call(t.draft_,a),!0;if(!t.modified_){const r=n_(Td(t),e),i=r==null?void 0:r[vr];if(i&&i.base_===a)return t.copy_[e]=a,t.assigned_[e]=!1,!0;if(Vre(a,r)&&(a!==void 0||$3(t.base_,e)))return!0;d_(t),Y3(t)}return t.copy_[e]===a&&(a!==void 0||e in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=a,t.assigned_[e]=!0),!0},deleteProperty(t,e){return n_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,d_(t),Y3(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const a=Td(t),o=Reflect.getOwnPropertyDescriptor(a,e);return o&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:o.enumerable,value:a[e]}},defineProperty(){fi(11)},getPrototypeOf(t){return bu(t.base_)},setPrototypeOf(){fi(12)}},sf={};l0(kS,(t,e)=>{sf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sf.deleteProperty=function(t,e){return sf.set.call(this,t,e,void 0)};sf.set=function(t,e,a){return kS.set.call(this,t[0],e,a,t[0])};function n_(t,e){const a=t[vr];return(a?Td(a):t)[e]}function Zre(t,e,a){var r;const o=nP(e,a);return o?"value"in o?o.value:(r=o.get)==null?void 0:r.call(t.draft_):void 0}function nP(t,e){if(!(e in t))return;let a=bu(t);for(;a;){const o=Object.getOwnPropertyDescriptor(a,e);if(o)return o;a=bu(a)}}function Y3(t){t.modified_||(t.modified_=!0,t.parent_&&Y3(t.parent_))}function d_(t){t.copy_||(t.copy_=H3(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Kre=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,a,o)=>{if(typeof e=="function"&&typeof a!="function"){const i=a;a=e;const s=this;return function(d=i,...c){return s.produce(d,l=>a.call(this,l,...c))}}typeof a!="function"&&fi(6),o!==void 0&&typeof o!="function"&&fi(7);let r;if(Hs(e)){const i=DC(this),s=Z3(e,void 0);let n=!0;try{r=a(s),n=!1}finally{n?W3(i):G3(i)}return IC(i,o),qC(r,i)}else if(!e||typeof e!="object"){if(r=a(e),r===void 0&&(r=e),r===oP&&(r=void 0),this.autoFreeze_&&BS(r,!0),o){const i=[],s=[];gc("Patches").generateReplacementPatches_(e,r,i,s),o(i,s)}return r}else fi(1,e)},this.produceWithPatches=(e,a)=>{if(typeof e=="function")return(s,...n)=>this.produceWithPatches(s,d=>e(d,...n));let o,r;return[this.produce(e,a,(s,n)=>{o=s,r=n}),o,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Hs(t)||fi(8),ed(t)&&(t=dP(t));const e=DC(this),a=Z3(t,void 0);return a[vr].isManual_=!0,G3(e),a}finishDraft(t,e){const a=t&&t[vr];(!a||!a.isManual_)&&fi(9);const{scope_:o}=a;return IC(o,e),qC(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let a;for(a=e.length-1;a>=0;a--){const r=e[a];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}a>-1&&(e=e.slice(a+1));const o=gc("Patches").applyPatches_;return ed(t)?o(t,e):this.produce(t,r=>o(r,e))}};function Z3(t,e){const a=Iy(t)?gc("MapSet").proxyMap_(t,e):Dy(t)?gc("MapSet").proxySet_(t,e):Yre(t,e);return(e?e.scope_:sP()).drafts_.push(a),a}function dP(t){return ed(t)||fi(10,t),cP(t)}function cP(t){if(!Hs(t)||qy(t))return t;const e=t[vr];let a;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,a=H3(t,e.scope_.immer_.useStrictShallowCopy_)}else a=H3(t,!0);return l0(a,(o,r)=>{iP(a,o,cP(r))}),e&&(e.finalized_=!1),a}var gr=new Kre,lP=gr.produce;gr.produceWithPatches.bind(gr);gr.setAutoFreeze.bind(gr);gr.setUseStrictShallowCopy.bind(gr);gr.applyPatches.bind(gr);gr.createDraft.bind(gr);gr.finishDraft.bind(gr);function Qre(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Xre(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Jre(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(a=>typeof a=="function")){const a=t.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${e}[${a}]`)}}var LC=t=>Array.isArray(t)?t:[t];function eie(t){const e=Array.isArray(t[0])?t[0]:t;return Jre(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function tie(t,e){const a=[],{length:o}=t;for(let r=0;r<o;r++)a.push(t[r].apply(null,e));return a}var aie=class{constructor(t){this.value=t}deref(){return this.value}},oie=typeof WeakRef<"u"?WeakRef:aie,rie=0,NC=1;function nv(){return{s:rie,v:void 0,o:null,p:null}}function US(t,e={}){let a=nv();const{resultEqualityCheck:o}=e;let r,i=0;function s(){var m;let n=a;const{length:d}=arguments;for(let u=0,v=d;u<v;u++){const g=arguments[u];if(typeof g=="function"||typeof g=="object"&&g!==null){let f=n.o;f===null&&(n.o=f=new WeakMap);const p=f.get(g);p===void 0?(n=nv(),f.set(g,n)):n=p}else{let f=n.p;f===null&&(n.p=f=new Map);const p=f.get(g);p===void 0?(n=nv(),f.set(g,n)):n=p}}const c=n;let l;if(n.s===NC?l=n.v:(l=t.apply(null,arguments),i++),c.s=NC,o){const u=((m=r==null?void 0:r.deref)==null?void 0:m.call(r))??r;u!=null&&o(u,l)&&(l=u,i!==0&&i--),r=typeof l=="object"&&l!==null||typeof l=="function"?new oie(l):l}return c.v=l,l}return s.clearCache=()=>{a=nv(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function uP(t,...e){const a=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,o=(...r)=>{let i=0,s=0,n,d={},c=r.pop();typeof c=="object"&&(d=c,c=r.pop()),Qre(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const l={...a,...d},{memoize:m,memoizeOptions:u=[],argsMemoize:v=US,argsMemoizeOptions:g=[],devModeChecks:f={}}=l,p=LC(u),h=LC(g),y=eie(r),b=m(function(){return i++,c.apply(null,arguments)},...p),_=v(function(){s++;const x=tie(y,arguments);return n=b.apply(null,x),n},...h);return Object.assign(_,{resultFunc:c,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>n,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:v})};return Object.assign(o,{withTypes:()=>o}),o}var iie=uP(US),sie=Object.assign((t,e=iie)=>{Xre(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const a=Object.keys(t),o=a.map(i=>t[i]);return e(o,(...i)=>i.reduce((s,n,d)=>(s[a[d]]=n,s),{}))},{withTypes:()=>sie});function mP(t){return({dispatch:a,getState:o})=>r=>i=>typeof i=="function"?i(a,o,t):r(i)}var nie=mP(),die=mP,cie=(...t)=>{const e=uP(...t),a=Object.assign((...o)=>{const r=e(...o),i=(s,...n)=>r(ed(s)?dP(s):s,...n);return Object.assign(i,r),i},{withTypes:()=>a});return a};cie(US);var lie=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?c0:c0.apply(null,arguments)},uie=t=>t&&typeof t.match=="function";function js(t,e){function a(...o){if(e){let r=e(...o);if(!r)throw new Error(Yo(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:o[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=o=>kre(o)&&o.type===t,a}var pP=class ip extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ip.prototype)}static get[Symbol.species](){return ip}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ip(...e[0].concat(this)):new ip(...e.concat(this))}};function jC(t){return Hs(t)?lP(t,()=>{}):t}function FC(t,e,a){if(t.has(e)){let r=t.get(e);return a.update&&(r=a.update(r,e,t),t.set(e,r)),r}if(!a.insert)throw new Error(Yo(10));const o=a.insert(e,t);return t.set(e,o),o}function mie(t){return typeof t=="boolean"}var pie=()=>function(e){const{thunk:a=!0,immutableCheck:o=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let s=new pP;return a&&(mie(a)?s.push(nie):s.push(die(a.extraArgument))),s},fie="RTK_autoBatch",fP=t=>e=>{setTimeout(e,t)},hie=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fP(10),vie=(t={type:"raf"})=>e=>(...a)=>{const o=e(...a);let r=!0,i=!1,s=!1;const n=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?hie:t.type==="callback"?t.queueNotification:fP(t.timeout),c=()=>{s=!1,i&&(i=!1,n.forEach(l=>l()))};return Object.assign({},o,{subscribe(l){const m=()=>r&&l(),u=o.subscribe(m);return n.add(l),()=>{u(),n.delete(l)}},dispatch(l){var m;try{return r=!((m=l==null?void 0:l.meta)!=null&&m[fie]),i=!r,i&&(s||(s=!0,d(c))),o.dispatch(l)}finally{r=!0}}})},gie=t=>function(a){const{autoBatch:o=!0}=a??{};let r=new pP(t);return o&&r.push(vie(typeof o=="object"?o:void 0)),r},yie=!0;function bie(t){const e=pie(),{reducer:a=void 0,middleware:o,devTools:r=!0,preloadedState:i=void 0,enhancers:s=void 0}=t||{};let n;if(typeof a=="function")n=a;else if(zS(a))n=zre(a);else throw new Error(Yo(1));let d;typeof o=="function"?d=o(e):d=e();let c=c0;r&&(c=lie({trace:!yie,...typeof r=="object"&&r}));const l=Bre(...d),m=gie(l);let u=typeof s=="function"?s(m):m();const v=c(...u);return aP(n,i,v)}function hP(t){const e={},a=[];let o;const r={addCase(i,s){const n=typeof i=="string"?i:i.type;if(!n)throw new Error(Yo(28));if(n in e)throw new Error(Yo(29));return e[n]=s,r},addMatcher(i,s){return a.push({matcher:i,reducer:s}),r},addDefaultCase(i){return o=i,r}};return t(r),[e,a,o]}function _ie(t){return typeof t=="function"}function xie(t,e){let[a,o,r]=hP(e),i;if(_ie(t))i=()=>jC(t());else{const n=jC(t);i=()=>n}function s(n=i(),d){let c=[a[d.type],...o.filter(({matcher:l})=>l(d)).map(({reducer:l})=>l)];return c.filter(l=>!!l).length===0&&(c=[r]),c.reduce((l,m)=>{if(m)if(ed(l)){const v=m(l,d);return v===void 0?l:v}else{if(Hs(l))return lP(l,u=>m(u,d));{const u=m(l,d);if(u===void 0){if(l===null)return l;throw new Error(Yo(9))}return u}}return l},n)}return s.getInitialState=i,s}var wie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",vP=(t=21)=>{let e="",a=t;for(;a--;)e+=wie[Math.random()*64|0];return e},Sie=(t,e)=>uie(t)?t.match(e):t(e);function Aie(...t){return e=>t.some(a=>Sie(a,e))}var Eie=["name","message","stack","code"],c_=class{constructor(t,e){By(this,"_type");this.payload=t,this.meta=e}},zC=class{constructor(t,e){By(this,"_type");this.payload=t,this.meta=e}},Mie=t=>{if(typeof t=="object"&&t!==null){const e={};for(const a of Eie)typeof t[a]=="string"&&(e[a]=t[a]);return e}return{message:String(t)}},l_=(()=>{function t(e,a,o){const r=js(e+"/fulfilled",(d,c,l,m)=>({payload:d,meta:{...m||{},arg:l,requestId:c,requestStatus:"fulfilled"}})),i=js(e+"/pending",(d,c,l)=>({payload:void 0,meta:{...l||{},arg:c,requestId:d,requestStatus:"pending"}})),s=js(e+"/rejected",(d,c,l,m,u)=>({payload:m,error:(o&&o.serializeError||Mie)(d||"Rejected"),meta:{...u||{},arg:l,requestId:c,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function n(d){return(c,l,m)=>{const u=o!=null&&o.idGenerator?o.idGenerator(d):vP(),v=new AbortController;let g,f;function p(y){f=y,v.abort()}const h=async function(){var _,S;let y;try{let x=(_=o==null?void 0:o.condition)==null?void 0:_.call(o,d,{getState:l,extra:m});if(Cie(x)&&(x=await x),x===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const w=new Promise((A,T)=>{g=()=>{T({name:"AbortError",message:f||"Aborted"})},v.signal.addEventListener("abort",g)});c(i(u,d,(S=o==null?void 0:o.getPendingMeta)==null?void 0:S.call(o,{requestId:u,arg:d},{getState:l,extra:m}))),y=await Promise.race([w,Promise.resolve(a(d,{dispatch:c,getState:l,extra:m,requestId:u,signal:v.signal,abort:p,rejectWithValue:(A,T)=>new c_(A,T),fulfillWithValue:(A,T)=>new zC(A,T)})).then(A=>{if(A instanceof c_)throw A;return A instanceof zC?r(A.payload,u,d,A.meta):r(A,u,d)})])}catch(x){y=x instanceof c_?s(null,u,d,x.payload,x.meta):s(x,u,d)}finally{g&&v.signal.removeEventListener("abort",g)}return o&&!o.dispatchConditionRejection&&s.match(y)&&y.meta.condition||c(y),y}();return Object.assign(h,{abort:p,requestId:u,arg:d,unwrap(){return h.then(Tie)}})}}return Object.assign(n,{pending:i,rejected:s,fulfilled:r,settled:Aie(s,r),typePrefix:e})}return t.withTypes=()=>t,t})();function Tie(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Cie(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Rie=Symbol.for("rtk-slice-createasyncthunk");function Oie(t,e){return`${t}/${e}`}function Iie({creators:t}={}){var a;const e=(a=t==null?void 0:t.asyncThunk)==null?void 0:a[Rie];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Yo(11));typeof process<"u";const n=(typeof r.reducers=="function"?r.reducers(qie()):r.reducers)||{},d=Object.keys(n),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(b,_){const S=typeof b=="string"?b:b.type;if(!S)throw new Error(Yo(12));if(S in c.sliceCaseReducersByType)throw new Error(Yo(13));return c.sliceCaseReducersByType[S]=_,l},addMatcher(b,_){return c.sliceMatchers.push({matcher:b,reducer:_}),l},exposeAction(b,_){return c.actionCreators[b]=_,l},exposeCaseReducer(b,_){return c.sliceCaseReducersByName[b]=_,l}};d.forEach(b=>{const _=n[b],S={reducerName:b,type:Oie(i,b),createNotation:typeof r.reducers=="function"};Lie(_)?jie(S,_,l,e):Pie(S,_,l)});function m(){const[b={},_=[],S=void 0]=typeof r.extraReducers=="function"?hP(r.extraReducers):[r.extraReducers],x={...b,...c.sliceCaseReducersByType};return xie(r.initialState,w=>{for(let A in x)w.addCase(A,x[A]);for(let A of c.sliceMatchers)w.addMatcher(A.matcher,A.reducer);for(let A of _)w.addMatcher(A.matcher,A.reducer);S&&w.addDefaultCase(S)})}const u=b=>b,v=new Map;let g;function f(b,_){return g||(g=m()),g(b,_)}function p(){return g||(g=m()),g.getInitialState()}function h(b,_=!1){function S(w){let A=w[b];return typeof A>"u"&&_&&(A=p()),A}function x(w=u){const A=FC(v,_,{insert:()=>new WeakMap});return FC(A,w,{insert:()=>{const T={};for(const[O,I]of Object.entries(r.selectors??{}))T[O]=Die(I,w,p,_);return T}})}return{reducerPath:b,getSelectors:x,get selectors(){return x(S)},selectSlice:S}}const y={name:i,reducer:f,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:p,...h(s),injectInto(b,{reducerPath:_,...S}={}){const x=_??s;return b.inject({reducerPath:x,reducer:f},S),{...y,...h(x,!0)}}};return y}}function Die(t,e,a,o){function r(i,...s){let n=e(i);return typeof n>"u"&&o&&(n=a()),t(n,...s)}return r.unwrapped=t,r}var gP=Iie();function qie(){function t(e,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...a}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...a){return e(...a)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:a}},asyncThunk:t}}function Pie({type:t,reducerName:e,createNotation:a},o,r){let i,s;if("reducer"in o){if(a&&!Nie(o))throw new Error(Yo(17));i=o.reducer,s=o.prepare}else i=o;r.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,s?js(t,s):js(t))}function Lie(t){return t._reducerDefinitionType==="asyncThunk"}function Nie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function jie({type:t,reducerName:e},a,o,r){if(!r)throw new Error(Yo(18));const{payloadCreator:i,fulfilled:s,pending:n,rejected:d,settled:c,options:l}=a,m=r(t,i,l);o.exposeAction(e,m),s&&o.addCase(m.fulfilled,s),n&&o.addCase(m.pending,n),d&&o.addCase(m.rejected,d),c&&o.addMatcher(m.settled,c),o.exposeCaseReducer(e,{fulfilled:s||dv,pending:n||dv,rejected:d||dv,settled:c||dv})}function dv(){}var Fie=(t,e)=>{if(typeof t!="function")throw new Error(Yo(32))},VS="listenerMiddleware",zie=t=>{let{type:e,actionCreator:a,matcher:o,predicate:r,effect:i}=t;if(e)r=js(e).match;else if(a)e=a.type,r=a.match;else if(o)r=o;else if(!r)throw new Error(Yo(21));return Fie(i),{predicate:r,type:e,effect:i}},Bie=Object.assign(t=>{const{type:e,predicate:a,effect:o}=zie(t);return{id:vP(),effect:o,type:e,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Yo(22))}}},{withTypes:()=>Bie}),kie=Object.assign(js(`${VS}/add`),{withTypes:()=>kie});js(`${VS}/removeAll`);var Uie=Object.assign(js(`${VS}/remove`),{withTypes:()=>Uie});function Yo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}function BC(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Vie(t,e){const a=BC(t),o=BC(e),r=a.getTime()-o.getTime();return r<0?-1:r>0?1:r}var kt;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function a(r){throw new Error}t.assertNever=a,t.arrayToEnum=r=>{const i={};for(const s of r)i[s]=s;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(n=>typeof r[r[n]]!="number"),s={};for(const n of i)s[n]=r[n];return t.objectValues(s)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&i.push(s);return i},t.find=(r,i)=>{for(const s of r)if(i(s))return s},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function o(r,i=" | "){return r.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}t.joinValues=o,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(kt||(kt={}));var K3;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(K3||(K3={}));const $e=kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ln=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},qe=kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$ie=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Si extends Error{constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const a=e||function(i){return i.message},o={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(r);else if(s.code==="invalid_return_type")r(s.returnTypeError);else if(s.code==="invalid_arguments")r(s.argumentsError);else if(s.path.length===0)o._errors.push(a(s));else{let n=o,d=0;for(;d<s.path.length;){const c=s.path[d];d===s.path.length-1?(n[c]=n[c]||{_errors:[]},n[c]._errors.push(a(s))):n[c]=n[c]||{_errors:[]},n=n[c],d++}}};return r(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},o=[];for(const r of this.issues)r.path.length>0?(a[r.path[0]]=a[r.path[0]]||[],a[r.path[0]].push(e(r))):o.push(e(r));return{formErrors:o,fieldErrors:a}}get formErrors(){return this.flatten()}}Si.create=t=>new Si(t);const nf=(t,e)=>{let a;switch(t.code){case qe.invalid_type:t.received===$e.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case qe.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,kt.jsonStringifyReplacer)}`;break;case qe.unrecognized_keys:a=`Unrecognized key(s) in object: ${kt.joinValues(t.keys,", ")}`;break;case qe.invalid_union:a="Invalid input";break;case qe.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${kt.joinValues(t.options)}`;break;case qe.invalid_enum_value:a=`Invalid enum value. Expected ${kt.joinValues(t.options)}, received '${t.received}'`;break;case qe.invalid_arguments:a="Invalid function arguments";break;case qe.invalid_return_type:a="Invalid function return type";break;case qe.invalid_date:a="Invalid date";break;case qe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:kt.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case qe.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case qe.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case qe.custom:a="Invalid input";break;case qe.invalid_intersection_types:a="Intersection results could not be merged";break;case qe.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case qe.not_finite:a="Number must be finite";break;default:a=e.defaultError,kt.assertNever(t)}return{message:a}};let yP=nf;function Hie(t){yP=t}function p0(){return yP}const f0=t=>{const{data:e,path:a,errorMaps:o,issueData:r}=t,i=[...a,...r.path||[]],s={...r,path:i};let n="";const d=o.filter(c=>!!c).slice().reverse();for(const c of d)n=c(s,{data:e,defaultError:n}).message;return{...r,path:i,message:r.message||n}},Wie=[];function Ge(t,e){const a=f0({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,p0(),nf].filter(o=>!!o)});t.common.issues.push(a)}class wo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const o=[];for(const r of a){if(r.status==="aborted")return gt;r.status==="dirty"&&e.dirty(),o.push(r.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,a){const o=[];for(const r of a)o.push({key:await r.key,value:await r.value});return wo.mergeObjectSync(e,o)}static mergeObjectSync(e,a){const o={};for(const r of a){const{key:i,value:s}=r;if(i.status==="aborted"||s.status==="aborted")return gt;i.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||r.alwaysSet)&&(o[i.value]=s.value)}return{status:e.value,value:o}}}const gt=Object.freeze({status:"aborted"}),bP=t=>({status:"dirty",value:t}),Do=t=>({status:"valid",value:t}),Q3=t=>t.status==="aborted",X3=t=>t.status==="dirty",df=t=>t.status==="valid",h0=t=>typeof Promise<"u"&&t instanceof Promise;var ot;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ot||(ot={}));class es{constructor(e,a,o,r){this._cachedPath=[],this.parent=e,this.data=a,this._path=o,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const kC=(t,e)=>{if(df(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new Si(t.common.issues);return this._error=a,this._error}}};function _t(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:o,description:r}=t;if(e&&(a||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(s,n)=>s.code!=="invalid_type"?{message:n.defaultError}:typeof n.data>"u"?{message:o??n.defaultError}:{message:a??n.defaultError},description:r}}class wt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ln(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:Ln(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new wo,ctx:{common:e.parent.common,data:e.data,parsedType:Ln(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(h0(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const o=this.safeParse(e,a);if(o.success)return o.data;throw o.error}safeParse(e,a){var o;const r={common:{issues:[],async:(o=a==null?void 0:a.async)!==null&&o!==void 0?o:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ln(e)},i=this._parseSync({data:e,path:r.path,parent:r});return kC(r,i)}async parseAsync(e,a){const o=await this.safeParseAsync(e,a);if(o.success)return o.data;throw o.error}async safeParseAsync(e,a){const o={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ln(e)},r=this._parse({data:e,path:o.path,parent:o}),i=await(h0(r)?r:Promise.resolve(r));return kC(o,i)}refine(e,a){const o=r=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(r):a;return this._refinement((r,i)=>{const s=e(r),n=()=>i.addIssue({code:qe.custom,...o(r)});return typeof Promise<"u"&&s instanceof Promise?s.then(d=>d?!0:(n(),!1)):s?!0:(n(),!1)})}refinement(e,a){return this._refinement((o,r)=>e(o)?!0:(r.addIssue(typeof a=="function"?a(o,r):a),!1))}_refinement(e){return new Ci({schema:this,typeName:ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Fs.create(this,this._def)}nullable(){return _c.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ai.create(this,this._def)}promise(){return xu.create(this,this._def)}or(e){return mf.create([this,e],this._def)}and(e){return pf.create(this,e,this._def)}transform(e){return new Ci({..._t(this._def),schema:this,typeName:ut.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new yf({..._t(this._def),innerType:this,defaultValue:a,typeName:ut.ZodDefault})}brand(){return new xP({typeName:ut.ZodBranded,type:this,..._t(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new b0({..._t(this._def),innerType:this,catchValue:a,typeName:ut.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return gh.create(this,e)}readonly(){return x0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Gie=/^c[^\s-]{8,}$/i,Yie=/^[a-z][a-z0-9]*$/,Zie=/^[0-9A-HJKMNP-TV-Z]{26}$/,Kie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qie=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let u_;const Jie=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ese=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,tse=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ase(t,e){return!!((e==="v4"||!e)&&Jie.test(t)||(e==="v6"||!e)&&ese.test(t))}class gi extends wt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){const i=this._getOrReturnCtx(e);return Ge(i,{code:qe.invalid_type,expected:$e.string,received:i.parsedType}),gt}const o=new wo;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="length"){const s=e.data.length>i.value,n=e.data.length<i.value;(s||n)&&(r=this._getOrReturnCtx(e,r),s?Ge(r,{code:qe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&Ge(r,{code:qe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),o.dirty())}else if(i.kind==="email")Qie.test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"email",code:qe.invalid_string,message:i.message}),o.dirty());else if(i.kind==="emoji")u_||(u_=new RegExp(Xie,"u")),u_.test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"emoji",code:qe.invalid_string,message:i.message}),o.dirty());else if(i.kind==="uuid")Kie.test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"uuid",code:qe.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid")Gie.test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"cuid",code:qe.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid2")Yie.test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"cuid2",code:qe.invalid_string,message:i.message}),o.dirty());else if(i.kind==="ulid")Zie.test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"ulid",code:qe.invalid_string,message:i.message}),o.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),Ge(r,{validation:"url",code:qe.invalid_string,message:i.message}),o.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"regex",code:qe.invalid_string,message:i.message}),o.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),o.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.invalid_string,validation:{startsWith:i.value},message:i.message}),o.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.invalid_string,validation:{endsWith:i.value},message:i.message}),o.dirty()):i.kind==="datetime"?tse(i).test(e.data)||(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.invalid_string,validation:"datetime",message:i.message}),o.dirty()):i.kind==="ip"?ase(e.data,i.version)||(r=this._getOrReturnCtx(e,r),Ge(r,{validation:"ip",code:qe.invalid_string,message:i.message}),o.dirty()):kt.assertNever(i);return{status:o.value,value:e.data}}_regex(e,a,o){return this.refinement(r=>e.test(r),{validation:a,code:qe.invalid_string,...ot.errToObj(o)})}_addCheck(e){return new gi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ot.errToObj(e)})}datetime(e){var a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(a=e==null?void 0:e.offset)!==null&&a!==void 0?a:!1,...ot.errToObj(e==null?void 0:e.message)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...ot.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a==null?void 0:a.position,...ot.errToObj(a==null?void 0:a.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...ot.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...ot.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...ot.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...ot.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...ot.errToObj(a)})}nonempty(e){return this.min(1,ot.errToObj(e))}trim(){return new gi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new gi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}gi.create=t=>{var e;return new gi({checks:[],typeName:ut.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};function ose(t,e){const a=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,r=a>o?a:o,i=parseInt(t.toFixed(r).replace(".","")),s=parseInt(e.toFixed(r).replace(".",""));return i%s/Math.pow(10,r)}class td extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){const i=this._getOrReturnCtx(e);return Ge(i,{code:qe.invalid_type,expected:$e.number,received:i.parsedType}),gt}let o;const r=new wo;for(const i of this._def.checks)i.kind==="int"?kt.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?ose(e.data,i.value)!==0&&(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.not_finite,message:i.message}),r.dirty()):kt.assertNever(i);return{status:r.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,ot.toString(a))}gt(e,a){return this.setLimit("min",e,!1,ot.toString(a))}lte(e,a){return this.setLimit("max",e,!0,ot.toString(a))}lt(e,a){return this.setLimit("max",e,!1,ot.toString(a))}setLimit(e,a,o,r){return new td({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:o,message:ot.toString(r)}]})}_addCheck(e){return new td({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ot.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ot.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&kt.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(a===null||o.value>a)&&(a=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(a)&&Number.isFinite(e)}}td.create=t=>new td({checks:[],typeName:ut.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class ad extends wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==$e.bigint){const i=this._getOrReturnCtx(e);return Ge(i,{code:qe.invalid_type,expected:$e.bigint,received:i.parsedType}),gt}let o;const r=new wo;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),Ge(o,{code:qe.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):kt.assertNever(i);return{status:r.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,ot.toString(a))}gt(e,a){return this.setLimit("min",e,!1,ot.toString(a))}lte(e,a){return this.setLimit("max",e,!0,ot.toString(a))}lt(e,a){return this.setLimit("max",e,!1,ot.toString(a))}setLimit(e,a,o,r){return new ad({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:o,message:ot.toString(r)}]})}_addCheck(e){return new ad({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}ad.create=t=>{var e;return new ad({checks:[],typeName:ut.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,..._t(t)})};class cf extends wt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){const o=this._getOrReturnCtx(e);return Ge(o,{code:qe.invalid_type,expected:$e.boolean,received:o.parsedType}),gt}return Do(e.data)}}cf.create=t=>new cf({typeName:ut.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,..._t(t)});class yc extends wt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){const i=this._getOrReturnCtx(e);return Ge(i,{code:qe.invalid_type,expected:$e.date,received:i.parsedType}),gt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ge(i,{code:qe.invalid_date}),gt}const o=new wo;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),o.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),Ge(r,{code:qe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),o.dirty()):kt.assertNever(i);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yc({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:ot.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:ot.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}yc.create=t=>new yc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ut.ZodDate,..._t(t)});class v0 extends wt{_parse(e){if(this._getType(e)!==$e.symbol){const o=this._getOrReturnCtx(e);return Ge(o,{code:qe.invalid_type,expected:$e.symbol,received:o.parsedType}),gt}return Do(e.data)}}v0.create=t=>new v0({typeName:ut.ZodSymbol,..._t(t)});class lf extends wt{_parse(e){if(this._getType(e)!==$e.undefined){const o=this._getOrReturnCtx(e);return Ge(o,{code:qe.invalid_type,expected:$e.undefined,received:o.parsedType}),gt}return Do(e.data)}}lf.create=t=>new lf({typeName:ut.ZodUndefined,..._t(t)});class uf extends wt{_parse(e){if(this._getType(e)!==$e.null){const o=this._getOrReturnCtx(e);return Ge(o,{code:qe.invalid_type,expected:$e.null,received:o.parsedType}),gt}return Do(e.data)}}uf.create=t=>new uf({typeName:ut.ZodNull,..._t(t)});class _u extends wt{constructor(){super(...arguments),this._any=!0}_parse(e){return Do(e.data)}}_u.create=t=>new _u({typeName:ut.ZodAny,..._t(t)});class Qd extends wt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Do(e.data)}}Qd.create=t=>new Qd({typeName:ut.ZodUnknown,..._t(t)});class Ws extends wt{_parse(e){const a=this._getOrReturnCtx(e);return Ge(a,{code:qe.invalid_type,expected:$e.never,received:a.parsedType}),gt}}Ws.create=t=>new Ws({typeName:ut.ZodNever,..._t(t)});class g0 extends wt{_parse(e){if(this._getType(e)!==$e.undefined){const o=this._getOrReturnCtx(e);return Ge(o,{code:qe.invalid_type,expected:$e.void,received:o.parsedType}),gt}return Do(e.data)}}g0.create=t=>new g0({typeName:ut.ZodVoid,..._t(t)});class Ai extends wt{_parse(e){const{ctx:a,status:o}=this._processInputParams(e),r=this._def;if(a.parsedType!==$e.array)return Ge(a,{code:qe.invalid_type,expected:$e.array,received:a.parsedType}),gt;if(r.exactLength!==null){const s=a.data.length>r.exactLength.value,n=a.data.length<r.exactLength.value;(s||n)&&(Ge(a,{code:s?qe.too_big:qe.too_small,minimum:n?r.exactLength.value:void 0,maximum:s?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&a.data.length<r.minLength.value&&(Ge(a,{code:qe.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&a.data.length>r.maxLength.value&&(Ge(a,{code:qe.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),a.common.async)return Promise.all([...a.data].map((s,n)=>r.type._parseAsync(new es(a,s,a.path,n)))).then(s=>wo.mergeArray(o,s));const i=[...a.data].map((s,n)=>r.type._parseSync(new es(a,s,a.path,n)));return wo.mergeArray(o,i)}get element(){return this._def.type}min(e,a){return new Ai({...this._def,minLength:{value:e,message:ot.toString(a)}})}max(e,a){return new Ai({...this._def,maxLength:{value:e,message:ot.toString(a)}})}length(e,a){return new Ai({...this._def,exactLength:{value:e,message:ot.toString(a)}})}nonempty(e){return this.min(1,e)}}Ai.create=(t,e)=>new Ai({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ut.ZodArray,..._t(e)});function hl(t){if(t instanceof va){const e={};for(const a in t.shape){const o=t.shape[a];e[a]=Fs.create(hl(o))}return new va({...t._def,shape:()=>e})}else return t instanceof Ai?new Ai({...t._def,type:hl(t.element)}):t instanceof Fs?Fs.create(hl(t.unwrap())):t instanceof _c?_c.create(hl(t.unwrap())):t instanceof ts?ts.create(t.items.map(e=>hl(e))):t}class va extends wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=kt.objectKeys(e);return this._cached={shape:e,keys:a}}_parse(e){if(this._getType(e)!==$e.object){const c=this._getOrReturnCtx(e);return Ge(c,{code:qe.invalid_type,expected:$e.object,received:c.parsedType}),gt}const{status:o,ctx:r}=this._processInputParams(e),{shape:i,keys:s}=this._getCached(),n=[];if(!(this._def.catchall instanceof Ws&&this._def.unknownKeys==="strip"))for(const c in r.data)s.includes(c)||n.push(c);const d=[];for(const c of s){const l=i[c],m=r.data[c];d.push({key:{status:"valid",value:c},value:l._parse(new es(r,m,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof Ws){const c=this._def.unknownKeys;if(c==="passthrough")for(const l of n)d.push({key:{status:"valid",value:l},value:{status:"valid",value:r.data[l]}});else if(c==="strict")n.length>0&&(Ge(r,{code:qe.unrecognized_keys,keys:n}),o.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const l of n){const m=r.data[l];d.push({key:{status:"valid",value:l},value:c._parse(new es(r,m,r.path,l)),alwaysSet:l in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const l of d){const m=await l.key;c.push({key:m,value:await l.value,alwaysSet:l.alwaysSet})}return c}).then(c=>wo.mergeObjectSync(o,c)):wo.mergeObjectSync(o,d)}get shape(){return this._def.shape()}strict(e){return ot.errToObj,new va({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,o)=>{var r,i,s,n;const d=(s=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,a,o).message)!==null&&s!==void 0?s:o.defaultError;return a.code==="unrecognized_keys"?{message:(n=ot.errToObj(e).message)!==null&&n!==void 0?n:d}:{message:d}}}:{}})}strip(){return new va({...this._def,unknownKeys:"strip"})}passthrough(){return new va({...this._def,unknownKeys:"passthrough"})}extend(e){return new va({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new va({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ut.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new va({...this._def,catchall:e})}pick(e){const a={};return kt.objectKeys(e).forEach(o=>{e[o]&&this.shape[o]&&(a[o]=this.shape[o])}),new va({...this._def,shape:()=>a})}omit(e){const a={};return kt.objectKeys(this.shape).forEach(o=>{e[o]||(a[o]=this.shape[o])}),new va({...this._def,shape:()=>a})}deepPartial(){return hl(this)}partial(e){const a={};return kt.objectKeys(this.shape).forEach(o=>{const r=this.shape[o];e&&!e[o]?a[o]=r:a[o]=r.optional()}),new va({...this._def,shape:()=>a})}required(e){const a={};return kt.objectKeys(this.shape).forEach(o=>{if(e&&!e[o])a[o]=this.shape[o];else{let i=this.shape[o];for(;i instanceof Fs;)i=i._def.innerType;a[o]=i}}),new va({...this._def,shape:()=>a})}keyof(){return _P(kt.objectKeys(this.shape))}}va.create=(t,e)=>new va({shape:()=>t,unknownKeys:"strip",catchall:Ws.create(),typeName:ut.ZodObject,..._t(e)});va.strictCreate=(t,e)=>new va({shape:()=>t,unknownKeys:"strict",catchall:Ws.create(),typeName:ut.ZodObject,..._t(e)});va.lazycreate=(t,e)=>new va({shape:t,unknownKeys:"strip",catchall:Ws.create(),typeName:ut.ZodObject,..._t(e)});class mf extends wt{_parse(e){const{ctx:a}=this._processInputParams(e),o=this._def.options;function r(i){for(const n of i)if(n.result.status==="valid")return n.result;for(const n of i)if(n.result.status==="dirty")return a.common.issues.push(...n.ctx.common.issues),n.result;const s=i.map(n=>new Si(n.ctx.common.issues));return Ge(a,{code:qe.invalid_union,unionErrors:s}),gt}if(a.common.async)return Promise.all(o.map(async i=>{const s={...a,common:{...a.common,issues:[]},parent:null};return{result:await i._parseAsync({data:a.data,path:a.path,parent:s}),ctx:s}})).then(r);{let i;const s=[];for(const d of o){const c={...a,common:{...a.common,issues:[]},parent:null},l=d._parseSync({data:a.data,path:a.path,parent:c});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(i)return a.common.issues.push(...i.ctx.common.issues),i.result;const n=s.map(d=>new Si(d));return Ge(a,{code:qe.invalid_union,unionErrors:n}),gt}}get options(){return this._def.options}}mf.create=(t,e)=>new mf({options:t,typeName:ut.ZodUnion,..._t(e)});const sg=t=>t instanceof hf?sg(t.schema):t instanceof Ci?sg(t.innerType()):t instanceof vf?[t.value]:t instanceof od?t.options:t instanceof gf?Object.keys(t.enum):t instanceof yf?sg(t._def.innerType):t instanceof lf?[void 0]:t instanceof uf?[null]:null;class Py extends wt{_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==$e.object)return Ge(a,{code:qe.invalid_type,expected:$e.object,received:a.parsedType}),gt;const o=this.discriminator,r=a.data[o],i=this.optionsMap.get(r);return i?a.common.async?i._parseAsync({data:a.data,path:a.path,parent:a}):i._parseSync({data:a.data,path:a.path,parent:a}):(Ge(a,{code:qe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,a,o){const r=new Map;for(const i of a){const s=sg(i.shape[e]);if(!s)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of s){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new Py({typeName:ut.ZodDiscriminatedUnion,discriminator:e,options:a,optionsMap:r,..._t(o)})}}function J3(t,e){const a=Ln(t),o=Ln(e);if(t===e)return{valid:!0,data:t};if(a===$e.object&&o===$e.object){const r=kt.objectKeys(e),i=kt.objectKeys(t).filter(n=>r.indexOf(n)!==-1),s={...t,...e};for(const n of i){const d=J3(t[n],e[n]);if(!d.valid)return{valid:!1};s[n]=d.data}return{valid:!0,data:s}}else if(a===$e.array&&o===$e.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const s=t[i],n=e[i],d=J3(s,n);if(!d.valid)return{valid:!1};r.push(d.data)}return{valid:!0,data:r}}else return a===$e.date&&o===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class pf extends wt{_parse(e){const{status:a,ctx:o}=this._processInputParams(e),r=(i,s)=>{if(Q3(i)||Q3(s))return gt;const n=J3(i.value,s.value);return n.valid?((X3(i)||X3(s))&&a.dirty(),{status:a.value,value:n.data}):(Ge(o,{code:qe.invalid_intersection_types}),gt)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([i,s])=>r(i,s)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}pf.create=(t,e,a)=>new pf({left:t,right:e,typeName:ut.ZodIntersection,..._t(a)});class ts extends wt{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==$e.array)return Ge(o,{code:qe.invalid_type,expected:$e.array,received:o.parsedType}),gt;if(o.data.length<this._def.items.length)return Ge(o,{code:qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),gt;!this._def.rest&&o.data.length>this._def.items.length&&(Ge(o,{code:qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const i=[...o.data].map((s,n)=>{const d=this._def.items[n]||this._def.rest;return d?d._parse(new es(o,s,o.path,n)):null}).filter(s=>!!s);return o.common.async?Promise.all(i).then(s=>wo.mergeArray(a,s)):wo.mergeArray(a,i)}get items(){return this._def.items}rest(e){return new ts({...this._def,rest:e})}}ts.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ts({items:t,typeName:ut.ZodTuple,rest:null,..._t(e)})};class ff extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==$e.object)return Ge(o,{code:qe.invalid_type,expected:$e.object,received:o.parsedType}),gt;const r=[],i=this._def.keyType,s=this._def.valueType;for(const n in o.data)r.push({key:i._parse(new es(o,n,o.path,n)),value:s._parse(new es(o,o.data[n],o.path,n))});return o.common.async?wo.mergeObjectAsync(a,r):wo.mergeObjectSync(a,r)}get element(){return this._def.valueType}static create(e,a,o){return a instanceof wt?new ff({keyType:e,valueType:a,typeName:ut.ZodRecord,..._t(o)}):new ff({keyType:gi.create(),valueType:e,typeName:ut.ZodRecord,..._t(a)})}}class y0 extends wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==$e.map)return Ge(o,{code:qe.invalid_type,expected:$e.map,received:o.parsedType}),gt;const r=this._def.keyType,i=this._def.valueType,s=[...o.data.entries()].map(([n,d],c)=>({key:r._parse(new es(o,n,o.path,[c,"key"])),value:i._parse(new es(o,d,o.path,[c,"value"]))}));if(o.common.async){const n=new Map;return Promise.resolve().then(async()=>{for(const d of s){const c=await d.key,l=await d.value;if(c.status==="aborted"||l.status==="aborted")return gt;(c.status==="dirty"||l.status==="dirty")&&a.dirty(),n.set(c.value,l.value)}return{status:a.value,value:n}})}else{const n=new Map;for(const d of s){const c=d.key,l=d.value;if(c.status==="aborted"||l.status==="aborted")return gt;(c.status==="dirty"||l.status==="dirty")&&a.dirty(),n.set(c.value,l.value)}return{status:a.value,value:n}}}}y0.create=(t,e,a)=>new y0({valueType:e,keyType:t,typeName:ut.ZodMap,..._t(a)});class bc extends wt{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==$e.set)return Ge(o,{code:qe.invalid_type,expected:$e.set,received:o.parsedType}),gt;const r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&(Ge(o,{code:qe.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),a.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&(Ge(o,{code:qe.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),a.dirty());const i=this._def.valueType;function s(d){const c=new Set;for(const l of d){if(l.status==="aborted")return gt;l.status==="dirty"&&a.dirty(),c.add(l.value)}return{status:a.value,value:c}}const n=[...o.data.values()].map((d,c)=>i._parse(new es(o,d,o.path,c)));return o.common.async?Promise.all(n).then(d=>s(d)):s(n)}min(e,a){return new bc({...this._def,minSize:{value:e,message:ot.toString(a)}})}max(e,a){return new bc({...this._def,maxSize:{value:e,message:ot.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}bc.create=(t,e)=>new bc({valueType:t,minSize:null,maxSize:null,typeName:ut.ZodSet,..._t(e)});class Gl extends wt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==$e.function)return Ge(a,{code:qe.invalid_type,expected:$e.function,received:a.parsedType}),gt;function o(n,d){return f0({data:n,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,p0(),nf].filter(c=>!!c),issueData:{code:qe.invalid_arguments,argumentsError:d}})}function r(n,d){return f0({data:n,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,p0(),nf].filter(c=>!!c),issueData:{code:qe.invalid_return_type,returnTypeError:d}})}const i={errorMap:a.common.contextualErrorMap},s=a.data;if(this._def.returns instanceof xu){const n=this;return Do(async function(...d){const c=new Si([]),l=await n._def.args.parseAsync(d,i).catch(v=>{throw c.addIssue(o(d,v)),c}),m=await Reflect.apply(s,this,l);return await n._def.returns._def.type.parseAsync(m,i).catch(v=>{throw c.addIssue(r(m,v)),c})})}else{const n=this;return Do(function(...d){const c=n._def.args.safeParse(d,i);if(!c.success)throw new Si([o(d,c.error)]);const l=Reflect.apply(s,this,c.data),m=n._def.returns.safeParse(l,i);if(!m.success)throw new Si([r(l,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Gl({...this._def,args:ts.create(e).rest(Qd.create())})}returns(e){return new Gl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,a,o){return new Gl({args:e||ts.create([]).rest(Qd.create()),returns:a||Qd.create(),typeName:ut.ZodFunction,..._t(o)})}}class hf extends wt{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}hf.create=(t,e)=>new hf({getter:t,typeName:ut.ZodLazy,..._t(e)});class vf extends wt{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return Ge(a,{received:a.data,code:qe.invalid_literal,expected:this._def.value}),gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}vf.create=(t,e)=>new vf({value:t,typeName:ut.ZodLiteral,..._t(e)});function _P(t,e){return new od({values:t,typeName:ut.ZodEnum,..._t(e)})}class od extends wt{_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),o=this._def.values;return Ge(a,{expected:kt.joinValues(o),received:a.parsedType,code:qe.invalid_type}),gt}if(this._def.values.indexOf(e.data)===-1){const a=this._getOrReturnCtx(e),o=this._def.values;return Ge(a,{received:a.data,code:qe.invalid_enum_value,options:o}),gt}return Do(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e){return od.create(e)}exclude(e){return od.create(this.options.filter(a=>!e.includes(a)))}}od.create=_P;class gf extends wt{_parse(e){const a=kt.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==$e.string&&o.parsedType!==$e.number){const r=kt.objectValues(a);return Ge(o,{expected:kt.joinValues(r),received:o.parsedType,code:qe.invalid_type}),gt}if(a.indexOf(e.data)===-1){const r=kt.objectValues(a);return Ge(o,{received:o.data,code:qe.invalid_enum_value,options:r}),gt}return Do(e.data)}get enum(){return this._def.values}}gf.create=(t,e)=>new gf({values:t,typeName:ut.ZodNativeEnum,..._t(e)});class xu extends wt{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==$e.promise&&a.common.async===!1)return Ge(a,{code:qe.invalid_type,expected:$e.promise,received:a.parsedType}),gt;const o=a.parsedType===$e.promise?a.data:Promise.resolve(a.data);return Do(o.then(r=>this._def.type.parseAsync(r,{path:a.path,errorMap:a.common.contextualErrorMap})))}}xu.create=(t,e)=>new xu({type:t,typeName:ut.ZodPromise,..._t(e)});class Ci extends wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:o}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:s=>{Ge(o,s),s.fatal?a.abort():a.dirty()},get path(){return o.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const s=r.transform(o.data,i);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(s).then(n=>this._def.schema._parseAsync({data:n,path:o.path,parent:o})):this._def.schema._parseSync({data:s,path:o.path,parent:o})}if(r.type==="refinement"){const s=n=>{const d=r.refinement(n,i);if(o.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return n};if(o.common.async===!1){const n=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?gt:(n.status==="dirty"&&a.dirty(),s(n.value),{status:a.value,value:n.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(n=>n.status==="aborted"?gt:(n.status==="dirty"&&a.dirty(),s(n.value).then(()=>({status:a.value,value:n.value}))))}if(r.type==="transform")if(o.common.async===!1){const s=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!df(s))return s;const n=r.transform(s.value,i);if(n instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:n}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(s=>df(s)?Promise.resolve(r.transform(s.value,i)).then(n=>({status:a.value,value:n})):s);kt.assertNever(r)}}Ci.create=(t,e,a)=>new Ci({schema:t,typeName:ut.ZodEffects,effect:e,..._t(a)});Ci.createWithPreprocess=(t,e,a)=>new Ci({schema:e,effect:{type:"preprocess",transform:t},typeName:ut.ZodEffects,..._t(a)});class Fs extends wt{_parse(e){return this._getType(e)===$e.undefined?Do(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Fs.create=(t,e)=>new Fs({innerType:t,typeName:ut.ZodOptional,..._t(e)});class _c extends wt{_parse(e){return this._getType(e)===$e.null?Do(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_c.create=(t,e)=>new _c({innerType:t,typeName:ut.ZodNullable,..._t(e)});class yf extends wt{_parse(e){const{ctx:a}=this._processInputParams(e);let o=a.data;return a.parsedType===$e.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}yf.create=(t,e)=>new yf({innerType:t,typeName:ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._t(e)});class b0 extends wt{_parse(e){const{ctx:a}=this._processInputParams(e),o={...a,common:{...a.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return h0(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Si(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Si(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}b0.create=(t,e)=>new b0({innerType:t,typeName:ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._t(e)});class _0 extends wt{_parse(e){if(this._getType(e)!==$e.nan){const o=this._getOrReturnCtx(e);return Ge(o,{code:qe.invalid_type,expected:$e.nan,received:o.parsedType}),gt}return{status:"valid",value:e.data}}}_0.create=t=>new _0({typeName:ut.ZodNaN,..._t(t)});const rse=Symbol("zod_brand");class xP extends wt{_parse(e){const{ctx:a}=this._processInputParams(e),o=a.data;return this._def.type._parse({data:o,path:a.path,parent:a})}unwrap(){return this._def.type}}class gh extends wt{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?gt:i.status==="dirty"?(a.dirty(),bP(i.value)):this._def.out._parseAsync({data:i.value,path:o.path,parent:o})})();{const r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?gt:r.status==="dirty"?(a.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(e,a){return new gh({in:e,out:a,typeName:ut.ZodPipeline})}}class x0 extends wt{_parse(e){const a=this._def.innerType._parse(e);return df(a)&&(a.value=Object.freeze(a.value)),a}}x0.create=(t,e)=>new x0({innerType:t,typeName:ut.ZodReadonly,..._t(e)});const wP=(t,e={},a)=>t?_u.create().superRefine((o,r)=>{var i,s;if(!t(o)){const n=typeof e=="function"?e(o):typeof e=="string"?{message:e}:e,d=(s=(i=n.fatal)!==null&&i!==void 0?i:a)!==null&&s!==void 0?s:!0,c=typeof n=="string"?{message:n}:n;r.addIssue({code:"custom",...c,fatal:d})}}):_u.create(),ise={object:va.lazycreate};var ut;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ut||(ut={}));const sse=(t,e={message:`Input not instance of ${t.name}`})=>wP(a=>a instanceof t,e),SP=gi.create,AP=td.create,nse=_0.create,dse=ad.create,EP=cf.create,cse=yc.create,lse=v0.create,use=lf.create,mse=uf.create,pse=_u.create,fse=Qd.create,hse=Ws.create,vse=g0.create,gse=Ai.create,yse=va.create,bse=va.strictCreate,_se=mf.create,xse=Py.create,wse=pf.create,Sse=ts.create,Ase=ff.create,Ese=y0.create,Mse=bc.create,Tse=Gl.create,Cse=hf.create,Rse=vf.create,Ose=od.create,Ise=gf.create,Dse=xu.create,UC=Ci.create,qse=Fs.create,Pse=_c.create,Lse=Ci.createWithPreprocess,Nse=gh.create,jse=()=>SP().optional(),Fse=()=>AP().optional(),zse=()=>EP().optional(),Bse={string:t=>gi.create({...t,coerce:!0}),number:t=>td.create({...t,coerce:!0}),boolean:t=>cf.create({...t,coerce:!0}),bigint:t=>ad.create({...t,coerce:!0}),date:t=>yc.create({...t,coerce:!0})},kse=gt;var ht=Object.freeze({__proto__:null,defaultErrorMap:nf,setErrorMap:Hie,getErrorMap:p0,makeIssue:f0,EMPTY_PATH:Wie,addIssueToContext:Ge,ParseStatus:wo,INVALID:gt,DIRTY:bP,OK:Do,isAborted:Q3,isDirty:X3,isValid:df,isAsync:h0,get util(){return kt},get objectUtil(){return K3},ZodParsedType:$e,getParsedType:Ln,ZodType:wt,ZodString:gi,ZodNumber:td,ZodBigInt:ad,ZodBoolean:cf,ZodDate:yc,ZodSymbol:v0,ZodUndefined:lf,ZodNull:uf,ZodAny:_u,ZodUnknown:Qd,ZodNever:Ws,ZodVoid:g0,ZodArray:Ai,ZodObject:va,ZodUnion:mf,ZodDiscriminatedUnion:Py,ZodIntersection:pf,ZodTuple:ts,ZodRecord:ff,ZodMap:y0,ZodSet:bc,ZodFunction:Gl,ZodLazy:hf,ZodLiteral:vf,ZodEnum:od,ZodNativeEnum:gf,ZodPromise:xu,ZodEffects:Ci,ZodTransformer:Ci,ZodOptional:Fs,ZodNullable:_c,ZodDefault:yf,ZodCatch:b0,ZodNaN:_0,BRAND:rse,ZodBranded:xP,ZodPipeline:gh,ZodReadonly:x0,custom:wP,Schema:wt,ZodSchema:wt,late:ise,get ZodFirstPartyTypeKind(){return ut},coerce:Bse,any:pse,array:gse,bigint:dse,boolean:EP,date:cse,discriminatedUnion:xse,effect:UC,enum:Ose,function:Tse,instanceof:sse,intersection:wse,lazy:Cse,literal:Rse,map:Ese,nan:nse,nativeEnum:Ise,never:hse,null:mse,nullable:Pse,number:AP,object:yse,oboolean:zse,onumber:Fse,optional:qse,ostring:jse,pipeline:Nse,preprocess:Lse,promise:Dse,record:Ase,set:Mse,strictObject:bse,string:SP,symbol:lse,transformer:UC,tuple:Sse,undefined:use,union:_se,unknown:fse,void:vse,NEVER:kse,ZodIssueCode:qe,quotelessJson:$ie,ZodError:Si}),xc;(t=>{t.DescriptionDTO=ht.object({descricao:ht.string()})})(xc||(xc={}));var rd;(t=>{t.IdDTO=ht.object({id:ht.string()})})(rd||(rd={}));var wc;(t=>{t.NameDTO=ht.object({nome:ht.string()})})(wc||(wc={}));var MP=(t=>(t.ARMADURA="armadura",t.CAVALO="cavalo",t.ELMO="elmo",t.PROFESSOR="professor",t.PROIBIDO="proibido",t.NORMAL="normal",t))(MP||{}),TP=(t=>(t.CARPINTARIA="Carpintaria",t))(TP||{});const VC=ht.object({valor:ht.string(),idAtributo:ht.nativeEnum(TP),modificador:ht.optional(ht.nativeEnum(MP))}).merge(rd.IdDTO).merge(wc.NameDTO).merge(xc.DescriptionDTO);var ha=(t=>(t.AGILIDADE="Agilidade",t.AURA="Aura",t.CARISMA="Carisma",t.FISICO="Físico",t.FORCA="Força",t.INTELECTO="Intelecto",t.PERCEPCAO="Percepção",t))(ha||{});ht.object({idAtributo:ht.nativeEnum(ha),valor:ht.string()}).merge(rd.IdDTO).merge(wc.NameDTO).merge(xc.DescriptionDTO);var to=(t=>(t.ANAO="anao",t.ELFO_DOURADO="elfo_dourado",t.ELFO_FLORESTAL="elfo_florestal",t.HUMANO="humano",t.MEIO_ELFO="meio_elfo",t.PEQUENINO="pequenino",t))(to||{});const Use=ht.object({racaId:ht.nativeEnum(to),aura:ht.number(),peso:ht.number(),modificadores:ht.array(ht.object({idAtributo:ht.nativeEnum(ha),valor:ht.number()}))}).merge(rd.IdDTO).merge(wc.NameDTO).merge(xc.DescriptionDTO);var Va=(t=>(t.BARDO="Bardo",t.GUERREIRO="Guerreiro",t.LADINO="Ladino",t.MAGO="Mago",t.RASTREADOR="Rastreador",t.SACERDOTE="Sacerdote",t))(Va||{});ht.object({ehBasica:ht.boolean(),habilidadeIdAperfeicoada:VC,racasNaoPermitidas:ht.array(Use),pontosAquisicaoHabilidade:ht.number(),cdTipoHabilidadePenalizada:ht.optional(ht.array(VC))}).merge(rd.IdDTO).merge(wc.NameDTO).merge(xc.DescriptionDTO);const CP=(t,e)=>t.isFavorito&&!e.isFavorito?-1:e.isFavorito&&!t.isFavorito?1:Vie(t.ultimaVisualizacao,e.ultimaVisualizacao),Vse=[{id:"asdf",nome:"Nome 1",profissao:Va.BARDO,descricao:"",narrador:"narrador fulano",nivel:2,xp:20,raca:to.ELFO_DOURADO,criacao:"2024-03-06T15:30:00.000-03:00",ultimaVisualizacao:"2024-03-10T15:30:00.000-03:00"},{id:"asdf2",nome:"Nome 2",profissao:Va.MAGO,descricao:"",narrador:"narrador cicrano",nivel:3,xp:30,raca:to.HUMANO,criacao:"2024-03-06T15:30:00.000-03:00",ultimaVisualizacao:"2024-03-07T15:30:00.000-03:00",isFavorito:!0},{id:"asdf3",nome:"Nome 3",profissao:Va.GUERREIRO,descricao:"",narrador:"narrador beltrano",nivel:4,xp:40,raca:to.ANAO,criacao:"2024-03-06T15:30:00.000-03:00",ultimaVisualizacao:"2024-03-08T15:30:00.000-03:00"}].sort(CP),$se=(t,e,a)=>{const o=e.findIndex(r=>r.id===t);if(o>-1){const r=e[o];a(r),e[o]=r}},RP=gP({name:"fichas",initialState:{list:Vse},reducers:{create:(t,e)=>{t.list.push(e.payload)},update:(t,e)=>{for(const a of e.payload){const o=t.list.findIndex(r=>r.id===a.id);o>-1&&(t.list[o]=a)}},delete_:(t,e)=>{for(const a of e.payload){const o=t.list.findIndex(r=>r.id===a);o>-1&&t.list.splice(o,1)}},invertFavorite:(t,e)=>{$se(e.payload,t.list,a=>{a.isFavorito=!a.isFavorito}),t.list.sort(CP)}}}),Hse=RP.reducer,{create:Wse,update:Gse,delete_:Yse,invertFavorite:Zse}=RP.actions,$S=()=>{const t=eP(),{list:e}=tP(n=>n.fichas);function a(n){t(Wse(n))}function o(n){const d=i_(n);return e.filter(c=>d.findIndex(l=>c.id===l)!==-1)}function r(n){t(Gse(i_(n)))}function i(n){t(Yse(i_(n)))}function s(n){t(Zse(n))}return{list:e,read:o,update:r,delete_:i,create:a,changeFav:s}},Kse=()=>{const{list:t}=$S();return R.jsxs(H1,{children:[R.jsx(Il,{children:R.jsx(c3,{primary:"Tagmar"})}),R.jsx(kg,{}),R.jsxs(Il,{children:[R.jsx(Bg,{children:"F"}),R.jsx(c3,{primary:"Fulano de tal"})]}),R.jsx(Il,{children:R.jsxs(Wa,{children:["fulano@gmail.com - ",t.length," fichas"]})}),R.jsx(Il,{children:R.jsxs(Wa,{children:["app v","0.1.2"]})})]})},Qse=So(R.jsx("path",{d:"m20 7 .94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06-2.06.94 2.06.94.94 2.06.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38-2.83-2.83c-.2-.19-.45-.29-.71-.29-.26 0-.51.1-.71.29L2.29 17.46c-.39.39-.39 1.02 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42m-3.54-.7 1.41 1.41L14.41 11 13 9.59zM5.83 19.59l-1.41-1.41L11.59 11 13 12.41z"}),"AutoFixHighOutlined"),Xse=So(R.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino"),Jse=So(R.jsx("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined"),ene=So(R.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),tne=So(R.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),ane=So(R.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),one=So(R.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),rne=So(R.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M10 5.47l4 1.4v11.66l-4-1.4zm-5 .99 3-1.01v11.7l-3 1.16zm14 11.08-3 1.01V6.86l3-1.16z"}),"MapOutlined"),ine=So(R.jsx("path",{d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 0c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m6 5H3v-.99C3.2 16.29 6.3 15 9 15s5.8 1.29 6 2z"}),"PeopleAltOutlined"),sne=So(R.jsx("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonOutlined"),nne=So(R.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchOutlined"),dne=So(R.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),cne=So(R.jsx("path",{d:"M18.93 8C16.72 4.18 11.82 2.87 8 5.07c-1.41.82-2.48 2-3.16 3.37-.13-2.2.22-4.4 1.02-6.44H3.74C2.2 6.49 2.52 11.58 5.07 16c1.1 1.91 2.88 3.19 4.86 3.72 1.98.53 4.16.31 6.07-.79 1.41-.82 2.48-2 3.16-3.37.13 2.2-.21 4.4-1.01 6.44h2.11c1.53-4.49 1.22-9.58-1.33-14M15 17.2c-2.87 1.65-6.54.67-8.2-2.2-.11-.2-.21-.4-.3-.6-1.2-2.76-.17-6.06 2.5-7.6 2.86-1.65 6.54-.67 8.2 2.2.11.2.21.4.3.6 1.2 2.76.17 6.06-2.5 7.6M12 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"StormOutlined");var ua=(t=>(t.ROOT="/",t.FICHAS="/fichas",t.FICHA="ficha/:id",t.DADO="/dado",t.MAGIAS="/magias",t.MAGIA="/magia/:id",t.HABILIDADES="/habilidades",t.HABILIDADE="/habilidade/:id",t.MAPAS="/mapas",t.MAPA="/mapa/:id",t.CONFIGURACOES="/configuracoes",t.SOBRE="/sobre",t))(ua||{}),w0;(t=>{t.gameMenu=[{text:"Fichas",icon:ine,path:ua.FICHAS},{text:"Ficha atual",icon:sne,path:ua.FICHA},{text:"Dado",icon:Xse,path:ua.DADO},{text:"Magias",icon:Qse,path:ua.MAGIAS},{text:"Habilidades",icon:cne,path:ua.HABILIDADES},{text:"Mapas",icon:rne,path:ua.MAPAS}],t.appMenu=[{text:"Configurações",icon:dne,path:ua.CONFIGURACOES},{text:"Sobre",icon:one,path:ua.SOBRE}]})(w0||(w0={}));const $C=({list:t})=>{const{pathname:e}=Tc(),a=e;return R.jsx(H1,{children:t.map(({text:o,icon:r,path:i})=>R.jsx(Il,{children:R.jsxs(IY,{component:xw,to:i,disabled:i===a,children:[R.jsx(y6,{children:R.jsx(r,{})}),R.jsx(c3,{primary:o})]})},o))})},HC=()=>R.jsxs(R.Fragment,{children:[R.jsx(Kse,{}),R.jsx(kg,{}),R.jsx($C,{list:w0.gameMenu}),R.jsx(kg,{}),R.jsx($C,{list:w0.appMenu})]}),lne={width:{sm:Ua.DRAWER_WIDTH},flexShrink:{sm:0}},OP={boxSizing:"border-box",width:Ua.DRAWER_WIDTH},une={display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":OP},mne={display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":OP},pne=()=>{const[t,e]=M.useState(!1),[a,o]=M.useState(!1),{isMainRoute:r}=Q8(),i=G0();return{goBack:()=>{r||i(-1)},mobileOpen:a,handleDrawerOpen:()=>{e(!1),o(!0)},handleDrawerClose:()=>{e(!0),o(!1)},handleDrawerToggle:()=>{r&&!t&&o(!a)},handleDrawerTransitionEnd:()=>{e(!1)}}},fne=()=>{const{goBack:t,mobileOpen:e,handleDrawerOpen:a,handleDrawerClose:o,handleDrawerToggle:r,handleDrawerTransitionEnd:i}=pne();return R.jsxs(qa,{onClick:r,children:[R.jsx(cW,{}),R.jsx(Dre,{onMenu:t}),R.jsxs(qa,{sx:lne,children:[R.jsx(yK,{open:e,variant:"temporary",onOpen:a,disableBackdropTransition:!0,onClose:o,onTransitionEnd:i,ModalProps:{keepMounted:!0},sx:une,children:R.jsx(HC,{})}),R.jsx(d6,{variant:"permanent",sx:mne,open:!0,children:R.jsx(HC,{})})]})]})},hne={flexGrow:1,width:{sm:`calc(100% - ${Ua.DRAWER_WIDTH}px)`}};function vne(){return M.useEffect(()=>{const t={query:{castBigIntToDouble:!0}};Xoe.initializeDuckDb({config:t,debug:!1})},[]),R.jsx(qa,{sx:{display:"flex",flexFlow:"column"},children:R.jsxs(qa,{sx:{display:"flex"},children:[R.jsx(fne,{}),R.jsxs(qa,{sx:hne,height:"100vh",display:"flex",component:"main",flexDirection:"column",children:[R.jsx(C6,{}),R.jsx(qa,{sx:{flex:1,display:"flex"},children:R.jsx(wz,{})})]})]})})}var HS={},gne=Ri;Object.defineProperty(HS,"__esModule",{value:!0});var IP=HS.default=void 0,yne=gne(an()),bne=R;IP=HS.default=(0,yne.default)((0,bne.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");function _ne(t){const{children:e}=t,a=O6({target:window??void 0,disableHysteresis:!0,threshold:100}),o=r=>{const i=(r.target.ownerDocument||document).querySelector("#back-to-top-anchor");i&&i.scrollIntoView({block:"center"})};return R.jsx(t6,{in:a,children:R.jsx(qa,{onClick:o,role:"presentation",sx:{position:"fixed",bottom:16,right:16},children:e})})}const Ii=({children:t,bg:e})=>R.jsxs(qa,{sx:{flex:1,display:"flex",overflowY:"scroll",backgroundImage:e,flexDirection:"column",backgroundSize:"cover",padding:Ua.CSS.padding.page,backgroundRepeat:"no-repeat"},children:[R.jsx("div",{id:"back-to-top-anchor"}),t,R.jsx(_ne,{children:R.jsx(zW,{size:"small","aria-label":"scroll back to top",color:"primary",children:R.jsx(IP,{})})})]}),xne="/tagmar_pwa/assets/under-construction-DPMz1vOd.png",Dc=({descricao:t})=>R.jsxs(qa,{display:"flex",alignItems:"center",gap:3,margin:2,children:[R.jsx("img",{alt:"em construção",src:xne,height:50,width:50}),R.jsx(Wa,{children:t})]});var Bo;(t=>{t.setBuscaInexata=l_("config/swapBusca",async e=>e),t.setDado3D=l_("config/swapDado",async e=>e),t.loadConfig=l_("config/load",async()=>({isBuscaInexata:!1,isDado3dAtivo:!1}))})(Bo||(Bo={}));const WS=()=>{const t=eP(),{config:{isBuscaInexata:e,isDado3dAtivo:a},loading:o}=tP(n=>n.config);async function r(){await t(Bo.setBuscaInexata(!e))}async function i(){await t(Bo.setDado3D(!a))}async function s(){await t(Bo.loadConfig())}return{load:s,loading:o,swapDado3d:i,swapBuscaInexata:r,isDado3d:a,isBuscaInexata:e}};var a5,o5;const WC={borderRadius:10,paddingLeft:"16px",justifyContent:"space-between",backgroundColor:(o5=(a5=vh.palette)==null?void 0:a5.background)==null?void 0:o5.paper},wne=()=>{const{isDado3d:t,swapDado3d:e,isBuscaInexata:a,swapBuscaInexata:o,loading:r}=WS();return R.jsxs(Ii,{children:[R.jsx(Dc,{descricao:"Ainda não funciona nada. Revisar"}),R.jsx(eS,{component:"fieldset",variant:"standard",children:R.jsxs(cG,{sx:{gap:"10px",maxWidth:400,paddingTop:"20px"},children:[R.jsx(DM,{sx:WC,disabled:r,labelPlacement:"start",label:"Buscar pelo texto aproximado",control:R.jsx(GM,{checked:a,onChange:o})}),R.jsx(DM,{sx:WC,disabled:r,labelPlacement:"start",label:"Exibir dado em 3D",control:R.jsx(GM,{checked:t,onChange:e})})]})})]})};var Sne=Object.defineProperty,Ane=(t,e,a)=>e in t?Sne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,Ene=(t,e,a)=>(Ane(t,typeof e!="symbol"?e+"":e,a),a);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const GS="143",Ss="srgb",Ud="srgb-linear",GC="300 es";class tm{addEventListener(e,a){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(a)===-1&&o[e].push(a)}hasEventListener(e,a){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(a)!==-1}removeEventListener(e,a){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const r=o.indexOf(a);r!==-1&&o.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const a=this._listeners[e.type];if(a!==void 0){e.target=this;const o=a.slice(0);for(let r=0,i=o.length;r<i;r++)o[r].call(this,e);e.target=null}}}const vo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],m_=Math.PI/180,ex=180/Math.PI;function yh(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,a=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(vo[t&255]+vo[t>>8&255]+vo[t>>16&255]+vo[t>>24&255]+"-"+vo[e&255]+vo[e>>8&255]+"-"+vo[e>>16&15|64]+vo[e>>24&255]+"-"+vo[a&63|128]+vo[a>>8&255]+"-"+vo[a>>16&255]+vo[a>>24&255]+vo[o&255]+vo[o>>8&255]+vo[o>>16&255]+vo[o>>24&255]).toLowerCase()}function rr(t,e,a){return Math.max(e,Math.min(a,t))}function Mne(t,e){return(t%e+e)%e}function p_(t,e,a){return(1-a)*t+a*e}function YC(t){return(t&t-1)===0&&t!==0}function tx(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}class Nt{constructor(e=0,a=0){Nt.prototype.isVector2=!0,this.x=e,this.y=a}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,a){return this.x=e,this.y=a,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const a=this.x,o=this.y,r=e.elements;return this.x=r[0]*a+r[3]*o+r[6],this.y=r[1]*a+r[4]*o+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,a){return this.x=Math.max(e.x,Math.min(a.x,this.x)),this.y=Math.max(e.y,Math.min(a.y,this.y)),this}clampScalar(e,a){return this.x=Math.max(e,Math.min(a,this.x)),this.y=Math.max(e,Math.min(a,this.y)),this}clampLength(e,a){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(a,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const a=this.x-e.x,o=this.y-e.y;return a*a+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this}lerpVectors(e,a,o){return this.x=e.x+(a.x-e.x)*o,this.y=e.y+(a.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this}rotateAround(e,a){const o=Math.cos(a),r=Math.sin(a),i=this.x-e.x,s=this.y-e.y;return this.x=i*o-s*r+e.x,this.y=i*r+s*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Br{constructor(){Br.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,a,o,r,i,s,n,d,c){const l=this.elements;return l[0]=e,l[1]=r,l[2]=n,l[3]=a,l[4]=i,l[5]=d,l[6]=o,l[7]=s,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const a=this.elements,o=e.elements;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],this}extractBasis(e,a,o){return e.setFromMatrix3Column(this,0),a.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const a=e.elements;return this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,a){const o=e.elements,r=a.elements,i=this.elements,s=o[0],n=o[3],d=o[6],c=o[1],l=o[4],m=o[7],u=o[2],v=o[5],g=o[8],f=r[0],p=r[3],h=r[6],y=r[1],b=r[4],_=r[7],S=r[2],x=r[5],w=r[8];return i[0]=s*f+n*y+d*S,i[3]=s*p+n*b+d*x,i[6]=s*h+n*_+d*w,i[1]=c*f+l*y+m*S,i[4]=c*p+l*b+m*x,i[7]=c*h+l*_+m*w,i[2]=u*f+v*y+g*S,i[5]=u*p+v*b+g*x,i[8]=u*h+v*_+g*w,this}multiplyScalar(e){const a=this.elements;return a[0]*=e,a[3]*=e,a[6]*=e,a[1]*=e,a[4]*=e,a[7]*=e,a[2]*=e,a[5]*=e,a[8]*=e,this}determinant(){const e=this.elements,a=e[0],o=e[1],r=e[2],i=e[3],s=e[4],n=e[5],d=e[6],c=e[7],l=e[8];return a*s*l-a*n*c-o*i*l+o*n*d+r*i*c-r*s*d}invert(){const e=this.elements,a=e[0],o=e[1],r=e[2],i=e[3],s=e[4],n=e[5],d=e[6],c=e[7],l=e[8],m=l*s-n*c,u=n*d-l*i,v=c*i-s*d,g=a*m+o*u+r*v;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const f=1/g;return e[0]=m*f,e[1]=(r*c-l*o)*f,e[2]=(n*o-r*s)*f,e[3]=u*f,e[4]=(l*a-r*d)*f,e[5]=(r*i-n*a)*f,e[6]=v*f,e[7]=(o*d-c*a)*f,e[8]=(s*a-o*i)*f,this}transpose(){let e;const a=this.elements;return e=a[1],a[1]=a[3],a[3]=e,e=a[2],a[2]=a[6],a[6]=e,e=a[5],a[5]=a[7],a[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const a=this.elements;return e[0]=a[0],e[1]=a[3],e[2]=a[6],e[3]=a[1],e[4]=a[4],e[5]=a[7],e[6]=a[2],e[7]=a[5],e[8]=a[8],this}setUvTransform(e,a,o,r,i,s,n){const d=Math.cos(i),c=Math.sin(i);return this.set(o*d,o*c,-o*(d*s+c*n)+s+e,-r*c,r*d,-r*(-c*s+d*n)+n+a,0,0,1),this}scale(e,a){const o=this.elements;return o[0]*=e,o[3]*=e,o[6]*=e,o[1]*=a,o[4]*=a,o[7]*=a,this}rotate(e){const a=Math.cos(e),o=Math.sin(e),r=this.elements,i=r[0],s=r[3],n=r[6],d=r[1],c=r[4],l=r[7];return r[0]=a*i+o*d,r[3]=a*s+o*c,r[6]=a*n+o*l,r[1]=-o*i+a*d,r[4]=-o*s+a*c,r[7]=-o*n+a*l,this}translate(e,a){const o=this.elements;return o[0]+=e*o[2],o[3]+=e*o[5],o[6]+=e*o[8],o[1]+=a*o[2],o[4]+=a*o[5],o[7]+=a*o[8],this}equals(e){const a=this.elements,o=e.elements;for(let r=0;r<9;r++)if(a[r]!==o[r])return!1;return!0}fromArray(e,a=0){for(let o=0;o<9;o++)this.elements[o]=e[o+a];return this}toArray(e=[],a=0){const o=this.elements;return e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2],e[a+3]=o[3],e[a+4]=o[4],e[a+5]=o[5],e[a+6]=o[6],e[a+7]=o[7],e[a+8]=o[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function DP(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function S0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Xd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ng(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const f_={[Ss]:{[Ud]:Xd},[Ud]:{[Ss]:ng}},ai={legacyMode:!0,get workingColorSpace(){return Ud},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,a){if(this.legacyMode||e===a||!e||!a)return t;if(f_[e]&&f_[e][a]!==void 0){const o=f_[e][a];return t.r=o(t.r),t.g=o(t.g),t.b=o(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},qP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ga={r:0,g:0,b:0},oi={h:0,s:0,l:0},cv={h:0,s:0,l:0};function h_(t,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(e-t)*6*a:a<1/2?e:a<2/3?t+(e-t)*6*(2/3-a):t}function lv(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class Lt{constructor(e,a,o){return this.isColor=!0,this.r=1,this.g=1,this.b=1,a===void 0&&o===void 0?this.set(e):this.setRGB(e,a,o)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,a=Ss){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ai.toWorkingColorSpace(this,a),this}setRGB(e,a,o,r=Ud){return this.r=e,this.g=a,this.b=o,ai.toWorkingColorSpace(this,r),this}setHSL(e,a,o,r=Ud){if(e=Mne(e,1),a=rr(a,0,1),o=rr(o,0,1),a===0)this.r=this.g=this.b=o;else{const i=o<=.5?o*(1+a):o+a-o*a,s=2*o-i;this.r=h_(s,i,e+1/3),this.g=h_(s,i,e),this.b=h_(s,i,e-1/3)}return ai.toWorkingColorSpace(this,r),this}setStyle(e,a=Ss){function o(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i;const s=r[1],n=r[2];switch(s){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,ai.toWorkingColorSpace(this,a),o(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,ai.toWorkingColorSpace(this,a),o(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(n)){const d=parseFloat(i[1])/360,c=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return o(i[4]),this.setHSL(d,c,l,a)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=r[1],s=i.length;if(s===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,ai.toWorkingColorSpace(this,a),this;if(s===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,ai.toWorkingColorSpace(this,a),this}return e&&e.length>0?this.setColorName(e,a):this}setColorName(e,a=Ss){const o=qP[e.toLowerCase()];return o!==void 0?this.setHex(o,a):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Xd(e.r),this.g=Xd(e.g),this.b=Xd(e.b),this}copyLinearToSRGB(e){return this.r=ng(e.r),this.g=ng(e.g),this.b=ng(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ss){return ai.fromWorkingColorSpace(lv(this,Ga),e),rr(Ga.r*255,0,255)<<16^rr(Ga.g*255,0,255)<<8^rr(Ga.b*255,0,255)<<0}getHexString(e=Ss){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,a=Ud){ai.fromWorkingColorSpace(lv(this,Ga),a);const o=Ga.r,r=Ga.g,i=Ga.b,s=Math.max(o,r,i),n=Math.min(o,r,i);let d,c;const l=(n+s)/2;if(n===s)d=0,c=0;else{const m=s-n;switch(c=l<=.5?m/(s+n):m/(2-s-n),s){case o:d=(r-i)/m+(r<i?6:0);break;case r:d=(i-o)/m+2;break;case i:d=(o-r)/m+4;break}d/=6}return e.h=d,e.s=c,e.l=l,e}getRGB(e,a=Ud){return ai.fromWorkingColorSpace(lv(this,Ga),a),e.r=Ga.r,e.g=Ga.g,e.b=Ga.b,e}getStyle(e=Ss){return ai.fromWorkingColorSpace(lv(this,Ga),e),e!==Ss?`color(${e} ${Ga.r} ${Ga.g} ${Ga.b})`:`rgb(${Ga.r*255|0},${Ga.g*255|0},${Ga.b*255|0})`}offsetHSL(e,a,o){return this.getHSL(oi),oi.h+=e,oi.s+=a,oi.l+=o,this.setHSL(oi.h,oi.s,oi.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,a){return this.r=e.r+a.r,this.g=e.g+a.g,this.b=e.b+a.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,a){return this.r+=(e.r-this.r)*a,this.g+=(e.g-this.g)*a,this.b+=(e.b-this.b)*a,this}lerpColors(e,a,o){return this.r=e.r+(a.r-e.r)*o,this.g=e.g+(a.g-e.g)*o,this.b=e.b+(a.b-e.b)*o,this}lerpHSL(e,a){this.getHSL(oi),e.getHSL(cv);const o=p_(oi.h,cv.h,a),r=p_(oi.s,cv.s,a),i=p_(oi.l,cv.l,a);return this.setHSL(o,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,a=0){return this.r=e[a],this.g=e[a+1],this.b=e[a+2],this}toArray(e=[],a=0){return e[a]=this.r,e[a+1]=this.g,e[a+2]=this.b,e}fromBufferAttribute(e,a){return this.r=e.getX(a),this.g=e.getY(a),this.b=e.getZ(a),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Lt.NAMES=qP;let $c;class PP{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let a;if(e instanceof HTMLCanvasElement)a=e;else{$c===void 0&&($c=S0("canvas")),$c.width=e.width,$c.height=e.height;const o=$c.getContext("2d");e instanceof ImageData?o.putImageData(e,0,0):o.drawImage(e,0,0,e.width,e.height),a=$c}return a.width>2048||a.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),a.toDataURL("image/jpeg",.6)):a.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const a=S0("canvas");a.width=e.width,a.height=e.height;const o=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height);const r=o.getImageData(0,0,e.width,e.height),i=r.data;for(let s=0;s<i.length;s++)i[s]=Xd(i[s]/255)*255;return o.putImageData(r,0,0),a}else if(e.data){const a=e.data.slice(0);for(let o=0;o<a.length;o++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[o]=Math.floor(Xd(a[o]/255)*255):a[o]=Xd(a[o]);return{data:a,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class LP{constructor(e=null){this.isSource=!0,this.uuid=yh(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const a=e===void 0||typeof e=="string";if(!a&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const o={uuid:this.uuid,url:""},r=this.data;if(r!==null){let i;if(Array.isArray(r)){i=[];for(let s=0,n=r.length;s<n;s++)r[s].isDataTexture?i.push(v_(r[s].image)):i.push(v_(r[s]))}else i=v_(r);o.url=i}return a||(e.images[this.uuid]=o),o}}function v_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?PP.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Tne=0;class yr extends tm{constructor(e=yr.DEFAULT_IMAGE,a=yr.DEFAULT_MAPPING,o=1001,r=1001,i=1006,s=1008,n=1023,d=1009,c=1,l=3e3){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Tne++}),this.uuid=yh(),this.name="",this.source=new LP(e),this.mipmaps=[],this.mapping=a,this.wrapS=o,this.wrapT=r,this.magFilter=i,this.minFilter=s,this.anisotropy=c,this.format=n,this.internalFormat=null,this.type=d,this.offset=new Nt(0,0),this.repeat=new Nt(1,1),this.center=new Nt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Br,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=l,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const a=e===void 0||typeof e=="string";if(!a&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const o={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),a||(e.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}yr.DEFAULT_IMAGE=null;yr.DEFAULT_MAPPING=300;class Qa{constructor(e=0,a=0,o=0,r=1){Qa.prototype.isVector4=!0,this.x=e,this.y=a,this.z=o,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,a,o,r){return this.x=e,this.y=a,this.z=o,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this.z=e.z+a.z,this.w=e.w+a.w,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this.z+=e.z*a,this.w+=e.w*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this.z=e.z-a.z,this.w=e.w-a.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const a=this.x,o=this.y,r=this.z,i=this.w,s=e.elements;return this.x=s[0]*a+s[4]*o+s[8]*r+s[12]*i,this.y=s[1]*a+s[5]*o+s[9]*r+s[13]*i,this.z=s[2]*a+s[6]*o+s[10]*r+s[14]*i,this.w=s[3]*a+s[7]*o+s[11]*r+s[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const a=Math.sqrt(1-e.w*e.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/a,this.y=e.y/a,this.z=e.z/a),this}setAxisAngleFromRotationMatrix(e){let a,o,r,i;const s=e.elements,n=s[0],d=s[4],c=s[8],l=s[1],m=s[5],u=s[9],v=s[2],g=s[6],f=s[10];if(Math.abs(d-l)<.01&&Math.abs(c-v)<.01&&Math.abs(u-g)<.01){if(Math.abs(d+l)<.1&&Math.abs(c+v)<.1&&Math.abs(u+g)<.1&&Math.abs(n+m+f-3)<.1)return this.set(1,0,0,0),this;a=Math.PI;const h=(n+1)/2,y=(m+1)/2,b=(f+1)/2,_=(d+l)/4,S=(c+v)/4,x=(u+g)/4;return h>y&&h>b?h<.01?(o=0,r=.707106781,i=.707106781):(o=Math.sqrt(h),r=_/o,i=S/o):y>b?y<.01?(o=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),o=_/r,i=x/r):b<.01?(o=.707106781,r=.707106781,i=0):(i=Math.sqrt(b),o=S/i,r=x/i),this.set(o,r,i,a),this}let p=Math.sqrt((g-u)*(g-u)+(c-v)*(c-v)+(l-d)*(l-d));return Math.abs(p)<.001&&(p=1),this.x=(g-u)/p,this.y=(c-v)/p,this.z=(l-d)/p,this.w=Math.acos((n+m+f-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,a){return this.x=Math.max(e.x,Math.min(a.x,this.x)),this.y=Math.max(e.y,Math.min(a.y,this.y)),this.z=Math.max(e.z,Math.min(a.z,this.z)),this.w=Math.max(e.w,Math.min(a.w,this.w)),this}clampScalar(e,a){return this.x=Math.max(e,Math.min(a,this.x)),this.y=Math.max(e,Math.min(a,this.y)),this.z=Math.max(e,Math.min(a,this.z)),this.w=Math.max(e,Math.min(a,this.w)),this}clampLength(e,a){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(a,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this.z+=(e.z-this.z)*a,this.w+=(e.w-this.w)*a,this}lerpVectors(e,a,o){return this.x=e.x+(a.x-e.x)*o,this.y=e.y+(a.y-e.y)*o,this.z=e.z+(a.z-e.z)*o,this.w=e.w+(a.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this.z=e[a+2],this.w=e[a+3],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e[a+2]=this.z,e[a+3]=this.w,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this.z=e.getZ(a),this.w=e.getW(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Sc extends tm{constructor(e,a,o={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=a,this.depth=1,this.scissor=new Qa(0,0,e,a),this.scissorTest=!1,this.viewport=new Qa(0,0,e,a);const r={width:e,height:a,depth:1};this.texture=new yr(r,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.internalFormat=o.internalFormat!==void 0?o.internalFormat:null,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:1006,this.depthBuffer=o.depthBuffer!==void 0?o.depthBuffer:!0,this.stencilBuffer=o.stencilBuffer!==void 0?o.stencilBuffer:!1,this.depthTexture=o.depthTexture!==void 0?o.depthTexture:null,this.samples=o.samples!==void 0?o.samples:0}setSize(e,a,o=1){(this.width!==e||this.height!==a||this.depth!==o)&&(this.width=e,this.height=a,this.depth=o,this.texture.image.width=e,this.texture.image.height=a,this.texture.image.depth=o,this.dispose()),this.viewport.set(0,0,e,a),this.scissor.set(0,0,e,a)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const a=Object.assign({},e.texture.image);return this.texture.source=new LP(a),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class NP extends yr{constructor(e=null,a=1,o=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:a,height:o,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cne extends yr{constructor(e=null,a=1,o=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:a,height:o,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bh{constructor(e=0,a=0,o=0,r=1){this.isQuaternion=!0,this._x=e,this._y=a,this._z=o,this._w=r}static slerpFlat(e,a,o,r,i,s,n){let d=o[r+0],c=o[r+1],l=o[r+2],m=o[r+3];const u=i[s+0],v=i[s+1],g=i[s+2],f=i[s+3];if(n===0){e[a+0]=d,e[a+1]=c,e[a+2]=l,e[a+3]=m;return}if(n===1){e[a+0]=u,e[a+1]=v,e[a+2]=g,e[a+3]=f;return}if(m!==f||d!==u||c!==v||l!==g){let p=1-n;const h=d*u+c*v+l*g+m*f,y=h>=0?1:-1,b=1-h*h;if(b>Number.EPSILON){const S=Math.sqrt(b),x=Math.atan2(S,h*y);p=Math.sin(p*x)/S,n=Math.sin(n*x)/S}const _=n*y;if(d=d*p+u*_,c=c*p+v*_,l=l*p+g*_,m=m*p+f*_,p===1-n){const S=1/Math.sqrt(d*d+c*c+l*l+m*m);d*=S,c*=S,l*=S,m*=S}}e[a]=d,e[a+1]=c,e[a+2]=l,e[a+3]=m}static multiplyQuaternionsFlat(e,a,o,r,i,s){const n=o[r],d=o[r+1],c=o[r+2],l=o[r+3],m=i[s],u=i[s+1],v=i[s+2],g=i[s+3];return e[a]=n*g+l*m+d*v-c*u,e[a+1]=d*g+l*u+c*m-n*v,e[a+2]=c*g+l*v+n*u-d*m,e[a+3]=l*g-n*m-d*u-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,a,o,r){return this._x=e,this._y=a,this._z=o,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,a){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const o=e._x,r=e._y,i=e._z,s=e._order,n=Math.cos,d=Math.sin,c=n(o/2),l=n(r/2),m=n(i/2),u=d(o/2),v=d(r/2),g=d(i/2);switch(s){case"XYZ":this._x=u*l*m+c*v*g,this._y=c*v*m-u*l*g,this._z=c*l*g+u*v*m,this._w=c*l*m-u*v*g;break;case"YXZ":this._x=u*l*m+c*v*g,this._y=c*v*m-u*l*g,this._z=c*l*g-u*v*m,this._w=c*l*m+u*v*g;break;case"ZXY":this._x=u*l*m-c*v*g,this._y=c*v*m+u*l*g,this._z=c*l*g+u*v*m,this._w=c*l*m-u*v*g;break;case"ZYX":this._x=u*l*m-c*v*g,this._y=c*v*m+u*l*g,this._z=c*l*g-u*v*m,this._w=c*l*m+u*v*g;break;case"YZX":this._x=u*l*m+c*v*g,this._y=c*v*m+u*l*g,this._z=c*l*g-u*v*m,this._w=c*l*m-u*v*g;break;case"XZY":this._x=u*l*m-c*v*g,this._y=c*v*m-u*l*g,this._z=c*l*g+u*v*m,this._w=c*l*m+u*v*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return a!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,a){const o=a/2,r=Math.sin(o);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const a=e.elements,o=a[0],r=a[4],i=a[8],s=a[1],n=a[5],d=a[9],c=a[2],l=a[6],m=a[10],u=o+n+m;if(u>0){const v=.5/Math.sqrt(u+1);this._w=.25/v,this._x=(l-d)*v,this._y=(i-c)*v,this._z=(s-r)*v}else if(o>n&&o>m){const v=2*Math.sqrt(1+o-n-m);this._w=(l-d)/v,this._x=.25*v,this._y=(r+s)/v,this._z=(i+c)/v}else if(n>m){const v=2*Math.sqrt(1+n-o-m);this._w=(i-c)/v,this._x=(r+s)/v,this._y=.25*v,this._z=(d+l)/v}else{const v=2*Math.sqrt(1+m-o-n);this._w=(s-r)/v,this._x=(i+c)/v,this._y=(d+l)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,a){let o=e.dot(a)+1;return o<Number.EPSILON?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*a.z-e.z*a.y,this._y=e.z*a.x-e.x*a.z,this._z=e.x*a.y-e.y*a.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rr(this.dot(e),-1,1)))}rotateTowards(e,a){const o=this.angleTo(e);if(o===0)return this;const r=Math.min(1,a/o);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,a){const o=e._x,r=e._y,i=e._z,s=e._w,n=a._x,d=a._y,c=a._z,l=a._w;return this._x=o*l+s*n+r*c-i*d,this._y=r*l+s*d+i*n-o*c,this._z=i*l+s*c+o*d-r*n,this._w=s*l-o*n-r*d-i*c,this._onChangeCallback(),this}slerp(e,a){if(a===0)return this;if(a===1)return this.copy(e);const o=this._x,r=this._y,i=this._z,s=this._w;let n=s*e._w+o*e._x+r*e._y+i*e._z;if(n<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,n=-n):this.copy(e),n>=1)return this._w=s,this._x=o,this._y=r,this._z=i,this;const d=1-n*n;if(d<=Number.EPSILON){const v=1-a;return this._w=v*s+a*this._w,this._x=v*o+a*this._x,this._y=v*r+a*this._y,this._z=v*i+a*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(d),l=Math.atan2(c,n),m=Math.sin((1-a)*l)/c,u=Math.sin(a*l)/c;return this._w=s*m+this._w*u,this._x=o*m+this._x*u,this._y=r*m+this._y*u,this._z=i*m+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,a,o){return this.copy(e).slerp(a,o)}random(){const e=Math.random(),a=Math.sqrt(1-e),o=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(a*Math.cos(r),o*Math.sin(i),o*Math.cos(i),a*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,a=0){return this._x=e[a],this._y=e[a+1],this._z=e[a+2],this._w=e[a+3],this._onChangeCallback(),this}toArray(e=[],a=0){return e[a]=this._x,e[a+1]=this._y,e[a+2]=this._z,e[a+3]=this._w,e}fromBufferAttribute(e,a){return this._x=e.getX(a),this._y=e.getY(a),this._z=e.getZ(a),this._w=e.getW(a),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,a=0,o=0){ne.prototype.isVector3=!0,this.x=e,this.y=a,this.z=o}set(e,a,o){return o===void 0&&(o=this.z),this.x=e,this.y=a,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this.z=e.z+a.z,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this.z+=e.z*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this.z=e.z-a.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,a){return this.x=e.x*a.x,this.y=e.y*a.y,this.z=e.z*a.z,this}applyEuler(e){return this.applyQuaternion(ZC.setFromEuler(e))}applyAxisAngle(e,a){return this.applyQuaternion(ZC.setFromAxisAngle(e,a))}applyMatrix3(e){const a=this.x,o=this.y,r=this.z,i=e.elements;return this.x=i[0]*a+i[3]*o+i[6]*r,this.y=i[1]*a+i[4]*o+i[7]*r,this.z=i[2]*a+i[5]*o+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const a=this.x,o=this.y,r=this.z,i=e.elements,s=1/(i[3]*a+i[7]*o+i[11]*r+i[15]);return this.x=(i[0]*a+i[4]*o+i[8]*r+i[12])*s,this.y=(i[1]*a+i[5]*o+i[9]*r+i[13])*s,this.z=(i[2]*a+i[6]*o+i[10]*r+i[14])*s,this}applyQuaternion(e){const a=this.x,o=this.y,r=this.z,i=e.x,s=e.y,n=e.z,d=e.w,c=d*a+s*r-n*o,l=d*o+n*a-i*r,m=d*r+i*o-s*a,u=-i*a-s*o-n*r;return this.x=c*d+u*-i+l*-n-m*-s,this.y=l*d+u*-s+m*-i-c*-n,this.z=m*d+u*-n+c*-s-l*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const a=this.x,o=this.y,r=this.z,i=e.elements;return this.x=i[0]*a+i[4]*o+i[8]*r,this.y=i[1]*a+i[5]*o+i[9]*r,this.z=i[2]*a+i[6]*o+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,a){return this.x=Math.max(e.x,Math.min(a.x,this.x)),this.y=Math.max(e.y,Math.min(a.y,this.y)),this.z=Math.max(e.z,Math.min(a.z,this.z)),this}clampScalar(e,a){return this.x=Math.max(e,Math.min(a,this.x)),this.y=Math.max(e,Math.min(a,this.y)),this.z=Math.max(e,Math.min(a,this.z)),this}clampLength(e,a){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(a,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this.z+=(e.z-this.z)*a,this}lerpVectors(e,a,o){return this.x=e.x+(a.x-e.x)*o,this.y=e.y+(a.y-e.y)*o,this.z=e.z+(a.z-e.z)*o,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,a){const o=e.x,r=e.y,i=e.z,s=a.x,n=a.y,d=a.z;return this.x=r*d-i*n,this.y=i*s-o*d,this.z=o*n-r*s,this}projectOnVector(e){const a=e.lengthSq();if(a===0)return this.set(0,0,0);const o=e.dot(this)/a;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return g_.copy(this).projectOnVector(e),this.sub(g_)}reflect(e){return this.sub(g_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const a=Math.sqrt(this.lengthSq()*e.lengthSq());if(a===0)return Math.PI/2;const o=this.dot(e)/a;return Math.acos(rr(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const a=this.x-e.x,o=this.y-e.y,r=this.z-e.z;return a*a+o*o+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,a,o){const r=Math.sin(a)*e;return this.x=r*Math.sin(o),this.y=Math.cos(a)*e,this.z=r*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,a,o){return this.x=e*Math.sin(a),this.y=o,this.z=e*Math.cos(a),this}setFromMatrixPosition(e){const a=e.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(e){const a=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=a,this.y=o,this.z=r,this}setFromMatrixColumn(e,a){return this.fromArray(e.elements,a*4)}setFromMatrix3Column(e,a){return this.fromArray(e.elements,a*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this.z=e[a+2],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e[a+2]=this.z,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this.z=e.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,a=Math.random()*Math.PI*2,o=Math.sqrt(1-e**2);return this.x=o*Math.cos(a),this.y=o*Math.sin(a),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const g_=new ne,ZC=new bh;class _h{constructor(e=new ne(1/0,1/0,1/0),a=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=a}set(e,a){return this.min.copy(e),this.max.copy(a),this}setFromArray(e){let a=1/0,o=1/0,r=1/0,i=-1/0,s=-1/0,n=-1/0;for(let d=0,c=e.length;d<c;d+=3){const l=e[d],m=e[d+1],u=e[d+2];l<a&&(a=l),m<o&&(o=m),u<r&&(r=u),l>i&&(i=l),m>s&&(s=m),u>n&&(n=u)}return this.min.set(a,o,r),this.max.set(i,s,n),this}setFromBufferAttribute(e){let a=1/0,o=1/0,r=1/0,i=-1/0,s=-1/0,n=-1/0;for(let d=0,c=e.count;d<c;d++){const l=e.getX(d),m=e.getY(d),u=e.getZ(d);l<a&&(a=l),m<o&&(o=m),u<r&&(r=u),l>i&&(i=l),m>s&&(s=m),u>n&&(n=u)}return this.min.set(a,o,r),this.max.set(i,s,n),this}setFromPoints(e){this.makeEmpty();for(let a=0,o=e.length;a<o;a++)this.expandByPoint(e[a]);return this}setFromCenterAndSize(e,a){const o=bd.copy(a).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e,a=!1){return this.makeEmpty(),this.expandByObject(e,a)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,a=!1){e.updateWorldMatrix(!1,!1);const o=e.geometry;if(o!==void 0)if(a&&o.attributes!=null&&o.attributes.position!==void 0){const i=o.attributes.position;for(let s=0,n=i.count;s<n;s++)bd.fromBufferAttribute(i,s).applyMatrix4(e.matrixWorld),this.expandByPoint(bd)}else o.boundingBox===null&&o.computeBoundingBox(),y_.copy(o.boundingBox),y_.applyMatrix4(e.matrixWorld),this.union(y_);const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],a);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,a){return a.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,bd),bd.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let a,o;return e.normal.x>0?(a=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(a=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(a+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(a+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(a+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(a+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),a<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lm),uv.subVectors(this.max,Lm),Hc.subVectors(e.a,Lm),Wc.subVectors(e.b,Lm),Gc.subVectors(e.c,Lm),mn.subVectors(Wc,Hc),pn.subVectors(Gc,Wc),_d.subVectors(Hc,Gc);let a=[0,-mn.z,mn.y,0,-pn.z,pn.y,0,-_d.z,_d.y,mn.z,0,-mn.x,pn.z,0,-pn.x,_d.z,0,-_d.x,-mn.y,mn.x,0,-pn.y,pn.x,0,-_d.y,_d.x,0];return!b_(a,Hc,Wc,Gc,uv)||(a=[1,0,0,0,1,0,0,0,1],!b_(a,Hc,Wc,Gc,uv))?!1:(mv.crossVectors(mn,pn),a=[mv.x,mv.y,mv.z],b_(a,Hc,Wc,Gc,uv))}clampPoint(e,a){return a.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return bd.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(bd).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(us[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),us[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),us[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),us[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),us[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),us[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),us[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),us[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(us),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const us=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],bd=new ne,y_=new _h,Hc=new ne,Wc=new ne,Gc=new ne,mn=new ne,pn=new ne,_d=new ne,Lm=new ne,uv=new ne,mv=new ne,xd=new ne;function b_(t,e,a,o,r){for(let i=0,s=t.length-3;i<=s;i+=3){xd.fromArray(t,i);const n=r.x*Math.abs(xd.x)+r.y*Math.abs(xd.y)+r.z*Math.abs(xd.z),d=e.dot(xd),c=a.dot(xd),l=o.dot(xd);if(Math.max(-Math.max(d,c,l),Math.min(d,c,l))>n)return!1}return!0}const Rne=new _h,KC=new ne,pv=new ne,__=new ne;class bf{constructor(e=new ne,a=-1){this.center=e,this.radius=a}set(e,a){return this.center.copy(e),this.radius=a,this}setFromPoints(e,a){const o=this.center;a!==void 0?o.copy(a):Rne.setFromPoints(e).getCenter(o);let r=0;for(let i=0,s=e.length;i<s;i++)r=Math.max(r,o.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const a=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=a*a}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,a){const o=this.center.distanceToSquared(e);return a.copy(e),o>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){__.subVectors(e,this.center);const a=__.lengthSq();if(a>this.radius*this.radius){const o=Math.sqrt(a),r=(o-this.radius)*.5;this.center.add(__.multiplyScalar(r/o)),this.radius+=r}return this}union(e){return this.center.equals(e.center)===!0?pv.set(0,0,1).multiplyScalar(e.radius):pv.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(KC.copy(e.center).add(pv)),this.expandByPoint(KC.copy(e.center).sub(pv)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ms=new ne,x_=new ne,fv=new ne,fn=new ne,w_=new ne,hv=new ne,S_=new ne;class One{constructor(e=new ne,a=new ne(0,0,-1)){this.origin=e,this.direction=a}set(e,a){return this.origin.copy(e),this.direction.copy(a),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,a){return a.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ms)),this}closestPointToPoint(e,a){a.subVectors(e,this.origin);const o=a.dot(this.direction);return o<0?a.copy(this.origin):a.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const a=ms.subVectors(e,this.origin).dot(this.direction);return a<0?this.origin.distanceToSquared(e):(ms.copy(this.direction).multiplyScalar(a).add(this.origin),ms.distanceToSquared(e))}distanceSqToSegment(e,a,o,r){x_.copy(e).add(a).multiplyScalar(.5),fv.copy(a).sub(e).normalize(),fn.copy(this.origin).sub(x_);const i=e.distanceTo(a)*.5,s=-this.direction.dot(fv),n=fn.dot(this.direction),d=-fn.dot(fv),c=fn.lengthSq(),l=Math.abs(1-s*s);let m,u,v,g;if(l>0)if(m=s*d-n,u=s*n-d,g=i*l,m>=0)if(u>=-g)if(u<=g){const f=1/l;m*=f,u*=f,v=m*(m+s*u+2*n)+u*(s*m+u+2*d)+c}else u=i,m=Math.max(0,-(s*u+n)),v=-m*m+u*(u+2*d)+c;else u=-i,m=Math.max(0,-(s*u+n)),v=-m*m+u*(u+2*d)+c;else u<=-g?(m=Math.max(0,-(-s*i+n)),u=m>0?-i:Math.min(Math.max(-i,-d),i),v=-m*m+u*(u+2*d)+c):u<=g?(m=0,u=Math.min(Math.max(-i,-d),i),v=u*(u+2*d)+c):(m=Math.max(0,-(s*i+n)),u=m>0?i:Math.min(Math.max(-i,-d),i),v=-m*m+u*(u+2*d)+c);else u=s>0?-i:i,m=Math.max(0,-(s*u+n)),v=-m*m+u*(u+2*d)+c;return o&&o.copy(this.direction).multiplyScalar(m).add(this.origin),r&&r.copy(fv).multiplyScalar(u).add(x_),v}intersectSphere(e,a){ms.subVectors(e.center,this.origin);const o=ms.dot(this.direction),r=ms.dot(ms)-o*o,i=e.radius*e.radius;if(r>i)return null;const s=Math.sqrt(i-r),n=o-s,d=o+s;return n<0&&d<0?null:n<0?this.at(d,a):this.at(n,a)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const a=e.normal.dot(this.direction);if(a===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/a;return o>=0?o:null}intersectPlane(e,a){const o=this.distanceToPlane(e);return o===null?null:this.at(o,a)}intersectsPlane(e){const a=e.distanceToPoint(this.origin);return a===0||e.normal.dot(this.direction)*a<0}intersectBox(e,a){let o,r,i,s,n,d;const c=1/this.direction.x,l=1/this.direction.y,m=1/this.direction.z,u=this.origin;return c>=0?(o=(e.min.x-u.x)*c,r=(e.max.x-u.x)*c):(o=(e.max.x-u.x)*c,r=(e.min.x-u.x)*c),l>=0?(i=(e.min.y-u.y)*l,s=(e.max.y-u.y)*l):(i=(e.max.y-u.y)*l,s=(e.min.y-u.y)*l),o>s||i>r||((i>o||o!==o)&&(o=i),(s<r||r!==r)&&(r=s),m>=0?(n=(e.min.z-u.z)*m,d=(e.max.z-u.z)*m):(n=(e.max.z-u.z)*m,d=(e.min.z-u.z)*m),o>d||n>r)||((n>o||o!==o)&&(o=n),(d<r||r!==r)&&(r=d),r<0)?null:this.at(o>=0?o:r,a)}intersectsBox(e){return this.intersectBox(e,ms)!==null}intersectTriangle(e,a,o,r,i){w_.subVectors(a,e),hv.subVectors(o,e),S_.crossVectors(w_,hv);let s=this.direction.dot(S_),n;if(s>0){if(r)return null;n=1}else if(s<0)n=-1,s=-s;else return null;fn.subVectors(this.origin,e);const d=n*this.direction.dot(hv.crossVectors(fn,hv));if(d<0)return null;const c=n*this.direction.dot(w_.cross(fn));if(c<0||d+c>s)return null;const l=-n*fn.dot(S_);return l<0?null:this.at(l/s,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xa{constructor(){Xa.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,a,o,r,i,s,n,d,c,l,m,u,v,g,f,p){const h=this.elements;return h[0]=e,h[4]=a,h[8]=o,h[12]=r,h[1]=i,h[5]=s,h[9]=n,h[13]=d,h[2]=c,h[6]=l,h[10]=m,h[14]=u,h[3]=v,h[7]=g,h[11]=f,h[15]=p,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xa().fromArray(this.elements)}copy(e){const a=this.elements,o=e.elements;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],this}copyPosition(e){const a=this.elements,o=e.elements;return a[12]=o[12],a[13]=o[13],a[14]=o[14],this}setFromMatrix3(e){const a=e.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(e,a,o){return e.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,a,o){return this.set(e.x,a.x,o.x,0,e.y,a.y,o.y,0,e.z,a.z,o.z,0,0,0,0,1),this}extractRotation(e){const a=this.elements,o=e.elements,r=1/Yc.setFromMatrixColumn(e,0).length(),i=1/Yc.setFromMatrixColumn(e,1).length(),s=1/Yc.setFromMatrixColumn(e,2).length();return a[0]=o[0]*r,a[1]=o[1]*r,a[2]=o[2]*r,a[3]=0,a[4]=o[4]*i,a[5]=o[5]*i,a[6]=o[6]*i,a[7]=0,a[8]=o[8]*s,a[9]=o[9]*s,a[10]=o[10]*s,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(e){const a=this.elements,o=e.x,r=e.y,i=e.z,s=Math.cos(o),n=Math.sin(o),d=Math.cos(r),c=Math.sin(r),l=Math.cos(i),m=Math.sin(i);if(e.order==="XYZ"){const u=s*l,v=s*m,g=n*l,f=n*m;a[0]=d*l,a[4]=-d*m,a[8]=c,a[1]=v+g*c,a[5]=u-f*c,a[9]=-n*d,a[2]=f-u*c,a[6]=g+v*c,a[10]=s*d}else if(e.order==="YXZ"){const u=d*l,v=d*m,g=c*l,f=c*m;a[0]=u+f*n,a[4]=g*n-v,a[8]=s*c,a[1]=s*m,a[5]=s*l,a[9]=-n,a[2]=v*n-g,a[6]=f+u*n,a[10]=s*d}else if(e.order==="ZXY"){const u=d*l,v=d*m,g=c*l,f=c*m;a[0]=u-f*n,a[4]=-s*m,a[8]=g+v*n,a[1]=v+g*n,a[5]=s*l,a[9]=f-u*n,a[2]=-s*c,a[6]=n,a[10]=s*d}else if(e.order==="ZYX"){const u=s*l,v=s*m,g=n*l,f=n*m;a[0]=d*l,a[4]=g*c-v,a[8]=u*c+f,a[1]=d*m,a[5]=f*c+u,a[9]=v*c-g,a[2]=-c,a[6]=n*d,a[10]=s*d}else if(e.order==="YZX"){const u=s*d,v=s*c,g=n*d,f=n*c;a[0]=d*l,a[4]=f-u*m,a[8]=g*m+v,a[1]=m,a[5]=s*l,a[9]=-n*l,a[2]=-c*l,a[6]=v*m+g,a[10]=u-f*m}else if(e.order==="XZY"){const u=s*d,v=s*c,g=n*d,f=n*c;a[0]=d*l,a[4]=-m,a[8]=c*l,a[1]=u*m+f,a[5]=s*l,a[9]=v*m-g,a[2]=g*m-v,a[6]=n*l,a[10]=f*m+u}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ine,e,Dne)}lookAt(e,a,o){const r=this.elements;return tr.subVectors(e,a),tr.lengthSq()===0&&(tr.z=1),tr.normalize(),hn.crossVectors(o,tr),hn.lengthSq()===0&&(Math.abs(o.z)===1?tr.x+=1e-4:tr.z+=1e-4,tr.normalize(),hn.crossVectors(o,tr)),hn.normalize(),vv.crossVectors(tr,hn),r[0]=hn.x,r[4]=vv.x,r[8]=tr.x,r[1]=hn.y,r[5]=vv.y,r[9]=tr.y,r[2]=hn.z,r[6]=vv.z,r[10]=tr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,a){const o=e.elements,r=a.elements,i=this.elements,s=o[0],n=o[4],d=o[8],c=o[12],l=o[1],m=o[5],u=o[9],v=o[13],g=o[2],f=o[6],p=o[10],h=o[14],y=o[3],b=o[7],_=o[11],S=o[15],x=r[0],w=r[4],A=r[8],T=r[12],O=r[1],I=r[5],U=r[9],B=r[13],N=r[2],z=r[6],$=r[10],Y=r[14],F=r[3],V=r[7],Z=r[11],se=r[15];return i[0]=s*x+n*O+d*N+c*F,i[4]=s*w+n*I+d*z+c*V,i[8]=s*A+n*U+d*$+c*Z,i[12]=s*T+n*B+d*Y+c*se,i[1]=l*x+m*O+u*N+v*F,i[5]=l*w+m*I+u*z+v*V,i[9]=l*A+m*U+u*$+v*Z,i[13]=l*T+m*B+u*Y+v*se,i[2]=g*x+f*O+p*N+h*F,i[6]=g*w+f*I+p*z+h*V,i[10]=g*A+f*U+p*$+h*Z,i[14]=g*T+f*B+p*Y+h*se,i[3]=y*x+b*O+_*N+S*F,i[7]=y*w+b*I+_*z+S*V,i[11]=y*A+b*U+_*$+S*Z,i[15]=y*T+b*B+_*Y+S*se,this}multiplyScalar(e){const a=this.elements;return a[0]*=e,a[4]*=e,a[8]*=e,a[12]*=e,a[1]*=e,a[5]*=e,a[9]*=e,a[13]*=e,a[2]*=e,a[6]*=e,a[10]*=e,a[14]*=e,a[3]*=e,a[7]*=e,a[11]*=e,a[15]*=e,this}determinant(){const e=this.elements,a=e[0],o=e[4],r=e[8],i=e[12],s=e[1],n=e[5],d=e[9],c=e[13],l=e[2],m=e[6],u=e[10],v=e[14],g=e[3],f=e[7],p=e[11],h=e[15];return g*(+i*d*m-r*c*m-i*n*u+o*c*u+r*n*v-o*d*v)+f*(+a*d*v-a*c*u+i*s*u-r*s*v+r*c*l-i*d*l)+p*(+a*c*m-a*n*v-i*s*m+o*s*v+i*n*l-o*c*l)+h*(-r*n*l-a*d*m+a*n*u+r*s*m-o*s*u+o*d*l)}transpose(){const e=this.elements;let a;return a=e[1],e[1]=e[4],e[4]=a,a=e[2],e[2]=e[8],e[8]=a,a=e[6],e[6]=e[9],e[9]=a,a=e[3],e[3]=e[12],e[12]=a,a=e[7],e[7]=e[13],e[13]=a,a=e[11],e[11]=e[14],e[14]=a,this}setPosition(e,a,o){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=a,r[14]=o),this}invert(){const e=this.elements,a=e[0],o=e[1],r=e[2],i=e[3],s=e[4],n=e[5],d=e[6],c=e[7],l=e[8],m=e[9],u=e[10],v=e[11],g=e[12],f=e[13],p=e[14],h=e[15],y=m*p*c-f*u*c+f*d*v-n*p*v-m*d*h+n*u*h,b=g*u*c-l*p*c-g*d*v+s*p*v+l*d*h-s*u*h,_=l*f*c-g*m*c+g*n*v-s*f*v-l*n*h+s*m*h,S=g*m*d-l*f*d-g*n*u+s*f*u+l*n*p-s*m*p,x=a*y+o*b+r*_+i*S;if(x===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=y*w,e[1]=(f*u*i-m*p*i-f*r*v+o*p*v+m*r*h-o*u*h)*w,e[2]=(n*p*i-f*d*i+f*r*c-o*p*c-n*r*h+o*d*h)*w,e[3]=(m*d*i-n*u*i-m*r*c+o*u*c+n*r*v-o*d*v)*w,e[4]=b*w,e[5]=(l*p*i-g*u*i+g*r*v-a*p*v-l*r*h+a*u*h)*w,e[6]=(g*d*i-s*p*i-g*r*c+a*p*c+s*r*h-a*d*h)*w,e[7]=(s*u*i-l*d*i+l*r*c-a*u*c-s*r*v+a*d*v)*w,e[8]=_*w,e[9]=(g*m*i-l*f*i-g*o*v+a*f*v+l*o*h-a*m*h)*w,e[10]=(s*f*i-g*n*i+g*o*c-a*f*c-s*o*h+a*n*h)*w,e[11]=(l*n*i-s*m*i-l*o*c+a*m*c+s*o*v-a*n*v)*w,e[12]=S*w,e[13]=(l*f*r-g*m*r+g*o*u-a*f*u-l*o*p+a*m*p)*w,e[14]=(g*n*r-s*f*r-g*o*d+a*f*d+s*o*p-a*n*p)*w,e[15]=(s*m*r-l*n*r+l*o*d-a*m*d-s*o*u+a*n*u)*w,this}scale(e){const a=this.elements,o=e.x,r=e.y,i=e.z;return a[0]*=o,a[4]*=r,a[8]*=i,a[1]*=o,a[5]*=r,a[9]*=i,a[2]*=o,a[6]*=r,a[10]*=i,a[3]*=o,a[7]*=r,a[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(a,o,r))}makeTranslation(e,a,o){return this.set(1,0,0,e,0,1,0,a,0,0,1,o,0,0,0,1),this}makeRotationX(e){const a=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,a,-o,0,0,o,a,0,0,0,0,1),this}makeRotationY(e){const a=Math.cos(e),o=Math.sin(e);return this.set(a,0,o,0,0,1,0,0,-o,0,a,0,0,0,0,1),this}makeRotationZ(e){const a=Math.cos(e),o=Math.sin(e);return this.set(a,-o,0,0,o,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,a){const o=Math.cos(a),r=Math.sin(a),i=1-o,s=e.x,n=e.y,d=e.z,c=i*s,l=i*n;return this.set(c*s+o,c*n-r*d,c*d+r*n,0,c*n+r*d,l*n+o,l*d-r*s,0,c*d-r*n,l*d+r*s,i*d*d+o,0,0,0,0,1),this}makeScale(e,a,o){return this.set(e,0,0,0,0,a,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,a,o,r,i,s){return this.set(1,o,i,0,e,1,s,0,a,r,1,0,0,0,0,1),this}compose(e,a,o){const r=this.elements,i=a._x,s=a._y,n=a._z,d=a._w,c=i+i,l=s+s,m=n+n,u=i*c,v=i*l,g=i*m,f=s*l,p=s*m,h=n*m,y=d*c,b=d*l,_=d*m,S=o.x,x=o.y,w=o.z;return r[0]=(1-(f+h))*S,r[1]=(v+_)*S,r[2]=(g-b)*S,r[3]=0,r[4]=(v-_)*x,r[5]=(1-(u+h))*x,r[6]=(p+y)*x,r[7]=0,r[8]=(g+b)*w,r[9]=(p-y)*w,r[10]=(1-(u+f))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,a,o){const r=this.elements;let i=Yc.set(r[0],r[1],r[2]).length();const s=Yc.set(r[4],r[5],r[6]).length(),n=Yc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ri.copy(this);const d=1/i,c=1/s,l=1/n;return ri.elements[0]*=d,ri.elements[1]*=d,ri.elements[2]*=d,ri.elements[4]*=c,ri.elements[5]*=c,ri.elements[6]*=c,ri.elements[8]*=l,ri.elements[9]*=l,ri.elements[10]*=l,a.setFromRotationMatrix(ri),o.x=i,o.y=s,o.z=n,this}makePerspective(e,a,o,r,i,s){const n=this.elements,d=2*i/(a-e),c=2*i/(o-r),l=(a+e)/(a-e),m=(o+r)/(o-r),u=-(s+i)/(s-i),v=-2*s*i/(s-i);return n[0]=d,n[4]=0,n[8]=l,n[12]=0,n[1]=0,n[5]=c,n[9]=m,n[13]=0,n[2]=0,n[6]=0,n[10]=u,n[14]=v,n[3]=0,n[7]=0,n[11]=-1,n[15]=0,this}makeOrthographic(e,a,o,r,i,s){const n=this.elements,d=1/(a-e),c=1/(o-r),l=1/(s-i),m=(a+e)*d,u=(o+r)*c,v=(s+i)*l;return n[0]=2*d,n[4]=0,n[8]=0,n[12]=-m,n[1]=0,n[5]=2*c,n[9]=0,n[13]=-u,n[2]=0,n[6]=0,n[10]=-2*l,n[14]=-v,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this}equals(e){const a=this.elements,o=e.elements;for(let r=0;r<16;r++)if(a[r]!==o[r])return!1;return!0}fromArray(e,a=0){for(let o=0;o<16;o++)this.elements[o]=e[o+a];return this}toArray(e=[],a=0){const o=this.elements;return e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2],e[a+3]=o[3],e[a+4]=o[4],e[a+5]=o[5],e[a+6]=o[6],e[a+7]=o[7],e[a+8]=o[8],e[a+9]=o[9],e[a+10]=o[10],e[a+11]=o[11],e[a+12]=o[12],e[a+13]=o[13],e[a+14]=o[14],e[a+15]=o[15],e}}const Yc=new ne,ri=new Xa,Ine=new ne(0,0,0),Dne=new ne(1,1,1),hn=new ne,vv=new ne,tr=new ne,QC=new Xa,XC=new bh;class xh{constructor(e=0,a=0,o=0,r=xh.DefaultOrder){this.isEuler=!0,this._x=e,this._y=a,this._z=o,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,a,o,r=this._order){return this._x=e,this._y=a,this._z=o,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,a=this._order,o=!0){const r=e.elements,i=r[0],s=r[4],n=r[8],d=r[1],c=r[5],l=r[9],m=r[2],u=r[6],v=r[10];switch(a){case"XYZ":this._y=Math.asin(rr(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(-l,v),this._z=Math.atan2(-s,i)):(this._x=Math.atan2(u,c),this._z=0);break;case"YXZ":this._x=Math.asin(-rr(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(n,v),this._z=Math.atan2(d,c)):(this._y=Math.atan2(-m,i),this._z=0);break;case"ZXY":this._x=Math.asin(rr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-m,v),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(d,i));break;case"ZYX":this._y=Math.asin(-rr(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(u,v),this._z=Math.atan2(d,i)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(rr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-m,i)):(this._x=0,this._y=Math.atan2(n,v));break;case"XZY":this._z=Math.asin(-rr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(u,c),this._y=Math.atan2(n,i)):(this._x=Math.atan2(-l,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+a)}return this._order=a,o===!0&&this._onChangeCallback(),this}setFromQuaternion(e,a,o){return QC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(QC,a,o)}setFromVector3(e,a=this._order){return this.set(e.x,e.y,e.z,a)}reorder(e){return XC.setFromEuler(this),this.setFromQuaternion(XC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],a=0){return e[a]=this._x,e[a+1]=this._y,e[a+2]=this._z,e[a+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}xh.DefaultOrder="XYZ";xh.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class jP{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let qne=0;const JC=new ne,Zc=new bh,ps=new Xa,gv=new ne,Nm=new ne,Pne=new ne,Lne=new bh,e4=new ne(1,0,0),t4=new ne(0,1,0),a4=new ne(0,0,1),Nne={type:"added"},o4={type:"removed"};class qo extends tm{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:qne++}),this.uuid=yh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qo.DefaultUp.clone();const e=new ne,a=new xh,o=new bh,r=new ne(1,1,1);function i(){o.setFromEuler(a,!1)}function s(){a.setFromQuaternion(o,void 0,!1)}a._onChange(i),o._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Xa},normalMatrix:{value:new Br}}),this.matrix=new Xa,this.matrixWorld=new Xa,this.matrixAutoUpdate=qo.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new jP,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,a){this.quaternion.setFromAxisAngle(e,a)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,a){return Zc.setFromAxisAngle(e,a),this.quaternion.multiply(Zc),this}rotateOnWorldAxis(e,a){return Zc.setFromAxisAngle(e,a),this.quaternion.premultiply(Zc),this}rotateX(e){return this.rotateOnAxis(e4,e)}rotateY(e){return this.rotateOnAxis(t4,e)}rotateZ(e){return this.rotateOnAxis(a4,e)}translateOnAxis(e,a){return JC.copy(e).applyQuaternion(this.quaternion),this.position.add(JC.multiplyScalar(a)),this}translateX(e){return this.translateOnAxis(e4,e)}translateY(e){return this.translateOnAxis(t4,e)}translateZ(e){return this.translateOnAxis(a4,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ps.copy(this.matrixWorld).invert())}lookAt(e,a,o){e.isVector3?gv.copy(e):gv.set(e,a,o);const r=this.parent;this.updateWorldMatrix(!0,!1),Nm.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ps.lookAt(Nm,gv,this.up):ps.lookAt(gv,Nm,this.up),this.quaternion.setFromRotationMatrix(ps),r&&(ps.extractRotation(r.matrixWorld),Zc.setFromRotationMatrix(ps),this.quaternion.premultiply(Zc.invert()))}add(e){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Nne)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const a=this.children.indexOf(e);return a!==-1&&(e.parent=null,this.children.splice(a,1),e.dispatchEvent(o4)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const a=this.children[e];a.parent=null,a.dispatchEvent(o4)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ps.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ps.multiply(e.parent.matrixWorld)),e.applyMatrix4(ps),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,a){if(this[e]===a)return this;for(let o=0,r=this.children.length;o<r;o++){const i=this.children[o].getObjectByProperty(e,a);if(i!==void 0)return i}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nm,e,Pne),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Nm,Lne,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return e.set(a[8],a[9],a[10]).normalize()}raycast(){}traverse(e){e(this);const a=this.children;for(let o=0,r=a.length;o<r;o++)a[o].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const a=this.children;for(let o=0,r=a.length;o<r;o++)a[o].traverseVisible(e)}traverseAncestors(e){const a=this.parent;a!==null&&(e(a),a.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const a=this.children;for(let o=0,r=a.length;o<r;o++)a[o].updateMatrixWorld(e)}updateWorldMatrix(e,a){const o=this.parent;if(e===!0&&o!==null&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),a===!0){const r=this.children;for(let i=0,s=r.length;i<s;i++)r[i].updateWorldMatrix(!1,!0)}}toJSON(e){const a=e===void 0||typeof e=="string",o={};a&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function i(n,d){return n[d.uuid]===void 0&&(n[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const n=this.geometry.parameters;if(n!==void 0&&n.shapes!==void 0){const d=n.shapes;if(Array.isArray(d))for(let c=0,l=d.length;c<l;c++){const m=d[c];i(e.shapes,m)}else i(e.shapes,d)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const n=[];for(let d=0,c=this.material.length;d<c;d++)n.push(i(e.materials,this.material[d]));r.material=n}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let n=0;n<this.children.length;n++)r.children.push(this.children[n].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let n=0;n<this.animations.length;n++){const d=this.animations[n];r.animations.push(i(e.animations,d))}}if(a){const n=s(e.geometries),d=s(e.materials),c=s(e.textures),l=s(e.images),m=s(e.shapes),u=s(e.skeletons),v=s(e.animations),g=s(e.nodes);n.length>0&&(o.geometries=n),d.length>0&&(o.materials=d),c.length>0&&(o.textures=c),l.length>0&&(o.images=l),m.length>0&&(o.shapes=m),u.length>0&&(o.skeletons=u),v.length>0&&(o.animations=v),g.length>0&&(o.nodes=g)}return o.object=r,o;function s(n){const d=[];for(const c in n){const l=n[c];delete l.metadata,d.push(l)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,a=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),a===!0)for(let o=0;o<e.children.length;o++){const r=e.children[o];this.add(r.clone())}return this}}qo.DefaultUp=new ne(0,1,0);qo.DefaultMatrixAutoUpdate=!0;const ii=new ne,fs=new ne,A_=new ne,hs=new ne,Kc=new ne,Qc=new ne,r4=new ne,E_=new ne,M_=new ne,T_=new ne;class Ts{constructor(e=new ne,a=new ne,o=new ne){this.a=e,this.b=a,this.c=o}static getNormal(e,a,o,r){r.subVectors(o,a),ii.subVectors(e,a),r.cross(ii);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,a,o,r,i){ii.subVectors(r,a),fs.subVectors(o,a),A_.subVectors(e,a);const s=ii.dot(ii),n=ii.dot(fs),d=ii.dot(A_),c=fs.dot(fs),l=fs.dot(A_),m=s*c-n*n;if(m===0)return i.set(-2,-1,-1);const u=1/m,v=(c*d-n*l)*u,g=(s*l-n*d)*u;return i.set(1-v-g,g,v)}static containsPoint(e,a,o,r){return this.getBarycoord(e,a,o,r,hs),hs.x>=0&&hs.y>=0&&hs.x+hs.y<=1}static getUV(e,a,o,r,i,s,n,d){return this.getBarycoord(e,a,o,r,hs),d.set(0,0),d.addScaledVector(i,hs.x),d.addScaledVector(s,hs.y),d.addScaledVector(n,hs.z),d}static isFrontFacing(e,a,o,r){return ii.subVectors(o,a),fs.subVectors(e,a),ii.cross(fs).dot(r)<0}set(e,a,o){return this.a.copy(e),this.b.copy(a),this.c.copy(o),this}setFromPointsAndIndices(e,a,o,r){return this.a.copy(e[a]),this.b.copy(e[o]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,a,o,r){return this.a.fromBufferAttribute(e,a),this.b.fromBufferAttribute(e,o),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ii.subVectors(this.c,this.b),fs.subVectors(this.a,this.b),ii.cross(fs).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ts.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,a){return Ts.getBarycoord(e,this.a,this.b,this.c,a)}getUV(e,a,o,r,i){return Ts.getUV(e,this.a,this.b,this.c,a,o,r,i)}containsPoint(e){return Ts.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ts.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,a){const o=this.a,r=this.b,i=this.c;let s,n;Kc.subVectors(r,o),Qc.subVectors(i,o),E_.subVectors(e,o);const d=Kc.dot(E_),c=Qc.dot(E_);if(d<=0&&c<=0)return a.copy(o);M_.subVectors(e,r);const l=Kc.dot(M_),m=Qc.dot(M_);if(l>=0&&m<=l)return a.copy(r);const u=d*m-l*c;if(u<=0&&d>=0&&l<=0)return s=d/(d-l),a.copy(o).addScaledVector(Kc,s);T_.subVectors(e,i);const v=Kc.dot(T_),g=Qc.dot(T_);if(g>=0&&v<=g)return a.copy(i);const f=v*c-d*g;if(f<=0&&c>=0&&g<=0)return n=c/(c-g),a.copy(o).addScaledVector(Qc,n);const p=l*g-v*m;if(p<=0&&m-l>=0&&v-g>=0)return r4.subVectors(i,r),n=(m-l)/(m-l+(v-g)),a.copy(r).addScaledVector(r4,n);const h=1/(p+f+u);return s=f*h,n=u*h,a.copy(o).addScaledVector(Kc,s).addScaledVector(Qc,n)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let jne=0;class qc extends tm{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:jne++}),this.uuid=yh(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const a in e){const o=e[a];if(o===void 0){console.warn("THREE.Material: '"+a+"' parameter is undefined.");continue}if(a==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=o===1;continue}const r=this[a];if(r===void 0){console.warn("THREE."+this.type+": '"+a+"' is not a property of this material.");continue}r&&r.isColor?r.set(o):r&&r.isVector3&&o&&o.isVector3?r.copy(o):this[a]=o}}toJSON(e){const a=e===void 0||typeof e=="string";a&&(e={textures:{},images:{}});const o={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(o.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(o.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(o.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(o.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(e).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(e).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(e).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(e).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(e).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(o.blending=this.blending),this.side!==0&&(o.side=this.side),this.vertexColors&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.transparent===!0&&(o.transparent=this.transparent),o.depthFunc=this.depthFunc,o.depthTest=this.depthTest,o.depthWrite=this.depthWrite,o.colorWrite=this.colorWrite,o.stencilWrite=this.stencilWrite,o.stencilWriteMask=this.stencilWriteMask,o.stencilFunc=this.stencilFunc,o.stencilRef=this.stencilRef,o.stencilFuncMask=this.stencilFuncMask,o.stencilFail=this.stencilFail,o.stencilZFail=this.stencilZFail,o.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(o.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(o.wireframe=this.wireframe),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=this.flatShading),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),this.fog===!1&&(o.fog=!1),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData);function r(i){const s=[];for(const n in i){const d=i[n];delete d.metadata,s.push(d)}return s}if(a){const i=r(e.textures),s=r(e.images);i.length>0&&(o.textures=i),s.length>0&&(o.images=s)}return o}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const a=e.clippingPlanes;let o=null;if(a!==null){const r=a.length;o=new Array(r);for(let i=0;i!==r;++i)o[i]=a[i].clone()}return this.clippingPlanes=o,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class FP extends qc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const za=new ne,yv=new Nt;class Ji{constructor(e,a,o){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=a,this.count=e!==void 0?e.length/a:0,this.normalized=o===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,a,o){e*=this.itemSize,o*=a.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=a.array[o+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),s=new Lt),a[o++]=s.r,a[o++]=s.g,a[o++]=s.b}return this}copyVector2sArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),s=new Nt),a[o++]=s.x,a[o++]=s.y}return this}copyVector3sArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),s=new ne),a[o++]=s.x,a[o++]=s.y,a[o++]=s.z}return this}copyVector4sArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let s=e[r];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),s=new Qa),a[o++]=s.x,a[o++]=s.y,a[o++]=s.z,a[o++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let a=0,o=this.count;a<o;a++)yv.fromBufferAttribute(this,a),yv.applyMatrix3(e),this.setXY(a,yv.x,yv.y);else if(this.itemSize===3)for(let a=0,o=this.count;a<o;a++)za.fromBufferAttribute(this,a),za.applyMatrix3(e),this.setXYZ(a,za.x,za.y,za.z);return this}applyMatrix4(e){for(let a=0,o=this.count;a<o;a++)za.fromBufferAttribute(this,a),za.applyMatrix4(e),this.setXYZ(a,za.x,za.y,za.z);return this}applyNormalMatrix(e){for(let a=0,o=this.count;a<o;a++)za.fromBufferAttribute(this,a),za.applyNormalMatrix(e),this.setXYZ(a,za.x,za.y,za.z);return this}transformDirection(e){for(let a=0,o=this.count;a<o;a++)za.fromBufferAttribute(this,a),za.transformDirection(e),this.setXYZ(a,za.x,za.y,za.z);return this}set(e,a=0){return this.array.set(e,a),this}getX(e){return this.array[e*this.itemSize]}setX(e,a){return this.array[e*this.itemSize]=a,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,a){return this.array[e*this.itemSize+1]=a,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,a){return this.array[e*this.itemSize+2]=a,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,a){return this.array[e*this.itemSize+3]=a,this}setXY(e,a,o){return e*=this.itemSize,this.array[e+0]=a,this.array[e+1]=o,this}setXYZ(e,a,o,r){return e*=this.itemSize,this.array[e+0]=a,this.array[e+1]=o,this.array[e+2]=r,this}setXYZW(e,a,o,r,i){return e*=this.itemSize,this.array[e+0]=a,this.array[e+1]=o,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==35044&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class zP extends Ji{constructor(e,a,o){super(new Uint16Array(e),a,o)}}class BP extends Ji{constructor(e,a,o){super(new Uint32Array(e),a,o)}}class _o extends Ji{constructor(e,a,o){super(new Float32Array(e),a,o)}}let Fne=0;const Tr=new Xa,C_=new qo,Xc=new ne,ar=new _h,jm=new _h,Ja=new ne;class as extends tm{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Fne++}),this.uuid=yh(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(DP(e)?BP:zP)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,a){return this.attributes[e]=a,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,a,o=0){this.groups.push({start:e,count:a,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(e,a){this.drawRange.start=e,this.drawRange.count=a}applyMatrix4(e){const a=this.attributes.position;a!==void 0&&(a.applyMatrix4(e),a.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const i=new Br().getNormalMatrix(e);o.applyNormalMatrix(i),o.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Tr.makeRotationFromQuaternion(e),this.applyMatrix4(Tr),this}rotateX(e){return Tr.makeRotationX(e),this.applyMatrix4(Tr),this}rotateY(e){return Tr.makeRotationY(e),this.applyMatrix4(Tr),this}rotateZ(e){return Tr.makeRotationZ(e),this.applyMatrix4(Tr),this}translate(e,a,o){return Tr.makeTranslation(e,a,o),this.applyMatrix4(Tr),this}scale(e,a,o){return Tr.makeScale(e,a,o),this.applyMatrix4(Tr),this}lookAt(e){return C_.lookAt(e),C_.updateMatrix(),this.applyMatrix4(C_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xc).negate(),this.translate(Xc.x,Xc.y,Xc.z),this}setFromPoints(e){const a=[];for(let o=0,r=e.length;o<r;o++){const i=e[o];a.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new _o(a,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _h);const e=this.attributes.position,a=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),a)for(let o=0,r=a.length;o<r;o++){const i=a[o];ar.setFromBufferAttribute(i),this.morphTargetsRelative?(Ja.addVectors(this.boundingBox.min,ar.min),this.boundingBox.expandByPoint(Ja),Ja.addVectors(this.boundingBox.max,ar.max),this.boundingBox.expandByPoint(Ja)):(this.boundingBox.expandByPoint(ar.min),this.boundingBox.expandByPoint(ar.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new bf);const e=this.attributes.position,a=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){const o=this.boundingSphere.center;if(ar.setFromBufferAttribute(e),a)for(let i=0,s=a.length;i<s;i++){const n=a[i];jm.setFromBufferAttribute(n),this.morphTargetsRelative?(Ja.addVectors(ar.min,jm.min),ar.expandByPoint(Ja),Ja.addVectors(ar.max,jm.max),ar.expandByPoint(Ja)):(ar.expandByPoint(jm.min),ar.expandByPoint(jm.max))}ar.getCenter(o);let r=0;for(let i=0,s=e.count;i<s;i++)Ja.fromBufferAttribute(e,i),r=Math.max(r,o.distanceToSquared(Ja));if(a)for(let i=0,s=a.length;i<s;i++){const n=a[i],d=this.morphTargetsRelative;for(let c=0,l=n.count;c<l;c++)Ja.fromBufferAttribute(n,c),d&&(Xc.fromBufferAttribute(e,c),Ja.add(Xc)),r=Math.max(r,o.distanceToSquared(Ja))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,a=this.attributes;if(e===null||a.position===void 0||a.normal===void 0||a.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=e.array,r=a.position.array,i=a.normal.array,s=a.uv.array,n=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Ji(new Float32Array(4*n),4));const d=this.getAttribute("tangent").array,c=[],l=[];for(let O=0;O<n;O++)c[O]=new ne,l[O]=new ne;const m=new ne,u=new ne,v=new ne,g=new Nt,f=new Nt,p=new Nt,h=new ne,y=new ne;function b(O,I,U){m.fromArray(r,O*3),u.fromArray(r,I*3),v.fromArray(r,U*3),g.fromArray(s,O*2),f.fromArray(s,I*2),p.fromArray(s,U*2),u.sub(m),v.sub(m),f.sub(g),p.sub(g);const B=1/(f.x*p.y-p.x*f.y);!isFinite(B)||(h.copy(u).multiplyScalar(p.y).addScaledVector(v,-f.y).multiplyScalar(B),y.copy(v).multiplyScalar(f.x).addScaledVector(u,-p.x).multiplyScalar(B),c[O].add(h),c[I].add(h),c[U].add(h),l[O].add(y),l[I].add(y),l[U].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:o.length}]);for(let O=0,I=_.length;O<I;++O){const U=_[O],B=U.start,N=U.count;for(let z=B,$=B+N;z<$;z+=3)b(o[z+0],o[z+1],o[z+2])}const S=new ne,x=new ne,w=new ne,A=new ne;function T(O){w.fromArray(i,O*3),A.copy(w);const I=c[O];S.copy(I),S.sub(w.multiplyScalar(w.dot(I))).normalize(),x.crossVectors(A,I);const U=x.dot(l[O])<0?-1:1;d[O*4]=S.x,d[O*4+1]=S.y,d[O*4+2]=S.z,d[O*4+3]=U}for(let O=0,I=_.length;O<I;++O){const U=_[O],B=U.start,N=U.count;for(let z=B,$=B+N;z<$;z+=3)T(o[z+0]),T(o[z+1]),T(o[z+2])}}computeVertexNormals(){const e=this.index,a=this.getAttribute("position");if(a!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new Ji(new Float32Array(a.count*3),3),this.setAttribute("normal",o);else for(let u=0,v=o.count;u<v;u++)o.setXYZ(u,0,0,0);const r=new ne,i=new ne,s=new ne,n=new ne,d=new ne,c=new ne,l=new ne,m=new ne;if(e)for(let u=0,v=e.count;u<v;u+=3){const g=e.getX(u+0),f=e.getX(u+1),p=e.getX(u+2);r.fromBufferAttribute(a,g),i.fromBufferAttribute(a,f),s.fromBufferAttribute(a,p),l.subVectors(s,i),m.subVectors(r,i),l.cross(m),n.fromBufferAttribute(o,g),d.fromBufferAttribute(o,f),c.fromBufferAttribute(o,p),n.add(l),d.add(l),c.add(l),o.setXYZ(g,n.x,n.y,n.z),o.setXYZ(f,d.x,d.y,d.z),o.setXYZ(p,c.x,c.y,c.z)}else for(let u=0,v=a.count;u<v;u+=3)r.fromBufferAttribute(a,u+0),i.fromBufferAttribute(a,u+1),s.fromBufferAttribute(a,u+2),l.subVectors(s,i),m.subVectors(r,i),l.cross(m),o.setXYZ(u+0,l.x,l.y,l.z),o.setXYZ(u+1,l.x,l.y,l.z),o.setXYZ(u+2,l.x,l.y,l.z);this.normalizeNormals(),o.needsUpdate=!0}}merge(e,a){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}a===void 0&&(a=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const o=this.attributes;for(const r in o){if(e.attributes[r]===void 0)continue;const i=o[r].array,s=e.attributes[r],n=s.array,d=s.itemSize*a,c=Math.min(n.length,i.length-d);for(let l=0,m=d;l<c;l++,m++)i[m]=n[l]}return this}normalizeNormals(){const e=this.attributes.normal;for(let a=0,o=e.count;a<o;a++)Ja.fromBufferAttribute(e,a),Ja.normalize(),e.setXYZ(a,Ja.x,Ja.y,Ja.z)}toNonIndexed(){function e(n,d){const c=n.array,l=n.itemSize,m=n.normalized,u=new c.constructor(d.length*l);let v=0,g=0;for(let f=0,p=d.length;f<p;f++){n.isInterleavedBufferAttribute?v=d[f]*n.data.stride+n.offset:v=d[f]*l;for(let h=0;h<l;h++)u[g++]=c[v++]}return new Ji(u,l,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const a=new as,o=this.index.array,r=this.attributes;for(const n in r){const d=r[n],c=e(d,o);a.setAttribute(n,c)}const i=this.morphAttributes;for(const n in i){const d=[],c=i[n];for(let l=0,m=c.length;l<m;l++){const u=c[l],v=e(u,o);d.push(v)}a.morphAttributes[n]=d}a.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let n=0,d=s.length;n<d;n++){const c=s[n];a.addGroup(c.start,c.count,c.materialIndex)}return a}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const c in d)d[c]!==void 0&&(e[c]=d[c]);return e}e.data={attributes:{}};const a=this.index;a!==null&&(e.data.index={type:a.array.constructor.name,array:Array.prototype.slice.call(a.array)});const o=this.attributes;for(const d in o){const c=o[d];e.data.attributes[d]=c.toJSON(e.data)}const r={};let i=!1;for(const d in this.morphAttributes){const c=this.morphAttributes[d],l=[];for(let m=0,u=c.length;m<u;m++){const v=c[m];l.push(v.toJSON(e.data))}l.length>0&&(r[d]=l,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const n=this.boundingSphere;return n!==null&&(e.data.boundingSphere={center:n.center.toArray(),radius:n.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const a={};this.name=e.name;const o=e.index;o!==null&&this.setIndex(o.clone(a));const r=e.attributes;for(const c in r){const l=r[c];this.setAttribute(c,l.clone(a))}const i=e.morphAttributes;for(const c in i){const l=[],m=i[c];for(let u=0,v=m.length;u<v;u++)l.push(m[u].clone(a));this.morphAttributes[c]=l}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,l=s.length;c<l;c++){const m=s[c];this.addGroup(m.start,m.count,m.materialIndex)}const n=e.boundingBox;n!==null&&(this.boundingBox=n.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const i4=new Xa,Jc=new One,R_=new bf,vn=new ne,gn=new ne,yn=new ne,O_=new ne,I_=new ne,D_=new ne,bv=new ne,_v=new ne,xv=new ne,wv=new Nt,Sv=new Nt,Av=new Nt,q_=new ne,Ev=new ne;class Yi extends qo{constructor(e=new as,a=new FP){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=a,this.updateMorphTargets()}copy(e,a){return super.copy(e,a),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,a=Object.keys(e);if(a.length>0){const o=e[a[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,i=o.length;r<i;r++){const s=o[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}raycast(e,a){const o=this.geometry,r=this.material,i=this.matrixWorld;if(r===void 0||(o.boundingSphere===null&&o.computeBoundingSphere(),R_.copy(o.boundingSphere),R_.applyMatrix4(i),e.ray.intersectsSphere(R_)===!1)||(i4.copy(i).invert(),Jc.copy(e.ray).applyMatrix4(i4),o.boundingBox!==null&&Jc.intersectsBox(o.boundingBox)===!1))return;let s;const n=o.index,d=o.attributes.position,c=o.morphAttributes.position,l=o.morphTargetsRelative,m=o.attributes.uv,u=o.attributes.uv2,v=o.groups,g=o.drawRange;if(n!==null)if(Array.isArray(r))for(let f=0,p=v.length;f<p;f++){const h=v[f],y=r[h.materialIndex],b=Math.max(h.start,g.start),_=Math.min(n.count,Math.min(h.start+h.count,g.start+g.count));for(let S=b,x=_;S<x;S+=3){const w=n.getX(S),A=n.getX(S+1),T=n.getX(S+2);s=Mv(this,y,e,Jc,d,c,l,m,u,w,A,T),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=h.materialIndex,a.push(s))}}else{const f=Math.max(0,g.start),p=Math.min(n.count,g.start+g.count);for(let h=f,y=p;h<y;h+=3){const b=n.getX(h),_=n.getX(h+1),S=n.getX(h+2);s=Mv(this,r,e,Jc,d,c,l,m,u,b,_,S),s&&(s.faceIndex=Math.floor(h/3),a.push(s))}}else if(d!==void 0)if(Array.isArray(r))for(let f=0,p=v.length;f<p;f++){const h=v[f],y=r[h.materialIndex],b=Math.max(h.start,g.start),_=Math.min(d.count,Math.min(h.start+h.count,g.start+g.count));for(let S=b,x=_;S<x;S+=3){const w=S,A=S+1,T=S+2;s=Mv(this,y,e,Jc,d,c,l,m,u,w,A,T),s&&(s.faceIndex=Math.floor(S/3),s.face.materialIndex=h.materialIndex,a.push(s))}}else{const f=Math.max(0,g.start),p=Math.min(d.count,g.start+g.count);for(let h=f,y=p;h<y;h+=3){const b=h,_=h+1,S=h+2;s=Mv(this,r,e,Jc,d,c,l,m,u,b,_,S),s&&(s.faceIndex=Math.floor(h/3),a.push(s))}}}}function zne(t,e,a,o,r,i,s,n){let d;if(e.side===1?d=o.intersectTriangle(s,i,r,!0,n):d=o.intersectTriangle(r,i,s,e.side!==2,n),d===null)return null;Ev.copy(n),Ev.applyMatrix4(t.matrixWorld);const c=a.ray.origin.distanceTo(Ev);return c<a.near||c>a.far?null:{distance:c,point:Ev.clone(),object:t}}function Mv(t,e,a,o,r,i,s,n,d,c,l,m){vn.fromBufferAttribute(r,c),gn.fromBufferAttribute(r,l),yn.fromBufferAttribute(r,m);const u=t.morphTargetInfluences;if(i&&u){bv.set(0,0,0),_v.set(0,0,0),xv.set(0,0,0);for(let g=0,f=i.length;g<f;g++){const p=u[g],h=i[g];p!==0&&(O_.fromBufferAttribute(h,c),I_.fromBufferAttribute(h,l),D_.fromBufferAttribute(h,m),s?(bv.addScaledVector(O_,p),_v.addScaledVector(I_,p),xv.addScaledVector(D_,p)):(bv.addScaledVector(O_.sub(vn),p),_v.addScaledVector(I_.sub(gn),p),xv.addScaledVector(D_.sub(yn),p)))}vn.add(bv),gn.add(_v),yn.add(xv)}t.isSkinnedMesh&&(t.boneTransform(c,vn),t.boneTransform(l,gn),t.boneTransform(m,yn));const v=zne(t,e,a,o,vn,gn,yn,q_);if(v){n&&(wv.fromBufferAttribute(n,c),Sv.fromBufferAttribute(n,l),Av.fromBufferAttribute(n,m),v.uv=Ts.getUV(q_,vn,gn,yn,wv,Sv,Av,new Nt)),d&&(wv.fromBufferAttribute(d,c),Sv.fromBufferAttribute(d,l),Av.fromBufferAttribute(d,m),v.uv2=Ts.getUV(q_,vn,gn,yn,wv,Sv,Av,new Nt));const g={a:c,b:l,c:m,normal:new ne,materialIndex:0};Ts.getNormal(vn,gn,yn,g.normal),v.face=g}return v}class wh extends as{constructor(e=1,a=1,o=1,r=1,i=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:a,depth:o,widthSegments:r,heightSegments:i,depthSegments:s};const n=this;r=Math.floor(r),i=Math.floor(i),s=Math.floor(s);const d=[],c=[],l=[],m=[];let u=0,v=0;g("z","y","x",-1,-1,o,a,e,s,i,0),g("z","y","x",1,-1,o,a,-e,s,i,1),g("x","z","y",1,1,e,o,a,r,s,2),g("x","z","y",1,-1,e,o,-a,r,s,3),g("x","y","z",1,-1,e,a,o,r,i,4),g("x","y","z",-1,-1,e,a,-o,r,i,5),this.setIndex(d),this.setAttribute("position",new _o(c,3)),this.setAttribute("normal",new _o(l,3)),this.setAttribute("uv",new _o(m,2));function g(f,p,h,y,b,_,S,x,w,A,T){const O=_/w,I=S/A,U=_/2,B=S/2,N=x/2,z=w+1,$=A+1;let Y=0,F=0;const V=new ne;for(let Z=0;Z<$;Z++){const se=Z*I-B;for(let J=0;J<z;J++){const te=J*O-U;V[f]=te*y,V[p]=se*b,V[h]=N,c.push(V.x,V.y,V.z),V[f]=0,V[p]=0,V[h]=x>0?1:-1,l.push(V.x,V.y,V.z),m.push(J/w),m.push(1-Z/A),Y+=1}}for(let Z=0;Z<A;Z++)for(let se=0;se<w;se++){const J=u+se+z*Z,te=u+se+z*(Z+1),me=u+(se+1)+z*(Z+1),xe=u+(se+1)+z*Z;d.push(J,te,xe),d.push(te,me,xe),F+=6}n.addGroup(v,F,T),v+=F,u+=Y}}static fromJSON(e){return new wh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wu(t){const e={};for(const a in t){e[a]={};for(const o in t[a]){const r=t[a][o];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[a][o]=r.clone():Array.isArray(r)?e[a][o]=r.slice():e[a][o]=r}}return e}function yo(t){const e={};for(let a=0;a<t.length;a++){const o=wu(t[a]);for(const r in o)e[r]=o[r]}return e}function Bne(t){const e=[];for(let a=0;a<t.length;a++)e.push(t[a].clone());return e}const kne={clone:wu,merge:yo};var Une=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Vne=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ac extends qc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Une,this.fragmentShader=Vne,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wu(e.uniforms),this.uniformsGroups=Bne(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const a=super.toJSON(e);a.glslVersion=this.glslVersion,a.uniforms={};for(const r in this.uniforms){const i=this.uniforms[r].value;i&&i.isTexture?a.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?a.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?a.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?a.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?a.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?a.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?a.uniforms[r]={type:"m4",value:i.toArray()}:a.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(a.defines=this.defines),a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader;const o={};for(const r in this.extensions)this.extensions[r]===!0&&(o[r]=!0);return Object.keys(o).length>0&&(a.extensions=o),a}}class kP extends qo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xa,this.projectionMatrix=new Xa,this.projectionMatrixInverse=new Xa}copy(e,a){return super.copy(e,a),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return e.set(-a[8],-a[9],-a[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,a){super.updateWorldMatrix(e,a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class ir extends kP{constructor(e=50,a=1,o=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=o,this.far=r,this.focus=10,this.aspect=a,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,a){return super.copy(e,a),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const a=.5*this.getFilmHeight()/e;this.fov=ex*2*Math.atan(a),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(m_*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ex*2*Math.atan(Math.tan(m_*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,a,o,r,i,s){this.aspect=e/a,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=a,this.view.offsetX=o,this.view.offsetY=r,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let a=e*Math.tan(m_*.5*this.fov)/this.zoom,o=2*a,r=this.aspect*o,i=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const d=s.fullWidth,c=s.fullHeight;i+=s.offsetX*r/d,a-=s.offsetY*o/c,r*=s.width/d,o*=s.height/c}const n=this.filmOffset;n!==0&&(i+=e*n/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,a,a-o,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const a=super.toJSON(e);return a.object.fov=this.fov,a.object.zoom=this.zoom,a.object.near=this.near,a.object.far=this.far,a.object.focus=this.focus,a.object.aspect=this.aspect,this.view!==null&&(a.object.view=Object.assign({},this.view)),a.object.filmGauge=this.filmGauge,a.object.filmOffset=this.filmOffset,a}}const el=90,tl=1;class $ne extends qo{constructor(e,a,o){if(super(),this.type="CubeCamera",o.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=o;const r=new ir(el,tl,e,a);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ne(1,0,0)),this.add(r);const i=new ir(el,tl,e,a);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ne(-1,0,0)),this.add(i);const s=new ir(el,tl,e,a);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new ne(0,1,0)),this.add(s);const n=new ir(el,tl,e,a);n.layers=this.layers,n.up.set(0,0,-1),n.lookAt(new ne(0,-1,0)),this.add(n);const d=new ir(el,tl,e,a);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new ne(0,0,1)),this.add(d);const c=new ir(el,tl,e,a);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ne(0,0,-1)),this.add(c)}update(e,a){this.parent===null&&this.updateMatrixWorld();const o=this.renderTarget,[r,i,s,n,d,c]=this.children,l=e.getRenderTarget(),m=e.toneMapping,u=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const v=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,e.setRenderTarget(o,0),e.render(a,r),e.setRenderTarget(o,1),e.render(a,i),e.setRenderTarget(o,2),e.render(a,s),e.setRenderTarget(o,3),e.render(a,n),e.setRenderTarget(o,4),e.render(a,d),o.texture.generateMipmaps=v,e.setRenderTarget(o,5),e.render(a,c),e.setRenderTarget(l),e.toneMapping=m,e.xr.enabled=u,o.texture.needsPMREMUpdate=!0}}class UP extends yr{constructor(e,a,o,r,i,s,n,d,c,l){e=e!==void 0?e:[],a=a!==void 0?a:301,super(e,a,o,r,i,s,n,d,c,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Hne extends Sc{constructor(e,a={}){super(e,e,a),this.isWebGLCubeRenderTarget=!0;const o={width:e,height:e,depth:1},r=[o,o,o,o,o,o];this.texture=new UP(r,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:1006}fromEquirectangularTexture(e,a){this.texture.type=a.type,this.texture.encoding=a.encoding,this.texture.generateMipmaps=a.generateMipmaps,this.texture.minFilter=a.minFilter,this.texture.magFilter=a.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new wh(5,5,5),i=new Ac({name:"CubemapFromEquirect",uniforms:wu(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=a;const s=new Yi(r,i),n=a.minFilter;return a.minFilter===1008&&(a.minFilter=1006),new $ne(1,10,this).update(e,s),a.minFilter=n,s.geometry.dispose(),s.material.dispose(),this}clear(e,a,o,r){const i=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(a,o,r);e.setRenderTarget(i)}}const P_=new ne,Wne=new ne,Gne=new Br;class Cd{constructor(e=new ne(1,0,0),a=0){this.isPlane=!0,this.normal=e,this.constant=a}set(e,a){return this.normal.copy(e),this.constant=a,this}setComponents(e,a,o,r){return this.normal.set(e,a,o),this.constant=r,this}setFromNormalAndCoplanarPoint(e,a){return this.normal.copy(e),this.constant=-a.dot(this.normal),this}setFromCoplanarPoints(e,a,o){const r=P_.subVectors(o,a).cross(Wne.subVectors(e,a)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,a){return a.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,a){const o=e.delta(P_),r=this.normal.dot(o);if(r===0)return this.distanceToPoint(e.start)===0?a.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:a.copy(o).multiplyScalar(i).add(e.start)}intersectsLine(e){const a=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return a<0&&o>0||o<0&&a>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,a){const o=a||Gne.getNormalMatrix(e),r=this.coplanarPoint(P_).applyMatrix4(e),i=this.normal.applyMatrix3(o).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const al=new bf,Tv=new ne;class YS{constructor(e=new Cd,a=new Cd,o=new Cd,r=new Cd,i=new Cd,s=new Cd){this.planes=[e,a,o,r,i,s]}set(e,a,o,r,i,s){const n=this.planes;return n[0].copy(e),n[1].copy(a),n[2].copy(o),n[3].copy(r),n[4].copy(i),n[5].copy(s),this}copy(e){const a=this.planes;for(let o=0;o<6;o++)a[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e){const a=this.planes,o=e.elements,r=o[0],i=o[1],s=o[2],n=o[3],d=o[4],c=o[5],l=o[6],m=o[7],u=o[8],v=o[9],g=o[10],f=o[11],p=o[12],h=o[13],y=o[14],b=o[15];return a[0].setComponents(n-r,m-d,f-u,b-p).normalize(),a[1].setComponents(n+r,m+d,f+u,b+p).normalize(),a[2].setComponents(n+i,m+c,f+v,b+h).normalize(),a[3].setComponents(n-i,m-c,f-v,b-h).normalize(),a[4].setComponents(n-s,m-l,f-g,b-y).normalize(),a[5].setComponents(n+s,m+l,f+g,b+y).normalize(),this}intersectsObject(e){const a=e.geometry;return a.boundingSphere===null&&a.computeBoundingSphere(),al.copy(a.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(al)}intersectsSprite(e){return al.center.set(0,0,0),al.radius=.7071067811865476,al.applyMatrix4(e.matrixWorld),this.intersectsSphere(al)}intersectsSphere(e){const a=this.planes,o=e.center,r=-e.radius;for(let i=0;i<6;i++)if(a[i].distanceToPoint(o)<r)return!1;return!0}intersectsBox(e){const a=this.planes;for(let o=0;o<6;o++){const r=a[o];if(Tv.x=r.normal.x>0?e.max.x:e.min.x,Tv.y=r.normal.y>0?e.max.y:e.min.y,Tv.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Tv)<0)return!1}return!0}containsPoint(e){const a=this.planes;for(let o=0;o<6;o++)if(a[o].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function VP(){let t=null,e=!1,a=null,o=null;function r(i,s){a(i,s),o=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&a!==null&&(o=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(i){a=i},setContext:function(i){t=i}}}function Yne(t,e){const a=e.isWebGL2,o=new WeakMap;function r(c,l){const m=c.array,u=c.usage,v=t.createBuffer();t.bindBuffer(l,v),t.bufferData(l,m,u),c.onUploadCallback();let g;if(m instanceof Float32Array)g=5126;else if(m instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(a)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(m instanceof Int16Array)g=5122;else if(m instanceof Uint32Array)g=5125;else if(m instanceof Int32Array)g=5124;else if(m instanceof Int8Array)g=5120;else if(m instanceof Uint8Array)g=5121;else if(m instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:v,type:g,bytesPerElement:m.BYTES_PER_ELEMENT,version:c.version}}function i(c,l,m){const u=l.array,v=l.updateRange;t.bindBuffer(m,c),v.count===-1?t.bufferSubData(m,0,u):(a?t.bufferSubData(m,v.offset*u.BYTES_PER_ELEMENT,u,v.offset,v.count):t.bufferSubData(m,v.offset*u.BYTES_PER_ELEMENT,u.subarray(v.offset,v.offset+v.count)),v.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),o.get(c)}function n(c){c.isInterleavedBufferAttribute&&(c=c.data);const l=o.get(c);l&&(t.deleteBuffer(l.buffer),o.delete(c))}function d(c,l){if(c.isGLBufferAttribute){const u=o.get(c);(!u||u.version<c.version)&&o.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const m=o.get(c);m===void 0?o.set(c,r(c,l)):m.version<c.version&&(i(m.buffer,c,l),m.version=c.version)}return{get:s,remove:n,update:d}}class Ly extends as{constructor(e=1,a=1,o=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:a,widthSegments:o,heightSegments:r};const i=e/2,s=a/2,n=Math.floor(o),d=Math.floor(r),c=n+1,l=d+1,m=e/n,u=a/d,v=[],g=[],f=[],p=[];for(let h=0;h<l;h++){const y=h*u-s;for(let b=0;b<c;b++){const _=b*m-i;g.push(_,-y,0),f.push(0,0,1),p.push(b/n),p.push(1-h/d)}}for(let h=0;h<d;h++)for(let y=0;y<n;y++){const b=y+c*h,_=y+c*(h+1),S=y+1+c*(h+1),x=y+1+c*h;v.push(b,_,x),v.push(_,S,x)}this.setIndex(v),this.setAttribute("position",new _o(g,3)),this.setAttribute("normal",new _o(f,3)),this.setAttribute("uv",new _o(p,2))}static fromJSON(e){return new Ly(e.width,e.height,e.widthSegments,e.heightSegments)}}var Zne=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Kne=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Qne=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Xne=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Jne=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,ede=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tde="vec3 transformed = vec3( position );",ade=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ode=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,rde=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ide=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,sde=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,nde=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,dde=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cde=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lde=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,ude=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,mde=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,pde=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,fde=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,hde=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,vde=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,gde=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,yde=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,bde=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_de=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,xde="gl_FragColor = linearToOutputTexel( gl_FragColor );",wde=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Sde=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ade=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Ede=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Mde=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Tde=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Cde=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Rde=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ode=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Ide=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Dde=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,qde=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Pde=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Lde=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Nde=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,jde=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Fde=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zde=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Bde=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kde=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Ude=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Vde=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$de=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Hde=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Wde=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Gde=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Yde=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Zde=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Kde=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Qde=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Xde=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Jde=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ece=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tce=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,ace=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,oce=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,rce=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ice=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,sce=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,nce=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,dce=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,cce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lce=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uce=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,mce=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,pce=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,fce=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,hce=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,vce=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gce=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,yce=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,bce=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_ce=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xce=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,wce=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Sce=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Ace=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ece=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Mce=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Tce=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Cce=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Rce=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Oce=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Ice=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Dce=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,qce=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Pce=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Lce=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Nce=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,jce=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Fce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,zce=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Bce=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,kce=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Uce=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Vce=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,$ce=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Hce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Wce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Gce=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Yce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Zce=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Kce=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Qce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Xce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Jce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ele=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tle=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ale=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ole=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rle=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ile=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,sle=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nle=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dle=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,cle=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lle=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ule=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,mle=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ple=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fle=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,hle=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vle=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gle=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yle=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ble=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_le=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xle=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,wle=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Sle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Rt={alphamap_fragment:Zne,alphamap_pars_fragment:Kne,alphatest_fragment:Qne,alphatest_pars_fragment:Xne,aomap_fragment:Jne,aomap_pars_fragment:ede,begin_vertex:tde,beginnormal_vertex:ade,bsdfs:ode,iridescence_fragment:rde,bumpmap_pars_fragment:ide,clipping_planes_fragment:sde,clipping_planes_pars_fragment:nde,clipping_planes_pars_vertex:dde,clipping_planes_vertex:cde,color_fragment:lde,color_pars_fragment:ude,color_pars_vertex:mde,color_vertex:pde,common:fde,cube_uv_reflection_fragment:hde,defaultnormal_vertex:vde,displacementmap_pars_vertex:gde,displacementmap_vertex:yde,emissivemap_fragment:bde,emissivemap_pars_fragment:_de,encodings_fragment:xde,encodings_pars_fragment:wde,envmap_fragment:Sde,envmap_common_pars_fragment:Ade,envmap_pars_fragment:Ede,envmap_pars_vertex:Mde,envmap_physical_pars_fragment:jde,envmap_vertex:Tde,fog_vertex:Cde,fog_pars_vertex:Rde,fog_fragment:Ode,fog_pars_fragment:Ide,gradientmap_pars_fragment:Dde,lightmap_fragment:qde,lightmap_pars_fragment:Pde,lights_lambert_vertex:Lde,lights_pars_begin:Nde,lights_toon_fragment:Fde,lights_toon_pars_fragment:zde,lights_phong_fragment:Bde,lights_phong_pars_fragment:kde,lights_physical_fragment:Ude,lights_physical_pars_fragment:Vde,lights_fragment_begin:$de,lights_fragment_maps:Hde,lights_fragment_end:Wde,logdepthbuf_fragment:Gde,logdepthbuf_pars_fragment:Yde,logdepthbuf_pars_vertex:Zde,logdepthbuf_vertex:Kde,map_fragment:Qde,map_pars_fragment:Xde,map_particle_fragment:Jde,map_particle_pars_fragment:ece,metalnessmap_fragment:tce,metalnessmap_pars_fragment:ace,morphcolor_vertex:oce,morphnormal_vertex:rce,morphtarget_pars_vertex:ice,morphtarget_vertex:sce,normal_fragment_begin:nce,normal_fragment_maps:dce,normal_pars_fragment:cce,normal_pars_vertex:lce,normal_vertex:uce,normalmap_pars_fragment:mce,clearcoat_normal_fragment_begin:pce,clearcoat_normal_fragment_maps:fce,clearcoat_pars_fragment:hce,iridescence_pars_fragment:vce,output_fragment:gce,packing:yce,premultiplied_alpha_fragment:bce,project_vertex:_ce,dithering_fragment:xce,dithering_pars_fragment:wce,roughnessmap_fragment:Sce,roughnessmap_pars_fragment:Ace,shadowmap_pars_fragment:Ece,shadowmap_pars_vertex:Mce,shadowmap_vertex:Tce,shadowmask_pars_fragment:Cce,skinbase_vertex:Rce,skinning_pars_vertex:Oce,skinning_vertex:Ice,skinnormal_vertex:Dce,specularmap_fragment:qce,specularmap_pars_fragment:Pce,tonemapping_fragment:Lce,tonemapping_pars_fragment:Nce,transmission_fragment:jce,transmission_pars_fragment:Fce,uv_pars_fragment:zce,uv_pars_vertex:Bce,uv_vertex:kce,uv2_pars_fragment:Uce,uv2_pars_vertex:Vce,uv2_vertex:$ce,worldpos_vertex:Hce,background_vert:Wce,background_frag:Gce,cube_vert:Yce,cube_frag:Zce,depth_vert:Kce,depth_frag:Qce,distanceRGBA_vert:Xce,distanceRGBA_frag:Jce,equirect_vert:ele,equirect_frag:tle,linedashed_vert:ale,linedashed_frag:ole,meshbasic_vert:rle,meshbasic_frag:ile,meshlambert_vert:sle,meshlambert_frag:nle,meshmatcap_vert:dle,meshmatcap_frag:cle,meshnormal_vert:lle,meshnormal_frag:ule,meshphong_vert:mle,meshphong_frag:ple,meshphysical_vert:fle,meshphysical_frag:hle,meshtoon_vert:vle,meshtoon_frag:gle,points_vert:yle,points_frag:ble,shadow_vert:_le,shadow_frag:xle,sprite_vert:wle,sprite_frag:Sle},ke={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Br},uv2Transform:{value:new Br},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Nt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Br}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new Nt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Br}}},$i={basic:{uniforms:yo([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.fog]),vertexShader:Rt.meshbasic_vert,fragmentShader:Rt.meshbasic_frag},lambert:{uniforms:yo([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.fog,ke.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Rt.meshlambert_vert,fragmentShader:Rt.meshlambert_frag},phong:{uniforms:yo([ke.common,ke.specularmap,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,ke.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:Rt.meshphong_vert,fragmentShader:Rt.meshphong_frag},standard:{uniforms:yo([ke.common,ke.envmap,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.roughnessmap,ke.metalnessmap,ke.fog,ke.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag},toon:{uniforms:yo([ke.common,ke.aomap,ke.lightmap,ke.emissivemap,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.gradientmap,ke.fog,ke.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Rt.meshtoon_vert,fragmentShader:Rt.meshtoon_frag},matcap:{uniforms:yo([ke.common,ke.bumpmap,ke.normalmap,ke.displacementmap,ke.fog,{matcap:{value:null}}]),vertexShader:Rt.meshmatcap_vert,fragmentShader:Rt.meshmatcap_frag},points:{uniforms:yo([ke.points,ke.fog]),vertexShader:Rt.points_vert,fragmentShader:Rt.points_frag},dashed:{uniforms:yo([ke.common,ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rt.linedashed_vert,fragmentShader:Rt.linedashed_frag},depth:{uniforms:yo([ke.common,ke.displacementmap]),vertexShader:Rt.depth_vert,fragmentShader:Rt.depth_frag},normal:{uniforms:yo([ke.common,ke.bumpmap,ke.normalmap,ke.displacementmap,{opacity:{value:1}}]),vertexShader:Rt.meshnormal_vert,fragmentShader:Rt.meshnormal_frag},sprite:{uniforms:yo([ke.sprite,ke.fog]),vertexShader:Rt.sprite_vert,fragmentShader:Rt.sprite_frag},background:{uniforms:{uvTransform:{value:new Br},t2D:{value:null}},vertexShader:Rt.background_vert,fragmentShader:Rt.background_frag},cube:{uniforms:yo([ke.envmap,{opacity:{value:1}}]),vertexShader:Rt.cube_vert,fragmentShader:Rt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rt.equirect_vert,fragmentShader:Rt.equirect_frag},distanceRGBA:{uniforms:yo([ke.common,ke.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rt.distanceRGBA_vert,fragmentShader:Rt.distanceRGBA_frag},shadow:{uniforms:yo([ke.lights,ke.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:Rt.shadow_vert,fragmentShader:Rt.shadow_frag}};$i.physical={uniforms:yo([$i.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Nt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Nt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag};function Ale(t,e,a,o,r,i){const s=new Lt(0);let n=r===!0?0:1,d,c,l=null,m=0,u=null;function v(f,p){let h=!1,y=p.isScene===!0?p.background:null;y&&y.isTexture&&(y=e.get(y));const b=t.xr,_=b.getSession&&b.getSession();_&&_.environmentBlendMode==="additive"&&(y=null),y===null?g(s,n):y&&y.isColor&&(g(y,1),h=!0),(t.autoClear||h)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),y&&(y.isCubeTexture||y.mapping===306)?(c===void 0&&(c=new Yi(new wh(1,1,1),new Ac({name:"BackgroundCubeMaterial",uniforms:wu($i.cube.uniforms),vertexShader:$i.cube.vertexShader,fragmentShader:$i.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(S,x,w){this.matrixWorld.copyPosition(w.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(l!==y||m!==y.version||u!==t.toneMapping)&&(c.material.needsUpdate=!0,l=y,m=y.version,u=t.toneMapping),c.layers.enableAll(),f.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(d===void 0&&(d=new Yi(new Ly(2,2),new Ac({name:"BackgroundMaterial",uniforms:wu($i.background.uniforms),vertexShader:$i.background.vertexShader,fragmentShader:$i.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(d)),d.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),d.material.uniforms.uvTransform.value.copy(y.matrix),(l!==y||m!==y.version||u!==t.toneMapping)&&(d.material.needsUpdate=!0,l=y,m=y.version,u=t.toneMapping),d.layers.enableAll(),f.unshift(d,d.geometry,d.material,0,0,null))}function g(f,p){a.buffers.color.setClear(f.r,f.g,f.b,p,i)}return{getClearColor:function(){return s},setClearColor:function(f,p=1){s.set(f),n=p,g(s,n)},getClearAlpha:function(){return n},setClearAlpha:function(f){n=f,g(s,n)},render:v}}function Ele(t,e,a,o){const r=t.getParameter(34921),i=o.isWebGL2?null:e.get("OES_vertex_array_object"),s=o.isWebGL2||i!==null,n={},d=p(null);let c=d,l=!1;function m(N,z,$,Y,F){let V=!1;if(s){const Z=f(Y,$,z);c!==Z&&(c=Z,v(c.object)),V=h(N,Y,$,F),V&&y(N,Y,$,F)}else{const Z=z.wireframe===!0;(c.geometry!==Y.id||c.program!==$.id||c.wireframe!==Z)&&(c.geometry=Y.id,c.program=$.id,c.wireframe=Z,V=!0)}F!==null&&a.update(F,34963),(V||l)&&(l=!1,A(N,z,$,Y),F!==null&&t.bindBuffer(34963,a.get(F).buffer))}function u(){return o.isWebGL2?t.createVertexArray():i.createVertexArrayOES()}function v(N){return o.isWebGL2?t.bindVertexArray(N):i.bindVertexArrayOES(N)}function g(N){return o.isWebGL2?t.deleteVertexArray(N):i.deleteVertexArrayOES(N)}function f(N,z,$){const Y=$.wireframe===!0;let F=n[N.id];F===void 0&&(F={},n[N.id]=F);let V=F[z.id];V===void 0&&(V={},F[z.id]=V);let Z=V[Y];return Z===void 0&&(Z=p(u()),V[Y]=Z),Z}function p(N){const z=[],$=[],Y=[];for(let F=0;F<r;F++)z[F]=0,$[F]=0,Y[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:$,attributeDivisors:Y,object:N,attributes:{},index:null}}function h(N,z,$,Y){const F=c.attributes,V=z.attributes;let Z=0;const se=$.getAttributes();for(const J in se)if(se[J].location>=0){const te=F[J];let me=V[J];if(me===void 0&&(J==="instanceMatrix"&&N.instanceMatrix&&(me=N.instanceMatrix),J==="instanceColor"&&N.instanceColor&&(me=N.instanceColor)),te===void 0||te.attribute!==me||me&&te.data!==me.data)return!0;Z++}return c.attributesNum!==Z||c.index!==Y}function y(N,z,$,Y){const F={},V=z.attributes;let Z=0;const se=$.getAttributes();for(const J in se)if(se[J].location>=0){let te=V[J];te===void 0&&(J==="instanceMatrix"&&N.instanceMatrix&&(te=N.instanceMatrix),J==="instanceColor"&&N.instanceColor&&(te=N.instanceColor));const me={};me.attribute=te,te&&te.data&&(me.data=te.data),F[J]=me,Z++}c.attributes=F,c.attributesNum=Z,c.index=Y}function b(){const N=c.newAttributes;for(let z=0,$=N.length;z<$;z++)N[z]=0}function _(N){S(N,0)}function S(N,z){const $=c.newAttributes,Y=c.enabledAttributes,F=c.attributeDivisors;$[N]=1,Y[N]===0&&(t.enableVertexAttribArray(N),Y[N]=1),F[N]!==z&&((o.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,z),F[N]=z)}function x(){const N=c.newAttributes,z=c.enabledAttributes;for(let $=0,Y=z.length;$<Y;$++)z[$]!==N[$]&&(t.disableVertexAttribArray($),z[$]=0)}function w(N,z,$,Y,F,V){o.isWebGL2===!0&&($===5124||$===5125)?t.vertexAttribIPointer(N,z,$,F,V):t.vertexAttribPointer(N,z,$,Y,F,V)}function A(N,z,$,Y){if(o.isWebGL2===!1&&(N.isInstancedMesh||Y.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const F=Y.attributes,V=$.getAttributes(),Z=z.defaultAttributeValues;for(const se in V){const J=V[se];if(J.location>=0){let te=F[se];if(te===void 0&&(se==="instanceMatrix"&&N.instanceMatrix&&(te=N.instanceMatrix),se==="instanceColor"&&N.instanceColor&&(te=N.instanceColor)),te!==void 0){const me=te.normalized,xe=te.itemSize,Q=a.get(te);if(Q===void 0)continue;const Ee=Q.buffer,Ae=Q.type,Ce=Q.bytesPerElement;if(te.isInterleavedBufferAttribute){const we=te.data,De=we.stride,Te=te.offset;if(we.isInstancedInterleavedBuffer){for(let _e=0;_e<J.locationSize;_e++)S(J.location+_e,we.meshPerAttribute);N.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let _e=0;_e<J.locationSize;_e++)_(J.location+_e);t.bindBuffer(34962,Ee);for(let _e=0;_e<J.locationSize;_e++)w(J.location+_e,xe/J.locationSize,Ae,me,De*Ce,(Te+xe/J.locationSize*_e)*Ce)}else{if(te.isInstancedBufferAttribute){for(let we=0;we<J.locationSize;we++)S(J.location+we,te.meshPerAttribute);N.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let we=0;we<J.locationSize;we++)_(J.location+we);t.bindBuffer(34962,Ee);for(let we=0;we<J.locationSize;we++)w(J.location+we,xe/J.locationSize,Ae,me,xe*Ce,xe/J.locationSize*we*Ce)}}else if(Z!==void 0){const me=Z[se];if(me!==void 0)switch(me.length){case 2:t.vertexAttrib2fv(J.location,me);break;case 3:t.vertexAttrib3fv(J.location,me);break;case 4:t.vertexAttrib4fv(J.location,me);break;default:t.vertexAttrib1fv(J.location,me)}}}}x()}function T(){U();for(const N in n){const z=n[N];for(const $ in z){const Y=z[$];for(const F in Y)g(Y[F].object),delete Y[F];delete z[$]}delete n[N]}}function O(N){if(n[N.id]===void 0)return;const z=n[N.id];for(const $ in z){const Y=z[$];for(const F in Y)g(Y[F].object),delete Y[F];delete z[$]}delete n[N.id]}function I(N){for(const z in n){const $=n[z];if($[N.id]===void 0)continue;const Y=$[N.id];for(const F in Y)g(Y[F].object),delete Y[F];delete $[N.id]}}function U(){B(),l=!0,c!==d&&(c=d,v(c.object))}function B(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:m,reset:U,resetDefaultState:B,dispose:T,releaseStatesOfGeometry:O,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:_,disableUnusedAttributes:x}}function Mle(t,e,a,o){const r=o.isWebGL2;let i;function s(c){i=c}function n(c,l){t.drawArrays(i,c,l),a.update(l,i,1)}function d(c,l,m){if(m===0)return;let u,v;if(r)u=t,v="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",u===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}u[v](i,c,l,m),a.update(l,i,m)}this.setMode=s,this.render=n,this.renderInstances=d}function Tle(t,e,a){let o;function r(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const w=e.get("EXT_texture_filter_anisotropic");o=t.getParameter(w.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function i(w){if(w==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";w="mediump"}return w==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let n=a.precision!==void 0?a.precision:"highp";const d=i(n);d!==n&&(console.warn("THREE.WebGLRenderer:",n,"not supported, using",d,"instead."),n=d);const c=s||e.has("WEBGL_draw_buffers"),l=a.logarithmicDepthBuffer===!0,m=t.getParameter(34930),u=t.getParameter(35660),v=t.getParameter(3379),g=t.getParameter(34076),f=t.getParameter(34921),p=t.getParameter(36347),h=t.getParameter(36348),y=t.getParameter(36349),b=u>0,_=s||e.has("OES_texture_float"),S=b&&_,x=s?t.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:i,precision:n,logarithmicDepthBuffer:l,maxTextures:m,maxVertexTextures:u,maxTextureSize:v,maxCubemapSize:g,maxAttributes:f,maxVertexUniforms:p,maxVaryings:h,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:S,maxSamples:x}}function Cle(t){const e=this;let a=null,o=0,r=!1,i=!1;const s=new Cd,n=new Br,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(m,u,v){const g=m.length!==0||u||o!==0||r;return r=u,a=l(m,v,0),o=m.length,g},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,c()},this.setState=function(m,u,v){const g=m.clippingPlanes,f=m.clipIntersection,p=m.clipShadows,h=t.get(m);if(!r||g===null||g.length===0||i&&!p)i?l(null):c();else{const y=i?0:o,b=y*4;let _=h.clippingState||null;d.value=_,_=l(g,u,b,v);for(let S=0;S!==b;++S)_[S]=a[S];h.clippingState=_,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=y}};function c(){d.value!==a&&(d.value=a,d.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function l(m,u,v,g){const f=m!==null?m.length:0;let p=null;if(f!==0){if(p=d.value,g!==!0||p===null){const h=v+f*4,y=u.matrixWorldInverse;n.getNormalMatrix(y),(p===null||p.length<h)&&(p=new Float32Array(h));for(let b=0,_=v;b!==f;++b,_+=4)s.copy(m[b]).applyMatrix4(y,n),s.normal.toArray(p,_),p[_+3]=s.constant}d.value=p,d.needsUpdate=!0}return e.numPlanes=f,e.numIntersection=0,p}}function Rle(t){let e=new WeakMap;function a(s,n){return n===303?s.mapping=301:n===304&&(s.mapping=302),s}function o(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const n=s.mapping;if(n===303||n===304)if(e.has(s)){const d=e.get(s).texture;return a(d,s.mapping)}else{const d=s.image;if(d&&d.height>0){const c=new Hne(d.height/2);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",r),a(c.texture,s.mapping)}else return null}}return s}function r(s){const n=s.target;n.removeEventListener("dispose",r);const d=e.get(n);d!==void 0&&(e.delete(n),d.dispose())}function i(){e=new WeakMap}return{get:o,dispose:i}}class Ole extends kP{constructor(e=-1,a=1,o=1,r=-1,i=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=a,this.top=o,this.bottom=r,this.near=i,this.far=s,this.updateProjectionMatrix()}copy(e,a){return super.copy(e,a),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,a,o,r,i,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=a,this.view.offsetX=o,this.view.offsetY=r,this.view.width=i,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=o-e,s=o+e,n=r+a,d=r-a;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=c*this.view.offsetX,s=i+c*this.view.width,n-=l*this.view.offsetY,d=n-l*this.view.height}this.projectionMatrix.makeOrthographic(i,s,n,d,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const a=super.toJSON(e);return a.object.zoom=this.zoom,a.object.left=this.left,a.object.right=this.right,a.object.top=this.top,a.object.bottom=this.bottom,a.object.near=this.near,a.object.far=this.far,this.view!==null&&(a.object.view=Object.assign({},this.view)),a}}const Nl=4,s4=[.125,.215,.35,.446,.526,.582],qd=20,L_=new Ole,n4=new Lt;let N_=null;const Rd=(1+Math.sqrt(5))/2,ol=1/Rd,d4=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,Rd,ol),new ne(0,Rd,-ol),new ne(ol,0,Rd),new ne(-ol,0,Rd),new ne(Rd,ol,0),new ne(-Rd,ol,0)];class c4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,a=0,o=.1,r=100){N_=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,o,r,i),a>0&&this._blur(i,0,0,a),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,a=null){return this._fromTexture(e,a)}fromCubemap(e,a=null){return this._fromTexture(e,a)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=m4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=u4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(N_),e.scissorTest=!1,Cv(e,0,0,e.width,e.height)}_fromTexture(e,a){e.mapping===301||e.mapping===302?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),N_=this._renderer.getRenderTarget();const o=a||this._allocateTargets();return this._textureToCubeUV(e,o),this._applyPMREM(o),this._cleanup(o),o}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,o={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!1},r=l4(e,a,o);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=l4(e,a,o);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Ile(i)),this._blurMaterial=Dle(i,e,a)}return r}_compileMaterial(e){const a=new Yi(this._lodPlanes[0],e);this._renderer.compile(a,L_)}_sceneToCubeUV(e,a,o,r){const i=new ir(90,1,a,o),s=[1,-1,1,1,1,1],n=[1,1,1,-1,-1,-1],d=this._renderer,c=d.autoClear,l=d.toneMapping;d.getClearColor(n4),d.toneMapping=0,d.autoClear=!1;const m=new FP({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),u=new Yi(new wh,m);let v=!1;const g=e.background;g?g.isColor&&(m.color.copy(g),e.background=null,v=!0):(m.color.copy(n4),v=!0);for(let f=0;f<6;f++){const p=f%3;p===0?(i.up.set(0,s[f],0),i.lookAt(n[f],0,0)):p===1?(i.up.set(0,0,s[f]),i.lookAt(0,n[f],0)):(i.up.set(0,s[f],0),i.lookAt(0,0,n[f]));const h=this._cubeSize;Cv(r,p*h,f>2?h:0,h,h),d.setRenderTarget(r),v&&d.render(u,i),d.render(e,i)}u.geometry.dispose(),u.material.dispose(),d.toneMapping=l,d.autoClear=c,e.background=g}_textureToCubeUV(e,a){const o=this._renderer,r=e.mapping===301||e.mapping===302;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=m4()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=u4());const i=r?this._cubemapMaterial:this._equirectMaterial,s=new Yi(this._lodPlanes[0],i),n=i.uniforms;n.envMap.value=e;const d=this._cubeSize;Cv(a,0,0,3*d,2*d),o.setRenderTarget(a),o.render(s,L_)}_applyPMREM(e){const a=this._renderer,o=a.autoClear;a.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=d4[(r-1)%d4.length];this._blur(e,r-1,r,i,s)}a.autoClear=o}_blur(e,a,o,r,i){const s=this._pingPongRenderTarget;this._halfBlur(e,s,a,o,r,"latitudinal",i),this._halfBlur(s,e,o,o,r,"longitudinal",i)}_halfBlur(e,a,o,r,i,s,n){const d=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const l=3,m=new Yi(this._lodPlanes[r],c),u=c.uniforms,v=this._sizeLods[o]-1,g=isFinite(i)?Math.PI/(2*v):2*Math.PI/(2*qd-1),f=i/g,p=isFinite(i)?1+Math.floor(l*f):qd;p>qd&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to ${qd}`);const h=[];let y=0;for(let w=0;w<qd;++w){const A=w/f,T=Math.exp(-A*A/2);h.push(T),w===0?y+=T:w<p&&(y+=2*T)}for(let w=0;w<h.length;w++)h[w]=h[w]/y;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=h,u.latitudinal.value=s==="latitudinal",n&&(u.poleAxis.value=n);const{_lodMax:b}=this;u.dTheta.value=g,u.mipInt.value=b-o;const _=this._sizeLods[r],S=3*_*(r>b-Nl?r-b+Nl:0),x=4*(this._cubeSize-_);Cv(a,S,x,3*_,2*_),d.setRenderTarget(a),d.render(m,L_)}}function Ile(t){const e=[],a=[],o=[];let r=t;const i=t-Nl+1+s4.length;for(let s=0;s<i;s++){const n=Math.pow(2,r);a.push(n);let d=1/n;s>t-Nl?d=s4[s-t+Nl-1]:s===0&&(d=0),o.push(d);const c=1/(n-2),l=-c,m=1+c,u=[l,l,m,l,m,m,l,l,m,m,l,m],v=6,g=6,f=3,p=2,h=1,y=new Float32Array(f*g*v),b=new Float32Array(p*g*v),_=new Float32Array(h*g*v);for(let x=0;x<v;x++){const w=x%3*2/3-1,A=x>2?0:-1,T=[w,A,0,w+2/3,A,0,w+2/3,A+1,0,w,A,0,w+2/3,A+1,0,w,A+1,0];y.set(T,f*g*x),b.set(u,p*g*x);const O=[x,x,x,x,x,x];_.set(O,h*g*x)}const S=new as;S.setAttribute("position",new Ji(y,f)),S.setAttribute("uv",new Ji(b,p)),S.setAttribute("faceIndex",new Ji(_,h)),e.push(S),r>Nl&&r--}return{lodPlanes:e,sizeLods:a,sigmas:o}}function l4(t,e,a){const o=new Sc(t,e,a);return o.texture.mapping=306,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function Cv(t,e,a,o,r){t.viewport.set(e,a,o,r),t.scissor.set(e,a,o,r)}function Dle(t,e,a){const o=new Float32Array(qd),r=new ne(0,1,0);return new Ac({name:"SphericalGaussianBlur",defines:{n:qd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:ZS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function u4(){return new Ac({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ZS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function m4(){return new Ac({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ZS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function ZS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function qle(t){let e=new WeakMap,a=null;function o(n){if(n&&n.isTexture){const d=n.mapping,c=d===303||d===304,l=d===301||d===302;if(c||l)if(n.isRenderTargetTexture&&n.needsPMREMUpdate===!0){n.needsPMREMUpdate=!1;let m=e.get(n);return a===null&&(a=new c4(t)),m=c?a.fromEquirectangular(n,m):a.fromCubemap(n,m),e.set(n,m),m.texture}else{if(e.has(n))return e.get(n).texture;{const m=n.image;if(c&&m&&m.height>0||l&&m&&r(m)){a===null&&(a=new c4(t));const u=c?a.fromEquirectangular(n):a.fromCubemap(n);return e.set(n,u),n.addEventListener("dispose",i),u.texture}else return null}}}return n}function r(n){let d=0;const c=6;for(let l=0;l<c;l++)n[l]!==void 0&&d++;return d===c}function i(n){const d=n.target;d.removeEventListener("dispose",i);const c=e.get(d);c!==void 0&&(e.delete(d),c.dispose())}function s(){e=new WeakMap,a!==null&&(a.dispose(),a=null)}return{get:o,dispose:s}}function Ple(t){const e={};function a(o){if(e[o]!==void 0)return e[o];let r;switch(o){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(o)}return e[o]=r,r}return{has:function(o){return a(o)!==null},init:function(o){o.isWebGL2?a("EXT_color_buffer_float"):(a("WEBGL_depth_texture"),a("OES_texture_float"),a("OES_texture_half_float"),a("OES_texture_half_float_linear"),a("OES_standard_derivatives"),a("OES_element_index_uint"),a("OES_vertex_array_object"),a("ANGLE_instanced_arrays")),a("OES_texture_float_linear"),a("EXT_color_buffer_half_float"),a("WEBGL_multisampled_render_to_texture")},get:function(o){const r=a(o);return r===null&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),r}}}function Lle(t,e,a,o){const r={},i=new WeakMap;function s(m){const u=m.target;u.index!==null&&e.remove(u.index);for(const g in u.attributes)e.remove(u.attributes[g]);u.removeEventListener("dispose",s),delete r[u.id];const v=i.get(u);v&&(e.remove(v),i.delete(u)),o.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,a.memory.geometries--}function n(m,u){return r[u.id]===!0||(u.addEventListener("dispose",s),r[u.id]=!0,a.memory.geometries++),u}function d(m){const u=m.attributes;for(const g in u)e.update(u[g],34962);const v=m.morphAttributes;for(const g in v){const f=v[g];for(let p=0,h=f.length;p<h;p++)e.update(f[p],34962)}}function c(m){const u=[],v=m.index,g=m.attributes.position;let f=0;if(v!==null){const y=v.array;f=v.version;for(let b=0,_=y.length;b<_;b+=3){const S=y[b+0],x=y[b+1],w=y[b+2];u.push(S,x,x,w,w,S)}}else{const y=g.array;f=g.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const S=b+0,x=b+1,w=b+2;u.push(S,x,x,w,w,S)}}const p=new(DP(u)?BP:zP)(u,1);p.version=f;const h=i.get(m);h&&e.remove(h),i.set(m,p)}function l(m){const u=i.get(m);if(u){const v=m.index;v!==null&&u.version<v.version&&c(m)}else c(m);return i.get(m)}return{get:n,update:d,getWireframeAttribute:l}}function Nle(t,e,a,o){const r=o.isWebGL2;let i;function s(u){i=u}let n,d;function c(u){n=u.type,d=u.bytesPerElement}function l(u,v){t.drawElements(i,v,n,u*d),a.update(v,i,1)}function m(u,v,g){if(g===0)return;let f,p;if(r)f=t,p="drawElementsInstanced";else if(f=e.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",f===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](i,v,n,u*d,g),a.update(v,i,g)}this.setMode=s,this.setIndex=c,this.render=l,this.renderInstances=m}function jle(t){const e={geometries:0,textures:0},a={frame:0,calls:0,triangles:0,points:0,lines:0};function o(i,s,n){switch(a.calls++,s){case 4:a.triangles+=n*(i/3);break;case 1:a.lines+=n*(i/2);break;case 3:a.lines+=n*(i-1);break;case 2:a.lines+=n*i;break;case 0:a.points+=n*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){a.frame++,a.calls=0,a.triangles=0,a.points=0,a.lines=0}return{memory:e,render:a,programs:null,autoReset:!0,reset:r,update:o}}function Fle(t,e){return t[0]-e[0]}function zle(t,e){return Math.abs(e[1])-Math.abs(t[1])}function j_(t,e){let a=1;const o=e.isInterleavedBufferAttribute?e.data.array:e.array;o instanceof Int8Array?a=127:o instanceof Uint8Array?a=255:o instanceof Uint16Array?a=65535:o instanceof Int16Array?a=32767:o instanceof Int32Array?a=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",o),t.divideScalar(a)}function Ble(t,e,a){const o={},r=new Float32Array(8),i=new WeakMap,s=new Qa,n=[];for(let c=0;c<8;c++)n[c]=[c,0];function d(c,l,m,u){const v=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,f=g!==void 0?g.length:0;let p=i.get(l);if(p===void 0||p.count!==f){let b=function(){N.dispose(),i.delete(l),l.removeEventListener("dispose",b)};p!==void 0&&p.texture.dispose();const _=l.morphAttributes.position!==void 0,S=l.morphAttributes.normal!==void 0,x=l.morphAttributes.color!==void 0,w=l.morphAttributes.position||[],A=l.morphAttributes.normal||[],T=l.morphAttributes.color||[];let O=0;_===!0&&(O=1),S===!0&&(O=2),x===!0&&(O=3);let I=l.attributes.position.count*O,U=1;I>e.maxTextureSize&&(U=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const B=new Float32Array(I*U*4*f),N=new NP(B,I,U,f);N.type=1015,N.needsUpdate=!0;const z=O*4;for(let $=0;$<f;$++){const Y=w[$],F=A[$],V=T[$],Z=I*U*4*$;for(let se=0;se<Y.count;se++){const J=se*z;_===!0&&(s.fromBufferAttribute(Y,se),Y.normalized===!0&&j_(s,Y),B[Z+J+0]=s.x,B[Z+J+1]=s.y,B[Z+J+2]=s.z,B[Z+J+3]=0),S===!0&&(s.fromBufferAttribute(F,se),F.normalized===!0&&j_(s,F),B[Z+J+4]=s.x,B[Z+J+5]=s.y,B[Z+J+6]=s.z,B[Z+J+7]=0),x===!0&&(s.fromBufferAttribute(V,se),V.normalized===!0&&j_(s,V),B[Z+J+8]=s.x,B[Z+J+9]=s.y,B[Z+J+10]=s.z,B[Z+J+11]=V.itemSize===4?s.w:1)}}p={count:f,texture:N,size:new Nt(I,U)},i.set(l,p),l.addEventListener("dispose",b)}let h=0;for(let b=0;b<v.length;b++)h+=v[b];const y=l.morphTargetsRelative?1:1-h;u.getUniforms().setValue(t,"morphTargetBaseInfluence",y),u.getUniforms().setValue(t,"morphTargetInfluences",v),u.getUniforms().setValue(t,"morphTargetsTexture",p.texture,a),u.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}else{const g=v===void 0?0:v.length;let f=o[l.id];if(f===void 0||f.length!==g){f=[];for(let _=0;_<g;_++)f[_]=[_,0];o[l.id]=f}for(let _=0;_<g;_++){const S=f[_];S[0]=_,S[1]=v[_]}f.sort(zle);for(let _=0;_<8;_++)_<g&&f[_][1]?(n[_][0]=f[_][0],n[_][1]=f[_][1]):(n[_][0]=Number.MAX_SAFE_INTEGER,n[_][1]=0);n.sort(Fle);const p=l.morphAttributes.position,h=l.morphAttributes.normal;let y=0;for(let _=0;_<8;_++){const S=n[_],x=S[0],w=S[1];x!==Number.MAX_SAFE_INTEGER&&w?(p&&l.getAttribute("morphTarget"+_)!==p[x]&&l.setAttribute("morphTarget"+_,p[x]),h&&l.getAttribute("morphNormal"+_)!==h[x]&&l.setAttribute("morphNormal"+_,h[x]),r[_]=w,y+=w):(p&&l.hasAttribute("morphTarget"+_)===!0&&l.deleteAttribute("morphTarget"+_),h&&l.hasAttribute("morphNormal"+_)===!0&&l.deleteAttribute("morphNormal"+_),r[_]=0)}const b=l.morphTargetsRelative?1:1-y;u.getUniforms().setValue(t,"morphTargetBaseInfluence",b),u.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:d}}function kle(t,e,a,o){let r=new WeakMap;function i(d){const c=o.render.frame,l=d.geometry,m=e.get(d,l);return r.get(m)!==c&&(e.update(m),r.set(m,c)),d.isInstancedMesh&&(d.hasEventListener("dispose",n)===!1&&d.addEventListener("dispose",n),a.update(d.instanceMatrix,34962),d.instanceColor!==null&&a.update(d.instanceColor,34962)),m}function s(){r=new WeakMap}function n(d){const c=d.target;c.removeEventListener("dispose",n),a.remove(c.instanceMatrix),c.instanceColor!==null&&a.remove(c.instanceColor)}return{update:i,dispose:s}}const $P=new yr,HP=new NP,WP=new Cne,GP=new UP,p4=[],f4=[],h4=new Float32Array(16),v4=new Float32Array(9),g4=new Float32Array(4);function am(t,e,a){const o=t[0];if(o<=0||o>0)return t;const r=e*a;let i=p4[r];if(i===void 0&&(i=new Float32Array(r),p4[r]=i),e!==0){o.toArray(i,0);for(let s=1,n=0;s!==e;++s)n+=a,t[s].toArray(i,n)}return i}function Po(t,e){if(t.length!==e.length)return!1;for(let a=0,o=t.length;a<o;a++)if(t[a]!==e[a])return!1;return!0}function Lo(t,e){for(let a=0,o=e.length;a<o;a++)t[a]=e[a]}function Ny(t,e){let a=f4[e];a===void 0&&(a=new Int32Array(e),f4[e]=a);for(let o=0;o!==e;++o)a[o]=t.allocateTextureUnit();return a}function Ule(t,e){const a=this.cache;a[0]!==e&&(t.uniform1f(this.addr,e),a[0]=e)}function Vle(t,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),a[0]=e.x,a[1]=e.y);else{if(Po(a,e))return;t.uniform2fv(this.addr,e),Lo(a,e)}}function $le(t,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),a[0]=e.x,a[1]=e.y,a[2]=e.z);else if(e.r!==void 0)(a[0]!==e.r||a[1]!==e.g||a[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),a[0]=e.r,a[1]=e.g,a[2]=e.b);else{if(Po(a,e))return;t.uniform3fv(this.addr,e),Lo(a,e)}}function Hle(t,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z||a[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=e.w);else{if(Po(a,e))return;t.uniform4fv(this.addr,e),Lo(a,e)}}function Wle(t,e){const a=this.cache,o=e.elements;if(o===void 0){if(Po(a,e))return;t.uniformMatrix2fv(this.addr,!1,e),Lo(a,e)}else{if(Po(a,o))return;g4.set(o),t.uniformMatrix2fv(this.addr,!1,g4),Lo(a,o)}}function Gle(t,e){const a=this.cache,o=e.elements;if(o===void 0){if(Po(a,e))return;t.uniformMatrix3fv(this.addr,!1,e),Lo(a,e)}else{if(Po(a,o))return;v4.set(o),t.uniformMatrix3fv(this.addr,!1,v4),Lo(a,o)}}function Yle(t,e){const a=this.cache,o=e.elements;if(o===void 0){if(Po(a,e))return;t.uniformMatrix4fv(this.addr,!1,e),Lo(a,e)}else{if(Po(a,o))return;h4.set(o),t.uniformMatrix4fv(this.addr,!1,h4),Lo(a,o)}}function Zle(t,e){const a=this.cache;a[0]!==e&&(t.uniform1i(this.addr,e),a[0]=e)}function Kle(t,e){const a=this.cache;Po(a,e)||(t.uniform2iv(this.addr,e),Lo(a,e))}function Qle(t,e){const a=this.cache;Po(a,e)||(t.uniform3iv(this.addr,e),Lo(a,e))}function Xle(t,e){const a=this.cache;Po(a,e)||(t.uniform4iv(this.addr,e),Lo(a,e))}function Jle(t,e){const a=this.cache;a[0]!==e&&(t.uniform1ui(this.addr,e),a[0]=e)}function eue(t,e){const a=this.cache;Po(a,e)||(t.uniform2uiv(this.addr,e),Lo(a,e))}function tue(t,e){const a=this.cache;Po(a,e)||(t.uniform3uiv(this.addr,e),Lo(a,e))}function aue(t,e){const a=this.cache;Po(a,e)||(t.uniform4uiv(this.addr,e),Lo(a,e))}function oue(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTexture2D(e||$P,r)}function rue(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTexture3D(e||WP,r)}function iue(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTextureCube(e||GP,r)}function sue(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTexture2DArray(e||HP,r)}function nue(t){switch(t){case 5126:return Ule;case 35664:return Vle;case 35665:return $le;case 35666:return Hle;case 35674:return Wle;case 35675:return Gle;case 35676:return Yle;case 5124:case 35670:return Zle;case 35667:case 35671:return Kle;case 35668:case 35672:return Qle;case 35669:case 35673:return Xle;case 5125:return Jle;case 36294:return eue;case 36295:return tue;case 36296:return aue;case 35678:case 36198:case 36298:case 36306:case 35682:return oue;case 35679:case 36299:case 36307:return rue;case 35680:case 36300:case 36308:case 36293:return iue;case 36289:case 36303:case 36311:case 36292:return sue}}function due(t,e){t.uniform1fv(this.addr,e)}function cue(t,e){const a=am(e,this.size,2);t.uniform2fv(this.addr,a)}function lue(t,e){const a=am(e,this.size,3);t.uniform3fv(this.addr,a)}function uue(t,e){const a=am(e,this.size,4);t.uniform4fv(this.addr,a)}function mue(t,e){const a=am(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,a)}function pue(t,e){const a=am(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,a)}function fue(t,e){const a=am(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,a)}function hue(t,e){t.uniform1iv(this.addr,e)}function vue(t,e){t.uniform2iv(this.addr,e)}function gue(t,e){t.uniform3iv(this.addr,e)}function yue(t,e){t.uniform4iv(this.addr,e)}function bue(t,e){t.uniform1uiv(this.addr,e)}function _ue(t,e){t.uniform2uiv(this.addr,e)}function xue(t,e){t.uniform3uiv(this.addr,e)}function wue(t,e){t.uniform4uiv(this.addr,e)}function Sue(t,e,a){const o=e.length,r=Ny(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTexture2D(e[i]||$P,r[i])}function Aue(t,e,a){const o=e.length,r=Ny(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTexture3D(e[i]||WP,r[i])}function Eue(t,e,a){const o=e.length,r=Ny(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTextureCube(e[i]||GP,r[i])}function Mue(t,e,a){const o=e.length,r=Ny(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTexture2DArray(e[i]||HP,r[i])}function Tue(t){switch(t){case 5126:return due;case 35664:return cue;case 35665:return lue;case 35666:return uue;case 35674:return mue;case 35675:return pue;case 35676:return fue;case 5124:case 35670:return hue;case 35667:case 35671:return vue;case 35668:case 35672:return gue;case 35669:case 35673:return yue;case 5125:return bue;case 36294:return _ue;case 36295:return xue;case 36296:return wue;case 35678:case 36198:case 36298:case 36306:case 35682:return Sue;case 35679:case 36299:case 36307:return Aue;case 35680:case 36300:case 36308:case 36293:return Eue;case 36289:case 36303:case 36311:case 36292:return Mue}}class Cue{constructor(e,a,o){this.id=e,this.addr=o,this.cache=[],this.setValue=nue(a.type)}}class Rue{constructor(e,a,o){this.id=e,this.addr=o,this.cache=[],this.size=a.size,this.setValue=Tue(a.type)}}class Oue{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,a,o){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const n=r[i];n.setValue(e,a[n.id],o)}}}const F_=/(\w+)(\])?(\[|\.)?/g;function y4(t,e){t.seq.push(e),t.map[e.id]=e}function Iue(t,e,a){const o=t.name,r=o.length;for(F_.lastIndex=0;;){const i=F_.exec(o),s=F_.lastIndex;let n=i[1];const d=i[2]==="]",c=i[3];if(d&&(n=n|0),c===void 0||c==="["&&s+2===r){y4(a,c===void 0?new Cue(n,t,e):new Rue(n,t,e));break}else{let l=a.map[n];l===void 0&&(l=new Oue(n),y4(a,l)),a=l}}}class dg{constructor(e,a){this.seq=[],this.map={};const o=e.getProgramParameter(a,35718);for(let r=0;r<o;++r){const i=e.getActiveUniform(a,r),s=e.getUniformLocation(a,i.name);Iue(i,s,this)}}setValue(e,a,o,r){const i=this.map[a];i!==void 0&&i.setValue(e,o,r)}setOptional(e,a,o){const r=a[o];r!==void 0&&this.setValue(e,o,r)}static upload(e,a,o,r){for(let i=0,s=a.length;i!==s;++i){const n=a[i],d=o[n.id];d.needsUpdate!==!1&&n.setValue(e,d.value,r)}}static seqWithValue(e,a){const o=[];for(let r=0,i=e.length;r!==i;++r){const s=e[r];s.id in a&&o.push(s)}return o}}function b4(t,e,a){const o=t.createShader(e);return t.shaderSource(o,a),t.compileShader(o),o}let Due=0;function que(t,e){const a=t.split(`
`),o=[],r=Math.max(e-6,0),i=Math.min(e+6,a.length);for(let s=r;s<i;s++){const n=s+1;o.push(`${n===e?">":" "} ${n}: ${a[s]}`)}return o.join(`
`)}function Pue(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function _4(t,e,a){const o=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(o&&r==="")return"";const i=/ERROR: 0:(\d+)/.exec(r);if(i){const s=parseInt(i[1]);return a.toUpperCase()+`

`+r+`

`+que(t.getShaderSource(e),s)}else return r}function Lue(t,e){const a=Pue(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}function Nue(t,e){let a;switch(e){case 1:a="Linear";break;case 2:a="Reinhard";break;case 3:a="OptimizedCineon";break;case 4:a="ACESFilmic";break;case 5:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),a="Linear"}return"vec3 "+t+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}function jue(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sp).join(`
`)}function Fue(t){const e=[];for(const a in t){const o=t[a];o!==!1&&e.push("#define "+a+" "+o)}return e.join(`
`)}function zue(t,e){const a={},o=t.getProgramParameter(e,35721);for(let r=0;r<o;r++){const i=t.getActiveAttrib(e,r),s=i.name;let n=1;i.type===35674&&(n=2),i.type===35675&&(n=3),i.type===35676&&(n=4),a[s]={type:i.type,location:t.getAttribLocation(e,s),locationSize:n}}return a}function sp(t){return t!==""}function x4(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function w4(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Bue=/^[ \t]*#include +<([\w\d./]+)>/gm;function ax(t){return t.replace(Bue,kue)}function kue(t,e){const a=Rt[e];if(a===void 0)throw new Error("Can not resolve #include <"+e+">");return ax(a)}const Uue=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Vue=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function S4(t){return t.replace(Vue,YP).replace(Uue,$ue)}function $ue(t,e,a,o){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),YP(t,e,a,o)}function YP(t,e,a,o){let r="";for(let i=parseInt(e);i<parseInt(a);i++)r+=o.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return r}function A4(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Hue(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===2?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===3&&(e="SHADOWMAP_TYPE_VSM"),e}function Wue(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Gue(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:e="ENVMAP_MODE_REFRACTION";break}return e}function Yue(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD";break}return e}function Zue(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const a=Math.log2(e)-2,o=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,a),7*16)),texelHeight:o,maxMip:a}}function Kue(t,e,a,o){const r=t.getContext(),i=a.defines;let s=a.vertexShader,n=a.fragmentShader;const d=Hue(a),c=Wue(a),l=Gue(a),m=Yue(a),u=Zue(a),v=a.isWebGL2?"":jue(a),g=Fue(i),f=r.createProgram();let p,h,y=a.glslVersion?"#version "+a.glslVersion+`
`:"";a.isRawShaderMaterial?(p=[g].filter(sp).join(`
`),p.length>0&&(p+=`
`),h=[v,g].filter(sp).join(`
`),h.length>0&&(h+=`
`)):(p=[A4(a),"#define SHADER_NAME "+a.shaderName,g,a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+l:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===!1?"#define USE_MORPHNORMALS":"",a.morphColors&&a.isWebGL2?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+d:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sp).join(`
`),h=[v,A4(a),"#define SHADER_NAME "+a.shaderName,g,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+c:"",a.envMap?"#define "+l:"",a.envMap?"#define "+m:"",u?"#define CUBEUV_TEXEL_WIDTH "+u.texelWidth:"",u?"#define CUBEUV_TEXEL_HEIGHT "+u.texelHeight:"",u?"#define CUBEUV_MAX_MIP "+u.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+d:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==0?"#define TONE_MAPPING":"",a.toneMapping!==0?Rt.tonemapping_pars_fragment:"",a.toneMapping!==0?Nue("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",Rt.encodings_pars_fragment,Lue("linearToOutputTexel",a.outputEncoding),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"",`
`].filter(sp).join(`
`)),s=ax(s),s=x4(s,a),s=w4(s,a),n=ax(n),n=x4(n,a),n=w4(n,a),s=S4(s),n=S4(n),a.isWebGL2&&a.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,p=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+p,h=["#define varying in",a.glslVersion===GC?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===GC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+h);const b=y+p+s,_=y+h+n,S=b4(r,35633,b),x=b4(r,35632,_);if(r.attachShader(f,S),r.attachShader(f,x),a.index0AttributeName!==void 0?r.bindAttribLocation(f,0,a.index0AttributeName):a.morphTargets===!0&&r.bindAttribLocation(f,0,"position"),r.linkProgram(f),t.debug.checkShaderErrors){const T=r.getProgramInfoLog(f).trim(),O=r.getShaderInfoLog(S).trim(),I=r.getShaderInfoLog(x).trim();let U=!0,B=!0;if(r.getProgramParameter(f,35714)===!1){U=!1;const N=_4(r,S,"vertex"),z=_4(r,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(f,35715)+`

Program Info Log: `+T+`
`+N+`
`+z)}else T!==""?console.warn("THREE.WebGLProgram: Program Info Log:",T):(O===""||I==="")&&(B=!1);B&&(this.diagnostics={runnable:U,programLog:T,vertexShader:{log:O,prefix:p},fragmentShader:{log:I,prefix:h}})}r.deleteShader(S),r.deleteShader(x);let w;this.getUniforms=function(){return w===void 0&&(w=new dg(r,f)),w};let A;return this.getAttributes=function(){return A===void 0&&(A=zue(r,f)),A},this.destroy=function(){o.releaseStatesOfProgram(this),r.deleteProgram(f),this.program=void 0},this.name=a.shaderName,this.id=Due++,this.cacheKey=e,this.usedTimes=1,this.program=f,this.vertexShader=S,this.fragmentShader=x,this}let Que=0;class Xue{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const a=e.vertexShader,o=e.fragmentShader,r=this._getShaderStage(a),i=this._getShaderStage(o),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(i)===!1&&(s.add(i),i.usedTimes++),this}remove(e){const a=this.materialCache.get(e);for(const o of a)o.usedTimes--,o.usedTimes===0&&this.shaderCache.delete(o.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const a=this.materialCache;return a.has(e)===!1&&a.set(e,new Set),a.get(e)}_getShaderStage(e){const a=this.shaderCache;if(a.has(e)===!1){const o=new Jue(e);a.set(e,o)}return a.get(e)}}class Jue{constructor(e){this.id=Que++,this.code=e,this.usedTimes=0}}function eme(t,e,a,o,r,i,s){const n=new jP,d=new Xue,c=[],l=r.isWebGL2,m=r.logarithmicDepthBuffer,u=r.vertexTextures;let v=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(A,T,O,I,U){const B=I.fog,N=U.geometry,z=A.isMeshStandardMaterial?I.environment:null,$=(A.isMeshStandardMaterial?a:e).get(A.envMap||z),Y=$&&$.mapping===306?$.image.height:null,F=g[A.type];A.precision!==null&&(v=r.getMaxPrecision(A.precision),v!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",v,"instead."));const V=N.morphAttributes.position||N.morphAttributes.normal||N.morphAttributes.color,Z=V!==void 0?V.length:0;let se=0;N.morphAttributes.position!==void 0&&(se=1),N.morphAttributes.normal!==void 0&&(se=2),N.morphAttributes.color!==void 0&&(se=3);let J,te,me,xe;if(F){const we=$i[F];J=we.vertexShader,te=we.fragmentShader}else J=A.vertexShader,te=A.fragmentShader,d.update(A),me=d.getVertexShaderID(A),xe=d.getFragmentShaderID(A);const Q=t.getRenderTarget(),Ee=A.alphaTest>0,Ae=A.clearcoat>0,Ce=A.iridescence>0;return{isWebGL2:l,shaderID:F,shaderName:A.type,vertexShader:J,fragmentShader:te,defines:A.defines,customVertexShaderID:me,customFragmentShaderID:xe,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:v,instancing:U.isInstancedMesh===!0,instancingColor:U.isInstancedMesh===!0&&U.instanceColor!==null,supportsVertexTextures:u,outputEncoding:Q===null?t.outputEncoding:Q.isXRRenderTarget===!0?Q.texture.encoding:3e3,map:!!A.map,matcap:!!A.matcap,envMap:!!$,envMapMode:$&&$.mapping,envMapCubeUVHeight:Y,lightMap:!!A.lightMap,aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===1,tangentSpaceNormalMap:A.normalMapType===0,decodeVideoTexture:!!A.map&&A.map.isVideoTexture===!0&&A.map.encoding===3001,clearcoat:Ae,clearcoatMap:Ae&&!!A.clearcoatMap,clearcoatRoughnessMap:Ae&&!!A.clearcoatRoughnessMap,clearcoatNormalMap:Ae&&!!A.clearcoatNormalMap,iridescence:Ce,iridescenceMap:Ce&&!!A.iridescenceMap,iridescenceThicknessMap:Ce&&!!A.iridescenceThicknessMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,specularIntensityMap:!!A.specularIntensityMap,specularColorMap:!!A.specularColorMap,opaque:A.transparent===!1&&A.blending===1,alphaMap:!!A.alphaMap,alphaTest:Ee,gradientMap:!!A.gradientMap,sheen:A.sheen>0,sheenColorMap:!!A.sheenColorMap,sheenRoughnessMap:!!A.sheenRoughnessMap,transmission:A.transmission>0,transmissionMap:!!A.transmissionMap,thicknessMap:!!A.thicknessMap,combine:A.combine,vertexTangents:!!A.normalMap&&!!N.attributes.tangent,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!N.attributes.color&&N.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.iridescenceMap||!!A.iridescenceThicknessMap||!!A.displacementMap||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||!!A.sheenColorMap||!!A.sheenRoughnessMap,uvsVertexOnly:!(A.map||A.bumpMap||A.normalMap||A.specularMap||A.alphaMap||A.emissiveMap||A.roughnessMap||A.metalnessMap||A.clearcoatNormalMap||A.iridescenceMap||A.iridescenceThicknessMap||A.transmission>0||A.transmissionMap||A.thicknessMap||A.specularIntensityMap||A.specularColorMap||A.sheen>0||A.sheenColorMap||A.sheenRoughnessMap)&&!!A.displacementMap,fog:!!B,useFog:A.fog===!0,fogExp2:B&&B.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:m,skinning:U.isSkinnedMesh===!0,morphTargets:N.morphAttributes.position!==void 0,morphNormals:N.morphAttributes.normal!==void 0,morphColors:N.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:se,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:A.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:A.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===2,flipSided:A.side===1,useDepthPacking:!!A.depthPacking,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:l||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:l||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:l||o.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function p(A){const T=[];if(A.shaderID?T.push(A.shaderID):(T.push(A.customVertexShaderID),T.push(A.customFragmentShaderID)),A.defines!==void 0)for(const O in A.defines)T.push(O),T.push(A.defines[O]);return A.isRawShaderMaterial===!1&&(h(T,A),y(T,A),T.push(t.outputEncoding)),T.push(A.customProgramCacheKey),T.join()}function h(A,T){A.push(T.precision),A.push(T.outputEncoding),A.push(T.envMapMode),A.push(T.envMapCubeUVHeight),A.push(T.combine),A.push(T.vertexUvs),A.push(T.fogExp2),A.push(T.sizeAttenuation),A.push(T.morphTargetsCount),A.push(T.morphAttributeCount),A.push(T.numDirLights),A.push(T.numPointLights),A.push(T.numSpotLights),A.push(T.numHemiLights),A.push(T.numRectAreaLights),A.push(T.numDirLightShadows),A.push(T.numPointLightShadows),A.push(T.numSpotLightShadows),A.push(T.shadowMapType),A.push(T.toneMapping),A.push(T.numClippingPlanes),A.push(T.numClipIntersection),A.push(T.depthPacking)}function y(A,T){n.disableAll(),T.isWebGL2&&n.enable(0),T.supportsVertexTextures&&n.enable(1),T.instancing&&n.enable(2),T.instancingColor&&n.enable(3),T.map&&n.enable(4),T.matcap&&n.enable(5),T.envMap&&n.enable(6),T.lightMap&&n.enable(7),T.aoMap&&n.enable(8),T.emissiveMap&&n.enable(9),T.bumpMap&&n.enable(10),T.normalMap&&n.enable(11),T.objectSpaceNormalMap&&n.enable(12),T.tangentSpaceNormalMap&&n.enable(13),T.clearcoat&&n.enable(14),T.clearcoatMap&&n.enable(15),T.clearcoatRoughnessMap&&n.enable(16),T.clearcoatNormalMap&&n.enable(17),T.iridescence&&n.enable(18),T.iridescenceMap&&n.enable(19),T.iridescenceThicknessMap&&n.enable(20),T.displacementMap&&n.enable(21),T.specularMap&&n.enable(22),T.roughnessMap&&n.enable(23),T.metalnessMap&&n.enable(24),T.gradientMap&&n.enable(25),T.alphaMap&&n.enable(26),T.alphaTest&&n.enable(27),T.vertexColors&&n.enable(28),T.vertexAlphas&&n.enable(29),T.vertexUvs&&n.enable(30),T.vertexTangents&&n.enable(31),T.uvsVertexOnly&&n.enable(32),T.fog&&n.enable(33),A.push(n.mask),n.disableAll(),T.useFog&&n.enable(0),T.flatShading&&n.enable(1),T.logarithmicDepthBuffer&&n.enable(2),T.skinning&&n.enable(3),T.morphTargets&&n.enable(4),T.morphNormals&&n.enable(5),T.morphColors&&n.enable(6),T.premultipliedAlpha&&n.enable(7),T.shadowMapEnabled&&n.enable(8),T.physicallyCorrectLights&&n.enable(9),T.doubleSided&&n.enable(10),T.flipSided&&n.enable(11),T.useDepthPacking&&n.enable(12),T.dithering&&n.enable(13),T.specularIntensityMap&&n.enable(14),T.specularColorMap&&n.enable(15),T.transmission&&n.enable(16),T.transmissionMap&&n.enable(17),T.thicknessMap&&n.enable(18),T.sheen&&n.enable(19),T.sheenColorMap&&n.enable(20),T.sheenRoughnessMap&&n.enable(21),T.decodeVideoTexture&&n.enable(22),T.opaque&&n.enable(23),A.push(n.mask)}function b(A){const T=g[A.type];let O;if(T){const I=$i[T];O=kne.clone(I.uniforms)}else O=A.uniforms;return O}function _(A,T){let O;for(let I=0,U=c.length;I<U;I++){const B=c[I];if(B.cacheKey===T){O=B,++O.usedTimes;break}}return O===void 0&&(O=new Kue(t,T,A,i),c.push(O)),O}function S(A){if(--A.usedTimes===0){const T=c.indexOf(A);c[T]=c[c.length-1],c.pop(),A.destroy()}}function x(A){d.remove(A)}function w(){d.dispose()}return{getParameters:f,getProgramCacheKey:p,getUniforms:b,acquireProgram:_,releaseProgram:S,releaseShaderCache:x,programs:c,dispose:w}}function tme(){let t=new WeakMap;function e(i){let s=t.get(i);return s===void 0&&(s={},t.set(i,s)),s}function a(i){t.delete(i)}function o(i,s,n){t.get(i)[s]=n}function r(){t=new WeakMap}return{get:e,remove:a,update:o,dispose:r}}function ame(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function E4(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function M4(){const t=[];let e=0;const a=[],o=[],r=[];function i(){e=0,a.length=0,o.length=0,r.length=0}function s(m,u,v,g,f,p){let h=t[e];return h===void 0?(h={id:m.id,object:m,geometry:u,material:v,groupOrder:g,renderOrder:m.renderOrder,z:f,group:p},t[e]=h):(h.id=m.id,h.object=m,h.geometry=u,h.material=v,h.groupOrder=g,h.renderOrder=m.renderOrder,h.z=f,h.group=p),e++,h}function n(m,u,v,g,f,p){const h=s(m,u,v,g,f,p);v.transmission>0?o.push(h):v.transparent===!0?r.push(h):a.push(h)}function d(m,u,v,g,f,p){const h=s(m,u,v,g,f,p);v.transmission>0?o.unshift(h):v.transparent===!0?r.unshift(h):a.unshift(h)}function c(m,u){a.length>1&&a.sort(m||ame),o.length>1&&o.sort(u||E4),r.length>1&&r.sort(u||E4)}function l(){for(let m=e,u=t.length;m<u;m++){const v=t[m];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:a,transmissive:o,transparent:r,init:i,push:n,unshift:d,finish:l,sort:c}}function ome(){let t=new WeakMap;function e(o,r){let i;return t.has(o)===!1?(i=new M4,t.set(o,[i])):r>=t.get(o).length?(i=new M4,t.get(o).push(i)):i=t.get(o)[r],i}function a(){t=new WeakMap}return{get:e,dispose:a}}function rme(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let a;switch(e.type){case"DirectionalLight":a={direction:new ne,color:new Lt};break;case"SpotLight":a={position:new ne,direction:new ne,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new ne,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":a={direction:new ne,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":a={color:new Lt,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=a,a}}}function ime(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let a;switch(e.type){case"DirectionalLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt};break;case"SpotLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt};break;case"PointLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Nt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=a,a}}}let sme=0;function nme(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function dme(t,e){const a=new rme,o=ime(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let l=0;l<9;l++)r.probe.push(new ne);const i=new ne,s=new Xa,n=new Xa;function d(l,m){let u=0,v=0,g=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let f=0,p=0,h=0,y=0,b=0,_=0,S=0,x=0;l.sort(nme);const w=m!==!0?Math.PI:1;for(let T=0,O=l.length;T<O;T++){const I=l[T],U=I.color,B=I.intensity,N=I.distance,z=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=U.r*B*w,v+=U.g*B*w,g+=U.b*B*w;else if(I.isLightProbe)for(let $=0;$<9;$++)r.probe[$].addScaledVector(I.sh.coefficients[$],B);else if(I.isDirectionalLight){const $=a.get(I);if($.color.copy(I.color).multiplyScalar(I.intensity*w),I.castShadow){const Y=I.shadow,F=o.get(I);F.shadowBias=Y.bias,F.shadowNormalBias=Y.normalBias,F.shadowRadius=Y.radius,F.shadowMapSize=Y.mapSize,r.directionalShadow[f]=F,r.directionalShadowMap[f]=z,r.directionalShadowMatrix[f]=I.shadow.matrix,_++}r.directional[f]=$,f++}else if(I.isSpotLight){const $=a.get(I);if($.position.setFromMatrixPosition(I.matrixWorld),$.color.copy(U).multiplyScalar(B*w),$.distance=N,$.coneCos=Math.cos(I.angle),$.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),$.decay=I.decay,I.castShadow){const Y=I.shadow,F=o.get(I);F.shadowBias=Y.bias,F.shadowNormalBias=Y.normalBias,F.shadowRadius=Y.radius,F.shadowMapSize=Y.mapSize,r.spotShadow[h]=F,r.spotShadowMap[h]=z,r.spotShadowMatrix[h]=I.shadow.matrix,x++}r.spot[h]=$,h++}else if(I.isRectAreaLight){const $=a.get(I);$.color.copy(U).multiplyScalar(B),$.halfWidth.set(I.width*.5,0,0),$.halfHeight.set(0,I.height*.5,0),r.rectArea[y]=$,y++}else if(I.isPointLight){const $=a.get(I);if($.color.copy(I.color).multiplyScalar(I.intensity*w),$.distance=I.distance,$.decay=I.decay,I.castShadow){const Y=I.shadow,F=o.get(I);F.shadowBias=Y.bias,F.shadowNormalBias=Y.normalBias,F.shadowRadius=Y.radius,F.shadowMapSize=Y.mapSize,F.shadowCameraNear=Y.camera.near,F.shadowCameraFar=Y.camera.far,r.pointShadow[p]=F,r.pointShadowMap[p]=z,r.pointShadowMatrix[p]=I.shadow.matrix,S++}r.point[p]=$,p++}else if(I.isHemisphereLight){const $=a.get(I);$.skyColor.copy(I.color).multiplyScalar(B*w),$.groundColor.copy(I.groundColor).multiplyScalar(B*w),r.hemi[b]=$,b++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ke.LTC_FLOAT_1,r.rectAreaLTC2=ke.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=ke.LTC_HALF_1,r.rectAreaLTC2=ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=u,r.ambient[1]=v,r.ambient[2]=g;const A=r.hash;(A.directionalLength!==f||A.pointLength!==p||A.spotLength!==h||A.rectAreaLength!==y||A.hemiLength!==b||A.numDirectionalShadows!==_||A.numPointShadows!==S||A.numSpotShadows!==x)&&(r.directional.length=f,r.spot.length=h,r.rectArea.length=y,r.point.length=p,r.hemi.length=b,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=S,r.pointShadowMap.length=S,r.spotShadow.length=x,r.spotShadowMap.length=x,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=S,r.spotShadowMatrix.length=x,A.directionalLength=f,A.pointLength=p,A.spotLength=h,A.rectAreaLength=y,A.hemiLength=b,A.numDirectionalShadows=_,A.numPointShadows=S,A.numSpotShadows=x,r.version=sme++)}function c(l,m){let u=0,v=0,g=0,f=0,p=0;const h=m.matrixWorldInverse;for(let y=0,b=l.length;y<b;y++){const _=l[y];if(_.isDirectionalLight){const S=r.directional[u];S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(h),u++}else if(_.isSpotLight){const S=r.spot[g];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(h),S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(h),g++}else if(_.isRectAreaLight){const S=r.rectArea[f];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(h),n.identity(),s.copy(_.matrixWorld),s.premultiply(h),n.extractRotation(s),S.halfWidth.set(_.width*.5,0,0),S.halfHeight.set(0,_.height*.5,0),S.halfWidth.applyMatrix4(n),S.halfHeight.applyMatrix4(n),f++}else if(_.isPointLight){const S=r.point[v];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(h),v++}else if(_.isHemisphereLight){const S=r.hemi[p];S.direction.setFromMatrixPosition(_.matrixWorld),S.direction.transformDirection(h),p++}}}return{setup:d,setupView:c,state:r}}function T4(t,e){const a=new dme(t,e),o=[],r=[];function i(){o.length=0,r.length=0}function s(l){o.push(l)}function n(l){r.push(l)}function d(l){a.setup(o,l)}function c(l){a.setupView(o,l)}return{init:i,state:{lightsArray:o,shadowsArray:r,lights:a},setupLights:d,setupLightsView:c,pushLight:s,pushShadow:n}}function cme(t,e){let a=new WeakMap;function o(i,s=0){let n;return a.has(i)===!1?(n=new T4(t,e),a.set(i,[n])):s>=a.get(i).length?(n=new T4(t,e),a.get(i).push(n)):n=a.get(i)[s],n}function r(){a=new WeakMap}return{get:o,dispose:r}}class lme extends qc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class ume extends qc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ne,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const mme=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,pme=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function fme(t,e,a){let o=new YS;const r=new Nt,i=new Nt,s=new Qa,n=new lme({depthPacking:3201}),d=new ume,c={},l=a.maxTextureSize,m={0:1,1:0,2:2},u=new Ac({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Nt},radius:{value:4}},vertexShader:mme,fragmentShader:pme}),v=u.clone();v.defines.HORIZONTAL_PASS=1;const g=new as;g.setAttribute("position",new Ji(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new Yi(g,u),p=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(_,S,x){if(p.enabled===!1||p.autoUpdate===!1&&p.needsUpdate===!1||_.length===0)return;const w=t.getRenderTarget(),A=t.getActiveCubeFace(),T=t.getActiveMipmapLevel(),O=t.state;O.setBlending(0),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);for(let I=0,U=_.length;I<U;I++){const B=_[I],N=B.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",B,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const z=N.getFrameExtents();if(r.multiply(z),i.copy(N.mapSize),(r.x>l||r.y>l)&&(r.x>l&&(i.x=Math.floor(l/z.x),r.x=i.x*z.x,N.mapSize.x=i.x),r.y>l&&(i.y=Math.floor(l/z.y),r.y=i.y*z.y,N.mapSize.y=i.y)),N.map===null){const Y=this.type!==3?{minFilter:1003,magFilter:1003}:{};N.map=new Sc(r.x,r.y,Y),N.map.texture.name=B.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const $=N.getViewportCount();for(let Y=0;Y<$;Y++){const F=N.getViewport(Y);s.set(i.x*F.x,i.y*F.y,i.x*F.z,i.y*F.w),O.viewport(s),N.updateMatrices(B,Y),o=N.getFrustum(),b(S,x,N.camera,B,this.type)}N.isPointLightShadow!==!0&&this.type===3&&h(N,x),N.needsUpdate=!1}p.needsUpdate=!1,t.setRenderTarget(w,A,T)};function h(_,S){const x=e.update(f);u.defines.VSM_SAMPLES!==_.blurSamples&&(u.defines.VSM_SAMPLES=_.blurSamples,v.defines.VSM_SAMPLES=_.blurSamples,u.needsUpdate=!0,v.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new Sc(r.x,r.y)),u.uniforms.shadow_pass.value=_.map.texture,u.uniforms.resolution.value=_.mapSize,u.uniforms.radius.value=_.radius,t.setRenderTarget(_.mapPass),t.clear(),t.renderBufferDirect(S,null,x,u,f,null),v.uniforms.shadow_pass.value=_.mapPass.texture,v.uniforms.resolution.value=_.mapSize,v.uniforms.radius.value=_.radius,t.setRenderTarget(_.map),t.clear(),t.renderBufferDirect(S,null,x,v,f,null)}function y(_,S,x,w,A,T){let O=null;const I=x.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(I!==void 0?O=I:O=x.isPointLight===!0?d:n,t.localClippingEnabled&&S.clipShadows===!0&&Array.isArray(S.clippingPlanes)&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0){const U=O.uuid,B=S.uuid;let N=c[U];N===void 0&&(N={},c[U]=N);let z=N[B];z===void 0&&(z=O.clone(),N[B]=z),O=z}return O.visible=S.visible,O.wireframe=S.wireframe,T===3?O.side=S.shadowSide!==null?S.shadowSide:S.side:O.side=S.shadowSide!==null?S.shadowSide:m[S.side],O.alphaMap=S.alphaMap,O.alphaTest=S.alphaTest,O.clipShadows=S.clipShadows,O.clippingPlanes=S.clippingPlanes,O.clipIntersection=S.clipIntersection,O.displacementMap=S.displacementMap,O.displacementScale=S.displacementScale,O.displacementBias=S.displacementBias,O.wireframeLinewidth=S.wireframeLinewidth,O.linewidth=S.linewidth,x.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(x.matrixWorld),O.nearDistance=w,O.farDistance=A),O}function b(_,S,x,w,A){if(_.visible===!1)return;if(_.layers.test(S.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&A===3)&&(!_.frustumCulled||o.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,_.matrixWorld);const O=e.update(_),I=_.material;if(Array.isArray(I)){const U=O.groups;for(let B=0,N=U.length;B<N;B++){const z=U[B],$=I[z.materialIndex];if($&&$.visible){const Y=y(_,$,w,x.near,x.far,A);t.renderBufferDirect(x,null,O,Y,_,z)}}}else if(I.visible){const U=y(_,I,w,x.near,x.far,A);t.renderBufferDirect(x,null,O,U,_,null)}}const T=_.children;for(let O=0,I=T.length;O<I;O++)b(T[O],S,x,w,A)}}function hme(t,e,a){const o=a.isWebGL2;function r(){let ae=!1;const He=new Qa;let he=null;const Ze=new Qa(0,0,0,0);return{setMask:function(Ne){he!==Ne&&!ae&&(t.colorMask(Ne,Ne,Ne,Ne),he=Ne)},setLocked:function(Ne){ae=Ne},setClear:function(Ne,Xt,ee,re,ve){ve===!0&&(Ne*=re,Xt*=re,ee*=re),He.set(Ne,Xt,ee,re),Ze.equals(He)===!1&&(t.clearColor(Ne,Xt,ee,re),Ze.copy(He))},reset:function(){ae=!1,he=null,Ze.set(-1,0,0,0)}}}function i(){let ae=!1,He=null,he=null,Ze=null;return{setTest:function(Ne){Ne?Ee(2929):Ae(2929)},setMask:function(Ne){He!==Ne&&!ae&&(t.depthMask(Ne),He=Ne)},setFunc:function(Ne){if(he!==Ne){if(Ne)switch(Ne){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);he=Ne}},setLocked:function(Ne){ae=Ne},setClear:function(Ne){Ze!==Ne&&(t.clearDepth(Ne),Ze=Ne)},reset:function(){ae=!1,He=null,he=null,Ze=null}}}function s(){let ae=!1,He=null,he=null,Ze=null,Ne=null,Xt=null,ee=null,re=null,ve=null;return{setTest:function(Se){ae||(Se?Ee(2960):Ae(2960))},setMask:function(Se){He!==Se&&!ae&&(t.stencilMask(Se),He=Se)},setFunc:function(Se,Ue,nt){(he!==Se||Ze!==Ue||Ne!==nt)&&(t.stencilFunc(Se,Ue,nt),he=Se,Ze=Ue,Ne=nt)},setOp:function(Se,Ue,nt){(Xt!==Se||ee!==Ue||re!==nt)&&(t.stencilOp(Se,Ue,nt),Xt=Se,ee=Ue,re=nt)},setLocked:function(Se){ae=Se},setClear:function(Se){ve!==Se&&(t.clearStencil(Se),ve=Se)},reset:function(){ae=!1,He=null,he=null,Ze=null,Ne=null,Xt=null,ee=null,re=null,ve=null}}}const n=new r,d=new i,c=new s,l=new WeakMap,m=new WeakMap;let u={},v={},g=new WeakMap,f=[],p=null,h=!1,y=null,b=null,_=null,S=null,x=null,w=null,A=null,T=!1,O=null,I=null,U=null,B=null,N=null;const z=t.getParameter(35661);let $=!1,Y=0;const F=t.getParameter(7938);F.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(F)[1]),$=Y>=1):F.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),$=Y>=2);let V=null,Z={};const se=t.getParameter(3088),J=t.getParameter(2978),te=new Qa().fromArray(se),me=new Qa().fromArray(J);function xe(ae,He,he){const Ze=new Uint8Array(4),Ne=t.createTexture();t.bindTexture(ae,Ne),t.texParameteri(ae,10241,9728),t.texParameteri(ae,10240,9728);for(let Xt=0;Xt<he;Xt++)t.texImage2D(He+Xt,0,6408,1,1,0,6408,5121,Ze);return Ne}const Q={};Q[3553]=xe(3553,3553,1),Q[34067]=xe(34067,34069,6),n.setClear(0,0,0,1),d.setClear(1),c.setClear(0),Ee(2929),d.setFunc(3),jt(!1),Bt(1),Ee(2884),Qe(0);function Ee(ae){u[ae]!==!0&&(t.enable(ae),u[ae]=!0)}function Ae(ae){u[ae]!==!1&&(t.disable(ae),u[ae]=!1)}function Ce(ae,He){return v[ae]!==He?(t.bindFramebuffer(ae,He),v[ae]=He,o&&(ae===36009&&(v[36160]=He),ae===36160&&(v[36009]=He)),!0):!1}function we(ae,He){let he=f,Ze=!1;if(ae)if(he=g.get(He),he===void 0&&(he=[],g.set(He,he)),ae.isWebGLMultipleRenderTargets){const Ne=ae.texture;if(he.length!==Ne.length||he[0]!==36064){for(let Xt=0,ee=Ne.length;Xt<ee;Xt++)he[Xt]=36064+Xt;he.length=Ne.length,Ze=!0}}else he[0]!==36064&&(he[0]=36064,Ze=!0);else he[0]!==1029&&(he[0]=1029,Ze=!0);Ze&&(a.isWebGL2?t.drawBuffers(he):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(he))}function De(ae){return p!==ae?(t.useProgram(ae),p=ae,!0):!1}const Te={100:32774,101:32778,102:32779};if(o)Te[103]=32775,Te[104]=32776;else{const ae=e.get("EXT_blend_minmax");ae!==null&&(Te[103]=ae.MIN_EXT,Te[104]=ae.MAX_EXT)}const _e={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Qe(ae,He,he,Ze,Ne,Xt,ee,re){if(ae===0){h===!0&&(Ae(3042),h=!1);return}if(h===!1&&(Ee(3042),h=!0),ae!==5){if(ae!==y||re!==T){if((b!==100||x!==100)&&(t.blendEquation(32774),b=100,x=100),re)switch(ae){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}else switch(ae){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ae);break}_=null,S=null,w=null,A=null,y=ae,T=re}return}Ne=Ne||He,Xt=Xt||he,ee=ee||Ze,(He!==b||Ne!==x)&&(t.blendEquationSeparate(Te[He],Te[Ne]),b=He,x=Ne),(he!==_||Ze!==S||Xt!==w||ee!==A)&&(t.blendFuncSeparate(_e[he],_e[Ze],_e[Xt],_e[ee]),_=he,S=Ze,w=Xt,A=ee),y=ae,T=null}function tt(ae,He){ae.side===2?Ae(2884):Ee(2884);let he=ae.side===1;He&&(he=!he),jt(he),ae.blending===1&&ae.transparent===!1?Qe(0):Qe(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.premultipliedAlpha),d.setFunc(ae.depthFunc),d.setTest(ae.depthTest),d.setMask(ae.depthWrite),n.setMask(ae.colorWrite);const Ze=ae.stencilWrite;c.setTest(Ze),Ze&&(c.setMask(ae.stencilWriteMask),c.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),c.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),mt(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?Ee(32926):Ae(32926)}function jt(ae){O!==ae&&(ae?t.frontFace(2304):t.frontFace(2305),O=ae)}function Bt(ae){ae!==0?(Ee(2884),ae!==I&&(ae===1?t.cullFace(1029):ae===2?t.cullFace(1028):t.cullFace(1032))):Ae(2884),I=ae}function At(ae){ae!==U&&($&&t.lineWidth(ae),U=ae)}function mt(ae,He,he){ae?(Ee(32823),(B!==He||N!==he)&&(t.polygonOffset(He,he),B=He,N=he)):Ae(32823)}function de(ae){ae?Ee(3089):Ae(3089)}function oe(ae){ae===void 0&&(ae=33984+z-1),V!==ae&&(t.activeTexture(ae),V=ae)}function q(ae,He){V===null&&oe();let he=Z[V];he===void 0&&(he={type:void 0,texture:void 0},Z[V]=he),(he.type!==ae||he.texture!==He)&&(t.bindTexture(ae,He||Q[ae]),he.type=ae,he.texture=He)}function E(){const ae=Z[V];ae!==void 0&&ae.type!==void 0&&(t.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function D(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function k(){try{t.texSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function K(){try{t.texSubImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function le(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ge(){try{t.texStorage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function X(){try{t.texStorage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function Pe(){try{t.texImage2D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function ze(){try{t.texImage3D.apply(t,arguments)}catch(ae){console.error("THREE.WebGLState:",ae)}}function We(ae){te.equals(ae)===!1&&(t.scissor(ae.x,ae.y,ae.z,ae.w),te.copy(ae))}function ye(ae){me.equals(ae)===!1&&(t.viewport(ae.x,ae.y,ae.z,ae.w),me.copy(ae))}function Ve(ae,He){let he=m.get(He);he===void 0&&(he=new WeakMap,m.set(He,he));let Ze=he.get(ae);Ze===void 0&&(Ze=t.getUniformBlockIndex(He,ae.name),he.set(ae,Ze))}function et(ae,He){const he=m.get(He).get(ae);l.get(ae)!==he&&(t.uniformBlockBinding(He,he,ae.__bindingPointIndex),l.set(ae,he))}function Ft(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),o===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},V=null,Z={},v={},g=new WeakMap,f=[],p=null,h=!1,y=null,b=null,_=null,S=null,x=null,w=null,A=null,T=!1,O=null,I=null,U=null,B=null,N=null,te.set(0,0,t.canvas.width,t.canvas.height),me.set(0,0,t.canvas.width,t.canvas.height),n.reset(),d.reset(),c.reset()}return{buffers:{color:n,depth:d,stencil:c},enable:Ee,disable:Ae,bindFramebuffer:Ce,drawBuffers:we,useProgram:De,setBlending:Qe,setMaterial:tt,setFlipSided:jt,setCullFace:Bt,setLineWidth:At,setPolygonOffset:mt,setScissorTest:de,activeTexture:oe,bindTexture:q,unbindTexture:E,compressedTexImage2D:D,texImage2D:Pe,texImage3D:ze,updateUBOMapping:Ve,uniformBlockBinding:et,texStorage2D:ge,texStorage3D:X,texSubImage2D:k,texSubImage3D:K,compressedTexSubImage2D:le,scissor:We,viewport:ye,reset:Ft}}function vme(t,e,a,o,r,i,s){const n=r.isWebGL2,d=r.maxTextures,c=r.maxCubemapSize,l=r.maxTextureSize,m=r.maxSamples,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let f;const p=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(q,E){return h?new OffscreenCanvas(q,E):S0("canvas")}function b(q,E,D,k){let K=1;if((q.width>k||q.height>k)&&(K=k/Math.max(q.width,q.height)),K<1||E===!0)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap){const le=E?tx:Math.floor,ge=le(K*q.width),X=le(K*q.height);f===void 0&&(f=y(ge,X));const Pe=D?y(ge,X):f;return Pe.width=ge,Pe.height=X,Pe.getContext("2d").drawImage(q,0,0,ge,X),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+q.width+"x"+q.height+") to ("+ge+"x"+X+")."),Pe}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+q.width+"x"+q.height+")."),q;return q}function _(q){return YC(q.width)&&YC(q.height)}function S(q){return n?!1:q.wrapS!==1001||q.wrapT!==1001||q.minFilter!==1003&&q.minFilter!==1006}function x(q,E){return q.generateMipmaps&&E&&q.minFilter!==1003&&q.minFilter!==1006}function w(q){t.generateMipmap(q)}function A(q,E,D,k,K=!1){if(n===!1)return E;if(q!==null){if(t[q]!==void 0)return t[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let le=E;return E===6403&&(D===5126&&(le=33326),D===5131&&(le=33325),D===5121&&(le=33321)),E===33319&&(D===5126&&(le=33328),D===5131&&(le=33327),D===5121&&(le=33323)),E===6408&&(D===5126&&(le=34836),D===5131&&(le=34842),D===5121&&(le=k===3001&&K===!1?35907:32856),D===32819&&(le=32854),D===32820&&(le=32855)),(le===33325||le===33326||le===33327||le===33328||le===34842||le===34836)&&e.get("EXT_color_buffer_float"),le}function T(q,E,D){return x(q,D)===!0||q.isFramebufferTexture&&q.minFilter!==1003&&q.minFilter!==1006?Math.log2(Math.max(E.width,E.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?E.mipmaps.length:1}function O(q){return q===1003||q===1004||q===1005?9728:9729}function I(q){const E=q.target;E.removeEventListener("dispose",I),B(E),E.isVideoTexture&&g.delete(E)}function U(q){const E=q.target;E.removeEventListener("dispose",U),z(E)}function B(q){const E=o.get(q);if(E.__webglInit===void 0)return;const D=q.source,k=p.get(D);if(k){const K=k[E.__cacheKey];K.usedTimes--,K.usedTimes===0&&N(q),Object.keys(k).length===0&&p.delete(D)}o.remove(q)}function N(q){const E=o.get(q);t.deleteTexture(E.__webglTexture);const D=q.source,k=p.get(D);delete k[E.__cacheKey],s.memory.textures--}function z(q){const E=q.texture,D=o.get(q),k=o.get(E);if(k.__webglTexture!==void 0&&(t.deleteTexture(k.__webglTexture),s.memory.textures--),q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let K=0;K<6;K++)t.deleteFramebuffer(D.__webglFramebuffer[K]),D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer[K]);else{if(t.deleteFramebuffer(D.__webglFramebuffer),D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer),D.__webglMultisampledFramebuffer&&t.deleteFramebuffer(D.__webglMultisampledFramebuffer),D.__webglColorRenderbuffer)for(let K=0;K<D.__webglColorRenderbuffer.length;K++)D.__webglColorRenderbuffer[K]&&t.deleteRenderbuffer(D.__webglColorRenderbuffer[K]);D.__webglDepthRenderbuffer&&t.deleteRenderbuffer(D.__webglDepthRenderbuffer)}if(q.isWebGLMultipleRenderTargets)for(let K=0,le=E.length;K<le;K++){const ge=o.get(E[K]);ge.__webglTexture&&(t.deleteTexture(ge.__webglTexture),s.memory.textures--),o.remove(E[K])}o.remove(E),o.remove(q)}let $=0;function Y(){$=0}function F(){const q=$;return q>=d&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+d),$+=1,q}function V(q){const E=[];return E.push(q.wrapS),E.push(q.wrapT),E.push(q.magFilter),E.push(q.minFilter),E.push(q.anisotropy),E.push(q.internalFormat),E.push(q.format),E.push(q.type),E.push(q.generateMipmaps),E.push(q.premultiplyAlpha),E.push(q.flipY),E.push(q.unpackAlignment),E.push(q.encoding),E.join()}function Z(q,E){const D=o.get(q);if(q.isVideoTexture&&de(q),q.isRenderTargetTexture===!1&&q.version>0&&D.__version!==q.version){const k=q.image;if(k===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(k.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ae(D,q,E);return}}a.activeTexture(33984+E),a.bindTexture(3553,D.__webglTexture)}function se(q,E){const D=o.get(q);if(q.version>0&&D.__version!==q.version){Ae(D,q,E);return}a.activeTexture(33984+E),a.bindTexture(35866,D.__webglTexture)}function J(q,E){const D=o.get(q);if(q.version>0&&D.__version!==q.version){Ae(D,q,E);return}a.activeTexture(33984+E),a.bindTexture(32879,D.__webglTexture)}function te(q,E){const D=o.get(q);if(q.version>0&&D.__version!==q.version){Ce(D,q,E);return}a.activeTexture(33984+E),a.bindTexture(34067,D.__webglTexture)}const me={1e3:10497,1001:33071,1002:33648},xe={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function Q(q,E,D){if(D?(t.texParameteri(q,10242,me[E.wrapS]),t.texParameteri(q,10243,me[E.wrapT]),(q===32879||q===35866)&&t.texParameteri(q,32882,me[E.wrapR]),t.texParameteri(q,10240,xe[E.magFilter]),t.texParameteri(q,10241,xe[E.minFilter])):(t.texParameteri(q,10242,33071),t.texParameteri(q,10243,33071),(q===32879||q===35866)&&t.texParameteri(q,32882,33071),(E.wrapS!==1001||E.wrapT!==1001)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(q,10240,O(E.magFilter)),t.texParameteri(q,10241,O(E.minFilter)),E.minFilter!==1003&&E.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");if(E.type===1015&&e.has("OES_texture_float_linear")===!1||n===!1&&E.type===1016&&e.has("OES_texture_half_float_linear")===!1)return;(E.anisotropy>1||o.get(E).__currentAnisotropy)&&(t.texParameterf(q,k.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,r.getMaxAnisotropy())),o.get(E).__currentAnisotropy=E.anisotropy)}}function Ee(q,E){let D=!1;q.__webglInit===void 0&&(q.__webglInit=!0,E.addEventListener("dispose",I));const k=E.source;let K=p.get(k);K===void 0&&(K={},p.set(k,K));const le=V(E);if(le!==q.__cacheKey){K[le]===void 0&&(K[le]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,D=!0),K[le].usedTimes++;const ge=K[q.__cacheKey];ge!==void 0&&(K[q.__cacheKey].usedTimes--,ge.usedTimes===0&&N(E)),q.__cacheKey=le,q.__webglTexture=K[le].texture}return D}function Ae(q,E,D){let k=3553;E.isDataArrayTexture&&(k=35866),E.isData3DTexture&&(k=32879);const K=Ee(q,E),le=E.source;if(a.activeTexture(33984+D),a.bindTexture(k,q.__webglTexture),le.version!==le.__currentVersion||K===!0){t.pixelStorei(37440,E.flipY),t.pixelStorei(37441,E.premultiplyAlpha),t.pixelStorei(3317,E.unpackAlignment),t.pixelStorei(37443,0);const ge=S(E)&&_(E.image)===!1;let X=b(E.image,ge,!1,l);X=oe(E,X);const Pe=_(X)||n,ze=i.convert(E.format,E.encoding);let We=i.convert(E.type),ye=A(E.internalFormat,ze,We,E.encoding,E.isVideoTexture);Q(k,E,Pe);let Ve;const et=E.mipmaps,Ft=n&&E.isVideoTexture!==!0,ae=le.__currentVersion===void 0||K===!0,He=T(E,X,Pe);if(E.isDepthTexture)ye=6402,n?E.type===1015?ye=36012:E.type===1014?ye=33190:E.type===1020?ye=35056:ye=33189:E.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),E.format===1026&&ye===6402&&E.type!==1012&&E.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),E.type=1014,We=i.convert(E.type)),E.format===1027&&ye===6402&&(ye=34041,E.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),E.type=1020,We=i.convert(E.type))),ae&&(Ft?a.texStorage2D(3553,1,ye,X.width,X.height):a.texImage2D(3553,0,ye,X.width,X.height,0,ze,We,null));else if(E.isDataTexture)if(et.length>0&&Pe){Ft&&ae&&a.texStorage2D(3553,He,ye,et[0].width,et[0].height);for(let he=0,Ze=et.length;he<Ze;he++)Ve=et[he],Ft?a.texSubImage2D(3553,he,0,0,Ve.width,Ve.height,ze,We,Ve.data):a.texImage2D(3553,he,ye,Ve.width,Ve.height,0,ze,We,Ve.data);E.generateMipmaps=!1}else Ft?(ae&&a.texStorage2D(3553,He,ye,X.width,X.height),a.texSubImage2D(3553,0,0,0,X.width,X.height,ze,We,X.data)):a.texImage2D(3553,0,ye,X.width,X.height,0,ze,We,X.data);else if(E.isCompressedTexture){Ft&&ae&&a.texStorage2D(3553,He,ye,et[0].width,et[0].height);for(let he=0,Ze=et.length;he<Ze;he++)Ve=et[he],E.format!==1023?ze!==null?Ft?a.compressedTexSubImage2D(3553,he,0,0,Ve.width,Ve.height,ze,Ve.data):a.compressedTexImage2D(3553,he,ye,Ve.width,Ve.height,0,Ve.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ft?a.texSubImage2D(3553,he,0,0,Ve.width,Ve.height,ze,We,Ve.data):a.texImage2D(3553,he,ye,Ve.width,Ve.height,0,ze,We,Ve.data)}else if(E.isDataArrayTexture)Ft?(ae&&a.texStorage3D(35866,He,ye,X.width,X.height,X.depth),a.texSubImage3D(35866,0,0,0,0,X.width,X.height,X.depth,ze,We,X.data)):a.texImage3D(35866,0,ye,X.width,X.height,X.depth,0,ze,We,X.data);else if(E.isData3DTexture)Ft?(ae&&a.texStorage3D(32879,He,ye,X.width,X.height,X.depth),a.texSubImage3D(32879,0,0,0,0,X.width,X.height,X.depth,ze,We,X.data)):a.texImage3D(32879,0,ye,X.width,X.height,X.depth,0,ze,We,X.data);else if(E.isFramebufferTexture){if(ae)if(Ft)a.texStorage2D(3553,He,ye,X.width,X.height);else{let he=X.width,Ze=X.height;for(let Ne=0;Ne<He;Ne++)a.texImage2D(3553,Ne,ye,he,Ze,0,ze,We,null),he>>=1,Ze>>=1}}else if(et.length>0&&Pe){Ft&&ae&&a.texStorage2D(3553,He,ye,et[0].width,et[0].height);for(let he=0,Ze=et.length;he<Ze;he++)Ve=et[he],Ft?a.texSubImage2D(3553,he,0,0,ze,We,Ve):a.texImage2D(3553,he,ye,ze,We,Ve);E.generateMipmaps=!1}else Ft?(ae&&a.texStorage2D(3553,He,ye,X.width,X.height),a.texSubImage2D(3553,0,0,0,ze,We,X)):a.texImage2D(3553,0,ye,ze,We,X);x(E,Pe)&&w(k),le.__currentVersion=le.version,E.onUpdate&&E.onUpdate(E)}q.__version=E.version}function Ce(q,E,D){if(E.image.length!==6)return;const k=Ee(q,E),K=E.source;if(a.activeTexture(33984+D),a.bindTexture(34067,q.__webglTexture),K.version!==K.__currentVersion||k===!0){t.pixelStorei(37440,E.flipY),t.pixelStorei(37441,E.premultiplyAlpha),t.pixelStorei(3317,E.unpackAlignment),t.pixelStorei(37443,0);const le=E.isCompressedTexture||E.image[0].isCompressedTexture,ge=E.image[0]&&E.image[0].isDataTexture,X=[];for(let he=0;he<6;he++)!le&&!ge?X[he]=b(E.image[he],!1,!0,c):X[he]=ge?E.image[he].image:E.image[he],X[he]=oe(E,X[he]);const Pe=X[0],ze=_(Pe)||n,We=i.convert(E.format,E.encoding),ye=i.convert(E.type),Ve=A(E.internalFormat,We,ye,E.encoding),et=n&&E.isVideoTexture!==!0,Ft=K.__currentVersion===void 0||k===!0;let ae=T(E,Pe,ze);Q(34067,E,ze);let He;if(le){et&&Ft&&a.texStorage2D(34067,ae,Ve,Pe.width,Pe.height);for(let he=0;he<6;he++){He=X[he].mipmaps;for(let Ze=0;Ze<He.length;Ze++){const Ne=He[Ze];E.format!==1023?We!==null?et?a.compressedTexSubImage2D(34069+he,Ze,0,0,Ne.width,Ne.height,We,Ne.data):a.compressedTexImage2D(34069+he,Ze,Ve,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):et?a.texSubImage2D(34069+he,Ze,0,0,Ne.width,Ne.height,We,ye,Ne.data):a.texImage2D(34069+he,Ze,Ve,Ne.width,Ne.height,0,We,ye,Ne.data)}}}else{He=E.mipmaps,et&&Ft&&(He.length>0&&ae++,a.texStorage2D(34067,ae,Ve,X[0].width,X[0].height));for(let he=0;he<6;he++)if(ge){et?a.texSubImage2D(34069+he,0,0,0,X[he].width,X[he].height,We,ye,X[he].data):a.texImage2D(34069+he,0,Ve,X[he].width,X[he].height,0,We,ye,X[he].data);for(let Ze=0;Ze<He.length;Ze++){const Ne=He[Ze].image[he].image;et?a.texSubImage2D(34069+he,Ze+1,0,0,Ne.width,Ne.height,We,ye,Ne.data):a.texImage2D(34069+he,Ze+1,Ve,Ne.width,Ne.height,0,We,ye,Ne.data)}}else{et?a.texSubImage2D(34069+he,0,0,0,We,ye,X[he]):a.texImage2D(34069+he,0,Ve,We,ye,X[he]);for(let Ze=0;Ze<He.length;Ze++){const Ne=He[Ze];et?a.texSubImage2D(34069+he,Ze+1,0,0,We,ye,Ne.image[he]):a.texImage2D(34069+he,Ze+1,Ve,We,ye,Ne.image[he])}}}x(E,ze)&&w(34067),K.__currentVersion=K.version,E.onUpdate&&E.onUpdate(E)}q.__version=E.version}function we(q,E,D,k,K){const le=i.convert(D.format,D.encoding),ge=i.convert(D.type),X=A(D.internalFormat,le,ge,D.encoding);o.get(E).__hasExternalTextures||(K===32879||K===35866?a.texImage3D(K,0,X,E.width,E.height,E.depth,0,le,ge,null):a.texImage2D(K,0,X,E.width,E.height,0,le,ge,null)),a.bindFramebuffer(36160,q),mt(E)?u.framebufferTexture2DMultisampleEXT(36160,k,K,o.get(D).__webglTexture,0,At(E)):t.framebufferTexture2D(36160,k,K,o.get(D).__webglTexture,0),a.bindFramebuffer(36160,null)}function De(q,E,D){if(t.bindRenderbuffer(36161,q),E.depthBuffer&&!E.stencilBuffer){let k=33189;if(D||mt(E)){const K=E.depthTexture;K&&K.isDepthTexture&&(K.type===1015?k=36012:K.type===1014&&(k=33190));const le=At(E);mt(E)?u.renderbufferStorageMultisampleEXT(36161,le,k,E.width,E.height):t.renderbufferStorageMultisample(36161,le,k,E.width,E.height)}else t.renderbufferStorage(36161,k,E.width,E.height);t.framebufferRenderbuffer(36160,36096,36161,q)}else if(E.depthBuffer&&E.stencilBuffer){const k=At(E);D&&mt(E)===!1?t.renderbufferStorageMultisample(36161,k,35056,E.width,E.height):mt(E)?u.renderbufferStorageMultisampleEXT(36161,k,35056,E.width,E.height):t.renderbufferStorage(36161,34041,E.width,E.height),t.framebufferRenderbuffer(36160,33306,36161,q)}else{const k=E.isWebGLMultipleRenderTargets===!0?E.texture:[E.texture];for(let K=0;K<k.length;K++){const le=k[K],ge=i.convert(le.format,le.encoding),X=i.convert(le.type),Pe=A(le.internalFormat,ge,X,le.encoding),ze=At(E);D&&mt(E)===!1?t.renderbufferStorageMultisample(36161,ze,Pe,E.width,E.height):mt(E)?u.renderbufferStorageMultisampleEXT(36161,ze,Pe,E.width,E.height):t.renderbufferStorage(36161,Pe,E.width,E.height)}}t.bindRenderbuffer(36161,null)}function Te(q,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(36160,q),!(E.depthTexture&&E.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(E.depthTexture).__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),Z(E.depthTexture,0);const D=o.get(E.depthTexture).__webglTexture,k=At(E);if(E.depthTexture.format===1026)mt(E)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,D,0,k):t.framebufferTexture2D(36160,36096,3553,D,0);else if(E.depthTexture.format===1027)mt(E)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,D,0,k):t.framebufferTexture2D(36160,33306,3553,D,0);else throw new Error("Unknown depthTexture format")}function _e(q){const E=o.get(q),D=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture&&!E.__autoAllocateDepthBuffer){if(D)throw new Error("target.depthTexture not supported in Cube render targets");Te(E.__webglFramebuffer,q)}else if(D){E.__webglDepthbuffer=[];for(let k=0;k<6;k++)a.bindFramebuffer(36160,E.__webglFramebuffer[k]),E.__webglDepthbuffer[k]=t.createRenderbuffer(),De(E.__webglDepthbuffer[k],q,!1)}else a.bindFramebuffer(36160,E.__webglFramebuffer),E.__webglDepthbuffer=t.createRenderbuffer(),De(E.__webglDepthbuffer,q,!1);a.bindFramebuffer(36160,null)}function Qe(q,E,D){const k=o.get(q);E!==void 0&&we(k.__webglFramebuffer,q,q.texture,36064,3553),D!==void 0&&_e(q)}function tt(q){const E=q.texture,D=o.get(q),k=o.get(E);q.addEventListener("dispose",U),q.isWebGLMultipleRenderTargets!==!0&&(k.__webglTexture===void 0&&(k.__webglTexture=t.createTexture()),k.__version=E.version,s.memory.textures++);const K=q.isWebGLCubeRenderTarget===!0,le=q.isWebGLMultipleRenderTargets===!0,ge=_(q)||n;if(K){D.__webglFramebuffer=[];for(let X=0;X<6;X++)D.__webglFramebuffer[X]=t.createFramebuffer()}else{if(D.__webglFramebuffer=t.createFramebuffer(),le)if(r.drawBuffers){const X=q.texture;for(let Pe=0,ze=X.length;Pe<ze;Pe++){const We=o.get(X[Pe]);We.__webglTexture===void 0&&(We.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(n&&q.samples>0&&mt(q)===!1){const X=le?E:[E];D.__webglMultisampledFramebuffer=t.createFramebuffer(),D.__webglColorRenderbuffer=[],a.bindFramebuffer(36160,D.__webglMultisampledFramebuffer);for(let Pe=0;Pe<X.length;Pe++){const ze=X[Pe];D.__webglColorRenderbuffer[Pe]=t.createRenderbuffer(),t.bindRenderbuffer(36161,D.__webglColorRenderbuffer[Pe]);const We=i.convert(ze.format,ze.encoding),ye=i.convert(ze.type),Ve=A(ze.internalFormat,We,ye,ze.encoding),et=At(q);t.renderbufferStorageMultisample(36161,et,Ve,q.width,q.height),t.framebufferRenderbuffer(36160,36064+Pe,36161,D.__webglColorRenderbuffer[Pe])}t.bindRenderbuffer(36161,null),q.depthBuffer&&(D.__webglDepthRenderbuffer=t.createRenderbuffer(),De(D.__webglDepthRenderbuffer,q,!0)),a.bindFramebuffer(36160,null)}}if(K){a.bindTexture(34067,k.__webglTexture),Q(34067,E,ge);for(let X=0;X<6;X++)we(D.__webglFramebuffer[X],q,E,36064,34069+X);x(E,ge)&&w(34067),a.unbindTexture()}else if(le){const X=q.texture;for(let Pe=0,ze=X.length;Pe<ze;Pe++){const We=X[Pe],ye=o.get(We);a.bindTexture(3553,ye.__webglTexture),Q(3553,We,ge),we(D.__webglFramebuffer,q,We,36064+Pe,3553),x(We,ge)&&w(3553)}a.unbindTexture()}else{let X=3553;(q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(n?X=q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),a.bindTexture(X,k.__webglTexture),Q(X,E,ge),we(D.__webglFramebuffer,q,E,36064,X),x(E,ge)&&w(X),a.unbindTexture()}q.depthBuffer&&_e(q)}function jt(q){const E=_(q)||n,D=q.isWebGLMultipleRenderTargets===!0?q.texture:[q.texture];for(let k=0,K=D.length;k<K;k++){const le=D[k];if(x(le,E)){const ge=q.isWebGLCubeRenderTarget?34067:3553,X=o.get(le).__webglTexture;a.bindTexture(ge,X),w(ge),a.unbindTexture()}}}function Bt(q){if(n&&q.samples>0&&mt(q)===!1){const E=q.isWebGLMultipleRenderTargets?q.texture:[q.texture],D=q.width,k=q.height;let K=16384;const le=[],ge=q.stencilBuffer?33306:36096,X=o.get(q),Pe=q.isWebGLMultipleRenderTargets===!0;if(Pe)for(let ze=0;ze<E.length;ze++)a.bindFramebuffer(36160,X.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+ze,36161,null),a.bindFramebuffer(36160,X.__webglFramebuffer),t.framebufferTexture2D(36009,36064+ze,3553,null,0);a.bindFramebuffer(36008,X.__webglMultisampledFramebuffer),a.bindFramebuffer(36009,X.__webglFramebuffer);for(let ze=0;ze<E.length;ze++){le.push(36064+ze),q.depthBuffer&&le.push(ge);const We=X.__ignoreDepthValues!==void 0?X.__ignoreDepthValues:!1;if(We===!1&&(q.depthBuffer&&(K|=256),q.stencilBuffer&&(K|=1024)),Pe&&t.framebufferRenderbuffer(36008,36064,36161,X.__webglColorRenderbuffer[ze]),We===!0&&(t.invalidateFramebuffer(36008,[ge]),t.invalidateFramebuffer(36009,[ge])),Pe){const ye=o.get(E[ze]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,ye,0)}t.blitFramebuffer(0,0,D,k,0,0,D,k,K,9728),v&&t.invalidateFramebuffer(36008,le)}if(a.bindFramebuffer(36008,null),a.bindFramebuffer(36009,null),Pe)for(let ze=0;ze<E.length;ze++){a.bindFramebuffer(36160,X.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+ze,36161,X.__webglColorRenderbuffer[ze]);const We=o.get(E[ze]).__webglTexture;a.bindFramebuffer(36160,X.__webglFramebuffer),t.framebufferTexture2D(36009,36064+ze,3553,We,0)}a.bindFramebuffer(36009,X.__webglMultisampledFramebuffer)}}function At(q){return Math.min(m,q.samples)}function mt(q){const E=o.get(q);return n&&q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&E.__useRenderToTexture!==!1}function de(q){const E=s.render.frame;g.get(q)!==E&&(g.set(q,E),q.update())}function oe(q,E){const D=q.encoding,k=q.format,K=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||q.format===1035||D!==3e3&&(D===3001?n===!1?e.has("EXT_sRGB")===!0&&k===1023?(q.format=1035,q.minFilter=1006,q.generateMipmaps=!1):E=PP.sRGBToLinear(E):(k!==1023||K!==1009)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",D)),E}this.allocateTextureUnit=F,this.resetTextureUnits=Y,this.setTexture2D=Z,this.setTexture2DArray=se,this.setTexture3D=J,this.setTextureCube=te,this.rebindTextures=Qe,this.setupRenderTarget=tt,this.updateRenderTargetMipmap=jt,this.updateMultisampleRenderTarget=Bt,this.setupDepthRenderbuffer=_e,this.setupFrameBufferTexture=we,this.useMultisampledRTT=mt}function gme(t,e,a){const o=a.isWebGL2;function r(i,s=null){let n;if(i===1009)return 5121;if(i===1017)return 32819;if(i===1018)return 32820;if(i===1010)return 5120;if(i===1011)return 5122;if(i===1012)return 5123;if(i===1013)return 5124;if(i===1014)return 5125;if(i===1015)return 5126;if(i===1016)return o?5131:(n=e.get("OES_texture_half_float"),n!==null?n.HALF_FLOAT_OES:null);if(i===1021)return 6406;if(i===1023)return 6408;if(i===1024)return 6409;if(i===1025)return 6410;if(i===1026)return 6402;if(i===1027)return 34041;if(i===1028)return 6403;if(i===1022)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(i===1035)return n=e.get("EXT_sRGB"),n!==null?n.SRGB_ALPHA_EXT:null;if(i===1029)return 36244;if(i===1030)return 33319;if(i===1031)return 33320;if(i===1033)return 36249;if(i===33776||i===33777||i===33778||i===33779)if(s===3001)if(n=e.get("WEBGL_compressed_texture_s3tc_srgb"),n!==null){if(i===33776)return n.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===33777)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===33778)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===33779)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(n=e.get("WEBGL_compressed_texture_s3tc"),n!==null){if(i===33776)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===33777)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===33778)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===33779)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===35840||i===35841||i===35842||i===35843)if(n=e.get("WEBGL_compressed_texture_pvrtc"),n!==null){if(i===35840)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===35841)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===35842)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===35843)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===36196)return n=e.get("WEBGL_compressed_texture_etc1"),n!==null?n.COMPRESSED_RGB_ETC1_WEBGL:null;if(i===37492||i===37496)if(n=e.get("WEBGL_compressed_texture_etc"),n!==null){if(i===37492)return s===3001?n.COMPRESSED_SRGB8_ETC2:n.COMPRESSED_RGB8_ETC2;if(i===37496)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:n.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===37808||i===37809||i===37810||i===37811||i===37812||i===37813||i===37814||i===37815||i===37816||i===37817||i===37818||i===37819||i===37820||i===37821)if(n=e.get("WEBGL_compressed_texture_astc"),n!==null){if(i===37808)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:n.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===37809)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:n.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===37810)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:n.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===37811)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:n.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===37812)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:n.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===37813)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:n.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===37814)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:n.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===37815)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:n.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===37816)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:n.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===37817)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:n.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===37818)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:n.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===37819)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:n.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===37820)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:n.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===37821)return s===3001?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:n.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===36492)if(n=e.get("EXT_texture_compression_bptc"),n!==null){if(i===36492)return s===3001?n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:n.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return i===1020?o?34042:(n=e.get("WEBGL_depth_texture"),n!==null?n.UNSIGNED_INT_24_8_WEBGL:null):t[i]!==void 0?t[i]:null}return{convert:r}}class yme extends ir{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Rv extends qo{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bme={type:"move"};class z_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Rv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Rv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Rv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,a,o){let r=null,i=null,s=null;const n=this._targetRay,d=this._grip,c=this._hand;if(e&&a.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const f of e.hand.values()){const p=a.getJointPose(f,o);if(c.joints[f.jointName]===void 0){const y=new Rv;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[f.jointName]=y,c.add(y)}const h=c.joints[f.jointName];p!==null&&(h.matrix.fromArray(p.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=p.radius),h.visible=p!==null}const l=c.joints["index-finger-tip"],m=c.joints["thumb-tip"],u=l.position.distanceTo(m.position),v=.02,g=.005;c.inputState.pinching&&u>v+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&u<=v-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(i=a.getPose(e.gripSpace,o),i!==null&&(d.matrix.fromArray(i.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),i.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(i.linearVelocity)):d.hasLinearVelocity=!1,i.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(i.angularVelocity)):d.hasAngularVelocity=!1));n!==null&&(r=a.getPose(e.targetRaySpace,o),r===null&&i!==null&&(r=i),r!==null&&(n.matrix.fromArray(r.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),r.linearVelocity?(n.hasLinearVelocity=!0,n.linearVelocity.copy(r.linearVelocity)):n.hasLinearVelocity=!1,r.angularVelocity?(n.hasAngularVelocity=!0,n.angularVelocity.copy(r.angularVelocity)):n.hasAngularVelocity=!1,this.dispatchEvent(bme)))}return n!==null&&(n.visible=r!==null),d!==null&&(d.visible=i!==null),c!==null&&(c.visible=s!==null),this}}class _me extends yr{constructor(e,a,o,r,i,s,n,d,c,l){if(l=l!==void 0?l:1026,l!==1026&&l!==1027)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&l===1026&&(o=1014),o===void 0&&l===1027&&(o=1020),super(null,r,i,s,n,d,l,o,c),this.isDepthTexture=!0,this.image={width:e,height:a},this.magFilter=n!==void 0?n:1003,this.minFilter=d!==void 0?d:1003,this.flipY=!1,this.generateMipmaps=!1}}class xme extends tm{constructor(e,a){super();const o=this;let r=null,i=1,s=null,n="local-floor",d=null,c=null,l=null,m=null,u=null,v=null;const g=a.getContextAttributes();let f=null,p=null;const h=[],y=[],b=new ir;b.layers.enable(1),b.viewport=new Qa;const _=new ir;_.layers.enable(2),_.viewport=new Qa;const S=[b,_],x=new yme;x.layers.enable(1),x.layers.enable(2);let w=null,A=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let Z=h[V];return Z===void 0&&(Z=new z_,h[V]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(V){let Z=h[V];return Z===void 0&&(Z=new z_,h[V]=Z),Z.getGripSpace()},this.getHand=function(V){let Z=h[V];return Z===void 0&&(Z=new z_,h[V]=Z),Z.getHandSpace()};function T(V){const Z=y.indexOf(V.inputSource);if(Z===-1)return;const se=h[Z];se!==void 0&&se.dispatchEvent({type:V.type,data:V.inputSource})}function O(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",O),r.removeEventListener("inputsourceschange",I);for(let V=0;V<h.length;V++){const Z=y[V];Z!==null&&(y[V]=null,h[V].disconnect(Z))}w=null,A=null,e.setRenderTarget(f),u=null,m=null,l=null,r=null,p=null,F.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(V){i=V,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){n=V,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||s},this.setReferenceSpace=function(V){d=V},this.getBaseLayer=function(){return m!==null?m:u},this.getBinding=function(){return l},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(V){if(r=V,r!==null){if(f=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",O),r.addEventListener("inputsourceschange",I),g.xrCompatible!==!0&&await a.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const Z={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:i};u=new XRWebGLLayer(r,a,Z),r.updateRenderState({baseLayer:u}),p=new Sc(u.framebufferWidth,u.framebufferHeight,{format:1023,type:1009,encoding:e.outputEncoding})}else{let Z=null,se=null,J=null;g.depth&&(J=g.stencil?35056:33190,Z=g.stencil?1027:1026,se=g.stencil?1020:1014);const te={colorFormat:32856,depthFormat:J,scaleFactor:i};l=new XRWebGLBinding(r,a),m=l.createProjectionLayer(te),r.updateRenderState({layers:[m]}),p=new Sc(m.textureWidth,m.textureHeight,{format:1023,type:1009,depthTexture:new _me(m.textureWidth,m.textureHeight,se,void 0,void 0,void 0,void 0,void 0,void 0,Z),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const me=e.properties.get(p);me.__ignoreDepthValues=m.ignoreDepthValues}p.isXRRenderTarget=!0,this.setFoveation(1),d=null,s=await r.requestReferenceSpace(n),F.setContext(r),F.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}};function I(V){for(let Z=0;Z<V.removed.length;Z++){const se=V.removed[Z],J=y.indexOf(se);J>=0&&(y[J]=null,h[J].dispatchEvent({type:"disconnected",data:se}))}for(let Z=0;Z<V.added.length;Z++){const se=V.added[Z];let J=y.indexOf(se);if(J===-1){for(let me=0;me<h.length;me++)if(me>=y.length){y.push(se),J=me;break}else if(y[me]===null){y[me]=se,J=me;break}if(J===-1)break}const te=h[J];te&&te.dispatchEvent({type:"connected",data:se})}}const U=new ne,B=new ne;function N(V,Z,se){U.setFromMatrixPosition(Z.matrixWorld),B.setFromMatrixPosition(se.matrixWorld);const J=U.distanceTo(B),te=Z.projectionMatrix.elements,me=se.projectionMatrix.elements,xe=te[14]/(te[10]-1),Q=te[14]/(te[10]+1),Ee=(te[9]+1)/te[5],Ae=(te[9]-1)/te[5],Ce=(te[8]-1)/te[0],we=(me[8]+1)/me[0],De=xe*Ce,Te=xe*we,_e=J/(-Ce+we),Qe=_e*-Ce;Z.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(Qe),V.translateZ(_e),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const tt=xe+_e,jt=Q+_e,Bt=De-Qe,At=Te+(J-Qe),mt=Ee*Q/jt*tt,de=Ae*Q/jt*tt;V.projectionMatrix.makePerspective(Bt,At,mt,de,tt,jt)}function z(V,Z){Z===null?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(Z.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(r===null)return;x.near=_.near=b.near=V.near,x.far=_.far=b.far=V.far,(w!==x.near||A!==x.far)&&(r.updateRenderState({depthNear:x.near,depthFar:x.far}),w=x.near,A=x.far);const Z=V.parent,se=x.cameras;z(x,Z);for(let te=0;te<se.length;te++)z(se[te],Z);x.matrixWorld.decompose(x.position,x.quaternion,x.scale),V.position.copy(x.position),V.quaternion.copy(x.quaternion),V.scale.copy(x.scale),V.matrix.copy(x.matrix),V.matrixWorld.copy(x.matrixWorld);const J=V.children;for(let te=0,me=J.length;te<me;te++)J[te].updateMatrixWorld(!0);se.length===2?N(x,b,_):x.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return x},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(u!==null)return u.fixedFoveation},this.setFoveation=function(V){m!==null&&(m.fixedFoveation=V),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=V)};let $=null;function Y(V,Z){if(c=Z.getViewerPose(d||s),v=Z,c!==null){const se=c.views;u!==null&&(e.setRenderTargetFramebuffer(p,u.framebuffer),e.setRenderTarget(p));let J=!1;se.length!==x.cameras.length&&(x.cameras.length=0,J=!0);for(let te=0;te<se.length;te++){const me=se[te];let xe=null;if(u!==null)xe=u.getViewport(me);else{const Ee=l.getViewSubImage(m,me);xe=Ee.viewport,te===0&&(e.setRenderTargetTextures(p,Ee.colorTexture,m.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(p))}let Q=S[te];Q===void 0&&(Q=new ir,Q.layers.enable(te),Q.viewport=new Qa,S[te]=Q),Q.matrix.fromArray(me.transform.matrix),Q.projectionMatrix.fromArray(me.projectionMatrix),Q.viewport.set(xe.x,xe.y,xe.width,xe.height),te===0&&x.matrix.copy(Q.matrix),J===!0&&x.cameras.push(Q)}}for(let se=0;se<h.length;se++){const J=y[se],te=h[se];J!==null&&te!==void 0&&te.update(J,Z,d||s)}$&&$(V,Z),v=null}const F=new VP;F.setAnimationLoop(Y),this.setAnimationLoop=function(V){$=V},this.dispose=function(){}}}function wme(t,e){function a(f,p){f.fogColor.value.copy(p.color),p.isFog?(f.fogNear.value=p.near,f.fogFar.value=p.far):p.isFogExp2&&(f.fogDensity.value=p.density)}function o(f,p,h,y,b){p.isMeshBasicMaterial||p.isMeshLambertMaterial?r(f,p):p.isMeshToonMaterial?(r(f,p),l(f,p)):p.isMeshPhongMaterial?(r(f,p),c(f,p)):p.isMeshStandardMaterial?(r(f,p),m(f,p),p.isMeshPhysicalMaterial&&u(f,p,b)):p.isMeshMatcapMaterial?(r(f,p),v(f,p)):p.isMeshDepthMaterial?r(f,p):p.isMeshDistanceMaterial?(r(f,p),g(f,p)):p.isMeshNormalMaterial?r(f,p):p.isLineBasicMaterial?(i(f,p),p.isLineDashedMaterial&&s(f,p)):p.isPointsMaterial?n(f,p,h,y):p.isSpriteMaterial?d(f,p):p.isShadowMaterial?(f.color.value.copy(p.color),f.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function r(f,p){f.opacity.value=p.opacity,p.color&&f.diffuse.value.copy(p.color),p.emissive&&f.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(f.map.value=p.map),p.alphaMap&&(f.alphaMap.value=p.alphaMap),p.bumpMap&&(f.bumpMap.value=p.bumpMap,f.bumpScale.value=p.bumpScale,p.side===1&&(f.bumpScale.value*=-1)),p.displacementMap&&(f.displacementMap.value=p.displacementMap,f.displacementScale.value=p.displacementScale,f.displacementBias.value=p.displacementBias),p.emissiveMap&&(f.emissiveMap.value=p.emissiveMap),p.normalMap&&(f.normalMap.value=p.normalMap,f.normalScale.value.copy(p.normalScale),p.side===1&&f.normalScale.value.negate()),p.specularMap&&(f.specularMap.value=p.specularMap),p.alphaTest>0&&(f.alphaTest.value=p.alphaTest);const h=e.get(p).envMap;if(h&&(f.envMap.value=h,f.flipEnvMap.value=h.isCubeTexture&&h.isRenderTargetTexture===!1?-1:1,f.reflectivity.value=p.reflectivity,f.ior.value=p.ior,f.refractionRatio.value=p.refractionRatio),p.lightMap){f.lightMap.value=p.lightMap;const _=t.physicallyCorrectLights!==!0?Math.PI:1;f.lightMapIntensity.value=p.lightMapIntensity*_}p.aoMap&&(f.aoMap.value=p.aoMap,f.aoMapIntensity.value=p.aoMapIntensity);let y;p.map?y=p.map:p.specularMap?y=p.specularMap:p.displacementMap?y=p.displacementMap:p.normalMap?y=p.normalMap:p.bumpMap?y=p.bumpMap:p.roughnessMap?y=p.roughnessMap:p.metalnessMap?y=p.metalnessMap:p.alphaMap?y=p.alphaMap:p.emissiveMap?y=p.emissiveMap:p.clearcoatMap?y=p.clearcoatMap:p.clearcoatNormalMap?y=p.clearcoatNormalMap:p.clearcoatRoughnessMap?y=p.clearcoatRoughnessMap:p.iridescenceMap?y=p.iridescenceMap:p.iridescenceThicknessMap?y=p.iridescenceThicknessMap:p.specularIntensityMap?y=p.specularIntensityMap:p.specularColorMap?y=p.specularColorMap:p.transmissionMap?y=p.transmissionMap:p.thicknessMap?y=p.thicknessMap:p.sheenColorMap?y=p.sheenColorMap:p.sheenRoughnessMap&&(y=p.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),f.uvTransform.value.copy(y.matrix));let b;p.aoMap?b=p.aoMap:p.lightMap&&(b=p.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),f.uv2Transform.value.copy(b.matrix))}function i(f,p){f.diffuse.value.copy(p.color),f.opacity.value=p.opacity}function s(f,p){f.dashSize.value=p.dashSize,f.totalSize.value=p.dashSize+p.gapSize,f.scale.value=p.scale}function n(f,p,h,y){f.diffuse.value.copy(p.color),f.opacity.value=p.opacity,f.size.value=p.size*h,f.scale.value=y*.5,p.map&&(f.map.value=p.map),p.alphaMap&&(f.alphaMap.value=p.alphaMap),p.alphaTest>0&&(f.alphaTest.value=p.alphaTest);let b;p.map?b=p.map:p.alphaMap&&(b=p.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),f.uvTransform.value.copy(b.matrix))}function d(f,p){f.diffuse.value.copy(p.color),f.opacity.value=p.opacity,f.rotation.value=p.rotation,p.map&&(f.map.value=p.map),p.alphaMap&&(f.alphaMap.value=p.alphaMap),p.alphaTest>0&&(f.alphaTest.value=p.alphaTest);let h;p.map?h=p.map:p.alphaMap&&(h=p.alphaMap),h!==void 0&&(h.matrixAutoUpdate===!0&&h.updateMatrix(),f.uvTransform.value.copy(h.matrix))}function c(f,p){f.specular.value.copy(p.specular),f.shininess.value=Math.max(p.shininess,1e-4)}function l(f,p){p.gradientMap&&(f.gradientMap.value=p.gradientMap)}function m(f,p){f.roughness.value=p.roughness,f.metalness.value=p.metalness,p.roughnessMap&&(f.roughnessMap.value=p.roughnessMap),p.metalnessMap&&(f.metalnessMap.value=p.metalnessMap),e.get(p).envMap&&(f.envMapIntensity.value=p.envMapIntensity)}function u(f,p,h){f.ior.value=p.ior,p.sheen>0&&(f.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),f.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(f.sheenColorMap.value=p.sheenColorMap),p.sheenRoughnessMap&&(f.sheenRoughnessMap.value=p.sheenRoughnessMap)),p.clearcoat>0&&(f.clearcoat.value=p.clearcoat,f.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(f.clearcoatMap.value=p.clearcoatMap),p.clearcoatRoughnessMap&&(f.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap),p.clearcoatNormalMap&&(f.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),f.clearcoatNormalMap.value=p.clearcoatNormalMap,p.side===1&&f.clearcoatNormalScale.value.negate())),p.iridescence>0&&(f.iridescence.value=p.iridescence,f.iridescenceIOR.value=p.iridescenceIOR,f.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],f.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(f.iridescenceMap.value=p.iridescenceMap),p.iridescenceThicknessMap&&(f.iridescenceThicknessMap.value=p.iridescenceThicknessMap)),p.transmission>0&&(f.transmission.value=p.transmission,f.transmissionSamplerMap.value=h.texture,f.transmissionSamplerSize.value.set(h.width,h.height),p.transmissionMap&&(f.transmissionMap.value=p.transmissionMap),f.thickness.value=p.thickness,p.thicknessMap&&(f.thicknessMap.value=p.thicknessMap),f.attenuationDistance.value=p.attenuationDistance,f.attenuationColor.value.copy(p.attenuationColor)),f.specularIntensity.value=p.specularIntensity,f.specularColor.value.copy(p.specularColor),p.specularIntensityMap&&(f.specularIntensityMap.value=p.specularIntensityMap),p.specularColorMap&&(f.specularColorMap.value=p.specularColorMap)}function v(f,p){p.matcap&&(f.matcap.value=p.matcap)}function g(f,p){f.referencePosition.value.copy(p.referencePosition),f.nearDistance.value=p.nearDistance,f.farDistance.value=p.farDistance}return{refreshFogUniforms:a,refreshMaterialUniforms:o}}function Sme(t,e,a,o){let r={},i={},s=[];const n=a.isWebGL2?t.getParameter(35375):0;function d(y,b){const _=b.program;o.uniformBlockBinding(y,_)}function c(y,b){let _=r[y.id];_===void 0&&(g(y),_=l(y),r[y.id]=_,y.addEventListener("dispose",p));const S=b.program;o.updateUBOMapping(y,S);const x=e.render.frame;i[y.id]!==x&&(u(y),i[y.id]=x)}function l(y){const b=m();y.__bindingPointIndex=b;const _=t.createBuffer(),S=y.__size,x=y.usage;return t.bindBuffer(35345,_),t.bufferData(35345,S,x),t.bindBuffer(35345,null),t.bindBufferBase(35345,b,_),_}function m(){for(let y=0;y<n;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function u(y){const b=r[y.id],_=y.uniforms,S=y.__cache;t.bindBuffer(35345,b);for(let x=0,w=_.length;x<w;x++){const A=_[x];if(v(A,x,S)===!0){const T=A.value,O=A.__offset;typeof T=="number"?(A.__data[0]=T,t.bufferSubData(35345,O,A.__data)):(A.value.isMatrix3?(A.__data[0]=A.value.elements[0],A.__data[1]=A.value.elements[1],A.__data[2]=A.value.elements[2],A.__data[3]=A.value.elements[0],A.__data[4]=A.value.elements[3],A.__data[5]=A.value.elements[4],A.__data[6]=A.value.elements[5],A.__data[7]=A.value.elements[0],A.__data[8]=A.value.elements[6],A.__data[9]=A.value.elements[7],A.__data[10]=A.value.elements[8],A.__data[11]=A.value.elements[0]):T.toArray(A.__data),t.bufferSubData(35345,O,A.__data))}}t.bindBuffer(35345,null)}function v(y,b,_){const S=y.value;if(_[b]===void 0)return typeof S=="number"?_[b]=S:_[b]=S.clone(),!0;if(typeof S=="number"){if(_[b]!==S)return _[b]=S,!0}else{const x=_[b];if(x.equals(S)===!1)return x.copy(S),!0}return!1}function g(y){const b=y.uniforms;let _=0;const S=16;let x=0;for(let w=0,A=b.length;w<A;w++){const T=b[w],O=f(T);if(T.__data=new Float32Array(O.storage/Float32Array.BYTES_PER_ELEMENT),T.__offset=_,w>0){x=_%S;const I=S-x;x!==0&&I-O.boundary<0&&(_+=S-x,T.__offset=_)}_+=O.storage}return x=_%S,x>0&&(_+=S-x),y.__size=_,y.__cache={},this}function f(y){const b=y.value,_={boundary:0,storage:0};return typeof b=="number"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function p(y){const b=y.target;b.removeEventListener("dispose",p);const _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),t.deleteBuffer(r[b.id]),delete r[b.id],delete i[b.id]}function h(){for(const y in r)t.deleteBuffer(r[y]);s=[],r={},i={}}return{bind:d,update:c,dispose:h}}function Ame(){const t=S0("canvas");return t.style.display="block",t}function ZP(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:Ame(),a=t.context!==void 0?t.context:null,o=t.depth!==void 0?t.depth:!0,r=t.stencil!==void 0?t.stencil:!0,i=t.antialias!==void 0?t.antialias:!1,s=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,n=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,d=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let l;a!==null?l=a.getContextAttributes().alpha:l=t.alpha!==void 0?t.alpha:!1;let m=null,u=null;const v=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const f=this;let p=!1,h=0,y=0,b=null,_=-1,S=null;const x=new Qa,w=new Qa;let A=null,T=e.width,O=e.height,I=1,U=null,B=null;const N=new Qa(0,0,T,O),z=new Qa(0,0,T,O);let $=!1;const Y=new YS;let F=!1,V=!1,Z=null;const se=new Xa,J=new Nt,te=new ne,me={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function xe(){return b===null?I:1}let Q=a;function Ee(H,ie){for(let pe=0;pe<H.length;pe++){const ce=H[pe],be=e.getContext(ce,ie);if(be!==null)return be}return null}try{const H={alpha:!0,depth:o,stencil:r,antialias:i,premultipliedAlpha:s,preserveDrawingBuffer:n,powerPreference:d,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${GS}`),e.addEventListener("webglcontextlost",Ve,!1),e.addEventListener("webglcontextrestored",et,!1),e.addEventListener("webglcontextcreationerror",Ft,!1),Q===null){const ie=["webgl2","webgl","experimental-webgl"];if(f.isWebGL1Renderer===!0&&ie.shift(),Q=Ee(ie,H),Q===null)throw Ee(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Q.getShaderPrecisionFormat===void 0&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let Ae,Ce,we,De,Te,_e,Qe,tt,jt,Bt,At,mt,de,oe,q,E,D,k,K,le,ge,X,Pe,ze;function We(){Ae=new Ple(Q),Ce=new Tle(Q,Ae,t),Ae.init(Ce),X=new gme(Q,Ae,Ce),we=new hme(Q,Ae,Ce),De=new jle,Te=new tme,_e=new vme(Q,Ae,we,Te,Ce,X,De),Qe=new Rle(f),tt=new qle(f),jt=new Yne(Q,Ce),Pe=new Ele(Q,Ae,jt,Ce),Bt=new Lle(Q,jt,De,Pe),At=new kle(Q,Bt,jt,De),K=new Ble(Q,Ce,_e),E=new Cle(Te),mt=new eme(f,Qe,tt,Ae,Ce,Pe,E),de=new wme(f,Te),oe=new ome,q=new cme(Ae,Ce),k=new Ale(f,Qe,we,At,l,s),D=new fme(f,At,Ce),ze=new Sme(Q,De,Ce,we),le=new Mle(Q,Ae,De,Ce),ge=new Nle(Q,Ae,De,Ce),De.programs=mt.programs,f.capabilities=Ce,f.extensions=Ae,f.properties=Te,f.renderLists=oe,f.shadowMap=D,f.state=we,f.info=De}We();const ye=new xme(f,Q);this.xr=ye,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const H=Ae.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Ae.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(H){H!==void 0&&(I=H,this.setSize(T,O,!1))},this.getSize=function(H){return H.set(T,O)},this.setSize=function(H,ie,pe){if(ye.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}T=H,O=ie,e.width=Math.floor(H*I),e.height=Math.floor(ie*I),pe!==!1&&(e.style.width=H+"px",e.style.height=ie+"px"),this.setViewport(0,0,H,ie)},this.getDrawingBufferSize=function(H){return H.set(T*I,O*I).floor()},this.setDrawingBufferSize=function(H,ie,pe){T=H,O=ie,I=pe,e.width=Math.floor(H*pe),e.height=Math.floor(ie*pe),this.setViewport(0,0,H,ie)},this.getCurrentViewport=function(H){return H.copy(x)},this.getViewport=function(H){return H.copy(N)},this.setViewport=function(H,ie,pe,ce){H.isVector4?N.set(H.x,H.y,H.z,H.w):N.set(H,ie,pe,ce),we.viewport(x.copy(N).multiplyScalar(I).floor())},this.getScissor=function(H){return H.copy(z)},this.setScissor=function(H,ie,pe,ce){H.isVector4?z.set(H.x,H.y,H.z,H.w):z.set(H,ie,pe,ce),we.scissor(w.copy(z).multiplyScalar(I).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(H){we.setScissorTest($=H)},this.setOpaqueSort=function(H){U=H},this.setTransparentSort=function(H){B=H},this.getClearColor=function(H){return H.copy(k.getClearColor())},this.setClearColor=function(){k.setClearColor.apply(k,arguments)},this.getClearAlpha=function(){return k.getClearAlpha()},this.setClearAlpha=function(){k.setClearAlpha.apply(k,arguments)},this.clear=function(H=!0,ie=!0,pe=!0){let ce=0;H&&(ce|=16384),ie&&(ce|=256),pe&&(ce|=1024),Q.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ve,!1),e.removeEventListener("webglcontextrestored",et,!1),e.removeEventListener("webglcontextcreationerror",Ft,!1),oe.dispose(),q.dispose(),Te.dispose(),Qe.dispose(),tt.dispose(),At.dispose(),Pe.dispose(),ze.dispose(),mt.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",Xt),ye.removeEventListener("sessionend",ee),Z&&(Z.dispose(),Z=null),re.stop()};function Ve(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function et(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1;const H=De.autoReset,ie=D.enabled,pe=D.autoUpdate,ce=D.needsUpdate,be=D.type;We(),De.autoReset=H,D.enabled=ie,D.autoUpdate=pe,D.needsUpdate=ce,D.type=be}function Ft(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function ae(H){const ie=H.target;ie.removeEventListener("dispose",ae),He(ie)}function He(H){he(H),Te.remove(H)}function he(H){const ie=Te.get(H).programs;ie!==void 0&&(ie.forEach(function(pe){mt.releaseProgram(pe)}),H.isShaderMaterial&&mt.releaseShaderCache(H))}this.renderBufferDirect=function(H,ie,pe,ce,be,Je){ie===null&&(ie=me);const ft=be.isMesh&&be.matrixWorld.determinant()<0,ct=Tt(H,ie,pe,ce,be);we.setMaterial(ce,ft);let bt=pe.index;const ta=pe.attributes.position;if(bt===null){if(ta===void 0||ta.count===0)return}else if(bt.count===0)return;let xt=1;ce.wireframe===!0&&(bt=Bt.getWireframeAttribute(pe),xt=2),Pe.setup(be,ce,ct,pe,bt);let Ct,ra=le;bt!==null&&(Ct=jt.get(bt),ra=ge,ra.setIndex(Ct));const Ar=bt!==null?bt.count:ta.count,Et=pe.drawRange.start*xt,Dt=pe.drawRange.count*xt,ia=Je!==null?Je.start*xt:0,qt=Je!==null?Je.count*xt:1/0,on=Math.max(Et,ia),om=Math.min(Ar,Et+Dt,ia+qt)-1,Er=Math.max(0,om-on+1);if(Er!==0){if(be.isMesh)ce.wireframe===!0?(we.setLineWidth(ce.wireframeLinewidth*xe()),ra.setMode(1)):ra.setMode(4);else if(be.isLine){let rn=ce.linewidth;rn===void 0&&(rn=1),we.setLineWidth(rn*xe()),be.isLineSegments?ra.setMode(1):be.isLineLoop?ra.setMode(2):ra.setMode(3)}else be.isPoints?ra.setMode(0):be.isSprite&&ra.setMode(4);if(be.isInstancedMesh)ra.renderInstances(on,Er,be.count);else if(pe.isInstancedBufferGeometry){const rn=Math.min(pe.instanceCount,pe._maxInstanceCount);ra.renderInstances(on,Er,rn)}else ra.render(on,Er)}},this.compile=function(H,ie){u=q.get(H),u.init(),g.push(u),H.traverseVisible(function(pe){pe.isLight&&pe.layers.test(ie.layers)&&(u.pushLight(pe),pe.castShadow&&u.pushShadow(pe))}),u.setupLights(f.physicallyCorrectLights),H.traverse(function(pe){const ce=pe.material;if(ce)if(Array.isArray(ce))for(let be=0;be<ce.length;be++){const Je=ce[be];at(Je,H,pe)}else at(ce,H,pe)}),g.pop(),u=null};let Ze=null;function Ne(H){Ze&&Ze(H)}function Xt(){re.stop()}function ee(){re.start()}const re=new VP;re.setAnimationLoop(Ne),typeof self<"u"&&re.setContext(self),this.setAnimationLoop=function(H){Ze=H,ye.setAnimationLoop(H),H===null?re.stop():re.start()},ye.addEventListener("sessionstart",Xt),ye.addEventListener("sessionend",ee),this.render=function(H,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(p===!0)return;H.autoUpdate===!0&&H.updateMatrixWorld(),ie.parent===null&&ie.updateMatrixWorld(),ye.enabled===!0&&ye.isPresenting===!0&&(ye.cameraAutoUpdate===!0&&ye.updateCamera(ie),ie=ye.getCamera()),H.isScene===!0&&H.onBeforeRender(f,H,ie,b),u=q.get(H,g.length),u.init(),g.push(u),se.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),Y.setFromProjectionMatrix(se),V=this.localClippingEnabled,F=E.init(this.clippingPlanes,V,ie),m=oe.get(H,v.length),m.init(),v.push(m),ve(H,ie,0,f.sortObjects),m.finish(),f.sortObjects===!0&&m.sort(U,B),F===!0&&E.beginShadows();const pe=u.state.shadowsArray;if(D.render(pe,H,ie),F===!0&&E.endShadows(),this.info.autoReset===!0&&this.info.reset(),k.render(m,H),u.setupLights(f.physicallyCorrectLights),ie.isArrayCamera){const ce=ie.cameras;for(let be=0,Je=ce.length;be<Je;be++){const ft=ce[be];Se(m,H,ft,ft.viewport)}}else Se(m,H,ie);b!==null&&(_e.updateMultisampleRenderTarget(b),_e.updateRenderTargetMipmap(b)),H.isScene===!0&&H.onAfterRender(f,H,ie),Pe.resetDefaultState(),_=-1,S=null,g.pop(),g.length>0?u=g[g.length-1]:u=null,v.pop(),v.length>0?m=v[v.length-1]:m=null};function ve(H,ie,pe,ce){if(H.visible===!1)return;if(H.layers.test(ie.layers)){if(H.isGroup)pe=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ie);else if(H.isLight)u.pushLight(H),H.castShadow&&u.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||Y.intersectsSprite(H)){ce&&te.setFromMatrixPosition(H.matrixWorld).applyMatrix4(se);const Je=At.update(H),ft=H.material;ft.visible&&m.push(H,Je,ft,pe,te.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(H.isSkinnedMesh&&H.skeleton.frame!==De.render.frame&&(H.skeleton.update(),H.skeleton.frame=De.render.frame),!H.frustumCulled||Y.intersectsObject(H))){ce&&te.setFromMatrixPosition(H.matrixWorld).applyMatrix4(se);const Je=At.update(H),ft=H.material;if(Array.isArray(ft)){const ct=Je.groups;for(let bt=0,ta=ct.length;bt<ta;bt++){const xt=ct[bt],Ct=ft[xt.materialIndex];Ct&&Ct.visible&&m.push(H,Je,Ct,pe,te.z,xt)}}else ft.visible&&m.push(H,Je,ft,pe,te.z,null)}}const be=H.children;for(let Je=0,ft=be.length;Je<ft;Je++)ve(be[Je],ie,pe,ce)}function Se(H,ie,pe,ce){const be=H.opaque,Je=H.transmissive,ft=H.transparent;u.setupLightsView(pe),Je.length>0&&Ue(be,ie,pe),ce&&we.viewport(x.copy(ce)),be.length>0&&nt(be,ie,pe),Je.length>0&&nt(Je,ie,pe),ft.length>0&&nt(ft,ie,pe),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function Ue(H,ie,pe){const ce=Ce.isWebGL2;Z===null&&(Z=new Sc(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:ce&&i===!0?4:0})),f.getDrawingBufferSize(J),ce?Z.setSize(J.x,J.y):Z.setSize(tx(J.x),tx(J.y));const be=f.getRenderTarget();f.setRenderTarget(Z),f.clear();const Je=f.toneMapping;f.toneMapping=0,nt(H,ie,pe),f.toneMapping=Je,_e.updateMultisampleRenderTarget(Z),_e.updateRenderTargetMipmap(Z),f.setRenderTarget(be)}function nt(H,ie,pe){const ce=ie.isScene===!0?ie.overrideMaterial:null;for(let be=0,Je=H.length;be<Je;be++){const ft=H[be],ct=ft.object,bt=ft.geometry,ta=ce===null?ft.material:ce,xt=ft.group;ct.layers.test(pe.layers)&&pt(ct,ie,pe,bt,ta,xt)}}function pt(H,ie,pe,ce,be,Je){H.onBeforeRender(f,ie,pe,ce,be,Je),H.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),be.onBeforeRender(f,ie,pe,ce,H,Je),be.transparent===!0&&be.side===2?(be.side=1,be.needsUpdate=!0,f.renderBufferDirect(pe,ie,ce,be,H,Je),be.side=0,be.needsUpdate=!0,f.renderBufferDirect(pe,ie,ce,be,H,Je),be.side=2):f.renderBufferDirect(pe,ie,ce,be,H,Je),H.onAfterRender(f,ie,pe,ce,be,Je)}function at(H,ie,pe){ie.isScene!==!0&&(ie=me);const ce=Te.get(H),be=u.state.lights,Je=u.state.shadowsArray,ft=be.state.version,ct=mt.getParameters(H,be.state,Je,ie,pe),bt=mt.getProgramCacheKey(ct);let ta=ce.programs;ce.environment=H.isMeshStandardMaterial?ie.environment:null,ce.fog=ie.fog,ce.envMap=(H.isMeshStandardMaterial?tt:Qe).get(H.envMap||ce.environment),ta===void 0&&(H.addEventListener("dispose",ae),ta=new Map,ce.programs=ta);let xt=ta.get(bt);if(xt!==void 0){if(ce.currentProgram===xt&&ce.lightsStateVersion===ft)return Xe(H,ct),xt}else ct.uniforms=mt.getUniforms(H),H.onBuild(pe,ct,f),H.onBeforeCompile(ct,f),xt=mt.acquireProgram(ct,bt),ta.set(bt,xt),ce.uniforms=ct.uniforms;const Ct=ce.uniforms;(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Ct.clippingPlanes=E.uniform),Xe(H,ct),ce.needsLights=yt(H),ce.lightsStateVersion=ft,ce.needsLights&&(Ct.ambientLightColor.value=be.state.ambient,Ct.lightProbe.value=be.state.probe,Ct.directionalLights.value=be.state.directional,Ct.directionalLightShadows.value=be.state.directionalShadow,Ct.spotLights.value=be.state.spot,Ct.spotLightShadows.value=be.state.spotShadow,Ct.rectAreaLights.value=be.state.rectArea,Ct.ltc_1.value=be.state.rectAreaLTC1,Ct.ltc_2.value=be.state.rectAreaLTC2,Ct.pointLights.value=be.state.point,Ct.pointLightShadows.value=be.state.pointShadow,Ct.hemisphereLights.value=be.state.hemi,Ct.directionalShadowMap.value=be.state.directionalShadowMap,Ct.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Ct.spotShadowMap.value=be.state.spotShadowMap,Ct.spotShadowMatrix.value=be.state.spotShadowMatrix,Ct.pointShadowMap.value=be.state.pointShadowMap,Ct.pointShadowMatrix.value=be.state.pointShadowMatrix);const ra=xt.getUniforms(),Ar=dg.seqWithValue(ra.seq,Ct);return ce.currentProgram=xt,ce.uniformsList=Ar,xt}function Xe(H,ie){const pe=Te.get(H);pe.outputEncoding=ie.outputEncoding,pe.instancing=ie.instancing,pe.skinning=ie.skinning,pe.morphTargets=ie.morphTargets,pe.morphNormals=ie.morphNormals,pe.morphColors=ie.morphColors,pe.morphTargetsCount=ie.morphTargetsCount,pe.numClippingPlanes=ie.numClippingPlanes,pe.numIntersection=ie.numClipIntersection,pe.vertexAlphas=ie.vertexAlphas,pe.vertexTangents=ie.vertexTangents,pe.toneMapping=ie.toneMapping}function Tt(H,ie,pe,ce,be){ie.isScene!==!0&&(ie=me),_e.resetTextureUnits();const Je=ie.fog,ft=ce.isMeshStandardMaterial?ie.environment:null,ct=b===null?f.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:3e3,bt=(ce.isMeshStandardMaterial?tt:Qe).get(ce.envMap||ft),ta=ce.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,xt=!!ce.normalMap&&!!pe.attributes.tangent,Ct=!!pe.morphAttributes.position,ra=!!pe.morphAttributes.normal,Ar=!!pe.morphAttributes.color,Et=ce.toneMapped?f.toneMapping:0,Dt=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,ia=Dt!==void 0?Dt.length:0,qt=Te.get(ce),on=u.state.lights;if(F===!0&&(V===!0||H!==S)){const Xo=H===S&&ce.id===_;E.setState(ce,H,Xo)}let om=!1;ce.version===qt.__version?(qt.needsLights&&qt.lightsStateVersion!==on.state.version||qt.outputEncoding!==ct||be.isInstancedMesh&&qt.instancing===!1||!be.isInstancedMesh&&qt.instancing===!0||be.isSkinnedMesh&&qt.skinning===!1||!be.isSkinnedMesh&&qt.skinning===!0||qt.envMap!==bt||ce.fog===!0&&qt.fog!==Je||qt.numClippingPlanes!==void 0&&(qt.numClippingPlanes!==E.numPlanes||qt.numIntersection!==E.numIntersection)||qt.vertexAlphas!==ta||qt.vertexTangents!==xt||qt.morphTargets!==Ct||qt.morphNormals!==ra||qt.morphColors!==Ar||qt.toneMapping!==Et||Ce.isWebGL2===!0&&qt.morphTargetsCount!==ia)&&(om=!0):(om=!0,qt.__version=ce.version);let Er=qt.currentProgram;om===!0&&(Er=at(ce,ie,be));let rn=!1,rm=!1,jy=!1;const Eo=Er.getUniforms(),im=qt.uniforms;if(we.useProgram(Er.program)&&(rn=!0,rm=!0,jy=!0),ce.id!==_&&(_=ce.id,rm=!0),rn||S!==H){if(Eo.setValue(Q,"projectionMatrix",H.projectionMatrix),Ce.logarithmicDepthBuffer&&Eo.setValue(Q,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),S!==H&&(S=H,rm=!0,jy=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const Xo=Eo.map.cameraPosition;Xo!==void 0&&Xo.setValue(Q,te.setFromMatrixPosition(H.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&Eo.setValue(Q,"isOrthographic",H.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||be.isSkinnedMesh)&&Eo.setValue(Q,"viewMatrix",H.matrixWorldInverse)}if(be.isSkinnedMesh){Eo.setOptional(Q,be,"bindMatrix"),Eo.setOptional(Q,be,"bindMatrixInverse");const Xo=be.skeleton;Xo&&(Ce.floatVertexTextures?(Xo.boneTexture===null&&Xo.computeBoneTexture(),Eo.setValue(Q,"boneTexture",Xo.boneTexture,_e),Eo.setValue(Q,"boneTextureSize",Xo.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Fy=pe.morphAttributes;if((Fy.position!==void 0||Fy.normal!==void 0||Fy.color!==void 0&&Ce.isWebGL2===!0)&&K.update(be,pe,ce,Er),(rm||qt.receiveShadow!==be.receiveShadow)&&(qt.receiveShadow=be.receiveShadow,Eo.setValue(Q,"receiveShadow",be.receiveShadow)),rm&&(Eo.setValue(Q,"toneMappingExposure",f.toneMappingExposure),qt.needsLights&&Na(im,jy),Je&&ce.fog===!0&&de.refreshFogUniforms(im,Je),de.refreshMaterialUniforms(im,ce,I,O,Z),dg.upload(Q,qt.uniformsList,im,_e)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(dg.upload(Q,qt.uniformsList,im,_e),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&Eo.setValue(Q,"center",be.center),Eo.setValue(Q,"modelViewMatrix",be.modelViewMatrix),Eo.setValue(Q,"normalMatrix",be.normalMatrix),Eo.setValue(Q,"modelMatrix",be.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const Xo=ce.uniformsGroups;for(let zy=0,yL=Xo.length;zy<yL;zy++)if(Ce.isWebGL2){const lA=Xo[zy];ze.update(lA,Er),ze.bind(lA,Er)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Er}function Na(H,ie){H.ambientLightColor.needsUpdate=ie,H.lightProbe.needsUpdate=ie,H.directionalLights.needsUpdate=ie,H.directionalLightShadows.needsUpdate=ie,H.pointLights.needsUpdate=ie,H.pointLightShadows.needsUpdate=ie,H.spotLights.needsUpdate=ie,H.spotLightShadows.needsUpdate=ie,H.rectAreaLights.needsUpdate=ie,H.hemisphereLights.needsUpdate=ie}function yt(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return h},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(H,ie,pe){Te.get(H.texture).__webglTexture=ie,Te.get(H.depthTexture).__webglTexture=pe;const ce=Te.get(H);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=pe===void 0,ce.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,ie){const pe=Te.get(H);pe.__webglFramebuffer=ie,pe.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(H,ie=0,pe=0){b=H,h=ie,y=pe;let ce=!0;if(H){const ct=Te.get(H);ct.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(36160,null),ce=!1):ct.__webglFramebuffer===void 0?_e.setupRenderTarget(H):ct.__hasExternalTextures&&_e.rebindTextures(H,Te.get(H.texture).__webglTexture,Te.get(H.depthTexture).__webglTexture)}let be=null,Je=!1,ft=!1;if(H){const ct=H.texture;(ct.isData3DTexture||ct.isDataArrayTexture)&&(ft=!0);const bt=Te.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(be=bt[ie],Je=!0):Ce.isWebGL2&&H.samples>0&&_e.useMultisampledRTT(H)===!1?be=Te.get(H).__webglMultisampledFramebuffer:be=bt,x.copy(H.viewport),w.copy(H.scissor),A=H.scissorTest}else x.copy(N).multiplyScalar(I).floor(),w.copy(z).multiplyScalar(I).floor(),A=$;if(we.bindFramebuffer(36160,be)&&Ce.drawBuffers&&ce&&we.drawBuffers(H,be),we.viewport(x),we.scissor(w),we.setScissorTest(A),Je){const ct=Te.get(H.texture);Q.framebufferTexture2D(36160,36064,34069+ie,ct.__webglTexture,pe)}else if(ft){const ct=Te.get(H.texture),bt=ie||0;Q.framebufferTextureLayer(36160,36064,ct.__webglTexture,pe||0,bt)}_=-1},this.readRenderTargetPixels=function(H,ie,pe,ce,be,Je,ft){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ct=Te.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&ft!==void 0&&(ct=ct[ft]),ct){we.bindFramebuffer(36160,ct);try{const bt=H.texture,ta=bt.format,xt=bt.type;if(ta!==1023&&X.convert(ta)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ct=xt===1016&&(Ae.has("EXT_color_buffer_half_float")||Ce.isWebGL2&&Ae.has("EXT_color_buffer_float"));if(xt!==1009&&X.convert(xt)!==Q.getParameter(35738)&&!(xt===1015&&(Ce.isWebGL2||Ae.has("OES_texture_float")||Ae.has("WEBGL_color_buffer_float")))&&!Ct){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=H.width-ce&&pe>=0&&pe<=H.height-be&&Q.readPixels(ie,pe,ce,be,X.convert(ta),X.convert(xt),Je)}finally{const bt=b!==null?Te.get(b).__webglFramebuffer:null;we.bindFramebuffer(36160,bt)}}},this.copyFramebufferToTexture=function(H,ie,pe=0){const ce=Math.pow(2,-pe),be=Math.floor(ie.image.width*ce),Je=Math.floor(ie.image.height*ce);_e.setTexture2D(ie,0),Q.copyTexSubImage2D(3553,pe,0,0,H.x,H.y,be,Je),we.unbindTexture()},this.copyTextureToTexture=function(H,ie,pe,ce=0){const be=ie.image.width,Je=ie.image.height,ft=X.convert(pe.format),ct=X.convert(pe.type);_e.setTexture2D(pe,0),Q.pixelStorei(37440,pe.flipY),Q.pixelStorei(37441,pe.premultiplyAlpha),Q.pixelStorei(3317,pe.unpackAlignment),ie.isDataTexture?Q.texSubImage2D(3553,ce,H.x,H.y,be,Je,ft,ct,ie.image.data):ie.isCompressedTexture?Q.compressedTexSubImage2D(3553,ce,H.x,H.y,ie.mipmaps[0].width,ie.mipmaps[0].height,ft,ie.mipmaps[0].data):Q.texSubImage2D(3553,ce,H.x,H.y,ft,ct,ie.image),ce===0&&pe.generateMipmaps&&Q.generateMipmap(3553),we.unbindTexture()},this.copyTextureToTexture3D=function(H,ie,pe,ce,be=0){if(f.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Je=H.max.x-H.min.x+1,ft=H.max.y-H.min.y+1,ct=H.max.z-H.min.z+1,bt=X.convert(ce.format),ta=X.convert(ce.type);let xt;if(ce.isData3DTexture)_e.setTexture3D(ce,0),xt=32879;else if(ce.isDataArrayTexture)_e.setTexture2DArray(ce,0),xt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,ce.flipY),Q.pixelStorei(37441,ce.premultiplyAlpha),Q.pixelStorei(3317,ce.unpackAlignment);const Ct=Q.getParameter(3314),ra=Q.getParameter(32878),Ar=Q.getParameter(3316),Et=Q.getParameter(3315),Dt=Q.getParameter(32877),ia=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;Q.pixelStorei(3314,ia.width),Q.pixelStorei(32878,ia.height),Q.pixelStorei(3316,H.min.x),Q.pixelStorei(3315,H.min.y),Q.pixelStorei(32877,H.min.z),pe.isDataTexture||pe.isData3DTexture?Q.texSubImage3D(xt,be,ie.x,ie.y,ie.z,Je,ft,ct,bt,ta,ia.data):pe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(xt,be,ie.x,ie.y,ie.z,Je,ft,ct,bt,ia.data)):Q.texSubImage3D(xt,be,ie.x,ie.y,ie.z,Je,ft,ct,bt,ta,ia),Q.pixelStorei(3314,Ct),Q.pixelStorei(32878,ra),Q.pixelStorei(3316,Ar),Q.pixelStorei(3315,Et),Q.pixelStorei(32877,Dt),be===0&&ce.generateMipmaps&&Q.generateMipmap(xt),we.unbindTexture()},this.initTexture=function(H){H.isCubeTexture?_e.setTextureCube(H,0):H.isData3DTexture?_e.setTexture3D(H,0):H.isDataArrayTexture?_e.setTexture2DArray(H,0):_e.setTexture2D(H,0),we.unbindTexture()},this.resetState=function(){h=0,y=0,b=null,we.reset(),Pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Eme extends ZP{}Eme.prototype.isWebGL1Renderer=!0;class Mme extends qo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,a){return super.copy(e,a),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const a=super.toJSON(e);return this.fog!==null&&(a.object.fog=this.fog.toJSON()),a}}class C4 extends yr{constructor(e,a,o,r,i,s,n,d,c){super(e,a,o,r,i,s,n,d,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class KS extends as{constructor(e=1,a=1,o=1,r=8,i=1,s=!1,n=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:a,height:o,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:n,thetaLength:d};const c=this;r=Math.floor(r),i=Math.floor(i);const l=[],m=[],u=[],v=[];let g=0;const f=[],p=o/2;let h=0;y(),s===!1&&(e>0&&b(!0),a>0&&b(!1)),this.setIndex(l),this.setAttribute("position",new _o(m,3)),this.setAttribute("normal",new _o(u,3)),this.setAttribute("uv",new _o(v,2));function y(){const _=new ne,S=new ne;let x=0;const w=(a-e)/o;for(let A=0;A<=i;A++){const T=[],O=A/i,I=O*(a-e)+e;for(let U=0;U<=r;U++){const B=U/r,N=B*d+n,z=Math.sin(N),$=Math.cos(N);S.x=I*z,S.y=-O*o+p,S.z=I*$,m.push(S.x,S.y,S.z),_.set(z,w,$).normalize(),u.push(_.x,_.y,_.z),v.push(B,1-O),T.push(g++)}f.push(T)}for(let A=0;A<r;A++)for(let T=0;T<i;T++){const O=f[T][A],I=f[T+1][A],U=f[T+1][A+1],B=f[T][A+1];l.push(O,I,B),l.push(I,U,B),x+=6}c.addGroup(h,x,0),h+=x}function b(_){const S=g,x=new Nt,w=new ne;let A=0;const T=_===!0?e:a,O=_===!0?1:-1;for(let U=1;U<=r;U++)m.push(0,p*O,0),u.push(0,O,0),v.push(.5,.5),g++;const I=g;for(let U=0;U<=r;U++){const B=U/r*d+n,N=Math.cos(B),z=Math.sin(B);w.x=T*z,w.y=p*O,w.z=T*N,m.push(w.x,w.y,w.z),u.push(0,O,0),x.x=N*.5+.5,x.y=z*.5*O+.5,v.push(x.x,x.y),g++}for(let U=0;U<r;U++){const B=S+U,N=I+U;_===!0?l.push(N,N+1,B):l.push(N+1,N,B),A+=3}c.addGroup(h,A,_===!0?1:2),h+=A}}static fromJSON(e){return new KS(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Tme extends qc{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Cme extends qc{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Rme extends qc{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Nt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KP extends qo{constructor(e,a=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=a}dispose(){}copy(e,a){return super.copy(e,a),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const a=super.toJSON(e);return a.object.color=this.color.getHex(),a.object.intensity=this.intensity,this.groundColor!==void 0&&(a.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(a.object.distance=this.distance),this.angle!==void 0&&(a.object.angle=this.angle),this.decay!==void 0&&(a.object.decay=this.decay),this.penumbra!==void 0&&(a.object.penumbra=this.penumbra),this.shadow!==void 0&&(a.object.shadow=this.shadow.toJSON()),a}}class Ome extends KP{constructor(e,a,o){super(e,o),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(qo.DefaultUp),this.updateMatrix(),this.groundColor=new Lt(a)}copy(e,a){return super.copy(e,a),this.groundColor.copy(e.groundColor),this}}const R4=new Xa,O4=new ne,I4=new ne;class Ime{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Nt(512,512),this.map=null,this.mapPass=null,this.matrix=new Xa,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new YS,this._frameExtents=new Nt(1,1),this._viewportCount=1,this._viewports=[new Qa(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const a=this.camera,o=this.matrix;O4.setFromMatrixPosition(e.matrixWorld),a.position.copy(O4),I4.setFromMatrixPosition(e.target.matrixWorld),a.lookAt(I4),a.updateMatrixWorld(),R4.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(R4),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(a.projectionMatrix),o.multiply(a.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Dme extends Ime{constructor(){super(new ir(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const a=this.camera,o=ex*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||a.far;(o!==a.fov||r!==a.aspect||i!==a.far)&&(a.fov=o,a.aspect=r,a.far=i,a.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class qme extends KP{constructor(e,a,o=0,r=Math.PI/3,i=0,s=1){super(e,a),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(qo.DefaultUp),this.updateMatrix(),this.target=new qo,this.distance=o,this.angle=r,this.penumbra=i,this.decay=s,this.shadow=new Dme}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,a){return super.copy(e,a),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:GS}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=GS);class yi{constructor(e){e===void 0&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const a=this.elements;a[0]=e.x,a[4]=e.y,a[8]=e.z}getTrace(e){e===void 0&&(e=new P);const a=this.elements;return e.x=a[0],e.y=a[4],e.z=a[8],e}vmult(e,a){a===void 0&&(a=new P);const o=this.elements,r=e.x,i=e.y,s=e.z;return a.x=o[0]*r+o[1]*i+o[2]*s,a.y=o[3]*r+o[4]*i+o[5]*s,a.z=o[6]*r+o[7]*i+o[8]*s,a}smult(e){for(let a=0;a<this.elements.length;a++)this.elements[a]*=e}mmult(e,a){a===void 0&&(a=new yi);const o=this.elements,r=e.elements,i=a.elements,s=o[0],n=o[1],d=o[2],c=o[3],l=o[4],m=o[5],u=o[6],v=o[7],g=o[8],f=r[0],p=r[1],h=r[2],y=r[3],b=r[4],_=r[5],S=r[6],x=r[7],w=r[8];return i[0]=s*f+n*y+d*S,i[1]=s*p+n*b+d*x,i[2]=s*h+n*_+d*w,i[3]=c*f+l*y+m*S,i[4]=c*p+l*b+m*x,i[5]=c*h+l*_+m*w,i[6]=u*f+v*y+g*S,i[7]=u*p+v*b+g*x,i[8]=u*h+v*_+g*w,a}scale(e,a){a===void 0&&(a=new yi);const o=this.elements,r=a.elements;for(let i=0;i!==3;i++)r[3*i+0]=e.x*o[3*i+0],r[3*i+1]=e.y*o[3*i+1],r[3*i+2]=e.z*o[3*i+2];return a}solve(e,a){a===void 0&&(a=new P);const o=3,r=4,i=[];let s,n;for(s=0;s<o*r;s++)i.push(0);for(s=0;s<3;s++)for(n=0;n<3;n++)i[s+r*n]=this.elements[s+3*n];i[3+4*0]=e.x,i[3+4*1]=e.y,i[3+4*2]=e.z;let d=3;const c=d;let l;const m=4;let u;do{if(s=c-d,i[s+r*s]===0){for(n=s+1;n<c;n++)if(i[s+r*n]!==0){l=m;do u=m-l,i[u+r*s]+=i[u+r*n];while(--l);break}}if(i[s+r*s]!==0)for(n=s+1;n<c;n++){const v=i[s+r*n]/i[s+r*s];l=m;do u=m-l,i[u+r*n]=u<=s?0:i[u+r*n]-i[u+r*s]*v;while(--l)}}while(--d);if(a.z=i[2*r+3]/i[2*r+2],a.y=(i[1*r+3]-i[1*r+2]*a.z)/i[1*r+1],a.x=(i[0*r+3]-i[0*r+2]*a.z-i[0*r+1]*a.y)/i[0*r+0],isNaN(a.x)||isNaN(a.y)||isNaN(a.z)||a.x===1/0||a.y===1/0||a.z===1/0)throw`Could not solve equation! Got x=[${a.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return a}e(e,a,o){if(o===void 0)return this.elements[a+3*e];this.elements[a+3*e]=o}copy(e){for(let a=0;a<e.elements.length;a++)this.elements[a]=e.elements[a];return this}toString(){let e="";const a=",";for(let o=0;o<9;o++)e+=this.elements[o]+a;return e}reverse(e){e===void 0&&(e=new yi);const a=3,o=6,r=Pme;let i,s;for(i=0;i<3;i++)for(s=0;s<3;s++)r[i+o*s]=this.elements[i+3*s];r[3+6*0]=1,r[3+6*1]=0,r[3+6*2]=0,r[4+6*0]=0,r[4+6*1]=1,r[4+6*2]=0,r[5+6*0]=0,r[5+6*1]=0,r[5+6*2]=1;let n=3;const d=n;let c;const l=o;let m;do{if(i=d-n,r[i+o*i]===0){for(s=i+1;s<d;s++)if(r[i+o*s]!==0){c=l;do m=l-c,r[m+o*i]+=r[m+o*s];while(--c);break}}if(r[i+o*i]!==0)for(s=i+1;s<d;s++){const u=r[i+o*s]/r[i+o*i];c=l;do m=l-c,r[m+o*s]=m<=i?0:r[m+o*s]-r[m+o*i]*u;while(--c)}}while(--n);i=2;do{s=i-1;do{const u=r[i+o*s]/r[i+o*i];c=o;do m=o-c,r[m+o*s]=r[m+o*s]-r[m+o*i]*u;while(--c)}while(s--)}while(--i);i=2;do{const u=1/r[i+o*i];c=o;do m=o-c,r[m+o*i]=r[m+o*i]*u;while(--c)}while(i--);i=2;do{s=2;do{if(m=r[a+s+o*i],isNaN(m)||m===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(i,s,m)}while(s--)}while(i--);return e}setRotationFromQuaternion(e){const a=e.x,o=e.y,r=e.z,i=e.w,s=a+a,n=o+o,d=r+r,c=a*s,l=a*n,m=a*d,u=o*n,v=o*d,g=r*d,f=i*s,p=i*n,h=i*d,y=this.elements;return y[3*0+0]=1-(u+g),y[3*0+1]=l-h,y[3*0+2]=m+p,y[3*1+0]=l+h,y[3*1+1]=1-(c+g),y[3*1+2]=v-f,y[3*2+0]=m-p,y[3*2+1]=v+f,y[3*2+2]=1-(c+u),this}transpose(e){e===void 0&&(e=new yi);const a=this.elements,o=e.elements;let r;return o[0]=a[0],o[4]=a[4],o[8]=a[8],r=a[1],o[1]=a[3],o[3]=r,r=a[2],o[2]=a[6],o[6]=r,r=a[5],o[5]=a[7],o[7]=r,e}}const Pme=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class P{constructor(e,a,o){e===void 0&&(e=0),a===void 0&&(a=0),o===void 0&&(o=0),this.x=e,this.y=a,this.z=o}cross(e,a){a===void 0&&(a=new P);const o=e.x,r=e.y,i=e.z,s=this.x,n=this.y,d=this.z;return a.x=n*i-d*r,a.y=d*o-s*i,a.z=s*r-n*o,a}set(e,a,o){return this.x=e,this.y=a,this.z=o,this}setZero(){this.x=this.y=this.z=0}vadd(e,a){if(a)a.x=e.x+this.x,a.y=e.y+this.y,a.z=e.z+this.z;else return new P(this.x+e.x,this.y+e.y,this.z+e.z)}vsub(e,a){if(a)a.x=this.x-e.x,a.y=this.y-e.y,a.z=this.z-e.z;else return new P(this.x-e.x,this.y-e.y,this.z-e.z)}crossmat(){return new yi([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,a=this.y,o=this.z,r=Math.sqrt(e*e+a*a+o*o);if(r>0){const i=1/r;this.x*=i,this.y*=i,this.z*=i}else this.x=0,this.y=0,this.z=0;return r}unit(e){e===void 0&&(e=new P);const a=this.x,o=this.y,r=this.z;let i=Math.sqrt(a*a+o*o+r*r);return i>0?(i=1/i,e.x=a*i,e.y=o*i,e.z=r*i):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,a=this.y,o=this.z;return Math.sqrt(e*e+a*a+o*o)}lengthSquared(){return this.dot(this)}distanceTo(e){const a=this.x,o=this.y,r=this.z,i=e.x,s=e.y,n=e.z;return Math.sqrt((i-a)*(i-a)+(s-o)*(s-o)+(n-r)*(n-r))}distanceSquared(e){const a=this.x,o=this.y,r=this.z,i=e.x,s=e.y,n=e.z;return(i-a)*(i-a)+(s-o)*(s-o)+(n-r)*(n-r)}scale(e,a){a===void 0&&(a=new P);const o=this.x,r=this.y,i=this.z;return a.x=e*o,a.y=e*r,a.z=e*i,a}vmul(e,a){return a===void 0&&(a=new P),a.x=e.x*this.x,a.y=e.y*this.y,a.z=e.z*this.z,a}addScaledVector(e,a,o){return o===void 0&&(o=new P),o.x=this.x+e*a.x,o.y=this.y+e*a.y,o.z=this.z+e*a.z,o}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return this.x===0&&this.y===0&&this.z===0}negate(e){return e===void 0&&(e=new P),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,a){const o=this.length();if(o>0){const r=Lme,i=1/o;r.set(this.x*i,this.y*i,this.z*i);const s=Nme;Math.abs(r.x)<.9?(s.set(1,0,0),r.cross(s,e)):(s.set(0,1,0),r.cross(s,e)),r.cross(e,a)}else e.set(1,0,0),a.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,a,o){const r=this.x,i=this.y,s=this.z;o.x=r+(e.x-r)*a,o.y=i+(e.y-i)*a,o.z=s+(e.z-s)*a}almostEquals(e,a){return a===void 0&&(a=1e-6),!(Math.abs(this.x-e.x)>a||Math.abs(this.y-e.y)>a||Math.abs(this.z-e.z)>a)}almostZero(e){return e===void 0&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,a){return this.negate(D4),D4.almostEquals(e,a)}clone(){return new P(this.x,this.y,this.z)}}P.ZERO=new P(0,0,0);P.UNIT_X=new P(1,0,0);P.UNIT_Y=new P(0,1,0);P.UNIT_Z=new P(0,0,1);const Lme=new P,Nme=new P,D4=new P;class Sr{constructor(e){e===void 0&&(e={}),this.lowerBound=new P,this.upperBound=new P,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,a,o,r){const i=this.lowerBound,s=this.upperBound,n=o;i.copy(e[0]),n&&n.vmult(i,i),s.copy(i);for(let d=1;d<e.length;d++){let c=e[d];n&&(n.vmult(c,q4),c=q4),c.x>s.x&&(s.x=c.x),c.x<i.x&&(i.x=c.x),c.y>s.y&&(s.y=c.y),c.y<i.y&&(i.y=c.y),c.z>s.z&&(s.z=c.z),c.z<i.z&&(i.z=c.z)}return a&&(a.vadd(i,i),a.vadd(s,s)),r&&(i.x-=r,i.y-=r,i.z-=r,s.x+=r,s.y+=r,s.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return new Sr().copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const a=this.lowerBound,o=this.upperBound,r=e.lowerBound,i=e.upperBound,s=r.x<=o.x&&o.x<=i.x||a.x<=i.x&&i.x<=o.x,n=r.y<=o.y&&o.y<=i.y||a.y<=i.y&&i.y<=o.y,d=r.z<=o.z&&o.z<=i.z||a.z<=i.z&&i.z<=o.z;return s&&n&&d}volume(){const e=this.lowerBound,a=this.upperBound;return(a.x-e.x)*(a.y-e.y)*(a.z-e.z)}contains(e){const a=this.lowerBound,o=this.upperBound,r=e.lowerBound,i=e.upperBound;return a.x<=r.x&&o.x>=i.x&&a.y<=r.y&&o.y>=i.y&&a.z<=r.z&&o.z>=i.z}getCorners(e,a,o,r,i,s,n,d){const c=this.lowerBound,l=this.upperBound;e.copy(c),a.set(l.x,c.y,c.z),o.set(l.x,l.y,c.z),r.set(c.x,l.y,l.z),i.set(l.x,c.y,l.z),s.set(c.x,l.y,c.z),n.set(c.x,c.y,l.z),d.copy(l)}toLocalFrame(e,a){const o=P4,r=o[0],i=o[1],s=o[2],n=o[3],d=o[4],c=o[5],l=o[6],m=o[7];this.getCorners(r,i,s,n,d,c,l,m);for(let u=0;u!==8;u++){const v=o[u];e.pointToLocal(v,v)}return a.setFromPoints(o)}toWorldFrame(e,a){const o=P4,r=o[0],i=o[1],s=o[2],n=o[3],d=o[4],c=o[5],l=o[6],m=o[7];this.getCorners(r,i,s,n,d,c,l,m);for(let u=0;u!==8;u++){const v=o[u];e.pointToWorld(v,v)}return a.setFromPoints(o)}overlapsRay(e){const{direction:a,from:o}=e,r=1/a.x,i=1/a.y,s=1/a.z,n=(this.lowerBound.x-o.x)*r,d=(this.upperBound.x-o.x)*r,c=(this.lowerBound.y-o.y)*i,l=(this.upperBound.y-o.y)*i,m=(this.lowerBound.z-o.z)*s,u=(this.upperBound.z-o.z)*s,v=Math.max(Math.max(Math.min(n,d),Math.min(c,l)),Math.min(m,u)),g=Math.min(Math.min(Math.max(n,d),Math.max(c,l)),Math.max(m,u));return!(g<0||v>g)}}const q4=new P,P4=[new P,new P,new P,new P,new P,new P,new P,new P];class L4{constructor(){this.matrix=[]}get(e,a){let{index:o}=e,{index:r}=a;if(r>o){const i=r;r=o,o=i}return this.matrix[(o*(o+1)>>1)+r-1]}set(e,a,o){let{index:r}=e,{index:i}=a;if(i>r){const s=i;i=r,r=s}this.matrix[(r*(r+1)>>1)+i-1]=o?1:0}reset(){for(let e=0,a=this.matrix.length;e!==a;e++)this.matrix[e]=0}setNumObjects(e){this.matrix.length=e*(e-1)>>1}}class QP{addEventListener(e,a){this._listeners===void 0&&(this._listeners={});const o=this._listeners;return o[e]===void 0&&(o[e]=[]),o[e].includes(a)||o[e].push(a),this}hasEventListener(e,a){if(this._listeners===void 0)return!1;const o=this._listeners;return!!(o[e]!==void 0&&o[e].includes(a))}hasAnyEventListener(e){return this._listeners===void 0?!1:this._listeners[e]!==void 0}removeEventListener(e,a){if(this._listeners===void 0)return this;const o=this._listeners;if(o[e]===void 0)return this;const r=o[e].indexOf(a);return r!==-1&&o[e].splice(r,1),this}dispatchEvent(e){if(this._listeners===void 0)return this;const a=this._listeners[e.type];if(a!==void 0){e.target=this;for(let o=0,r=a.length;o<r;o++)a[o].call(this,e)}return this}}class $a{constructor(e,a,o,r){e===void 0&&(e=0),a===void 0&&(a=0),o===void 0&&(o=0),r===void 0&&(r=1),this.x=e,this.y=a,this.z=o,this.w=r}set(e,a,o,r){return this.x=e,this.y=a,this.z=o,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,a){const o=Math.sin(a*.5);return this.x=e.x*o,this.y=e.y*o,this.z=e.z*o,this.w=Math.cos(a*.5),this}toAxisAngle(e){e===void 0&&(e=new P),this.normalize();const a=2*Math.acos(this.w),o=Math.sqrt(1-this.w*this.w);return o<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/o,e.y=this.y/o,e.z=this.z/o),[e,a]}setFromVectors(e,a){if(e.isAntiparallelTo(a)){const o=jme,r=Fme;e.tangents(o,r),this.setFromAxisAngle(o,Math.PI)}else{const o=e.cross(a);this.x=o.x,this.y=o.y,this.z=o.z,this.w=Math.sqrt(e.length()**2*a.length()**2)+e.dot(a),this.normalize()}return this}mult(e,a){a===void 0&&(a=new $a);const o=this.x,r=this.y,i=this.z,s=this.w,n=e.x,d=e.y,c=e.z,l=e.w;return a.x=o*l+s*n+r*c-i*d,a.y=r*l+s*d+i*n-o*c,a.z=i*l+s*c+o*d-r*n,a.w=s*l-o*n-r*d-i*c,a}inverse(e){e===void 0&&(e=new $a);const a=this.x,o=this.y,r=this.z,i=this.w;this.conjugate(e);const s=1/(a*a+o*o+r*r+i*i);return e.x*=s,e.y*=s,e.z*=s,e.w*=s,e}conjugate(e){return e===void 0&&(e=new $a),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,a){a===void 0&&(a=new P);const o=e.x,r=e.y,i=e.z,s=this.x,n=this.y,d=this.z,c=this.w,l=c*o+n*i-d*r,m=c*r+d*o-s*i,u=c*i+s*r-n*o,v=-s*o-n*r-d*i;return a.x=l*c+v*-s+m*-d-u*-n,a.y=m*c+v*-n+u*-s-l*-d,a.z=u*c+v*-d+l*-n-m*-s,a}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,a){a===void 0&&(a="YZX");let o,r,i;const s=this.x,n=this.y,d=this.z,c=this.w;switch(a){case"YZX":const l=s*n+d*c;if(l>.499&&(o=2*Math.atan2(s,c),r=Math.PI/2,i=0),l<-.499&&(o=-2*Math.atan2(s,c),r=-Math.PI/2,i=0),o===void 0){const m=s*s,u=n*n,v=d*d;o=Math.atan2(2*n*c-2*s*d,1-2*u-2*v),r=Math.asin(2*l),i=Math.atan2(2*s*c-2*n*d,1-2*m-2*v)}break;default:throw new Error(`Euler order ${a} not supported yet.`)}e.y=o,e.z=r,e.x=i}setFromEuler(e,a,o,r){r===void 0&&(r="XYZ");const i=Math.cos(e/2),s=Math.cos(a/2),n=Math.cos(o/2),d=Math.sin(e/2),c=Math.sin(a/2),l=Math.sin(o/2);return r==="XYZ"?(this.x=d*s*n+i*c*l,this.y=i*c*n-d*s*l,this.z=i*s*l+d*c*n,this.w=i*s*n-d*c*l):r==="YXZ"?(this.x=d*s*n+i*c*l,this.y=i*c*n-d*s*l,this.z=i*s*l-d*c*n,this.w=i*s*n+d*c*l):r==="ZXY"?(this.x=d*s*n-i*c*l,this.y=i*c*n+d*s*l,this.z=i*s*l+d*c*n,this.w=i*s*n-d*c*l):r==="ZYX"?(this.x=d*s*n-i*c*l,this.y=i*c*n+d*s*l,this.z=i*s*l-d*c*n,this.w=i*s*n+d*c*l):r==="YZX"?(this.x=d*s*n+i*c*l,this.y=i*c*n+d*s*l,this.z=i*s*l-d*c*n,this.w=i*s*n-d*c*l):r==="XZY"&&(this.x=d*s*n-i*c*l,this.y=i*c*n-d*s*l,this.z=i*s*l+d*c*n,this.w=i*s*n+d*c*l),this}clone(){return new $a(this.x,this.y,this.z,this.w)}slerp(e,a,o){o===void 0&&(o=new $a);const r=this.x,i=this.y,s=this.z,n=this.w;let d=e.x,c=e.y,l=e.z,m=e.w,u,v,g,f,p;return v=r*d+i*c+s*l+n*m,v<0&&(v=-v,d=-d,c=-c,l=-l,m=-m),1-v>1e-6?(u=Math.acos(v),g=Math.sin(u),f=Math.sin((1-a)*u)/g,p=Math.sin(a*u)/g):(f=1-a,p=a),o.x=f*r+p*d,o.y=f*i+p*c,o.z=f*s+p*l,o.w=f*n+p*m,o}integrate(e,a,o,r){r===void 0&&(r=new $a);const i=e.x*o.x,s=e.y*o.y,n=e.z*o.z,d=this.x,c=this.y,l=this.z,m=this.w,u=a*.5;return r.x+=u*(i*m+s*l-n*c),r.y+=u*(s*m+n*d-i*l),r.z+=u*(n*m+i*c-s*d),r.w+=u*(-i*d-s*c-n*l),r}}const jme=new P,Fme=new P,zme={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};class Ke{constructor(e){e===void 0&&(e={}),this.id=Ke.idCounter++,this.type=e.type||0,this.boundingSphereRadius=0,this.collisionResponse=e.collisionResponse?e.collisionResponse:!0,this.collisionFilterGroup=e.collisionFilterGroup!==void 0?e.collisionFilterGroup:1,this.collisionFilterMask=e.collisionFilterMask!==void 0?e.collisionFilterMask:-1,this.material=e.material?e.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(e,a){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(e,a,o,r){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}Ke.idCounter=0;Ke.types=zme;class $t{constructor(e){e===void 0&&(e={}),this.position=new P,this.quaternion=new $a,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,a){return $t.pointToLocalFrame(this.position,this.quaternion,e,a)}pointToWorld(e,a){return $t.pointToWorldFrame(this.position,this.quaternion,e,a)}vectorToWorldFrame(e,a){return a===void 0&&(a=new P),this.quaternion.vmult(e,a),a}static pointToLocalFrame(e,a,o,r){return r===void 0&&(r=new P),o.vsub(e,r),a.conjugate(N4),N4.vmult(r,r),r}static pointToWorldFrame(e,a,o,r){return r===void 0&&(r=new P),a.vmult(o,r),r.vadd(e,r),r}static vectorToWorldFrame(e,a,o){return o===void 0&&(o=new P),e.vmult(a,o),o}static vectorToLocalFrame(e,a,o,r){return r===void 0&&(r=new P),a.w*=-1,a.vmult(o,r),a.w*=-1,r}}const N4=new $a;class Jd extends Ke{constructor(e){e===void 0&&(e={});const{vertices:a=[],faces:o=[],normals:r=[],axes:i,boundingSphereRadius:s}=e;super({type:Ke.types.CONVEXPOLYHEDRON}),this.vertices=a,this.faces=o,this.faceNormals=r,this.faceNormals.length===0&&this.computeNormals(),s?this.boundingSphereRadius=s:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=i?i.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,a=this.vertices,o=this.uniqueEdges;o.length=0;const r=new P;for(let i=0;i!==e.length;i++){const s=e[i],n=s.length;for(let d=0;d!==n;d++){const c=(d+1)%n;a[s[d]].vsub(a[s[c]],r),r.normalize();let l=!1;for(let m=0;m!==o.length;m++)if(o[m].almostEquals(r)||o[m].almostEquals(r)){l=!0;break}l||o.push(r.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let r=0;r<this.faces[e].length;r++)if(!this.vertices[this.faces[e][r]])throw new Error(`Vertex ${this.faces[e][r]} not found!`);const a=this.faceNormals[e]||new P;this.getFaceNormal(e,a),a.negate(a),this.faceNormals[e]=a;const o=this.vertices[this.faces[e][0]];if(a.dot(o)<0){console.error(`.faceNormals[${e}] = Vec3(${a.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let r=0;r<this.faces[e].length;r++)console.warn(`.vertices[${this.faces[e][r]}] = Vec3(${this.vertices[this.faces[e][r]].toString()})`)}}}getFaceNormal(e,a){const o=this.faces[e],r=this.vertices[o[0]],i=this.vertices[o[1]],s=this.vertices[o[2]];Jd.computeNormal(r,i,s,a)}static computeNormal(e,a,o,r){const i=new P,s=new P;a.vsub(e,s),o.vsub(a,i),i.cross(s,r),r.isZero()||r.normalize()}clipAgainstHull(e,a,o,r,i,s,n,d,c){const l=new P;let m=-1,u=-Number.MAX_VALUE;for(let g=0;g<o.faces.length;g++){l.copy(o.faceNormals[g]),i.vmult(l,l);const f=l.dot(s);f>u&&(u=f,m=g)}const v=[];for(let g=0;g<o.faces[m].length;g++){const f=o.vertices[o.faces[m][g]],p=new P;p.copy(f),i.vmult(p,p),r.vadd(p,p),v.push(p)}m>=0&&this.clipFaceAgainstHull(s,e,a,v,n,d,c)}findSeparatingAxis(e,a,o,r,i,s,n,d){const c=new P,l=new P,m=new P,u=new P,v=new P,g=new P;let f=Number.MAX_VALUE;const p=this;if(p.uniqueAxes)for(let h=0;h!==p.uniqueAxes.length;h++){o.vmult(p.uniqueAxes[h],c);const y=p.testSepAxis(c,e,a,o,r,i);if(y===!1)return!1;y<f&&(f=y,s.copy(c))}else{const h=n?n.length:p.faces.length;for(let y=0;y<h;y++){const b=n?n[y]:y;c.copy(p.faceNormals[b]),o.vmult(c,c);const _=p.testSepAxis(c,e,a,o,r,i);if(_===!1)return!1;_<f&&(f=_,s.copy(c))}}if(e.uniqueAxes)for(let h=0;h!==e.uniqueAxes.length;h++){i.vmult(e.uniqueAxes[h],l);const y=p.testSepAxis(l,e,a,o,r,i);if(y===!1)return!1;y<f&&(f=y,s.copy(l))}else{const h=d?d.length:e.faces.length;for(let y=0;y<h;y++){const b=d?d[y]:y;l.copy(e.faceNormals[b]),i.vmult(l,l);const _=p.testSepAxis(l,e,a,o,r,i);if(_===!1)return!1;_<f&&(f=_,s.copy(l))}}for(let h=0;h!==p.uniqueEdges.length;h++){o.vmult(p.uniqueEdges[h],u);for(let y=0;y!==e.uniqueEdges.length;y++)if(i.vmult(e.uniqueEdges[y],v),u.cross(v,g),!g.almostZero()){g.normalize();const b=p.testSepAxis(g,e,a,o,r,i);if(b===!1)return!1;b<f&&(f=b,s.copy(g))}}return r.vsub(a,m),m.dot(s)>0&&s.negate(s),!0}testSepAxis(e,a,o,r,i,s){const n=this;Jd.project(n,e,o,r,B_),Jd.project(a,e,i,s,k_);const d=B_[0],c=B_[1],l=k_[0],m=k_[1];if(d<m||l<c)return!1;const u=d-m,v=l-c;return u<v?u:v}calculateLocalInertia(e,a){const o=new P,r=new P;this.computeLocalAABB(r,o);const i=o.x-r.x,s=o.y-r.y,n=o.z-r.z;a.x=1/12*e*(2*s*2*s+2*n*2*n),a.y=1/12*e*(2*i*2*i+2*n*2*n),a.z=1/12*e*(2*s*2*s+2*i*2*i)}getPlaneConstantOfFace(e){const a=this.faces[e],o=this.faceNormals[e],r=this.vertices[a[0]];return-o.dot(r)}clipFaceAgainstHull(e,a,o,r,i,s,n){const d=new P,c=new P,l=new P,m=new P,u=new P,v=new P,g=new P,f=new P,p=this,h=[],y=r,b=h;let _=-1,S=Number.MAX_VALUE;for(let O=0;O<p.faces.length;O++){d.copy(p.faceNormals[O]),o.vmult(d,d);const I=d.dot(e);I<S&&(S=I,_=O)}if(_<0)return;const x=p.faces[_];x.connectedFaces=[];for(let O=0;O<p.faces.length;O++)for(let I=0;I<p.faces[O].length;I++)x.indexOf(p.faces[O][I])!==-1&&O!==_&&x.connectedFaces.indexOf(O)===-1&&x.connectedFaces.push(O);const w=x.length;for(let O=0;O<w;O++){const I=p.vertices[x[O]],U=p.vertices[x[(O+1)%w]];I.vsub(U,c),l.copy(c),o.vmult(l,l),a.vadd(l,l),m.copy(this.faceNormals[_]),o.vmult(m,m),a.vadd(m,m),l.cross(m,u),u.negate(u),v.copy(I),o.vmult(v,v),a.vadd(v,v);const B=x.connectedFaces[O];g.copy(this.faceNormals[B]);const N=this.getPlaneConstantOfFace(B);f.copy(g),o.vmult(f,f);const z=N-f.dot(a);for(this.clipFaceAgainstPlane(y,b,f,z);y.length;)y.shift();for(;b.length;)y.push(b.shift())}g.copy(this.faceNormals[_]);const A=this.getPlaneConstantOfFace(_);f.copy(g),o.vmult(f,f);const T=A-f.dot(a);for(let O=0;O<y.length;O++){let I=f.dot(y[O])+T;if(I<=i&&(I=i),I<=s){const U=y[O];if(I<=1e-6){const B={point:U,normal:f,depth:I};n.push(B)}}}}clipFaceAgainstPlane(e,a,o,r){let i,s;const n=e.length;if(n<2)return a;let d=e[e.length-1],c=e[0];i=o.dot(d)+r;for(let l=0;l<n;l++){if(c=e[l],s=o.dot(c)+r,i<0)if(s<0){const m=new P;m.copy(c),a.push(m)}else{const m=new P;d.lerp(c,i/(i-s),m),a.push(m)}else if(s<0){const m=new P;d.lerp(c,i/(i-s),m),a.push(m),a.push(c)}d=c,i=s}return a}computeWorldVertices(e,a){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new P);const o=this.vertices,r=this.worldVertices;for(let i=0;i!==this.vertices.length;i++)a.vmult(o[i],r[i]),e.vadd(r[i],r[i]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,a){const o=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),a.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let r=0;r<this.vertices.length;r++){const i=o[r];i.x<e.x?e.x=i.x:i.x>a.x&&(a.x=i.x),i.y<e.y?e.y=i.y:i.y>a.y&&(a.y=i.y),i.z<e.z?e.z=i.z:i.z>a.z&&(a.z=i.z)}}computeWorldFaceNormals(e){const a=this.faceNormals.length;for(;this.worldFaceNormals.length<a;)this.worldFaceNormals.push(new P);const o=this.faceNormals,r=this.worldFaceNormals;for(let i=0;i!==a;i++)e.vmult(o[i],r[i]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const a=this.vertices;for(let o=0;o!==a.length;o++){const r=a[o].lengthSquared();r>e&&(e=r)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,a,o,r){const i=this.vertices;let s,n,d,c,l,m,u=new P;for(let v=0;v<i.length;v++){u.copy(i[v]),a.vmult(u,u),e.vadd(u,u);const g=u;(s===void 0||g.x<s)&&(s=g.x),(c===void 0||g.x>c)&&(c=g.x),(n===void 0||g.y<n)&&(n=g.y),(l===void 0||g.y>l)&&(l=g.y),(d===void 0||g.z<d)&&(d=g.z),(m===void 0||g.z>m)&&(m=g.z)}o.set(s,n,d),r.set(c,l,m)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){e===void 0&&(e=new P);const a=this.vertices;for(let o=0;o<a.length;o++)e.vadd(a[o],e);return e.scale(1/a.length,e),e}transformAllPoints(e,a){const o=this.vertices.length,r=this.vertices;if(a){for(let i=0;i<o;i++){const s=r[i];a.vmult(s,s)}for(let i=0;i<this.faceNormals.length;i++){const s=this.faceNormals[i];a.vmult(s,s)}}if(e)for(let i=0;i<o;i++){const s=r[i];s.vadd(e,s)}}pointIsInside(e){const a=this.vertices,o=this.faces,r=this.faceNormals,i=null,s=new P;this.getAveragePointLocal(s);for(let n=0;n<this.faces.length;n++){let d=r[n];const c=a[o[n][0]],l=new P;e.vsub(c,l);const m=d.dot(l),u=new P;s.vsub(c,u);const v=d.dot(u);if(m<0&&v>0||m>0&&v<0)return!1}return i?1:-1}static project(e,a,o,r,i){const s=e.vertices.length,n=Bme;let d=0,c=0;const l=kme,m=e.vertices;l.setZero(),$t.vectorToLocalFrame(o,r,a,n),$t.pointToLocalFrame(o,r,l,l);const u=l.dot(n);c=d=m[0].dot(n);for(let v=1;v<s;v++){const g=m[v].dot(n);g>d&&(d=g),g<c&&(c=g)}if(c-=u,d-=u,c>d){const v=c;c=d,d=v}i[0]=d,i[1]=c}}const B_=[],k_=[];new P;const Bme=new P,kme=new P;class QS extends Ke{constructor(e){super({type:Ke.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,a=this.halfExtents.y,o=this.halfExtents.z,r=P,i=[new r(-e,-a,-o),new r(e,-a,-o),new r(e,a,-o),new r(-e,a,-o),new r(-e,-a,o),new r(e,-a,o),new r(e,a,o),new r(-e,a,o)],s=[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],n=[new r(0,0,1),new r(0,1,0),new r(1,0,0)],d=new Jd({vertices:i,faces:s,axes:n});this.convexPolyhedronRepresentation=d,d.material=this.material}calculateLocalInertia(e,a){return a===void 0&&(a=new P),QS.calculateInertia(this.halfExtents,e,a),a}static calculateInertia(e,a,o){const r=e;o.x=1/12*a*(2*r.y*2*r.y+2*r.z*2*r.z),o.y=1/12*a*(2*r.x*2*r.x+2*r.z*2*r.z),o.z=1/12*a*(2*r.y*2*r.y+2*r.x*2*r.x)}getSideNormals(e,a){const o=e,r=this.halfExtents;if(o[0].set(r.x,0,0),o[1].set(0,r.y,0),o[2].set(0,0,r.z),o[3].set(-r.x,0,0),o[4].set(0,-r.y,0),o[5].set(0,0,-r.z),a!==void 0)for(let i=0;i!==o.length;i++)a.vmult(o[i],o[i]);return o}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,a,o){const r=this.halfExtents,i=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]];for(let s=0;s<i.length;s++)bn.set(i[s][0],i[s][1],i[s][2]),a.vmult(bn,bn),e.vadd(bn,bn),o(bn.x,bn.y,bn.z)}calculateWorldAABB(e,a,o,r){const i=this.halfExtents;Ni[0].set(i.x,i.y,i.z),Ni[1].set(-i.x,i.y,i.z),Ni[2].set(-i.x,-i.y,i.z),Ni[3].set(-i.x,-i.y,-i.z),Ni[4].set(i.x,-i.y,-i.z),Ni[5].set(i.x,i.y,-i.z),Ni[6].set(-i.x,i.y,-i.z),Ni[7].set(i.x,-i.y,i.z);const s=Ni[0];a.vmult(s,s),e.vadd(s,s),r.copy(s),o.copy(s);for(let n=1;n<8;n++){const d=Ni[n];a.vmult(d,d),e.vadd(d,d);const c=d.x,l=d.y,m=d.z;c>r.x&&(r.x=c),l>r.y&&(r.y=l),m>r.z&&(r.z=m),c<o.x&&(o.x=c),l<o.y&&(o.y=l),m<o.z&&(o.z=m)}}}const bn=new P,Ni=[new P,new P,new P,new P,new P,new P,new P,new P],XS={DYNAMIC:1,STATIC:2,KINEMATIC:4},JS={AWAKE:0,SLEEPY:1,SLEEPING:2};class Be extends QP{constructor(e){e===void 0&&(e={}),super(),this.id=Be.idCounter++,this.index=-1,this.world=null,this.vlambda=new P,this.collisionFilterGroup=typeof e.collisionFilterGroup=="number"?e.collisionFilterGroup:1,this.collisionFilterMask=typeof e.collisionFilterMask=="number"?e.collisionFilterMask:-1,this.collisionResponse=typeof e.collisionResponse=="boolean"?e.collisionResponse:!0,this.position=new P,this.previousPosition=new P,this.interpolatedPosition=new P,this.initPosition=new P,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new P,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new P,this.force=new P;const a=typeof e.mass=="number"?e.mass:0;this.mass=a,this.invMass=a>0?1/a:0,this.material=e.material||null,this.linearDamping=typeof e.linearDamping=="number"?e.linearDamping:.01,this.type=a<=0?Be.STATIC:Be.DYNAMIC,typeof e.type==typeof Be.STATIC&&(this.type=e.type),this.allowSleep=typeof e.allowSleep<"u"?e.allowSleep:!0,this.sleepState=Be.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new P,this.quaternion=new $a,this.initQuaternion=new $a,this.previousQuaternion=new $a,this.interpolatedQuaternion=new $a,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new P,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new P,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new P,this.invInertia=new P,this.invInertiaWorld=new yi,this.invMassSolve=0,this.invInertiaSolve=new P,this.invInertiaWorldSolve=new yi,this.fixedRotation=typeof e.fixedRotation<"u"?e.fixedRotation:!1,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new P(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new P(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new Sr,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new P,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=Be.AWAKE,this.wakeUpAfterNarrowphase=!1,e===Be.SLEEPING&&this.dispatchEvent(Be.wakeupEvent)}sleep(){this.sleepState=Be.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const a=this.sleepState,o=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),r=this.sleepSpeedLimit**2;a===Be.AWAKE&&o<r?(this.sleepState=Be.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(Be.sleepyEvent)):a===Be.SLEEPY&&o>r?this.wakeUp():a===Be.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(Be.sleepEvent))}}updateSolveMassProperties(){this.sleepState===Be.SLEEPING||this.type===Be.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,a){return a===void 0&&(a=new P),e.vsub(this.position,a),this.quaternion.conjugate().vmult(a,a),a}vectorToLocalFrame(e,a){return a===void 0&&(a=new P),this.quaternion.conjugate().vmult(e,a),a}pointToWorldFrame(e,a){return a===void 0&&(a=new P),this.quaternion.vmult(e,a),a.vadd(this.position,a),a}vectorToWorldFrame(e,a){return a===void 0&&(a=new P),this.quaternion.vmult(e,a),a}addShape(e,a,o){const r=new P,i=new $a;return a&&r.copy(a),o&&i.copy(o),this.shapes.push(e),this.shapeOffsets.push(r),this.shapeOrientations.push(i),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const a=this.shapes.indexOf(e);return a===-1?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(a,1),this.shapeOffsets.splice(a,1),this.shapeOrientations.splice(a,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,a=this.shapeOffsets,o=e.length;let r=0;for(let i=0;i!==o;i++){const s=e[i];s.updateBoundingSphereRadius();const n=a[i].length(),d=s.boundingSphereRadius;n+d>r&&(r=n+d)}this.boundingRadius=r}updateAABB(){const e=this.shapes,a=this.shapeOffsets,o=this.shapeOrientations,r=e.length,i=Ume,s=Vme,n=this.quaternion,d=this.aabb,c=$me;for(let l=0;l!==r;l++){const m=e[l];n.vmult(a[l],i),i.vadd(this.position,i),n.mult(o[l],s),m.calculateWorldAABB(i,s,c.lowerBound,c.upperBound),l===0?d.copy(c):d.extend(c)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const a=this.invInertia;if(!(a.x===a.y&&a.y===a.z&&!e)){const o=Hme,r=Wme;o.setRotationFromQuaternion(this.quaternion),o.transpose(r),o.scale(a,o),o.mmult(r,this.invInertiaWorld)}}applyForce(e,a){if(a===void 0&&(a=new P),this.type!==Be.DYNAMIC)return;this.sleepState===Be.SLEEPING&&this.wakeUp();const o=Gme;a.cross(e,o),this.force.vadd(e,this.force),this.torque.vadd(o,this.torque)}applyLocalForce(e,a){if(a===void 0&&(a=new P),this.type!==Be.DYNAMIC)return;const o=Yme,r=Zme;this.vectorToWorldFrame(e,o),this.vectorToWorldFrame(a,r),this.applyForce(o,r)}applyTorque(e){this.type===Be.DYNAMIC&&(this.sleepState===Be.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,a){if(a===void 0&&(a=new P),this.type!==Be.DYNAMIC)return;this.sleepState===Be.SLEEPING&&this.wakeUp();const o=a,r=Kme;r.copy(e),r.scale(this.invMass,r),this.velocity.vadd(r,this.velocity);const i=Qme;o.cross(e,i),this.invInertiaWorld.vmult(i,i),this.angularVelocity.vadd(i,this.angularVelocity)}applyLocalImpulse(e,a){if(a===void 0&&(a=new P),this.type!==Be.DYNAMIC)return;const o=Xme,r=Jme;this.vectorToWorldFrame(e,o),this.vectorToWorldFrame(a,r),this.applyImpulse(o,r)}updateMassProperties(){const e=epe;this.invMass=this.mass>0?1/this.mass:0;const a=this.inertia,o=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),QS.calculateInertia(e,this.mass,a),this.invInertia.set(a.x>0&&!o?1/a.x:0,a.y>0&&!o?1/a.y:0,a.z>0&&!o?1/a.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,a){const o=new P;return e.vsub(this.position,o),this.angularVelocity.cross(o,a),this.velocity.vadd(a,a),a}integrate(e,a,o){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),!(this.type===Be.DYNAMIC||this.type===Be.KINEMATIC)||this.sleepState===Be.SLEEPING)return;const r=this.velocity,i=this.angularVelocity,s=this.position,n=this.force,d=this.torque,c=this.quaternion,l=this.invMass,m=this.invInertiaWorld,u=this.linearFactor,v=l*e;r.x+=n.x*v*u.x,r.y+=n.y*v*u.y,r.z+=n.z*v*u.z;const g=m.elements,f=this.angularFactor,p=d.x*f.x,h=d.y*f.y,y=d.z*f.z;i.x+=e*(g[0]*p+g[1]*h+g[2]*y),i.y+=e*(g[3]*p+g[4]*h+g[5]*y),i.z+=e*(g[6]*p+g[7]*h+g[8]*y),s.x+=r.x*e,s.y+=r.y*e,s.z+=r.z*e,c.integrate(this.angularVelocity,e,this.angularFactor,c),a&&(o?c.normalizeFast():c.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}Be.idCounter=0;Be.COLLIDE_EVENT_NAME="collide";Be.DYNAMIC=XS.DYNAMIC;Be.STATIC=XS.STATIC;Be.KINEMATIC=XS.KINEMATIC;Be.AWAKE=JS.AWAKE;Be.SLEEPY=JS.SLEEPY;Be.SLEEPING=JS.SLEEPING;Be.wakeupEvent={type:"wakeup"};Be.sleepyEvent={type:"sleepy"};Be.sleepEvent={type:"sleep"};const Ume=new P,Vme=new $a,$me=new Sr,Hme=new yi,Wme=new yi;new yi;const Gme=new P,Yme=new P,Zme=new P,Kme=new P,Qme=new P,Xme=new P,Jme=new P,epe=new P;class tpe{constructor(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}collisionPairs(e,a,o){throw new Error("collisionPairs not implemented for this BroadPhase class!")}needBroadphaseCollision(e,a){return!(!(e.collisionFilterGroup&a.collisionFilterMask)||!(a.collisionFilterGroup&e.collisionFilterMask)||(e.type&Be.STATIC||e.sleepState===Be.SLEEPING)&&(a.type&Be.STATIC||a.sleepState===Be.SLEEPING))}intersectionTest(e,a,o,r){this.useBoundingBoxes?this.doBoundingBoxBroadphase(e,a,o,r):this.doBoundingSphereBroadphase(e,a,o,r)}doBoundingSphereBroadphase(e,a,o,r){const i=ape;a.position.vsub(e.position,i);const s=(e.boundingRadius+a.boundingRadius)**2;i.lengthSquared()<s&&(o.push(e),r.push(a))}doBoundingBoxBroadphase(e,a,o,r){e.aabbNeedsUpdate&&e.updateAABB(),a.aabbNeedsUpdate&&a.updateAABB(),e.aabb.overlaps(a.aabb)&&(o.push(e),r.push(a))}makePairsUnique(e,a){const o=ope,r=rpe,i=ipe,s=e.length;for(let n=0;n!==s;n++)r[n]=e[n],i[n]=a[n];e.length=0,a.length=0;for(let n=0;n!==s;n++){const d=r[n].id,c=i[n].id,l=d<c?`${d},${c}`:`${c},${d}`;o[l]=n,o.keys.push(l)}for(let n=0;n!==o.keys.length;n++){const d=o.keys.pop(),c=o[d];e.push(r[c]),a.push(i[c]),delete o[d]}}setWorld(e){}static boundingSphereCheck(e,a){const o=new P;e.position.vsub(a.position,o);const r=e.shapes[0],i=a.shapes[0];return Math.pow(r.boundingSphereRadius+i.boundingSphereRadius,2)>o.lengthSquared()}aabbQuery(e,a,o){return console.warn(".aabbQuery is not implemented in this Broadphase subclass."),[]}}const ape=new P;new P;new $a;new P;const ope={keys:[]},rpe=[],ipe=[];new P;new P;new P;class XP extends tpe{constructor(){super()}collisionPairs(e,a,o){const r=e.bodies,i=r.length;let s,n;for(let d=0;d!==i;d++)for(let c=0;c!==d;c++)s=r[d],n=r[c],this.needBroadphaseCollision(s,n)&&this.intersectionTest(s,n,a,o)}aabbQuery(e,a,o){o===void 0&&(o=[]);for(let r=0;r<e.bodies.length;r++){const i=e.bodies[r];i.aabbNeedsUpdate&&i.updateAABB(),i.aabb.overlaps(a)&&o.push(i)}return o}}class A0{constructor(){this.rayFromWorld=new P,this.rayToWorld=new P,this.hitNormalWorld=new P,this.hitPointWorld=new P,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,a,o,r,i,s,n){this.rayFromWorld.copy(e),this.rayToWorld.copy(a),this.hitNormalWorld.copy(o),this.hitPointWorld.copy(r),this.shape=i,this.body=s,this.distance=n}}let JP,eL,tL,aL,oL,rL,iL;const eA={CLOSEST:1,ANY:2,ALL:4};JP=Ke.types.SPHERE;eL=Ke.types.PLANE;tL=Ke.types.BOX;aL=Ke.types.CYLINDER;oL=Ke.types.CONVEXPOLYHEDRON;rL=Ke.types.HEIGHTFIELD;iL=Ke.types.TRIMESH;class Ba{get[JP](){return this._intersectSphere}get[eL](){return this._intersectPlane}get[tL](){return this._intersectBox}get[aL](){return this._intersectConvex}get[oL](){return this._intersectConvex}get[rL](){return this._intersectHeightfield}get[iL](){return this._intersectTrimesh}constructor(e,a){e===void 0&&(e=new P),a===void 0&&(a=new P),this.from=e.clone(),this.to=a.clone(),this.direction=new P,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=Ba.ANY,this.result=new A0,this.hasHit=!1,this.callback=o=>{}}intersectWorld(e,a){return this.mode=a.mode||Ba.ANY,this.result=a.result||new A0,this.skipBackfaces=!!a.skipBackfaces,this.collisionFilterMask=typeof a.collisionFilterMask<"u"?a.collisionFilterMask:-1,this.collisionFilterGroup=typeof a.collisionFilterGroup<"u"?a.collisionFilterGroup:-1,this.checkCollisionResponse=typeof a.checkCollisionResponse<"u"?a.checkCollisionResponse:!0,a.from&&this.from.copy(a.from),a.to&&this.to.copy(a.to),this.callback=a.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(j4),U_.length=0,e.broadphase.aabbQuery(e,j4,U_),this.intersectBodies(U_),this.hasHit}intersectBody(e,a){a&&(this.result=a,this.updateDirection());const o=this.checkCollisionResponse;if(o&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=spe,i=npe;for(let s=0,n=e.shapes.length;s<n;s++){const d=e.shapes[s];if(!(o&&!d.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[s],i),e.quaternion.vmult(e.shapeOffsets[s],r),r.vadd(e.position,r),this.intersectShape(d,i,r,e),this.result.shouldStop))break}}intersectBodies(e,a){a&&(this.result=a,this.updateDirection());for(let o=0,r=e.length;!this.result.shouldStop&&o<r;o++)this.intersectBody(e[o])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,a,o,r){const i=this.from;if(xpe(i,this.direction,o)>e.boundingSphereRadius)return;const s=this[e.type];s&&s.call(this,e,a,o,r,e)}_intersectBox(e,a,o,r,i){return this._intersectConvex(e.convexPolyhedronRepresentation,a,o,r,i)}_intersectPlane(e,a,o,r,i){const s=this.from,n=this.to,d=this.direction,c=new P(0,0,1);a.vmult(c,c);const l=new P;s.vsub(o,l);const m=l.dot(c);n.vsub(o,l);const u=l.dot(c);if(m*u>0||s.distanceTo(n)<m)return;const v=c.dot(d);if(Math.abs(v)<this.precision)return;const g=new P,f=new P,p=new P;s.vsub(o,g);const h=-c.dot(g)/v;d.scale(h,f),s.vadd(f,p),this.reportIntersection(c,p,i,r,-1)}getAABB(e){const{lowerBound:a,upperBound:o}=e,r=this.to,i=this.from;a.x=Math.min(r.x,i.x),a.y=Math.min(r.y,i.y),a.z=Math.min(r.z,i.z),o.x=Math.max(r.x,i.x),o.y=Math.max(r.y,i.y),o.z=Math.max(r.z,i.z)}_intersectHeightfield(e,a,o,r,i){e.data,e.elementSize;const s=dpe;s.from.copy(this.from),s.to.copy(this.to),$t.pointToLocalFrame(o,a,s.from,s.from),$t.pointToLocalFrame(o,a,s.to,s.to),s.updateDirection();const n=cpe;let d,c,l,m;d=c=0,l=m=e.data.length-1;const u=new Sr;s.getAABB(u),e.getIndexOfPosition(u.lowerBound.x,u.lowerBound.y,n,!0),d=Math.max(d,n[0]),c=Math.max(c,n[1]),e.getIndexOfPosition(u.upperBound.x,u.upperBound.y,n,!0),l=Math.min(l,n[0]+1),m=Math.min(m,n[1]+1);for(let v=d;v<l;v++)for(let g=c;g<m;g++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(v,g,u),!!u.overlapsRay(s)){if(e.getConvexTrianglePillar(v,g,!1),$t.pointToWorldFrame(o,a,e.pillarOffset,Ov),this._intersectConvex(e.pillarConvex,a,Ov,r,i,F4),this.result.shouldStop)return;e.getConvexTrianglePillar(v,g,!0),$t.pointToWorldFrame(o,a,e.pillarOffset,Ov),this._intersectConvex(e.pillarConvex,a,Ov,r,i,F4)}}}_intersectSphere(e,a,o,r,i){const s=this.from,n=this.to,d=e.radius,c=(n.x-s.x)**2+(n.y-s.y)**2+(n.z-s.z)**2,l=2*((n.x-s.x)*(s.x-o.x)+(n.y-s.y)*(s.y-o.y)+(n.z-s.z)*(s.z-o.z)),m=(s.x-o.x)**2+(s.y-o.y)**2+(s.z-o.z)**2-d**2,u=l**2-4*c*m,v=lpe,g=upe;if(!(u<0))if(u===0)s.lerp(n,u,v),v.vsub(o,g),g.normalize(),this.reportIntersection(g,v,i,r,-1);else{const f=(-l-Math.sqrt(u))/(2*c),p=(-l+Math.sqrt(u))/(2*c);if(f>=0&&f<=1&&(s.lerp(n,f,v),v.vsub(o,g),g.normalize(),this.reportIntersection(g,v,i,r,-1)),this.result.shouldStop)return;p>=0&&p<=1&&(s.lerp(n,p,v),v.vsub(o,g),g.normalize(),this.reportIntersection(g,v,i,r,-1))}}_intersectConvex(e,a,o,r,i,s){const n=mpe,d=z4,c=s&&s.faceList||null,l=e.faces,m=e.vertices,u=e.faceNormals,v=this.direction,g=this.from,f=this.to,p=g.distanceTo(f),h=c?c.length:l.length,y=this.result;for(let b=0;!y.shouldStop&&b<h;b++){const _=c?c[b]:b,S=l[_],x=u[_],w=a,A=o;d.copy(m[S[0]]),w.vmult(d,d),d.vadd(A,d),d.vsub(g,d),w.vmult(x,n);const T=v.dot(n);if(Math.abs(T)<this.precision)continue;const O=n.dot(d)/T;if(!(O<0)){v.scale(O,zo),zo.vadd(g,zo),si.copy(m[S[0]]),w.vmult(si,si),A.vadd(si,si);for(let I=1;!y.shouldStop&&I<S.length-1;I++){ji.copy(m[S[I]]),Fi.copy(m[S[I+1]]),w.vmult(ji,ji),w.vmult(Fi,Fi),A.vadd(ji,ji),A.vadd(Fi,Fi);const U=zo.distanceTo(g);!(Ba.pointInTriangle(zo,si,ji,Fi)||Ba.pointInTriangle(zo,ji,si,Fi))||U>p||this.reportIntersection(n,zo,i,r,_)}}}}_intersectTrimesh(e,a,o,r,i,s){const n=ppe,d=bpe,c=_pe,l=z4,m=fpe,u=hpe,v=vpe,g=ype,f=gpe,p=e.indices;e.vertices;const h=this.from,y=this.to,b=this.direction;c.position.copy(o),c.quaternion.copy(a),$t.vectorToLocalFrame(o,a,b,m),$t.pointToLocalFrame(o,a,h,u),$t.pointToLocalFrame(o,a,y,v),v.x*=e.scale.x,v.y*=e.scale.y,v.z*=e.scale.z,u.x*=e.scale.x,u.y*=e.scale.y,u.z*=e.scale.z,v.vsub(u,m),m.normalize();const _=u.distanceSquared(v);e.tree.rayQuery(this,c,d);for(let S=0,x=d.length;!this.result.shouldStop&&S!==x;S++){const w=d[S];e.getNormal(w,n),e.getVertex(p[w*3],si),si.vsub(u,l);const A=m.dot(n),T=n.dot(l)/A;if(T<0)continue;m.scale(T,zo),zo.vadd(u,zo),e.getVertex(p[w*3+1],ji),e.getVertex(p[w*3+2],Fi);const O=zo.distanceSquared(u);!(Ba.pointInTriangle(zo,ji,si,Fi)||Ba.pointInTriangle(zo,si,ji,Fi))||O>_||($t.vectorToWorldFrame(a,n,f),$t.pointToWorldFrame(o,a,zo,g),this.reportIntersection(f,g,i,r,w))}d.length=0}reportIntersection(e,a,o,r,i){const s=this.from,n=this.to,d=s.distanceTo(a),c=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(c.hitFaceIndex=typeof i<"u"?i:-1,this.mode){case Ba.ALL:this.hasHit=!0,c.set(s,n,e,a,o,r,d),c.hasHit=!0,this.callback(c);break;case Ba.CLOSEST:(d<c.distance||!c.hasHit)&&(this.hasHit=!0,c.hasHit=!0,c.set(s,n,e,a,o,r,d));break;case Ba.ANY:this.hasHit=!0,c.hasHit=!0,c.set(s,n,e,a,o,r,d),c.shouldStop=!0;break}}static pointInTriangle(e,a,o,r){r.vsub(a,Pd),o.vsub(a,Fm),e.vsub(a,V_);const i=Pd.dot(Pd),s=Pd.dot(Fm),n=Pd.dot(V_),d=Fm.dot(Fm),c=Fm.dot(V_);let l,m;return(l=d*n-s*c)>=0&&(m=i*c-s*n)>=0&&l+m<i*d-s*s}}Ba.CLOSEST=eA.CLOSEST;Ba.ANY=eA.ANY;Ba.ALL=eA.ALL;const j4=new Sr,U_=[],Fm=new P,V_=new P,spe=new P,npe=new $a,zo=new P,si=new P,ji=new P,Fi=new P;new P;new A0;const F4={faceList:[0]},Ov=new P,dpe=new Ba,cpe=[],lpe=new P,upe=new P,mpe=new P;new P;new P;const z4=new P,ppe=new P,fpe=new P,hpe=new P,vpe=new P,gpe=new P,ype=new P;new Sr;const bpe=[],_pe=new $t,Pd=new P,Iv=new P;function xpe(t,e,a){a.vsub(t,Pd);const o=Pd.dot(e);return e.scale(o,Iv),Iv.vadd(t,Iv),a.distanceTo(Iv)}class wpe{static defaults(e,a){e===void 0&&(e={});for(let o in a)o in e||(e[o]=a[o]);return e}}class B4{constructor(){this.spatial=new P,this.rotational=new P}multiplyElement(e){return e.spatial.dot(this.spatial)+e.rotational.dot(this.rotational)}multiplyVectors(e,a){return e.dot(this.spatial)+a.dot(this.rotational)}}class Sh{constructor(e,a,o,r){o===void 0&&(o=-1e6),r===void 0&&(r=1e6),this.id=Sh.idCounter++,this.minForce=o,this.maxForce=r,this.bi=e,this.bj=a,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new B4,this.jacobianElementB=new B4,this.enabled=!0,this.multiplier=0,this.setSpookParams(1e7,4,1/60)}setSpookParams(e,a,o){const r=a,i=e,s=o;this.a=4/(s*(1+4*r)),this.b=4*r/(1+4*r),this.eps=4/(s*s*i*(1+4*r))}computeB(e,a,o){const r=this.computeGW(),i=this.computeGq(),s=this.computeGiMf();return-i*e-r*a-s*o}computeGq(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.position,s=r.position;return e.spatial.dot(i)+a.spatial.dot(s)}computeGW(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.velocity,s=r.velocity,n=o.angularVelocity,d=r.angularVelocity;return e.multiplyVectors(i,n)+a.multiplyVectors(s,d)}computeGWlambda(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.vlambda,s=r.vlambda,n=o.wlambda,d=r.wlambda;return e.multiplyVectors(i,n)+a.multiplyVectors(s,d)}computeGiMf(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.force,s=o.torque,n=r.force,d=r.torque,c=o.invMassSolve,l=r.invMassSolve;return i.scale(c,k4),n.scale(l,U4),o.invInertiaWorldSolve.vmult(s,V4),r.invInertiaWorldSolve.vmult(d,$4),e.multiplyVectors(k4,V4)+a.multiplyVectors(U4,$4)}computeGiMGt(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.invMassSolve,s=r.invMassSolve,n=o.invInertiaWorldSolve,d=r.invInertiaWorldSolve;let c=i+s;return n.vmult(e.rotational,Dv),c+=Dv.dot(e.rotational),d.vmult(a.rotational,Dv),c+=Dv.dot(a.rotational),c}addToWlambda(e){const a=this.jacobianElementA,o=this.jacobianElementB,r=this.bi,i=this.bj,s=Spe;r.vlambda.addScaledVector(r.invMassSolve*e,a.spatial,r.vlambda),i.vlambda.addScaledVector(i.invMassSolve*e,o.spatial,i.vlambda),r.invInertiaWorldSolve.vmult(a.rotational,s),r.wlambda.addScaledVector(e,s,r.wlambda),i.invInertiaWorldSolve.vmult(o.rotational,s),i.wlambda.addScaledVector(e,s,i.wlambda)}computeC(){return this.computeGiMGt()+this.eps}}Sh.idCounter=0;const k4=new P,U4=new P,V4=new P,$4=new P,Dv=new P,Spe=new P;class Ape extends Sh{constructor(e,a,o){o===void 0&&(o=1e6),super(e,a,0,o),this.restitution=0,this.ri=new P,this.rj=new P,this.ni=new P}computeB(e){const a=this.a,o=this.b,r=this.bi,i=this.bj,s=this.ri,n=this.rj,d=Epe,c=Mpe,l=r.velocity,m=r.angularVelocity;r.force,r.torque;const u=i.velocity,v=i.angularVelocity;i.force,i.torque;const g=Tpe,f=this.jacobianElementA,p=this.jacobianElementB,h=this.ni;s.cross(h,d),n.cross(h,c),h.negate(f.spatial),d.negate(f.rotational),p.spatial.copy(h),p.rotational.copy(c),g.copy(i.position),g.vadd(n,g),g.vsub(r.position,g),g.vsub(s,g);const y=h.dot(g),b=this.restitution+1,_=b*u.dot(h)-b*l.dot(h)+v.dot(c)-m.dot(d),S=this.computeGiMf();return-y*a-_*o-e*S}getImpactVelocityAlongNormal(){const e=Cpe,a=Rpe,o=Ope,r=Ipe,i=Dpe;return this.bi.position.vadd(this.ri,o),this.bj.position.vadd(this.rj,r),this.bi.getVelocityAtWorldPoint(o,e),this.bj.getVelocityAtWorldPoint(r,a),e.vsub(a,i),this.ni.dot(i)}}const Epe=new P,Mpe=new P,Tpe=new P,Cpe=new P,Rpe=new P,Ope=new P,Ipe=new P,Dpe=new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;class H4 extends Sh{constructor(e,a,o){super(e,a,-o,o),this.ri=new P,this.rj=new P,this.t=new P}computeB(e){this.a;const a=this.b;this.bi,this.bj;const o=this.ri,r=this.rj,i=qpe,s=Ppe,n=this.t;o.cross(n,i),r.cross(n,s);const d=this.jacobianElementA,c=this.jacobianElementB;n.negate(d.spatial),i.negate(d.rotational),c.spatial.copy(n),c.rotational.copy(s);const l=this.computeGW(),m=this.computeGiMf();return-l*a-e*m}}const qpe=new P,Ppe=new P;class ec{constructor(e,a,o){o=wpe.defaults(o,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=ec.idCounter++,this.materials=[e,a],this.friction=o.friction,this.restitution=o.restitution,this.contactEquationStiffness=o.contactEquationStiffness,this.contactEquationRelaxation=o.contactEquationRelaxation,this.frictionEquationStiffness=o.frictionEquationStiffness,this.frictionEquationRelaxation=o.frictionEquationRelaxation}}ec.idCounter=0;class tc{constructor(e){e===void 0&&(e={});let a="";typeof e=="string"&&(a=e,e={}),this.name=a,this.id=tc.idCounter++,this.friction=typeof e.friction<"u"?e.friction:-1,this.restitution=typeof e.restitution<"u"?e.restitution:-1}}tc.idCounter=0;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new Ba;new P;new P;new P;new P(1,0,0),new P(0,1,0),new P(0,0,1);new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;class Lpe extends Jd{constructor(e,a,o,r){if(e===void 0&&(e=1),a===void 0&&(a=1),o===void 0&&(o=1),r===void 0&&(r=8),e<0)throw new Error("The cylinder radiusTop cannot be negative.");if(a<0)throw new Error("The cylinder radiusBottom cannot be negative.");const i=r,s=[],n=[],d=[],c=[],l=[],m=Math.cos,u=Math.sin;s.push(new P(-a*u(0),-o*.5,a*m(0))),c.push(0),s.push(new P(-e*u(0),o*.5,e*m(0))),l.push(1);for(let g=0;g<i;g++){const f=2*Math.PI/i*(g+1),p=2*Math.PI/i*(g+.5);g<i-1?(s.push(new P(-a*u(f),-o*.5,a*m(f))),c.push(2*g+2),s.push(new P(-e*u(f),o*.5,e*m(f))),l.push(2*g+3),d.push([2*g,2*g+1,2*g+3,2*g+2])):d.push([2*g,2*g+1,1,0]),(i%2===1||g<i/2)&&n.push(new P(-u(p),0,m(p)))}d.push(c),n.push(new P(0,1,0));const v=[];for(let g=0;g<l.length;g++)v.push(l[l.length-g-1]);d.push(v),super({vertices:s,faces:d,axes:n}),this.type=Ke.types.CYLINDER,this.radiusTop=e,this.radiusBottom=a,this.height=o,this.numSegments=r}}class zm extends Ke{constructor(){super({type:Ke.types.PLANE}),this.worldNormal=new P,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}computeWorldNormal(e){const a=this.worldNormal;a.set(0,0,1),e.vmult(a,a),this.worldNormalNeedsUpdate=!1}calculateLocalInertia(e,a){return a===void 0&&(a=new P),a}volume(){return Number.MAX_VALUE}calculateWorldAABB(e,a,o,r){vs.set(0,0,1),a.vmult(vs,vs);const i=Number.MAX_VALUE;o.set(-i,-i,-i),r.set(i,i,i),vs.x===1?r.x=e.x:vs.x===-1&&(o.x=e.x),vs.y===1?r.y=e.y:vs.y===-1&&(o.y=e.y),vs.z===1?r.z=e.z:vs.z===-1&&(o.z=e.z)}updateBoundingSphereRadius(){this.boundingSphereRadius=Number.MAX_VALUE}}const vs=new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new P;new Sr;new P;new Sr;new P;new P;new P;new P;new P;new P;new P;new Sr;new P;new $t;new Sr;class Npe{constructor(){this.equations=[]}solve(e,a){return 0}addEquation(e){e.enabled&&!e.bi.isTrigger&&!e.bj.isTrigger&&this.equations.push(e)}removeEquation(e){const a=this.equations,o=a.indexOf(e);o!==-1&&a.splice(o,1)}removeAllEquations(){this.equations.length=0}}class jpe extends Npe{constructor(){super(),this.iterations=10,this.tolerance=1e-7}solve(e,a){let o=0;const r=this.iterations,i=this.tolerance*this.tolerance,s=this.equations,n=s.length,d=a.bodies,c=d.length,l=e;let m,u,v,g,f,p;if(n!==0)for(let _=0;_!==c;_++)d[_].updateSolveMassProperties();const h=zpe,y=Bpe,b=Fpe;h.length=n,y.length=n,b.length=n;for(let _=0;_!==n;_++){const S=s[_];b[_]=0,y[_]=S.computeB(l),h[_]=1/S.computeC()}if(n!==0){for(let x=0;x!==c;x++){const w=d[x],A=w.vlambda,T=w.wlambda;A.set(0,0,0),T.set(0,0,0)}for(o=0;o!==r;o++){g=0;for(let x=0;x!==n;x++){const w=s[x];m=y[x],u=h[x],p=b[x],f=w.computeGWlambda(),v=u*(m-f-w.eps*p),p+v<w.minForce?v=w.minForce-p:p+v>w.maxForce&&(v=w.maxForce-p),b[x]+=v,g+=v>0?v:-v,w.addToWlambda(v)}if(g*g<i)break}for(let x=0;x!==c;x++){const w=d[x],A=w.velocity,T=w.angularVelocity;w.vlambda.vmul(w.linearFactor,w.vlambda),A.vadd(w.vlambda,A),w.wlambda.vmul(w.angularFactor,w.wlambda),T.vadd(w.wlambda,T)}let _=s.length;const S=1/l;for(;_--;)s[_].multiplier=b[_]*S}return o}}const Fpe=[],zpe=[],Bpe=[];Be.STATIC;class kpe{constructor(){this.objects=[],this.type=Object}release(){const e=arguments.length;for(let a=0;a!==e;a++)this.objects.push(a<0||arguments.length<=a?void 0:arguments[a]);return this}get(){return this.objects.length===0?this.constructObject():this.objects.pop()}constructObject(){throw new Error("constructObject() not implemented in this Pool subclass yet!")}resize(e){const a=this.objects;for(;a.length>e;)a.pop();for(;a.length<e;)a.push(this.constructObject());return this}}class Upe extends kpe{constructor(){super(...arguments),this.type=P}constructObject(){return new P}}const sa={sphereSphere:Ke.types.SPHERE,spherePlane:Ke.types.SPHERE|Ke.types.PLANE,boxBox:Ke.types.BOX|Ke.types.BOX,sphereBox:Ke.types.SPHERE|Ke.types.BOX,planeBox:Ke.types.PLANE|Ke.types.BOX,convexConvex:Ke.types.CONVEXPOLYHEDRON,sphereConvex:Ke.types.SPHERE|Ke.types.CONVEXPOLYHEDRON,planeConvex:Ke.types.PLANE|Ke.types.CONVEXPOLYHEDRON,boxConvex:Ke.types.BOX|Ke.types.CONVEXPOLYHEDRON,sphereHeightfield:Ke.types.SPHERE|Ke.types.HEIGHTFIELD,boxHeightfield:Ke.types.BOX|Ke.types.HEIGHTFIELD,convexHeightfield:Ke.types.CONVEXPOLYHEDRON|Ke.types.HEIGHTFIELD,sphereParticle:Ke.types.PARTICLE|Ke.types.SPHERE,planeParticle:Ke.types.PLANE|Ke.types.PARTICLE,boxParticle:Ke.types.BOX|Ke.types.PARTICLE,convexParticle:Ke.types.PARTICLE|Ke.types.CONVEXPOLYHEDRON,cylinderCylinder:Ke.types.CYLINDER,sphereCylinder:Ke.types.SPHERE|Ke.types.CYLINDER,planeCylinder:Ke.types.PLANE|Ke.types.CYLINDER,boxCylinder:Ke.types.BOX|Ke.types.CYLINDER,convexCylinder:Ke.types.CONVEXPOLYHEDRON|Ke.types.CYLINDER,heightfieldCylinder:Ke.types.HEIGHTFIELD|Ke.types.CYLINDER,particleCylinder:Ke.types.PARTICLE|Ke.types.CYLINDER,sphereTrimesh:Ke.types.SPHERE|Ke.types.TRIMESH,planeTrimesh:Ke.types.PLANE|Ke.types.TRIMESH};class Vpe{get[sa.sphereSphere](){return this.sphereSphere}get[sa.spherePlane](){return this.spherePlane}get[sa.boxBox](){return this.boxBox}get[sa.sphereBox](){return this.sphereBox}get[sa.planeBox](){return this.planeBox}get[sa.convexConvex](){return this.convexConvex}get[sa.sphereConvex](){return this.sphereConvex}get[sa.planeConvex](){return this.planeConvex}get[sa.boxConvex](){return this.boxConvex}get[sa.sphereHeightfield](){return this.sphereHeightfield}get[sa.boxHeightfield](){return this.boxHeightfield}get[sa.convexHeightfield](){return this.convexHeightfield}get[sa.sphereParticle](){return this.sphereParticle}get[sa.planeParticle](){return this.planeParticle}get[sa.boxParticle](){return this.boxParticle}get[sa.convexParticle](){return this.convexParticle}get[sa.cylinderCylinder](){return this.convexConvex}get[sa.sphereCylinder](){return this.sphereConvex}get[sa.planeCylinder](){return this.planeConvex}get[sa.boxCylinder](){return this.boxConvex}get[sa.convexCylinder](){return this.convexConvex}get[sa.heightfieldCylinder](){return this.heightfieldCylinder}get[sa.particleCylinder](){return this.particleCylinder}get[sa.sphereTrimesh](){return this.sphereTrimesh}get[sa.planeTrimesh](){return this.planeTrimesh}constructor(e){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new Upe,this.world=e,this.currentContactMaterial=e.defaultContactMaterial,this.enableFrictionReduction=!1}createContactEquation(e,a,o,r,i,s){let n;this.contactPointPool.length?(n=this.contactPointPool.pop(),n.bi=e,n.bj=a):n=new Ape(e,a),n.enabled=e.collisionResponse&&a.collisionResponse&&o.collisionResponse&&r.collisionResponse;const d=this.currentContactMaterial;n.restitution=d.restitution,n.setSpookParams(d.contactEquationStiffness,d.contactEquationRelaxation,this.world.dt);const c=o.material||e.material,l=r.material||a.material;return c&&l&&c.restitution>=0&&l.restitution>=0&&(n.restitution=c.restitution*l.restitution),n.si=i||o,n.sj=s||r,n}createFrictionEquationsFromContact(e,a){const o=e.bi,r=e.bj,i=e.si,s=e.sj,n=this.world,d=this.currentContactMaterial;let c=d.friction;const l=i.material||o.material,m=s.material||r.material;if(l&&m&&l.friction>=0&&m.friction>=0&&(c=l.friction*m.friction),c>0){const u=c*(n.frictionGravity||n.gravity).length();let v=o.invMass+r.invMass;v>0&&(v=1/v);const g=this.frictionEquationPool,f=g.length?g.pop():new H4(o,r,u*v),p=g.length?g.pop():new H4(o,r,u*v);return f.bi=p.bi=o,f.bj=p.bj=r,f.minForce=p.minForce=-u*v,f.maxForce=p.maxForce=u*v,f.ri.copy(e.ri),f.rj.copy(e.rj),p.ri.copy(e.ri),p.rj.copy(e.rj),e.ni.tangents(f.t,p.t),f.setSpookParams(d.frictionEquationStiffness,d.frictionEquationRelaxation,n.dt),p.setSpookParams(d.frictionEquationStiffness,d.frictionEquationRelaxation,n.dt),f.enabled=p.enabled=e.enabled,a.push(f,p),!0}return!1}createFrictionFromAverage(e){let a=this.result[this.result.length-1];if(!this.createFrictionEquationsFromContact(a,this.frictionResult)||e===1)return;const o=this.frictionResult[this.frictionResult.length-2],r=this.frictionResult[this.frictionResult.length-1];wd.setZero(),rl.setZero(),il.setZero();const i=a.bi;a.bj;for(let n=0;n!==e;n++)a=this.result[this.result.length-1-n],a.bi!==i?(wd.vadd(a.ni,wd),rl.vadd(a.ri,rl),il.vadd(a.rj,il)):(wd.vsub(a.ni,wd),rl.vadd(a.rj,rl),il.vadd(a.ri,il));const s=1/e;rl.scale(s,o.ri),il.scale(s,o.rj),r.ri.copy(o.ri),r.rj.copy(o.rj),wd.normalize(),wd.tangents(o.t,r.t)}getContacts(e,a,o,r,i,s,n){this.contactPointPool=i,this.frictionEquationPool=n,this.result=r,this.frictionResult=s;const d=Wpe,c=Gpe,l=$pe,m=Hpe;for(let u=0,v=e.length;u!==v;u++){const g=e[u],f=a[u];let p=null;g.material&&f.material&&(p=o.getContactMaterial(g.material,f.material)||null);const h=g.type&Be.KINEMATIC&&f.type&Be.STATIC||g.type&Be.STATIC&&f.type&Be.KINEMATIC||g.type&Be.KINEMATIC&&f.type&Be.KINEMATIC;for(let y=0;y<g.shapes.length;y++){g.quaternion.mult(g.shapeOrientations[y],d),g.quaternion.vmult(g.shapeOffsets[y],l),l.vadd(g.position,l);const b=g.shapes[y];for(let _=0;_<f.shapes.length;_++){f.quaternion.mult(f.shapeOrientations[_],c),f.quaternion.vmult(f.shapeOffsets[_],m),m.vadd(f.position,m);const S=f.shapes[_];if(!(b.collisionFilterMask&S.collisionFilterGroup&&S.collisionFilterMask&b.collisionFilterGroup)||l.distanceTo(m)>b.boundingSphereRadius+S.boundingSphereRadius)continue;let x=null;b.material&&S.material&&(x=o.getContactMaterial(b.material,S.material)||null),this.currentContactMaterial=x||p||o.defaultContactMaterial;const w=b.type|S.type,A=this[w];if(A){let T=!1;b.type<S.type?T=A.call(this,b,S,l,m,d,c,g,f,b,S,h):T=A.call(this,S,b,m,l,c,d,f,g,b,S,h),T&&h&&(o.shapeOverlapKeeper.set(b.id,S.id),o.bodyOverlapKeeper.set(g.id,f.id))}}}}}sphereSphere(e,a,o,r,i,s,n,d,c,l,m){if(m)return o.distanceSquared(r)<(e.radius+a.radius)**2;const u=this.createContactEquation(n,d,e,a,c,l);r.vsub(o,u.ni),u.ni.normalize(),u.ri.copy(u.ni),u.rj.copy(u.ni),u.ri.scale(e.radius,u.ri),u.rj.scale(-a.radius,u.rj),u.ri.vadd(o,u.ri),u.ri.vsub(n.position,u.ri),u.rj.vadd(r,u.rj),u.rj.vsub(d.position,u.rj),this.result.push(u),this.createFrictionEquationsFromContact(u,this.frictionResult)}spherePlane(e,a,o,r,i,s,n,d,c,l,m){const u=this.createContactEquation(n,d,e,a,c,l);if(u.ni.set(0,0,1),s.vmult(u.ni,u.ni),u.ni.negate(u.ni),u.ni.normalize(),u.ni.scale(e.radius,u.ri),o.vsub(r,qv),u.ni.scale(u.ni.dot(qv),W4),qv.vsub(W4,u.rj),-qv.dot(u.ni)<=e.radius){if(m)return!0;const v=u.ri,g=u.rj;v.vadd(o,v),v.vsub(n.position,v),g.vadd(r,g),g.vsub(d.position,g),this.result.push(u),this.createFrictionEquationsFromContact(u,this.frictionResult)}}boxBox(e,a,o,r,i,s,n,d,c,l,m){return e.convexPolyhedronRepresentation.material=e.material,a.convexPolyhedronRepresentation.material=a.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,a.convexPolyhedronRepresentation.collisionResponse=a.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,a.convexPolyhedronRepresentation,o,r,i,s,n,d,e,a,m)}sphereBox(e,a,o,r,i,s,n,d,c,l,m){const u=this.v3pool,v=bfe;o.vsub(r,Pv),a.getSideNormals(v,s);const g=e.radius;let f=!1;const p=xfe,h=wfe,y=Sfe;let b=null,_=0,S=0,x=0,w=null;for(let $=0,Y=v.length;$!==Y&&f===!1;$++){const F=vfe;F.copy(v[$]);const V=F.length();F.normalize();const Z=Pv.dot(F);if(Z<V+g&&Z>0){const se=gfe,J=yfe;se.copy(v[($+1)%3]),J.copy(v[($+2)%3]);const te=se.length(),me=J.length();se.normalize(),J.normalize();const xe=Pv.dot(se),Q=Pv.dot(J);if(xe<te&&xe>-te&&Q<me&&Q>-me){const Ee=Math.abs(Z-V-g);if((w===null||Ee<w)&&(w=Ee,S=xe,x=Q,b=V,p.copy(F),h.copy(se),y.copy(J),_++,m))return!0}}}if(_){f=!0;const $=this.createContactEquation(n,d,e,a,c,l);p.scale(-g,$.ri),$.ni.copy(p),$.ni.negate($.ni),p.scale(b,p),h.scale(S,h),p.vadd(h,p),y.scale(x,y),p.vadd(y,$.rj),$.ri.vadd(o,$.ri),$.ri.vsub(n.position,$.ri),$.rj.vadd(r,$.rj),$.rj.vsub(d.position,$.rj),this.result.push($),this.createFrictionEquationsFromContact($,this.frictionResult)}let A=u.get();const T=_fe;for(let $=0;$!==2&&!f;$++)for(let Y=0;Y!==2&&!f;Y++)for(let F=0;F!==2&&!f;F++)if(A.set(0,0,0),$?A.vadd(v[0],A):A.vsub(v[0],A),Y?A.vadd(v[1],A):A.vsub(v[1],A),F?A.vadd(v[2],A):A.vsub(v[2],A),r.vadd(A,T),T.vsub(o,T),T.lengthSquared()<g*g){if(m)return!0;f=!0;const V=this.createContactEquation(n,d,e,a,c,l);V.ri.copy(T),V.ri.normalize(),V.ni.copy(V.ri),V.ri.scale(g,V.ri),V.rj.copy(A),V.ri.vadd(o,V.ri),V.ri.vsub(n.position,V.ri),V.rj.vadd(r,V.rj),V.rj.vsub(d.position,V.rj),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult)}u.release(A),A=null;const O=u.get(),I=u.get(),U=u.get(),B=u.get(),N=u.get(),z=v.length;for(let $=0;$!==z&&!f;$++)for(let Y=0;Y!==z&&!f;Y++)if($%3!==Y%3){v[Y].cross(v[$],O),O.normalize(),v[$].vadd(v[Y],I),U.copy(o),U.vsub(I,U),U.vsub(r,U);const F=U.dot(O);O.scale(F,B);let V=0;for(;V===$%3||V===Y%3;)V++;N.copy(o),N.vsub(B,N),N.vsub(I,N),N.vsub(r,N);const Z=Math.abs(F),se=N.length();if(Z<v[V].length()&&se<g){if(m)return!0;f=!0;const J=this.createContactEquation(n,d,e,a,c,l);I.vadd(B,J.rj),J.rj.copy(J.rj),N.negate(J.ni),J.ni.normalize(),J.ri.copy(J.rj),J.ri.vadd(r,J.ri),J.ri.vsub(o,J.ri),J.ri.normalize(),J.ri.scale(g,J.ri),J.ri.vadd(o,J.ri),J.ri.vsub(n.position,J.ri),J.rj.vadd(r,J.rj),J.rj.vsub(d.position,J.rj),this.result.push(J),this.createFrictionEquationsFromContact(J,this.frictionResult)}}u.release(O,I,U,B,N)}planeBox(e,a,o,r,i,s,n,d,c,l,m){return a.convexPolyhedronRepresentation.material=a.material,a.convexPolyhedronRepresentation.collisionResponse=a.collisionResponse,a.convexPolyhedronRepresentation.id=a.id,this.planeConvex(e,a.convexPolyhedronRepresentation,o,r,i,s,n,d,e,a,m)}convexConvex(e,a,o,r,i,s,n,d,c,l,m,u,v){const g=Ffe;if(!(o.distanceTo(r)>e.boundingSphereRadius+a.boundingSphereRadius)&&e.findSeparatingAxis(a,o,i,r,s,g,u,v)){const f=[],p=zfe;e.clipAgainstHull(o,i,a,r,s,g,-100,100,f);let h=0;for(let y=0;y!==f.length;y++){if(m)return!0;const b=this.createContactEquation(n,d,e,a,c,l),_=b.ri,S=b.rj;g.negate(b.ni),f[y].normal.negate(p),p.scale(f[y].depth,p),f[y].point.vadd(p,_),S.copy(f[y].point),_.vsub(o,_),S.vsub(r,S),_.vadd(o,_),_.vsub(n.position,_),S.vadd(r,S),S.vsub(d.position,S),this.result.push(b),h++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(b,this.frictionResult)}this.enableFrictionReduction&&h&&this.createFrictionFromAverage(h)}}sphereConvex(e,a,o,r,i,s,n,d,c,l,m){const u=this.v3pool;o.vsub(r,Afe);const v=a.faceNormals,g=a.faces,f=a.vertices,p=e.radius;let h=!1;for(let y=0;y!==f.length;y++){const b=f[y],_=Cfe;s.vmult(b,_),r.vadd(_,_);const S=Tfe;if(_.vsub(o,S),S.lengthSquared()<p*p){if(m)return!0;h=!0;const x=this.createContactEquation(n,d,e,a,c,l);x.ri.copy(S),x.ri.normalize(),x.ni.copy(x.ri),x.ri.scale(p,x.ri),_.vsub(r,x.rj),x.ri.vadd(o,x.ri),x.ri.vsub(n.position,x.ri),x.rj.vadd(r,x.rj),x.rj.vsub(d.position,x.rj),this.result.push(x),this.createFrictionEquationsFromContact(x,this.frictionResult);return}}for(let y=0,b=g.length;y!==b&&h===!1;y++){const _=v[y],S=g[y],x=Rfe;s.vmult(_,x);const w=Ofe;s.vmult(f[S[0]],w),w.vadd(r,w);const A=Ife;x.scale(-p,A),o.vadd(A,A);const T=Dfe;A.vsub(w,T);const O=T.dot(x),I=qfe;if(o.vsub(w,I),O<0&&I.dot(x)>0){const U=[];for(let B=0,N=S.length;B!==N;B++){const z=u.get();s.vmult(f[S[B]],z),r.vadd(z,z),U.push(z)}if(hfe(U,x,o)){if(m)return!0;h=!0;const B=this.createContactEquation(n,d,e,a,c,l);x.scale(-p,B.ri),x.negate(B.ni);const N=u.get();x.scale(-O,N);const z=u.get();x.scale(-p,z),o.vsub(r,B.rj),B.rj.vadd(z,B.rj),B.rj.vadd(N,B.rj),B.rj.vadd(r,B.rj),B.rj.vsub(d.position,B.rj),B.ri.vadd(o,B.ri),B.ri.vsub(n.position,B.ri),u.release(N),u.release(z),this.result.push(B),this.createFrictionEquationsFromContact(B,this.frictionResult);for(let $=0,Y=U.length;$!==Y;$++)u.release(U[$]);return}else for(let B=0;B!==S.length;B++){const N=u.get(),z=u.get();s.vmult(f[S[(B+1)%S.length]],N),s.vmult(f[S[(B+2)%S.length]],z),r.vadd(N,N),r.vadd(z,z);const $=Efe;z.vsub(N,$);const Y=Mfe;$.unit(Y);const F=u.get(),V=u.get();o.vsub(N,V);const Z=V.dot(Y);Y.scale(Z,F),F.vadd(N,F);const se=u.get();if(F.vsub(o,se),Z>0&&Z*Z<$.lengthSquared()&&se.lengthSquared()<p*p){if(m)return!0;const J=this.createContactEquation(n,d,e,a,c,l);F.vsub(r,J.rj),F.vsub(o,J.ni),J.ni.normalize(),J.ni.scale(p,J.ri),J.rj.vadd(r,J.rj),J.rj.vsub(d.position,J.rj),J.ri.vadd(o,J.ri),J.ri.vsub(n.position,J.ri),this.result.push(J),this.createFrictionEquationsFromContact(J,this.frictionResult);for(let te=0,me=U.length;te!==me;te++)u.release(U[te]);u.release(N),u.release(z),u.release(F),u.release(se),u.release(V);return}u.release(N),u.release(z),u.release(F),u.release(se),u.release(V)}for(let B=0,N=U.length;B!==N;B++)u.release(U[B])}}}planeConvex(e,a,o,r,i,s,n,d,c,l,m){const u=Pfe,v=Lfe;v.set(0,0,1),i.vmult(v,v);let g=0;const f=Nfe;for(let p=0;p!==a.vertices.length;p++)if(u.copy(a.vertices[p]),s.vmult(u,u),r.vadd(u,u),u.vsub(o,f),v.dot(f)<=0){if(m)return!0;const h=this.createContactEquation(n,d,e,a,c,l),y=jfe;v.scale(v.dot(f),y),u.vsub(y,y),y.vsub(o,h.ri),h.ni.copy(v),u.vsub(r,h.rj),h.ri.vadd(o,h.ri),h.ri.vsub(n.position,h.ri),h.rj.vadd(r,h.rj),h.rj.vsub(d.position,h.rj),this.result.push(h),g++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(h,this.frictionResult)}this.enableFrictionReduction&&g&&this.createFrictionFromAverage(g)}boxConvex(e,a,o,r,i,s,n,d,c,l,m){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,a,o,r,i,s,n,d,e,a,m)}sphereHeightfield(e,a,o,r,i,s,n,d,c,l,m){const u=a.data,v=e.radius,g=a.elementSize,f=Qfe,p=Kfe;$t.pointToLocalFrame(r,s,o,p);let h=Math.floor((p.x-v)/g)-1,y=Math.ceil((p.x+v)/g)+1,b=Math.floor((p.y-v)/g)-1,_=Math.ceil((p.y+v)/g)+1;if(y<0||_<0||h>u.length||b>u[0].length)return;h<0&&(h=0),y<0&&(y=0),b<0&&(b=0),_<0&&(_=0),h>=u.length&&(h=u.length-1),y>=u.length&&(y=u.length-1),_>=u[0].length&&(_=u[0].length-1),b>=u[0].length&&(b=u[0].length-1);const S=[];a.getRectMinMax(h,b,y,_,S);const x=S[0],w=S[1];if(p.z-v>w||p.z+v<x)return;const A=this.result;for(let T=h;T<y;T++)for(let O=b;O<_;O++){const I=A.length;let U=!1;if(a.getConvexTrianglePillar(T,O,!1),$t.pointToWorldFrame(r,s,a.pillarOffset,f),o.distanceTo(f)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(U=this.sphereConvex(e,a.pillarConvex,o,f,i,s,n,d,e,a,m)),m&&U||(a.getConvexTrianglePillar(T,O,!0),$t.pointToWorldFrame(r,s,a.pillarOffset,f),o.distanceTo(f)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(U=this.sphereConvex(e,a.pillarConvex,o,f,i,s,n,d,e,a,m)),m&&U))return!0;if(A.length-I>2)return}}boxHeightfield(e,a,o,r,i,s,n,d,c,l,m){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexHeightfield(e.convexPolyhedronRepresentation,a,o,r,i,s,n,d,e,a,m)}convexHeightfield(e,a,o,r,i,s,n,d,c,l,m){const u=a.data,v=a.elementSize,g=e.boundingSphereRadius,f=Yfe,p=Zfe,h=Gfe;$t.pointToLocalFrame(r,s,o,h);let y=Math.floor((h.x-g)/v)-1,b=Math.ceil((h.x+g)/v)+1,_=Math.floor((h.y-g)/v)-1,S=Math.ceil((h.y+g)/v)+1;if(b<0||S<0||y>u.length||_>u[0].length)return;y<0&&(y=0),b<0&&(b=0),_<0&&(_=0),S<0&&(S=0),y>=u.length&&(y=u.length-1),b>=u.length&&(b=u.length-1),S>=u[0].length&&(S=u[0].length-1),_>=u[0].length&&(_=u[0].length-1);const x=[];a.getRectMinMax(y,_,b,S,x);const w=x[0],A=x[1];if(!(h.z-g>A||h.z+g<w))for(let T=y;T<b;T++)for(let O=_;O<S;O++){let I=!1;if(a.getConvexTrianglePillar(T,O,!1),$t.pointToWorldFrame(r,s,a.pillarOffset,f),o.distanceTo(f)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(I=this.convexConvex(e,a.pillarConvex,o,f,i,s,n,d,null,null,m,p,null)),m&&I||(a.getConvexTrianglePillar(T,O,!0),$t.pointToWorldFrame(r,s,a.pillarOffset,f),o.distanceTo(f)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(I=this.convexConvex(e,a.pillarConvex,o,f,i,s,n,d,null,null,m,p,null)),m&&I))return!0}}sphereParticle(e,a,o,r,i,s,n,d,c,l,m){const u=Vfe;if(u.set(0,0,1),r.vsub(o,u),u.lengthSquared()<=e.radius*e.radius){if(m)return!0;const v=this.createContactEquation(d,n,a,e,c,l);u.normalize(),v.rj.copy(u),v.rj.scale(e.radius,v.rj),v.ni.copy(u),v.ni.negate(v.ni),v.ri.set(0,0,0),this.result.push(v),this.createFrictionEquationsFromContact(v,this.frictionResult)}}planeParticle(e,a,o,r,i,s,n,d,c,l,m){const u=Bfe;u.set(0,0,1),n.quaternion.vmult(u,u);const v=kfe;if(r.vsub(n.position,v),u.dot(v)<=0){if(m)return!0;const g=this.createContactEquation(d,n,a,e,c,l);g.ni.copy(u),g.ni.negate(g.ni),g.ri.set(0,0,0);const f=Ufe;u.scale(u.dot(r),f),r.vsub(f,f),g.rj.copy(f),this.result.push(g),this.createFrictionEquationsFromContact(g,this.frictionResult)}}boxParticle(e,a,o,r,i,s,n,d,c,l,m){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexParticle(e.convexPolyhedronRepresentation,a,o,r,i,s,n,d,e,a,m)}convexParticle(e,a,o,r,i,s,n,d,c,l,m){let u=-1;const v=Hfe,g=Wfe;let f=null;const p=$fe;if(p.copy(r),p.vsub(o,p),i.conjugate(G4),G4.vmult(p,p),e.pointIsInside(p)){e.worldVerticesNeedsUpdate&&e.computeWorldVertices(o,i),e.worldFaceNormalsNeedsUpdate&&e.computeWorldFaceNormals(i);for(let h=0,y=e.faces.length;h!==y;h++){const b=[e.worldVertices[e.faces[h][0]]],_=e.worldFaceNormals[h];r.vsub(b[0],Y4);const S=-_.dot(Y4);if(f===null||Math.abs(S)<Math.abs(f)){if(m)return!0;f=S,u=h,v.copy(_)}}if(u!==-1){const h=this.createContactEquation(d,n,a,e,c,l);v.scale(f,g),g.vadd(r,g),g.vsub(o,g),h.rj.copy(g),v.negate(h.ni),h.ri.set(0,0,0);const y=h.ri,b=h.rj;y.vadd(r,y),y.vsub(d.position,y),b.vadd(o,b),b.vsub(n.position,b),this.result.push(h),this.createFrictionEquationsFromContact(h,this.frictionResult)}else console.warn("Point found inside convex, but did not find penetrating face!")}}heightfieldCylinder(e,a,o,r,i,s,n,d,c,l,m){return this.convexHeightfield(a,e,r,o,s,i,d,n,c,l,m)}particleCylinder(e,a,o,r,i,s,n,d,c,l,m){return this.convexParticle(a,e,r,o,s,i,d,n,c,l,m)}sphereTrimesh(e,a,o,r,i,s,n,d,c,l,m){const u=tfe,v=afe,g=ofe,f=rfe,p=ife,h=sfe,y=lfe,b=efe,_=Xpe,S=ufe;$t.pointToLocalFrame(r,s,o,p);const x=e.radius;y.lowerBound.set(p.x-x,p.y-x,p.z-x),y.upperBound.set(p.x+x,p.y+x,p.z+x),a.getTrianglesInAABB(y,S);const w=Jpe,A=e.radius*e.radius;for(let B=0;B<S.length;B++)for(let N=0;N<3;N++)if(a.getVertex(a.indices[S[B]*3+N],w),w.vsub(p,_),_.lengthSquared()<=A){if(b.copy(w),$t.pointToWorldFrame(r,s,b,w),w.vsub(o,_),m)return!0;let z=this.createContactEquation(n,d,e,a,c,l);z.ni.copy(_),z.ni.normalize(),z.ri.copy(z.ni),z.ri.scale(e.radius,z.ri),z.ri.vadd(o,z.ri),z.ri.vsub(n.position,z.ri),z.rj.copy(w),z.rj.vsub(d.position,z.rj),this.result.push(z),this.createFrictionEquationsFromContact(z,this.frictionResult)}for(let B=0;B<S.length;B++)for(let N=0;N<3;N++){a.getVertex(a.indices[S[B]*3+N],u),a.getVertex(a.indices[S[B]*3+(N+1)%3],v),v.vsub(u,g),p.vsub(v,h);const z=h.dot(g);p.vsub(u,h);let $=h.dot(g);if($>0&&z<0&&(p.vsub(u,h),f.copy(g),f.normalize(),$=h.dot(f),f.scale($,h),h.vadd(u,h),h.distanceTo(p)<e.radius)){if(m)return!0;const Y=this.createContactEquation(n,d,e,a,c,l);h.vsub(p,Y.ni),Y.ni.normalize(),Y.ni.scale(e.radius,Y.ri),Y.ri.vadd(o,Y.ri),Y.ri.vsub(n.position,Y.ri),$t.pointToWorldFrame(r,s,h,h),h.vsub(d.position,Y.rj),$t.vectorToWorldFrame(s,Y.ni,Y.ni),$t.vectorToWorldFrame(s,Y.ri,Y.ri),this.result.push(Y),this.createFrictionEquationsFromContact(Y,this.frictionResult)}}const T=nfe,O=dfe,I=cfe,U=Qpe;for(let B=0,N=S.length;B!==N;B++){a.getTriangleVertices(S[B],T,O,I),a.getNormal(S[B],U),p.vsub(T,h);let z=h.dot(U);if(U.scale(z,h),p.vsub(h,h),z=h.distanceTo(p),Ba.pointInTriangle(h,T,O,I)&&z<e.radius){if(m)return!0;let $=this.createContactEquation(n,d,e,a,c,l);h.vsub(p,$.ni),$.ni.normalize(),$.ni.scale(e.radius,$.ri),$.ri.vadd(o,$.ri),$.ri.vsub(n.position,$.ri),$t.pointToWorldFrame(r,s,h,h),h.vsub(d.position,$.rj),$t.vectorToWorldFrame(s,$.ni,$.ni),$t.vectorToWorldFrame(s,$.ri,$.ri),this.result.push($),this.createFrictionEquationsFromContact($,this.frictionResult)}}S.length=0}planeTrimesh(e,a,o,r,i,s,n,d,c,l,m){const u=new P,v=Ype;v.set(0,0,1),i.vmult(v,v);for(let g=0;g<a.vertices.length/3;g++){a.getVertex(g,u);const f=new P;f.copy(u),$t.pointToWorldFrame(r,s,f,u);const p=Zpe;if(u.vsub(o,p),v.dot(p)<=0){if(m)return!0;const h=this.createContactEquation(n,d,e,a,c,l);h.ni.copy(v);const y=Kpe;v.scale(p.dot(v),y),u.vsub(y,y),h.ri.copy(y),h.ri.vsub(n.position,h.ri),h.rj.copy(u),h.rj.vsub(d.position,h.rj),this.result.push(h),this.createFrictionEquationsFromContact(h,this.frictionResult)}}}}const wd=new P,rl=new P,il=new P,$pe=new P,Hpe=new P,Wpe=new $a,Gpe=new $a,Ype=new P,Zpe=new P,Kpe=new P,Qpe=new P,Xpe=new P;new P;const Jpe=new P,efe=new P,tfe=new P,afe=new P,ofe=new P,rfe=new P,ife=new P,sfe=new P,nfe=new P,dfe=new P,cfe=new P,lfe=new Sr,ufe=[],qv=new P,W4=new P,mfe=new P,pfe=new P,ffe=new P;function hfe(t,e,a){let o=null;const r=t.length;for(let i=0;i!==r;i++){const s=t[i],n=mfe;t[(i+1)%r].vsub(s,n);const d=pfe;n.cross(e,d);const c=ffe;a.vsub(s,c);const l=d.dot(c);if(o===null||l>0&&o===!0||l<=0&&o===!1){o===null&&(o=l>0);continue}else return!1}return!0}const Pv=new P,vfe=new P,gfe=new P,yfe=new P,bfe=[new P,new P,new P,new P,new P,new P],_fe=new P,xfe=new P,wfe=new P,Sfe=new P,Afe=new P,Efe=new P,Mfe=new P,Tfe=new P,Cfe=new P,Rfe=new P,Ofe=new P,Ife=new P,Dfe=new P,qfe=new P;new P;new P;const Pfe=new P,Lfe=new P,Nfe=new P,jfe=new P,Ffe=new P,zfe=new P,Bfe=new P,kfe=new P,Ufe=new P,Vfe=new P,G4=new $a,$fe=new P;new P;const Hfe=new P,Y4=new P,Wfe=new P,Gfe=new P,Yfe=new P,Zfe=[0],Kfe=new P,Qfe=new P;class Z4{constructor(){this.current=[],this.previous=[]}getKey(e,a){if(a<e){const o=a;a=e,e=o}return e<<16|a}set(e,a){const o=this.getKey(e,a),r=this.current;let i=0;for(;o>r[i];)i++;if(o!==r[i]){for(let s=r.length-1;s>=i;s--)r[s+1]=r[s];r[i]=o}}tick(){const e=this.current;this.current=this.previous,this.previous=e,this.current.length=0}getDiff(e,a){const o=this.current,r=this.previous,i=o.length,s=r.length;let n=0;for(let d=0;d<i;d++){let c=!1;const l=o[d];for(;l>r[n];)n++;c=l===r[n],c||K4(e,l)}n=0;for(let d=0;d<s;d++){let c=!1;const l=r[d];for(;l>o[n];)n++;c=o[n]===l,c||K4(a,l)}}}function K4(t,e){t.push((e&4294901760)>>16,e&65535)}const $_=(t,e)=>t<e?`${t}-${e}`:`${e}-${t}`;class Xfe{constructor(){this.data={keys:[]}}get(e,a){const o=$_(e,a);return this.data[o]}set(e,a,o){const r=$_(e,a);this.get(e,a)||this.data.keys.push(r),this.data[r]=o}delete(e,a){const o=$_(e,a),r=this.data.keys.indexOf(o);r!==-1&&this.data.keys.splice(r,1),delete this.data[o]}reset(){const e=this.data,a=e.keys;for(;a.length>0;){const o=a.pop();delete e[o]}}}class Jfe extends QP{constructor(e){e===void 0&&(e={}),super(),this.dt=-1,this.allowSleep=!!e.allowSleep,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=e.quatNormalizeSkip!==void 0?e.quatNormalizeSkip:0,this.quatNormalizeFast=e.quatNormalizeFast!==void 0?e.quatNormalizeFast:!1,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new P,e.gravity&&this.gravity.copy(e.gravity),e.frictionGravity&&(this.frictionGravity=new P,this.frictionGravity.copy(e.frictionGravity)),this.broadphase=e.broadphase!==void 0?e.broadphase:new XP,this.bodies=[],this.hasActiveBodies=!1,this.solver=e.solver!==void 0?e.solver:new jpe,this.constraints=[],this.narrowphase=new Vpe(this),this.collisionMatrix=new L4,this.collisionMatrixPrevious=new L4,this.bodyOverlapKeeper=new Z4,this.shapeOverlapKeeper=new Z4,this.contactmaterials=[],this.contactMaterialTable=new Xfe,this.defaultMaterial=new tc("default"),this.defaultContactMaterial=new ec(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.accumulator=0,this.subsystems=[],this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.idToBodyMap={},this.broadphase.setWorld(this)}getContactMaterial(e,a){return this.contactMaterialTable.get(e.id,a.id)}collisionMatrixTick(){const e=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=e,this.collisionMatrix.reset(),this.bodyOverlapKeeper.tick(),this.shapeOverlapKeeper.tick()}addConstraint(e){this.constraints.push(e)}removeConstraint(e){const a=this.constraints.indexOf(e);a!==-1&&this.constraints.splice(a,1)}rayTest(e,a,o){o instanceof A0?this.raycastClosest(e,a,{skipBackfaces:!0},o):this.raycastAll(e,a,{skipBackfaces:!0},o)}raycastAll(e,a,o,r){return o===void 0&&(o={}),o.mode=Ba.ALL,o.from=e,o.to=a,o.callback=r,H_.intersectWorld(this,o)}raycastAny(e,a,o,r){return o===void 0&&(o={}),o.mode=Ba.ANY,o.from=e,o.to=a,o.result=r,H_.intersectWorld(this,o)}raycastClosest(e,a,o,r){return o===void 0&&(o={}),o.mode=Ba.CLOSEST,o.from=e,o.to=a,o.result=r,H_.intersectWorld(this,o)}addBody(e){this.bodies.includes(e)||(e.index=this.bodies.length,this.bodies.push(e),e.world=this,e.initPosition.copy(e.position),e.initVelocity.copy(e.velocity),e.timeLastSleepy=this.time,e instanceof Be&&(e.initAngularVelocity.copy(e.angularVelocity),e.initQuaternion.copy(e.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=e,this.idToBodyMap[e.id]=e,this.dispatchEvent(this.addBodyEvent))}removeBody(e){e.world=null;const a=this.bodies.length-1,o=this.bodies,r=o.indexOf(e);if(r!==-1){o.splice(r,1);for(let i=0;i!==o.length;i++)o[i].index=i;this.collisionMatrix.setNumObjects(a),this.removeBodyEvent.body=e,delete this.idToBodyMap[e.id],this.dispatchEvent(this.removeBodyEvent)}}getBodyById(e){return this.idToBodyMap[e]}getShapeById(e){const a=this.bodies;for(let o=0;o<a.length;o++){const r=a[o].shapes;for(let i=0;i<r.length;i++){const s=r[i];if(s.id===e)return s}}return null}addContactMaterial(e){this.contactmaterials.push(e),this.contactMaterialTable.set(e.materials[0].id,e.materials[1].id,e)}removeContactMaterial(e){const a=this.contactmaterials.indexOf(e);a!==-1&&(this.contactmaterials.splice(a,1),this.contactMaterialTable.delete(e.materials[0].id,e.materials[1].id))}fixedStep(e,a){e===void 0&&(e=1/60),a===void 0&&(a=10);const o=Ya.now()/1e3;if(!this.lastCallTime)this.step(e,void 0,a);else{const r=o-this.lastCallTime;this.step(e,r,a)}this.lastCallTime=o}step(e,a,o){if(o===void 0&&(o=10),a===void 0)this.internalStep(e),this.time+=e;else{this.accumulator+=a;const r=Ya.now();let i=0;for(;this.accumulator>=e&&i<o&&(this.internalStep(e),this.accumulator-=e,i++,!(Ya.now()-r>e*1e3)););this.accumulator=this.accumulator%e;const s=this.accumulator/e;for(let n=0;n!==this.bodies.length;n++){const d=this.bodies[n];d.previousPosition.lerp(d.position,s,d.interpolatedPosition),d.previousQuaternion.slerp(d.quaternion,s,d.interpolatedQuaternion),d.previousQuaternion.normalize()}this.time+=a}}internalStep(e){this.dt=e;const a=this.contacts,o=rhe,r=ihe,i=this.bodies.length,s=this.bodies,n=this.solver,d=this.gravity,c=this.doProfiling,l=this.profile,m=Be.DYNAMIC;let u=-1/0;const v=this.constraints,g=ohe;d.length();const f=d.x,p=d.y,h=d.z;let y=0;for(c&&(u=Ya.now()),y=0;y!==i;y++){const U=s[y];if(U.type===m){const B=U.force,N=U.mass;B.x+=N*f,B.y+=N*p,B.z+=N*h}}for(let U=0,B=this.subsystems.length;U!==B;U++)this.subsystems[U].update();c&&(u=Ya.now()),o.length=0,r.length=0,this.broadphase.collisionPairs(this,o,r),c&&(l.broadphase=Ya.now()-u);let b=v.length;for(y=0;y!==b;y++){const U=v[y];if(!U.collideConnected)for(let B=o.length-1;B>=0;B-=1)(U.bodyA===o[B]&&U.bodyB===r[B]||U.bodyB===o[B]&&U.bodyA===r[B])&&(o.splice(B,1),r.splice(B,1))}this.collisionMatrixTick(),c&&(u=Ya.now());const _=ahe,S=a.length;for(y=0;y!==S;y++)_.push(a[y]);a.length=0;const x=this.frictionEquations.length;for(y=0;y!==x;y++)g.push(this.frictionEquations[y]);for(this.frictionEquations.length=0,this.narrowphase.getContacts(o,r,this,a,_,this.frictionEquations,g),c&&(l.narrowphase=Ya.now()-u),c&&(u=Ya.now()),y=0;y<this.frictionEquations.length;y++)n.addEquation(this.frictionEquations[y]);const w=a.length;for(let U=0;U!==w;U++){const B=a[U],N=B.bi,z=B.bj,$=B.si,Y=B.sj;let F;if(N.material&&z.material?F=this.getContactMaterial(N.material,z.material)||this.defaultContactMaterial:F=this.defaultContactMaterial,F.friction,N.material&&z.material&&(N.material.friction>=0&&z.material.friction>=0&&N.material.friction*z.material.friction,N.material.restitution>=0&&z.material.restitution>=0&&(B.restitution=N.material.restitution*z.material.restitution)),n.addEquation(B),N.allowSleep&&N.type===Be.DYNAMIC&&N.sleepState===Be.SLEEPING&&z.sleepState===Be.AWAKE&&z.type!==Be.STATIC){const V=z.velocity.lengthSquared()+z.angularVelocity.lengthSquared(),Z=z.sleepSpeedLimit**2;V>=Z*2&&(N.wakeUpAfterNarrowphase=!0)}if(z.allowSleep&&z.type===Be.DYNAMIC&&z.sleepState===Be.SLEEPING&&N.sleepState===Be.AWAKE&&N.type!==Be.STATIC){const V=N.velocity.lengthSquared()+N.angularVelocity.lengthSquared(),Z=N.sleepSpeedLimit**2;V>=Z*2&&(z.wakeUpAfterNarrowphase=!0)}this.collisionMatrix.set(N,z,!0),this.collisionMatrixPrevious.get(N,z)||(Bm.body=z,Bm.contact=B,N.dispatchEvent(Bm),Bm.body=N,z.dispatchEvent(Bm)),this.bodyOverlapKeeper.set(N.id,z.id),this.shapeOverlapKeeper.set($.id,Y.id)}for(this.emitContactEvents(),c&&(l.makeContactConstraints=Ya.now()-u,u=Ya.now()),y=0;y!==i;y++){const U=s[y];U.wakeUpAfterNarrowphase&&(U.wakeUp(),U.wakeUpAfterNarrowphase=!1)}for(b=v.length,y=0;y!==b;y++){const U=v[y];U.update();for(let B=0,N=U.equations.length;B!==N;B++){const z=U.equations[B];n.addEquation(z)}}n.solve(e,this),c&&(l.solve=Ya.now()-u),n.removeAllEquations();const A=Math.pow;for(y=0;y!==i;y++){const U=s[y];if(U.type&m){const B=A(1-U.linearDamping,e),N=U.velocity;N.scale(B,N);const z=U.angularVelocity;if(z){const $=A(1-U.angularDamping,e);z.scale($,z)}}}this.dispatchEvent(the),c&&(u=Ya.now());const T=this.stepnumber%(this.quatNormalizeSkip+1)===0,O=this.quatNormalizeFast;for(y=0;y!==i;y++)s[y].integrate(e,T,O);this.clearForces(),this.broadphase.dirty=!0,c&&(l.integrate=Ya.now()-u),this.stepnumber+=1,this.dispatchEvent(ehe);let I=!0;if(this.allowSleep)for(I=!1,y=0;y!==i;y++){const U=s[y];U.sleepTick(this.time),U.sleepState!==Be.SLEEPING&&(I=!0)}this.hasActiveBodies=I}emitContactEvents(){const e=this.hasAnyEventListener("beginContact"),a=this.hasAnyEventListener("endContact");if((e||a)&&this.bodyOverlapKeeper.getDiff(gs,ys),e){for(let i=0,s=gs.length;i<s;i+=2)km.bodyA=this.getBodyById(gs[i]),km.bodyB=this.getBodyById(gs[i+1]),this.dispatchEvent(km);km.bodyA=km.bodyB=null}if(a){for(let i=0,s=ys.length;i<s;i+=2)Um.bodyA=this.getBodyById(ys[i]),Um.bodyB=this.getBodyById(ys[i+1]),this.dispatchEvent(Um);Um.bodyA=Um.bodyB=null}gs.length=ys.length=0;const o=this.hasAnyEventListener("beginShapeContact"),r=this.hasAnyEventListener("endShapeContact");if((o||r)&&this.shapeOverlapKeeper.getDiff(gs,ys),o){for(let i=0,s=gs.length;i<s;i+=2){const n=this.getShapeById(gs[i]),d=this.getShapeById(gs[i+1]);bs.shapeA=n,bs.shapeB=d,n&&(bs.bodyA=n.body),d&&(bs.bodyB=d.body),this.dispatchEvent(bs)}bs.bodyA=bs.bodyB=bs.shapeA=bs.shapeB=null}if(r){for(let i=0,s=ys.length;i<s;i+=2){const n=this.getShapeById(ys[i]),d=this.getShapeById(ys[i+1]);_s.shapeA=n,_s.shapeB=d,n&&(_s.bodyA=n.body),d&&(_s.bodyB=d.body),this.dispatchEvent(_s)}_s.bodyA=_s.bodyB=_s.shapeA=_s.shapeB=null}}clearForces(){const e=this.bodies,a=e.length;for(let o=0;o!==a;o++){const r=e[o];r.force,r.torque,r.force.set(0,0,0),r.torque.set(0,0,0)}}}new Sr;const H_=new Ba,Ya=globalThis.performance||{};if(!Ya.now){let t=Date.now();Ya.timing&&Ya.timing.navigationStart&&(t=Ya.timing.navigationStart),Ya.now=()=>Date.now()-t}new P;const ehe={type:"postStep"},the={type:"preStep"},Bm={type:Be.COLLIDE_EVENT_NAME,body:null,contact:null},ahe=[],ohe=[],rhe=[],ihe=[],gs=[],ys=[],km={type:"beginContact",bodyA:null,bodyB:null},Um={type:"endContact",bodyA:null,bodyB:null},bs={type:"beginShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null},_s={type:"endShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null};class Q4{constructor(e){typeof e=="object"&&(e=e.notation),this.set=[],this.setkeys=[],this.setid=0,this.groups=[],this.totalDice=0,this.op="",this.constant=null,this.result=[],this.error=!1,this.boost=1,this.notation="",this.vectors=[],(!e||e=="0")&&(this.error=!0),this.parseNotation(e)}parseNotation(e){if(e){let u=e.split("!").length-1||0;u>0&&(this.boost=Math.min(Math.max(u,0),3)*4),e=e.split("!").join(""),e=e.split(" ").join("");let v=e.split("(").length-1,g=e.split(")").length-1;v!=g&&(this.error=!0)}const a=this.notation.length>0?"+":"";this.notation+=a+e;let o=e.split("@"),r=o[0],i=new RegExp(/(\+|\-|\*|\/|\%|\^|){0,1}()(\d*)([a-z]+\d+|[a-z]+|)(?:\{([a-z]+)(.*?|)\}|)()/,"i"),s=new RegExp(/(\b)*(\-\d+|\d+)(\b)*/,"gi"),n,d=0,c=30,l=0,m=0;for(;!this.error&&r.length>0&&(n=i.exec(r))!==null&&d<c;){d++,r=r.substring(n[0].length);let u=n[1],v=n[2]&&n[2].length>0,g=n[3],f=n[4],p=n[5]||"",h=n[6]||"",y=n[7]&&n[7].length>0,b=!0;v&&(l+=n[2].length),h=h.split(","),(!h||h.length<1)&&(h=""),h.shift(),d==1&&r.length==0&&!f&&u&&g?(f="d20",this.op=u,this.constant=parseInt(g),g=1):d>1&&r.length==0&&!f&&(this.op=u,this.constant=parseInt(g),b=!1),b&&this.addSet(g,f,m,l,p,h,u),y&&(l-=n[7].length,m+=n[7].length)}!this.error&&o[1]&&(n=o[1].match(s))!==null&&this.result.push(...n)}stringify(e=!0){let a="";if(this.set.length<1)return a;for(let o=0;o<this.set.length;o++){let r=this.set[o];a+=o>0&&r.op?r.op:"",a+=r.num+r.type,r.func&&(a+="{",a+=r.func?r.func:"",a+=r.args?","+(Array.isArray(r.args)?r.args.join(","):r.args):"",a+="}")}return a+=this.constant?this.op+""+Math.abs(this.constant):"",e&&this.result&&this.result.length>0&&(a+="@"+this.result.join(",")),this.boost>1&&(a+="!".repeat(this.boost/4)),a}addSet(e,a,o=0,r=0,i="",s="",n="+"){e=Math.abs(parseInt(e||1));let d=n+""+a+o+r+i+s,c=this.setkeys[d]!=null,l={};c&&(l=this.set[this.setkeys[d]-1]),e>0&&(l.num=c?e+l.num:e,l.type=a,l.sid=this.setid,l.gid=o,l.glvl=r,i&&(l.func=i),s&&(l.args=s),n&&(l.op=n),c?this.set[this.setkeys[d]-1]=l:this.setkeys[d]=this.set.push(l)),c||++this.setid}static mergeNotation(e,a){return{...e,constant:e.constant+a.constant,notation:e.notation+"+"+a.notation,set:[...e.set,...a.set],totalDice:e.vectors.length+a.vectors.length,vectors:[...e.vectors,...a.vectors]}}}const W_={d2:{name:"d2",labels:["1","2"],values:[1,2],inertia:8,mass:400,scale:.9,system:"dweird"},dc:{type:"d2",name:"Coin",labels:["textures/silvercoin/tail.png","textures/silvercoin/heads.png"],setBumpMaps:["textures/silvercoin/tail_bump.png","textures/silvercoin/heads_bump.png"],values:[0,1],inertia:8,mass:400,scale:.9,colorset:"coin_silver"},d1:{name:"One-sided Dice",type:"d6",labels:["1"],values:[1,1],scale:.9,system:"dweird"},d3:{name:"Three-Sided Dice",type:"d6",labels:["1","2","3"],values:[1,3],scale:.9,system:"dweird"},df:{name:"Fudge Dice",type:"d6",labels:["-","0","+"],values:[-1,1],scale:.9,system:"dweird"},d4:{name:"Four-Sided Dice",labels:["1","2","3","4"],values:[1,4],inertia:5,scale:1.2},d6:{name:"Six-Sided Dice (Numbers)",labels:["1","2","3","4","5","6"],values:[1,6],scale:.9},dpip:{name:"Six-Sided Dice (Pips)",type:"d6",labels:[`   
 ⬤ 
   `,`⬤  
   
  ⬤`,`⬤  
 ⬤ 
  ⬤`,`⬤ ⬤
   
⬤ ⬤`,`⬤ ⬤
 ⬤ 
⬤ ⬤`,`⬤ ⬤
⬤ ⬤
⬤ ⬤`],values:[1,6],scale:.9,font:"monospace"},dsex:{name:"Sex-Sided Emoji Dice",type:"d6",labels:["🍆","🍑","👌","💦","🙏","💥"],values:[1,6],scale:.9,display:"labels",system:"dweird"},dpoker:{name:"Poker Dice (9-Ace)",type:"d6",labels:["A","9","10","J","Q","K"],values:[1,6],scale:.9,display:"labels",system:"dweird",font:"Times New Roman"},dspanpoker:{name:"Spanish Poker Dice (7-Ace)",type:"d8",labels:["A","7","8","9","10","J","Q","K"],values:[1,8],display:"labels",system:"dweird",font:"Times New Roman"},disotope:{name:"Radioactive Twelve-Sided Dice",type:"d12",labels:["","","","","","","","","","","","☢️"],values:[0,0,0,0,0,0,0,0,0,0,0,1],mass:350,inertia:8,scale:.9,system:"dweird"},dsuit:{name:"Four-Suited Dice",type:"d4",labels:["♠️","♥️","♦️","♣️"],values:[1,4],inertia:5,scale:1.2,display:"labels",system:"dweird"},d8:{name:"Eight-Sided Dice",labels:["1","2","3","4","5","6","7","8"],values:[1,8]},d10:{name:"Ten-Sided Dice (Single Digit)",labels:["1","2","3","4","5","6","7","8","9","0"],values:[1,10],mass:350,inertia:9,scale:.9},d100:{name:"Ten-Sided Dice (Tens Digit)",type:"d10",labels:["10","20","30","40","50","60","70","80","90","00"],values:[10,100,10],mass:350,inertia:9,scale:.9},d12:{name:"Twelve-Sided Dice",labels:["1","2","3","4","5","6","7","8","9","10","11","12"],values:[1,12],mass:350,inertia:8,scale:.9},d20:{name:"Twenty-Sided Dice",labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],values:[1,20],mass:400,inertia:6},dabi:{name:"Star Wars RPG: Ability Dice",type:"d8",labels:["s","a",`s
a`,`s
s`,"a","s",`a
a`,""],values:[1,8],font:"SWRPG-Symbol-Regular",color:"#00FF00",colorset:"swrpg_abi",display:"labels",system:"swrpg"},ddif:{name:"Star Wars RPG: Difficulty Dice",type:"d8",labels:["t","f",`f
t`,"t","",`t
t`,`f
f`,"t"],values:[1,8],font:"SWRPG-Symbol-Regular",color:"#8000FC",colorset:"swrpg_dif",display:"labels",system:"swrpg"},dpro:{name:"Star Wars RPG: Proficiency Dice",type:"d12",labels:[`a
a`,"a",`a
a`,"x","s",`s
a`,"s",`s
a`,`s
s`,`s
a`,`s
s`,""],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FFFF00",colorset:"swrpg_pro",display:"labels",system:"swrpg"},dcha:{name:"Star Wars RPG: Challenge Dice",type:"d12",labels:[`t
t`,"t",`t
t`,"t",`t
f`,"f",`t
f`,"f",`f
f`,"y",`f
f`,""],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FF0000",colorset:"swrpg_cha",display:"labels",system:"swrpg"},dfor:{name:"Star Wars RPG: Force Dice",type:"d12",labels:["z",`Z
Z`,"z",`Z
Z`,"z",`Z
Z`,"z","Z","z","Z","z",`z
z`],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FFFFFF",colorset:"swrpg_for",display:"labels",system:"swrpg"},dboo:{name:"Star Wars RPG: Boost Dice",type:"d6",labels:[`s  
  a`,`a  
  a`,"s","a","",""],values:[1,6],scale:.9,font:"SWRPG-Symbol-Regular",color:"#00FFFF",colorset:"swrpg_boo",display:"labels",system:"swrpg"},dset:{name:"Star Wars RPG: Setback Dice",type:"d6",labels:["","t","f"],values:[1,3],scale:.9,font:"SWRPG-Symbol-Regular",color:"#111111",colorset:"swrpg_set",display:"labels",system:"swrpg"},swar:{name:"Star Wars Armada: Red Attack Dice",type:"d8",labels:["F","F",`F
F`,"E","E","G","",""],values:[1,8],font:"Armada-Symbol-Regular",color:"#FF0000",colorset:"swa_red",display:"labels",system:"swarmada"},swab:{name:"Star Wars Armada: Blue Attack Dice",type:"d8",labels:["F","F","F","F","E","E","G","G"],values:[1,8],font:"Armada-Symbol-Regular",color:"#0000FF",colorset:"swa_blue",display:"labels",system:"swarmada"},swak:{name:"Star Wars Armada: Black Attack Dice",type:"d8",labels:["F","F","F","F",`F
E`,`F
E`,"",""],values:[1,8],font:"Armada-Symbol-Regular",color:"#111111",colorset:"swa_black",display:"labels",system:"swarmada"},xwatk:{name:"Star Wars X-Wing: Red Attack Dice",type:"d8",labels:["c","d","d","d","f","f","",""],values:[1,8],font:"XWing-Symbol-Regular",color:"#FF0000",colorset:"xwing_red",display:"labels",system:"xwing"},xwdef:{name:"Star Wars X-Wing: Green Defense Dice",type:"d8",labels:["e","e","e","f","f","","",""],values:[1,8],font:"XWing-Symbol-Regular",color:"#00FF00",colorset:"xwing_green",display:"labels",system:"xwing"},swlar:{name:"Star Wars Legion: Red Attack Dice",type:"d8",labels:["h","h","h","h","h","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#FF0000",colorset:"swl_atkred",display:"labels",system:"legion"},swlab:{name:"Star Wars Legion: Black Attack Dice",type:"d8",labels:["h","h","h","","","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#111111",colorset:"swl_atkblack",display:"labels",system:"legion"},swlaw:{name:"Star Wars Legion: White Attack Dice",type:"d8",labels:["h","","","","","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#FFFFFF",colorset:"swl_atkwhite",display:"labels",system:"legion"},swldr:{name:"Star Wars Legion: Red Defense Dice",type:"d6",labels:["s","s","s","d","",""],values:[1,6],scale:.9,font:"Legion-Symbol-Regular",color:"#FF0000",colorset:"swl_defred",display:"labels",system:"legion"},swldw:{name:"Star Wars Legion: White Defense Dice",type:"d6",labels:["s","","","d","",""],values:[1,6],scale:.9,font:"Legion-Symbol-Regular",color:"#FFFFFF",colorset:"swl_defwhite",display:"labels",system:"legion"}},Cr={d4:{vertices:[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],faces:[[1,0,2,1],[0,1,3,2],[0,3,2,3],[1,2,3,4]]},d6:{vertices:[[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],faces:[[0,3,2,1,1],[1,2,6,5,2],[0,1,5,4,3],[3,7,6,2,4],[0,4,7,3,5],[4,5,6,7,6]]},d8:{vertices:[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],faces:[[0,2,4,1],[0,4,3,2],[0,3,5,3],[0,5,2,4],[1,3,4,5],[1,4,2,6],[1,2,5,7],[1,5,3,8]]},d10:{vertices:[[1,0,-.105],[.809,.5877,.105],[.309,.951,-.105],[-.309,.951,.105],[-.809,.5877,-.105],[-1,0,.105],[-.809,-.587,-.105],[-.309,-.951,.105],[.309,-.951,-.105],[.809,-.5877,.105],[0,0,-1],[0,0,1]],faces:[[5,6,7,11,0],[4,3,2,10,1],[1,2,3,11,2],[0,9,8,10,3],[7,8,9,11,4],[8,7,6,10,5],[9,0,1,11,6],[2,1,0,10,7],[3,4,5,11,8],[6,5,4,10,9]]},d12:{vertices:[[0,.618,1.618],[0,.618,-1.618],[0,-.618,1.618],[0,-.618,-1.618],[1.618,0,.618],[1.618,0,-.618],[-1.618,0,.618],[-1.618,0,-.618],[.618,1.618,0],[.618,-1.618,0],[-.618,1.618,0],[-.618,-1.618,0],[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]],faces:[[2,14,4,12,0,1],[15,9,11,19,3,2],[16,10,17,7,6,3],[6,7,19,11,18,4],[6,18,2,0,16,5],[18,11,9,14,2,6],[1,17,10,8,13,7],[1,13,5,15,3,8],[13,8,12,4,5,9],[5,4,14,9,15,10],[0,12,8,10,16,11],[3,19,7,17,1,12]]},d20:{vertices:[[-1,1.618,0],[1,1.618,0],[-1,-1.618,0],[1,-1.618,0],[0,-1,1.618],[0,1,1.618],[0,-1,-1.618],[0,1,-1.618],[1.618,0,-1],[1.618,0,1],[-1.618,0,-1],[-1.618,0,1]],faces:[[0,11,5,1],[0,5,1,2],[0,1,7,3],[0,7,10,4],[0,10,11,5],[1,5,9,6],[5,11,4,7],[11,10,2,8],[10,7,6,9],[7,1,8,10],[3,9,4,11],[3,4,2,12],[3,2,6,13],[3,6,8,14],[3,8,9,15],[4,9,5,16],[2,4,11,17],[6,2,10,18],[8,6,7,19],[9,8,1,20]]}},she={name:"",scale:1,font:"Arial",color:"",labels:[],valueMap:[],values:[],normals:[],mass:300,inertia:13,geometry:null,display:"values",system:"d20"};class nhe{constructor(e){if(!W_.hasOwnProperty(e))return console.error("dice type unavailable");Object.assign(this,she,W_[e]),this.shape=W_[e].type||e,this.type=e,this.setLabels(this.labels),this.setValues(this.values[0],this.values[1],this.values[2]),this.setValueMap(this.valueMap),this.bumpMaps&&this.setBumpMaps(this.bumpMaps)}setValues(e=1,a=20,o=1){this.values=this.range(e,a,o)}setValueMap(e){for(let a=0;a<this.values.length;a++){let o=this.values[a];e[o]!=null&&(this.valueMap[o]=e[o])}}registerFaces(e,a="labels"){let o;if(a=="labels"?o=this.labels:o=this.normals,o.unshift(""),["d2","d10"].includes(this.shape)||o.unshift(""),this.shape=="d4"){let r=e[0],i=e[1],s=e[2],n=e[3];this.labels=[[[],[0,0,0],[i,n,s],[r,s,n],[i,r,n],[r,i,s]],[[],[0,0,0],[i,s,n],[s,r,n],[i,n,r],[s,i,r]],[[],[0,0,0],[n,s,i],[s,n,r],[n,i,r],[s,r,i]],[[],[0,0,0],[n,i,s],[r,n,s],[n,r,i],[r,s,i]]]}else Array.prototype.push.apply(o,e)}setLabels(e){this.loadTextures(e,this.registerFaces.bind(this),"labels")}setBumpMaps(e){this.loadTextures(e,this.registerFaces.bind(this),"bump")}loadTextures(e,a,o){let r=0,i=e.length,s=/\.(PNG|JPG|GIF|WEBP)$/i,n=Array(e.length),d=!1;for(let c=0;c<i;c++){if(e[c]==""||!e[c].match(s)){n[c]=e[c],++r;continue}d=!0,n[c]=new Image,n[c].onload=function(){++r>=i&&a(n,o)},n[c].src=e[c]}d||a(n,o)}range(e,a,o=1){for(var r=[e],i=e;i<a;)r.push(i+=o||1);return r}}const dhe={none:{name:"Plastic"},perfectmetal:{name:"Perfect Metal",color:14540253,roughness:0,metalness:1,envMapIntensity:1},metal:{name:"Metal",color:14540253,roughness:.5,metalness:.6,envMapIntensity:1},wood:{name:"Wood",color:14540253,roughness:.9,metalness:0,envMapIntensity:1},glass:{name:"Glass",color:14540253,roughness:.1,metalness:0,envMapIntensity:1}},che={baseScale:100,bumpMapping:!0},np=class{constructor(t){this.geometries={},this.materials_cache={},this.cache_hits=0,this.cache_misses=0,this.label_color="",this.dice_color="",this.edge_color="",this.label_outline="",this.dice_texture="",this.dice_material="",this.material_options={specular:16777215,color:11908533,shininess:5,flatShading:!0},Object.assign(this,che,t)}updateConfig(t={}){Object.assign(this,t),t.scale&&this.scaleGeometry()}setBumpMapping(t){this.bumpMapping=t,this.materials_cache={}}create(t){let e=this.get(t);if(!e)return null;let a=this.geometries[t];if(a||(a=this.createGeometry(e.shape,e.scale*this.baseScale),this.geometries[t]=a),!a)return null;this.setMaterialInfo();let o=new Yi(a,this.createMaterials(e,this.baseScale/2,1));switch(o.result=[],o.shape=e.shape,o.rerolls=0,o.resultReason="natural",o.mass=e.mass,o.getFaceValue=function(){let r=this.resultReason,i=new ne(0,0,this.shape=="d4"?-1:1),s,n=Math.PI*2,d=this.geometry.getAttribute("normal").array;for(let g=0,f=this.geometry.groups.length;g<f;++g){let p=this.geometry.groups[g];if(p.materialIndex==0)continue;let h=g*9,y=new ne(d[h],d[h+1],d[h+2]).clone().applyQuaternion(this.body.quaternion).angleTo(i);y<n&&(n=y,s=p)}let c=s.materialIndex-1,l=2;const m=np.dice[this.notation.type];if(this.shape=="d4"){let g=c-1==0?5:c;return{value:c,label:m.labels[c-1][g][0],reason:r}}["d10","d2"].includes(this.shape)&&(c+=1,l-=1);let u=m.values[(c-1)%m.values.length],v=m.labels[(c-1)%(m.labels.length-2)+l];return{value:u,label:v,reason:r}},o.storeRolledValue=function(r){this.resultReason=r||this.resultReason,this.result.push(this.getFaceValue())},o.getLastValue=function(){return!this.result||this.result.length<1?{value:void 0,label:"",reason:""}:this.result[this.result.length-1]},o.ignoreLastValue=function(r){let i=this.getLastValue();i.value!==void 0&&(i.ignore=r,this.setLastValue(i))},o.setLastValue=function(r){if(!(!this.result||this.result.length<1)&&!(!r||r.length<1))return this.result[this.result.length-1]=r},e.color&&(o.material[0].color=new Lt(e.color),o.material[0].emissive=new Lt(e.color),o.material[0].emissiveIntensity=1,o.material[0].needsUpdate=!0),e.values.length){case 1:return this.fixmaterials(o,1);case 2:return this.fixmaterials(o,2);case 3:return this.fixmaterials(o,3);default:return o}}get(t){let e;return np.dice.hasOwnProperty(t)?e=np.dice[t]:(e=new nhe(t),np.dice[t]=e),e}getGeometry(t){return this.geometries[t]}scaleGeometry(){}createMaterials(t,e,a,o=!0,r=0){let i=[],s=t.labels;t.shape=="d4"&&(s=t.labels[r],e=this.baseScale/2,a=this.baseScale*2);for(var n=0;n<s.length;++n){var d;this.dice_material!="none"?(d=new Cme(dhe[this.dice_material]),d.envMapIntensity=0):d=new Rme(this.material_options);let c;if(n==0){let l={name:"none"};this.dice_texture_rand.composite!="source-over"&&(l=this.dice_texture_rand),c=this.createTextMaterial(t,s,n,e,a,l,this.label_color_rand,this.label_outline_rand,this.edge_color_rand,o),d.map=c.composite}else if(c=this.createTextMaterial(t,s,n,e,a,this.dice_texture_rand,this.label_color_rand,this.label_outline_rand,this.dice_color_rand,o),d.map=c.composite,this.bumpMapping){{let l=.75;e>35&&(l=1),e>40&&(l=2.5),e>45&&(l=4),d.bumpScale=l}c.bump&&(d.bumpMap=c.bump),t.shape!="d4"&&t.normals[n]&&(d.bumpMap=new yr(t.normals[n]),d.bumpScale=4,d.bumpMap.needsUpdate=!0)}d.opacity=1,d.transparent=!0,d.depthTest=!1,d.needUpdate=!0,i.push(d)}return i}createTextMaterial(t,e,a,o,r,i,s,n,d,c){if(e[a]===void 0)return null;i=i||this.dice_texture_rand,s=s||this.label_color_rand,n=n||this.label_outline_rand,d=d||this.dice_color_rand,c=c??!0;let l=e[a],m=!1,u=l;l instanceof HTMLImageElement?u=l.src:l instanceof Array&&l.forEach(w=>{u+=w.src});let v=t.type+u+a+i.name+s+n+d;if(t.shape=="d4"&&(v=t.type+u+i.name+s+n+d),c&&this.materials_cache[v]!=null)return this.cache_hits++,this.materials_cache[v];let g=document.createElement("canvas"),f=g.getContext("2d",{alpha:!0});f.globalAlpha=0,f.clearRect(0,0,g.width,g.height);let p=document.createElement("canvas"),h=p.getContext("2d",{alpha:!0});h.globalAlpha=0,h.clearRect(0,0,p.width,p.height);let y;if(t.shape=="d4"?y=this.calc_texture_size(o+r)*4:y=this.calc_texture_size(o+o*2*r)*4,g.width=g.height=y,p.width=p.height=y,f.fillStyle=d,f.fillRect(0,0,g.width,g.height),h.fillStyle="#FFFFFF",h.fillRect(0,0,p.width,p.height),i.texture&&i.name!=""&&i.name!="none"?(f.globalCompositeOperation=i.composite||"source-over",f.drawImage(i.texture,0,0,g.width,g.height),f.globalCompositeOperation="source-over",i.bump&&(h.globalCompositeOperation="source-over",h.drawImage(i.bump,0,0,g.width,g.height))):f.globalCompositeOperation="source-over",f.globalCompositeOperation="source-over",f.textAlign="center",f.textBaseline="middle",h.textAlign="center",h.textBaseline="middle",t.shape!="d4"){let w={d8:{even:-7.5,odd:-127.5},d10:{all:-6},d12:{all:5},d20:{all:-7.5}}[t.shape];if(w){let A;if(w.hasOwnProperty("all")?A=w.all:a>0&&a%2!=0?A=w.odd:A=w.even,A&&A!=0){var b=g.width/2,_=g.height/2;f.translate(b,_),f.rotate(A*(Math.PI/180)),f.translate(-b,-_),h.translate(b,_),h.rotate(A*(Math.PI/180)),h.translate(-b,-_)}}if(l instanceof HTMLImageElement)m=!0,f.drawImage(l,0,0,l.width,l.height,0,0,g.width,g.height);else{let A=y/(1+2*r),T=g.height/2+10,O=g.width/2;t.shape=="d10"?(A=A*.75,T=T*1.15-10):t.shape=="d20"&&(O=O*.98),f.font=A+"pt "+t.font,h.font=A+"pt "+t.font;let I=f.measureText("M").width*1.4,U=l.split(`
`);U.length>1&&(A=A/U.length,f.font=A+"pt "+t.font,h.font=A+"pt "+t.font,I=f.measureText("M").width*1.2,T-=I*U.length/2);for(let B=0,N=U.length;B<N;B++){let z=U[B].trim();n!="none"&&n!=d&&(f.strokeStyle=n,f.lineWidth=5,f.strokeText(U[B],O,T),h.strokeStyle="#000000",h.lineWidth=5,h.strokeText(U[B],O,T),(z=="6"||z=="9")&&(f.strokeText("  .",O,T),h.strokeText("  .",O,T))),f.fillStyle=s,f.fillText(U[B],O,T),h.fillStyle="#000000",h.fillText(U[B],O,T),(z=="6"||z=="9")&&(f.fillText("  .",O,T),h.fillText("  .",O,T)),T+=I*1.5}}}else{var b=g.width/2,_=g.height/2;f.font=y/128*24+"pt "+t.font,h.font=y/128*24+"pt "+t.font;for(let T=0;T<l.length;T++){if(l[T]instanceof HTMLImageElement){let O=l[T].width/g.width;f.drawImage(l[T],0,0,l[T].width,l[T].height,100/O,25/O,60/O,60/O)}else n!="none"&&n!=d&&(f.strokeStyle=n,f.lineWidth=5,f.strokeText(l[T],b,_-y*.3),h.strokeStyle="#000000",h.lineWidth=5,h.strokeText(l[T],b,_-y*.3)),f.fillStyle=s,f.fillText(l[T],b,_-y*.3),h.fillStyle="#000000",h.fillText(l[T],b,_-y*.3);f.translate(b,_),f.rotate(Math.PI*2/3),f.translate(-b,-_),h.translate(b,_),h.rotate(Math.PI*2/3),h.translate(-b,-_)}}var S=new C4(g),x;return m?x=null:x=new C4(p),c&&(this.cache_misses++,this.materials_cache[v]={composite:S,bump:x}),{composite:S,bump:x}}applyColorSet(t){var e;this.colordata=t,this.label_color=t.foreground,this.dice_color=t.background,this.label_outline=t.outline,this.dice_texture=t.texture,this.dice_material=((e=t==null?void 0:t.texture)==null?void 0:e.material)||"none",this.edge_color=t.hasOwnProperty("edge")?t.edge:t.background}setMaterialInfo(t=""){let e=this.colordata,a=this.dice_texture,o=this.dice_material;if(this.dice_color_rand="",this.label_color_rand="",this.label_outline_rand="",this.dice_texture_rand="",this.dice_material_rand="",this.edge_color_rand="",Array.isArray(this.dice_color)){var r=Math.floor(Math.random()*this.dice_color.length);Array.isArray(this.label_color)&&this.label_color.length==this.dice_color.length&&(this.label_color_rand=this.label_color[r],Array.isArray(this.label_outline)&&this.label_outline.length==this.label_color.length&&(this.label_outline_rand=this.label_outline[r])),Array.isArray(this.dice_texture)&&this.dice_texture.length==this.dice_color.length&&(this.dice_texture_rand=this.dice_texture[r],this.dice_material_rand=this.dice_texture_rand.material),Array.isArray(this.edge_color)&&this.edge_color.length==this.dice_color.length&&(this.edge_color_rand=this.edge_color[r]),this.dice_color_rand=this.dice_color[r]}else this.dice_color_rand=this.dice_color;if(this.edge_color_rand=="")if(Array.isArray(this.edge_color)){var r=Math.floor(Math.random()*this.edge_color.length);this.edge_color_rand=this.edge_color[r]}else this.edge_color_rand=this.edge_color;if(this.label_color_rand==""&&Array.isArray(this.label_color)){var r=this.label_color[Math.floor(Math.random()*this.label_color.length)];Array.isArray(this.label_outline)&&this.label_outline.length==this.label_color.length&&(this.label_outline_rand=this.label_outline[r]),this.label_color_rand=this.label_color[r]}else this.label_color_rand==""&&(this.label_color_rand=this.label_color);if(this.label_outline_rand==""&&Array.isArray(this.label_outline)){var r=this.label_outline[Math.floor(Math.random()*this.label_outline.length)];this.label_outline_rand=this.label_outline[r]}else this.label_outline_rand==""&&(this.label_outline_rand=this.label_outline);this.dice_texture_rand==""&&Array.isArray(this.dice_texture)?(this.dice_texture_rand=this.dice_texture[Math.floor(Math.random()*this.dice_texture.length)],this.dice_material_rand=this.dice_texture_rand.material||this.dice_material):this.dice_texture_rand==""&&(this.dice_texture_rand=this.dice_texture,this.dice_material_rand=this.dice_texture_rand.material||this.dice_material),this.dice_material_rand==""&&Array.isArray(this.dice_material)?this.dice_material_rand=this.dice_material[Math.floor(Math.random()*this.dice_material.length)]:this.dice_material_rand==""&&(this.dice_material_rand=this.dice_material),this.colordata&&this.colordata.id!=e.id&&this.applyColorSet(e,a,o)}calc_texture_size(t){return Math.pow(2,Math.floor(Math.log(t)/Math.log(2)))}createGeometry(t,e,a=!1){const o=a?"create_shape":"create_geom";switch(t){case"d2":var r=new KS(1*e,1*e,.1*e,32);return r.cannon_shape=new Lpe(1*e,1*e,.1*e,8),r;case"d4":return this[o](Cr.d4.vertices,Cr.d4.faces,e,-.1,Math.PI*7/6,.96);case"d6":return this[o](Cr.d6.vertices,Cr.d6.faces,e,.1,Math.PI/4,.96);case"d8":return this[o](Cr.d8.vertices,Cr.d8.faces,e,0,-Math.PI/4/2,.965);case"d10":return this[o](Cr.d10.vertices,Cr.d10.faces,e,.3,Math.PI,.945);case"d12":return this[o](Cr.d12.vertices,Cr.d12.faces,e,.2,-Math.PI/4/2,.968);case"d20":return this[o](Cr.d20.vertices,Cr.d20.faces,e,-.2,-Math.PI/4/2,.955);default:return console.error(`Geometry for ${t} is not available`),null}}fixmaterials(t,e){for(let o=0,r=t.geometry.groups.length;o<r;++o){var a=t.geometry.groups[o].materialIndex-2;if(a<e)continue;let i=a%e;t.geometry.groups[o].materialIndex=i+2}return t.geometry.elementsNeedUpdate=!0,t}create_shape(t,e,a){for(var o=new Array(t.length),r=0;r<t.length;++r)o[r]=new ne().fromArray(t[r]).normalize();for(var i=new Array(t.length),s=new Array(e.length),r=0;r<o.length;++r){var n=o[r];i[r]=new P(n.x*a,n.y*a,n.z*a)}for(var r=0;r<e.length;++r)s[r]=e[r].slice(0,e[r].length-1);return new Jd({vertices:i,faces:s})}make_geom(t,e,a,o,r){let i=new as;for(let v=0;v<t.length;++v)t[v]=t[v].multiplyScalar(a);let s=[];const n=[],d=[],c=new ne,l=new ne;let m,u=0;for(let v=0;v<e.length;++v){let g=e[v],f=g.length-1,p=Math.PI*2/f;m=g[f]+1;for(let y=0;y<f-2;++y)s.push(...t[g[0]].toArray()),s.push(...t[g[y+1]].toArray()),s.push(...t[g[y+2]].toArray()),c.subVectors(t[g[y+2]],t[g[y+1]]),l.subVectors(t[g[0]],t[g[y+1]]),c.cross(l),c.normalize(),n.push(...c.toArray()),n.push(...c.toArray()),n.push(...c.toArray()),d.push((Math.cos(r)+1+o)/2/(1+o),(Math.sin(r)+1+o)/2/(1+o)),d.push((Math.cos(p*(y+1)+r)+1+o)/2/(1+o),(Math.sin(p*(y+1)+r)+1+o)/2/(1+o)),d.push((Math.cos(p*(y+2)+r)+1+o)/2/(1+o),(Math.sin(p*(y+2)+r)+1+o)/2/(1+o));let h=(f-2)*3;for(let y=0;y<h/3;y++)i.addGroup(u,3,m),u+=3}return i.setAttribute("position",new _o(s,3)),i.setAttribute("normal",new _o(n,3)),i.setAttribute("uv",new _o(d,2)),i.boundingSphere=new bf(new ne,a),i}make_d10_geom(t,e,a,o,r){let i=new as;for(let y=0;y<t.length;++y)t[y]=t[y].multiplyScalar(a);let s=[];const n=[],d=[],c=new ne,l=new ne;let m,u=0;for(let y=0;y<e.length;++y){let b=e[y],_=b.length-1,S=Math.PI*2/_;m=b[_]+1;var v=.65,g=.85,f=1-1*g,p=1-.895/1.105*g,h=1;for(let w=0;w<_-2;++w)s.push(...t[b[0]].toArray()),s.push(...t[b[w+1]].toArray()),s.push(...t[b[w+2]].toArray()),c.subVectors(t[b[w+2]],t[b[w+1]]),l.subVectors(t[b[0]],t[b[w+1]]),c.cross(l),c.normalize(),n.push(...c.toArray()),n.push(...c.toArray()),n.push(...c.toArray()),e[y][e[y].length-1]==-1||w>=2?(d.push((Math.cos(r)+1+o)/2/(1+o),(Math.sin(r)+1+o)/2/(1+o)),d.push((Math.cos(S*(w+1)+r)+1+o)/2/(1+o),(Math.sin(S*(w+1)+r)+1+o)/2/(1+o)),d.push((Math.cos(S*(w+2)+r)+1+o)/2/(1+o),(Math.sin(S*(w+2)+r)+1+o)/2/(1+o))):w==0?(d.push(.5-v/2,p),d.push(.5,f),d.push(.5+v/2,p)):w==1&&(d.push(.5-v/2,p),d.push(.5+v/2,p),d.push(.5,h));let x=(_-2)*3;for(let w=0;w<x/3;w++)i.addGroup(u,3,m),u+=3}return i.setAttribute("position",new _o(s,3)),i.setAttribute("normal",new _o(n,3)),i.setAttribute("uv",new _o(d,2)),i.boundingSphere=new bf(new ne,a),i}chamfer_geom(t,e,a){for(var o=[],r=[],i=new Array(t.length),s=0;s<t.length;++s)i[s]=[];for(var s=0;s<e.length;++s){for(var n=e[s],d=n.length-1,c=new ne,l=new Array(d),m=0;m<d;++m){var u=t[n[m]].clone();c.add(u),i[n[m]].push(l[m]=o.push(u)-1)}c.divideScalar(d);for(var m=0;m<d;++m){var u=o[l[m]];u.subVectors(u,c).multiplyScalar(a).addVectors(u,c)}l.push(n[d]),r.push(l)}for(var s=0;s<e.length-1;++s)for(var m=s+1;m<e.length;++m){for(var v=[],g=-1,f=0;f<e[s].length-1;++f){var p=e[m].indexOf(e[s][f]);p>=0&&p<e[m].length-1&&(g>=0&&f!=g+1?v.unshift([s,f],[m,p]):v.push([s,f],[m,p]),g=f)}v.length==4&&r.push([r[v[0][0]][v[0][1]],r[v[1][0]][v[1][1]],r[v[3][0]][v[3][1]],r[v[2][0]][v[2][1]],-1])}for(var s=0;s<i.length;++s){for(var h=i[s],l=[h[0]],y=h.length-1;y;){for(var f=e.length;f<r.length;++f){var b=r[f].indexOf(l[l.length-1]);if(b>=0&&b<4){--b==-1&&(b=3);var _=r[f][b];if(h.indexOf(_)>=0){l.push(_);break}}}--y}l.push(-1),r.push(l)}return{vectors:o,faces:r}}create_geom(t,e,a,o,r,i){for(var s=new Array(t.length),n=0;n<t.length;++n)s[n]=new ne().fromArray(t[n]).normalize();var d=this.chamfer_geom(s,e,i);if(e.length!=10)var c=this.make_geom(d.vectors,d.faces,a,o,r);else var c=this.make_d10_geom(d.vectors,d.faces,a,o,r);return c.cannon_shape=this.create_shape(t,e,a),c.name="d"+e.length,c}};let sL=np;Ene(sL,"dice",{});const G_={cloudy:{name:"Clouds (Transparent)",composite:"destination-in",source:"textures/cloudy.webp",source_bump:"textures/cloudy.alt.webp"},cloudy_2:{name:"Clouds",composite:"multiply",source:"textures/cloudy.alt.webp",source_bump:"textures/cloudy.alt.webp"},fire:{name:"Fire",composite:"multiply",source:"textures/fire.webp",source_bump:"textures/fire.webp",material:"metal"},marble:{name:"Marble",composite:"multiply",source:"textures/marble.webp",source_bump:"",material:"glass"},water:{name:"Water",composite:"destination-in",source:"textures/water.webp",source_bump:"textures/water.webp",material:"glass"},ice:{name:"Ice",composite:"destination-in",source:"textures/ice.webp",source_bump:"textures/ice.webp",material:"glass"},paper:{name:"Paper",composite:"multiply",source:"textures/paper.webp",source_bump:"textures/paper-bump.webp",material:"wood"},speckles:{name:"Speckles",composite:"multiply",source:"textures/speckles.webp",source_bump:"textures/speckles.webp",material:"none"},glitter:{name:"Glitter",composite:"multiply",source:"textures/glitter.webp",source_bump:"textures/glitter-bump.webp",material:"none"},glitter_2:{name:"Glitter (Transparent)",composite:"destination-in",source:"textures/glitter-alpha.webp",source_bump:"",material:"none"},stars:{name:"Stars",composite:"multiply",source:"textures/stars.webp",source_bump:"textures/stars.webp",material:"none"},stainedglass:{name:"Stained Glass",composite:"multiply",source:"textures/stainedglass.webp",source_bump:"textures/stainedglass-bump.webp",material:"glass"},wood:{name:"Wood",composite:"multiply",source:"textures/wood.webp",source_bump:"textures/wood.webp",material:"wood"},metal:{name:"Stainless Steel",composite:"multiply",source:"textures/metal.webp",source_bump:"textures/metal-bump.webp",material:"metal"},skulls:{name:"Skulls",composite:"multiply",source:"textures/skulls.webp",source_bump:"textures/skulls.webp"},leopard:{name:"Leopard",composite:"multiply",source:"textures/leopard.webp",source_bump:"textures/leopard.webp",material:"wood"},tiger:{name:"Tiger",composite:"multiply",source:"textures/tiger.webp",source_bump:"textures/tiger.webp",material:"wood"},cheetah:{name:"Cheetah",composite:"multiply",source:"textures/cheetah.webp",source_bump:"textures/cheetah.webp",material:"wood"},dragon:{name:"Dragon",composite:"multiply",source:"textures/dragon.webp",source_bump:"textures/dragon-bump.webp",material:"none"},lizard:{name:"Lizard",composite:"multiply",source:"textures/lizard.webp",source_bump:"textures/lizard.webp",material:"none"},bird:{name:"Bird",composite:"multiply",source:"textures/feather.webp",source_bump:"textures/feather-bump.webp",material:"wood"},astral:{name:"Astral Sea",composite:"multiply",source:"textures/astral.webp",source_bump:"textures/stars.webp",material:"none"},acleaf:{name:"AC Leaf",composite:"multiply",source:"textures/acleaf.webp",source_bump:"textures/acleaf.webp",material:"none"},thecage:{name:"Nicholas Cage",composite:"multiply",source:"textures/thecage.webp",source_bump:"",material:"metal"},isabelle:{name:"Isabelle",composite:"source-over",source:"textures/isabelle.webp",source_bump:"",material:"none"},bronze01:{name:"bronze01",composite:"difference",source:"textures/bronze01.webp",source_bump:"",material:"metal"},bronze02:{name:"bronze02",composite:"difference",source:"textures/bronze02.webp",source_bump:"",material:"metal"},bronze03:{name:"bronze03",composite:"difference",source:"textures/bronze03.webp",source_bump:"",material:"metal"},bronze03a:{name:"bronze03a",composite:"difference",source:"textures/bronze03a.webp",source_bump:"",material:"metal"},bronze03b:{name:"bronze03b",composite:"difference",source:"textures/bronze03b.webp",source_bump:"",material:"metal"},bronze04:{name:"bronze04",composite:"difference",source:"textures/bronze04.webp",source_bump:"",material:"metal"},none:{name:"none",composite:"source-over",source:"",source_bump:"",material:""},"":{name:"~ Preset ~",composite:"source-over",source:"",source_bump:"",material:""}},X4={coin_default:{name:"Gold Coin",description:"Gold Dragonhead Coin",category:"Other",foreground:"#f6c928",background:"#f6c928",outline:"none",texture:"metal"},coin_silver:{name:"Silver Coin",description:"Gold Dragonhead Coin",category:"Other",foreground:"#f6c928",background:"#f6c928",outline:"none",texture:"metal"},radiant:{name:"Radiant",category:"Damage Types",foreground:"#F9B333",background:"#FFFFFF",outline:"",texture:"paper",description:"Radiant"},fire:{name:"Fire",category:"Damage Types",foreground:"#f8d84f",background:["#f8d84f","#f9b02d","#f43c04","#910200","#4c1009"],outline:"black",texture:"fire",description:"Fire"},ice:{name:"Ice",category:"Damage Types",foreground:"#60E9FF",background:["#214fa3","#3c6ac1","#253f70","#0b56e2","#09317a"],outline:"black",texture:"ice",description:"Ice"},poison:{name:"Poison",category:"Damage Types",foreground:"#D6A8FF",background:["#313866","#504099","#66409e","#934fc3","#c949fc"],outline:"black",texture:"cloudy",description:"Poison"},acid:{name:"Acid",category:"Damage Types",foreground:"#A9FF70",background:["#a6ff00","#83b625","#5ace04","#69f006","#b0f006","#93bc25"],outline:"black",texture:"marble",description:"Acid"},thunder:{name:"Thunder",category:"Damage Types",foreground:"#FFC500",background:"#7D7D7D",outline:"black",texture:"cloudy",description:"Thunder"},lightning:{name:"Lightning",category:"Damage Types",foreground:"#FFC500",background:["#f17105","#f3ca40","#eddea4","#df9a57","#dea54b"],outline:"#7D7D7D",texture:"ice",description:"Lightning"},air:{name:"Air",category:"Damage Types",foreground:"#ffffff",background:["#d0e5ea","#c3dee5","#a4ccd6","#8dafb7","#80a4ad"],outline:"black",texture:"cloudy",description:"Air"},water:{name:"Water",category:"Damage Types",foreground:"#60E9FF",background:["#87b8c4","#77a6b2","#6b98a3","#5b8691","#4b757f"],outline:"black",texture:"water",description:"Water"},earth:{name:"Earth",category:"Damage Types",foreground:"#6C9943",background:["#346804","#184200","#527f22","#3a1d04","#56341a","#331c17","#5a352a","#302210"],outline:"black",texture:"speckles",description:"Earth"},force:{name:"Force",category:"Damage Types",foreground:"white",background:["#FF97FF","#FF68FF","#C651C6"],outline:"#570000",texture:"stars",description:"Force"},psychic:{name:"Psychic",category:"Damage Types",foreground:"#D6A8FF",background:["#313866","#504099","#66409E","#934FC3","#C949FC","#313866"],outline:"black",texture:"speckles",description:"Psychic"},necrotic:{name:"Necrotic",category:"Damage Types",foreground:"#ffffff",background:"#6F0000",outline:"black",texture:"skulls",description:"Necrotic"},breebaby:{name:"Pastel Sunset",category:"Custom Sets",foreground:["#5E175E","#564A5E","#45455E","#3D5A5E","#1E595E","#5E3F3D","#5E1E29","#283C5E","#25295E"],background:["#FE89CF","#DFD4F2","#C2C2E8","#CCE7FA","#A1D9FC","#F3C3C2","#EB8993","#8EA1D2","#7477AD"],outline:"white",texture:"marble",description:"Pastel Sunset, for Breyanna"},pinkdreams:{name:"Pink Dreams",category:"Custom Sets",foreground:"white",background:["#ff007c","#df73ff","#f400a1","#df00ff","#ff33cc"],outline:"#570000",texture:"skulls",description:"Pink Dreams, for Ethan"},inspired:{name:"Inspired",category:"Custom Sets",foreground:"#FFD800",background:"#C4C4B6",outline:"#8E8E86",texture:"none",description:"Inspired, for Austin"},bloodmoon:{name:"Blood Moon",category:"Custom Sets",foreground:"#CDB800",background:"#6F0000",outline:"black",texture:"marble",description:"Blood Moon, for Jared"},starynight:{name:"Stary Night",category:"Custom Sets",foreground:"#4F708F",background:["#091636","#233660","#4F708F","#8597AD","#E2E2E2"],outline:"white",texture:"speckles",description:"Stary Night, for Mai"},glitterparty:{name:"Glitter Party",category:"Custom Sets",foreground:"white",background:["#FFB5F5","#7FC9FF","#A17FFF"],outline:"none",texture:"glitter",description:"Glitter Party, for Austin"},astralsea:{name:"Astral Sea",category:"Custom Sets",foreground:"#565656",background:"white",outline:"none",texture:"astral",description:"The Astral Sea, for Austin"},bronze:{name:"Thylean Bronze",description:"Thylean Bronze by @SpencerThayer",category:"Custom Sets",foreground:["#FF9159","#FFB066","#FFBF59","#FFD059"],background:["#705206","#7A4E06","#643100","#7A2D06"],outline:["#3D2D03","#472D04","#301700","#471A04"],edge:["#FF5D0D","#FF7B00","#FFA20D","#FFBA0D"],texture:["bronze01","bronze02","bronze03","bronze03a","bronze03b","bronze04"]},dragons:{name:"Here be Dragons",category:"Custom Sets",foreground:"#FFFFFF",background:["#B80000","#4D5A5A","#5BB8FF","#7E934E","#FFFFFF","#F6ED7C","#7797A3","#A78437","#862C1A","#FFDF8A"],outline:"black",texture:["dragon","lizard"],description:"Here be Dragons"},birdup:{name:"Bird Up",category:"Custom Sets",foreground:"#FFFFFF",background:["#F11602","#FFC000","#6EC832","#0094BC","#05608D","#FEABB3","#F75680","#F3F0DF","#C7A57F"],outline:"black",texture:"bird",description:"Bird Up!"},tigerking:{name:"Tiger King",category:"Other",foreground:"#ffffff",background:"#FFCC40",outline:"black",texture:["leopard","tiger","cheetah"],description:"Leopard Print"},covid:{name:"COViD",category:"Other",foreground:"#A9FF70",background:["#a6ff00","#83b625","#5ace04","#69f006","#b0f006","#93bc25"],outline:"black",texture:"fire",description:"Covid-19"},acleaf:{name:"Animal Crossing",category:"Other",foreground:"#00FF00",background:"#07540A",outline:"black",texture:"acleaf",description:"Animal Crossing Leaf"},isabelle:{name:"Isabelle",category:"Other",foreground:"white",background:"#FEE5CC",outline:"black",texture:"isabelle",description:"Isabelle"},thecage:{name:"Nicholas Cage",category:"Other",foreground:"#ffffff",background:"#ffffff",outline:"black",texture:"thecage",description:"Nicholas Cage"},test:{name:"Test",category:"Colors",foreground:["#00FF00","#0000FF","#FF0000"],background:["#FF0000","#00FF00","#0000FF"],outline:"black",texture:"none",description:"Test"},rainbow:{name:"Rainblow",category:"Colors",foreground:["#FF5959","#FFA74F","#FFFF56","#59FF59","#2374FF","#00FFFF","#FF59FF"],background:["#900000","#CE3900","#BCBC00","#00B500","#00008E","#008282","#A500A5"],outline:"black",texture:"none",description:"Rainblow"},black:{name:"Black",category:"Colors",foreground:"#ffffff",background:"#000000",outline:"black",texture:"none",description:"Black"},white:{name:"White",category:"Colors",foreground:"#000000",background:"#FFFFFF",outline:"#FFFFFF",texture:"none",description:"White"},swrpg_abi:{name:"Star Wars RPG - Ability",category:"Star Wars™ RPG",foreground:"#00FF00",background:["#3D9238","#52B848","#5EAC56","#9ECB9A"],outline:"#000000",texture:"cloudy_2",description:"Star Wars™ RPG Ability Dice"},swrpg_pro:{name:"Star Wars RPG - Proficiency",category:"Star Wars™ RPG",foreground:"#FFFF00",background:["#CABB1C","#F9E33B","#FFE900","#F0E49D"],outline:"#000000",texture:"paper",description:"Star Wars™ RPG Proficiency Dice"},swrpg_dif:{name:"Star Wars RPG - Difficulty",category:"Star Wars™ RPG",foreground:"#8000FC",background:["#39165F","#664B84","#50247E","#745F88"],outline:"#000000",texture:"cloudy_2",description:"Star Wars™ RPG Difficulty Dice"},swrpg_cha:{name:"Star Wars RPG - Challenge",category:"Star Wars™ RPG",foreground:"#FF0000",background:["#A91F32","#EB4254","#E51836","#BA3645"],outline:"#000000",texture:"paper",description:"Star Wars™ RPG Challenge Dice"},swrpg_boo:{name:"Star Wars RPG - Boost",category:"Star Wars™ RPG",foreground:"#00FFFF",background:["#4B9DC6","#689FC4","#85CFF2","#8FC0D8"],outline:"#000000",texture:"glitter",description:"Star Wars™ RPG Boost Dice"},swrpg_set:{name:"Star Wars RPG - Setback",category:"Star Wars™ RPG",foreground:"#111111",background:["#252223","#241F21","#282828","#111111"],outline:"#ffffff",texture:"glitter",description:"Star Wars™ RPG Setback Dice"},swrpg_for:{name:"Star Wars RPG - Force",category:"Star Wars™ RPG",foreground:"#000000",background:["#F3F3F3","#D3D3D3","#BABABA","#FFFFFF"],outline:"#FFFFFF",texture:"stars",description:"Star Wars™ RPG Force Dice"},swa_red:{name:"Armada Attack - Red",category:"Star Wars™ Armada",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"stainedglass",description:"Star Wars™ Armada Red Attack Dice"},swa_blue:{name:"Armada Attack - Blue",category:"Star Wars™ Armada",foreground:"#ffffff",background:["#212642","#28286E","#2B348C","#3D4BB5","#5D64AB"],outline:"none",texture:"stainedglass",description:"Star Wars™ Armada Blue Attack Dice"},swa_black:{name:"Armada Attack - Black",category:"Star Wars™ Armada",foreground:"#ffffff",background:["#252223","#241F21","#282828","#111111"],outline:"none",texture:"stainedglass",description:"Star Wars™ Armada Black Attack Dice"},xwing_red:{name:"X-Wing Attack - Red",category:"Star Wars™ X-Wing",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"stars",description:"Star Wars™ X-Wing Red Attack Dice"},xwing_green:{name:"X-Wing Attack - Green",category:"Star Wars™ X-Wing",foreground:"#ffffff",background:["#3D9238","#52B848","#5EAC56","#9ECB9A"],outline:"none",texture:"stars",description:"Star Wars™ X-Wing Green Attack Dice"},swl_atkred:{name:"Legion Attack - Red",category:"Star Wars™ Legion",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"fire",description:"Star Wars™ Legion Red Attack Dice"},swl_atkblack:{name:"Legion Attack - Black",category:"Star Wars™ Legion",foreground:"#ffffff",background:["#252223","#241F21","#282828","#111111"],outline:"none",texture:"fire",description:"Star Wars™ Legion Black Attack Dice"},swl_atkwhite:{name:"Legion Attack - White",category:"Star Wars™ Legion",foreground:"#000000",background:["#ffffff","#DFF4FA","#BCBCBC","#F1EDE2","#F2ECE0"],outline:"none",texture:"fire",description:"Star Wars™ Legion White Attack Dice"},swl_defred:{name:"Legion Defense - Red",category:"Star Wars™ Legion",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"fire",description:"Star Wars™ Legion Red Defense Dice"},swl_defwhite:{name:"Legion Defense - White",category:"Star Wars™ Legion",foreground:"#000000",background:["#ffffff","#DFF4FA","#BCBCBC","#F1EDE2","#F2ECE0"],outline:"none",texture:"fire",description:"Star Wars™ Legion White Defense Dice"}};class lhe{constructor(e={}){this.colorsets=[],this.assetPath=e.assetPath}async ImageLoader(e){if(Array.isArray(e)){for(let a=0,o=e.length;a<o;a++)e[a]=await this.ImageLoader(e[a]);return e}return e.source&&e.source!=""&&(e.texture=await this.loadImage(e.source)),e.source_bump&&e.source_bump!=""&&(e.bump=await this.loadImage(e.source_bump)),e}loadImage(e){return new Promise((a,o)=>{let r=new Image;r.onload=()=>a(r),r.crossOrigin="anonymous",r.src=this.assetPath+e,r.onerror=i=>o(i)}).catch(a=>{console.error("Unable to load image texture")})}async getColorSet(e){let a,o;if(typeof e=="string"&&(a=e),typeof e=="object"&&(a=e.colorset),this.colorsets.hasOwnProperty(a))return this.colorsets[a];let r=X4[a];return o=e.texture||r.texture,r.texture=this.getTexture(o),r.texture=await this.ImageLoader(r.texture),e.material&&(r.texture.material=e.material),this.colorsets[a]=r,r}async makeColorSet(e={}){if(this.colorsets.hasOwnProperty(e.name))return this.colorsets[e.name];let a=X4.white,o=Object.assign({},a,e),r=this.getTexture(o.texture);return o.texture=await this.ImageLoader(r),e.material&&(o.texture.material=e.material),o.name.toLowerCase()==="white"&&(o.name=`${Date.now()}`),this.colorsets[o.name]=o,o}getTexture(e){if(Array.isArray(e)){let a=[];for(let o=0,r=e.length;o<r;o++)a.push(this.getTexture(e[o]));return a}return G_.hasOwnProperty(e)?G_[e]:G_.none}}const uhe={default:{name:"Solid Color",author:"MajorVictory",showColorPicker:!0,surface:"wood_tray",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"blue-felt":{name:"Blue Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"red-felt":{name:"Red Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#ff9494",bg:"#4d1e1e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"green-felt":{name:"Green Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#97ff94",bg:"#244d1e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},taverntable:{name:"Old Tavern Table",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},mahogany:{name:"(Mah-Hog-Any)",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},stainless:{name:"Stainless Steel",author:"MajorVictory",showColorPicker:!0,surface:"metal",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},cyberpunk:{name:"Neo-New-Future-City",author:"MajorVictory",showColorPicker:!0,surface:"metal",colors:{fg:"#3494A6",bg:"#440B28"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},cagetown:{name:"Cage Town",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#D7A866",bg:"#282811"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]}},mhe=t=>{let e;return function(){let a=this,o=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(function(){t.apply(a,o)})}},phe={assetPath:"./",framerate:1/60,sounds:!1,volume:100,color_spotlight:15720405,shadows:!0,theme_surface:"green-felt",sound_dieMaterial:"plastic",theme_customColorset:null,theme_colorset:"white",theme_texture:"",theme_material:"glass",gravity_multiplier:400,light_intensity:.7,baseScale:100,strength:1,iterationLimit:1e3,onRollComplete:()=>{},onRerollComplete:()=>{},onAddDiceComplete:()=>{},onRemoveDiceComplete:()=>{}};class fhe{constructor(e,a={}){this.initialized=!1,this.container=document.querySelector(e),this.dimensions=new Nt(this.container.clientWidth,this.container.clientHeight),this.adaptive_timestep=!1,this.last_time=0,this.running=!1,this.rolling=!1,this.threadid,this.display={currentWidth:null,currentHeight:null,containerWidth:null,containerHeight:null,aspect:null,scale:null},this.cameraHeight={max:null,close:null,medium:null,far:null},this.scene=new Mme,this.world=new Jfe,this.dice_body_material=new tc,this.sounds_table={},this.sounds_dice=[],this.lastSoundType="",this.lastSoundStep=0,this.lastSound=0,this.iteration,this.renderer,this.barrier,this.camera,this.light,this.light_amb,this.desk,this.box_body={},this.bodies=[],this.meshes=[],this.diceList=[],this.notationVectors=null,this.dieIndex=0,this.soundDelay=10,this.animstate="",this.selector={animate:!0,rotate:!0,intersected:null,dice:[]},Object.assign(this,phe,a),this.DiceColors=new lhe({assetPath:this.assetPath}),this.DiceFactory=new sL({baseScale:this.baseScale}),this.DiceFactory.setBumpMapping(!0),this.surface=uhe[this.theme_surface].surface}enableShadows(){this.shadows=!0,this.renderer&&(this.renderer.shadowMap.enabled=this.shadows),this.light&&(this.light.castShadow=this.shadows),this.desk&&(this.desk.receiveShadow=this.shadows)}disableShadows(){this.shadows=!1,this.renderer&&(this.renderer.shadowMap.enabled=this.shadows),this.light&&(this.light.castShadow=this.shadows),this.desk&&(this.desk.receiveShadow=this.shadows)}async initialize(){this.renderer=new ZP({antialias:!0,alpha:!0}),this.container.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=this.shadows,this.renderer.shadowMap.type=2,this.renderer.setClearColor(0,0),this.setDimensions(this.dimensions),this.world.gravity.set(0,0,-9.8*this.gravity_multiplier),this.world.broadphase=new XP,this.world.solver.iterations=14,this.world.allowSleep=!0,this.makeWorldBox(),this.resizeWorld(),await this.loadTheme({colorset:this.theme_colorset,texture:this.theme_texture,material:this.theme_material}).catch(e=>{throw new Error("Unable to load theme")}),this.sounds&&await this.loadSounds().catch(e=>{throw new Error("Unable to load sounds")}),this.initialized=!0,this.renderer.render(this.scene,this.camera)}makeWorldBox(){Object.keys(this.box_body).length&&(this.world.removeBody(this.box_body.desk),this.world.removeBody(this.box_body.topWall),this.world.removeBody(this.box_body.bottomWall),this.world.removeBody(this.box_body.leftWall),this.world.removeBody(this.box_body.rightWall));const e=new tc,a=new tc;this.world.addContactMaterial(new ec(e,this.dice_body_material,{mass:0,friction:.6,restitution:.5})),this.world.addContactMaterial(new ec(a,this.dice_body_material,{mass:0,friction:.6,restitution:1})),this.world.addContactMaterial(new ec(this.dice_body_material,this.dice_body_material,{mass:0,friction:.6,restitution:.5})),this.box_body.desk=new Be({allowSleep:!1,mass:0,shape:new zm,material:e}),this.world.addBody(this.box_body.desk),this.box_body.topWall=new Be({allowSleep:!1,mass:0,shape:new zm,material:a}),this.box_body.topWall.quaternion.setFromAxisAngle(new P(1,0,0),Math.PI/2),this.box_body.topWall.position.set(0,this.display.containerHeight*.93,0),this.world.addBody(this.box_body.topWall),this.box_body.bottomWall=new Be({allowSleep:!1,mass:0,shape:new zm,material:a}),this.box_body.bottomWall.quaternion.setFromAxisAngle(new P(1,0,0),-Math.PI/2),this.box_body.bottomWall.position.set(0,-this.display.containerHeight*.93,0),this.world.addBody(this.box_body.bottomWall),this.box_body.leftWall=new Be({allowSleep:!1,mass:0,shape:new zm,material:a}),this.box_body.leftWall.quaternion.setFromAxisAngle(new P(0,1,0),-Math.PI/2),this.box_body.leftWall.position.set(this.display.containerWidth*.93,0,0),this.world.addBody(this.box_body.leftWall),this.box_body.rightWall=new Be({allowSleep:!1,mass:0,shape:new zm,material:a}),this.box_body.rightWall.quaternion.setFromAxisAngle(new P(0,1,0),Math.PI/2),this.box_body.rightWall.position.set(-this.display.containerWidth*.93,0,0),this.world.addBody(this.box_body.rightWall)}async loadTheme(e){let a;this.theme_customColorset?a=await this.DiceColors.makeColorSet(this.theme_customColorset):a=await this.DiceColors.getColorSet(e),this.DiceFactory.applyColorSet(a),this.colorData=a}async loadSounds(){let e={felt:7,wood_table:7,wood_tray:7,metal:9},a={coin:6,metal:12,plastic:15,wood:12};const o=this.colorData.texture.material.match(/wood|metal/g);if(this.sound_dieMaterial=o?this.colorData.texture.material:"plastic",!this.sounds_table.hasOwnProperty(this.surface)){this.sounds_table[this.surface]=[];let r=e[this.surface];for(let i=1;i<=r;++i){const s=await this.loadAudio(this.assetPath+"sounds/surfaces/surface_"+this.surface+i+".mp3");this.sounds_table[this.surface].push(s)}}if(!this.sounds_dice.hasOwnProperty("coin")){this.sounds_dice.coin=[];let r=a.coin;for(let i=1;i<=r;++i){const s=await this.loadAudio(this.assetPath+"sounds/dicehit/dicehit_coin"+i+".mp3");this.sounds_dice.coin.push(s)}}if(!this.sounds_dice.hasOwnProperty(this.sound_dieMaterial)){this.sounds_dice[this.sound_dieMaterial]=[];let r=a[this.sound_dieMaterial];for(let i=1;i<=r;++i){const s=await this.loadAudio(this.assetPath+"sounds/dicehit/dicehit_"+this.sound_dieMaterial+i+".mp3");this.sounds_dice[this.sound_dieMaterial].push(s)}}}loadAudio(e){return new Promise((a,o)=>{let r=new Audio;r.oncanplaythrough=()=>a(r),r.crossOrigin="anonymous",r.src=e,r.onerror=i=>o(i)}).catch(a=>{console.error("Unable to load audio")})}async updateConfig(e={}){Object.apply(this,e),this.theme_customColorset=e.theme_customColorset?e.theme_customColorset:null,e.theme_colorset&&(this.theme_colorset=e.theme_colorset),e.theme_texture&&(this.theme_texture=e.theme_texture),e.theme_material&&(this.theme_material=e.theme_material),(e.theme_colorset||e.theme_texture||e.theme_material||e.theme_customColorset)&&await this.loadTheme({colorset:this.theme_colorset,texture:this.theme_texture,material:this.theme_material})}setDimensions(e){switch(this.display.currentWidth=this.container.clientWidth/2,this.display.currentHeight=this.container.clientHeight/2,e?(this.display.containerWidth=e.x,this.display.containerHeight=e.y):(this.display.containerWidth=this.display.currentWidth,this.display.containerHeight=this.display.currentHeight),this.display.aspect=Math.min(this.display.currentWidth/this.display.containerWidth,this.display.currentHeight/this.display.containerHeight),this.display.scale=Math.sqrt(this.display.containerWidth*this.display.containerWidth+this.display.containerHeight*this.display.containerHeight)/13,this.makeWorldBox(),this.renderer.setSize(this.display.currentWidth*2,this.display.currentHeight*2),this.cameraHeight.max=this.display.currentHeight/this.display.aspect/Math.tan(10*Math.PI/180),this.cameraHeight.medium=this.cameraHeight.max/1.5,this.cameraHeight.far=this.cameraHeight.max,this.cameraHeight.close=this.cameraHeight.max/2,this.camera&&this.scene.remove(this.camera),this.camera=new ir(20,this.display.currentWidth/this.display.currentHeight,1,this.cameraHeight.max*1.3),this.animstate){case"selector":this.camera.position.z=this.selector.dice.length>9?this.cameraHeight.far:this.selector.dice.length<6?this.cameraHeight.close:this.cameraHeight.medium;break;case"throw":case"afterthrow":default:this.camera.position.z=this.cameraHeight.far}this.camera.lookAt(new ne(0,0,0));const a=Math.max(this.display.containerWidth,this.display.containerHeight);this.light&&this.scene.remove(this.light),this.light_amb&&this.scene.remove(this.light_amb),this.light=new qme(this.color_spotlight,this.light_intensity),this.light.position.set(-a/2,a/2,a*3),this.light.target.position.set(0,0,0),this.light.distance=a*5,this.light.angle=Math.PI/4,this.light.castShadow=this.shadows,this.light.shadow.camera.near=a/10,this.light.shadow.camera.far=a*5,this.light.shadow.camera.fov=50,this.light.shadow.bias=.001,this.light.shadow.mapSize.width=1024,this.light.shadow.mapSize.height=1024,this.scene.add(this.light),this.light_amb=new Ome(16777147,6776689,this.light_intensity),this.scene.add(this.light_amb),this.desk&&this.scene.remove(this.desk);let o=new Tme;o.opacity=.5,this.desk=new Yi(new Ly(this.display.containerWidth*6,this.display.containerHeight*6,1,1),o),this.desk.receiveShadow=this.shadows,this.scene.add(this.desk),this.renderer.render(this.scene,this.camera)}resizeWorld(){const e=mhe(()=>{const a=this.renderer.domElement,o=this.container.clientWidth,r=this.container.clientHeight,i=a.width!==o||a.height!==r;return i&&this.setDimensions(new Nt(this.container.clientWidth,this.container.clientHeight)),i});window.addEventListener("resize",e)}vectorRand({x:e,y:a}){let o=Math.random()*Math.PI/5-Math.PI/5/2,r={x:e*Math.cos(o)-a*Math.sin(o),y:e*Math.sin(o)+a*Math.cos(o)};return r.x==0&&(r.x=.01),r.y==0&&(r.y=.01),r}getNotationVectors(e,a,o,r){let i=new Q4(e);for(let s in i.set){const n=this.DiceFactory.get(i.set[s].type);let d=i.set[s].num,c=i.set[s].op,l=i.set[s].sid,m=i.set[s].gid,u=i.set[s].glvl,v=i.set[s].func,g=i.set[s].args;for(let f=0;f<d;f++){let p=this.vectorRand(a);p.x/=r,p.y/=r;let h={x:this.display.containerWidth*(p.x>0?-1:1)*.9,y:this.display.containerHeight*(p.y>0?-1:1)*.9,z:Math.random()*200+200},y=Math.abs(p.x/p.y);y>1?h.y/=y:h.x*=y;let b=this.vectorRand(a);b.x/=r,b.y/=r;let _,S,x;n.shape!="d2"?(_={x:b.x*o,y:b.y*o,z:-10},S={x:-(Math.random()*p.y*5+n.inertia*p.y),y:Math.random()*p.x*5+n.inertia*p.x,z:0},x={x:Math.random(),y:Math.random(),z:Math.random(),a:Math.random()}):(_={x:b.x*o/10,y:b.y*o/10,z:3e3},S={x:12*n.inertia,y:1*n.inertia,z:0},x={x:1,y:1,z:Math.random(),a:Math.random()}),i.vectors.push({index:this.dieIndex++,type:n.type,op:c,sid:l,gid:m,glvl:u,func:v,args:g,pos:h,velocity:_,angle:S,axis:x})}}return i}swapDiceFace(e,a){const o=this.DiceFactory.get(e.notation.type);if(e.resultReason="forced",o.shape=="d4"){this.swapDiceFace_D4(e,a);return}o.values;let r=parseInt(e.getLastValue().value);a=parseInt(a),e.notation.type=="d10"&&r==0&&(r=10),e.notation.type=="d100"&&r==0&&(r=100),e.notation.type=="d100"&&r>0&&r<10&&(r*=10),e.notation.type=="d10"&&a==0&&(a=10),e.notation.type=="d100"&&a==0&&(a=100),e.notation.type=="d100"&&a>0&&a<10&&(a*=10);let i=o.values.indexOf(r),s=o.values.indexOf(a);if(i<0||s<0||i==s)return;let n=e.geometry.clone(),d=[],c=[],l=2;o.shape=="d10"&&(l=1);let m,u=s+l;o.shape!="d2"?(m=i+l,u=s+l):(m=i+1,u=s+1);for(var v=0,g=n.groups.length;v<g;++v){const f=n.groups[v].materialIndex;if(f==m){d.push(v);continue}if(f==u){c.push(v);continue}}if(!(d.length<=0||c.length<=0)){for(let f=0,p=c.length;f<p;f++)n.groups[c[f]].materialIndex=m;for(let f=0,p=d.length;f<p;f++)n.groups[d[f]].materialIndex=u;e.geometry=n,e.result=[]}}swapDiceFace_D4(e,a){const o=this.DiceFactory.get(e.notation.type);let r=parseInt(e.getLastValue().value);if(a=parseInt(a),!(r>=1&&r<=4))return;let i=a-r,s=e.geometry.clone();for(let n=0,d=s.groups.length;n<d;++n){const c=s.groups[n];let l=c.materialIndex;if(l!=0){for(l+=i-1;l>4;)l-=4;for(;l<1;)l+=4;c.materialIndex=l+1}}i!=0&&(i<0&&(i+=4),e.material=this.DiceFactory.createMaterials(o,0,0,!1,i)),e.geometry=s}spawnDice(e,a=!1){const{pos:o,axis:r,angle:i,velocity:s}=e;let n;if(a)n=a,n.stopped=0,this.world.removeBody(n.body);else{if(n=this.DiceFactory.create(e.type,this.colorData),!n)return;n.notation=e,n.result=[],n.stopped=0,n.castShadow=this.shadows,this.scene.add(n),this.diceList.push(n)}n.body=new Be({allowSleep:!0,sleepSpeedLimit:75,sleepTimeLimit:.9,mass:n.mass,shape:n.geometry.cannon_shape,material:this.dice_body_material}),n.body.type=Be.DYNAMIC,n.body.position.set(o.x,o.y,o.z),n.body.quaternion.setFromAxisAngle(new P(r.x,r.y,r.z),r.a*Math.PI*2),n.body.angularVelocity.set(i.x,i.y,i.z),n.body.velocity.set(s.x,s.y,s.z),n.body.linearDamping=.1,n.body.angularDamping=.1,n.body.diceShape=n.shape,n.body.sleepState=0,n.body.addEventListener("collide",this.eventCollide.bind(this)),this.world.addBody(n.body)}eventCollide({body:e,target:a}){if(this.animstate=="simulate"||!this.sounds||!e||this.volume<=0)return;let o=Date.now(),r=e.mass>0?"dice":"table";if(!((this.lastSoundStep==e.world.stepnumber||this.lastSound>o)&&r!="dice")&&!((this.lastSoundStep==e.world.stepnumber||this.lastSound>o)&&r=="dice"&&this.lastSoundType=="dice")){if(e.mass>0){let i=e.velocity.length();if(i<250)return;let s;e.diceShape==="d2"?s=this.sounds_dice.coin[Math.floor(Math.random()*this.sounds_dice.coin.length)]:s=this.sounds_dice[this.sound_dieMaterial][Math.floor(Math.random()*this.sounds_dice[this.sound_dieMaterial].length)],s&&(s.volume=Math.min(i/8e3,this.volume/100),s.play().catch(n=>{})),this.lastSoundType="dice"}else{let i=a.velocity.length();if(i<250)return;let s=this.surface,n=this.sounds_table[s],d=n[Math.floor(Math.random()*n.length)];d&&(d.volume=Math.min(i/8e3,this.volume/100),d.play().catch(c=>{})),this.lastSoundType="table"}this.lastSoundStep=e.world.stepnumber,this.lastSound=o+this.soundDelay}}checkForRethrow(e){let a=e.notation.func?e.notation.func.toLowerCase():"",o,r=!1;if(a!=""&&o&&o.method){a=e.notation.func.toLowerCase();let i=e.notation.args||"";r=o.method(e,i)}return r}throwFinished(){const e=this.iteration>this.iterationLimit;for(let a=0,o=this.diceList.length;a<o;++a){const r=this.diceList[a],i=Be.SLEEPING;if(r.body.sleepState<i&&!e)return!1;if(r.body.sleepState==i||e){if(r.body.type===Be.KINEMATIC)continue;let s=!1;if(r.result.length==0?(r.storeRolledValue(r.resultReason),s=this.checkForRethrow(r)):r.result.length>0&&r.rerolling&&(r.rerolling=!1,r.storeRolledValue("reroll"),s=this.checkForRethrow(r)),s)return r.rerolls+=1,r.rerolling=!0,r.body.wakeUp(),r.body.type=Be.DYNAMIC,r.body.angularVelocity=new P(25,25,25),r.body.velocity=new P(0,0,3e3),!1;r.rerolling=!1,r.body.type=Be.KINEMATIC}}return!0}simulateThrow(){for(this.animstate="simulate",this.iteration=0,this.rolling=!0;!this.throwFinished(!0);)++this.iteration,this.world.step(this.framerate)}animateThrow(e,a){this.animstate="throw";let o=Date.now();this.last_time=this.last_time||o-this.framerate*1e3;let r=(o-this.last_time)/1e3;++this.iteration;let i=Math.floor(r/this.framerate);for(let s=0;s<i;s++)this.world.step(this.framerate),++this.steps;for(let s in this.scene.children){let n=this.scene.children[s];n.body!=null&&(n.position.copy(n.body.position),n.quaternion.copy(n.body.quaternion))}if(this.renderer.render(this.scene,this.camera),this.last_time=this.last_time+i*this.framerate*1e3,this.running==e&&this.throwFinished()){this.running=!1,this.rolling=!1,a&&a.call(this,this.notationVectors),this.running=Date.now(),this.animateAfterThrow(this.running);return}this.running==e&&((s,n,d,c,l)=>{!d&&r<this.framerate?setTimeout(()=>{requestAnimationFrame(()=>{s.call(this,n,c,l)})},(this.framerate-r)*1e3):requestAnimationFrame(()=>{s.call(this,n,c,l)})}).bind(this)(this.animateThrow,e,this.adaptive_timestep,a)}animateAfterThrow(e){this.animstate="afterthrow";let a=Date.now(),o=(a-this.last_time)/1e3;o>3&&(o=this.framerate),this.running=!1,this.last_time=a,this.renderer.render(this.scene,this.camera),this.running==e&&((r,i,s)=>{!s&&o<this.framerate?setTimeout(()=>{requestAnimationFrame(()=>{r.call(this,i)})},(this.framerate-o)*1e3):requestAnimationFrame(()=>{r.call(this,i)})}).bind(this)(this.animateAfterThrow,e,this.adaptive_timestep)}startClickThrow(e){this.rolling&&(this.clearDice(),this.rolling=!1);let a={x:(Math.random()*2-.5)*this.display.currentWidth,y:-(Math.random()*2-.5)*this.display.currentHeight},o=Math.sqrt(a.x*a.x+a.y*a.y)+100,r=(Math.random()+3)*o*this.strength;return this.getNotationVectors(e,a,r,o)}clearDice(){this.running=!1;let e;for(;e=this.diceList.pop();)this.scene.remove(e),e.body&&this.world.removeBody(e.body);this.renderer.render(this.scene,this.camera),setTimeout(()=>{this.renderer.render(this.scene,this.camera)},100)}getDiceResults(e){if(e!==void 0)return{type:this.diceList[e].shape,sides:parseInt(this.diceList[e].shape.substring(1)),id:e,...this.diceList[e].result.at(-1)};let a=0;const o=this.notationVectors.constant?parseInt(`${this.notationVectors.op}${this.notationVectors.constant}`):0;let r=o;return{notation:this.notationVectors.notation,sets:this.notationVectors.set.map(i=>{const s=a+i.num-1;let n=0;const d=[];for(let l=a;l<=s;l++){if(this.diceList[a].result.at(-1).reason==="remove"){a++;continue}d.push({type:i.type,sides:parseInt(i.type.substring(1)),id:a,...this.diceList[a].result.at(-1)}),n+=this.diceList[a].result.at(-1).value,a++}const c={num:i.num,type:i.type,sides:parseInt(i.type.substring(1)),rolls:d,total:n};return r+=n,c}),modifier:o,total:r}}async roll(e){if(this.notationVectors=this.startClickThrow(e),this.notationVectors)return new Promise((a,o)=>{this.rollDice(()=>{const r=this.getDiceResults();this.onRollComplete(r);const i=new CustomEvent("rollComplete",{detail:r});document.dispatchEvent(i),a(r)})})}async reroll(e){return this.rolling=!0,this.running=Date.now(),this.iteration=0,new Promise((a,o)=>{e.forEach(r=>{const i=this.diceList[r];i.rerolls+=1,i.rerolling=!0,i.body.wakeUp(),i.body.type=Be.DYNAMIC,i.body.angularVelocity=new P(25,25,25),i.body.velocity=new P(0,0,3e3)}),this.animateThrow(this.running,()=>{const r=e.map(s=>this.getDiceResults(s));this.onRerollComplete(r);const i=new CustomEvent("rerollComplete",{detail:r});document.dispatchEvent(i),a(r)})})}async add(e){let a=this.diceList.length;if(!a)return this.roll(e);let o=this.startClickThrow(e),r=[];for(let i=0,s=o.vectors.length;i<s;++i)this.spawnDice(o.vectors[i]);this.simulateThrow(),this.steps=0,this.iteration=0;for(let i=0,s=o.vectors.length;i<s;++i){const n=a+i;!this.diceList[n]||(this.spawnDice(o.vectors[i],this.diceList[n]),r.push(n))}if(o.result&&o.result.length>0)for(let i=0;i<o.result.length;i++){const s=a+i;let n=this.diceList[s];!n||n.getLastValue().value!=o.result[i]&&this.swapDiceFace(n,o.result[i])}return this.notationVectors=Q4.mergeNotation(this.notationVectors,o),new Promise((i,s)=>{const n=()=>{const d=r.map(l=>this.getDiceResults(l));this.onAddDiceComplete(d);const c=new CustomEvent("addDiceComplete",{detail:d});document.dispatchEvent(c),i(d)};this.rolling=!0,this.running=Date.now(),this.last_time=0,this.animateThrow(this.running,n)})}async remove(e){return new Promise((a,o)=>{const r=[];e.forEach(s=>{const n=this.diceList[s];n.body&&this.world.removeBody(n.body),this.scene.remove(n),n.storeRolledValue("remove"),r.push(this.getDiceResults(s))}),this.renderer.render(this.scene,this.camera),this.onRemoveDiceComplete(r);const i=new CustomEvent("removeDiceComplete",{detail:r});document.dispatchEvent(i),a(r)})}rollDice(e){if(this.notationVectors.error){e.call(this);return}this.clearDice();for(let a=0,o=this.notationVectors.vectors.length;a<o;++a)this.spawnDice(this.notationVectors.vectors[a]);this.simulateThrow(),this.steps=0,this.iteration=0;for(let a=0,o=this.diceList.length;a<o;++a)!this.diceList[a]||this.spawnDice(this.notationVectors.vectors[a],this.diceList[a]);if(this.notationVectors.result&&this.notationVectors.result.length>0)for(let a=0;a<this.notationVectors.result.length;a++){let o=this.diceList[a];!o||o.getLastValue().value!=this.notationVectors.result[a]&&this.swapDiceFace(o,this.notationVectors.result[a])}this.rolling=!0,this.running=Date.now(),this.last_time=0,this.animateThrow(this.running,e)}}async function hhe(t){const e=new fhe(t,{theme_customColorset:{background:"#00ffcb",foreground:"#ffffff",texture:"marble",material:"metal"},light_intensity:1,gravity_multiplier:600,baseScale:100,strength:2,sounds:!0,onRollComplete:a=>{console.log("I've got results :>> ",a)}});return await e.initialize(),e}const J4=Array.from({length:20},(t,e)=>e+1),vhe=()=>J4[Math.floor(Math.random()*J4.length)];function ghe(t,e=1){t.roll(`${e}d20@${vhe()}`)}const yhe=({containerId:t})=>{const[e,a]=M.useState(),o=M.useCallback(async()=>{const i=await hhe(t);a(i)},[t]);M.useEffect(()=>(e||o(),()=>{e&&e.clearDice()}),[e,o]);const r=M.useCallback(()=>{e&&ghe(e)},[e]);return{box:e,rodar:r}},bhe=["coin_default","coin_silver","radiant","fire","ice","poison","acid","thunder","lightning","air","water","earth","force","psychic","necrotic","breebaby","pinkdreams","inspired","bloodmoon","starynight","glitterparty","astralsea","bronze","dragons","birdup","tigerking","covid","isabelle","thecage","test","rainbow","black","white","swrpg_abi","swrpg_pro","swrpg_dif","swrpg_cha","swrpg_boo","swrpg_set","swrpg_for","swa_red","swa_blue","swa_black","xwing_red","xwing_green","swl_atkred","swl_atkblack","swl_atkwhite","swl_defred","swl_defwhite"],_he=({onRodar:t,box:e})=>{const[a,o]=M.useState("poison"),[r,i]=M.useState(!0),s=async d=>{const c=d.target.value;o(c),n(c)},n=M.useCallback(async d=>{i(!0),await e.updateConfig({theme_colorset:d}),i(!1)},[e]);return R.jsxs(eS,{sx:{zIndex:40},children:[R.jsx(Jw,{onClick:()=>{t()},color:"primary",disabled:r,children:"Jogar"}),R.jsx(T6,{displayEmpty:!0,inputProps:{"aria-label":"Without label"},labelId:"Temas",id:"temas",value:a,label:"Age",onChange:s,children:bhe.map(d=>R.jsx(tS,{value:d,children:d},d))})]})},xhe={background:"#559955",position:"absolute",top:63,right:0,bottom:0,left:0,overflow:"hidden"},whe=()=>{const{box:t,rodar:e}=yhe({containerId:"#box"});return R.jsxs(R.Fragment,{children:[!!t&&R.jsx(_he,{box:t,onRodar:e}),R.jsx(qa,{id:"box",style:xhe})]})},She=()=>R.jsx(Wa,{children:"Dado 2D ainda não disponível"}),Ahe=()=>{const{isDado3d:t}=WS();return R.jsx(Ii,{children:R.jsx(qa,{children:t?R.jsx(whe,{}):R.jsx(She,{})})})},Ehe=()=>{const{pathname:t}=Tc(),e=UO(),a=G0();return M.useEffect(()=>{setTimeout(()=>{a(ua.FICHAS)},1e4)},[a]),{pathname:t,error:e}},Mhe=()=>{const{pathname:t,error:e}=Ehe();return R.jsxs(qa,{children:[R.jsxs(Wa,{children:["Tagmar app. Versão: ","0.1.2"]}),R.jsxs(Wa,{children:[t," - Erro: ",e==null?void 0:e.message]}),R.jsx(xw,{to:"/",children:R.jsx(Wa,{children:"Go back to Home Page"})})]})},The=()=>R.jsxs(Ii,{children:[R.jsx(Dc,{descricao:"tudo"}),R.jsx("p",{children:"Ficha"})]}),Che="/tagmar_pwa/assets/empty-gs4H6fV6.png",Rhe="/tagmar_pwa/assets/some-BVGN2feB.png";var tA={},Ohe=Ri;Object.defineProperty(tA,"__esModule",{value:!0});var nL=tA.default=void 0,Ihe=Ohe(an()),Dhe=R;nL=tA.default=(0,Ihe.default)((0,Dhe.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite");const qhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#717171"}),M.createElement("path",{d:"M17.7358 37.8992L15.1749 37.0456H13.8944H13.0408C13.0408 37.0456 11.9707 37.2416 11.3335 37.0456C10.9772 36.9359 10.7434 36.8823 10.4798 36.6187C10.2163 36.3552 10.1339 36.1289 10.053 35.7651C9.98069 35.4397 10.053 34.9114 10.053 34.9114C10.053 34.9114 9.93374 33.8601 10.053 33.2041C10.1473 32.6855 10.4798 31.9237 10.4798 31.9237L10.9067 31.07V28.5091C10.9067 28.5091 10.863 27.4671 10.9067 26.8018C10.973 25.7901 11.3335 24.2408 11.3335 24.2408C11.3335 24.2408 11.8108 22.4067 12.1871 21.2531C12.6288 19.8991 12.8593 19.1262 13.4676 17.8385C14.0416 16.6234 14.4206 15.9629 15.1749 14.8507C15.6427 14.1609 15.9706 13.8214 16.4554 13.1434C17.1545 12.1657 17.3896 11.5028 18.1627 10.5825C18.7691 9.86048 19.1278 9.45685 19.87 8.87518C20.343 8.50444 20.5616 8.1416 21.1504 8.02153C21.8238 7.88424 22.8577 8.44836 22.8577 8.44836C22.8577 8.44836 24.4774 9.40816 25.4187 10.1557C26.7109 11.1818 28.4064 13.1434 28.4064 13.1434C28.4064 13.1434 28.5119 13.6808 28.4064 13.9971C28.2573 14.4443 27.5528 14.8507 27.5528 14.8507L26.6991 15.7044L24.1382 14.4239H24.565V13.9971V13.1434H24.1382L23.7114 13.9971V14.8507L24.565 15.2775L25.8455 15.7044L26.6991 16.1312C26.6991 16.1312 27.2892 16.2945 27.5528 16.558C27.8163 16.8216 27.9796 17.4117 27.9796 17.4117C27.9796 17.4117 28.2642 18.281 27.9796 18.6921C27.6796 19.1255 26.6991 19.119 26.6991 19.119C26.6991 19.119 26.1709 19.1913 25.8455 19.119C25.4816 19.0381 24.9918 18.6921 24.9918 18.6921L23.7114 18.2653H22.8577C22.8577 18.2653 22.0597 18.1337 21.5773 18.2653C21.2177 18.3634 20.9872 18.4286 20.7236 18.6921C20.4601 18.9557 20.2968 19.5458 20.2968 19.5458C20.2968 19.5458 19.9642 20.3076 19.87 20.8262C19.7507 21.4822 19.87 21.8668 19.87 22.5335C19.87 23.2003 19.7507 23.5849 19.87 24.2408C19.9642 24.7594 20.2968 25.5213 20.2968 25.5213L20.7236 26.8018C20.7236 26.8018 21.1765 25.9692 21.5773 25.5213C22.133 24.9002 22.56 24.6527 23.2845 24.2408C24.0649 23.7972 25.4187 23.3872 25.4187 23.3872L27.126 22.9604C27.126 22.9604 28.4133 22.6072 29.2601 22.5335C29.9243 22.4758 30.3031 22.4758 30.9674 22.5335C31.8141 22.6072 33.1015 22.9604 33.1015 22.9604C33.1015 22.9604 34.1673 23.1405 34.8088 23.3872C35.7159 23.7361 36.1245 24.1433 36.9429 24.6677C37.4489 24.9919 37.7755 25.1206 38.2234 25.5213C38.8445 26.077 39.162 26.4685 39.5038 27.2286C39.8525 28.0037 39.9307 29.3627 39.9307 29.3627C39.9307 29.3627 40.0867 30.9358 39.9307 31.9237C39.7663 32.965 39.5839 33.5603 39.077 34.4846C38.6763 35.2154 38.3859 35.6026 37.7966 36.1919C36.4788 37.5097 33.5283 38.326 33.5283 38.326C33.5283 38.326 31.4738 38.9806 30.1137 39.1797C28.1346 39.4693 24.9918 39.1797 24.9918 39.1797L20.7236 38.7528L17.7358 37.8992Z",stroke:"white"}),M.createElement("path",{d:"M33.5283 31.9236C34.2156 31.2363 33.8659 30.0252 34.8088 29.7895C35.1322 29.7086 35.3643 29.6404 35.6625 29.7895C35.8733 29.8949 35.9723 30.0116 36.0893 30.2163C36.4591 30.8635 35.2356 31.9236 35.2356 31.9236C35.2356 31.9236 34.4867 32.7376 33.9552 33.2041C33.3287 33.7538 32.959 34.0499 32.2479 34.4845C31.6118 34.8732 31.2327 35.0613 30.5406 35.3382C30.0512 35.5339 29.7787 35.6707 29.2601 35.765C28.6041 35.8843 28.2147 35.8452 27.5528 35.765C26.8705 35.6823 26.5069 35.525 25.8455 35.3382C24.831 35.0516 24.214 34.9821 23.2846 34.4845C22.7547 34.2009 22.2041 34.1976 22.0041 33.6309C21.8931 33.3165 21.7684 33.013 22.0041 32.7772C22.2398 32.5415 22.8577 32.7772 22.8577 32.7772L24.565 33.6309C24.565 33.6309 25.8541 33.9672 26.6992 34.0577C27.6936 34.1642 28.2801 34.257 29.2601 34.0577C30.1397 33.8788 31.3942 33.2041 31.3942 33.2041C31.3942 33.2041 32.8411 32.6108 33.5283 31.9236Z",fill:"white",stroke:"white"})),Phe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#FFCC4D"}),M.createElement("path",{d:"M31 39.0685H35L34.5 31.5685L36 32.5685V30.5685L35.5 25.5685V21.0685L34 22.5685V22.0685V17.5685L35 16.5685C35 16.5685 35.0311 15.9578 35 15.5685C34.9358 14.766 34.6953 14.3496 34.5 13.5685C34.3047 12.7875 34.3939 12.2707 34 11.5685C33.5947 10.846 32.5 10.0685 32.5 10.0685C32.5 10.0685 31.9229 9.42373 31.5 9.0685C30.9609 8.61568 30 8.0685 30 8.0685L29 7.5685V6.5685C29 6.5685 28.7485 5.92749 28.5 5.5685C28.1856 5.11442 27.5 4.5685 27.5 4.5685C27.5 4.5685 26.9212 4.18338 26.5 4.0685C25.9349 3.91437 25 4.0685 25 4.0685C25 4.0685 24.3875 4.02006 24 4.0685C23.3873 4.14509 22.999 4.20482 22.5 4.5685C21.931 4.98316 21.8038 5.43337 21.5 6.0685C21.2336 6.62555 21 7.5685 21 7.5685L19 8.5685L17.5 9.5685C17.5 9.5685 16.8144 10.1144 16.5 10.5685C16.2515 10.9275 16 11.5685 16 11.5685C16 11.5685 15.1894 12.7161 15 13.5685C14.8306 14.331 15 15.5685 15 15.5685V17.0685L16 18.0685V22.5685L14.5 21.0685L14 32.5685L15.5 31.5685L15 39.0685H19L18 31.0685H20.5V28.0685C20.5 28.0685 19.904 27.1451 19.5 26.5685C18.9397 25.769 18.4053 25.4567 18 24.5685C17.5069 23.488 17.5884 22.7529 17.5 21.5685C17.4273 20.5949 17.5 19.0685 17.5 19.0685C17.5 19.0685 17.262 17.8124 17.5 17.0685C17.7146 16.398 18.0022 16.0663 18.5 15.5685C18.9978 15.0707 19.337 14.8053 20 14.5685C20.9194 14.2401 21.5325 14.4378 22.5 14.5685C23.2978 14.6763 23.7008 14.9716 24.5 15.0685C25.2754 15.1625 25.7316 15.2082 26.5 15.0685C27.1075 14.958 27.3925 14.679 28 14.5685C28.7684 14.4288 30 14.5685 30 14.5685C30 14.5685 31.001 14.7048 31.5 15.0685C32.069 15.4832 32.5 16.5685 32.5 16.5685V19.5685C32.5 19.5685 32.6827 21.4113 32.5 22.5685C32.3074 23.7883 32.089 24.483 31.5 25.5685C30.9037 26.6674 29.5 28.0685 29.5 28.0685V31.0685H32V32.0685L31 39.0685Z",fill:"white",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M39 39.0684H35.5L34.5 32.0684L36 33.0684L37 33.5684L38.5 36.0684L39 39.0684Z",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M19 39.0684H30.5L32 31.5684H29L27.5 33.5684L25 38.0684L22.5 33.5684L20.5 31.0684H18L19 39.0684Z",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M11 39.0684H14.5L15 32.0684L12.5 33.5684L11.5 35.5684L11 39.0684Z",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M36 20.0684L34 22.0684V18.0684L34.5 17.5684C34.5 17.5684 35.0341 16.8649 35.5 16.5684C36.0209 16.2369 36.4325 16.3116 37 16.0684C37.4013 15.8964 38 15.5684 38 15.5684C38 15.5684 38.0484 16.1809 38 16.5684C37.9234 17.1811 37.7664 17.5113 37.5 18.0684C37.0788 18.9491 36 20.0684 36 20.0684Z",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M16.0001 18.0684V22.0684C16.0001 22.0684 14.7202 20.906 14.0001 20.0684C13.3637 19.328 12.5001 18.0684 12.5001 18.0684C12.5001 18.0684 12.115 17.4896 12.0001 17.0684C11.846 16.5032 12.0001 15.5684 12.0001 15.5684C12.0001 15.5684 12.9431 15.8019 13.5001 16.0684C14.1353 16.3721 15.0001 17.0684 15.0001 17.0684L16.0001 18.0684Z",stroke:"white",strokeWidth:.8})),Lhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#74B564"}),M.createElement("path",{d:"M16.0358 35.5977V40.5977H34.0358V35.5977L31.5358 37.5977L29.5358 35.5977L27.0358 37.5977L25.0358 35.5977L22.5358 37.5977L20.5358 35.5977L18.5358 37.5977L16.0358 35.5977Z",fill:"white"}),M.createElement("path",{d:"M34 24C34 24 34.3305 23.218 34.5 23C34.7681 22.6554 35.0358 22.0977 35.0358 22.0977L35.5358 20.5977L36.0358 19.5977C36.0358 19.5977 36.543 18.947 36.3683 18.5977C36.2449 18.3507 36 18 36 18L35.0358 18.5977C35.0358 18.5977 34.4371 18.9257 34.0358 19.0977C33.4682 19.3409 32.5358 19.5977 32.5358 19.5977C32.5358 19.5977 32.3038 18.9423 32.0358 18.5977C31.7677 18.253 31.8544 17.2676 31.5 16.5C31.0908 15.6136 30 14.5 30 14.5C30 14.5 29.2225 13.4053 28.5 13C27.7978 12.6061 26.5 12.5 26.5 12.5L25.0358 12L24 11.5L22.5 12.5L20.0358 13L19 13.5L18.0358 15C17.8469 15.5879 17.5358 16.5 17.5358 16.5L17.0358 19.0977C16.9975 19.2891 17.0358 19.5977 17.0358 19.5977L16.0358 19.0977L15.0358 18.5977L14.0358 18.0977C14.0358 18.0977 14.0358 18.7071 14.0358 19.0977C14.0358 19.4882 13.9873 19.7101 14.0358 20.0977C14.1123 20.7104 14.5358 21.5977 14.5358 21.5977L15.0358 22.5977C15.0358 22.5977 15.227 23.2889 15.5358 23.5977C15.8445 23.9064 16.1035 24.0359 16.5358 24.0977C16.7291 24.1253 17.0358 24.0977 17.0358 24.0977L17.5358 25.0977L18.0358 26.0977C18.0358 26.0977 18.5829 27.0586 19.0358 27.5977C19.391 28.0205 20.0358 28.5977 20.0358 28.5977L21.0358 29.5977V30.5977V31.5977C21.0358 31.5977 20.1215 31.5977 19.5358 31.5977C18.7547 31.5977 18.3042 31.4579 17.5358 31.5977C16.9282 31.7081 16.6215 31.9024 16.0358 32.0977C15.45 32.2929 15.0719 32.2913 14.5358 32.5977C13.8165 33.0087 13.52 32.9528 13 33.5977C12.558 34.1457 12.1808 34.9087 12.0358 35.5977C11.9553 35.9798 12.0358 36.5977 12.0358 36.5977V38.5977V40.0977V40.5977H16.0358M16.0358 40.5977V35.5977L18.5358 37.5977L20.5358 35.5977L22.5358 37.5977L25.0358 35.5977L27.0358 37.5977L29.5358 35.5977L31.5358 37.5977L34.0358 35.5977V40.5977H16.0358Z",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M34 40.5977H37.5C37.5 40.5977 38.6668 36.901 37.5 35.0977C37.05 34.4021 37.0858 34.1834 36.5 33.5977C35.9142 33.0119 35.2193 32.5087 34.5 32.0977C33.6355 31.6037 32 31.5977 32 31.5977C32 31.5977 30.1867 31.1461 29 31.0977C28.6098 31.0817 28 31.0977 28 31.0977V29.0977C28 29.0977 28.9536 28.2203 29.5 27.5977C30.144 26.8638 30.4397 26.3972 31 25.5977C31.404 25.0211 32 24.0977 32 24.0977L32.5 23.5",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M18 30L20 28.5L18 27L17 24.5H16.5L15 23.5L13.9998 20.0977V24.0977C13.9998 24.0977 13.6566 27.6126 14.4998 29.5977L15.5 30.5C16.3284 31.0523 18 30 18 30Z",fill:"white",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M20.6711 7.60392C19.4514 7.90283 18.6792 7.94439 17.6193 8.61426L15.9975 10.5561L14.9987 12.0802C14.9987 12.0802 14.1179 13.3319 14.0589 13.6659C14 14 14.0589 16.1918 14.0589 16.1918V18.2125L16.497 19.1924L17.6193 15.1283L18.4947 13.0962L21.4913 12.0802L22.9896 11.5722L25.4867 11.6453L28.4833 13.0962L30.9804 15.1283L32.4787 19.1924L34.5 18.5C34.5 18.5 35 18.3083 35 17.5V17C35 17 34.6902 15.6412 34.4041 14.6763C34.1018 13.6572 33.3868 12.1504 33.3868 12.1504C33.3868 12.1504 32.317 10.4478 31.3523 9.62459C30.4738 8.87491 28.8092 8.10909 28.8092 8.10909C28.8092 8.10909 27.3178 7.2922 26.266 7.09875C25.2895 6.91914 24.7133 7.02534 23.7229 7.09875C22.518 7.18806 21.8441 7.31644 20.6711 7.60392Z",fill:"white"}),M.createElement("path",{d:"M34.9127 27.2255L34.4764 23.2566L33.4776 24.7806L32.4787 24.2726V24.7806L31.4799 25.7966L30 27.5L27.8809 29.8608L29 29.5C29 29.5 30.6854 29.6635 31.4799 29.8608C32.2744 30.0581 32.8671 30.0078 33.6666 29.8313C34.1002 29.7356 34.5 29 34.5 29C34.5 29 34.8287 28.4353 34.9127 28C34.9918 27.5899 34.9127 27.2255 34.9127 27.2255Z",fill:"white"}),M.createElement("path",{d:"M27.7919 29.8313L27.8809 29.8608M27.8809 29.8608L29 29.5C29 29.5 30.6854 29.6635 31.4799 29.8608C32.2744 30.0581 32.8671 30.0078 33.6666 29.8313C34.1002 29.7356 34.5 29 34.5 29C34.5 29 34.8287 28.4353 34.9127 28C34.9918 27.5899 34.9127 27.2255 34.9127 27.2255L34.4764 23.2566L33.4776 24.7806L32.4787 24.2726V24.7806L31.4799 25.7966L30 27.5L27.8809 29.8608ZM17.6193 8.61426C18.6792 7.94439 19.4514 7.90283 20.6711 7.60392C21.8441 7.31644 22.518 7.18806 23.7229 7.09875C24.7133 7.02534 25.2895 6.91914 26.266 7.09875C27.3178 7.2922 28.8092 8.10909 28.8092 8.10909C28.8092 8.10909 30.4738 8.87491 31.3523 9.62459C32.317 10.4478 33.3868 12.1504 33.3868 12.1504C33.3868 12.1504 34.1018 13.6572 34.4041 14.6763C34.6902 15.6412 35 17 35 17V17.5C35 18.3083 34.5 18.5 34.5 18.5L32.4787 19.1924L30.9804 15.1283L28.4833 13.0962L25.4867 11.6453L22.9896 11.5722L21.4913 12.0802L18.4947 13.0962L17.6193 15.1283L16.497 19.1924L14.0589 18.2125V16.1918C14.0589 16.1918 14 14 14.0589 13.6659C14.1179 13.3319 14.9987 12.0802 14.9987 12.0802L15.9975 10.5561L17.6193 8.61426Z",stroke:"white",strokeWidth:.8}),M.createElement("path",{d:"M33.9999 23.5977L34.5 23.5M32 23.5L32.9999 24.0977C32.9999 24.0977 33.3152 24.1608 33.4999 24.0977C33.7519 24.0116 34.5 23.5 34.5 23.5M34.5 23.5L34.4999 23.0977",stroke:"white",strokeWidth:.8})),Nhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#0D6CF2"}),M.createElement("path",{d:"M14.1459 35.0845C13.1285 33.3179 12.6459 30.0845 12.6459 30.0845C12.6459 30.0845 12.0018 29.8374 11.6459 29.5845C10.7179 28.9248 10.1459 27.0845 10.1459 27.0845C10.1459 27.0845 9.81757 25.5039 10.1459 24.5845C10.3827 23.9215 10.5902 23.5167 11.1459 23.0845C11.4906 22.8164 11.71 22.5603 12.1459 22.5845C12.8489 22.6235 13.1459 24.0845 13.1459 24.0845L13.6459 22.5845C13.6459 22.5845 14.3103 20.7729 14.6459 19.5845C14.8648 18.8097 14.7617 18.292 15.1459 17.5845C15.7427 16.4858 16.547 16.1808 17.6459 15.5845C18.7314 14.9955 19.4449 14.872 20.6459 14.5845C22.1769 14.2179 23.0717 14.0845 24.6459 14.0845C26.2202 14.0845 27.1047 14.2636 28.6459 14.5845C30.0376 14.8742 31.0275 14.7071 32.1459 15.5845C32.9141 16.187 33.2435 16.6949 33.6459 17.5845C33.9778 18.318 33.9052 18.8162 34.1459 19.5845C34.4604 20.5879 35.1459 22.0845 35.1459 22.0845L35.6459 24.0845L36.1459 23.5845C36.1459 23.5845 36.2317 22.7225 36.6459 22.5845C37.0602 22.4464 37.3292 22.784 37.6459 23.0845C38.23 23.6386 38.0381 24.2866 38.1459 25.0845C38.2767 26.052 38.3827 26.6373 38.1459 27.5845C37.9341 28.4316 37.8445 29.0605 37.1459 29.5845C36.652 29.955 35.6459 30.0845 35.6459 30.0845C35.6459 30.0845 35.7122 31.0025 35.6459 31.5845C35.4776 33.062 34.9206 33.8151 34.1459 35.0845C33.3515 36.3862 32.7862 37.0717 31.6459 38.0845C30.5932 39.0195 29.9235 39.4925 28.6459 40.0845C27.3561 40.6821 26.562 40.9604 25.1459 41.0845C23.5777 41.2219 22.6535 41.0379 21.1459 40.5845C19.2208 40.0054 18.1611 39.4058 16.6459 38.0845C15.4966 37.0821 14.9071 36.406 14.1459 35.0845Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M11.1462 18.5846C11.2045 19.9641 11.6462 22.0846 11.6462 22.0846L13.1462 22.5846L13.6462 20.5846L14.6462 17.0846L18.1462 15.0846L22.6462 13.5846L28.1462 14.0846L32.6462 15.5846L34.6462 18.5846L35.6462 22.5846L37.1462 22.0846C37.1462 22.0846 37.2638 19.6422 37.1462 18.0846C37.0423 16.7078 37.0773 15.8963 36.6462 14.5846C35.9869 12.5781 35.183 11.5335 33.6462 10.0846C32.3059 8.82088 31.3765 8.21672 29.6462 7.58458C27.4377 6.77771 25.9966 7.01989 23.6462 7.08458C21.8787 7.13323 20.8375 7.0688 19.1462 7.58458C17.2233 8.171 16.1909 8.79791 14.6462 10.0846C13.263 11.2368 12.3765 11.9391 11.6462 13.5846C10.8502 15.3782 11.0634 16.624 11.1462 18.5846Z",fill:"white",stroke:"white",strokeLinecap:"round"})),jhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#7B61FF"}),M.createElement("path",{d:"M16.3564 39.2326C15.8482 38.6981 15.6226 38.2894 15.461 37.5698C15.3297 36.985 15.3889 36.63 15.461 36.0349C15.5354 35.4216 15.6272 35.0783 15.8447 34.5001C16.0414 33.9774 16.2345 33.7205 16.4843 33.221C16.734 32.7215 16.9757 32.4804 17.1238 31.9419C17.2438 31.5058 17.2468 31.243 17.2517 30.7907C17.2572 30.2888 17.1238 29.5117 17.1238 29.5117C17.1238 29.5117 17.1031 28.8875 17.1238 28.4884C17.1473 28.0367 17.3282 27.7831 17.2517 27.3372C17.1874 26.9623 17.0251 26.7884 16.868 26.4419C16.4251 25.4651 15.9438 25.0237 15.5889 24.0117C15.2518 23.0502 15.1686 22.4682 15.0773 21.4535C15.0012 20.6078 14.9504 20.1187 15.0773 19.2791C15.186 18.56 15.3189 18.1637 15.5889 17.4884C16.0471 16.3429 16.4356 15.7275 17.2517 14.8023C18.1705 13.7609 18.968 13.4786 20.0657 12.6279C21.4162 11.5813 22.1967 11.0237 23.5192 9.94187C24.534 9.1117 24.9884 8.49782 26.0773 7.76744C26.5611 7.44295 27.3564 7 27.3564 7C27.3564 7 28.343 7.38214 28.8913 7.76744C30.0602 8.58883 30.3684 9.46239 31.0657 10.7093C31.6996 11.8428 32.3448 13.7791 32.3448 13.7791L33.4959 17.4884C33.4959 17.4884 33.9324 19.2666 34.0076 20.4303C34.1274 22.2853 33.918 23.3524 33.4959 25.1628C33.1809 26.5142 32.8846 27.2591 32.3822 28.5223L32.3448 28.6163C31.8987 29.738 31.7109 30.4101 31.0657 31.4303C30.4777 32.36 30.0302 32.8049 29.275 33.6047C28.5714 34.3499 28.1475 34.7439 27.3564 35.3954C26.6392 35.9861 25.4378 36.8024 25.4378 36.8024C25.4378 36.8024 24.3665 37.598 23.775 38.2094C23.2814 38.7196 23.1673 39.1596 22.6238 39.6163C21.9397 40.1912 21.4587 40.4927 20.5773 40.6396C19.6296 40.7976 18.1471 40.2559 18.1471 40.2559C18.1471 40.2559 16.9114 39.8163 16.3564 39.2326Z",stroke:"white"}),M.createElement("path",{d:"M25.182 34.3723C25.182 34.3723 26.4286 33.6069 27.1006 32.9653C27.7946 32.3027 28.6355 31.0467 28.6355 31.0467C28.6355 31.0467 29.5909 29.6964 30.0424 28.7444C30.496 27.788 30.7119 27.2203 30.9378 26.1862C31.152 25.2054 31.1463 24.631 31.1936 23.6281C31.2359 22.73 31.2528 22.2229 31.1936 21.3258C31.1103 20.0638 30.9322 19.3677 30.682 18.1281C30.4686 17.0711 30.4218 16.4514 30.0424 15.442C29.7281 14.6056 29.5144 14.1393 29.0192 13.3955C28.6257 12.8046 27.868 11.9885 27.868 11.9885C27.868 11.9885 27.3886 12.2011 27.1006 12.3722C26.5506 12.699 26.3528 13.0392 25.8215 13.3955C25.209 13.8063 24.1587 14.2909 24.1587 14.2909L21.8564 15.442C21.8564 15.442 20.986 15.9683 20.4494 16.3374C19.832 16.7619 19.4146 16.9306 18.9145 17.4885C18.377 18.0884 18.1927 18.5323 17.8912 19.2792C17.5829 20.0432 17.3522 20.5024 17.3796 21.3258C17.4038 22.0526 17.6507 22.4301 17.8912 23.1165C18.0692 23.6242 18.1245 23.9352 18.4029 24.3955C18.7141 24.9102 19.4261 25.5467 19.4261 25.5467C19.4261 25.5467 20.2484 26.1552 20.8331 26.442C21.5422 26.7899 21 28.5 21 28.5",stroke:"white",strokeLinecap:"round"})),Fhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#C1694F"}),M.createElement("path",{d:"M39.1509 17.8596C39.1509 17.8596 40.0268 15.6734 40.0656 14.2012C40.0702 14.0226 40.0908 13.9207 40.0656 13.7439C40.0091 13.3485 39.8534 13.1445 39.6082 12.8292C39.2129 12.321 38.8221 12.1819 38.2363 11.9146C37.5664 11.6089 37.089 11.7351 36.4071 11.4573C36.0373 11.3066 35.9498 11 35.4925 11H33.6632H31.3767H30.0047C29.5474 11 29.5474 12.3719 29.5474 12.3719C29.5474 12.3719 29.7026 14.0555 29.5474 15.1158C29.4408 15.8444 29.2535 16.227 29.0901 16.945C28.8881 17.833 29.0064 18.4011 28.6328 19.2316C28.2665 20.0459 27.2609 21.0608 27.2609 21.0608L25.889 22.4327C25.889 22.4327 25.0979 23.0695 24.517 23.3474C24.0076 23.591 23.1451 23.8047 23.1451 23.8047C23.1451 23.8047 22.0483 24.1862 21.3159 24.262C20.7829 24.3171 19.9439 24.262 19.9439 24.262H18.572H17.2001H16.7428C16.7428 24.262 16.1476 24.1022 15.8282 24.262C15.6023 24.3749 15.3709 24.7193 15.3709 24.7193L14.9135 25.6339H14.4562C14.4562 25.6339 14.1684 25.5774 13.9989 25.6339C13.6201 25.7602 13.5416 26.5485 13.5416 26.5485C13.5416 26.5485 13.2594 26.5135 13.0843 26.5485C12.589 26.6476 12.1697 27.4631 12.1697 27.4631L11.7124 28.3778C11.7124 28.3778 11.1464 28.3003 10.7978 28.3778C10.4079 28.4644 10.1227 28.5156 9.88314 28.8351C9.56168 29.2637 9.88314 30.207 9.88314 30.207C9.88314 30.207 9.28374 30.4191 8.96852 30.6643C8.46025 31.0596 8.18254 31.4053 8.05391 32.0362C7.9068 32.7577 8.06127 33.2826 8.51121 33.8655C8.99925 34.4977 9.56562 34.5864 10.3405 34.7801C11.2067 34.9967 12.627 34.7801 12.627 34.7801L13.9989 34.3228C13.9989 34.3228 14.8171 34.6693 15.3709 34.7801C16.2465 34.9552 16.7669 34.7136 17.6574 34.7801C18.7407 34.8609 19.3149 35.2374 20.4013 35.2374C21.4876 35.2374 23.1451 34.7801 23.1451 34.7801C23.1451 34.7801 25.036 33.773 26.3463 33.4082C27.3928 33.1168 28.0044 32.9158 29.0901 32.9509C30.0003 32.9802 31.3767 33.4082 31.3767 33.4082C31.3767 33.4082 33.0239 34.0522 34.1205 34.3228C35.1752 34.583 35.7995 34.9947 36.8644 34.7801C37.6473 34.6223 38.037 34.3201 38.6936 33.8655C39.5243 33.2904 40.0602 32.9343 40.5229 32.0362C40.9399 31.2267 40.9297 30.6589 40.9802 29.7497C41.0502 28.4888 40.9432 27.7394 40.5229 26.5485C40.257 25.7954 39.6082 24.7193 39.6082 24.7193C39.6082 24.7193 38.8646 23.4989 38.6936 22.6219C38.5428 21.8482 38.6936 20.6035 38.6936 20.6035L39.1509 17.8596Z",stroke:"white",strokeWidth:1.5}),M.createElement("path",{d:"M12.1701 30.2069H10.3408C10.3408 30.2069 11.2554 29.2921 11.7127 29.2922C12.1701 29.2923 12.6274 29.2922 12.6274 29.2922H14.4566C14.4566 29.2922 14.9139 29.497 14.9139 29.7495C14.9139 30.0021 14.4566 30.2069 14.4566 30.2069H13.542H12.1701Z",fill:"white",stroke:"white",strokeWidth:.5}),M.createElement("path",{d:"M14.4565 26.5483H15.8285H16.2858",stroke:"white",strokeWidth:.5,strokeLinecap:"round"}),M.createElement("path",{d:"M15.8281 25.6338H16.7427",stroke:"white",strokeWidth:.5,strokeLinecap:"round"}),M.createElement("path",{d:"M14.4562 28.3776H12.627C12.627 28.3776 13.1517 28.0069 13.5416 27.9203C13.8902 27.8428 14.4562 27.9203 14.4562 27.9203C14.4562 27.9203 15.2111 27.6008 15.3708 27.9203C15.4507 28.08 15.3708 28.3776 15.3708 28.3776H14.4562Z",fill:"white",stroke:"white",strokeWidth:.5})),zhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),M.createElement("path",{d:"M15.1706 27.9876C15.8469 28.1645 16.7718 28.7871 16.7718 28.7871L17.1721 29.1868V13.1978C17.1721 13.1978 17.5723 11.9992 18.373 11.9986C19.1737 11.998 36.3868 9.99961 37.1873 10C37.9878 10.0004 37.9879 11.1992 37.9879 11.1992V29.5865C37.9879 29.5865 38.1086 31.8697 37.5876 33.184C37.1727 34.2307 36.8907 34.9103 35.9864 35.5824C34.9522 36.3509 34.0709 36.3069 32.7839 36.3818C31.5257 36.455 30.7353 36.4886 29.5815 35.9821C28.4638 35.4914 27.8375 35.0106 27.1797 33.9835C26.647 33.1518 26.3728 32.5724 26.3791 31.5851C26.3867 30.3963 26.8848 29.7522 27.58 28.7871C28.0964 28.0702 28.4351 27.6622 29.1812 27.1882C30.2688 26.4971 31.0983 26.29 32.3836 26.3887C33.3694 26.4644 34.7855 27.1882 34.7855 27.1882V16.7953L20.3745 18.3942C20.3745 18.3942 20.6935 32.8667 20.3745 33.9835C20.0555 35.1003 19.4406 35.965 18.373 36.7816C17.3126 37.5926 16.5032 37.891 15.1706 37.9807C13.5422 38.0903 12.4891 37.7379 11.1675 36.7816C10.1789 36.0661 9.51759 35.5508 9.16601 34.3832C8.80309 33.178 9.07975 32.3464 9.56632 31.1854C10.1227 29.8578 10.6814 29.0358 11.9681 28.3873C13.0933 27.8203 13.9513 27.6687 15.1706 27.9876Z",fill:"white",stroke:"white",strokeLinecap:"round"})),Bhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),M.createElement("path",{d:"M34.1666 10L16.4443 27.7222L18.861 29.9192L20.8749 31.75L38.1943 14.4306V10H34.1666Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M15.639 25.7084C16.111 26.1532 16.0418 27.3195 16.0418 27.3195L20.8752 32.1528C20.8752 32.1528 22.3405 31.9705 22.8891 32.5556C23.5345 33.2441 23.5032 34.2557 22.8891 34.9723C22.1725 35.8083 20.7862 35.8083 20.0696 34.9723C19.6475 34.4799 19.6668 33.3612 19.6668 33.3612L14.8335 28.9306C14.8335 28.9306 13.6906 28.9765 13.2224 28.5278C12.541 27.8748 12.6165 26.8348 13.2224 26.1112C13.8366 25.3775 14.9428 25.0522 15.639 25.7084Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M13.2222 33.7639L15.6388 30.1389L18.4583 32.5556L14.8333 35.375L13.2222 33.7639Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M11.6113 33.3611L15.2363 36.9861",stroke:"white",strokeLinecap:"round"}),M.createElement("circle",{cx:12.4167,cy:36.1806,r:1.91667,fill:"white",stroke:"white"}),M.createElement("path",{d:"M33.3613 28.1251L30.9447 30.322L28.9308 32.1528M11.6113 10.4028H15.6391L24.5002 19.2639M11.6113 10.4028V14.8334L20.4724 23.6945M11.6113 10.4028L22.4863 21.6806",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M24.9028 28.125L28.9306 31.75",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M29.3335 23.2917L33.3613 27.7223",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M27.3193 26.1111L30.9443 29.7361",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M34.1666 26.1112C33.6946 26.556 33.7638 27.7223 33.7638 27.7223L28.9305 32.5557C28.9305 32.5557 27.4652 32.3733 26.9166 32.9584C26.2711 33.6469 26.3024 34.6585 26.9166 35.3751C27.6332 36.2111 29.0195 36.2111 29.7361 35.3751C30.1581 34.8827 30.1388 33.764 30.1388 33.764L34.9722 29.3334C34.9722 29.3334 36.115 29.3794 36.5833 28.9307C37.2647 28.2777 37.1891 27.2376 36.5833 26.514C35.9691 25.7804 34.8629 25.455 34.1666 26.1112Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M36.5835 34.1667L34.1668 30.5417L31.3474 32.9584L34.9724 35.7779L36.5835 34.1667Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M38.1943 33.7639L34.5693 37.3889",stroke:"white",strokeLinecap:"round"}),M.createElement("circle",{cx:2.41667,cy:2.41667,r:1.91667,transform:"matrix(-1 0 0 1 39.8057 34.1667)",fill:"white",stroke:"white"}),M.createElement("path",{d:"M37.7919 10.4028L18.8613 29.3334",stroke:"white",strokeLinecap:"round"})),khe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),M.createElement("path",{d:"M13.2139 23.9795L20.0975 14.3425H29.2755C29.2755 14.3425 31.2485 16.8481 32.4879 18.4727C33.5749 19.8975 34.3696 20.5781 35.2413 22.1439C35.9052 23.3364 36.1878 24.061 36.618 25.3562C37.1388 26.9243 37.5358 29.4864 37.5358 29.4864C37.5358 29.4864 38.1276 30.016 38.4536 30.4042C38.8692 30.8989 39.1541 31.1724 39.3714 31.7809C39.6728 32.6247 39.5922 33.207 39.3714 34.0754C39.1139 35.0882 38.7062 35.6045 37.9947 36.3699C37.3847 37.0262 36.7566 37.0789 36.1591 37.7466C35.7282 38.2282 35.6847 38.6533 35.2413 39.1234C34.5243 39.8835 32.9468 40.5001 32.9468 40.5001H16.4262C16.4262 40.5001 14.8424 40.2352 14.1317 39.5823C13.6559 39.1451 13.6125 38.7141 13.2139 38.2055C12.5885 37.4076 11.8425 37.2712 11.3783 36.3699C10.9598 35.5576 10.8759 34.9882 10.9194 34.0754C10.9545 33.3373 11.3783 32.2398 11.3783 32.2398L10.4605 30.4042C10.4605 30.4042 10.0185 29.3073 10.0016 28.5686C9.97561 27.4354 10.2728 26.746 10.9194 25.8151C11.574 24.8727 13.2139 23.9795 13.2139 23.9795Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M19.965 13.8835C19.965 13.8835 19.1792 13.3664 19.1792 12.9657C19.1792 12.5649 19.965 12.0479 19.965 12.0479H29.2737C29.2737 12.0479 30.154 12.4603 30.1929 12.9657C30.2236 13.3652 29.2751 13.8835 29.2751 13.8835H19.965Z",fill:"white",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M18.2617 9.29452C18.4505 10.3223 19.6384 11.589 19.6384 11.589H29.2754C29.2754 11.589 30.1952 11.1281 30.6521 10.6712C31.109 10.2143 31.5699 9.94068 31.5699 9.29452C31.5699 8.64836 31.1743 8.29839 30.6521 7.91781C30.1941 7.58402 29.8392 7.4017 29.2754 7.4589C28.6326 7.52412 28.5431 8.42387 27.8987 8.37671C27.499 8.34747 27.3492 8.07566 26.9809 7.91781C26.46 7.69457 26.1599 7.57005 25.6042 7.4589C24.7255 7.28317 24.1535 7.15752 23.3097 7.4589C22.7011 7.67623 22.5774 8.42387 21.933 8.37671C21.5333 8.34747 21.3646 8.11387 21.0151 7.91781C20.4516 7.60167 20.2846 7 19.6384 7C18.9923 7 18.5383 7.33385 18.2617 7.91781C18.0316 8.40369 18.1646 8.76573 18.2617 9.29452Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M29.2741 21.2261C29.5753 21.7061 29.8899 22.0582 29.733 22.6028C29.5541 23.2237 29.0001 23.4648 28.3563 23.5206C27.4636 23.5979 27.3371 22.5132 26.5207 22.1439C25.8475 21.8393 25.4207 21.6154 24.6851 21.685C23.8872 21.7605 23.3303 21.9616 22.8495 22.6028C22.5094 23.0562 22.3224 23.4169 22.3906 23.9795C22.5163 25.0169 23.759 24.8721 24.6851 25.3562C25.8946 25.9885 27.8974 26.7329 27.8974 26.7329C27.8974 26.7329 29.7568 27.5067 30.1919 28.5685C30.5317 29.3977 30.4518 30.0055 30.1919 30.8631C29.8591 31.9613 29.2932 32.495 28.3563 33.1576C27.5683 33.7148 26.0618 34.0754 26.0618 34.0754C26.0618 34.0754 26.4174 35.2886 26.0618 35.911C25.7412 36.472 25.3312 36.8288 24.6851 36.8288C24.0389 36.8288 23.629 36.472 23.3084 35.911C22.9527 35.2886 23.3084 34.0754 23.3084 34.0754C23.3084 34.0754 22.7471 34.112 22.3906 34.0754C21.4305 33.9769 20.096 33.1576 20.096 33.1576C20.096 33.1576 18.8269 32.5336 18.7193 31.7809C18.6392 31.2199 18.7182 30.7351 19.1782 30.4042C19.7781 29.9727 20.4914 30.3405 21.0138 30.8631C21.4727 31.322 22.0084 31.9308 22.8495 32.2398C23.8588 32.6106 24.5655 32.5227 25.6029 32.2398C26.3761 32.0289 26.9576 31.9631 27.4385 31.322C27.7785 30.8686 28.1509 30.4521 27.8974 29.9453C27.4384 29.0275 26.5206 29.0275 25.6029 28.5685C24.3106 27.9223 22.3906 26.7329 22.3906 26.7329C22.3906 26.7329 20.6437 25.9057 20.096 24.8973C19.7434 24.248 19.5575 23.7963 19.6371 23.0617C19.7608 21.9209 20.5529 21.4533 21.4727 20.7672C22.1152 20.288 23.3084 19.8494 23.3084 19.8494C23.3084 19.8494 22.9527 18.6362 23.3084 18.0138C23.629 17.4527 24.0389 17.0959 24.6851 17.0959C25.3312 17.0959 25.7412 17.4527 26.0618 18.0138C26.4174 18.6362 26.0618 19.8494 26.0618 19.8494C26.0618 19.8494 28.5487 20.07 29.2741 21.2261Z",fill:"white",stroke:"white",strokeLinecap:"round"})),Uhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),M.createElement("path",{d:"M27.2792 9C25.8598 9 23.4942 20.355 23.4942 20.355C23.4942 20.355 13.0854 23.1937 13.0854 24.14C13.0854 25.0862 23.4942 28.3981 23.4942 28.3981C23.4954 28.4034 26.3332 40.6994 27.2792 40.6994C28.2254 40.6994 31.5373 28.3981 31.5373 28.3981C31.5373 28.3981 40.9998 25.5594 40.9998 24.6131C40.9998 23.6669 31.5373 20.355 31.5373 20.355C31.5373 20.355 28.6986 9 27.2792 9Z",fill:"white",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M12.6128 9.47314C12.1397 9.47312 11.1934 12.785 11.1934 12.785C11.1934 12.785 8.82776 13.2581 8.35469 13.7313C7.88161 14.2044 7.88193 14.6775 8.35469 15.1506C8.82745 15.6238 11.1934 16.0969 11.1934 16.0969L12.6128 18.9356C12.6128 18.9356 13.0862 19.8819 13.5591 18.9356C14.0319 17.9894 14.5053 16.0969 14.5053 16.0969C14.5053 16.0969 16.8709 15.1506 17.3441 14.6775C17.8172 14.2044 17.8172 14.2044 17.3441 13.7313C16.8709 13.2581 14.5053 12.785 14.5053 12.785C14.5053 12.785 13.5591 9.47308 13.0859 9.47314H12.6128Z",fill:"white",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M16.8702 28.8713C16.3971 28.8713 15.3324 32.6563 15.3324 32.6563C15.3324 32.6563 12.7697 33.6026 12.2966 34.0757C11.8235 34.5488 11.8239 34.366 12.2967 34.8391C12.7694 35.3123 15.3324 35.9682 15.3324 35.9682L16.3971 40.2263C16.3971 40.2263 16.8705 41.1726 17.3433 40.2263C17.8161 39.2801 18.6443 35.9682 18.6443 35.9682C18.6443 35.9682 21.0099 35.3123 21.483 34.8391C21.9561 34.366 22.0746 34.5488 21.6014 34.0757C21.1283 33.6026 18.6443 32.6563 18.6443 32.6563C18.6443 32.6563 17.3433 28.8713 16.8702 28.8713Z",fill:"white"}),M.createElement("path",{d:"M16.8702 28.8713C16.3971 28.8713 15.3324 32.6563 15.3324 32.6563C15.3324 32.6563 12.7697 33.6026 12.2966 34.0757C11.8235 34.5488 11.8239 34.366 12.2967 34.8391C12.7694 35.3123 15.3324 35.9682 15.3324 35.9682L16.3971 40.2263C16.3971 40.2263 16.8705 41.1726 17.3433 40.2263C17.8161 39.2801 18.6443 35.9682 18.6443 35.9682C18.6443 35.9682 21.0099 35.3123 21.483 34.8391C21.9561 34.366 22.0746 34.5488 21.6014 34.0757C21.1283 33.6026 18.6443 32.6563 18.6443 32.6563C18.6443 32.6563 17.3433 28.8713 16.8702 28.8713ZM16.8702 28.8713C17.3433 28.8714 16.3971 28.8714 16.8702 28.8713Z",stroke:"white",strokeLinecap:"round"})),Vhe=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),M.createElement("mask",{id:"path-2-inside-1_313_4698",fill:"white"},M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2323 31.4647C27.4358 31.4647 32.4647 26.4358 32.4647 20.2323C32.4647 14.0289 27.4358 9 21.2323 9C15.0289 9 10 14.0289 10 20.2323C10 26.4358 15.0289 31.4647 21.2323 31.4647ZM21.2324 28.1366C25.5978 28.1366 29.1366 24.5978 29.1366 20.2324C29.1366 15.867 25.5978 12.3281 21.2324 12.3281C16.867 12.3281 13.3281 15.867 13.3281 20.2324C13.3281 24.5978 16.867 28.1366 21.2324 28.1366Z"})),M.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2323 31.4647C27.4358 31.4647 32.4647 26.4358 32.4647 20.2323C32.4647 14.0289 27.4358 9 21.2323 9C15.0289 9 10 14.0289 10 20.2323C10 26.4358 15.0289 31.4647 21.2323 31.4647ZM21.2324 28.1366C25.5978 28.1366 29.1366 24.5978 29.1366 20.2324C29.1366 15.867 25.5978 12.3281 21.2324 12.3281C16.867 12.3281 13.3281 15.867 13.3281 20.2324C13.3281 24.5978 16.867 28.1366 21.2324 28.1366Z",fill:"white"}),M.createElement("path",{d:"M31.4647 20.2323C31.4647 25.8835 26.8835 30.4647 21.2323 30.4647V32.4647C27.9881 32.4647 33.4647 26.9881 33.4647 20.2323H31.4647ZM21.2323 10C26.8835 10 31.4647 14.5812 31.4647 20.2323H33.4647C33.4647 13.4766 27.9881 8 21.2323 8V10ZM11 20.2323C11 14.5812 15.5812 10 21.2323 10V8C14.4766 8 9 13.4766 9 20.2323H11ZM21.2323 30.4647C15.5812 30.4647 11 25.8835 11 20.2323H9C9 26.9881 14.4766 32.4647 21.2323 32.4647V30.4647ZM28.1366 20.2324C28.1366 24.0455 25.0455 27.1366 21.2324 27.1366V29.1366C26.15 29.1366 30.1366 25.15 30.1366 20.2324H28.1366ZM21.2324 13.3281C25.0455 13.3281 28.1366 16.4193 28.1366 20.2324H30.1366C30.1366 15.3147 26.15 11.3281 21.2324 11.3281V13.3281ZM14.3281 20.2324C14.3281 16.4193 17.4193 13.3281 21.2324 13.3281V11.3281C16.3147 11.3281 12.3281 15.3147 12.3281 20.2324H14.3281ZM21.2324 27.1366C17.4193 27.1366 14.3281 24.0455 14.3281 20.2324H12.3281C12.3281 25.15 16.3147 29.1366 21.2324 29.1366V27.1366Z",fill:"white",mask:"url(#path-2-inside-1_313_4698)"}),M.createElement("path",{d:"M29.1367 30.6325L27.8887 29.3845L30.3847 26.8884L31.6328 28.1365L29.1367 30.6325Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M28.7205 32.2966C28.7205 32.2966 28.3045 31.4646 28.7205 31.0486L32.0486 27.7204C32.0486 27.7204 32.8808 27.3042 33.2967 27.7203C33.7127 28.1364 39.1209 33.5445 39.1209 33.5445C39.1209 33.5445 39.8403 34.4907 39.9529 35.2085C40.0813 36.0269 39.9479 36.5693 39.5369 37.2886C39.1949 37.887 38.8873 38.1946 38.2889 38.5366C37.5696 38.9476 37.0272 39.081 36.2088 38.9526C35.491 38.84 34.5448 38.1206 34.5448 38.1206L28.7205 32.2966Z",stroke:"white",strokeLinecap:"round"})),$he=t=>M.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},M.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),M.createElement("path",{d:"M33.146 33.5406C32.5627 34.4474 31.4213 35.6966 31.4213 35.6966L27.9718 33.1094C27.9718 33.1094 27.1489 32.9274 26.6783 32.6783C25.8364 32.2326 25.2578 31.6892 24.9537 30.7151C24.7305 30.0003 24.9537 28.7976 24.9537 28.7976V21.2291V13.8989C24.9537 13.8989 24.8364 11.8312 24.9537 11.3118C25.071 10.7924 25.0849 10.202 25.4615 9.82544C25.838 9.44891 26.5823 9.31895 27.1094 9.39425C27.4822 9.4475 27.7056 9.55919 27.9718 9.82544C28.3483 10.202 28.403 11.119 28.403 11.119L28.8342 15.4308L29.6966 18.8803L30.1277 20.6051L30.5589 23.1922V24.4857L35.302 28.7976C35.302 28.7976 34.8073 30.1246 34.4396 30.9535C33.9815 31.9861 33.7572 32.5906 33.146 33.5406Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M13.7432 28.7975L18.4862 24.4856C18.4862 24.4856 18.3286 22.8965 18.4862 21.8985C18.6523 20.8465 19.3486 19.3114 19.3486 19.3114L19.7798 16.7243L20.2109 11.9812C20.2109 11.9812 20.2694 10.8422 20.6421 10.2565C20.8978 9.85468 21.0667 9.58173 21.5045 9.39412C21.9688 9.19512 22.3337 9.19512 22.7981 9.39412C23.2358 9.58173 23.4291 9.84015 23.6604 10.2565C24.0693 10.9925 24.0916 11.3322 24.0916 12.1741C24.0916 18.6655 24.0916 28.7975 24.0916 28.7975C24.0916 28.7975 23.9978 29.3785 24.0916 29.6598C24.1981 29.9793 24.1323 29.2001 24.0629 29.5296C23.9378 30.1237 23.2292 31.8158 23.2292 31.8158C23.2292 31.8158 22.6134 32.8834 21.9357 33.1093C21.4564 33.2691 20.6421 33.1093 20.6421 33.1093L17.6238 35.6964C17.6238 35.6964 16.16 34.5094 15.4679 33.5405C14.8113 32.6213 14.5214 32.0283 14.1743 30.9534C13.9106 30.1363 13.7432 28.7975 13.7432 28.7975Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M20.6421 8.53199C20.5092 9.01936 20.6421 9.82555 20.6421 9.82555L21.5045 8.96318H22.798L24.0916 10.2567V19.5044V28.7977L24.5227 29.2289L24.9539 28.7977V20.3667V10.2567L25.385 9.82544L26.6787 8.96318L27.9722 9.39436C27.9722 9.39436 28.0416 8.86154 27.9722 8.53199C27.8472 7.93788 27.6585 7.49834 27.1099 7.23843C26.6533 7.02218 26.2806 7.03944 25.8163 7.23843C25.3785 7.42605 25.2096 7.69899 24.9539 8.1008C24.6681 8.55005 24.5227 9.39436 24.5227 9.39436L24.0916 8.1008C24.0916 8.1008 23.6552 7.45143 23.2292 7.23843C22.6267 6.93721 22.0893 6.90426 21.5045 7.23843C20.9773 7.53966 20.8018 7.94625 20.6421 8.53199Z",fill:"white",stroke:"white",strokeWidth:.8,strokeLinecap:"round"}),M.createElement("path",{d:"M9 38.2836V29.6599L12.0183 27.0728C12.0183 27.0728 12.7261 26.3701 13.3119 26.2104C13.7992 26.0775 14.1411 26.0114 14.6054 26.2104C15.0432 26.398 15.4678 27.0728 15.4678 27.0728L13.743 28.7975C13.743 28.7975 13.9104 30.1363 14.1742 30.9534C14.5213 32.0284 14.8579 32.5898 15.4678 33.5405C16.1779 34.6475 17.6237 36.1277 17.6237 36.1277L20.2108 33.9717C20.2108 33.9717 20.2628 34.7628 20.2108 35.2653C20.1394 35.9559 20.0679 36.3584 19.7796 36.99C19.5276 37.5424 18.9173 38.2836 18.9173 38.2836H9Z",stroke:"white",strokeLinecap:"round"}),M.createElement("path",{d:"M40.1565 29.7057V38.3294H31.9639H30.2392C30.2392 38.3294 29.211 37.6991 28.9457 37.0358C28.6955 36.4104 28.9457 35.3111 28.9457 35.3111V34.0175L31.5328 35.7423L32.8263 34.4487C33.3315 33.9436 33.6404 33.1496 34.1199 32.2928C34.8553 30.9784 35.8446 28.8433 35.8446 28.8433L33.6887 26.6874C33.6887 26.6874 34.1835 26.3379 34.5511 26.2562C34.8798 26.1831 35.08 26.2086 35.4134 26.2562C36.1589 26.3627 37.1382 27.1186 37.1382 27.1186L40.1565 29.7057Z",stroke:"white",strokeLinecap:"round"})),Hhe=t=>{switch(t){case to.ANAO:return qhe;case to.ELFO_DOURADO:return Phe;case to.ELFO_FLORESTAL:return Lhe;case to.HUMANO:return Nhe;case to.MEIO_ELFO:return jhe;case to.PEQUENINO:return Fhe}},Whe=t=>{switch(t){case Va.BARDO:return zhe;case Va.GUERREIRO:return Bhe;case Va.LADINO:return khe;case Va.MAGO:return Uhe;case Va.RASTREADOR:return Vhe;case Va.SACERDOTE:return $he}},ox=t=>Object.values(to).includes(t)?Hhe(t):Whe(t),Ghe=({ficha:t})=>{const{changeFav:e}=$S(),a=ox(t.raca),o=ox(t.profissao);return R.jsxs(DH,{sx:{backgroundColor:qre(vh.palette.background.default,.8)},children:[R.jsx(BH,{children:R.jsx(XH,{children:R.jsxs(qa,{sx:{display:"flex",flex:1},children:[R.jsx(Bg,{alt:t.raca,children:R.jsx(a,{})}),R.jsxs(qa,{sx:{flex:1,display:"flex",alignItems:"center",flexDirection:"column"},children:[R.jsx(Wa,{variant:"h5",children:t.nome}),R.jsxs(Wa,{children:[t.narrador," - ",t.nivel]})]}),R.jsx(Bg,{alt:t.profissao,children:R.jsx(o,{})})]})})}),R.jsxs(WH,{sx:{display:"flex",justifyContent:"space-around"},children:[R.jsx(Wn,{"aria-label":"Favorito",onClick:()=>e(t.id),children:t.isFavorito?R.jsx(nL,{color:"primary"}):R.jsx(tne,{color:"primary"})}),R.jsx(Wn,{"aria-label":"Editar",children:R.jsx(ene,{color:"primary"})}),R.jsx(Wn,{"aria-label":"Apagar",children:R.jsx(Jse,{color:"primary"})})]})]})},Yhe=()=>{const{list:t}=$S(),e=`url(${t.length>0?Rhe:Che})`;return R.jsxs(Ii,{bg:e,children:[R.jsx(Dc,{descricao:"Fazer os cards funcionarem"}),R.jsx(qa,{sx:{flexGrow:1},children:R.jsx(du,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:3},children:t.map(a=>R.jsx(du,{item:!0,xs:12,md:6,lg:4,children:R.jsx(Ghe,{ficha:a})},a.id))})})]})},Zhe=()=>R.jsx(Yhe,{}),Khe=()=>R.jsx(Ii,{children:R.jsx("p",{children:"Habilidade"})}),Qhe=()=>R.jsxs(Ii,{children:[R.jsx(Dc,{descricao:"tudo"}),R.jsx(R6,{label:"Nome da habilidade",variant:"outlined",InputProps:{endAdornment:R.jsx(h6,{position:"start",children:R.jsx(nne,{})})}}),R.jsxs("div",{style:{display:"flex",gap:10},children:[R.jsx("p",{children:"a"}),R.jsx("p",{children:"b"}),R.jsx("p",{children:"c"}),R.jsx("p",{children:"d"}),R.jsx("p",{children:"e"}),R.jsx("p",{children:"..."}),R.jsx("p",{children:"z"})]}),R.jsxs("div",{children:[R.jsx("p",{children:"Habilidade"}),R.jsx("p",{children:"Habilidade"}),R.jsx("p",{children:"Habilidade"}),R.jsx("p",{children:"Habilidade"}),R.jsx("p",{children:"Habilidade"}),R.jsx("p",{children:"Habilidade"})]})]});var Y_=Xhe,Z_=[{base:" ",chars:" "},{base:"0",chars:"߀"},{base:"A",chars:"ⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",chars:"Ꜳ"},{base:"AE",chars:"ÆǼǢ"},{base:"AO",chars:"Ꜵ"},{base:"AU",chars:"Ꜷ"},{base:"AV",chars:"ꜸꜺ"},{base:"AY",chars:"Ꜽ"},{base:"B",chars:"ⒷＢḂḄḆɃƁ"},{base:"C",chars:"ⒸＣꜾḈĆCĈĊČÇƇȻ"},{base:"D",chars:"ⒹＤḊĎḌḐḒḎĐƊƉᴅꝹ"},{base:"Dh",chars:"Ð"},{base:"DZ",chars:"ǱǄ"},{base:"Dz",chars:"ǲǅ"},{base:"E",chars:"ɛⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎᴇ"},{base:"F",chars:"ꝼⒻＦḞƑꝻ"},{base:"G",chars:"ⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾɢ"},{base:"H",chars:"ⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",chars:"ⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",chars:"ⒿＪĴɈȷ"},{base:"K",chars:"ⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",chars:"ⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",chars:"Ǉ"},{base:"Lj",chars:"ǈ"},{base:"M",chars:"ⓂＭḾṀṂⱮƜϻ"},{base:"N",chars:"ꞤȠⓃＮǸŃÑṄŇṆŅṊṈƝꞐᴎ"},{base:"NJ",chars:"Ǌ"},{base:"Nj",chars:"ǋ"},{base:"O",chars:"ⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OE",chars:"Œ"},{base:"OI",chars:"Ƣ"},{base:"OO",chars:"Ꝏ"},{base:"OU",chars:"Ȣ"},{base:"P",chars:"ⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",chars:"ⓆＱꝖꝘɊ"},{base:"R",chars:"ⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",chars:"ⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",chars:"ⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",chars:"Þ"},{base:"TZ",chars:"Ꜩ"},{base:"U",chars:"ⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",chars:"ⓋＶṼṾƲꝞɅ"},{base:"VY",chars:"Ꝡ"},{base:"W",chars:"ⓌＷẀẂŴẆẄẈⱲ"},{base:"X",chars:"ⓍＸẊẌ"},{base:"Y",chars:"ⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",chars:"ⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",chars:"ⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",chars:"ꜳ"},{base:"ae",chars:"æǽǣ"},{base:"ao",chars:"ꜵ"},{base:"au",chars:"ꜷ"},{base:"av",chars:"ꜹꜻ"},{base:"ay",chars:"ꜽ"},{base:"b",chars:"ⓑｂḃḅḇƀƃɓƂ"},{base:"c",chars:"ｃⓒćĉċčçḉƈȼꜿↄ"},{base:"d",chars:"ⓓｄḋďḍḑḓḏđƌɖɗƋᏧԁꞪ"},{base:"dh",chars:"ð"},{base:"dz",chars:"ǳǆ"},{base:"e",chars:"ⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇǝ"},{base:"f",chars:"ⓕｆḟƒ"},{base:"ff",chars:"ﬀ"},{base:"fi",chars:"ﬁ"},{base:"fl",chars:"ﬂ"},{base:"ffi",chars:"ﬃ"},{base:"ffl",chars:"ﬄ"},{base:"g",chars:"ⓖｇǵĝḡğġǧģǥɠꞡꝿᵹ"},{base:"h",chars:"ⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",chars:"ƕ"},{base:"i",chars:"ⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",chars:"ⓙｊĵǰɉ"},{base:"k",chars:"ⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",chars:"ⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇɭ"},{base:"lj",chars:"ǉ"},{base:"m",chars:"ⓜｍḿṁṃɱɯ"},{base:"n",chars:"ⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",chars:"ǌ"},{base:"o",chars:"ⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿꝋꝍɵɔᴑ"},{base:"oe",chars:"œ"},{base:"oi",chars:"ƣ"},{base:"oo",chars:"ꝏ"},{base:"ou",chars:"ȣ"},{base:"p",chars:"ⓟｐṕṗƥᵽꝑꝓꝕρ"},{base:"q",chars:"ⓠｑɋꝗꝙ"},{base:"r",chars:"ⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",chars:"ⓢｓśṥŝṡšṧṣṩșşȿꞩꞅẛʂ"},{base:"ss",chars:"ß"},{base:"t",chars:"ⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",chars:"þ"},{base:"tz",chars:"ꜩ"},{base:"u",chars:"ⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",chars:"ⓥｖṽṿʋꝟʌ"},{base:"vy",chars:"ꝡ"},{base:"w",chars:"ⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",chars:"ⓧｘẋẍ"},{base:"y",chars:"ⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",chars:"ⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],dL={};for(var Lv=0;Lv<Z_.length;Lv+=1)for(var e5=Z_[Lv].chars,K_=0;K_<e5.length;K_+=1)dL[e5[K_]]=Z_[Lv].base;function Xhe(t){return t.replace(/[^\u0000-\u007e]/g,function(e){return dL[e]||e})}var Ei;(t=>{t.getPlural=r=>r>1?"s":"",t.getDescricaoLonga=r=>{var i;return((i=r.descricao)==null?void 0:i.split(`

`))??[]},t.extractFirstChar=r=>Y_(r.trim().charAt(0).toLowerCase());const e=(r,i)=>{if(r.localeCompare(i)===0)return 1;const s=r.length,n=i.length,d=Math.floor(Math.max(s,n)/2)-1;let c=0;const l=Array(s).fill(0),m=Array(n).fill(0);for(let g=0;g<s;g++)for(let f=Math.max(0,g-d);f<Math.min(n,g+d+1);f++)if(r[g]===i[f]&&m[f]===0){l[g]=1,m[f]=1,c++;break}if(c===0)return 0;let u=0,v=0;for(let g=0;g<s;g++)if(l[g]===1){for(;m[v]===0;)v++;r[g]!==i[v++]&&u++}return u/=2,(c/s+c/n+(c-u)/c)/3},a=(r,i)=>{let s=e(r,i);if(s>.7){let n=0;for(let d=0;d<Math.min(r.length,i.length)&&r[d]===i[d];d++)n++;n=Math.min(4,n),s+=.1*n*(1-s)}return s},o=(r,i,s)=>{const n=Y_(r).toLowerCase(),d=Y_(i).toLowerCase();return d.indexOf(n)>-1||a(n,d)>=s};t.compareWordWithWordsInSentence=(r,i,s)=>r.length<3?!1:i.split(" ").some(n=>n.length<3?!1:o(r,n,s)),t.filterByFirstChar=(r,i)=>r===""||(0,t.extractFirstChar)(i)===r,t.filterByProximity=(r,i)=>{const s=r.trim().toLowerCase();return s.length<3?!0:(0,t.compareWordWithWordsInSentence)(s,i,Ua.MARGEM_DIFERENCA_PALAVRAS)},t.filterByExact=(r,i)=>{const s=r.trim().toLocaleLowerCase(),n=i.trim().toLocaleLowerCase();return s.length<3?!0:n.includes(s)}})(Ei||(Ei={}));var E0;(t=>{t.DescriptionOptionalDTO=ht.object({descricao:ht.string().optional()})})(E0||(E0={}));const aA=t=>ht.object({tipo:ht.nativeEnum(t),valor:ht.number().min(0).optional()}).merge(E0.DescriptionOptionalDTO);var L=(t=>(t.VARIAVEL="Variável",t.PESSOAL="Pessoal",t.TOQUE="Toque",t.METRO="metro",t.QUILOMETRO="quilômetro",t))(L||{});const Jhe=aA(L).extend({isRaio:ht.boolean().optional(),isQuadrado:ht.boolean().optional()}),eve=(t,e=0,a="")=>{const o=Ei.getPlural(e),r=a!==""?` ${a}`:"";return`${e} ${t}${o}${r}`},tve=t=>{if(t.descricao)return t.descricao;if(["Toque","Pessoal","Variável"].includes(t.tipo))return t.tipo;const e=Ei.getPlural(t.valor??0),a=t.isQuadrado?`quadrado${e}`:t.isRaio?"de raio":"";return eve(t.tipo,t.valor,a)};var C=(t=>(t.USO="uso",t.ATIVACAO="ativação",t.VARIAVEL="Variável",t.INSTANTANEA="Instantânea",t.ESPECIAL="Especial",t.RITUAL="Ritual",t.SEGUNDO="segundo",t.RODADA="rodada",t.COMBATE="combate",t.CENA="cena",t.MINUTO="minuto",t.HORA="hora",t.DIA="dia",t.SEMANA="semana",t.MES="mês",t.ANO="ano",t.ANO_E_DIA="1 ano e 1 dia",t.PERMANENTE="Permanente",t))(C||{});const ave=aA(C),ove=t=>{if(t.descricao)return t.descricao;if(["Variável","Instantânea","Especial","Ritual","Permanente"].includes(t.tipo))return t.tipo;const e=Ei.getPlural(t.valor??0);return`${t.valor} ${t.tipo}${e}`};var G=(t=>(t.VARIAVEL="Variável",t.INSTANTANEA="Instantânea",t.RODADA="rodada",t.MINUTO="minuto",t.HORA="hora",t.RITUAL="Ritual",t))(G||{});const rve=aA(G),ive=t=>{if(t.descricao)return t.descricao;if(["Instantânea","Ritual","Variável"].includes(t.tipo))return t.tipo;if(t.valor){const e=Ei.getPlural(t.valor);return`${t.valor} ${t.tipo}${e}`}return t.tipo};var oA={},sve=Ri;Object.defineProperty(oA,"__esModule",{value:!0});var cL=oA.default=void 0,nve=sve(an()),dve=R;cL=oA.default=(0,nve.default)((0,dve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn");const Q_=({valor:t,color:e})=>t&&R.jsxs(qa,{display:"flex",gap:1,children:[R.jsx(cL,{sx:{color:e}}),R.jsx(Wa,{children:t})]}),cve=({custo:t})=>R.jsxs(qa,{display:"flex",gap:3,children:[R.jsx(Wa,{children:"Custo:"}),R.jsx(Q_,{valor:t.ouro,color:"#FFD700"}),R.jsx(Q_,{valor:t.prata,color:"#C0C0C0"}),R.jsx(Q_,{valor:t.cobre,color:"#B87333"})]}),X_=({title:t,valor:e,converter:a})=>e?R.jsxs(qa,{display:"flex",children:[R.jsxs(Wa,{fontWeight:"bold",children:[t,": "]}),e&&R.jsx(Wa,{children:a(e)})]}):null,lL=({item:t})=>R.jsxs(R.Fragment,{children:[t.evocacao&&R.jsx(X_,{title:"Evocação",valor:t.evocacao,converter:ive}),t.alcance&&R.jsx(X_,{title:"Alcance",valor:t.alcance,converter:tve}),t.duracao&&R.jsx(X_,{title:"Duração",valor:t.duracao,converter:ove}),t.custo&&R.jsx(cve,{custo:t.custo})]}),uL=({item:t})=>R.jsx(R.Fragment,{children:Ei.getDescricaoLonga(t).map((e,a)=>R.jsx(Wa,{textAlign:"justify",children:e},`desc_${a+1}`))}),lve=({magia:t})=>{const e=a=>`${t.nome} ${a.nivel}:`;return R.jsx(H1,{children:t.niveis.map(a=>R.jsx(Il,{children:R.jsxs(qa,{display:"flex",flexDirection:"column",gap:1,children:[R.jsx(Wa,{color:"primary",children:e(a)}),R.jsx(lL,{item:a}),R.jsx(uL,{item:a})]})},a.id))})};var rA={},uve=Ri;Object.defineProperty(rA,"__esModule",{value:!0});var mL=rA.default=void 0,mve=uve(an()),pve=R;mL=rA.default=(0,mve.default)((0,pve.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const pL=t=>R.jsx(tV,{disableGutters:!0,elevation:0,square:!0,...t}),fve=({title:t,children:e})=>R.jsxs(pL,{children:[R.jsx(JI,{expandIcon:R.jsx(mL,{color:"primary"}),children:R.jsx(Wa,{variant:"body1",fontWeight:"bold",children:t})}),R.jsx(XI,{children:e})]}),cg={Section:fve,Accordion:pL},hve=ht.object({ouro:ht.number().min(0).optional(),prata:ht.number().min(0).optional(),cobre:ht.number().min(0).optional(),descricao:ht.string().optional()}),fL=ht.object({custo:hve.optional(),alcance:Jhe.optional(),duracao:ave.optional(),evocacao:rve.optional()}),vve=ht.object({nivel:ht.number().min(1)}).merge(rd.IdDTO).merge(fL).merge(E0.DescriptionOptionalDTO),hL=vve.extend({secundario:ht.lazy(()=>hL.optional())});var W=(t=>(t.abrigo="a0",t.adestramento="a1",t.aeroataque="a2",t.aeromanipulacao="a3",t.alucinacao="a4",t.amizade="a5",t.analise="a6",t.animacaoMetalica="a7",t.animacaoVegetal="a8",t.anulacaoMistica="a9",t.apelo="a10",t.aprimorarHabilidades="a11",t.areaDePaz="a12",t.armadilha="a13",t.armadilhaNatural="a14",t.armaduraElemental="a15",t.armaduraNatural="a16",t.arqueirismo="a17",t.assimilacao="a18",t.assombracao="a19",t.ataqueImpetuoso="a20",t.ataqueTermico="a21",t.atoFalho="a22",t.auraAmeacadora="a23",t.auraDivina="a24",t.auraEmocional="a25",t.auraMagica="a26",t.ausencia="a27",t.auxilioIncerto="a28",t.auxilioNatural="a29",t.avaliacao="a30",t.azar="a31",t.barreiraMistica="b0",t.bencao="b1",t.bencaoSelvagem="b2",t.biogerminacao="b3",t.bloqueio="b4",t.boato="b5",t.bolaDeFogo="b6",t.bote="b7",t.bravura="b8",t.cacadaMarcada="c0",t.campoabencoado="c1",t.camuflagem="c2",t.cancaoDoAlento="c3",t.cancaoDoAnimo="c4",t.cancaoDoSono="c5",t.cancaoDoTormento="c6",t.cataclisma="c7",t.chuvaAcida="c8",t.circuloDeProtecao="c9",t.clarividencia="c10",t.cobertura="c11",t.comandoDePaz="c12",t.comunhaoNatural="c13",t.conhecimento="c14",t.conhecimentoLinguistico="c15",t.conhecimentoNatural="c16",t.conjuracaoNatural="c17",t.conjurarObjetos="c18",t.contatosMentais="c19",t.contatosMusicais="c20",t.controle="c21",t.controleClimatico="c22",t.controleMecanico="c23",t.conversaoEnergetica="c24",t.convivencia="c25",t.convocacao="c26",t.convocacaoAnimal="c27",t.coordenacao="c28",t.corrente="c29",t.covardia="c30",t.criacao="c31",t.criptogramaMistico="c32",t.curasEspirituais="c33",t.curasFisicas="c34",t.curasHeroicas="c35",t.dadivasDaGuerra="d0",t.dardosDeGelo="d1",t.degeneracaoFisica="d2",t.desertificacao="d3",t.desintegracao="d4",t.deslocamentoNatural="d5",t.despistamento="d6",t.destrezaAnimal="d7",t.deteccaoDeMagia="d8",t.detectarIntencao="d9",t.distracao="d10",t.doencas="d11",t.dominacaoAnimal="d12",t.dominio="d13",t.dominioMental="d14",t.dominioNatural="d15",t.elementalDaAgua="e0",t.elementalDaTerra="e1",t.elementalDoAr="e2",t.elementalDoFogo="e3",t.eloAnimal="e4",t.eloEmpatico="e5",t.empatia="e6",t.encantamento="e7",t.encolhimento="e8",t.esconjuracao="e9",t.escrita="e10",t.escriturasMisticas="e11",t.escudoMistico="e12",t.escudoProtetor="e13",t.escudoTermico="e14",t.escuridao="e15",t.esplendor="e16",t.esquecimento="e17",t.explosaoMistica="e18",t.fabricacaoDivina="f0",t.faro="f1",t.fascinio="f2",t.feixesIncandescentes="f3",t.fitogenese="f4",t.fogoDivino="f5",t.forcaMutua="f6",t.forcaSagrada="f7",t.forcarDisputa="f8",t.formaDePedra="f9",t.formaFluida="f10",t.garras="g0",t.geoanimacao="g1",t.geomanipulacao="g2",t.geoprotecao="g3",t.habilidadeAnimal="h0",t.herbologia="h1",t.hidromanipulacao="h2",t.hidrotolerancia="h3",t.iconeSagrado="i0",t.identificacao="i1",t.ilusoes="i2",t.imagem="i3",t.intuicao="i4",t.invisibilidade="i5",t.iraDivina="i6",t.lagrimaDeDragao="l0",t.laminaDeLuz="l1",t.leitura="l2",t.leituraDeHabitos="l3",t.leituraLabial="l4",t.lendaViva="l5",t.lendas="l6",t.levitacao="l7",t.libertacao="l8",t.licantropiaLupina="l9",t.linguagem="l10",t.malabarismo="m0",t.maldicoes="m1",t.manipulacaoDeLuz="m2",t.manipularConfianca="m3",t.marcaArcana="m4",t.marcaDaMorte="m5",t.medo="m6",t.memorizacao="m7",t.meteoros="m8",t.mimetismoAnimal="m9",t.modificarEspirito="m10",t.motivacao="m11",t.mutacao="m12",t.mutualidade="m13",t.necroanimacao="n0",t.necroconhecimento="n1",t.necropotencia="n2",t.obstinacao="o0",t.olharDoPredador="o1",t.ondaDestrutiva="o2",t.ondaPsiquica="o3",t.ordens="o4",t.orientacao="o5",t.paralisia="p0",t.peleDeArvore="p1",t.perspicacia="p2",t.pesadelo="p3",t.piromanipulacao="p4",t.piroprotecao="p5",t.planoMistico="p6",t.possessao="p7",t.presencaIntimidadora="p8",t.previsibilidade="p9",t.primor="p10",t.prisao="p11",t.prisaoVegetal="p12",t.projecao="p13",t.projecaoSensorial="p14",t.protecaoAnimal="p15",t.protecaoDivina="p16",t.protecaoMental="p17",t.protecaoNatural="p18",t.protecaoVegetal="p19",t.pseudoconsciencia="p20",t.pseudomateria="p21",t.purificacao="p22",t.putrefacao="p23",t.quebraDeEncantos="q0",t.raioEletrico="r0",t.raizesMisticas="r1",t.rastreamento="r2",t.recuperacaoFisica="r3",t.refletir="r4",t.regeneracao="r5",t.relampagos="r6",t.replicas="r7",t.resistencia="r8",t.resistenciaElemental="r9",t.ressurreicao="r10",t.restauracao="r11",t.retencaoMagica="r12",t.retorno="r13",t.ritualDeSangue="r14",t.ruido="r15",t.runas="r16",t.sacrificio="s0",t.sagracao="s1",t.santuarioNatural="s2",t.seducao="s3",t.sentidoNatural="s4",t.serDeAgua="s5",t.serenidade="s6",t.sextoSentido="s7",t.silencio="s8",t.sono="s9",t.sorte="s10",t.sosia="s11",t.sugestao="s12",t.telecinese="t0",t.tensao="t1",t.terremoto="t2",t.toqueGelido="t3",t.transformacao="t4",t.transformacaoMetalica="t5",t.transmutacao="t6",t.transporteDimensional="t7",t.unidadeNatural="u0",t.velocidade="v0",t.ventriloquismo="v1",t.vigilia="v2",t.vigor="v3",t.vinculo="v4",t.vinculoVital="v5",t.visaoAnimal="v6",t.visaoDeBatalhas="v7",t.visaoDeCena="v8",t.visaoMistica="v9",t.visaoNoturna="v10",t.visaoTermica="v11",t))(W||{});ht.object({extra:ht.string().array().optional(),niveis:hL.array()}).merge(rd.IdDTO).merge(wc.NameDTO).merge(fL).merge(xc.DescriptionDTO);var rx;(t=>{t.lista=[{id:W.abrigo,nome:"Abrigo",descricao:`Essa magia desenvolve um senso de sobrevivência no místico, possibilitando encontrar a melhor forma de se abrigar contra os rigores da natureza. O evocador será direcionado a um local seguro (abrigo) ou saberá a melhor atitude a ser tomada diante das calamidades naturais, mas todas as opções de refúgio devem estar dentro da área de 5 km (alcance da magia).

Por exemplo, caso o místico precise se proteger da noite com um abrigo físico, a magia indicará a direção onde encontrar (pode ser uma caverna, um espaço nas raízes de uma imensa árvore, etc.). Caso não possua abrigos ao alcance da magia, o evocador será informado e a magia fornecerá redução na dificuldade da habilidade Sobrevivência no tocante à construção de um abrigo, além de indicar o local menos provável de ser atacado pela fauna e flora local para construir (copa da árvore ou em cima do monte, por exemplo). O Mestre julgará o ambiente e indicará o local. Para esse efeito, a evocação é de 1 rodada.

Por outro lado, se o evocador, sem o auxílio da magia, encontrar um abrigo físico, esse encanto poderá ser usado para identificar se é seguro. A resposta virá na forma de um pressentimento e basta usar o nível de acordo com a quantidade de pessoas que o abrigo encontrado suporta. Por exemplo:

- encontrou um abrigo para até 3 pessoas: usa o nível 1.
- encontrou um abrigo até 6 pessoas ou 3 pessoas e suas montarias: usa o nível 5
- encontrou um abrigo que comporta até 10 pessoas ou 5 pessoas e suas montarias, ou mais (limitado a uma área de 20m de raio): usa o nível 9.

Mas se o evocador estiver perdido em uma tempestade de areia, por exemplo, a magia indicará a melhor atitude a ser tomada (ex.: “fique deitado” ou “corra para trás”). A mensagem virá na forma da percepção do evocador por ter analisado a situação, e o nível da magia informará a quantidade de palavras que contém a mensagem (o Mestre deve ter em mente a melhor opção para sobreviver). É preciso deixar claro que a resposta não isenta dano, doença, etc., mas será a melhor escolha que reduzirá ao máximo as consequências. Para esse efeito, a evocação é instantânea.

A partir do quinto nível, a magia tornará o abrigo camuflado, mais difícil de ser detectado. A quantidade de pessoas que pode ser abrigada varia com a dificuldade do feitiço. Este encanto pode ser usado apenas em Ambiente Natural e precisa escolher um efeito na hora de lançar a magia.
`,evocacao:{tipo:G.VARIAVEL},alcance:{tipo:L.QUILOMETRO,valor:5},duracao:{tipo:C.USO,valor:1},niveis:[{id:"0",nivel:1,descricao:"Encontra um abrigo capaz de proteger até 3 pessoas (caso não possua abrigo ao alcance da magia, reduz em 1 nível a dificuldade da habilidade sobrevivência para construir um abrigo) ou o evocador receberá uma mensagem de até 2 palavras com a melhor atitude a ser tomada."},{id:"1",nivel:3,descricao:"Idem ao anterior, mas abriga até 4 pessoas ou 2 pessoas e suas montarias (reduz 2 níveis) ou recebe uma mensagem de até 3 palavras."},{id:"2",nivel:5,descricao:"Idem ao anterior, mas abriga até 6 pessoas ou 3 pessoas e suas montarias (reduz 3 níveis) ou recebe uma mensagem de até 4 palavras. A partir desse nível, o encanto camuflará o abrigo, o que torna mais difícil de ser encontrado, aumentando em 1 nível a dificuldade na habilidade Usar o Sentidos e/ou Seguir Trilhas para quem tentar detectá-lo."},{id:"3",nivel:7,descricao:"Idem ao anterior, mas abriga até 8 pessoas ou 4 pessoas e suas montarias (reduz 4 níveis) ou sabe automaticamente a melhor atitude a ser tomada. Aumenta em 2 níveis para detectar."},{id:"4",nivel:9,descricao:"Idem ao anterior, mas abriga até 10 pessoas ou 5 pessoas e suas montarias (reduz 5 níveis) ou sabe automaticamente a melhor atitude a ser tomada e essa atitude o livrará de sofrer dano. Aumenta em 3 níveis para detectar."}],extra:["Os abrigos encontrados serão seguros e sem perigos. Ou seja, protegerá dos perigos ambientais (chuvas, sol, terremotos, etc.) e não a ameaças naturais em seu interior (ursos, orcos, aranhas, etc.). Caso algum inimigo o encontre, não oferecerá proteção extra. Como também não identifica perigo sobrenatural."]},{id:W.adestramento,nome:"Adestramento",niveis:[{id:"0",nivel:1,descricao:"Com este efeito pode-se ensinar um truque básico (correr, buscar objetos, saltar, sentar etc) a animais domésticos, é possível usar um animal , desde que forte o suficiente, como montaria."},{id:"1",nivel:3,descricao:"Idem ao anterior, mas permite ensinar 2 truques que agora podem ser mais complexos (levar objetos de um canto a outro, emitir som caso algo aconteça, etc) ou executar manobras montadas como saltar obstáculos e correr em grande velocidade. Além disso, pode-se ensinar truques simples a animais Selvagens."},{id:"2",nivel:5,descricao:"Com este efeito é possível ensinar 3 truques complexos a animais Selvagens e adestrar animais Predadores para que realizam tarefas básicas. É possível usar um Animal Selvagem, desde que forte o suficiente, como montaria."},{id:"3",nivel:7,descricao:"Com este efeito, o evocador será capaz de adestrar animais Predadores para que realizem tarefas mais complexas (igual ao do efeito 3) e treinar criaturas Místicas para tarefas mais simples (igual ao efeito 1). É possível usar um Animal Predador, desde que forte o suficiente, como montaria."},{id:"4",nivel:9,descricao:"Com este efeito, o evocador pode adestrar um animal Místico para realizar tarefas complexas (igual ao efeito 3). É possível usar um Animal Místico, desde que forte o suficiente, como montaria."}],alcance:{tipo:L.TOQUE},duracao:{tipo:C.DIA,valor:1},evocacao:{valor:10,tipo:G.MINUTO},descricao:`Através deste encanto, o evocador cria uma ligação mágica temporária com uma criatura de intelecto irracional e consegue plantar um certo conhecimento/habilidade em sua mente. A complexidade do “truque” depende do nível da magia.

A criatura alvo deve ser tocada para que a magia seja evocada. Em tese, qualquer criatura irracional pode ser adestrada, porém encantar um cavalo domesticado, ou um cão doméstico é bem mais fácil que um cervo selvagem ou um lobo feroz. A criatura pode resistir à magia, se bem sucedida, não será adestrada. A criatura fica imune a novas tentativas de adestramento do mesmo evocador até o próximo dia. A critério do mestre a criatura pode não resistir à magia.

Os “truques” ensinados não devem ser suicidas, como ensinar macacos a pular do penhasco de forma consciente, o encanto será imediatamente quebrado, mas “adestrar” um rinoceronte para servir de montaria numa batalha é viável. O adestramento deve ser descrito com exatidão no momento da evocação. O animal adestrado será no mínimo amistoso ao evocador, mas sempre será obediente.

A magia adestramento não torna a criatura servil ao evocador. Um tigre selvagem se permitiria montar pelo evocador e obedeceria seus comandos quando montado, conforme seu treinamento, mas ainda atacaria o mesmo evocador se ele estivesse caído a sua frente pois este é seu instinto. Para criar uma relação de fidelidade ou servidão seria necessário convivência, uso de habilidade ou de outra magia.

Para esta magia, divide-se os animais nas seguintes categorias.

Domésticos: Animais acostumados a viver entre as raças inteligentes. Ex.: Cães, gatos, cavalos, galinhas, falcões, cabras.
Selvagens: Versões selvagens dos animais domésticos. Ex.: Cavalos Selvagens, cabras das Montanhas, Perus Selvagens.
Predadores: São animais que em condições normais seriam predadores ou pelo menos hostis ao evocador. Ex.: Búfalos selvagens, Leões, Tigres, Águias, Gorilas.
Místicos: São animais de natureza mágica que possuem uma resistência maior à magia. Ex.: Mantícoras, Hipogrifos, Pégasus.

O Mestre deve usar o bom senso para julgar se o animal possui “inteligência” para executar a tarefa/truque.
    `},{id:W.aeroataque,nome:"Aeroataque",niveis:[{id:"0",nivel:1,descricao:"Carrega até 20 kg, é preciso Força -1 para se segurar e derruba até 60 kg, não afetando criaturas e objetos a partir daí."},{id:"1",nivel:3,descricao:"Carrega até 40 kg, é preciso Força 0 para se segurar e derruba até 120 kg, não afetando criaturas e objetos a partir daí."},{id:"2",nivel:5,descricao:"Carrega até 60 kg, é preciso Força 1 para se segurar e derruba até 180 kg, não afetando criaturas e objetos a partir daí."},{id:"3",nivel:7,descricao:"Carrega até 90 kg, é preciso Força 2 para se segurar e derruba até 270 kg, não afetando criaturas e objetos a partir daí."},{id:"4",nivel:10,descricao:"Carrega até 150 kg, é preciso Força 3 para se segurar e derruba até 450 kg, não afetando criaturas e objetos a partir daí."}],alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.RODADA,valor:1},evocacao:{tipo:G.INSTANTANEA},descricao:`Cria ventanias de grande força, mas pouca precisão (para precisão, veja o encanto Aeromanipulação). Os fortes ventos criados têm a capacidade de carregar, derrubar e/ou arrastar criaturas e objetos até certo peso.

O vento se desloca na direção que o evocador apontar, na forma de uma faixa de 3 metros de largura, começando no místico e chegando até o alcance máximo. Para se tentar afetar alguém com este vento é preciso primeiro se obter um resultado de 50% ou mais em um ataque físico.

Criaturas e objetos que estejam na área de efeito se enquadram em 3 categorias: aqueles que podem ser carregados, aqueles que podem ser derrubados e os que não podem ser afetados. A categoria a qual um objeto ou criatura pertence é determinada pelo seu peso e pela Dificuldade do Efeito que está sendo usado contra ele(a).

A força do vento tem a capacidade de carregar coisas de peso relativamente pequeno, a não ser que haja um ponto de apoio fixo e força para se segurar. Criaturas nesta categoria que consigam se segurar não poderão fazer nenhuma ação enquanto este feitiço estiver em operação (isto é, além de se agarrar ao seu apoio). Objetos que estejam firmemente presos (por exemplo, cimentados ao chão) não são afetados.

Objetos e criaturas que sejam carregados são arremessados cerca de 15 metros para trás e, no caso das criaturas, precisam gastar duas rodadas se recuperando e levantando. Caso haja uma superfície sólida na trajetória da queda de 15 metros citada acima (por exemplo, uma parede) o objeto ou criatura é tratado como se tivesse caído de 7 metros de altura. O Mestre do Jogo saberá como cuidar disto.

Os que possuem um peso intermediário não podem ser carregados, embora possam ser derrubadas, não sofrendo nenhum dano (mas sendo levados para trás cerca de 3 metros) e, no caso das criaturas, as mesmas devem gastar uma rodada se recuperando e se levantando. Caso encontrem um ponto de apoio, elas não são derrubadas, mas não podem avançar contra o vento enquanto o feitiço estiver em ação.

Seres que possuam uma grande massa não serão afetados por este encanto, não sofrendo qualquer efeito prático.
    `},{id:W.aeromanipulacao,nome:"Aeromanipulação",niveis:[{id:"0",descricao:"Permite dar formas especificas a gases dentro da área de efeito.",nivel:1},{id:"1",descricao:"Forma uma barreira de vento em volta do evocador que impede ataques com projeteis não mágicos e dá penalidade -2 em combates corpo a corpo, afetando inclusive o evocador caso este queira atacar ultrapassando a barreira de vento com armas de mão. Entretanto os ataques mágicos a distância não recebem qualquer penalidade.",nivel:3},{id:"2",descricao:"Cria fortes ventos saindo do evocador em todas as direções. A força dos ventos repele objetos e criaturas como explicado na descrição da magia. Além disso, a força do vento impede ataques com projeteis não mágicos e concede um ajuste de -5 para todos os outros ataques que exijam proximidade, mágicos ou não (ex: tanto a espada mágica quanto a espada comum sofrerão a penalidade de -5 pontos}, observa-se que esta penalidade se aplicará inclusive aos seus aliados, entretanto inaplicáveis ao evocador.",nivel:5},{id:"3",descricao:"Cria fortes ventos saindo a partir de um circulo de 6 metros de raio do evocador. A força dos ventos repele objetos e criaturas como explicado na descrição da magia. Além disso, a força do vento impede ataques com projeteis não mágicos e concede um ajuste de -5 para todos os outros ataques, mágicos ou não, observa-se que os aliados do evocador não serão afetados caso estejam dentro do raio de proteção da magia.",nivel:7},{id:"4",descricao:"Permite que o evocador use o vento para carregar, manipular e lançar objetos como forma de atacar o oponente. Este efeito tem grande precisão e permite que o evocador manipule até 4 objetos de até 2 quilos e dano máximo de 8 pontos por objeto atirado",nivel:10}],descricao:`A magia Aeromanipulação permite o controle de substâncias gasosas que estejam a uma distância do evocador menor do que o alcance do feitiço.

Este encanto pode ser usado para criar ventos dentro da área de efeito, podendo estes sair desta área. Neste caso, eles perderão a força gradualmente até pararem totalmente (da mesma forma que o vento causado por um ventilador diminui gradualmente, até parar). Além disso, o evocador perderá o controle sobre eles se estiverem além do Alcance.

A força do vento permanece relativamente constante em todos os efeitos deste encanto. Um controle cada vez maior sobre o vento permite que o evocador crie uma série de efeitos muito interessantes. O vento tem a capacidade de mover até 30 quilogramas e de impedir que objetos ou criaturas que pesem até 100 quilogramas se movam velozmente contra ele (no máximo, se arrastam vagarosamente).`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:30},evocacao:{tipo:G.INSTANTANEA}},{id:W.alucinacao,nome:"Alucinação",niveis:[{id:"0",duracao:{tipo:C.RODADA,valor:3},descricao:"Cria uma alucinação, afetando 1 sentido.",nivel:1},{id:"1",duracao:{tipo:C.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 1 sentido.",nivel:2},{id:"2",duracao:{tipo:C.RODADA,valor:3},descricao:"Cria uma alucinação, afetando 2 sentidos.",nivel:4},{id:"3",duracao:{tipo:C.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 2 sentidos.",nivel:5},{id:"4",duracao:{tipo:C.RODADA,valor:3},descricao:"Cria uma alucinação, afetando 3 sentidos.",nivel:6},{id:"5",duracao:{tipo:C.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 3 sentidos.",nivel:7},{id:"6",duracao:{tipo:C.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 4 sentidos.",nivel:8},{id:"7",duracao:{tipo:C.RODADA,valor:8},descricao:"Cria uma alucinação, afetando 4 sentidos.",nivel:9},{id:"8",duracao:{tipo:C.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 5 sentidos.",nivel:10}],descricao:`Esta magia afeta um ou mais sentidos de uma pessoa, fazendo com que ela sofra uma alucinação por algum tempo caso falhe na sua Resistência à Magia. A duração da alucinação e o número de sentidos afetados (tato, audição, visão, etc) dependem da dificuldade do efeito usado.

Caso a vítima deste feitiço obtenha sucesso em sua Resistência à Magia ela não sofrerá nenhum efeito. Algumas vezes as alucinações causadas podem dar chance a vitima de perceber que o que ela está sentindo não é normal. Quando isto acontecer, a vítima tem direito a tentar uma Percepção difícil. Caso obtenha sucesso, saberá que não pode confiar em seus sentidos, mas continuará sob o efeito da magia. A evocação deste feitiço é muito discreta e, por isto, não pode ser percebida normalmente.

A alucinação pode afetar o(s) sentido(s) escolhido(s) pelo evocador e tomará qualquer forma escolhida pelo mesmo, o evocador deverá apenas escolher o que ele deseja que a vítima perceba. Caso a vítima tenha falhado na sua Resistência à Magia, ela perceberá apenas aquilo que o evocador deseja que ela perceba.

Enquanto a magia permanecer em operação, o evocador pode mudar o que ele deseja que os sentidos da vítima captem, desde que a vítima esteja dentro do alcance da magia e no campo de visão do evocador. Caso este se afaste da vítima além do alcance do feitiço ou perca a vítima de vista, esta continua percebendo (ou não percebendo) o que o evocador determinou até o fim da duração.

O evocador pode desejar, por exemplo, que a vítima veja um terreno plano no lugar do abismo que se encontra à sua frente, que seus amigos são monstros, que não veja nem ouça o evocador e seu grupo passarem à sua frente, etc.

Note que, como este encanto afeta a mente da vítima e não ondas de luz, etc, apenas a vítima perceberá a alucinação, devendo agir conforme as informações que lhe chegam.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.amizade,nome:"Amizade",niveis:[{id:"0",duracao:{tipo:C.ESPECIAL,descricao:"Até o favor ser feito"},descricao:"Torna uma criatura inteligente mais simpática em relação ao evocador. Este pode pedir um pequeno favor à vítima, desde que seja algo razoável.",nivel:1},{id:"1",duracao:{tipo:C.HORA,valor:1},descricao:"A vítima passa a considerar o evocador um bom amigo e atenderá seus desejos, desde que não contrariem sua índole, seus deveres ou o prejudiquem muito.",nivel:2},{id:"2",duracao:{tipo:C.HORA,valor:1},descricao:"Idem ao anterior, mas a vítima pode fazer algo que a prejudique (mas não a mate).",nivel:4},{id:"3",duracao:{tipo:C.SEMANA,valor:1},descricao:"Idem ao anterior.",nivel:6},{id:"4",duracao:{tipo:C.SEMANA,valor:1},descricao:"Idem ao anterior, mas a vítima desprezará seus deveres para ajudar o evocador.",nivel:8},{id:"5",duracao:{tipo:C.MES,valor:1},descricao:"Idem ao anterior.",nivel:10}],descricao:`Esse encanto torna a vítima mais receptiva a idéias do evocador, caso ela falhe em sua Resistência à Magia.

Conforme o poder do efeito, mais subserviente se torna a vítima, até o ponto em que sua personalidade se anula. Muitas vezes se falará sobre a índole do alvo da magia. Esta pode ser definida como o padrão de conduta. Fora da sua índole está tudo aquilo que ele não faria nem por um amigo. Se o evocador pedir a uma vítima desta magia, que roube algo ou mate alguém, ela somente atenderá o pedido se isso não contrariar sua índole. Sendo assim, mesmo que uma vítima que tenha boa índole considere o evocador como seu melhor amigo jamais matará alguém ou fará algo muito grave pelo evocador. Isso porque sua índole não permite fazer essas coisas nem mesmo por seu melhor amigo.

Note que ao final do efeito a vítima se lembrará de tudo que fez e sentiu, por isso, existirão situações em que a vítima poderá perceber que foi enfeitiçada. Para perceber basta realizar um teste de percepção com nível de dificuldade determinado pelo mestre do jogo de acordo com a situação. Considera-se que quanto mais incomum for o comportamento da vítima durante o tempo em que esteve enfeitiçada, mais fácil será o teste para saber se foi enfeitiçada.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.analise,nome:"Análise",niveis:[{id:"0",descricao:`Analisa propriedades mágicas de nível 1.

Magias de nível 1; focus +2; absorção +1.`,nivel:1},{id:"1",descricao:`Analisa propriedades mágicas de nível máximo 2.

Magias de nível 2; focus +4; absorção +2; armas +1.`,nivel:2},{id:"2",descricao:`Analisa propriedades mágicas de nível máximo 3.

Magias de nível 3; focus +6; absorção +3; defesa +1.`,nivel:3},{id:"3",descricao:`Analisa propriedades mágicas de nível máximo 4.

Magias de nível 4; focus +8; absorção +4; armas +2.`,nivel:4},{id:"4",descricao:`Analisa propriedades mágicas de nível máximo 5.

Magias de nível 5; focus +10; absorção +5.`,nivel:5},{id:"5",descricao:`Analisa propriedades mágicas de nível máximo 6.

Magias de nível 6; focus +12; absorção +6; armas +3; defesa +2.`,nivel:6},{id:"6",descricao:`Analisa propriedades mágicas de nível máximo 7.

Magias de nível 7; focus +14; absorção +7.`,nivel:7},{id:"7",descricao:`Analisa propriedades mágicas de nível máximo 8.

Magias de nível 8; focus +16; absorção +8; armas +4.`,nivel:8},{id:"8",descricao:`Analisa propriedades mágicas de nível máximo 9.

Magias de nível 9; focus +18; absorção +9.`,nivel:9},{id:"9",descricao:`Analisa propriedades mágicas de nível máximo 10.

Magias de nível 10; focus +20; absorção +10; armas +5; defesa +3.`,nivel:10}],descricao:`Esta magia permite que o evocador analise a aura de um objeto e descubra as propriedades mágicas que ele possui. Caso o evocador use esta magia em um objeto que não seja mágico, ele descobre imediatamente que o objeto não é mágico (mas ainda assim desperdiça o dinheiro do ritual).

Embora esta magia seja muito útil, ela requer muito treinamento, pois o evocador só é capaz de descobrir propriedades mágicas de poder equivalente ao seu conhecimento em Análise. Para a maioria das propriedades mágicas vale o que está descrito.

Propriedades específicas que não se enquadrem na relação acima como por exemplo os itens descritos no Livro de Artefatos, terão seu nível determinado pelo mestre do jogo.

Caso um item tenha mais de uma propriedade, o evocador deve primeiro descobrir as propriedades de menor nível para depois ser capaz de analisar as de nível mais alto, em uma escala crescente. Sempre se analisa apenas uma propriedade de cada vez.

Após o último poder ser descoberto, a leitura seguinte dirá que não existe mais nenhuma propriedade a ser lida. Note que não há nenhuma maneira de se saber que uma determinada propriedade é a última, a não ser usar novamente o encanto.

Se um ritual de Análise de baixo nível for realizado em um item com propriedades de nível mais alto, o evocador não será capaz de descobrir a propriedade, mas saberá qual nível deve ser usado, se possuir o nível necessário. Caso o evocador não possua o nível necessário ele apenas saberá que a análise daquela propriedade está além de suas capacidades.

Este ritual exige o uso de materiais raros, de modo que eles custam 5 moedas de prata por dificuldade do efeito que se deseja usar.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.USO,valor:1},evocacao:{tipo:G.RITUAL}},{id:W.animacaoMetalica,nome:"Animação Metálica",niveis:[{id:"0",custo:{ouro:1},descricao:"Grupo de Armas igual a 1 em uma arma média que cause dano máximo 16, Concede defesa P1 e 10 pontos de EH.",nivel:1},{id:"1",custo:{ouro:2},descricao:"Grupo de Armas igual a 3 em uma arma média que cause dano máximo 20, Concede defesa P1 e 20 pontos de EH.",nivel:2},{id:"2",custo:{ouro:4},descricao:"Grupo de Armas igual a 6 em duas armas médias que causem dano máximo 20, Concede defesa P2 e 30 pontos de EH.",nivel:4},{id:"3",custo:{ouro:6},descricao:"Grupo de Armas igual a 9 em uma arma média que cause 20 de dano e uma arma pesada que cause 20 de dano. Concede defesa P3 e 40 pontos de EH.",nivel:6},{id:"4",custo:{ouro:8},descricao:"Grupo de Armas igual a 12 em uma arma média que cause 20 de dano e uma arma pesada que cause 24 de dano. Concede defesa P4 e 50 pontos de EH.",nivel:8},{id:"5",custo:{ouro:10},descricao:"Grupo de Armas igual a 15 em três armas a escolha do evocador. Concede defesa P5 e 60 pontos de EH.",nivel:10}],descricao:`Com esta magia o mago alquímico é capaz de animar armaduras. Estas devem ser couraças parciais com elmos fechados, de onde ela obterá toda a sua Energia Física.

A armadura, elmo, escudo e/ou arma que compõem o ser animado devem ser virgens, isto é, não podem ter sido utilizados.

Durante o ritual de encantamento, o mago deverá escolher a(s) arma(s) que o ser será capaz de utilizar, de acordo com o nível da magia (o dano da arma utilizada pela armadura não sofre ajuste de força). Após o ritual, a armadura será capaz de utilizar apenas a(s) arma(s) e/ou escudo que foram encantadas com ela no ritual.

Após o ritual de encantamento a armadura se tornará um servo fiel ao evocador, executando qualquer missão desde de que esta não contenha mais de 25 palavras, não envolva qualquer tipo de avaliação por parte da armadura, nem envolva critérios que não possam ser captados pelo sentido da visão ou sejam subjetivos.

As armaduras são imunes a toda e qualquer ilusão ou ataque de origem mental.

Caso a armadura venha a receber algum dano em sua estrutura, este será recuperado a razão de 1 ponto por hora. Caso a EF do ser seja levada à faixa de inconsciência (entre 0 e –15) a armadura cairá, se recompondo normalmente. Se a Energia Física do ser for levada à –16 ou menos, o encanto da animação metálica será desfeito. Um mesmo místico não pode ter mais de 3 armaduras animadas em um mesmo período de tempo.

O nível da magia diz os parâmetros gerais do ser, as armas que ele será capaz de utilizar, seu valor de grupo de armas e o custo do ritual.

* O parâmetro para altura das armaduras animadas será relativo ao dos humanos.

* A resistência à magia do ser será igual ao nível da magia “Animação Metálica” usada para animar a armadura.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.ANO,valor:1},evocacao:{tipo:G.RITUAL}},{id:W.animacaoVegetal,nome:"Animação Vegetal",niveis:[{id:"0",custo:{ouro:1},duracao:{tipo:C.DIA,valor:4},descricao:"Anima uma árvore de Porte menor.",nivel:1},{id:"1",custo:{ouro:3},duracao:{tipo:C.SEMANA,valor:1},descricao:"Anima uma árvore de Pequeno porte.",nivel:3},{id:"2",custo:{ouro:5},duracao:{tipo:C.SEMANA,valor:2},descricao:"Anima uma árvore de Médio porte.",nivel:5},{id:"3",custo:{ouro:7},duracao:{tipo:C.SEMANA,valor:3},descricao:"Anima uma árvore de Médio porte.",nivel:7},{id:"4",custo:{ouro:9},duracao:{tipo:C.MES,valor:1},descricao:"Anima uma árvore de Grande porte.",nivel:9}],descricao:`Este ritual transforma árvores em seres de aparência vagamente humanóide (semelhante a um Enida) sob controle do evocador. Na verdade este ritual transforma árvores comuns em Árvores Animadas (veja os detalhes delas no Livro de Criaturas).

O custo do ritual e o poder da criatura variam com o porte da árvore e a dificuldade do efeito usado. As árvores podem ser classificadas em porte menor (entre 2m e 3m}, pequeno porte (entre 3m e 4m}, médio porte (entre 4m e 5m) e grande porte (entre 5m e 7m). Qualquer árvore que seja de tamanho maior do que as capacidades do nível utilizado não será afetada pelo ritual, o karma e os materiais serão gastos inutilmente. O evocador só pode ter uma Árvore Animada por vez com este ritual.

A árvore animada realizará apenas comandos de baixa complexidade vindos do evocador, tais como "Empurre essa rocha" ou "Ataque aquela criatura". Caso o evocador deseje que a Árvore Animada execute tarefas mais complexas, ele precisará manter a concentração enquanto a controla. Além disso, também é requisito estar a menos de 50m da Árvore, caso contrário o ser ficará imóvel até que as condições necessárias se restabeleçam.

Sacerdotes de Sevides costumam costumam animar árvores para auxilia-los em tarefas da lavoura, das mais leves como espantar pássaros indesejados da plantação, até defender as terras de criaturas invasoras como orcos e goblins. Por outro lado, Magos naturalistas animam árvores para proteção de seus refúgios, alguns deles mudam árvores de local para criar verdadeiras fortalezas e caminhos intransponíveis.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.anulacaoMistica,nome:"Anulação Mística",niveis:[{id:"0",descricao:"Cria uma área de um metro de raio.",nivel:1,evocacao:{tipo:G.INSTANTANEA},duracao:{tipo:C.RODADA,valor:3},alcance:{tipo:L.METRO,valor:1,isRaio:!0}},{id:"1",descricao:"Cria uma área de dois metros de raio.",nivel:3,duracao:{tipo:C.RODADA,valor:5},evocacao:{tipo:G.INSTANTANEA},alcance:{tipo:L.METRO,valor:2,isRaio:!0},secundario:{id:"0",nivel:0,descricao:"Pode ser direcionada para uma pessoa.",evocacao:{tipo:G.INSTANTANEA}}},{id:"2",duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA},alcance:{tipo:L.METRO,valor:4,isRaio:!0},descricao:"Cria uma área de quatro metros de raio.",nivel:5,secundario:{id:"0",nivel:0,descricao:"Pode ser direcionada até duas pessoas com distancia máxima de 10 metros entre os alvos.",alcance:{tipo:L.METRO,valor:10},evocacao:{tipo:G.INSTANTANEA}}},{id:"3",alcance:{tipo:L.METRO,valor:6,isRaio:!0},duracao:{tipo:C.MES,valor:1},evocacao:{tipo:G.RITUAL},descricao:"Cria uma área de seis metros de raio.",nivel:7,secundario:{id:"0",nivel:0,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA},descricao:"Pode ser direcionada até três pessoas com distancia máxima de 15 metros entre os alvos."}},{id:"4",alcance:{tipo:L.METRO,valor:10,isRaio:!0},evocacao:{tipo:G.RITUAL},duracao:{tipo:C.ANO_E_DIA},descricao:"Cria uma área de dez metros de raio.",nivel:9,secundario:{id:"0",nivel:0,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA},descricao:"Pode ser direcionada até três pessoas com distancia máxima de 30 metros entre os alvos."}}],descricao:`Com este milagre, o místico pode criar um campo que impossibilita a utilização de magias de qualquer natureza ou, em seu segundo efeito, direcionar a magia para um alvo específico que terá direito há uma rolagem de Resistência à Magia.

Caso escolha o primeiro efeito – criação de um campo, a área afetada pelo encantamento anula quaisquer magias cujos níveis sejam iguais ou inferiores aos do campo de anulação mística. Assim, se for evocada anulação mística 7, um mago que evoque alguma magia nível 4, gastará seus pontos de karma e não conseguirá nenhum resultado. Caso evoque uma magia nível 8 não terá nenhum empecilho. A única exceção para essa magia é a magia Quebra de Encantos, pois é possível evocar a quebra de encantos com o mesmo nível da magia anulação mística, enquanto qualquer outra magia só terá seu efeito realizado caso o nível seja maior (e não igual) ao do campo. Itens encantados seguem a mesma regra. Se alguém desejar usar um anel com raio elétrico 4, só terá o efeito realizado caso o campo de anulação mística tenha nível menor que 4. A evocação é variável, podendo ser instantânea ou levar a um ritual que custa 2 moedas de ouro.

Se a escolha do usuário for pelo segundo efeito, o(s) alvo(s) terá(ão) direito à Resistência à Magia, caso não passe(m}, ficará(ão) sob efeito do encantamento até que este seja quebrado ou que o efeito passe.

Esse milagre costuma ser muito utilizado em masmorras de castelos, em especial as dos países em que a magia é mais presente como Calco ou Portis. As famosas celas antimágicas são criadas a partir desta magia. Só é possível criar um campo de anulação mística que esteja a uma distância maior do que 20 metros de outra área encantada com esta magia. Caso contrário, a magia falhará.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.apelo,nome:"Apelo",niveis:[{id:"0",descricao:"Conjura temporariamente um enviado menor.",nivel:1},{id:"1",descricao:"Conjura temporariamente um enviado tipo I.",nivel:3},{id:"2",evocacao:{tipo:G.RITUAL},custo:{ouro:10},descricao:"Conjura um enviado menor para servir o evocador até a morte (do enviado ou do evocador).",nivel:4},{id:"3",descricao:"Conjura temporariamente um enviado tipo II",nivel:5},{id:"4",evocacao:{tipo:G.RITUAL},custo:{ouro:30},descricao:"Conjura um enviado tipo I para servir o evocador até a morte (do enviado ou do evocador).",nivel:6},{id:"5",descricao:"Conjura temporariamente um enviado tipo III.",nivel:7},{id:"6",evocacao:{tipo:G.RITUAL},custo:{ouro:50},descricao:"Conjura um enviado tipo II para servir o evocador até a morte (do enviado ou do evocador).",nivel:9}],descricao:`Com esse milagre, o sacerdote pede ajuda ao seu deus, que responde mandando enviados para solucionar seus problemas ou ajudá-lo em suas funções.

O ser conjurado permanece com o evocador por 30 rodadas, normalmente. Os efeitos Apelo 4, 6 e 9 são rituais que fazem com que o enviado fique permanentemente ajudando o sacerdote. Apenas uma dessas criaturas pode ficar permanentemente com o sacerdote. A conjuração temporária tem evocação de uma rodada e a permanente é ritual.

Esta magia não deverá ser evocada levianamente, apenas em caso de necessidade real. Caso seja evocada em uma situação que não seja de extrema necessidade ou se for evocado por um motivo efêmero e/ou mundano, a magia falhará e o sacerdote será punido pelo seu deus, o que normalmente implicará na perda de seus poderes, ou mesmo por alguma maldição (o Mestre deverá decidir a melhor forma de punir o sacerdote).

Caso o enviado morra ou a duração chegue ao fim, ele desaparece, voltando para junto de seu o deus.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.aprimorarHabilidades,nome:"Aprimorar Habilidades",niveis:[{id:"0",duracao:{tipo:C.USO,valor:1},descricao:"Bônus ou Redução de 1 Nível em um rolamento.",nivel:1},{id:"1",duracao:{tipo:C.USO,valor:1},descricao:"Bônus ou Redução de 2 Níveis em um rolamento.",nivel:3},{id:"2",duracao:{tipo:C.USO,valor:2},descricao:"Bônus ou Redução de 2 Níveis em um rolamento.",nivel:5},{id:"3",duracao:{tipo:C.USO,valor:3},descricao:"Bônus ou Redução de 2 Níveis em um rolamento.",nivel:7},{id:"4",duracao:{tipo:C.USO,valor:3},descricao:"Idem ao anterior, mas agora um dos usos pode transformar um rolamento Impossível em Absurdo (Cinza).",nivel:9}],descricao:"Ao adquirir pelo menos 1 nível neste encanto, o evocador terá de escolher até 3 habilidades e ao adentrar em uma especialização, este poderá escolher mais 5 novas habilidades. As habilidades que podem ser escolhidas são: Acrobacias, Ações Furtivas, Aplicar Esforço, Carpintaria, Corrida, Escalar Superfícies, Escapar, Lidar com Animais, Manusear Armadilhas, Medicina, Montar Animais, Natação, Navegação, Seguir Trilhas, Sobrevivência, Trabalhos Manuais, Usar Sentidos e Venefício. Somente as habilidades escolhidas terão seus níveis de dificuldade diminuídos de acordo com os efeitos abaixo; uma vez escolhida a habilidade não é mais possível trocá-la. Note que, caso o místico não possua nível na habilidade que tenha escolhido, este encanto não poderá ser utilizado.",extra:["Este feitiço pode ser evocado em conjunto ao uso de uma habilidade, caso seja evocado desta maneira não gastará a ação da rodada, mas gastará 1 uso automaticamente. O encanto irá entrar em colapso se: todos os usos forem gastos, se o a duração máxima for alcançada ou se for evocado novamente. Neste último caso, o efeito mais recente torna-se o vigente. É importante ressaltar que com exceção do efeito 9, esta magia não reduz o nível de dificuldade se ela for Impossível."],alcance:{tipo:L.PESSOAL},duracao:{tipo:C.USO,descricao:"Uso(s) ou 12 horas"},evocacao:{tipo:G.INSTANTANEA}},{id:W.areaDePaz,nome:"Área de Paz",niveis:[{id:"0",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:3},descricao:"A área de paz restringe-se apenas ao sacerdote.",nivel:1},{id:"1",duracao:{tipo:C.RODADA,valor:5},alcance:{tipo:L.METRO,valor:2,isRaio:!0},descricao:"A área de paz é de 2 metros de raio.",nivel:2},{id:"2",duracao:{tipo:C.RODADA,valor:10},alcance:{tipo:L.METRO,valor:4,isRaio:!0},descricao:"A área de paz é de 4 metros de raio.",nivel:4},{id:"3",duracao:{tipo:C.HORA,valor:1},alcance:{tipo:L.METRO,valor:10,isRaio:!0},descricao:"A área de paz é de 10 metros de raios.",nivel:6},{id:"4",duracao:{tipo:C.DIA,valor:1},alcance:{tipo:L.METRO,valor:10,isRaio:!0},descricao:"A área de paz é de 10 metros de raios.",nivel:8},{id:"5",duracao:{tipo:C.ANO_E_DIA},alcance:{tipo:L.VARIAVEL},descricao:"Neste nível, o sacerdote pode criar uma área de paz. Para tal, o sacerdote deverá fazer um ritual cujos sacrifícios valem 5 m.o para cada metro de raio que se deseje formar a área, sendo que no máximo a área poderá atingir 10 metros de raio. Milagre muito utilizado nos templos de Selimom (os maiores, que podem arcar com os custos do ritual).",nivel:10}],descricao:`Com este milagre, o sacerdote de Selimom cria ao seu redor uma área pacífica que repudia todo aquele que possui desejos violentos contra aqueles presentes na área. Na prática, qualquer um que tente atacar qualquer pessoa na área deverá fazer uma Resistência à Magia. Caso resista, poderá atacar normalmente, mas deverá fazer uma resistência à magia por rodada.

A área da magia é alterada de acordo com o nível e o sacerdote pode escolher entre colocar a área móvel consigo ou fixá-la formando um círculo imóvel, ambas as opções tem como centro o próprio sacerdote no instante da evocação do milagre.`,extra:["Esse milagre evita que qualquer um ataque pessoas dentro da área, inclusive ataques à distância como arco e flecha e magias como bola de fogo e raio elétrico. Entretanto, se qualquer pessoa protegida pelo milagre atacar ou realizar qualquer encanto, a área de paz é desfeita automaticamente."],alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.armadilha,nome:"Armadilha",niveis:[{id:"0",duracao:{tipo:C.DIA,valor:10},descricao:"Armazena até 3 pontos de Karma.",nivel:1},{id:"1",duracao:{tipo:C.DIA,valor:20},descricao:"Armazena até 6 pontos de Karma.",nivel:2},{id:"2",duracao:{tipo:C.MES,valor:1},descricao:"Armazena até 9 pontos de Karma.",nivel:3},{id:"3",duracao:{tipo:C.MES,valor:2},descricao:"Armazena até 9 pontos de Karma.",nivel:4},{id:"4",duracao:{tipo:C.MES,valor:5},descricao:"Armazena até 12 pontos de Karma.",nivel:6},{id:"5",duracao:{tipo:C.ANO_E_DIA},descricao:"Armazena até 21 pontos de Karma.",nivel:8},{id:"6",duracao:{tipo:C.PERMANENTE},descricao:"Armazena até 30 pontos de Karma.",nivel:10}],descricao:`Este encanto permite que uma ilusão seja armazenada em um local para ser liberada de acordo com uma determinada condição especificada no momento de sua evocação. O tempo que uma ilusão permanece válida após ser armazenada e a perfeição da magia que pode ser armazenada dependem da dificuldade do efeito usado pelo evocador.

Esta magia é evocada no local onde a ilusão que se deseja armazenar deve ficar (obrigatoriamente um local imóvel). Na rodada seguinte ao final da evocação deste encantamento a ilusão que se deseja armazenar deve ser evocada pelo mesmo místico que evocou a magia Armadilha. Ao final da evocação da ilusão, a condição na qual a mesma será disparada deve ser estabelecida. Esta condição é uma frase de 15 palavras ou menos. Quaisquer características que possam ser captadas pelos sentidos humanos da visão e da audição podem ser usadas, mas critérios subjetivos não são válidos.

Assim, a condição "dispare quando um orco de elmo preto entrar nesta sala e falar a palavra grokk" é válida, mas "dispare quando um homem feio entrar nesta sala" não é, pois envolve um critério subjetivo (beleza). Do mesmo modo, "dispare quando uma elfa com cheiro de flores entrar na sala" também não é válido, pois envolve um sentido que não é visão ou audição. Caso uma condição inadequada seja usada, a ilusão dispara imediatamente contra o evocador (além disso, é óbvio, do dinheiro do ritual ser perdido).

O tempo que uma magia fica armazenada e o número máximo de pontos de Karma que podem ser colocados nela dependem da dificuldade do efeito usado. Note que o número máximo de pontos de Karma inclui todos os pontos usados em uma evocação conjunta.

Quando a duração se esgota, a magia armazenada se dissipa sem efeito. Quando a Armadilha é disparada, a magia preparada se realiza e o encanto se dissipa, a não ser que o efeito de Armadilha usado tenha duração permanente. Neste caso, após a magia armazenada ser disparada o efeito fica sem atuar por 24 horas. Após este tempo a Armadilha volta a atuar normalmente.

Finalmente, este encanto não pode ser evocado a menos de 10 metros do local onde outra magia Armadilha está colocada. Caso isto aconteça, ambas as magias se dissolvem imediatamente sem fazer efeito. Os materiais usados para a evocação custam 1 moeda de ouro por Dificuldade do efeito usado. Ou seja, evocar o efeito Armadilha 3 custa 3 moedas de ouro.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.armadilhaNatural,nome:"Armadilha Natural",niveis:[{id:"0",duracao:{tipo:C.HORA,valor:24},alcance:{tipo:L.METRO,valor:3,isRaio:!0},descricao:"A natureza auxilia o evocador fazendo uma armadilha que causa 12 pontos de dano à vítima.",nivel:1},{id:"1",duracao:{tipo:C.SEMANA,valor:1},alcance:{tipo:L.METRO,valor:5,isRaio:!0},descricao:"Idem ao anterior, porém causa 18 pontos de dano na vítima, que permanece atordoada por 5 minutos, além disso recebendo -1 em suas ações por 1 dia.",nivel:3},{id:"2",duracao:{tipo:C.SEMANA,valor:2},alcance:{tipo:L.METRO,valor:7,isRaio:!0},descricao:"Idem ao anterior, porém causa 22 pontos de dano na vítima, que permanece desmaiada por 10 minutos, além disso recebendo -2 em suas ações por 1 dia.",nivel:5},{id:"3",duracao:{tipo:C.SEMANA,valor:3},alcance:{tipo:L.METRO,valor:9,isRaio:!0},descricao:"Idem ao anterior, porém causa 26 pontos de dano na vítima, que fica presa na armadilha e atordoada por 30 minutos, além disso recebendo -4 em suas ações por 1 dia.",nivel:7},{id:"4",duracao:{tipo:C.MES,valor:1},alcance:{tipo:L.METRO,valor:12,isRaio:!0},descricao:"Idem ao anterior, porém causa 30 pontos de dano na vítima, que fica presa na armadilha desmaiada por 1 hora, além disso recebendo -8 em suas ações por 2 dias.",nivel:9}],descricao:`Com esta esta magia o evocador pede auxílio para a natureza para criar uma armadilha natural. A magia tem dependência de habitat, pois os efeitos são naturais: um galho cai na vítima, uma cobra pica a vítima, a vítima pisa em um espinho venenoso ou cai em um buraco, etc... o efeito é uma ajuda da natureza, como se o ambiente ajudasse o evocador. O dano é causado à vítima como um ataque mágico: nível da magia + aura para coluna e o dano é fracionado normalmente como em um ataque 25% 50% 75% 100%. As debilitações entram caso a vítima receba 50% de dano da armadilha ou mais, caso contrário só recebera o dano.

No efeito em que a vítima fica presa, ela poderá fazer um teste usando a habilidade mais pertinente para o momento a critério do mestre com dificuldade difícil. Exemplo: se cair em um buraco profundo, poderá tentar Escalar Superfícies, um galho grande caiu em cima da vítima ele pode Aplicar Esforço para retirar, uma rede prende a vítima fazendo assim usar Escapar e etc...

O evocador só pode manter até 3 armadilhas mágicas ao mesmo tempo. Caso faça uma quarta armadilha, a primeira será quebrada e assim por diante. Enquanto a armadilha durar, o evocador sentirá quando a armadilha for disparada de onde ele estiver. A armadilha só pode ser detectada através da magia detecção de magias.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:10}},{id:W.armaduraElemental,nome:"Armadura Elemental",niveis:[{id:"0",descricao:"Absorve 6 de dano.",nivel:1},{id:"1",descricao:"Absorve 12 de dano.",nivel:3},{id:"2",descricao:"Absorve 20 de dano.",nivel:6},{id:"3",descricao:"Absorve 30 de dano.",nivel:8},{id:"4",descricao:"Absorve 40 de dano.",nivel:10}],descricao:`Com o uso deste encantamento o evocador forma em torno de si um campo de energia mágica que o protege de ataques de elementos naturais como fogo, gelo, eletricidade, etc. Esta magia pode ser usada fora de Ambiente Natural sem nenhum problema.

Este feitiço pode absorver certa quantidade de dano feito por ataques elementais antes de ser dissipada. A quantidade de dano que pode ser absorvida antes do feitiço entrar em colapso é determinada pela dificuldade do efeito usado como explicado abaixo. Caso a duração do feitiço se esgote, a armadura se desfaz e os pontos restantes de absorção são perdidos.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:15},evocacao:{tipo:G.INSTANTANEA}},{id:W.armaduraNatural,nome:"Armadura Natural",niveis:[{id:"0",descricao:"Absorve 6 pontos de dano.",nivel:1},{id:"1",descricao:"Absorve 12 pontos de dano.",nivel:2},{id:"2",descricao:"Absorve 18 pontos de dano.",nivel:4},{id:"3",descricao:"Absorve 24 pontos de dano.",nivel:6},{id:"4",descricao:"Absorve 30 pontos de dano.",nivel:8},{id:"5",descricao:"Absorve 36 pontos de dano.",nivel:10}],descricao:`Com o uso deste encantamento, o evocador forma em torno de si um campo de energia que o protege de ataques de origem natural.

Este feitiço pode absorver certa quantidade de dano feito por magias que utilizem a força da natureza e que causem dano direto (Chuva Ácida, Feixes Incandescentes, Relâmpagos, etc.}, parando então de funcionar.

A quantidade de dano que pode ser absorvida antes do feitiço entrar em colapso é determinada pela dificuldade do efeito usado, como explicado abaixo. Caso a duração do feitiço se esgote, a armadura se desfaz e os pontos restantes de absorção são perdidos.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.MINUTO,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.arqueirismo,nome:"Arqueirismo",niveis:[{id:"0",duracao:{tipo:C.USO,valor:1},descricao:"O tiro nunca erra o alvo (verde e branco viram amarelo) quando usada em situação fora de combate e o evocador possa se concentrar por pelo menos uma rodada.",nivel:1},{id:"1",duracao:{tipo:C.USO,valor:1},descricao:"Semelhante ao anterior, mas pode ser usada para fazer um ataque de surpresa parcial (antes de um combate ser iniciado) o que permite se usar a técnica de Ataque Oportuno, mas é necessário se concentrar por duas rodadas.",nivel:3,secundario:{id:"0",nivel:0,duracao:{tipo:C.RODADA,valor:3},descricao:"Além disto, há a opção de usar durante um combate, caso obtenha um dano no físico ou 100% na EH o oponente é desarmado ou o que estiver segurando com uma das mãos é deixado cair. O evocador pode escolher qual das mãos ele deseja afetar."}},{id:"2",duracao:{tipo:C.RODADA,valor:3,descricao:"3 rodadas, mas a penalidade -2 e o efeito da perda de EF dura até a flecha ser retirada (que gasta pelo menos uma ação de combate)"},descricao:"Durante um combate, caso obtenha um dano no físico, o evocador encrava a flecha no corpo do oponente, que causará -2 de penalidade em ações (combate e habilidades) que exijam movimentação. O oponente passa a perder 1 ponto de EF por rodada.",nivel:5},{id:"3",duracao:{tipo:C.RODADA,valor:5},descricao:"O jogador faz 2 ataques (com o arco) na rodada. Os 2 ataques são normais, mas o dano do segundo terá um de redutor de 25% no dano. Para o segundo ataque, que possui o redutor de 25% no dano, caso erre o alvo (branco) este não vira falha (verde).",nivel:7},{id:"4",duracao:{tipo:C.RODADA,valor:5},descricao:"O jogador pode optar em causar o dobro do dano quando um crítico é obtido. Deve-se fazer o rolamento do crítico para saber o dano obtido, mas os efeitos especiais não devem ser contados. Este efeito deve ser usado antes de se fazer o rolamento que indica o dano do efeito crítico.",nivel:9}],descricao:`Esta magia aumenta a habilidade com arco e flecha do evocador, concedendo bônus e efeitos especiais. Esta magia deve ser evocada no início de uma rodada, antes do uso de arco e flecha, sendo que ela não conta como uma ação na rodada. Os efeitos de cada nível não são cumulativos entre si, mas o jogador pode escolher qualquer efeito do nível lançado para baixo. Esta escolha deve ser feita em cada rodada que a magia durar, logo após se lançar os dados do ataque.

Exemplo: Um rastreador evoca Arqueirismo 7. Ele faz um rolamento de dado e ele tira amarelo. Ele pode escolher os efeitos de 1 a 7, mas como tirou amarelo, decide escolher o efeito 7 que permite ele fazer um segundo ataque com 25% de redutor. Como a magia dura 3 rodadas, na segunda rodada ele faz um novo tiro e desta vez ele tira azul (100%) então ele decide usar o efeito 3 e desarma o oponente que foge do combate. Na 3ª rodada, ele decide atacar outro oponente e tira um crítico. Como ele lançou o efeito 7, então decide usar o efeito 7. O critico é resolvido normalmente e ele pode fazer um segundo ataque com 25% de redução do dano. Se ele tivesse lançado Arqueirismo 9, poderia ter escolhido o efeito de dobrar o dano.

Uma limitação desta magia, é que o Rastreador tem de fazer pelo menos uma vez um pequeno ritual de 30 minutos de purificação de seu arco e de suas flechas. Este ritual não gasta Karma e deve ser feito em ambiente natural. Somente após este ritual a magia pode ser evocada, pois é a sua ligação com a natureza que permite ele fazer estes efeitos extraordinários. O ritual não precisa ser refeito a cada evocação, mas caso o Rastreador saia do ambiente natural por mais de uma semana ligação é perdida e ele deve fazer de novo o ritual de purificação antes de poder usar novamente a magia.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.assimilacao,nome:"Assimilação",niveis:[{id:"0",duracao:{tipo:C.MINUTO,valor:10},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia da lista do Colégio Alquímico de nível 1.",nivel:1},{id:"1",duracao:{tipo:C.HORA,valor:1},descricao:"Permite fazer uma Assimilação Armazenada em qualquer magia da lista do Colégio Alquímico e da lista básica de nível máximo 2.",nivel:2},{id:"2",duracao:{tipo:C.MINUTO,valor:30},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia da lista do Colégio Alquímico e da lista básica de nível 2.",nivel:4},{id:"3",duracao:{tipo:C.HORA,valor:6},descricao:"Permite fazer uma Assimilação Armazenada de qualquer magia contida na lista de todos os Colégios de Magia e da lista básica, de nível máximo 5.",nivel:6},{id:"4",duracao:{tipo:C.HORA,valor:3},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia contida na lista de todos os Colégios de Magia e da lista básica, de nível máximo 6.",nivel:8},{id:"5",duracao:{tipo:C.HORA,valor:12},descricao:"Permite fazer uma Assimilação Armazenada de qualquer magia contida na lista de todos os Colégios de Magia, da lista básica, da lista de Bardo e Rastreador, de nível máximo 8.",nivel:9},{id:"6",duracao:{tipo:C.HORA,valor:6},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia contida na lista de todos os Colégios de Magia, da lista básica, da lista de Bardo e Rastreador, de nível máximo 8.",nivel:10}],descricao:`Com este encanto o mago poderá “copiar” os feitiços de outros místicos fazendo com que seja possível utilizá-los.

Para copiar os encantos de outro místico, o evocador deverá primeiramente evocar esta magia sobre um alvo escolhido (que terá direito a resistir). Quando o alvo falhar em sua resistência á magia, o evocador estará ligado energeticamente com ele durante as próximas 7 rodadas. A partir de então, o evocador poderá “copiar” qualquer encanto que o alvo evocar dentro deste período de tempo. O evocador deverá escolher até 3 dos feitiços que o alvo evocar durante o tempo da ligação energética. Depois de escolhido(s) o(s) encanto(s}, a ligação energética será rompida e o(s) encanto(s) escolhido(s) será (ao) assimilado(s).

Exemplo: Um mago tentar copiar o encanto “Maldições” evocado por um demônio, mas a evocação da magia Maldições (3 rodadas) deve ser realizada durante o tempo da ligação energética (7 rodadas). Se a evocação da magia Maldições fosse iniciada na quinta rodada da ligação energética, o efeito da maldição seria lançado após o termino da ligação energética (8ª radada}, por isso o encanto não poderia ser Assimilado. O mesmo vale para uma situação em que a ligação energética seja feita durante o tempo da evocação de alguma magia.

A Evocação, o alcance e a duração da magia assimilada permanecem iguais aos da magia original, ou seja, o mago poderá utilizar a magia assimilada normalmente. Mas note que somente o efeito de dificuldade usado pelo alvo pode ser evocado. Se a magia assimilada for Doenças 7, o evocador não poderá utilizar os efeitos de Doenças 5, 3 e 1.

Existem duas formas de assimilação de magias: A “Assimilação Temporária” e a “Assimilação Armazenada”.

A Assimilação Temporária permite que o evocador use a magia assimilada, o quanto quiser, em um determinado período curto de tempo.

A assimilação Armazenada permite que uma magia assimilada seja “estocada” durante um período longo de tempo, no entanto ela só poderá ser evocada uma vez após a assimilação.

Note que o místico não pode manter mais de 3 magias assimiladas em um mesmo período de tempo, seja qual for o tipo de Assimilação realizada.

A origem da magia que poderá ser assimilada, o tipo de assimilação e o tempo de cada, variam com a dificuldade do efeito. (A “lista básica” descrita nos efeitos da magia refere-se apenas a lista de magias básicas dos Magos).

Não é possível assimilar magias de itens mágicos Pois somente criaturas podem ser alvos deste feitiço.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.assombracao,nome:"Assombração",niveis:[{id:"0",custo:{prata:2},descricao:"Atrai até 2 estágios de mortos-vivos para o local assombrado.",nivel:1},{id:"1",custo:{prata:4},descricao:"Atrai até 3 estágios de mortos-vivos para o local assombrado.",nivel:2},{id:"2",custo:{prata:8},descricao:"Atrai até 6 estágios de mortos-vivos para o local assombrado.",nivel:4},{id:"3",custo:{prata:12},descricao:"Atrai até 9 estágios de mortos-vivos para o local assombrado.",nivel:6},{id:"4",custo:{prata:16},descricao:"Atrai até 12 estágios de mortos-vivos para o local assombrado.",nivel:8},{id:"5",custo:{prata:20},descricao:"Atrai até 15 estágios de mortos-vivos para o local assombrado.",nivel:10}],descricao:`Esta magia canaliza uma quantidade de energia negativa e as vincula a um ambiente fechado (casas, torres, castelos...) fazendo com que mortos-vivos incorpóreos (Fantasmas, Assombrações, Sombras, Espectros...) sejam atraídos para o local. A quantidade e o tipo de criaturas que irão assombrar o local dependem da quantidade de estágios de mortos-vivos que o efeito indicar, assim o efeito de dificuldade 8 poderá atrair 4 sombras menores (3+3+3+3=12) ou em vez disso apenas um espectro maior (12=12). O evocador não tem controle sobre o tipo de criatura que será atraída para o local (cabe ao mestre decidir quais criaturas serão atraídas para o local, de acordo com o número de estágios indicado no efeito).

Caso uma pessoa que esteja no local assombrado morra, esta deverá fazer uma resistência à magia, em caso de falha será transformada em Assombração, e não poderá deixar o local até que o tempo de duração da magia se esgote.

O custo do ritual é de 2 moedas de prata por nível de dificuldade. A quantidade de estágios de mortos-vivos que serão atraídos para o local varia com a dificuldade do efeito. A magia só funciona uma vez e quando um morto-vivo for esconjurado ou destruído ela não atrairá mais mortos-vivos. Enquanto existir um morto-vivo esta magia não poderá ser evocada novamente no mesmo lugar.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.ANO,valor:1},evocacao:{tipo:G.RITUAL}},{id:W.ataqueImpetuoso,nome:"Ataque Impetuoso",niveis:[{id:"0",descricao:"Concede +1/+2/+3/+4 de dano.",nivel:1},{id:"1",descricao:"Concede +2/+4/+6/+8 de dano.",nivel:2},{id:"2",descricao:"Concede +3/+8/+12/+12 de dano.",nivel:4},{id:"3",descricao:"Concede +4/+8/+12/+16 de dano.",nivel:6},{id:"4",descricao:"Concede +5/+10/+15/+20 de dano.",nivel:8},{id:"5",descricao:"Concede +6/+12/+18/+24 de dano.",nivel:10}],descricao:`Com um grito feroz e ensurdecedor, o usuário reforça seu corpo e sua arma em um único ataque impetuoso. Esta magia deve ser lançada ao mesmo tempo em que se faz um ataque, mas não pode ser invocada mais de uma vez na mesma rodada. A magia deve ser lançada antes do dado de ataque ser resolvido e o dano final deve ser a soma do dano que a arma provocaria normalmente, somado ao dano que esta magia provoca mais o bonus de aura. O dano extra é considerado mágico, do mesmo tipo que a arma que a provocou (corte mágico no caso de um machado, por exemplo).

Nos níveis da magia apresentados abaixo, os danos estão apresentados na forma dos resultados Amarelo/Laranja/Vermelho/Azul, que ainda devem ser somados à aura. Exemplo:

Kardim sacerdote de Crezir possui Aura 3, faz um ataque com sua espada e tira laranja, como ele tem Força 2, faria 12 de dano (10+2). Como ele invocou (antes de rolar o dado) a magia Ataque Impetuoso 6 ele fará um total de 23 de dano (10 da arma, 2 da força, 8 da magia e 3 da Aura).`,extra:["A magia só concede bônus de dano. Nenhum bônus é concedido nas Colunas de Ataque."],alcance:{tipo:L.PESSOAL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.ataqueTermico,nome:"Ataque Térmico",niveis:[{id:"0",descricao:"Afeta no máximo um ser ou objeto, alterando em 9ºC a temperatura do corpo, causando 3 pontos de dano se usado em criaturas.",nivel:1},{id:"1",descricao:"Afeta no máximo dois seres ou objetos, alterando em 9ºC a temperatura externa do corpo, causando 3 pontos de dano se usado em criaturas.",nivel:2},{id:"2",descricao:"Afeta no máximo dois seres ou objetos, alterando em 12ºC a temperatura externa do corpo, causando 5 pontos de dano se usado em criaturas.",nivel:4},{id:"3",descricao:"Afeta no máximo três seres ou objetos, alterando em 12ºC a temperatura externa do corpo, causando 5 pontos de dano se usado em criaturas.",nivel:6},{id:"4",descricao:"Afeta no máximo três seres ou objetos, alterando em 21ºC a temperatura externa do corpo, causando 7 pontos de dano se usado em criaturas.",nivel:8},{id:"5",descricao:"Afeta no máximo quatro seres ou objetos, alterando em 30ºC a temperatura externa do corpo, causando 10 pontos de dano se usado em criaturas. Se o alvo falhar em sua resistência à magia deve tentar resistência física contra força de ataque 1, em caso de falha a vítima fica inconsciente por uma hora por choque térmico.",nivel:10}],descricao:"Com essa magia o mago pode alterar a temperatura externa de objetos e/ou seres, (seres têm direito a resistir á magia.). Caso o alvo falhe na resistência levará o dano descrito na EF, sem armadura.",alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.RODADA,valor:1}},{id:W.atoFalho,nome:"Ato Falho",niveis:[{id:"0",descricao:"O alvo recebe -3 Colunas de Resolução na sua próxima rodada em ações de ataque ou Teste de Habilidade.",nivel:1},{id:"1",descricao:"O alvo recebe -5 Colunas de Resolução na suas duas próximas rodadas em ações de ataque ou Teste de Habilidade. O alvo é malsucedido automaticamente num teste de dificuldade Muito Difícil ou Absurdo.",nivel:3},{id:"2",descricao:"O alvo recebe -7 Colunas de Resolução nas suas próximas três rodadas em ações de ataque ou Teste de Habilidade. O encanto também afeta a mente do alvo fazendo-o ser obrigado a responder com a verdade um questionamento de até seis palavras feito pelo sacerdote.",nivel:5},{id:"3",descricao:"O alvo recebe -9 Colunas de Resolução nas suas próximas quatro rodadas em ações de ataque ou Teste de Habilidade. O alvo é malsucedido automaticamente num teste de dificuldade Difícil, Muito Difícil ou Absurdo e encanto também afeta a mente do alvo fazendo-o ser obrigado a responder com a verdade um questionamento de até seis palavras feito pelo sacerdote.",nivel:7},{id:"4",descricao:"O alvo recebe -11 Colunas de Resolução nas suas próximas cinco rodadas em ações de ataque ou Teste de Habilidade. O encanto também afeta a mente do alvo fazendo-o se sentir compelido a delatar suas falhas morais. O alvo deve responder a um questionamento de até seis palavras feito pelo sacerdote ou (caso não haja questionamento) contar algo do qual se arrepende profundamente.",nivel:9}],descricao:`Com este milagre o sacerdote de Plandis pode canalizar o poder de seu deus e utiliza-lo para prejudicar e confundir seu inimigo, causando-lhe uma ação falha. O encanto também pode afetar a mente do alvo deixando-o inclinado a delatar suas falhas caso não obtenha êxito em uma Resistência a Magia. A evocação do encanto é discreta, só podendo ser percebida por meios mágicos ou num teste Muito Difícil de Misticismo. Quando falha na sua RM a vítima sofre uma penalidade nas suas ações na próxima rodada conforme o nível indicado. Em alguns níveis a magia obriga o alvo a falar a verdade ou a contar um de seus crimes pessoais passados, o que o alvo falará dependerá de estímulos externos na forma de uma pergunta feita pelo sacerdote após a conjuração. Caso este não pergunte nada a vítima falará algo do qual se arrepende, de acordo com sua consciência.

Note que a magia não afeta a personalidade do alvo, um assassino poderia se arrepender de não ter matado vítimas o bastante antes de ser pego, um padeiro de adicionar água ao pão antes de pesa-lo, etc.`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.auraAmeacadora,nome:"Aura ameaçadora",niveis:[{id:"0",descricao:"As vítimas que forem bem sucedidas em um teste de Usar os Sentidos ficarão sem ação por uma rodada e sofrerão na próxima rodada que voltarem a jogar um reajuste negativo de -1 em todos os rolamentos por 3 rodadas. Entretanto mesmo falhando no teste este obrigatoriamente perceberá a obra de arte se três pessoas de seu grupo forem bem sucedidas no teste de Usar os Sentidos.",nivel:1},{id:"1",descricao:"As vítimas que forem bem sucedidas em um teste de Usar os Sentidos ficarão sem ação por uma rodada e sofrerão na próxima rodada em que jogar reajuste de -1.",nivel:2},{id:"2",descricao:"As vítimas ficam sem ação por 4 rodadas.",nivel:4},{id:"3",descricao:"As vítimas ficam sem ação por 6 rodadas.",nivel:6},{id:"4",descricao:"As vítimas ficam sem ação por 8 rodadas.",nivel:8},{id:"5",descricao:"As vítimas ficam compenetradas na obra de arte por 5 rodadas, devendo ainda se submeter a um teste de resistência mágica, falhando receberá -6 pontos negativos em todas as habilidades nas próximas 5 rodadas.",nivel:10}],descricao:`Com o encanto Aura Ameaçadora, o evocador é capaz de imbuir uma expressividade ameaçadora em uma escultura ou pintura, na qual todo aquele que olhar para o objeto de arte se sentirá intimidado e incomodado com o objeto em questão.

Independentemente de ser uma pintura ou uma escultura, ela deverá retratar uma imagem intimidadora, mas não necessariamente malévola. Assim poderá ser uma escultura de uma gárgula ou de alguma besta, como pode ser uma estátua de um rei em sua majestade.

No caso de uma pintura, pode ser retratada uma cena violenta como uma guerra. Tal imagem necessariamente deverá ter no mínimo dois metros de comprimento e de largura. Já como escultura, as estátuas deverão ter no mínimo dois metros e meio de altura.

Tanto em um caso como em outro, o objeto de arte tem que ser muito familiar ao evocador, ou ele próprio tendo feito ou então sendo conhecedor das técnicas de escultura e/ou pintura e da história daquela obra específica para que o encanto possa ser realizado.

Atendidas essas condições, o encanto será utilizado apenas tocando na pintura ou escultura. Toda pessoa, à exceção do evocador, que olhar para aquela imagem deverá fazer um teste de Resistência à Magia. Caso passe, a pessoa se sentirá incomodada pela pintura ou pela estátua, mas não receberá nenhum outro efeito. Caso falhe, no entanto, a(s) vítima(s) não conseguirão fazer mais nada a não ser ficar olhando para a imagem ameaçadora, temerosas que tal imagem faça algo contra ela(s). Caso a vítima seja atacada neste estado, o feitiço se quebra. No entanto, este ataque é considerado como surpresa parcial.

O encantamento do objeto é de efeito permanente, e a pintura ou escultura ficará encantada passando a possuir aura imbuída. O efeito só é quebrado se for usado com sucesso a magia Quebra de Encantos.

Uma mesma pessoa não pode ser vítima duas vezes seguidas de uma só evocação. Este encanto é muitas vezes usado para proteger locais importantes, sendo a magia usada em pinturas gravadas na porta do local ou em estátuas próximas.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.INSTANTANEA}},{id:W.auraDivina,nome:"Aura Divina",niveis:[{id:"0",descricao:"Todos os demônios e mortos-vivos recebem -1 coluna de ataque.",nivel:1},{id:"1",descricao:"Todos os demônios e mortos-vivos recebem -2 colunas de ataque.",nivel:2},{id:"2",descricao:"Todos os demônios e mortos-vivos recebem -3 colunas de ataque.",nivel:4},{id:"3",descricao:"Todos os demônios e mortos-vivos recebem -4 colunas de ataque.",nivel:6},{id:"4",descricao:"Todos os demônios e mortos-vivos recebem -5 colunas de ataque.",nivel:8},{id:"5",descricao:"Todos os demônios e mortos-vivos recebem -6 colunas de ataque.",nivel:10}],descricao:"Com este milagre, o sacerdote de Cruine cria ao seu redor uma aura que incomoda demônios e mortos-vivos. Para essas criaturas a aura repele sua proximidade, dificultando atacar o sacerdote e seus companheiros que estejam na área protegida. Na prática, qualquer demônio ou morto-vivo que atacar terá seus ataques penalizados, sem ter direito a resistência à magia, uma vez que a aura não ataca magicamente as criaturas e se constitui em uma espécie de empecilho ao ataque. ",extra:["Mesmo ataques à distância, inclusive magias de ataque, recebem penalidade. Entretanto, para qualquer outro ser além dos mencionados, a aura não tem qualquer efeito e é invisível e, portanto, imperceptível para seres não-místicos. Apenas o sacerdote é protegido pela aura."],alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:20},evocacao:{tipo:G.INSTANTANEA}},{id:W.auraEmocional,nome:"Aura Emocional",niveis:[{id:"0",custo:{ouro:1},duracao:{tipo:C.DIA,valor:1},alcance:{tipo:L.METRO,valor:1,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 1 metro de raio.",nivel:1},{id:"1",custo:{ouro:5},duracao:{tipo:C.MES,valor:1},alcance:{tipo:L.METRO,valor:5,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 5 metros de raio.",nivel:3},{id:"2",custo:{ouro:10},duracao:{tipo:C.MES,valor:1},alcance:{tipo:L.METRO,valor:10,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 10 metros de raio. ",nivel:5},{id:"3",custo:{ouro:20},duracao:{tipo:C.ANO_E_DIA},alcance:{tipo:L.METRO,valor:15,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 15 metros de raio.",nivel:7},{id:"4",custo:{ouro:40},duracao:{tipo:C.ANO,valor:13},alcance:{tipo:L.METRO,valor:20,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 20 metros de raio. A duração é de 13 anos e o ritual custa 40 medas de ouro.",nivel:9}],descricao:`Os grandes acontecimentos deixam marcas profundas nas pessoas, modificando suas motivações, crenças, comportamento, enfim toda sua vida. Mas não só nas pessoas as marcas são evidentes, mas também em um local. O campo onde o massacre ocorreu, a casa de interrogatório, o templo que serviu de refúgio: todos podem ter uma marca que lembre os acontecimentos passados. O encanto Aura Emocional é capaz de imbuir um local com uma aura de modo que todo aquele que dele se aproximar sentirá uma sensação que corresponda à história do local. A distância e o tempo que a aura tem efeito variam conforme o nível, assim como os materiais necessários para a evocação.

Uma vez na presença da aura, qualquer ação que vise contrariar o sentimento do local só poderá ser realizada se a pessoa passar em um teste de Resistência à Magia contra o nível da magia. Esse teste deverá ser realizado a cada rodada até que o indivíduo falhe na sua Resistência à Magia ou saia da área. Assim, se um campo onde foram mortos vários inocentes estiver imbuído de uma aura, qualquer atitude que mostre felicidade não poderá ser realizada a menos que o indivíduo passe na Resistência à Magia. Da mesma forma, se uma sala na qual houve um grande acordo de paz entre reinos, for imbuída com uma aura, toda e qualquer ação que procure desavenças só poderá ser realizada caso a pessoa passe na sua Resistência à Magia. Isso poderá render muitos benefícios, na medida em que impede as pessoas de tomarem ações indesejadas. Dessa forma, o evocador poderá se utilizar desses locais para outros fins, como por exemplo, se refugiar em um local marcado pela paz ou comover um líder autoritário ao levá-lo a um lugar marcado pela tristeza.

Para se realizar a magia é necessário que seja escolhido um ponto central no local a ser encantado. Além disso, é necessário que um evento marcante e conhecido pelo evocador tenha ocorrido envolvendo o local. Obviamente a aura imbuída necessariamente provocará um sentimento condizente com tal acontecimento.`,extra:["Caso a pessoa não passe na Resistência à Magia, ela terá uma forte sensação de que não pode fazer isso naquele lugar, a ponto de impedi-la de fazê-lo. No caso da pessoa conhecer o evento ocorrido, ela obrigatoriamente irá lembrá-lo."],alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.auraMagica,nome:"Aura Mágica",niveis:[{id:"0",duracao:{tipo:C.DIA,valor:3},alcance:{tipo:L.METRO,valor:10,isQuadrado:!0},descricao:"Imbui aura mágica a uma superfície de até 10m², que passará a ter Resistência à Magia 1.",nivel:1},{id:"1",duracao:{tipo:C.SEMANA,valor:1},alcance:{tipo:L.METRO,valor:100,isQuadrado:!0},descricao:"Imbui aura mágica a uma superfície de até 100m², que passará a ter Resistência à Magia 4.",nivel:2},{id:"2",duracao:{tipo:C.MES,valor:1},alcance:{tipo:L.METRO,valor:1e3,isQuadrado:!0},descricao:"Imbui aura mágica a uma superfície de até 1.000m², que passará a ter Resistência à Magia 7.",nivel:4},{id:"3",duracao:{tipo:C.ANO_E_DIA},alcance:{valor:1e4,isQuadrado:!0,tipo:L.METRO},descricao:"Imbui aura mágica a uma superfície de até 10.000m², que passará a ter Resistência à Magia 10.",nivel:6}],descricao:`Através desta magia, o mago imbui uma aura mágica a uma superfície de origem mineral ou vegetal, como paredes de pedra, portões de ferro, tábuas de madeira, telhas de barro, etc.

É possível imbuir auras mágicas a duas ou mais superfícies, desde que a soma de suas áreas não ultrapasse a capacidade máxima permitida pelo efeito usado.

A aura atribuída à superfície se portará exatamente como a aura de uma criatura, por isso, esta passará a ter resistência à magia (dada pelo efeito) para qualquer feitiço que aja sobre ela, como “Desintegração” e “Telecinese”, ou magias que possam ser vinculadas a ela como “Manipulação de Luz” e “Silêncio”. A superfície encantada poderá ainda anular magias como “Geomanipulação” e “Piromanipulação” que se quebram ao entrar em contato com a aura de criaturas. A aura também impede que Criaturas incorpóreas como “Espectros” atravessem as paredes encantadas.

É impossível imbuir aura mágica a criaturas, pois estas já possuem aura própria, caso isso seja feito a magia não terá nenhum efeito e os materiais serão gastos inutilmente.

A área da superfície afetada, a resistência à magia dada, e o tempo que a aura permanece em atividade variam com o efeito. O custo do ritual é de 1 moeda de ouro por nível de dificuldade do efeito.

O mago pode evocar essa magia diversas vezes para ampliar a área da superfície, mas a cada evocação, o valor do ritual deverá ser gasto novamente.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.ausencia,nome:"Ausência",niveis:[{id:"0",descricao:"Permite passar despercebido por locais onde não há a menor preocupação de reconhecimento, como uma cidade em um dia normal.",nivel:1},{id:"1",descricao:"Permite passar despercebido por locais onde há pouca preocupação de reconhecimento como em uma taverna muito movimentada.",nivel:3},{id:"2",descricao:"Permite passar despercebido por locais onde há média preocupação de reconhecimento, como uma biblioteca comum ou um templo.",nivel:5},{id:"3",descricao:"Permite passar despercebido por locais onde há alta preocupação de reconhecimento, como uma estalagem de luxo.",nivel:8}],descricao:`A normalidade gera indiferença. O que é muito comum acaba passando desapercebido, sejam lugares, objetos e até pessoas. Com o encanto Ausência o evocador é capaz de se apresentar de forma tão comum que acaba não sendo notado. Na prática é como se ele se tornasse, de fato, invisível.

Obviamente o evocador deverá sempre estar dentro dos “padrões de normalidade” para que o feitiço funcione. Assim, se no meio da cidade ele estiver vestido com roupas suntuosas não poderá passar despercebido; se ele entra em um templo de Selimom portando uma arma à mostra, será notado invariavelmente. Nesse sentido é sempre necessário que se estude antes o local pelo qual ele queira passar despercebido.

Quanto maior o nível da magia, mais fácil será passar por locais onde há atenção para a identificação das pessoas, conforme consta nos níveis descritos. Para todos os efeitos, alguém sobre o efeito de Ausência é como se estivesse invisível para as outras pessoas.`,extra:["É impossível passar despercebido por locais aonde há total preocupação em se reconhecer as pessoas, como na entrada de um castelo ou colégio de magia, no caso de pessoas que estejam procurando pelo evocador ou ainda em locais com pouco movimento."],alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.auxilioIncerto,nome:"Auxílio Incerto",niveis:[],descricao:`Com este milagre, o sacerdote de Plandis pede uma ajuda a seu deus, e é respondido de forma aleatória. A resposta poderá ser de grande ajuda ou mesmo inútil. O tipo de ajuda depende de qual contexto a magia foi evocada em situações descritas abaixo.

Preparação & Exploração - Quando os personagens estão explorando (ou se preparando) para um lugar o evocador pode rezar ao seu deus clamando por um milagre (evocação de 10 minutos). O resultado será lhe concedido no momento de maior necessidade daquele dia. Este contexto só pode ser usado uma vez ao dia. Em algum momento de descanso, o jogador precisa avisar ao mestre que seu personagem vai rezar Auxílio Incerto e sorteia o efeito. Pelas próximas 24h (dentro do jogo) ele pode decidir quando ativar o efeito sorteado.

Combate - Quando esta magia é evocada durante o combate.

Interpretação - Quando os personagens estão interagindo com outras pessoas (exemplo: conversando, negociando}, ou realizando algum trabalho.

A evocação também varia com o tipo: para o contexto de Combate e Interpretação é instantâneo, e para o efeito do contexto de Preparação & Exploração é um ritual de 10 min. Ao evocar o milagre o sacerdote faz sua oração. A resposta dessa oração depende do que será sorteada em uma das 3 listas que mais se aproxime do contexto. Então, definida a lista, joga-se um D20 para definir o efeito. A escolha do no nível do efeito é de livre decisão do jogador e pode ser entre 1 e o nível que personagem tem em Auxílio Incerto. Esta escolha deve ser feita antes do sorteio e o Karma é gasto de acordo com o nível do efeito escolhido.

Observação: caso a magia sorteada possua alguma limitação que impediria de ela ser evocada a magia é perdida. Mas é uma opção do mestre fazer que algo inusitado/improvável aconteça e que esta limitação suma, por exemplo: Relâmpagos só pode ser evocada quando tem uma nuvem em áreas a céu aberto, mas o Sacerdote está em uma grande caverna, ... uma nuvem surge temporariamente no teto para suprir a limitação!. Note que quem decide se algo inusitado/improvável vai acontecer é o Mestre que pode avaliar se o Sacerdote está ou não nas graças de Plandis. Sacerdotes que com frequência não seguem os preceitos do deus dificilmente receberão esta "ajudinha".

Combate

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Apelo

Área de Paz

Ataque Impetuoso

Auxílio Natural

Bravura

Corrente

Dádivas da Guerra

Dardos de Gelo

Degeneração Física

Feixes Incandescentes

Fogo Divino

Força Sagrada

Onda Destrutiva

Presença Intimidadora

Relâmpagos

Vigor

O mestre do jogo escolhe um efeito de qualquer (que seja favorável ao personagem).

O jogador escolhe a ajuda de sua preferência desse número para baixo.

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que será um ajuda que sempre será uma coisa inusitada (e útil) que irá acontecer (o mestre escolhe). Por exemplo uma vaca cai do céu em cima de um inimigo.

Exploração e Preparação

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Detecção de Magias

Hidromanipulação

Lendas

Orientação

Perfeição.

Persistência

Proteção Divina.

Purificação

Resistência

Resistência Elemental

Restauração

Santuário Natural

Sexto Sentido

Visão de Batalhas

Visão Mística

Visão Noturna

O jogador escolhe a ajuda de sua preferência desse número para baixo.

O mestre do jogo escolhe um efeito de qualquer (que seja favorável ao personagem).

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que será um ajuda que sempre será uma coisa inusitada (e útil) que irá acontecer (o mestre escolhe). Por exemplo, um rastreador misterioso aparece e ajuda a passar pela cena.

Interpretação

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Amizade

Ato Falho

Avaliação

Convocação

Detectar Intenção

Empatia

Esplendor

Esquecimento

Linguagem

Maldições

Proteção Mental

Modificar Espírito

Ordens

Sedução

Serenidade

Sugestão

O jogador escolhe a ajuda de sua preferência desse número para baixo.

O mestre do jogo escolhe um efeito de qualquer (que seja favorável ao personagem)

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que será um ajuda que sempre será uma coisa inusitada (e útil) que irá acontecer (o mestre escolhe). Por exemplo um pessoa com as habilidades ou informações que o grupo precisa aparece e oferece ajuda por 1 dia como força de agradecimento a Plandis.

Após sortear o dado, uma magia ou um efeito autodescritivo virá como resposta. A magia poderá ser utilizada como se o próprio sacerdote estivesse evocando e, portanto, ele escolherá os inimigos que serão as vítimas dos Relâmpagos, ou quem irá ser obrigado a cumprir Ordens, ou mesmo quem será imobilizado por Correntes. O nível da magia que virá como resposta é numericamente igual ao nível da magia utilizada pelo sacerdote (ou maior dependendo da descrição do efeito usado de Auxílio Incerto).

Exemplo: O sacerdote evoca Auxílio Incerto 3 (da lista de Combate) e rola 17 no dado, ele então evocará a magia Vigor 3. Caso o nível da magia não exista, deve-se pegar o nível da magia existente imediatamente acima. Assim a magia que sair for Fogo Divino e ele tiver evocado Auxílio Incerto 3, o efeito que sairá será o 4 já que não existe o efeito 3 na magia Fogo Divino. Nesta situação de não existir o efeito correspondente se não existir um acima, sairá então o efeito abaixo.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.auxilioNatural,nome:"Auxílio Natural",niveis:[{id:"0",descricao:"Todos os inimigos devem fazer um teste de resistência à magia. Caso falhem, raízes agarrarão seus pés, animais o atrapalharão etc., fazendo com que tenham -1 em sua coluna de resolução.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas o ajuste é de -2.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas o ajuste é de -4.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas além disso, os inimigos serão atacados pela natureza (árvores jogam seus frutos em cima dos inimigos, pedras caem na cabeça dos inimigos, relâmpagos chegam próximos aos inimigos) podendo sofrer dano máximo de 4.",nivel:7},{id:"4",descricao:"Idem ao anterior mas o dano máximo é 8.",nivel:9}],descricao:`Restrição de Uso: Ambiente Natural

Com este encanto o sacerdote clama a sua divindade e pede ao ambiente que o ajude a derrotar seus inimigos.

Atendendo ao pedido do sacerdote, o ambiente o ajudará: árvores moverão seus galhos para fazer os inimigos tropeçarem, ventos fortes podem surgir em alto mar para atrapalhar os inimigos, rochas poderão desabar próximo ao inimigo; enfim, diversas são as possibilidades, mas os efeitos são sempre os descritos nos níveis. A grande vantagem deste encanto é sua área imensa, que serve até mesmo para atrapalhar um exército inteiro. Uma observação, entretanto, é que uma mesma área não pode estar sob efeito de dois Auxílios Naturais. Assim, se dois sacerdotes evocarem a magia, apenas o nível mais forte funcionará.

Uma observação especial é que esta magia é muito restrita e só deve ser usada em caso de extrema necessidade. Se for evocada por um motivo efêmero, numa situação desnecessária ou por motivos pessoais e/ou mundanos, a magia falhará e o sacerdote será punido por sua divindade.`,extra:["Cada sacerdote só poderá usar esse encanto em ambientes específicos. Sacerdotes de Vet e Nil poderão usar em planícies ou florestas, de Mon, em montanhas e cavernas, de Ganis, em alto mar, uma praia ou um lago e Sevides em qualquer lugar que seja solo fértil (campos, plantações, florestas, beiras de rios, ou mesmo um horta)."],alcance:{tipo:L.METRO,valor:500},duracao:{tipo:C.RODADA,valor:15},evocacao:{tipo:G.RODADA,valor:1}},{id:W.avaliacao,nome:"Avaliação",niveis:[{id:"0",descricao:"Revela se o item é mágico e qual o seu valor de mercado dos itens tocados. Reduz 1 nível de dificuldade da habilidade Negociação.",nivel:1},{id:"1",descricao:"idem ao anterior, mas revela se algum item tem algo de errado (objeto falso, defeituoso, mal feito) ou é prejudicial ao evocador (contem uma maldição, vai causar prejuízo, é roubado). A revelação apenas informa que há algo de errado, não diz exatamente o que. Reduz 2 níveis de dificuldade da habilidade Negociação.",nivel:3},{id:"2",descricao:"idem ao anterior, mas revela se algum item tem algo de errado (objeto falso, defeituoso, mal feito) ou é prejudicial ao evocador (contem uma maldição, vai causar prejuízo, é roubado). A revelação informa precisamente o que está errado. Além disto em uma negociação revela as intenções (boas, neutras ou más) das pessoas que estão envolvidas. Permite também avaliar coisas maiores como edificações pequenas e mecanismos simples. Qualquer magias de controle mental durante uma negociação é bloqueada. Reduz 3 níveis de dificuldade da habilidade Negociação.",nivel:5},{id:"3",descricao:"idem ao anterior, mas revela as essências do objetos se eles forem mágicos e revela todos os problemas dos objetos (falso, defeituoso, mal feito, contem uma maldição, vai causar prejuízo, é roubado). Ao tocar (ou se aproximar) de um item que possua qualquer encantamento que seria disparado ao tocar (ou se aproximar) este não é disparado ou não faz efeito. Permite também avaliar coisas maiores como edificações (de qualquer tamanho}, mecanismos (de qualquer complexidade}, pontes ou qualquer outra coisa construída/fabricada que se deseje saber seu valor ou problemas. Reduz 4 níveis de dificuldade da habilidade Negociação.",nivel:7},{id:"4",descricao:"idem ao anterior, mas revela precisamente os problemas do objeto e as intenções exatas de quem estiver envolvido em uma negociação. Neste nível qualquer magia de ilusão sobre o item tocado é desfeito e qualquer efeito que de alguma forma possa fazer mal é cancelado. Reduz 5 níveis de dificuldade da habilidade Negociação ou torna Muito Difícil algo que seria Impossível.",nivel:9}],descricao:"Com este encanto, o evocador é capaz de avaliar quaisquer objetos que ele toque, ajudando-o a saber os valores daqueles objetos.",extra:["Esse encanto ajuda muito pouco na descoberta de algum poder mágico que o item possa vir a ter. É possível em determinados níveis sentir as intenções dos envolvidos, mas só é pressentido as intenções com relação a uma negociação, não revelando nada que não tenha a ver com a negociação em si.","Os níveis são cumulativos nos efeitos, com exceção do bônus na habilidade Negociação, que sempre será apenas o maior. Os efeitos de cancelamento só valem para o Sacerdote enquanto ele estiver próximo ou tocando, se outra pessoa se aproximar ou tocar o feito acontecerá normalmente sobre a pessoa."],alcance:{tipo:L.TOQUE},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.azar,nome:"Azar",niveis:[{id:"0",duracao:{tipo:C.RODADA,valor:1},descricao:"No combate o adversário perde o equilíbrio e não consegue atacar, precisando de um turno para se recompor.",nivel:1,secundario:{id:"0",nivel:0,duracao:{tipo:C.MINUTO,valor:30},descricao:"Fora de combate tudo que a vítima segurar irá cair: uma caneca, um livro, uma bolsa, etc."}},{id:"1",duracao:{tipo:C.RODADA,valor:1},descricao:"No combate o adversário atinge a si mesmo, causando 25% do dano e descontrole de 1 coluna.",nivel:3,secundario:{id:"0",nivel:0,duracao:{tipo:C.HORA,valor:1},descricao:"Fora de combate a vítima terá crises de tosses tão fortes, que durante 1 hora não terá concentração para realizar tarefa alguma."}},{id:"2",duracao:{tipo:C.RODADA,valor:2},descricao:"No combate o adversário atinge a si mesmo, causando 50% do dano e descontrole de 2 colunas.",nivel:5,secundario:{id:"0",nivel:0,duracao:{tipo:C.DIA,valor:1},descricao:"Fora de combate os afazeres da vítima terão maior probabilidade de darem errado. Ao cavalgar, irá escorregar da sela. Ao tocar um instrumento, os dedos começam a tremer; etc. Na prática, qualquer habilidade utilizada pela vítima terá um nível a mais de dificuldade."}},{id:"3",descricao:"No combate o adversário atinge a si mesmo, causando 75% do dano e descontrole de:3 colunas por três rodadas. Fora de combate eventos indesejados acontecem a vítima: cruza com um antigo inimigo, a ponte a qual iria passar despenca, o item pelo qual procurava já foi vendido, etc. Os efeitos devem ser indiretos. Muitas são as possibilidades e o Mestre (não o evocador) deverá escolher qual(is) evento(s) acontece(m) com a vítima, que de preferência se relacionem bastante com a aventura vigente. Dura 1 semana.",nivel:7},{id:"4",duracao:{tipo:C.RODADA,valor:4},descricao:"No combate o adversário atinge a si mesmo, causando 100% do dano e descontrole de 4 colunas por quatro rodadas.",nivel:9,secundario:{id:"0",nivel:0,duracao:{tipo:C.MES,valor:1},descricao:"Fora de combate a vítima será alvo direto de acontecimentos ruins, causando algum agravante físico. Tropeça e torce o pé em algum buraco na rua, cai do cavalo e se machuca, corta-se tratando alguma comida, é atacado porque o confundiram com bandido, é o primeiro a sofrer com uma possível invasão de orcos, etc. Assim como no nível anterior, muitas são as possibilidades e o Mestre (não o evocador) deverá escolher qual(is) evento(s) acontece(m) com a vítima."}}],descricao:`Conhecido como "a maldição de Plandis", o milagre Azar torna a vítima, caso falhe em sua RM, mais suscetível a eventos estranhos, incomuns e imprevisíveis. Nos níveis mais baixos a vítima é tida perante outros como uma pessoa azarada, mas nos mais altos, ela é tida como amaldiçoada ou perseguida pelos deuses.

É possível usar essa magia em duas situações: em combate ou fora de combate. Se usado em combate terá evocação instantânea, se usado fora de combate, evocação de duas rodadas. Só poderá ser direcionada a um adversário, e, caso o efeito cause dano, acontecerá como em um combate normal: primeiro atinge a EH, o que passar é perdido e, após acabar a EH, atinge a EF.

Alguns níveis têm descontrole como efeito em situação de combate. Enquanto durar o descontrole, a magia ainda está ativa, logo, só poderá ser lançada novamente nessa vítima ou em qualquer outra quando findar as rodadas de descontrole.

Na descrição de cada nível da magia, o primeiro efeito é em combate. O segundo é fora. O evocador deverá escolher um na hora de lançar a magia. O Mestre deverá adaptar os efeitos fora de combate a cada tipo de criatura. Por exemplo, caso, por algum motivo qualquer, o evocador deseje lançar a magia em um animal. Não teria lógica os dedos tremerem ao tocar um instrumento, devendo o efeito, portanto, ser adaptado.`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}}]})(rx||(rx={}));var ix;(t=>{t.lista=[{id:W.barreiraMistica,nome:"Barreira Mística",niveis:[{id:"0",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 2.",nivel:1},{id:"1",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 3.",nivel:2},{id:"2",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 6.",nivel:4},{id:"3",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 9.",nivel:6},{id:"4",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 12.",nivel:8},{id:"5",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 15.",nivel:10}],descricao:`Com esta magia o evocador cria uma barreira mística invisível que o protege da aproximação de qualquer ser que tenha Aura (mesmo que negativa). Aquele que tentar se aproximar a menos de 3 metros do evocador deve fazer uma resistência à magia. Aqueles que conseguirem poderão se aproximar, mas aqueles que falharem serão forçados a se manter afastados, pelo menos, 5 metros de distância. Este encantamento não impede que alguém use um ataque a distância, seja ele mágico ou não (flechas, lanças, raio elétrico, bola de fogo, etc.).

A quantidade de criaturas afetadas é determinada pelos efeitos. Quando várias criaturas/pessoas entrarem no raio de ação da magia e a quantidade exceder a do poder do efeito, o evocador pode escolher quem ele deseja que seja afetado. A quantidade de pessoas/criaturas que exceder a capacidade do efeito não será afetada, podendo se aproximar livremente. É possível evocar novamente a magia caso alguém tenha resistido, mas quando a quantidade máxima for atingida não é possível mais se evocar a magia. O evocado poderá escolher não afetar alguém a sua livre escolha e não é necessário se evocar esta magia somente quando alguém se aproxima, mas quando a duração se esgotar os efeitos terminam.

Após a evocação não é necessário manter a concentração nesta magia, podendo o evocador fazer qualquer tipo de ação.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.bencao,nome:"Bênção",niveis:[{id:"0",descricao:"Um companheiro do Sacerdote aumenta em 1 sua coluna de ataque.",nivel:1},{id:"1",descricao:"Três companheiros do Sacerdote aumentam em 1 sua coluna de ataque.",nivel:2},{id:"2",descricao:"Três companheiros do Sacerdote aumentam em 2 sua coluna de ataque.",nivel:3},{id:"3",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar um companheiro seu mais heróico e combativo. O Sacerdote perde 5 pontos de sua EH mas o alvo da magia ganha 15 pontos de EH, podendo ir além de seu máximo. Caso, ao terminar a duração do milagre, o ser abençoado ainda tenha mais EH que o seu máximo normal, esses pontos excedentes são perdidos. Além do ganho de EH, o abençoado também aumenta em 2 sua coluna de ataque.",nivel:4},{id:"4",descricao:"Três companheiros do Sacerdote aumentam em 3 sua coluna de ataque.",nivel:5},{id:"5",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar um companheiro seu mais heróico e combativo. O Sacerdote perde 5 pontos de sua EH mas o alvo da magia ganha 30 pontos de EH, podendo ir além de seu máximo. Caso, ao terminar a duração do milagre, o ser abençoado ainda tenha mais EH que o seu máximo normal, esses pontos excedentes são perdidos. Além do ganho de EH, o abençoado também aumenta em 3 sua coluna de ataque.",nivel:6},{id:"6",descricao:"Três companheiros do Sacerdote aumentam em 4 sua coluna de ataque.",nivel:7},{id:"7",descricao:"cinco companheiros do sacerdote aumentam em 5 sua coluna de ataque.",nivel:8},{id:"8",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar três companheiros seus mais heróicos e combativos. O Sacerdote perde 15 pontos de sua EH mas três de seus companheiros ganham 30 pontos de EH, podendo ir além de seu máximo. Caso, ao terminar a duração do milagre, o ser abençoado ainda tenha mais EH que o seu máximo normal, esses pontos excedentes são perdidos. Além do ganho de EH, os abençoados também aumentam em 5 sua coluna de ataque.",nivel:9},{id:"9",descricao:"sete companheiros do sacerdote aumentam em 7 sua coluna de ataque.",nivel:10}],descricao:`O Sacerdote pede a seu deus que auxilie seus companheiros na batalha causando um aumento no vigor e na coragem de todos os afetados. Inicialmente, este milagre apenas melhora a capacidade de combate, mas em determinados níveis afeta também a Energia Heróica dos abençoados.

De qualquer forma, os efeitos não são cumulativos, não se pode abençoar seguidas vezes a mesma pessoa. Note que este milagre serve para abençoar os companheiros do Sacerdote e não a ele mesmo.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.bencaoSelvagem,nome:"Bênção Selvagem",niveis:[{id:"0",nivel:1,descricao:"Qualquer ataque realizado por animais em quem recebe a benção passa a ter redutor de -2 colunas. O redutor pela exaustão é de -2 por 15 minutos."},{id:"1",nivel:2,descricao:"Idem ao anterior, porém Técnicas de Combate também recebem o mesmo redutor de -2 colunas. O redutor pela exaustão é de -2 por 30 minutos."},{id:"2",nivel:4,descricao:"Idem ao anterior, porém o redutor é de -4. A penalidade por exaustão é de -2 por um hora."},{id:"3",nivel:6,descricao:"Idem ao anterior, porém o redutor é de -6 . A penalidade por exaustão é de -3 por duas horas."},{id:"4",nivel:8,descricao:"Idem ao anterior, porém o o redutor é de -8 . A penalidade por exaustão é de -4 por 3 horas."},{id:"5",nivel:10,descricao:"Idem ao anterior, porém o redutor é de -10. A penalidade por exaustão é de -5 por 4 horas."}],descricao:`Através deste encanto, o místico cria uma aura protetora em torno de algumas pessoas e/ou companheiros animais do evocador. Esta aura será imperceptível e protegerá os alvos da magia causando redutores para qualquer ação hostil feita por animais de qualquer porte contra eles. Note que é impossível conjurar Bênção Selvagem em quem não queira receber o encanto, ou que já esteja sobre seu efeito. A magia tem o limite de até 5 pessoas e/ou animais.

Ao término do encanto, o evocador sente uma grande exaustão e recebe um redutor conforme indicado no efeito usado. Esse redutor não pode ser recuperado de forma mágica.`,extra:["Esta magia só pode ser usada no próprio evocador se pelo menos um dos recebedores da benção seja também um de seus animais com qual ele possua Elo Animal. O redutor de exaustão se aplica às colunas de ataque (para todos os níveis de efeitos) e nas Técnicas de Combate (nos efeito 2 a 10)"],alcance:{tipo:L.TOQUE},duracao:{tipo:C.CENA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.biogerminacao,nome:"Biogerminação",niveis:[{id:"0",duracao:{tipo:C.HORA,valor:6},descricao:"Causa um efeito plástico menor como a aparição de um pequeno galho verde (0,3 cm de diâmetro e 5cm de comprimento) em uma parte do corpo (braço, testa, etc.) não causando dores.",nivel:1},{id:"1",duracao:{tipo:C.DIA,valor:1},descricao:"Causa a aparição de folhas na superfície da pele (5% da superfície corporal) causando dores menores, mas sem efeitos para combate.",nivel:2},{id:"2",duracao:{tipo:C.DIA,valor:2},descricao:"Causa a aparição de pequenos galhos (1cm de diâmetro; 10cm de comprimento) com folhas na superfície da pele. Este efeito abrange 15% da superfície corporal. Causa dores e um ajuste de –3 para combate e magia.",nivel:4},{id:"3",duracao:{tipo:C.DIA,valor:3},descricao:"Causa a aparição de galhos médios e ramificados (2cm de diâmetro, 15cm de comprimento) com folhas e flores na superfície da pele. Este efeito abrange 30% da superfície corporal, causando dores intensas com um ajuste de –5 para combate e magia.",nivel:6},{id:"4",duracao:{tipo:C.DIA,valor:4},descricao:"Causa a aparição de galhos grandes (3 cm de diâmetro, 20 de comprimento) e espinhosos com muitas ramificações, folhas e flores. Este efeito abrange 60% da superfície corporal, causando dores horríveis, um número avançado de galhos e espinhos impede a utilização de armaduras, elmos e escudos. A Energia Heróica é reduzida à metade e a vítima recebe um ajuste de –7 para combate, magia e habilidades.",nivel:8},{id:"5",duracao:{tipo:C.DIA,valor:5},descricao:"Causa a aparição de galhos espinhosos muito grandes (4cm de diâmetro; 30 cm de comprimento) com muitas ramificações, folhas e flores. Além disso, a pele da vítima é ressecada transformando-se em casca de árvore e as ramificações espinhosas se amparam enroscando-se nos membros e impossibilitando quaisquer movimentos, caracterizando um quadro horrível. O avançado grau de comprometimento do corpo implica em um teste de Resistência Física contra força de ataque igual à quantidade de Karma usado (o rolamento deve ser secreto}, em caso de falha a vítima morre ao final do 3º dia se o encanto não for quebrado.",nivel:10}],descricao:`Esta aterrorizante magia castiga um ser (caso falhe em sua resistência à magia}, condenando-o a uma dor horrível, podendo matar em seu efeito mais poderoso.

No ser afetado será implantada uma semente que se desenvolverá e utilizará o corpo da vítima como hospedeiro até que a duração do feitiço se esgote. Os efeitos da magia acontecem imediatamente após o alvo falhar em sua resistência à magia.

O efeito plástico deste feitiço causa um quadro espantoso fazendo com que o recipiente da magia seja alvo de escárnio. O tipo de vegetal implantado e as conseqüências de sua estadia variam com a dificuldade do efeito usado. Se alguma parte da planta parasita for arrancada, outra irá crescer imediatamente substituindo esta.`,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:W.bloqueio,nome:"Bloqueio",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:3,isRaio:!0},duracao:{tipo:C.DIA,valor:1},custo:{ouro:2},descricao:"Impede a entrada de criaturas animadas que sejam de estágio 2 ou inferior. A área de atuação da magia é de 3m de raio.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:5,isRaio:!0},duracao:{tipo:C.SEMANA,valor:1},custo:{ouro:4},descricao:"Impede a entrada de criaturas animadas que sejam de estágio 4 ou inferior. A área de atuação da magia é de 5m de raio.",nivel:2},{id:"2",alcance:{tipo:L.METRO,valor:7,isRaio:!0},duracao:{tipo:C.SEMANA,valor:2},custo:{ouro:8},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 7 ou inferior. A área de atuação da magia é de 7m de raio.",nivel:4},{id:"3",alcance:{tipo:L.METRO,valor:15,isRaio:!0},duracao:{tipo:C.MES,valor:1},custo:{ouro:12},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 10 ou inferior. A área de atuação da magia é de 15m de raio.",nivel:6},{id:"4",alcance:{tipo:L.METRO,valor:25,isRaio:!0},duracao:{tipo:C.MES,valor:6},custo:{ouro:16},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 13 ou inferior. A área de atuação da magia é de 25m de raio.",nivel:8},{id:"5",alcance:{tipo:L.METRO,valor:50,isRaio:!0},duracao:{tipo:C.ANO_E_DIA},custo:{ouro:20},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 16 ou inferior. A área de atuação da magia é de 50m de raio A duração do efeito é de 1 ano e 1 dia.",nivel:10}],descricao:`Esta magia cria um campo de força mística que interfere nos encantos de animação impedindo a entrada de criaturas animadas na área de atuação da magia. Qualquer criatura animada (Armaduras Animadas, variações de Golens, Estatuas Animadas, Gárgulas, Árvores Animadas, Corpos Necroanimados etc.) que tentar entrar na área de atuação do bloqueio deverá realizar um teste de resistência à magia, caso falhe não poderá entrar na área.

A área de atuação da magia, o poder das criaturas afetadas (estágio) e a duração do encanto variam com a dificuldade do efeito.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.boato,nome:"Boato",niveis:[{id:"0",descricao:"A vítima passará a informação para 3 pessoas.",nivel:1},{id:"1",descricao:"A vítima passará a informação para 6 pessoas.",nivel:2},{id:"2",descricao:"A vítima passará a informação para 15 pessoas.",nivel:4},{id:"3",descricao:"A vítima passará a informação para 40 pessoas.",nivel:6},{id:"4",descricao:"A vítima passará a informação para 80 pessoas.",nivel:8},{id:"5",descricao:"A vítima passará a informação para 150 pessoas.",nivel:10}],descricao:`Com este poderoso feitiço, o evocador pode espalhar um boato de forma que seja tido como verdade por aqueles que o ouviram, manipulando o pensamento destas pessoas.

Isso se dá da seguinte forma: primeiramente o evocador deverá conversar por, no mínimo, 5 minutos com uma, e somente uma pessoa sobre o assunto que deverá se tornar o boato. No final da conversa o evocador deverá dizer uma frase, geralmente resumindo o que ele disse até então, de no máximo 20 palavras que será justamente o boato. A pessoa então deverá fazer um teste de Resistência à Magia e, se falhar, assimilará o boato como verdade, sentindo a necessidade de passar essa informação para outras pessoas.

O número de pessoas que ela necessariamente deverá passar a informação adiante, variará de acordo com o nível da magia. Quando a vítima espalhar o boato para o número máximo de pessoas descrito no nível, ela não sentirá mais a necessidade de passar adiante a informação, embora ela possa fazê-lo caso seja de seu desejo. O boato espalhado pela vítima necessariamente deverá ser fiel ao transmitido do evocador a ela.

Além disso, a vítima após uma hora de enfeitiçada esquecerá quem foi a pessoa que lhe passou a informação. Ela não se lembrará de seu nome nem rosto nem qualquer outro elemento que possa identificá-la, mas saberá que veio de uma fonte altamente "confiável".`,extra:["As pessoas as quais o boato for transmitido podem acreditar ou não no que a vítima disser. Isso é uma decisão particular de cada pessoa. Por conta disso, é sempre importante para o evocador escolher a pessoa certa, que tenha mais credibilidade o possível, para que passe o boato. Assim, se a vítima for uma criança, muitas pessoas possivelmente não acreditarão no que ela disser, alegando ser fruto da imaginação dela. No entanto, se a vítima for um sacerdote respeitado, as pessoas tenderão a ser muito mais receptivas ao que ele disser."],alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:20}},{id:W.bolaDeFogo,nome:"Bola de Fogo",niveis:[{id:"0",descricao:"Causa 12 pontos de dano em uma esfera de 1 metro de raio.",nivel:1},{id:"1",descricao:"Causa 16 pontos de dano em uma esfera de 2 metros de raio.",nivel:2},{id:"2",descricao:"Causa 20 pontos de dano em uma esfera de 4 metros de raio.",nivel:3},{id:"3",descricao:"Causa 28 pontos de dano em uma esfera de 6 metros de raio.",nivel:5},{id:"4",descricao:"Causa 32 pontos de dano em uma esfera de 10 metros de raio.",nivel:7},{id:"5",descricao:"Causa 36 pontos de dano em uma esfera de 10 metros de raio.",nivel:9}],descricao:`Essa magia cria uma pequena bola de fogo que voa da mão do evocador em direção a um alvo escolhido. Ao se aproximar do alvo ela explode, causando dano na área de explosão.

Veja que o encanto não tem precisão, podendo atingir qualquer um na área de efeito da explosão. Isto é resolvido com um ataque individual em cada um que estiver na área de efeito da magia. O dano máximo é dito no efeito.`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.bote,nome:"Bote",niveis:[{id:"0",descricao:"O bote permite um Ataque Oportuno por uma rodada (mesmo sem obter surpresa) e caso obtenha surpresa (parcial ou completa) na próxima rodada poderá fazer mais um Ataque Oportuno.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas caso acerte 100% na EH ou acerte a EF do oponente, este deve fazer um teste de moral fácil, caso falhe fugirá do combate.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas caso obtenha surpresa (parcial ou completa) poderá fazer nas próximas duas rodadas um Ataque Oportuno (um por rodada). O teste de moral é médio.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas o teste de moral é difícil. Caso o oponente falhe no teste de moral, os companheiros dele devem fazer um teste fácil de moral, e se falharem fugirão também.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas caso obtenha surpresa (parcial ou completa) poderá fazer nas próximas três rodadas um Ataque Oportuno (um por rodada). O teste de moral é muito difícil para o oponente e médio para os companheiros deles.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas o teste de moral é absurdo para o oponente e difícil para os companheiros dele.",nivel:10}],descricao:`Com este encanto, o evocador traz sobre si o espírito de alguns animais predadores, que lhe concedem uma manobras especial: o Bote, que consiste em realizar um ataque no momento mais oportuno sobre sua vítima. Para isto, antes de poder evocar esta magia é necessário que ele possua um amuleto composto por alguma parte destes tipos de animais, como cobras, felinos, crocodilos, etc. O amuleto deve ser criado pelo próprio evocador com partes do animal morto (há no máximo um dia}, sendo que ele não pode ter matado o animal apenas para o propósito de confeccionar o amuleto.

Para realizar o bote, é necessário estar no máximo a 10 metros de distância da vítima. Caso a vítima não perceba sua presença (Surpresa parcial ou completa) ou esteja em uma situação desfavorável (caído no chão, de costas, tropeção, etc}, o efeito do bote é prolongado de acordo com nível do encanto utilizado e o bônus de Ataque oportuno pode ser usado em todos os ataques enquanto durar a magia; caso não pegue o oponente de surpresa ou em situação desfavorável, o encanto só terá efeito em um ataque, podendo usar o Ataque Oportuno mesmo quando não poderia.

Por se tratar de uma manobra impetuosa, o místico ganha automaticamente a iniciativa dos ataques enquanto o encanto estiver vigente. Os ajustes deste encanto afetarão apenas o evocador e a vítima do seu bote. Outro efeito da magia é assustar o oponente e os companheiro dele, o que poderá fazer com que fuja(m) caso falhe(m) num teste de moral.`,extra:["Esta magia só pode ser usada com armas de corpo-a-corpo, e após ser evocada deve-se realizar o ataque em no máximo 3 rodadas, senão perde o efeito. É importante ressaltar que esta magia não estende a duração do efeito de Surpresa Completa (ataque direto na EF}, assim sendo, após o primeiro ataque deve-se considerar os Ataques Oportunos extras como se fosse surpresa parcial (dano na EH) até o termino dos efeitos da magia. Este encanto só pode ser usado contra 1 oponente."],alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.bravura,nome:"Bravura",niveis:[{id:"0",descricao:"Torna alguém imune a magias que causem pavor de nível 1 e ainda ganha 4 pontos de EH, podendo ir além do máximo; ou anula os efeitos de magias que causem pavor de nível 1.",nivel:1},{id:"1",descricao:"Torna alguém imune a magias que causem pavor de nível 2 e ainda ganha 8 pontos de EH, podendo ir além do máximo; ou anula os efeitos de magias que causem pavor de nível 2.",nivel:2},{id:"2",descricao:"Torna alguém imune a magias que causem pavor de nível 4 e ainda ganha 12 pontos de EH, podendo ir além do máximo; ou anula os efeitos de magias que causem pavor de nível 4.",nivel:4},{id:"3",descricao:"Torna alguém imune a magias que causem pavor de nível 6 e ainda ganha 16 pontos de EH, podendo ir além do máximo; ou Anula os efeitos de magias que causem pavor de nível 6.",nivel:6},{id:"4",descricao:"Torna alguém imune a magias que causem pavor de nível 8 e ainda ganha 20 pontos de EH, podendo ir além do máximo; ou Anula os efeitos de magias que causem pavor de nível 8.",nivel:8},{id:"5",descricao:"Torna alguém imune a magias que causem pavor de nível 10 e ainda ganha 24 pontos de EH, podendo ir além do máximo; ou Anula os efeitos de magias que causem pavor de nível 10.",nivel:10}],descricao:`Com esse milagre o sacerdote torna alguém ou a si próprio mais bravo, fazendo com que o beneficiado se torne imune a magias que causem pavor, como Medo e Covardia e ainda ganhe uma EH extra que pode ir além do máximo.

Este milagre pode ser evocado durante o turno de combate do sacerdote sem contar como uma ação.

A imunidade a magias que causem pavor, funciona do mesmo jeito que a Magia Proteção Mental, ou seja, o nível de “Bravura” utilizado torna o personagem imune a magias que causem pavor cujo nível seja igual ou inferior ao do milagre. Assim com Bravura 4, um personagem está imune a Medo 1, 2 e 4 mas não tem qualquer efeito para Medo 6 por exemplo.

Se essa magia for lançada sobre um alvo vítima dos efeitos de fuga causados pelas magias Medo ou Covardia, esses efeitos podem ser imediatamente quebrados, dependendo da dificuldade do efeito usado.

Caso não queira receber os efeitos da Bravura, o alvo pode fazer um teste de RM. Uma criatura sob efeito Bravura estará motivada e determinada a enfrentar situações de risco. Desta forma, para fugir de uma batalha ela precisa ser bem sucedida em um teste de RM ou continuará em combate até que seus inimigos sejam derrotados.

OBS: Na rodada que esta magia é evocada não é permitido que o evocador faça outra magia. Nas rodadas subsequentes na qual a magia continua fazendo efeito esta restrição não se aplica e o evocador pode evocar outras magias normalmente`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.HORA,valor:2},evocacao:{tipo:G.INSTANTANEA}}]})(ix||(ix={}));var sx;(t=>{t.lista=[{id:W.cacadaMarcada,nome:"Caçada Marcada",niveis:[{id:"0",duracao:{tipo:C.SEMANA,valor:1},alcance:{valor:1,isRaio:!0,tipo:L.QUILOMETRO},descricao:"O místico sabe a direção e será guiado até o ser marcado, desde que este esteja dentro do alcance.",nivel:1},{id:"1",duracao:{tipo:C.SEMANA,valor:2},alcance:{valor:5,isRaio:!0,tipo:L.QUILOMETRO},descricao:"Idem ao anterior e saberá quando se aproximar a 100 metros ou menos da caça. Também receberá informações genéricas (longe, perto, muito perto, etc) sobre a distância entre ele e a caça.",nivel:3},{id:"2",duracao:{tipo:C.SEMANA,valor:3},alcance:{valor:10,isRaio:!0,tipo:L.QUILOMETRO},descricao:"Idem ao anterior e saberá quando se aproximar a 1 km ou menos da caça.",nivel:5},{id:"3",duracao:{tipo:C.SEMANA,valor:4},alcance:{valor:50,isRaio:!0,tipo:L.QUILOMETRO},descricao:"Idem ao anterior e saberá quando se aproximar a 5 km ou menos da caça. Também receberá informações mais precisas sobre a distância entre ele e a caça (com uma precisão de 50 metros).",nivel:7},{id:"4",duracao:{tipo:C.SEMANA,valor:5},alcance:{valor:100,isRaio:!0,tipo:L.QUILOMETRO},descricao:"idem ao anterior e saberá quando se aproximar a 10 km ou menos da caça.",nivel:9}],descricao:`Ao evocar essa magia, o místico marca a aura de uma presa para continuar a caçada caso ela fuja ou escape do combate, ou prefira caçá-la em melhores condições. A criatura a ser marcada deve estar até 5 metros do evocador e precisa falhar em um teste de RM para o encanto funcionar. A aura do ser marcado emanará um brilho tênue percebível apenas pelo evocador (à noite, se destaca a uma distância máxima de 10 metros, de dia não faz diferença).

A magia apontará a direção e guiará o evocador até o exato local onde a caça se encontra, desde que esteja dentro do raio de alcance definido pelo nível da magia. Se a presa sair dessa área, o místico só terá informações até a borda do raio, daí para frente nada mais será informado. Caso volte para a marcação antes que a duração do feitiço acabe, o encanto é retomado. É importante ressaltar que a magia não fornece informações acerca do local que se encontra a criatura, o místico só tomará conhecimento quando chegar lá. Os níveis darão informações acerca da distância entre o caçador e a caça.

Note que apenas o místico obtém informação da presa (esta não recebe informação sobre o caçador). Após a duração do encanto, a presa deixará de brilhar e o evocador não receberá mais informações, sabendo apenas a direção e distância até o momento. A magia funciona em qualquer ser que tenha aura.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.campoabencoado,nome:"Campo Abençoado",niveis:[{id:"0",nivel:1,alcance:{tipo:L.METRO,valor:20,isRaio:!0},evocacao:{tipo:G.RODADA,valor:10},descricao:"Com este efeito o sacerdote cria um campo em que todo aquele que descansar ou fizer esforço leve, sua recuperação de EH será como se estivesse dormindo, sendo 2 pontos por hora. Fazendo esforço pesado a recuperação de EH é de 1 ponto por hora."},{id:"1",alcance:{tipo:L.METRO,valor:20,isRaio:!0},evocacao:{tipo:G.RODADA,valor:10},descricao:"Idem ao anterior, além disso, com este efeito todos aumentam em 2 sua coluna de ataque contra criaturas infernais e mortos vivos.",nivel:2},{id:"2",alcance:{tipo:L.METRO,valor:20,isRaio:!0},evocacao:{tipo:G.RODADA,valor:10},descricao:"Idem ao anterior, mas o aumento em 2 sua coluna de ataque também afeta as raças selvagens. Além disso, com este efeito não são necessárias mais as três horas iniciais para conformação do mana, para só então passar a recuperar o karma. Todos dentro do Alcance da magia passam a recuperar 1 ponto de karma por hora.",nivel:4},{id:"3",alcance:{tipo:L.QUILOMETRO,valor:1,isRaio:!0},evocacao:{tipo:G.RITUAL},descricao:"Idem ao anterior, mas com este efeito o Sacerdote também consegue sentir a presença das criaturas inimigas. Além disso, pelas propriedades curativas, qualquer teste de medicina realizado no campo terá -1 nível de dificuldade, e caso a EF esteja entre -11 e -15, qualquer um se estabiliza na primeira hora em que estiver dentro do Alcance da magia.",nivel:6},{id:"4",alcance:{tipo:L.QUILOMETRO,valor:10,isRaio:!0},evocacao:{tipo:G.RITUAL},descricao:"Idem ao anterior, mas qualquer teste de medicina realizado no campo terá -2 níveis de dificuldade, e o alcance da magia passa a ser de 10 km.",nivel:8},{id:"5",alcance:{tipo:L.QUILOMETRO,valor:10,isRaio:!0},evocacao:{tipo:G.RITUAL},descricao:"Idem ao anterior, mas com este efeito todos, incluindo a fauna e a flora, aumentam em 3 sua coluna de ataque contra qualquer um que tenha intenção de prejudicar, seja pessoa, animal ou o meio ambiente, que estejam dentro do Alcance da magia.",nivel:10}],descricao:"Com este milagre, o sacerdote de Sevides é capaz de abençoar uma determinada área de 20 metros a 10 km de raio. Nessa área, a proteção de Sevides estará sobre aquele que nela permanecer por toda sua duração. Esse milagre é muito utilizado nas aventuras, dada as propriedades de cura e proteção.",alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.HORA,valor:8},evocacao:{tipo:G.VARIAVEL}},{id:W.campoabencoado,nome:"Camuflagem",niveis:[{id:"0",descricao:"O ambiente deve ser no mínimo equivalente a uma vegetação muito densa, grandes declinações no terreno (ladeiras, pedras, planaltos etc.}, lugares escuros (como cavernas}, etc.",nivel:1},{id:"1",descricao:"O ambiente deve ser no mínimo equivalente a uma vegetação mediana ou médias declinações no terreno.",nivel:2},{id:"2",descricao:"O ambiente deve ser no mínimo equivalente a uma vegetação baixa ou onde haja um pequeno declínio no terreno. Os alvos da magia podem se mover lentamente (1 metro pro rodada).",nivel:4},{id:"3",descricao:"Idem ao anterior, mas agora os alvos agora podem se mover do local desde que a sua velocidade não seja superior a 2 metros por rodada.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas agora podem se mover usando metade da sua velocidade base.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas agora podem se mover metade da sua velocidade base normal e é possível se camuflar mesmo em ambientes que não sejam naturais.",nivel:10}],descricao:`Este encanto permite que o evocador use o ambiente a sua volta para camuflar a si mesmo e/ou outros seres próximos. A camuflagem dada por esta magia é adaptável ao ambiente de forma a deixar os alvos quase imperceptíveis.

Os seres e seus pertences ficam camuflados de forma idêntica ao ambiente onde estão, para vê-los é necessário um teste Azul (Muito Difícil) na habilidade Usar os Sentidos. Estes serão notados como uma espécie de forma aquosa muito parecida como a do personagem do cinema "Predador", do filme "O Predador". Note que a magia camuflagem não os impede de serem percebidos pelos sentidos que não sejam a visão. Os níveis que não possuem duração perduram até que o alvo se mova, os demais níveis ficam ativos para cada alvo por um tempo de dez minutos ou podem terminar antes caso este efetue um ataque, mova-se além da velocidade permitida ou evoque uma magia. A quantidade de alvos que a magia afeta é sempre dois, sendo o evocador e outro alvo, exceto nos níveis mais avançados onde afeta apenas o evocador e seus companheiros animais.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.cancaoDoAlento,nome:"Canção do Alento",niveis:[{id:"0",descricao:"A pessoa receberá +1 coluna em todas as suas habilidades. O evocador recebe 5 pontos de dano na EH.",nivel:1},{id:"1",descricao:"A pessoa receberá +2 colunas em todas as suas habilidades. O evocador recebe 10 pontos de dano na EH.",nivel:2},{id:"2",descricao:"A pessoa receberá +3 colunas em todas as suas habilidades. O evocador recebe 15 pontos de dano na EH.",nivel:4},{id:"3",descricao:"A pessoa receberá +4 colunas em todas as suas habilidades. O evocador recebe 20 pontos de dano na EH.",nivel:6},{id:"4",descricao:"A pessoa receberá +5 colunas em todas as suas habilidades e ainda receberá 5 EH, podendo ir além do seu máximo. O evocador recebe 25 pontos de dano na EH.",nivel:8},{id:"5",descricao:"A pessoa receberá +6 colunas em todas as suas habilidades, receberá 10 EH, podendo ir além do seu máximo, e seu brilhantismo lhe confere uma capacidade de lidar com as pessoas equivalente a da magia Amizade nível 1 até duas vezes dentro da duração da magia. O evocador recebe 30 pontos de dano na EH.",nivel:10}],descricao:`A ansiedade e a preocupação são grandes inimigos dos heróis. Uma batalha decisiva, uma disputa de honra, uma reunião diplomática ou mesmo o encontro com alguém de grande importância: tudo isso pode ser motivo de preocupação e com certeza, perturba a pessoa e a impede de ter o seu melhor desempenho. Existem aqueles, no entanto, através da música, conseguem trazer alento ao coração preocupado e paz ao ânimo inquieto.

Através de um ritual extremamente cansativo para o evocador, ele pode fazer com que a pessoa tensa consiga ter uma noite de sono com perfeita paz, repleta de sonhos com mensagens animadoras e vitoriosas. No dia seguinte, essa pessoa acordará de forma tão disposta, que tudo o que ela estava para fazer terá uma maior chance de dar certo. Para quem observa, a pessoa está radiante, com brilho, como se dissesse que aquele dia havia sido feito exatamente para aquela pessoa. É importante notar que embora possam existir outras pessoas que durmam próximas uma das outras, apenas uma delas (a que o evocador escolher) poderá ser beneficiada pelo encanto.

Para que o ritual funcione, é necessário primeiramente que a pessoa beneficiada tenha algum motivo de preocupação e ansiedade de algo que venha a ocorrer no dia seguinte da realização do ritual. Satisfeita essa condição, o evocador deverá tocar uma canção suave enquanto a pessoa ainda estiver acordada. Após algum tempo, essa pessoa acabará dormindo e o evocador deverá continuar tocando até o dia seguinte, quando a pessoa acordar. Ela irá dormir muito bem e acordará no dia seguinte com uma série de bônus. No entanto, é necessário que o tempo de sono seja de no mínimo 6 horas. Conseqüentemente, a evocação da magia será de no mínimo seis horas somados ao tempo inicial da música enquanto a pessoa ainda estava acordada.

Nesse sentido, se por algum motivo, a pessoa acordar ou o evocador parar de tocar enquanto a pessoa estiver dormindo, a magia perderá o seu efeito.

Este encanto é extremamente cansativo para o evocador, fazendo com que ele perca uma quantidade de EH ao final da evocação. Caso a EH dele chegue a zero com este encanto, ele irá desmaiar, só acordando após 8 horas de sono. A EH , no entanto, recupera normalmente com o descanso.

Os bônus recebidos duram 1 dia contado a partir do momento que a pessoa acorda. Os bônus também serão perdidos caso a pessoa decida dormir antes do tempo se esgotar.`,extra:["Caso um ou outro aconteça, é impossível retomar a evocação da magia uma vez que ela tenha sido quebrada.","A pessoa beneficiada deve ser capaz de ouvir e querer ouvir a música, não podendo, nesse sentido, a magia ser imposta."],alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.DIA,valor:1},evocacao:{tipo:G.VARIAVEL}},{id:W.cancaoDoAnimo,nome:"Canção do Ânimo",niveis:[{id:"0",nivel:1,descricao:"Concede +3 nos ataques para 1 pessoa."},{id:"1",nivel:3,descricao:"Concede +3 nos ataques para 3 pessoas."},{id:"2",nivel:5,descricao:"Concede +3 nos ataques para 6 pessoas."},{id:"3",nivel:6,descricao:"Concede +5 na EH e +5 nos ataques para uma pessoa."},{id:"4",nivel:8,descricao:"Concede +5 na EH e +5 nos ataques para 2 pessoas."},{id:"5",nivel:10,descricao:"Concede +10 na EH e +5 nos ataques para 6 pessoas."}],descricao:`Com o uso deste feitiço, o Bardo pode dar a um ou mais de seus companheiros ânimo e coragem para enfrentar o combate. O número de pessoas que podem ser afetadas e o efeito específico de cada uso dependem da dificuldade.

O encanto Concede ajuste na EH e no ataque do personagem que esteja sob o seu efeito. O ajuste na EH se dá como certo número de pontos que são somados à EH do beneficiado, podendo mesmo passar do máximo da pessoa. Caso um personagem ainda tenha mais pontos de EH que o seu máximo no fim da duração desta magia, estes pontos adicionais desaparecem.

O ajuste no ataque que é ganho toma a forma de um ajuste na coluna de resolução final do personagem. Assim sendo, o personagem soma o ajuste ganho com a sua coluna de resolução para obter a coluna na qual o ataque é feito.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.RODADA,valor:20},evocacao:{tipo:G.RODADA,valor:1}},{id:W.cancaoDoSono,nome:"Canção do Sono",niveis:[{id:"0",descricao:"Torna uma vítima sonolenta, causando um ajuste de -5 para as Percepções.",nivel:1},{id:"1",descricao:"Torna três vítimas sonolentas, causando um ajuste de -5 para as Percepções.",nivel:2},{id:"2",descricao:"Faz dormir uma pessoa. Note-se o simples sacolejar da vítima poderá quebrar o efeito da magia.",nivel:3},{id:"3",descricao:"Faz dormir duas pessoas. Note-se o simples sacolejar da vítima poderá quebrar o efeito da magia.",nivel:4},{id:"4",descricao:"Faz dormir uma pessoa, sendo quebrado o encanto caso a vítima sinta dor ou incômodos maiores.",nivel:5},{id:"5",descricao:"Faz dormir duas pessoas, sendo quebrado o encanto caso as vítimas sintam dor ou incômodos maiores.",nivel:6},{id:"6",descricao:"Faz dormir três pessoas, sendo quebrado o encanto caso as vítimas sintam dor ou incômodos maiores.",nivel:7},{id:"7",descricao:"Faz uma pessoa dormir um sono profundo, mas podendo ser acordada apenas quando a magia for anulada ou sua duração se esgotar, por isso este efeito não poderá ser quebrado mesmo que sejam desferidos golpes que causem dor na vítima.",nivel:8},{id:"8",descricao:"Faz três pessoas dormirem um sono profundo, que podem ser acordadas apenas quando a magia for anulada ou sua duração se esgotar, por isso este efeito não poderá ser quebrado mesmo que sejam desferidos golpes que causem dor nas vítimas.",nivel:9},{id:"9",descricao:"Faz todas as pessoas que escutarem a música dormirem um sono profundo, os efeitos atingem inclusive os aliados do evocador que escutarem. Só acordarão quando a magia for anulada ou sua duração se esgotar. Note-se que os efeitos deste nível não serão quebrados mesmo que sejam desferidos golpes que causem dor nas vítimas.",nivel:10}],descricao:`Esta magia permite que o Bardo, toque algumas notas musicais que, combinadas com a sua mágica, podem fazer com que um ou mais seres sintam sono. Qualquer nível desta magia não atingirá o evocador que lançá-la.

A duração do feitiço, a não ser que a descrição do efeito diga o contrário, é igual a 20 rodadas ou o tempo que o evocador permanecer concentrado tocando a canção, desde que não exceda a 2 (duas) horas. Se o Bardo for impedido de continuar tocando ou as vítimas do encanto saírem do alcance da canção o feitiço permanece pelo restante da duração ou (se a duração tiver se esgotado) se quebra imediatamente (as vítimas acordam).`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:20,descricao:"20 rodadas ou o tempo que o evocador permanecer concentrado tocando a canção, desde que não exceda a 2 (duas) horas"},evocacao:{tipo:G.RODADA,valor:1}},{id:W.cancaoDoTormento,nome:"Canção do Tormento",niveis:[{id:"0",descricao:"Afeta uma pessoa impondo um ajuste de -1 coluna.",nivel:1},{id:"1",descricao:"Afeta uma pessoa impondo um ajuste de -2 colunas e perda de 5 pontos de EH.",nivel:2},{id:"2",descricao:"Afeta uma pessoa impondo um ajuste de -3 colunas e perde de 10 pontos de EH.",nivel:4},{id:"3",descricao:"Afeta uma pessoa impondo um ajuste de -4 colunas e perda de 15 pontos de EH.",nivel:6},{id:"4",descricao:"Afeta uma pessoa impondo um ajuste de -5 colunas e perda de 20 pontos de EH.",nivel:8},{id:"5",descricao:"Afeta uma pessoa impondo um ajuste de -6 colunas e perda de 30 pontos de EH.",nivel:10}],descricao:`Canção do Tormento é um encanto utilizado em batalhas. O evocador canta uma canção ou apenas toca uma melodia ou até mesmo fala algumas coisas e a vítima deverá fazer uma resistência à magia; se falhar virá à mente da vítima uma imagem julgadora de seus atos; assim se o pai de um inimigo condenava seus atos, a imagem do pai da vítima virá à sua mente; se um grande espadachim for a vítima, a imagem do seu mestre poderá vir a mente. Diversas podem ser as imagens, mas todas elas causarão uma dificuldade na batalha. No primeiro caso a imagem do pai desconcentra o oponente, no segundo caso, a imagem do mestre faz com que o espadachim fique nervoso, pois não pode errar na frente do seu mestre. Essas imagens farão com que as vítimas lutem em piores condições, já que estão sendo submetidas a um olhar superior que as pressionam e as desconcentram.

Caso a EH da vítima chegue a zero com esse feitiço, a vítima não conseguirá fazer nada além de chorar, lamentar ou amaldiçoar a imagem que veio a sua mente por 5 rodadas. Caso ela seja atacada, no entanto, durante esse período, ela será desperta do transe. `,extra:["Até mesmo criaturas dos reinos inferiores podem ser afetadas por esse encanto: um ser inferior de baixo nível pode ficar aterrorizado com a lembrança do discurso de seu superior de quem falhar na missão. Seres irracionais não podem ser afetados por esse encanto."],alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:20},evocacao:{tipo:G.RODADA,valor:1}},{id:W.cataclisma,nome:"Cataclisma",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:2,isRaio:!0},descricao:"Rouba o karma de até 1 alvo, a explosão tem 2 metros de raio e causa dano máximo 12.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:3,isRaio:!0},descricao:"Rouba o karma de até 1 alvo, a explosão tem 3 metros de raio e causa dano máximo 16.",nivel:2},{id:"2",alcance:{tipo:L.METRO,valor:4,isRaio:!0},descricao:"Rouba o karma de até 2 alvos, a explosão tem 4 metros de raio e causa dano máximo 20.",nivel:4},{id:"3",alcance:{tipo:L.METRO,valor:5,isRaio:!0},descricao:"Rouba o karma de até 2 alvos, a explosão tem 5 metros de raio e causa dano máximo 24.",nivel:6},{id:"4",alcance:{tipo:L.METRO,valor:6,isRaio:!0},descricao:"Rouba o karma de até 3 alvos, a explosão tem 6 metros de raio e causa dano máximo 28.",nivel:8},{id:"5",alcance:{tipo:L.METRO,valor:7,isRaio:!0},descricao:"Rouba o karma de até 3 alvos, a explosão tem 7 metros de raio e causa dano máximo 32.",nivel:10}],descricao:`Com esta magia, o mago alquímico pode roubar a energia de outros místicos e as converter em uma quantidade de energia que se manifesta na forma de uma explosão em, forma de domo, ao redor do evocador atingindo a todos que estejam na área.

Na pratica o evocador deverá, primeiramente, escolher os alvos que terão suas energias “roubadas” (os alvos têm de estar a pelo menos 20 metros do evocador). Após a evocação, os alvos escolhidos deverão fazer uma resistência á magia e os que falharem perderão 1 ponto de karma que será imediatamente assimilado à energia do cataclisma. A cada um (1) ponto de karma roubado, aumenta-se (4) no dano básico da explosão (se um cataclisma de dano máximo 16 receber um acréscimo de 2 pontos de karma, seu dano máximo passará a ser 24) .

A área de abrangência da explosão, o número de alvos que poderão ter o karma roubado e o dano da explosão, varia com o efeito usado.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.chuvaAcida,nome:"Chuva Ácida",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:25,isRaio:!0},descricao:"Causa dano 1 por rodada de exposição em área de até 25 m de raio.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:50,isRaio:!0},descricao:"Causa dano 2 por rodada de exposição em área de até 50 m de raio.",nivel:3},{id:"2",alcance:{tipo:L.METRO,valor:125,isRaio:!0},descricao:"Causa dano 2 por rodada de exposição em área de até 125 m de raio",nivel:5},{id:"3",alcance:{tipo:L.METRO,valor:150,isRaio:!0},descricao:"Causa dano 3 por rodada de exposição em área de até 150 m de raio",nivel:7},{id:"4",alcance:{tipo:L.METRO,valor:300,isRaio:!0},descricao:"Causa dano 3 por rodada de exposição em área de até 300 m de raio",nivel:9}],descricao:`Restrição de Uso: Ar livre

Esta magia manipula as propriedades gasosas das nuvens fazendo com que produzam ácido e água.

Durante a evocação, o místico deve posicionar o foco de atuação em qualquer lugar dentro do alcance da magia. Uma vez posicionado, o foco não poderá ser mudado de posição até o final da duração da magia.

No local do foco de atuação da magia o céu é tomado por uma nuvem negra em forma de redemoinho. A tonalidade negra da nuvem se expande do centro do redemoinho para fora. Ao final da evocação a chuva ácida começará a cair da nuvem negra atingindo tudo que estiver na área de efeito. Esta magia causa dano por rodada em criaturas que estejam no foco de atuação. Qualquer estrutura que esteja na área de efeito sofrerá danos por corrosão.

Esta magia é perigosa podendo causar sérios danos á natureza, sendo por esse motivo, usada em ultima instancia pelos Naturalistas.

Esta magia não cria a chuva, apenas se utiliza dela, por isso é preciso que o tempo já esteja chuvoso antes do início de evocação da magia. Para criar chuva, leia o encanto Controle Climático. O dano por rodada de exposição e a área de atuação da chuva ácida variam com a dificuldade do efeito. A área pode ser controlada de no mínimo 25 m de raio até o máximo que o efeito permitir.`,alcance:{tipo:L.QUILOMETRO,valor:1},duracao:{tipo:C.RODADA,valor:30},evocacao:{tipo:G.RODADA,valor:3}},{id:W.circuloDeProtecao,nome:"Círculo de Proteção",niveis:[{id:"0",duracao:{tipo:C.HORA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 2",nivel:1},{id:"1",duracao:{tipo:C.HORA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 3.",nivel:2},{id:"2",duracao:{tipo:C.HORA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 5.",nivel:3},{id:"3",duracao:{tipo:C.DIA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 4.",nivel:4},{id:"4",duracao:{tipo:C.DIA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 7.",nivel:5},{id:"5",duracao:{tipo:C.DIA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 9.",nivel:6},{id:"6",duracao:{tipo:C.ANO_E_DIA},descricao:"Impede a entrada de criaturas de Estágio inferior a 11 por um ano e um dia.",nivel:7},{id:"7",duracao:{tipo:C.ANO_E_DIA},descricao:"Impede a entrada de criaturas de Estágio inferior a 13 por um ano e um dia.",nivel:8},{id:"8",duracao:{tipo:C.ANO,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 15 por 13 anos.",nivel:9},{id:"9",duracao:{tipo:C.ANO,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 20 por 13 anos.",nivel:10}],descricao:`Esta magia permite que o evocador energize um círculo, previamente preparado no chão, que protegerá quem estiver no seu interior de mortos-vivos que estiverem fora dele. Qualquer outra criatura não será afetada pelo círculo. O poder das criaturas que podem ser contidas e o tempo pelo qual elas podem ser contidas varia com o efeito usado. A Evocação deste feitiço não inclui o tempo necessário para se preparar o círculo.

Cada morto-vivo terá direito a uma Resistência à Magia. Aqueles que falharem não poderão agir direta ou indiretamente sobre quem estiver dentro do círculo (mas quem estiver dentro do círculo poderá agir sobre eles normalmente). Caso seja obtido sucesso na Resistência, a criatura poderá ignorar a existência do círculo por uma hora, embora não possa danificá-lo. Após este tempo, uma nova Resistência à Magia será necessária.

Caso um morto-vivo esteja dentro do círculo quando o feitiço for evocado, ele não será afetado pelo encanto, podendo agir normalmente dentro do círculo e inclusive sair do mesmo. Após deixar o círculo, no entanto, a criatura será tratada como qualquer outra que esteja fora do círculo (ou seja, ela pode não conseguir entrar de novo).

O círculo de proteção pode ser desenhado ou entalhado no chão, em qualquer tamanho desejado pelo evocador (desde que ele tenha dinheiro para pagar os materiais) até o limite de 5 metros de raio. Caso o evocador deseje desenhar o círculo, o traçado do mesmo levará 2 horas por metro de raio e custará uma moeda de ouro por metro de raio. Caso o evocador deseje entalhar o círculo no chão, o entalhe custará 5 moedas de ouro por metro de raio e demorará dois dias por metro de raio, mas a Resistência à Magia da criatura é reduzida em 5 colunas.

Os círculos são bastante vulneráveis a ataques. Caso qualquer parte de um circulo desenhado seja apagada ou qualquer parte de um circulo entalhado seja desfigurada (quebrada, lascada, etc.) a integridade do círculo será comprometida, se isso acontecer, qualquer feitiço que estiver em efeito nele será destruído. Mesmo que não haja nenhum feitiço em efeito no momento do comprometimento, o circulo é, a partir, de então inútil, não podendo mais ser usado. É impossível reparar um circulo que tenha sido danificado.

Círculos podem ser reutilizados, mas a cada novo uso deve-se gastar novamente o Karma do feitiço e mais uma moeda de ouro em materiais.`,alcance:{tipo:L.METRO,valor:5,descricao:"Até 5m de raio"},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.clarividencia,nome:"Clarividência",niveis:[{id:"0",duracao:{tipo:C.SEGUNDO,valor:1},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o MESTRE escolhe).",nivel:1,custo:{ouro:1}},{id:"1",duracao:{tipo:C.SEGUNDO,valor:10},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o MESTRE escolhe).",nivel:3,custo:{ouro:3}},{id:"2",duracao:{tipo:C.SEGUNDO,valor:1},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o JOGADOR escolhe).",nivel:5,custo:{ouro:5}},{id:"3",duracao:{tipo:C.SEGUNDO,valor:10},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o JOGADOR escolhe).",nivel:7,custo:{ouro:7}},{id:"4",duracao:{tipo:C.SEGUNDO,valor:20},descricao:"O evocador tem uma visão (imagem e som) e pode ser do presente ou do futuro (o JOGADOR escolhe).",nivel:9,custo:{ouro:9}}],descricao:`Com esta magia o evocador tem uma visão de lugares e de situações, sejam elas no presente ou no futuro. O que será visto é uma imagem (parada ou em movimento com ou sem som) de um lugar ou situação, e a precisão não é grande. O jogador antes de fazer a magia deve dizer ao Mestre o que pretende ver. De acordo com o efeito o Mestre, determinará o que será visto. Não há limite para a distância mas a duração da visão é dada no efeito. Note que toda visão é meio turva e mas o som é bem razoável. Toda clarividência que seja sobre o futuro não necessariamente irá acontecer.

Para este ritual precisa-se que esteja disponível um objeto apropriado para clarividência, que pode ser uma bola de cristal, um espelho, ou um pequeno lago ou poço, desde que a água esteja completamente parada.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:10}},{id:W.cobertura,nome:"Cobertura",niveis:[{id:"0",descricao:"Os primeiros 10 pontos de dano no alvo são redirecionados para o sacerdote.",nivel:1},{id:"1",descricao:"Os primeiros 20 pontos de dano no alvo são redirecionados para o sacerdote.",nivel:2},{id:"2",descricao:"Os primeiros 30 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 2 pessoas.",nivel:4},{id:"3",descricao:"Os primeiros 40 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 2 pessoas e o dano recebido cai 25%.",nivel:6},{id:"4",descricao:"Os primeiros 50 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 3 pessoas e o dano recebido cai 25%.",nivel:8},{id:"5",descricao:"Os primeiros 60 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 3 pessoas e o dano recebido cai 50%.",nivel:10}],descricao:`Com este milagre o sacerdote cria uma corrente de energia incorpórea que protege uma pessoa até 15 metros de distância, recebendo dano em seu lugar. Após ser encantado com o milagre, o alvo pode entrar em qualquer ambiente normalmente mantendo o alcance (inclusive se houver obstáculos como paredes, portas de madeira ou ferro}, porém se ultrapassar o alcance a magia se desfaz.

Se o alvo do milagre receber dano em combate ou de outras situações, este dano é redirecionado para o Sacerdote que efetuou o milagre, seguindo as regras de se reduzir primeiro Energia Heroica e posterior a Energia Física.

Todos os danos sofridos pelo Alvo da magia é redirecionado para o Sacerdote, inclusive resultados negativos após uma rolagem crítica (20) do atacante, exceto dano que causem morte instantânea por queda ou golpe crítico (20/20).

A quantidade de dano que o sacerdote poderá receber no lugar da pessoa varia de acordo com o nível da magia. Apesar de estar protegendo o alvo da magia, o sacerdote pode continuar atacando normalmente sem qualquer penalidade.

O Sacerdote poderá cancelar o milagre a qualquer momento que desejar sem esforços, desta forma não gasta sua ação se estiver em batalha.

Se o alvo deste milagre, durante uma batalha realizar um ritual ou evocação com uma rodada ou mais e receber ataques na EF ou 100% da EH, este alvo não sofrerá penalidades ou interrupção por dano.`,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.RODADA,valor:30},evocacao:{tipo:G.INSTANTANEA}},{id:W.comandoDePaz,nome:"Comando de Paz",niveis:[{id:"0",duracao:{tipo:C.HORA,valor:1},alcance:{tipo:L.METRO,valor:7},descricao:"Permite ao evocador acalmar pessoas em discussões e desentendimentos. Permite ao evocador ou outra pessoa por ele indicada possa tentar uma persuasão para evitar uma luta. Nesse nível não é possível parar brigas físicas. Podendo afetar até 8 pessoas.",nivel:1},{id:"1",duracao:{tipo:C.HORA,valor:1},alcance:{tipo:L.METRO,valor:7},descricao:"Idem ao anterior, mas pode interromper brigas. Os afetados param de lutar e assumem uma postura defensiva. Porém afeta até 10 pessoas.",nivel:2},{id:"3",duracao:{tipo:C.HORA,valor:3},alcance:{tipo:L.METRO,valor:20},descricao:"A partir desse nível o evocador não precisa argumentar e os afetados são influenciados pela própria influência divina e sentirão uma urgência em recuar e evitar o combate. Aqueles que conseguirem resistir a esta influência sofrem um redutor de -1 na coluna de ataque. Afeta até 20 pessoas.",nivel:4},{id:"3",duracao:{tipo:C.HORA,valor:6},alcance:{tipo:L.METRO,valor:30},descricao:"Idem ao anterior mas afeta até 30 pessoas. Alvos com Resistência à Magia igual ou menor a 2 falham automaticamente.",nivel:6},{id:"4",duracao:{tipo:C.HORA,valor:12},alcance:{tipo:L.METRO,valor:50},descricao:"Idem ao anterior, mas o redutor para ataques passa a ser -2 colunas e afeta até 50 pessoas. Alvos com Resistência à Magia igual ou menor a 4 falham automaticamente.",nivel:8},{id:"5",duracao:{tipo:C.DIA,valor:1},alcance:{tipo:L.METRO,valor:100},descricao:"Idem ao anterior, mas afeta até 100 pessoas. Alvos com Resistência à Magia igual ou menor a 6 falham automaticamente. Esse efeito praticamente força uma trégua.",nivel:10}],descricao:`Esta Magia permite ao Evocador pôr fim a conflitos, retirando a vontade de lutar ou ao menos reduzindo a hostilidade.

Em níveis mais baixos pode-se impedir ou encerrar brigas em taverna e em suas versões mais poderosas batalhas podem ser interrompidas.

A evocação leva uma rodada e pode ou não envolver preces ou argumentações. A magia é resistível e quem falhar sentirá uma necessidade extrema e urgente de recuar e cessar o combate (isso não significa que irá fugir, mas sim que vai recuar e se defender). Já quem passar no teste de Resistência à Magia sentirá o corpo rígido e mesmo ofensas dirigida a seus oponentes serão difíceis de ser proferidas, a partir do nível 4 a dificuldade se reflete em redutor nos testes de ataque.

Esta magia não afeta mortos-vivos, criaturas artificiais e demônios; mas afeta criaturas irracionais como animais e todos os tipos de criaturas místicas.

Vale ressaltar que pessoas lutando por sua vida não serão afetadas por este milagre, exemplo pessoas lutando contra feras famintas, ou fugindo de captores.

Outro detalhe importante é que só será afetado quem estiver na área de feito no momento do lançamento da magia.

Usar essa magia para forçar um recuo do oponente e propiciar um ataque ou emboscada é considerado contra as regras da magia que é instantaneamente quebrada caso ocorra tal transgressão. Caso o evocador seja um Sacerdote outras punições podem vir da divindade.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.comunhaoNatural,nome:"Comunhão Natural",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:50},descricao:"O evocador tem conhecimento total em uma área de 50 m de distância do sacerdote.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:100},descricao:"Idem ao anterior, mas a área é de 100m de distância do sacerdote.",nivel:2},{id:"2",alcance:{tipo:L.METRO,valor:300},descricao:"Idem ao anterior mas a área é de 300m de distância do sacerdote.",nivel:4},{id:"3",alcance:{tipo:L.METRO,valor:300},descricao:"Idem ao anterior, mas o evocador também pode neste nível projetar sua voz através de uma árvore, pedra, água (que se modifica formando algo próximo do rosto do evocador; a voz assim como a imagem também é um pouco distorcida) em algum ponto escolhido dentro da área.",nivel:6},{id:"4",alcance:{tipo:L.METRO,valor:500},descricao:"Idem ao anterior mas a área é de 500m de distância do sacerdote.",nivel:8},{id:"5",alcance:{tipo:L.METRO,valor:500},descricao:"Idem ao anterior, mas agora o sacerdote pode projetar sua voz em quantos lugares ele quiser ao mesmo tempo. Entretanto, a mensagem transmitida é a mesma.",nivel:10}],descricao:"Com este milagre, o sacerdote poderá ver através da natureza e saber tudo o que acontece em uma área que varia de acordo com o nível da magia. Da mesma forma que em Auxílio Natural, cada sacerdote só poderá utilizar esse encanto em ambientes específicos de acordo com a sua divindade. Na prática essa magia concede a capacidade de ver, ouvir e cheirar em qualquer ponto da área da magia",alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:1}},{id:W.conhecimento,nome:"Conhecimento",niveis:[{id:"0",descricao:"Concede +1 coluna no teste.",nivel:1},{id:"1",descricao:"Concede +2 colunas no teste.",nivel:2},{id:"2",descricao:"Concede +4 colunas no teste.",nivel:4},{id:"3",descricao:"Concede +6 colunas no teste.",nivel:6},{id:"4",descricao:"Concede +8 colunas no teste.",nivel:8},{id:"5",descricao:"Concede +10 colunas no teste.",nivel:10}],descricao:"Uma vez usado o encanto Conhecimento, toda e qualquer habilidade que envolva conhecimento deverá ser jogada com colunas extras, que variarão conforme o nível.",extra:["As habilidades que envolvem conhecimento não se reduzem apenas ao grupo de habilidades Conhecimento, mas sim toda e qualquer habilidade que de alguma forma possa ser usada para obter uma informação. Assim, se o personagem quer saber de onde tal tecido poderia ter vindo, ele deverá fazer um teste de Trabalhos Manuais. Como se trata de informação, os bônus se aplicarão a essa habilidade. Mas se, por exemplo, o personagem resolver reparar uma roupa, o encanto de nada lhe adiantaria, já que não lida especificamente com um conhecimento geral, mas sim técnico."],alcance:{tipo:L.PESSOAL},duracao:{tipo:C.ATIVACAO,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.conhecimentoLinguistico,nome:"Conhecimento Linguístico",niveis:[{id:"0",descricao:"É capaz de falar e ler em uma língua a sua escolha como se fosse secundaria além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 1 nível em Línguas, Escrita e Códigos.",nivel:1},{id:"1",descricao:"É capaz de falar e ler em uma língua a sua escolha como se fosse primaria além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 2 níveis em Línguas, Escrita e Códigos.",nivel:2},{id:"2",descricao:"É capaz de falar e ler em três língua a sua escolha como se fossem primarias além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 3 níveis em Línguas, Escrita e Códigos.",nivel:4},{id:"3",descricao:"É capaz de falar e ler em seis língua a sua escolha como se fossem primarias além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 4 níveis em Línguas, Escrita e Códigos. Ler, escrever e decifrar são 2 vezes mais rápido.",nivel:6},{id:"4",descricao:"É capaz de falar e ler em dez língua a sua escolha como se fossem primarias além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 5 níveis em Línguas, Escrita e Códigos. Ler, escrever e decifrar são 4 vezes mais rápido.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas agora consegue falar e ler em qualquer língua e torna uma tarefa de dificuldade Impossível em uma Absurda, além de ler, escrever e decifrar 10 vezes mais rápido.",nivel:10}],descricao:"Com este feitiço o evocador é capaz de compreender línguas e códigos que não teria capacidade de entender e se expressar. Caso o evocador tenha a habilidade Escrita ele será capaz de escrever na(s) língua(s) escolhida(s) se não só poderá compreender a escrita e nunca escrever na mesma.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:1}},{id:W.conhecimentoNatural,nome:"Conhecimento Natural",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:500,isRaio:!0},descricao:"O evocador saberá se o ar é respirável, se existe massa líquida (rio, lago, etc.}, se o tipo de solo sofrerá alteração, as principais espécies de animais e plantas, tudo dentro do alcance. Elimina o Verde na tabela de resoluções para habilidade Navegação (menor resultado: branco).",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:500,isRaio:!0},descricao:"Idem ao anterior, mas saberá se a água é potável, e a localização e a distância das principais espécies de plantas e animais comuns. Também elimina o Branco (menor resultado: amarelo).",nivel:2},{id:"2",alcance:{tipo:L.QUILOMETRO,valor:2,isRaio:!0},descricao:"Idem ao anterior, mas saberá quais os tipos de solo existem no ambiente, se existem cavernas e sua localização, o principal minério, e se existem trilhas na área. Também elimina o Amarelo (menor resultado: Laranja).",nivel:4},{id:"3",alcance:{tipo:L.QUILOMETRO,valor:4,isRaio:!0},descricao:"Idem ao anterior, mas saberá os principais animais gigantes que existem no ambiente. Também elimina o Laranja (menor resultado: Vermelho).",nivel:6},{id:"4",alcance:{tipo:L.QUILOMETRO,valor:7,isRaio:!0},descricao:"Idem ao anterior, mas saberá a localização e a distância dos principais animais gigantes, as principais espécies de animais místicos. Também elimina o Vermelho (menor resultado: Azul).",nivel:8},{id:"5",alcance:{tipo:L.QUILOMETRO,valor:10,isRaio:!0},descricao:"o Místico entra em sintonia com o ambiente, tendo pleno conhecimento, localização e a distância das plantas e animais (comum, gigante e místico) do local; conhecimento do relevo, incluindo solo e minérios; massa d'água; caminhos, trilhas e qualquer formação natural relevante. Também elimina o Azul, ou seja, o sucesso é automático com exceção do Cinza (o nível Absurdo necessita jogar dado) e transforma algo Impossível em Absurdo.",nivel:10}],descricao:`Esse encanto concede ao Místico a capacidade de ler o ambiente, e com isso, obter informações relevantes sobre os seguintes elementos da área: ar, água, solo, fauna e flora. Caso haja alguma construção artificial ao alcance da magia, uma perturbação será sentida, mas não conseguirá definir o que é e nem a localização (mas não interrompe a magia). A quantidade de informações e o tamanho do local compreendido variam de acordo com o nível da magia.

Por ampliar o conhecimento do terreno, a magia também melhora a performance na habilidade Navegação (mas somente para uma área que pertença dentro do alcance da magia). De acordo com o nível do encanto, elimina-se uma cor na tabela de resoluções. Por exemplo, no nível 1 elimina-se o verde. Logo, o menor resultado é branco (caso tire verde, o resultado é considerado o primeiro posterior, ou seja, branco). Esse efeito vale apenas por 1 uso.`,extra:["Animais Místicos oferecem RM para serem identificados e/ou localizados. Caso passem no teste de RM, o Místico saberá apenas que existem Animais Místicos na área, mas não conseguirá determinar a espécie e a localização. Esta magia só pode ser evocada em ambientes naturais."],alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.RODADA,valor:20}},{id:W.conjuracaoNatural,nome:"Conjuração Natural",niveis:[{id:"0",descricao:"Conjura um Plantor Mensageiro",nivel:1,custo:{ouro:3}},{id:"1",descricao:"Conjura um Plantor Soldado",nivel:3,custo:{ouro:6}},{id:"2",descricao:"Conjura um Plantor Conselheiro",nivel:5,custo:{ouro:15}},{id:"3",descricao:"Conjura um Plantor Líder",nivel:7,custo:{ouro:21}}],descricao:`Através deste ritual o evocador entra em sintonia com o Plano Astral para trazer entidades deste, temporariamente à terra.

O evocador imbui um corpo vegetal ao espírito Natural para que este possa habitar nosso plano físico (ver descrição de Plantores). Devido à origem mágica da incorporação, o tempo em que a mesma permanece sob operação não pode exceder o limite permitido pela magia.

O poder do Plantor conjurado varia com a dificuldade do efeito usado.

Esta magia não oferece nenhuma forma de dominar o ser conjurado, para isso leia o encanto Domínio Natural.`,extra:["Esta magia só pode ser invocada em ambientes naturais"],alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.ANO,valor:1},evocacao:{tipo:G.RITUAL}},{id:W.conjurarObjetos,nome:"Conjurar objetos",niveis:[{id:"0",nivel:1,duracao:{tipo:C.MINUTO,valor:5},descricao:"Conjura um objeto inanimado de até 1 kg para a mão do evocador. O objeto pode ser entregue a outra pessoa ou ser largado no chão, mas terá uma aparência levemente translúcida que indica que não é um objeto comum."},{id:"1",nivel:3,duracao:{tipo:C.MINUTO,valor:15},alcance:{tipo:L.METRO,valor:5},descricao:"Idem anterior, mas o objeto pode pesar até 5 kg e pode ser conjurado para a mão do evocador ou para um lugar que ele aponte."},{id:"2",nivel:5,duracao:{tipo:C.MINUTO,valor:30},alcance:{tipo:L.METRO,valor:10},descricao:"Idem anterior, mas o objeto pode pesar até 10 kg."},{id:"3",nivel:7,duracao:{tipo:C.HORA,valor:1},alcance:{tipo:L.METRO,valor:15},descricao:"Idem anterior, mas o objeto pode pesar até 20 kg."},{id:"4",nivel:9,duracao:{tipo:C.HORA,valor:6},alcance:{tipo:L.METRO,valor:20},descricao:"Idem anterior, mas o objeto pode pesar até 40 kg."}],descricao:`O feiticeiro estende suas mãos e faz um objeto aparecer. O objeto tem a duração variável conforme os efeitos abaixo. Nos efeitos 3 em diante, o evocador pode escolher onde o objeto vai surgir, caso ele escolha que o objeto irá surgir tocando uma criatura ou imediatamente a sua frente, a criatura pode fazer um teste de RM para resistir ao efeito. Armaduras criadas com esta magia não podem ser utilizadas. A proximidade com a aura do possível usuário torna o feitiço instável e ela se desfaz em alguns instantes. Armas e escudos podem ser utilizados normalmente.

Este feitiço não é capaz de criar objetos muito específicos, tal como a chave de uma determinada cela ou reproduzir fielmente uma obra de arte. Seus efeitos são limitados a objetos comuns do tipo desejado pelo usuário, com detalhes específicos toscos ou faltantes, dependendo da precisão com a que foi imaginado (representada pela descrição oferecida pelo jogador).

As armas criadas com esta magia causam dano não mágico.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.contatosMentais,nome:"Contatos Mentais",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:1},descricao:"O evocador consegue transmitir seus pensamentos a uma pessoa que queira recebê-los voluntariamente.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.RODADA,valor:5},descricao:"Permite uma comunicação mental entre várias pessoas. A comunicação tem de ser voluntária.",nivel:3},{id:"2",alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.RODADA,valor:10},descricao:"Idem ao anterior.",nivel:5},{id:"3",alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:5},descricao:"Este encanto permite que o evocador leia a mente de um indivíduo. A vítima tem direito a resistir a esse efeito.",nivel:7},{id:"4",alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:5},descricao:"Idem ao anterior e, além disso, implanta na mente da vítima uma sugestão. A sugestão tem que ser algo que não ponha a vítima em perigo (pelo menos não claramente).",nivel:9}],descricao:"Este feitiço permite uma insinuação do evocador na mente da vítima; inicialmente o encanto possibilita apenas uma comunicação entre os indivíduos; os efeitos mais fortes, porém, permitem entrar na mente alheia e até implantar sugestões nela.",alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.contatosMusicais,nome:"Contatos Musicais",niveis:[{id:"0",descricao:"Permite transmitir uma mensagem de até 1 palavra a uma pessoa.",nivel:1},{id:"1",descricao:"Permite transmitir uma mensagem de até 3 palavras a até 2 pessoas.",nivel:2},{id:"2",descricao:"Permite transmitir uma frase curta com no máximo 10 palavras para 2 pessoas.",nivel:4},{id:"3",descricao:"Permite transmitir uma frase longa com no máximo 25 palavras para 3 pessoas.",nivel:6},{id:"4",descricao:"Permite transmitir um pequeno discurso com no máximo 100 palavras para 4 pessoas.",nivel:8},{id:"5",descricao:"Permite transmitir um discurso com no máximo 1000 palavras para uma pessoa.",nivel:10}],descricao:`Contatos musicais é uma magia que permite a utilização de música instrumental ou vocal desliterada para transmitir informações a pessoas específicas. A música é tão melodiosa e instigante que em si carrega uma mensagem que a vítima do encanto percebe claramente. Não é possível saber de onde o encanto veio.

Embora se assemelhe com ventrioloquismo, Contatos Musicais têm características próprias. A primeira delas, diferentemente de ventrioloquismo, que desloca o som e que, portanto é audível a todos os que estão próximos, é que o contato musical não pode ser entendido por nenhuma pessoa (a música tocada é audível mas a mensagem é inaudível). Assim o evocador pode fazer com que no meio de uma multidão uma pessoa específica ouça o que ele está dizendo enquanto todos os outros não podem, desde que a pessoa seja capaz de ouvir a melodia. A segunda delas é que é necessária que se faça um teste de resistência à magia para a pessoa cuja mensagem está direcionada e ela deverá falhar neste teste para que possa ouvir a mensagem, a não ser que voluntariamente ela queira escutar a mensagem.

O alcance da magia é variável, pois depende do meio de execução e o ambiente no qual está inserido. Assim se o instrumento estiver sendo tocado em meio a muito barulho, é impossível a mensagem chegar a seu(s) destinatário(s). Fica a cargo do Mestre determinar se o som do instrumento chegará ou não até a(s) pessoa(s}, levando em consideração a sua intensidade e a quantidade de outras fontes sonoras que atrapalham a mensagem.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.controle,nome:"Controle",niveis:[{id:"0",descricao:"Domina morto-vivos de Estágio máximo 1.",nivel:1},{id:"1",descricao:"Domina morto-vivos de Estágio máximo 2",nivel:2},{id:"2",descricao:"Domina morto-vivos de Estágio máximo 3.",nivel:3},{id:"3",descricao:"Domina morto-vivos de Estágio máximo 4.",nivel:4},{id:"4",descricao:"Domina morto-vivos de Estágio máximo 5.",nivel:5},{id:"5",descricao:"Domina morto-vivos de Estágio máximo 6.",nivel:6},{id:"6",descricao:"Domina morto-vivos de Estágio máximo 7.",nivel:7},{id:"7",descricao:"Domina morto-vivos de Estágio máximo 8.",nivel:8},{id:"8",descricao:"Domina morto-vivos de Estágio máximo 9.",nivel:9},{id:"9",descricao:"domina morto-vivos de Estágio máximo 10.",nivel:10}],descricao:`Concede ao evocador a capacidade de escravizar mortos-vivos à sua vontade. A quantidade, o Estágio máximo dos mortos-vivos controlados e o preço dos materiais necessários à evocação do feitiço são determinados pelo efeito usado.

Cada vez que o evocador desejar controlar um morto-vivo ele deve evocar este feitiço sobre o mesmo. Caso o morto-vivo tenha sido criado pelo próprio evocador, o sucesso do controle é automático. Caso contrário, o morto-vivo terá direito a fazer uma Resistência à Magia, caso tenha sucesso ele não será controlado e tentará destruir o evocador. Caso falhe na Resistência, ele será controlado.

Um morto-vivo controlado passa a ser um escravo completo do evocador, sempre procurando servir o seu mestre com o melhor de suas capacidades e de seu entendimento. Ele não pode ser convencido a agir contra o seu mestre sem uso de mágica. Jogar esta magia sobre um morto-vivo que já esteja controlado é inútil pois a segunda vez não tem nenhum efeito.

Entretanto o necromante não tem capacidade para dominar mortos-vivos infinitamente, mas quanto maior seu conhecimento sobre a magia Controle maior será essa capacidade. Em termos de regras um necromante pode controlar um número máximo de mortos-vivos até 5 vezes seu total na magia Controle. Assim, um necromante com total 6 em Controle pode dominar no máximo 30 mortos vivos.

Note também que o evocador poderá dominar apenas mortos-vivos até um determinado Estágio. Considera-se que mortos vivos acima deste Estágio não podem ser controlados por este evocador até que ele aprimore seus conhecimentos em Controle.

O evocador não possui nenhuma forma especial de comunicação com o morto-vivo, devendo usar comandos verbais que possam ser entendidos por ele.

Caso o evocador seja morto, os mortos-vivos cumprirão suas últimas instruções e então ficarão livres. O custo da evocação deste feitiço é de cinco peças de cobre por dificuldade. Lembre-se que o encanto só pode ser usado em um morto-vivo de cada vez.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.RODADA,valor:10}},{id:W.controleClimatico,nome:"Controle Climático",niveis:[{id:"0",descricao:"Muda em um passo a condição de um clima local.",nivel:1},{id:"1",descricao:"Altera em dois passos a condição de um clima local.",nivel:2},{id:"2",descricao:"Altera em três passos a condição de um clima local.",nivel:4},{id:"3",descricao:"Altera em quatro passos a condição de um clima local.",nivel:6},{id:"4",descricao:"Altera em cinco passos a condição de um clima local.",nivel:8},{id:"5",descricao:"Altera em seis passos a condição de um clima local.",nivel:10}],descricao:`Esta magia permite ao evocador (quando estiver em ar livre) mudar as condições climáticas de uma região de 10 km de raio em poucas rodadas e gerar outros fenômenos naturais para tomar proveito. O evocador é capaz de alterar e controlar o clima podendo manipular diversos elementos relacionados, bem como causar mudanças de precipitação, umidade, temperatura e ventos. A mudança pode ser em um sentido ou em outro, acalmando um Temporal ou o transformando em uma Tempestade. O poder do efeito diz quantos passos desta cadeia o evocador pode alterar.

ÁGUA: Desértico - Árido - Muito Seco - Seco - ideal - Garoa - Chuva Fina - Chuva Forte - Temporal - Tempestade

VENTO: Sem vento - Brisa - Ventos Leves - Ventania - Vendaval - Tornado

TEMPERATURA: Nevasca - Granizo - Neve - Inverno - Frio - Ideal - Quente - Verão - Mormaço - Calor Seco - Calor Escaldante

Outro efeito desta magia é do evocador se beneficiar dos extremos de cada condição climática, isso ocorre quando o Karma utilizado para evocar a magia se mistura com a natureza, dando origem a diversos fenômenos naturais (como Tempestades, Tornados, Nevascas..}, que a cada três rodadas atingem seus inimigos que estejam até 20 metros de distância do evocador, o tipo do dano depende da condição climática, Ex: Tempestade irá gerar um Relâmpago, Tornado um Aeroataque.

Esse novo efeito é integralmente NATURAL, ou seja o evocador não tem controle sobre esse segundo efeito, é simplesmente a natureza mostrando sua força contra seus inimigos e o ataque é aleatório se houver mais de um adversário. O inimigo para ser atingido deve atender o pré-requisito que está destacado em cada efeito máximo do tipo de clima.

Abaixo segue a lista de efeitos práticos que vão acontecer em determinadas situações climática.

Tempestade - Atrai aleatoriamente um Relâmpago por turno, que atinge um inimigo que esteja a menos de 20 metros do evocador e que preferencialmente esteja utilizando armamentos de metal e armaduras pesadas. Ver efeitos de Relâmpagos mesmo nível da magia para calcular dano.

Tornado - Cria uma lufada de vento por turno, que atinge um inimigo que esteja a menos de 20 metros do evocador e que preferencialmente esteja utilizando armaduras leves e medias, e armas de madeira. Ver efeitos de Aeroataque no mesmo nível da magia.

Nevasca - Forma um dardo de gelo por turno, que atinge um inimigo que esteja a menos de 20 metros do evocador e atinge preferencialmente inimigos que estejam usando roupas inadequadas para o frio. Ver efeitos de Dardos de Gelo no mesmo nível da magia para calcular dano.

Calor Escaldante - Molda a energia solar em formas de um feixe extremamente quente, que atinge um inimigo que esteja a menos de 20 metros do evocador e atinge preferencialmente inimigos que estejam usando roupas inadequadas para o calor. Ver efeitos de Feixes Incandescentes no mesmo nível da magia para calcular dano.

Após o término da duração, as condições climáticas ficam livres para voltar às suas tendências antigas e este encanto só pode ser aplicado uma vez por dia no mesmo local.

Outro ponto importante é que o Evocador não controla o resultado que a condição climática irá oferecer, ou seja, será atingido juntamente com seu grupo de amigos indiretamente afetando as condições de sobrevivência, por exemplo: a exposição prolongada ao Calor Escaldante poderá causar desidratação; a Nevasca irá causar problemas na visibilidade, movimentação e possivelmente hipotermia; o Tornado irá dificultar ataques a distância, etc.

OBS* Cada condição climática causa penalidades no movimento e no combate, para isso o Mestre deverá ler o capítulo Combate -> Penalidades Aplicadas ao Movimento - Penalidades Especiais - Clima e Terreno. Para condições climáticas que não estejam descritas o Mestre usará o bom senso.

Tempestade, Nevasca e Calor Escaldante apenas irão gerar um Relâmpago, um Dardo de Gelo e um Feixe Incandescente respectivamente, mesmo que na magia diga que são mais de 1.`,alcance:{tipo:L.QUILOMETRO,valor:10},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:3}},{id:W.controleMecanico,nome:"Controle Mecânico ",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.MINUTO,valor:10},descricao:"Permite controlar um mecanismo que seria operado com uma mão com uma força normal (Força = 0}, tais como alavancas e fechaduras. Requer concentração.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.HORA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por uma pessoa e que exige as duas mãos e com uma força média (Força = 2}, tais como lemes de direção, roda para içar uma pequena âncora. Requer concentração.",nivel:3},{id:"2",alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.HORA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por até duas pessoas normais ou por uma pessoa de grande força (Força = 3}, tais como controle de um barco, uma roda para içar uma ancora. Não requer concentração.",nivel:5},{id:"3",alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.DIA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por até 3 pessoas ou com uma força de um boi (Força = 4}, tais como um pequeno moinho, uma roda para içar uma grande ancora de um navio, uma grande roda para levantar um portão de um castelo. Não requer concentração.",nivel:7},{id:"4",alcance:{tipo:L.METRO,valor:100},duracao:{tipo:C.DIA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por grandes animais tais como Elefantes ou criaturas gigantes (Força = 6). Não requer concentração.",nivel:9}],descricao:`Com esta magia é possível o evocador controlar um dispositivo mecânico que seria operado por uma ou mais pessoas ou criaturas. Assim é possível se mover uma alavanca, uma roda ou até mesmo um dispositivo tracionado por animais ou criaturas, tais como um moinho tracionado por bois, uma ponte levadiça, portão levadiço, leme de um barco, uma roda de tortura...

A limitação da magia é que tem de ser um e somente um dispositivo mecânico que esteja dentro do alcance e dentro da força necessária. Mecanismos complexos exigem que o evocador saiba operá-lo ou mesmo exige que saiba a habilidade correspondente. Não é possível se operar mecanismos automáticos tais como moinhos d´água e relógios. A magia apenas permite se operar o mecanismo se este estiver operacional e sem impedimentos. Desta forma, pode-se destrancar uma porta, mas apenas se a chave já se encontrar dentro da fechadura.

A magia funciona como se o evocador estivesse operando diretamente o mecanismo o que requer concentração durante a operação nos níveis mais baixos, mas a partir do nível 5 não é necessário concentração. O alcance da magia varia com o efeito. Caso o mecanismo já esteja sendo operado por alguém, é possível se sobrepor à operação do mecanismo, mas é necessário fazer um teste usando as "Regras para Teste de Atributo" que está no capítulo 2 do Livro de Regras. Note que se a disputa for feita sobre um mecanismo frágil este pode se quebrar, mas isto deve ser decidido pelo Mestre de acordo com a situação.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.conversaoEnergetica,nome:"Conversão Energética",niveis:[{id:"0",duracao:{tipo:C.RODADA,valor:5},descricao:"Converte 1 ponto de karma das magias evocadas contra o mago. A duração do encanto é de 5 rodadas.",nivel:1},{id:"1",duracao:{tipo:C.RODADA,valor:7},descricao:"Converte até 2 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 7 rodadas.",nivel:3},{id:"2",duracao:{tipo:C.RODADA,valor:30},descricao:"Converte até 2 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 30 rodadas.",nivel:5},{id:"3",duracao:{tipo:C.RODADA,valor:30},descricao:"Converte até 3 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 30 rodadas.",nivel:7},{id:"4",duracao:{tipo:C.MINUTO,valor:30},descricao:"Converte até 3 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 30 minutos.",nivel:9}],descricao:`Esta magia cria um campo de força mística em torno do mago, que converte a energia das magias evocadas por outros místicos, em karma para o evocador.

Após o término da evocação do feitiço, uma aura esverdeada tomará todo o corpo do evocador. A partir de então qualquer magia direta ou indireta que seja evocada contra o evocador será convertida em um numero de pontos karma para o mesmo. Note que este feitiço só age sobre a energia de magias de ataque direto (“Sono”, “Corrente”, “Covardia”, etc) ou indireto (“Bola de fogo”, “Dardos de Gelo”, “Raio Elétrico”, etc}, magias como “Apelo”, “Piromanipulação”, “Sombras”, não são direcionadas contra o evocador, logo não podem ser convertidas. Magias que possam ser vinculadas ao evocador (Escuridão, Manipulação de luz, Silencio, etc) também podem ser afetadas, desde que estas sejam evocadas contra o evocador na forma de um ataque direto.

Em quanto esta magia estiver ativada, qualquer dano de ataques indiretos causados por magia, que o mago receba (na EH ou EF}, será convertida em karma para o evocador. Caso o evocador receba um ataque causado por magia direta, é preciso que este resista á magia, caso contrário nenhum ponto de karma é convertido.

Em cada efeito da magia está descrito o numero de pontos de karma que o mago poderá converter. Caso o efeito consiga absorver uma quantidade de karma superior à usada em uma magia contra o evocador, apenas o valor correspondente ao karma gasto para evocá-la poderá ser convertido.

Note que o mago não fica imune ao dano causado pela magia, este será aplicado normalmente.

Caso o mago converta mais pontos de karma do que sua capacidade máxima, os pontos excedentes desaparecerão quando o efeito da magia “Conversão Energética” entrar em colapso. O tempo de duração da magia e a quantidade de pontos de karma que poderão ser convertidos variam com a dificuldade do efeito.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:W.convivencia,nome:"Convivência",niveis:[{id:"0",descricao:"O evocador obtém as principais informações de uma vila.",nivel:1},{id:"1",descricao:"O evocador obtém as principais informações de uma cidade pequena.",nivel:3},{id:"2",descricao:"O evocador obtém as principais informações de uma cidade média.",nivel:5},{id:"3",descricao:"O evocador obtém as principais informações de uma cidade grande.",nivel:7},{id:"4",descricao:"O evocador obtém as principais informações de uma capital.",nivel:9}],descricao:`Através do encanto Convivência o evocador consegue se adaptar rapidamente aos locais pelos quais circula, podendo conhecer tudo acerca de uma vila ou cidade de forma muito mais rápida do que uma pessoa normal. Depois de evocada a magia, o místico terá um dia para conversar com as pessoas da localidade para que possa obter as informações da região.

Na prática, ao final da duração da magia, o evocador saberá as principais características do local como: regime legal, deuses mais influentes, padrão de comércio, principais lendas e canções, comidas típicas, pessoas mais importantes, as festividades; enfim, o evocador passa a ter conhecimento de todas as principais informações existentes na localidade. Ao critério do Mestre é possível ainda que informações mais sigilosas sejam obtidas. Nesse caso o jogador poderá fazer um ou mais testes de Persuasão de dificuldade determinada pela Mestre, mas influenciada pela interpretação do jogador.

De acordo com o nível, o alcance da magia aumenta, ou seja, o tamanho da localidade vai se tornando maior.`,extra:["Todo o conhecimento não vem instantaneamente na mente do místico ao final da evocação, ele irá adquirir esse conhecimento aos poucos e, ao final da evocação, o que ele não pôde ouvir diretamente das pessoas poderá deduzir devido ao seu grande conhecimento já adquirido. Isso significa também que necessariamente o místico deverá estar se comunicando com as pessoas, sendo impossível usar esse feitiço em uma prisão ou em um local aonde as pessoas não são simpáticas ao evocador.","Uma outra observação é que ao final da evocação o conhecimento não fica memorizado na mente do evocador, o que significa que ele poderá esquecer as informações obtidas. Por isso, muitos místicos capazes de usar essa magia costumam carregar consigo muitos pergaminhos para que possam registrar essas informações."],alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.DIA,valor:1},evocacao:{tipo:G.RODADA,valor:10}},{id:W.convocacao,nome:"Convocação",niveis:[{id:"0",evocacao:{tipo:G.INSTANTANEA},duracao:{tipo:C.INSTANTANEA},alcance:{tipo:L.METRO,valor:10},descricao:"O evocador se mostra intimamente a todos os fiéis que estejam dentro do alcance. A magia faz as pessoas verem com clareza a sua causa, suas motivações. Pessoas com estas mesmas motivações terão grande simpatia pelo evocador, facilitando qualquer persuasão. A evocação é imperceptível.",nivel:1},{id:"1",evocacao:{tipo:G.INSTANTANEA},duracao:{tipo:C.DIA,valor:1},alcance:{tipo:L.METRO,valor:5},descricao:"Permite ao evocador pedir pequenos favores aos fiéis (refeição, moradia, pequenos serviços, etc) sem ter que pagar por isso.",nivel:2},{id:"2",evocacao:{tipo:G.RODADA,valor:10},duracao:{tipo:C.DIA,valor:1},alcance:{tipo:L.QUILOMETRO,valor:1},descricao:"Convoca 5 pessoas, em boas condições físicas e dispostas a lutar por sua causa, que estejam dentro do alcance da magia. Esta magia atinge primeiro as pessoas comuns (sem EH) e, na falta destas, completa o número necessário com indivíduos especiais (com EH).",nivel:4},{id:"3",evocacao:{tipo:G.RODADA,valor:20},duracao:{tipo:C.DIA,valor:3},alcance:{tipo:L.QUILOMETRO,valor:2},descricao:"Idem à anterior, mas convoca até 10 pessoas.",nivel:6},{id:"4",evocacao:{tipo:G.MINUTO,valor:10},duracao:{tipo:C.SEMANA,valor:1},alcance:{tipo:L.QUILOMETRO,valor:5},descricao:"Idem à anterior, mas convoca até 20 pessoas.",nivel:8},{id:"5",alcance:{tipo:L.QUILOMETRO,valor:10},evocacao:{tipo:G.HORA,valor:1},duracao:{tipo:C.MES,valor:1},descricao:"Idem à anterior, mas convoca até 50 pessoas.",nivel:10}],descricao:`Este milagre permite ao evocador incitar magicamente criaturas de sua mesma religião a tomarem atitudes em favor da Igreja ou de seus Sacerdotes.

Inicialmente, só é possível se distinguir os fiéis da religião ou pedir pequenos favores, mas com os efeitos mais poderosos é possível se montar uma verdadeira guerra santa! Os indivíduos só são convocados caso não estejam fazendo nada essencial (médicos curando, guerreiros no meio da batalha, etc). Ao se completar o encanto, as pessoas convocadas se aproximam instintivamente do local onde está o Sacerdote. Embora a magia possa ser resistida, normalmente os fiéis não tentam resisti-Ia.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.convocacaoAnimal,nome:"Convocação Animal",niveis:[{id:"0",descricao:"Convoca animais totalizando 6 estágios, mas o estágio máximo de cada animal é 2 ou pede um favor a um animal de estágio máximo 2.",nivel:1},{id:"1",descricao:"Convoca animais totalizando 12 estágios, mas o estágio máximo de cada animal é 4; ou pede um favor a um animal de estágio máximo 4.",nivel:2},{id:"2",descricao:"Convoca animais totalizando 18 estágios de animais, mas o estágio máximo de cada animal e 6; ou pede um favor a um animal de estágio máximo 6.",nivel:4},{id:"3",descricao:"Convoca animais totalizando 24 estágios de animais, mas o estágio máximo de cada animal é 8; ou pede um favor a um animal de estágio máximo 8.",nivel:6},{id:"4",descricao:"Convoca animais totalizando 30 estágios de animais, mas o estágio máximo de cada animal é 10; ou pede um favor a um animal de estágio máximo 10.",nivel:8},{id:"5",descricao:"Convoca animais totalizando 36 estágios de animais, mas o estágio máximo de cada animal é 12; ou pede um favor a um animal de estágio máximo 12.",nivel:10}],descricao:`Esse encanto possui dois efeitos. No primeiro o místico entra em comunhão com a natureza e convoca um grupo de animais, que ficarão à sua disposição para realizar uma tarefa especial (sempre algo demorado e/ou complexo). Esse efeito não pode ser evocado por um motivo simples sob pena de perder sua harmonia com a natureza, ficando assim, impossibilitado de usar encantos até redimir o seu erro. Também não pode sujeitar os animais a risco de vida, sob pena de mesma punição. O Mestre irá julgar se o motivo é digno e/ou se os animais estão em perigo. Caso julgue afirmativo, definirá a missão de retratação (só após cumprir essa missão, poderá evocar magia novamente).

São exemplos de tarefas para esse efeito:

- Ajudar o místico a encontrar sobreviventes após o terremoto;

- Ajudar na remoção dos feridos no incêndio;

- Encontrar a planta rara cujo chá cura a praga que assola a vila, etc.

O primeiro efeito desta magia tem evocação de 5 minutos e não dá direito à RM. O nível informará a quantidade de animais convocados de acordo com os estágios. A espécie convocada é de acordo com a região, e o Mestre dirá quais animais apareceram. É possível escolher a espécie que se queira convocar, mas é preciso que o místico tenha conhecimento que ela exista na redondeza (pode ser através de outra magia ou através de observação prévia do local). Caso o místico tenha solicitado espécies que não tenham ao alcance da magia, o Karma será gasto e os animais não aparecerão.

O segundo efeito desta magia tem evocação de 1 rodada e funciona como um favor que o animal presta ao evocador (uma tarefa simples e rápida). Assim que prestar o favor, o encanto acaba. Só convoca um animal e este tem direito a RM. A critério do Mestre, essa RM pode ser dispensada caso seja oferecido um agrado ao animal (troca de favores). Igual ao efeito anterior, não pode oferecer risco ao animal, e a espécie convocada deve existir na área da magia, caso contrário, o Karma é gasto e o animal não aparece.

Por exemplo: o místico está na beira de um rio e sua espada cai no fundo desse rio. Ele usa esse efeito e convoca um boto para buscá-la. A critério do Mestre, antes de evocar a magia, o evocador pode informar que oferecerá um peixe (alimento) para o boto trazer a espada, dispensando a RM. Mas caso não cumpra com o prometido, o Mestre deverá puni-lo com a perda dos poderes, precisando efetuar uma missão de redenção para recuperá-los (o Mestre dirá qual será).

Deverá ser escolhido apenas um efeito na hora de lançar a magia. Esta magia só pode ser evocada em ambiente natural.`,alcance:{tipo:L.QUILOMETRO,valor:7,isRaio:!0},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.coordenacao,nome:"Coordenação",niveis:[{id:"0",descricao:"Concede +1 coluna de resolução para o sacerdote e seu grupo.",nivel:1},{id:"1",descricao:"Concede +1 coluna de resolução para o sacerdote e seu grupo e –1 coluna para todos os que os atacam.",nivel:2},{id:"2",descricao:"Concede +2 colunas de resolução para o sacerdote e seu grupo e –1 coluna para todos os que os atacam.",nivel:4},{id:"3",descricao:"Concede +2 colunas de resolução para o sacerdote e seu grupo e –2 colunas para todos os que os atacam.",nivel:6},{id:"4",descricao:"Concede +3 colunas de resolução para o sacerdote e seu grupo e –2 colunas para todos os que os atacam.",nivel:8},{id:"5",descricao:"Concede +3 colunas de resolução para o sacerdote e seu grupo e –3 colunas para todos os que os atacam.",nivel:10}],descricao:"Com este milagre, o sacerdote de Crisagom percebe rapidamente diversas condições que afetam a batalha como o aspecto geográfico e as condições climáticas que afetam a batalha, obtendo vantagem através disso, coordenando até 4 de seus companheiros, para um melhor posicionamento que torna o grupo como um todo mais poderoso ao passo que prejudicando o outro grupo. Esse milagre concede bônus nas colunas de resolução para o próprio sacerdote e para até mais 4 pessoas e prejudica todas aquelas que os atacam, sem direito a Resistência a Magia.",alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:15},evocacao:{tipo:G.RODADA,valor:1}},{id:W.corrente,nome:"Corrente",niveis:[{id:"0",duracao:{tipo:C.RODADA,valor:1},descricao:"Paralisa 1 ser.",nivel:1},{id:"1",duracao:{tipo:C.RODADA,valor:3},descricao:"Paralisa 1 ser",nivel:2},{id:"2",duracao:{tipo:C.RODADA,valor:6},descricao:"Paralisa 1 ser.",nivel:4},{id:"3",duracao:{tipo:C.RODADA,valor:6},descricao:"Paralisa 2 seres.",nivel:6},{id:"4",duracao:{tipo:C.RODADA,valor:10},descricao:"Paralisa 2 seres.",nivel:8},{id:"5",duracao:{tipo:C.RODADA,valor:10},descricao:"Paralisa 3 seres.",nivel:10}],descricao:`Com este milagre, o evocador cria uma força em forma de correntes mágicas que prendem a vítima, caso esta falhe em sua Resistência à Magia.

A magia prenderá o ser na posição que este estiver, permitindo apenas movimentos mínimos que seriam como se ele realmente estivesse acorrentado. A vítima da magia não pode lançar magias, usar habilidades que necessitem de movimentação de qualquer tipo ou atacar. Apesar disso, ele não está paralisado e continua consciente do que se passa à sua volta, portanto tem direito ao uso de sua Energia Heróica para resistir a golpes.`,extra:["Atacar alguém que esteja imobilizado pela Magia Correntes, ou deixar por omissão alguém faça isto, é um ato de covardia e é desaprovados por todos os deuses. Neste caso o sacerdote será punido por seu deus. O Mestre deve ficar atendo a este detalhe."],alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.covardia,nome:"Covardia",niveis:[{id:"0",descricao:"Causa a perda de 4 pontos de EH.",nivel:1},{id:"1",descricao:"Causa a perda de 10 pontos de EH.",nivel:2},{id:"2",descricao:"Causa a perda de 20 pontos de EH.",nivel:3},{id:"3",descricao:"Causa a perda de 50 pontos de E.H.",nivel:5},{id:"4",descricao:"Causa a perda de 65 pontos de EH.",nivel:8},{id:"5",descricao:"Causa a perda de 85 pontos de EH.",nivel:10}],descricao:`Através dessa magia, o evocador tira o ânimo, a coragem e o heroísmo da vítima.

A pessoa atacada deve fazer sua Resistência à Magia, ou perder o número de pontos de EH indicado nos efeitos abaixo. Caso a vítima seja levada a 0 de EH por essa magia, ela fugirá apavorada por 5 rodadas. Caso a vítima não tenha EH, ela apenas correrá apavorada caso falhe em sua Resistência.`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.criacao,nome:"Criação",niveis:[{id:"0",custo:{prata:3},descricao:"Cria 1 morto-vivo de estágio 1.",nivel:1},{id:"1",custo:{prata:6},descricao:"Cria 1 morto-vivo de estágio 2.",nivel:2},{id:"2",custo:{prata:9},descricao:"Cria 1 morto-vivo de estágio 3.",nivel:3},{id:"3",custo:{prata:12},descricao:"Cria 1 morto-vivo de estágio 4.",nivel:4},{id:"4",custo:{prata:15},descricao:"Cria 1 morto-vivo de estágio 5.",nivel:5},{id:"5",custo:{ouro:2},descricao:"Cria 1 morto-vivo de estágio até 6.",nivel:6},{id:"6",custo:{ouro:3},descricao:"Cria 1 morto-vivo de estágio até 7.",nivel:7},{id:"7",custo:{ouro:4},descricao:"Cria 1 morto-vivo de estágio até 8.",nivel:8},{id:"8",custo:{ouro:5},descricao:"Cria 1 morto-vivo de estágio até 9.",nivel:9},{id:"9",custo:{ouro:7},descricao:"Cria 1 morto-vivo de estágio até 10.",nivel:10}],descricao:`Este encanto permite que o evocador crie um morto-vivo por meio de um complexo ritual. O tipo de morto-vivo criado depende da dificuldade do efeito usado. Para evocar este efeito, o necromante deve dispor de um corpo morto, que deverá ser de acordo com o tipo de morto-vivo que se deseja criar (ver descrição das criaturas mortos-vivos).

O nível da magia usada diz qual o estágio do morto-vivo a ser criado, assim, para criar um esqueleto, que possui nível 1, deve-se usar Criação 1. Caso o mago use Criação acima do necessário ele gastará os recursos do nível usado mas o morto-vivo não será mais poderoso.

O morto-vivo criado é completamente independente do seu criador e agirá de acordo com a sua natureza, o que geralmente implica em atacar o evocador. Se desejar dominar o morto-vivo, a magia Controle deve ser usada. Este feitiço pode ser evocado conjuntamente com Controle.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.RITUAL}},{id:W.criptogramaMistico,nome:"Criptograma Místico ",niveis:[{id:"0",evocacao:{tipo:G.RODADA,valor:3},descricao:"Faz um texto ou desenho em uma folha ficar invisível a olhos não treinados. Mesmo textos já escritos podem ser afetados por esta magia. Qualquer mago capaz de usar este nível sentirá, caso toque um material encantado por Criptograma Místico 1, que a magia está sendo usada. Para ler é preciso usar o mesmo.",nivel:1},{id:"1",evocacao:{tipo:G.HORA,valor:1},custo:{descricao:"1 moeda de ouro por pena"},descricao:"Com este nível é possível criar uma ou mais penas e tinta. O texto escrito com esse material poderá ser visto somente por aqueles que participaram do ritual, ninguém mais.",nivel:2},{id:"2",evocacao:{tipo:G.VARIAVEL,descricao:"Varia de 1 minuto para desenhos simples a 10 minutos para desenhos complexos"},descricao:"O mago consegue transmitir para o papel com perfeição qualquer imagem visualizada por ele. O usuário entra num estado de transe e seus dedos “desenham” na superfície do papel a imagem. Os detalhes, a cor e a nitidez do desenho vão depender do quão bem a imagem ficou gravada na memória do usuário.",nivel:4},{id:"3",evocacao:{tipo:G.VARIAVEL,descricao:"Varia de 1 minuto para desenhos simples a 10 minutos para desenhos complexos"},descricao:"Idem ao anterior mas o mago pode fazer um desenho extraído do subconsciente de outro ser, fazendo com que ele pense na figura que o evocador quer extrair. Para isso o mago toca com uma das mãos a cabeça do alvo e com a outra começa o desenho. O alvo pode resistir com um teste se resistência à magia se assim desejar e, caso falhe (ou concorde}, ambos entram em estado de transe e a mente do alvo ficará fixada nesta imagem até que o mago acabe o desenho.",nivel:6},{id:"4",custo:{ouro:6},descricao:"Esse interessante ritual deve ser usado em um livro ou pergaminho que após confeccionado pode ao desejo do mago gravar magicamente, em suas folhas, toda a conversação realizada próxima a ele por um máximo de uma hora. Após este período o livro deverá ser encantado novamente. O livro capta palavras num raio de até 25 metros. As palavras serão escritas com a letra do conjurador e no sentido em que o mesmo entenderia essa conversa se estivesse presente. Existe uma cor para cada timbre de voz, sendo fácil uma visualização de quem diz cada frase.",nivel:8},{id:"5",custo:{ouro:6},descricao:"Esse nível é um ritual conhecido como folhas gêmeas. Este nível permite encantar duas folhas de modo que, após o encantamento ao escrever em um deles, a outra ficará escritas da mesma forma, independente da distância que as duas folhas estiverem. Note que qualquer acidente com uma das folhas (fogo, água, tempo, sangue}, serão assimilados pelas outras.",nivel:10}],descricao:`Com este encanto os magos são capazes de criar ou enfeitiçar pergaminhos para enviar e receber informações com mais segurança.

Os Magos geralmente usam este feitiço para guardar os segredos de uma forma mais segura ou, em certos níveis, para espionar ou descobrir espiões. Alguns usam Criptograma Místico para escrever livros que somente ele e seus companheiros possam ler.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.ANO,valor:1},evocacao:{tipo:G.VARIAVEL}},{id:W.curasEspirituais,nome:"Curas Espirituais ",niveis:[{id:"0",descricao:"Cura 6 pontos de EH.",nivel:1},{id:"1",descricao:"Cura 14 pontos de EH.",nivel:2},{id:"2",descricao:"Cura 30 pontos de EH.",nivel:4},{id:"3",descricao:"Cura 50 pontos de EH.",nivel:6},{id:"4",descricao:"A força dessa magia não somente cura o heroísmo, como também expulsa espíritos estranhos do corpo do ser tocado. O espírito que esteja possuindo o corpo deve fazer uma Resistência a essa magia, se falhar será expulso. Além disso, está magia cura 75 pontos de EH.",nivel:8},{id:"5",descricao:"A força dessa magia não somente cura o heroísmo, como também expulsa espíritos estranhos do corpo do ser tocado. O espírito que esteja possuindo o corpo deve fazer uma Resistência a essa magia, se falhar será violentamente expulso, recebendo 50 pontos de dano. Além disso, esta magia Cura 100 pontos de EH do ser tocado.",nivel:10}],descricao:`Lutas mortais, fúria, medo, ferimentos... Diversas situações podem afetar o espírito dos aventureiros de maneira a aproximá-los da morte. Curas Espirituais é um bálsamo para a alma destes heróis cansados, renovando-os para a batalha.

Esse milagre recupera imediatamente a EH do ser tocado. Uma cura, que levaria horas ou dias se faz em um instante. O processo, ainda assim, é apenas uma recuperação, pontos de cura que levem a EH acima do máximo da criatura curada são perdidos.

Nos níveis mais altos este milagre é capaz de se afetar espíritos estranhos no corpo do ser tocado, ou seja, agem como um exorcismo. O espírito que esteja possuindo o corpo deve fazer uma Resistência a magia contra o nível usado, se falhar será expulso ou destruído.

Como o alcance da magia é o toque, se faz necessário que o sacerdote e a pessoa a ser curada permaneçam completamente imóveis durante as duas rodadas de evocação do milagre.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.RODADA,valor:2}},{id:W.curasFisicas,nome:"Curas Físicas ",niveis:[{id:"0",descricao:"Cura 2 pontos de dano na EF.",nivel:1},{id:"1",descricao:"Cura 7 pontos de dano na EF.",nivel:3},{id:"2",descricao:"Cura 12 pontos de dano na EF.",nivel:5},{id:"3",descricao:"Cura 25 pontos de dano na EF.",nivel:7},{id:"4",descricao:"Cura 45 pontos de dano na EF.",nivel:9}],descricao:`Esta magia cura instantaneamente ferimentos, reparando total ou parcialmente qualquer dano na EF do favorecido com o milagre. A quantidade de dano que é restaurada depende do Efeito utilizado.

Note que a EF de uma criatura não pode ultrapassar o máximo que esta pessoa tem.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.INSTANTANEA}},{id:W.curasHeroicas,nome:"Curas Heróicas ",niveis:[{id:"0",nivel:1,descricao:"Cura um valor máximo de 16 pontos de EH."},{id:"1",nivel:2,descricao:"Cura um valor máximo de 24 pontos de EH."},{id:"2",nivel:4,descricao:"Cura um valor máximo de 36 pontos de EH."},{id:"3",nivel:6,descricao:"Cura um valor máximo de 48 pontos de EH."},{id:"4",nivel:8,descricao:"Cura um valor máximo de 64 pontos de EH."},{id:"5",nivel:10,descricao:"Cura um valor máximo de 80 pontos de EH."}],descricao:`Durante os combates, o heroísmo dos lutadores é facilmente abatido. O cansaço e a perda de confiança são mortais em certos casos.

Esse milagre recupera imediatamente a EH do ser tocado. Uma cura, que levaria horas ou dias, se faz em um instante. O processo, ainda assim, é apenas uma recuperação. Pontos de cura que levem a EH acima do máximo da criatura curada são perdidos.

Para efetuar a cura, o sacerdote deverá fazer uma rolagem na coluna do nível que possuir na magia. De acordo com o resultado obtido na rolagem, certa quantia de EH será curada. A quantidade recuperada será dada pela fração conseguida na rolagem (exatamente como são aplicados os danos}, ou seja, se um efeito é capaz de curar um valor máximo de 24 pontos de EH, isso quer dizer que as frações de recuperação de acordo com a rolagem serão as seguintes: 100% = 24, 75% = 18, 50% = 12 e 25% = 6. Caso o alvo não queira ser curado joga-se resistência à magia e usam-se os resultados da tabela normalmente. Um resultado crítico (cor cinza) será contado como critico de magia podendo curar mais que o descrito no efeito. Em caso de erro ou falha (branco e verde) nenhum ponto de EH é recuperado.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}}]})(sx||(sx={}));var nx;(t=>{t.lista=[{id:W.dadivasDaGuerra,nome:"Dádivas da Guerra",niveis:[{id:"0",descricao:"Idem ao anterior, mas também pode escolher: Combate com Escudo, Mira ou Golpe Letal.",nivel:2},{id:"1",descricao:"Idem ao anterior, mas a duração é de um combate e pode ser escolhido: Leitura da Batalha, Escolta ou Dano Agravado.",nivel:4},{id:"2",descricao:"Idem ao anterior, mas também o sacerdote pode usar um aprimoramento na técnica escolhida ou usar um aprimoramento para uma técnica que já possua. A partir desse nível, é possível escolher a intervenção divina: o sacerdote pede ajuda ao Deus, e apenas ele será beneficiado.",nivel:6},{id:"3",descricao:"Idem ao anterior, mas a duração é de 1 hora OU o sacerdote pede ajuda ao Deus que beneficiará ele e um companheiro.",nivel:8},{id:"4",descricao:"Idem ao anterior, mas a duração é de 1 dia OU o sacerdote pede ajuda ao Deus que beneficiará o grupo todo.",nivel:10}],descricao:`Este encanto permite que sacerdotes de Blator, Crisagom e Crezir recebam de seus respectivos Deuses dádivas para usar em combate. Nos níveis mais baixos, as dádivas são autorizações temporárias para usar técnicas de combate permitidas apenas a Guerreiros e Ladinos. Nos níveis mais altos, o Deus também concede um auxílio direto ao sacerdote (intervenção divina).

O efeito de utilizar as técnicas de combate pode ser usado normalmente como qualquer milagre. Mas o efeito de intervenção divina somente pode ser evocado em situações críticas de combate, desfavorável ao sacerdote. A ajuda direta do Deus será específica para o momento, não poderá ferir diretamente os adversários, não garante vitória e só pode ser evocada 1 vez por dia (o efeito de usar técnicas de combate pode ser evocadas quantas vezes quiser por dia). O Mestre é quem irá definir como será essa ajuda e se o momento permite a evocação. Assim que a crise terminar, todas as alterações feitas pela magia retrocederão. Exemplos de momentos críticos e assistência divina:

- o sacerdote enfrenta um dragão, evoca a magia, e o Deus concede uma proteção extra na armadura contra fogo;

- o sacerdote enfrenta uma horda de mortos-vivos, evoca a magia, e o Deus concede um dano maior na arma usada contra as criaturas;

- o grupo do sacerdote está encurralado por gigantes e mais gigantes se aproximam pela ponte. Evoca a magia, e o Deus envia um raio para destruir a ponte.

Após evocar três vezes o efeito da intervenção divina, independente do intervalo de dias, será necessário recompensar a assistência (evocar o efeito de usar as técnicas de combate não requer retribuição, é livre, apenas a ajuda direta do Deus que precisa). O Deus mandará um enviado menor até o sacerdote para explicar como será. O Mestre deverá usar esse gancho para uma próxima aventura ou incluir essa história durante a campanha. Caso não faça, o sacerdote fica impossibilitado de usar a magia novamente, inclusive para o efeito das técnicas de combate. Prolongando-se o não pagamento da dívida, o sacerdote pode ser considerado desertor da Ordem e a divindade pode inibir o direito de o sacerdote usar magia. São exemplos de retribuições:

- Fazer a arrecadação e escoltar as doações da Igreja até a Ordem;

- Encontrar o objeto sagrado roubado do templo;

- Encontrar o assassino que está matando os fiéis;

- Mediar a paz junto a algum grupo em conflito com o rebanho, etc.

Enfim, o Mestre deverá usar de criatividade para criar e incluir a aventura. Lembrando que não são tarefas simples: o sacerdote tem que ser merecedor da dádiva divina, logo, a aventura tem que estar à altura.

A partir do nível 6, o evocador escolherá apenas um efeito na hora de lançar a magia.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA},extra:["Por se tratar de magia, as restrições de Imperícia e Intermitência não se aplicam. É possível escolher técnicas com aprimoramentos a partir do nível 6 em diante porque a magia permite.","O total na técnica de combate será igual a Força de Ataque (FA) da magia."]},{id:W.dardosDeGelo,nome:"Dardos de Gelo",niveis:[{id:"0",descricao:"Cada dardo tem 8 de dano máximo;",nivel:1},{id:"1",descricao:"Cada dardo tem 16 de dano máximo;",nivel:3},{id:"2",descricao:"Cada dardo tem 20 de dano máximo;",nivel:5},{id:"3",descricao:"Cada dardo tem 24 de dano máximo;",nivel:7},{id:"4",descricao:"Cada dardo tem 32 de dano máximo;",nivel:9}],descricao:`Este feitiço cria 3 dardos pontiagudos de gelo no ar, os quais imediatamente se lançam às vítimas escolhidas pelo evocador. Caso mais de um dardo seja direcionado contra o mesmo alvo, o dano máximo é aumentado em 4 pontos por dardo.

Por exemplo, se um mago evocar o efeito 1, ele pode laçar 3 dardos com dano máximo 8 contra três alvos, ou dois dardos contra dois alvos onde um dardo tem dano máximo 8 e outro tem dano máximo 12, ou 1 único dardo com dano máximo 16. O dano máximo de cada dardo é determinado pelo efeito que está sendo usado.

Após atingir (ou não) o inimigo o dardo se fragmenta, derrete rapidamente e em seguida toda a água desaparece. Todo esse processo demora uma rodada (daí a Duração do feitiço).`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.RODADA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.degeneracaoFisica,nome:"Degeneração Física",niveis:[{id:"0",descricao:"Causa um efeito menor (como tremores, tosses, irritações, coceiras, etc) sem efeito prático, mas que impressiona o homem comum. A duração é de 10 rodadas.",nivel:1},{id:"1",descricao:"Uma dor profunda impede que a vitima aja durante a primeira rodada do efeito. Depois disso, ela passa a ter um ajuste de -2 colunas (como já foi dito antes) por um dia.",nivel:3},{id:"2",descricao:"Idem à anterior, mas o ajuste é de -4 colunas e a duração é de 5 dias.",nivel:5},{id:"3",descricao:"Idem à anterior, mas o ajuste é de -7 colunas e a duração é de uma semana.",nivel:7},{id:"4",descricao:"A vítima é duramente castigada por este efeito; antes de mais nada, ela fica sem ação por uma rodada, além de receber 5 pontos de dano na EF. Logo depois, vem o ajuste de -7 colunas. Por fim, a vítima deve permanecer em repouso total durante uma semana para se curar, caso contrário a duração é de um mês.",nivel:9}],descricao:`Esta praga é usada normalmente para punições exemplares. A dor causada por esta magia impede a vítima de agir normalmente até o final da duração (normalmente longa).

Caso a vítima do feitiço falhe em sua Resistência à Magia, ela sentirá dores tão fortes que terá penalidades para todas as Habilidades e para o combate.`,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.desertificacao,nome:"Desertificação",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:15,isRaio:!0},descricao:"Reduz a vida vegetal em 25% da área.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:35,isRaio:!0},descricao:"Reduz a vida vegetal em 50%, fazendo com que desapareçam todos os frutos e raízes comestíveis da área.",nivel:3},{id:"2",alcance:{tipo:L.METRO,valor:75,isRaio:!0},descricao:"Destrói todas as árvores frutíferas e raízes comestíveis, deixando somente as plantas resistentes como cactos e outras semelhantes da área.",nivel:5},{id:"3",alcance:{tipo:L.METRO,valor:150,isRaio:!0},descricao:"Destrói toda a vida vegetal na área de efeito.",nivel:7},{id:"4",alcance:{tipo:L.METRO,valor:300,isRaio:!0},descricao:"Idem ao anterior, mas além disso destrói o solo deixando-o infértil e arenoso..",nivel:9}],descricao:`Esta magia cria uma energia degenerativa que destrói a vida vegetal de uma área tornando-a deserta. A ação desta magia é imediata, após a evocação ser concretizada a vida vegetal começa a morrer em um ritmo muito acelerado se estendendo até o alcance máximo da magia. Quanto mais poderosa a magia, maior será a área do efeito e mais catastrófica será a desertificação.

Esta magia é perigosa podendo causar sérios danos á natureza, sendo por esse motivo, usada em ultima instancia pelos Naturalistas.

È possível diminuir o raio de abrangência da desertificação conforme a vontade do evocador.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.RODADA,valor:10}},{id:W.desintegracao,nome:"Desintegração",niveis:[{id:"0",alcance:{tipo:L.METRO,valor:5},descricao:"Afeta minerais cujas dimensões máximas sejam 10cm x 10cm x 10cm.",nivel:1},{id:"1",alcance:{tipo:L.METRO,valor:10},descricao:"Afeta minerais cujas dimensões máximas sejam 50cm x 50cm x 50cm.",nivel:2},{id:"2",alcance:{tipo:L.METRO,valor:20},descricao:"Afeta minerais cujas dimensões máximas sejam 1m x 1m x 1m, e vegetais cujas dimensões máximas sejam 10cm x 10cm x 10cm. O mago pode afetar até 2 objetos e/ou criaturas diferentes.",nivel:4},{id:"3",alcance:{tipo:L.METRO,valor:30},descricao:"Afeta minerais cujas dimensões máximas sejam 2m x 2m x 2m, e vegetais cujas dimensões máximas sejam 50cm x 50cm x 50cm. A partir deste nível o usuário tem um controle melhor sobre sua magia, ele pode “desenhar” com sua desintegração, como se estivesse desenhando com as mãos. (usa-se o nível na habilidade “Arte” em desenho). O mago pode afetar até 3 objetos e/ou criaturas diferentes.",nivel:6},{id:"4",alcance:{tipo:L.METRO,valor:40},descricao:"Afeta minerais cujas dimensões máximas sejam 3m x 3m x 3m, vegetais cujas dimensões máximas sejam 1m x 1m x 1m e animais cujas dimensões máximas sejam 20cm x 20cm x 20cm. O mago pode afetar 4 objetos/criaturas diferentes.",nivel:8},{id:"5",alcance:{tipo:L.METRO,valor:50},descricao:"Afeta minerais, cujas dimensões máximas sejam 4m x 4m x 4m, vegetais cujas dimensões máximas sejam 2m x 2m x 2m, e animais cujas dimensões máximas sejam 60cm x 60cm x60cm. O mago pode afetar 5 objetos/criaturas diferentes.",nivel:10}],descricao:`Esta magia destrói as forças de coesão da matéria transformando objetos ou criaturas em uma tênue nuvem (a matéria dispersada).

Este encanto é muito eficiente contra objetos, mas qualquer ser com aura é dificilmente atingido por ele. Mesmo os vegetais, têm mana suficiente para atrapalhar o encanto. Qualquer criatura viva tem o direito a um teste de Resistência à Magia para escapar de seus efeitos. Minerais e vegetais mortos (madeira) não têm esse direito.

Uma criatura só pode ser atingida por este encanto, se toda a sua aura for ameaçada, ou seja, o efeito deve ser grande o suficiente para atingir todo o corpo da vítima, ou a magia falha.

Objetos, porém, podem ser desintegrados parcialmente (uma parede pode ser destruída aos poucos).

Os efeitos indicam o tipo de material que pode ser atingido, as dimensões e volumes, a quantidade de alvos afetados de uma vez e seu alcance.

Alguns efeitos desta magia permitem que o mago desintegre vários objetos e/ou criaturas com apenas uma evocação, basta que a soma dos volumes (dimensões}, e a quantidade de objetos afetados não ultrapasse o total que o nível da magia suporta. Outra limitação é que o(s) objeto(s) afetado(s) deve(m) estar no campo de visão do mago.

Ex: Um mago deseja fugir de determinado local e para isso quer desintegrar duas tochas presas à parede que iluminam a sala onde está. Ele opta por usar o nível 6 do feitiço Desintegração e as tochas se desfazem imediatamente.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.RODADA,valor:1}},{id:W.deslocamentoNatural,nome:"Deslocamento Natural",niveis:[{id:"0",duracao:{tipo:C.MINUTO,valor:10},descricao:"Elimina as penalidades para terrenos pouco acidentados como chão pedregoso, matas mediamente fechadas, areia da orla de uma praia ou ladeiras com inclinação de até 20 graus.",nivel:1},{id:"1",duracao:{tipo:C.HORA,valor:2},descricao:"Idem ao anterior.",nivel:3},{id:"2",duracao:{tipo:C.HORA,valor:2},descricao:"Elimina as penalidades para terrenos muito acidentados (mas possível a travessia) como pântanos, dunas de um deserto, matas muito fechadas, mangues ou ladeiras com inclinação de até 40 graus.",nivel:5},{id:"3",duracao:{tipo:C.HORA,valor:6},descricao:"Idem ao anterior, mas permite andar em neve muito fofa.",nivel:7},{id:"4",duracao:{tipo:C.HORA,valor:12},descricao:"Elimina as penalidades para terrenos absurdamente acidentados e de acesso quase impossível como se deslocar durante um terremoto forte, areias movediças ou ladeiras com inclinação de até 60 graus.",nivel:9}],descricao:`Esse encanto permite ao místico sobrepujar as adversidades de terrenos naturais possibilitando se locomover normalmente em ambiente de difícil acesso como pântanos, areia fofa, matas fechadas, etc.

Funciona inibindo as penalidades de movimentação de tais áreas. Assim, o evocador se deslocará como se estivesse caminhando normalmente. A duração e o tipo de terreno irão depender do nível utilizado.

A inibição da penalidade do terreno também se estenderá caso o místico necessite entrar em combate. Lembrando que essa magia é de uso pessoal, e não se aplica a deslocamento montado ou combate montado.

Note que os efeitos desse encanto se aplicam somente enquanto o evocador estiver “se deslocando” e, durante esse deslocamento, necessite lutar. A critério do Mestre, ele poderá estender a outras situações julgadas no momento, como o uso de alguma habilidade, por exemplo. Mas de antemão, essa magia atua apenas para as duas situações iniciais.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA},extra:['Para a correta aplicação das penalidades do terreno, recomenda-se que o Mestre consulte o capítulo 4 do Livro de Regras (Combate}, em específico os sub tópicos "Ataques em Situações Vantajosas" e "Clima e Terreno". Esta magia não esconde o rastro deixado. Esta magia só funciona em ambientes naturais.']},{id:W.despistamento,nome:"Despistamento",niveis:[{id:"0",duracao:{tipo:C.HORA,valor:1},descricao:"Para perceber que a trilha é falsa é preciso atingir 1 nível de dificuldade a mais que seria necessário para detectar a trilha verdadeira; mas apenas se perceber que a trilha é falsa, poderá fazer um novo teste para rastrear a verdadeira.",nivel:1},{id:"1",duracao:{tipo:C.HORA,valor:1},descricao:"Idem anterior, mas aumenta em 2 níveis de dificuldade para detectar que a trilha é falsa.",nivel:2},{id:"2",duracao:{tipo:C.HORA,valor:3},descricao:"Idem anterior, mas aumenta em 3 níveis de dificuldade para detectar que a trilha é falsa.",nivel:4},{id:"3",duracao:{tipo:C.HORA,valor:6},descricao:"Idem anterior, mas, mesmo que a trilha falsa seja detectada, aumenta em 1 nível a dificuldade de rastreamento da trilha verdadeira. Concede um redutor de 1 nível de dificuldade em Manusear Armadilha.",nivel:6},{id:"4",duracao:{tipo:C.HORA,valor:12},descricao:"Idem anterior, mas aumenta em 4 níveis de dificuldade para detectar que a trilha é falsa. Se ela for percebida mesmo assim, dificulta em 2 níveis para se rastrear a trilha verdadeira. Concede um redutor de 2 níveis de dificuldade em Manusear Armadilha.",nivel:8},{id:"5",duracao:{tipo:C.HORA,valor:24},descricao:"Idem anterior, mas o efeito aumenta em 5 níveis de dificuldade para detectar se a trilha é falsa, se ela for percebida mesmo assim, dificulta em 3 níveis para se rastrear a trilha verdadeira. Concede um redutor de 3 níveis de dificuldade em Manusear Armadilha.",nivel:10}],descricao:`Essa magia cria uma trilha falsa a partir do ponto que o evocador conjurar a magia. A direção apontada será decidida pelo místico no momento da criação, e não poderá mais ser alterada. Esta magia tem como restrição o uso em ambientes naturais ou em terrenos de terra mesmo que sejam não naturais (como ruas em cidades).

A magia não terá efeito caso o perseguidor esteja fazendo contato visual com o evocador (note que o encanto não faz com que o místico fique invisível, apenas cria uma trilha falsa). O tempo em que o perseguidor gastará seguindo a trilha falsa varia de acordo com o nível da magia.

A trilha criada é exatamente igual à que o evocador produziria mesmo estando acompanhado, não importando quantos estejam com ele, e sempre parecerá que foi feita a pouco tempo. O perseguidor deve conseguir passar no teste de seguir trilhas indicado em cada efeito para encontrar qualquer pista. Após a duração do efeito, o perseguidor terá chegado no fim da trilha e perceberá que foi enganado.

A partir do nível 6, caso o evocador tenha tempo para preparar e queira capturar o perseguidor, a magia possibilitará redução na dificuldade da habilidade Manusear Armadilhas.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1},extra:["Esta magia só tem efeito em ambientes naturais."]},{id:W.destrezaAnimal,nome:"Destreza Animal",niveis:[{id:"0",duracao:{tipo:C.RODADA,valor:2},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, com - 4 colunas e reduzindo 2 níveis.",nivel:1},{id:"1",duracao:{tipo:C.RODADA,valor:4},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo -2 colunas e reduzindo 2 níveis.",nivel:3},{id:"2",duracao:{tipo:C.RODADA,valor:6},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo 2 níveis.",nivel:5},{id:"3",duracao:{tipo:C.RODADA,valor:8},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, com -4 colunas reduzindo 1 nível.",nivel:7},{id:"4",duracao:{tipo:C.RODADA,valor:10},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo 1 nível.",nivel:9}],descricao:`Esta magia imbui no corpo do evocador a agilidade comum em animais, podendo então realizar um segundo ataque seguido do primeiro na mesma rodada. Esta magia pode ser evocada durante o combate sem contar como uma ação, mas deve ser declarada antes do rolamento dos dados do primeiro ataque. Este segundo ataque só pode ser usado se estiver usando armas de corpo-a-corpo.

O primeiro golpe é rolado normalmente, o segundo golpe realizado com a mesma arma é veloz porém menos potente, reduzindo assim colunas e níveis do resultado obtido. Resultado mínimo sempre é Branco, mesmo que a redução seja maior ou mesmo que seja falha (neste segundo ataque}, mas caso o primeiro ataque seja uma Falha Crítica a magia é perdida e o segundo ataque não acontece.

Devido a ligação da magia com a natureza, caso o evocador esteja a mais de uma semana fora de ambientes naturais, esta magia não poderá mais ser evocada. Será necessário se passar 1 dia em um ambiente natural para que esta magia possa ser evocada novamente.

Exemplo: O personagem ataca um oponente na coluna 10. Ao usar Destreza Animal 3, o segundo golpe se dá na coluna 8 (Destreza Animal 3 reduz duas colunas no ataque). Ao rolar o dado ele tira vermelho (75%}, mas como o efeito reduz 2 níveis, ele obtêm 25% de dano no segundo ataque.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA},extra:["Na rodada que esta magia é evocada não é permitido que o personagem evoque ou tenha evocado outra magia. Nas rodadas subsequentes na qual a magia continua fazendo efeito esta restrição não se aplica e o personagem pode evocar outras magias normalmente."]},{id:W.deteccaoDeMagia,nome:"Detecção de Magia",niveis:[{id:"0",descricao:"Detecta magia em 1 local, objeto ou ser tocado pelo evocador. Se for mágico indica o nível de detecção que deve ser usado de acordo com o que se deseja saber.",nivel:1},{id:"1",descricao:"Detecta magia em 1 local, objeto ou ser a até 2,5 metros do evocador ou revela o menor poder de um objeto (de nível 2 ou menor) e tudo que é necessário para fazer uso deste.",nivel:2},{id:"2",descricao:"Detecta magia em tudo que estiver em 1 área de 5 metros do evocador ou revela dois poderes (de nível 4 ou menor) de um objeto e tudo que é necessário para fazer uso destes.",nivel:4},{id:"3",descricao:"Idem ao 4, mas permite saber a natureza da magia (arcana, divina, demoníaca, natural, profana, sagrada, titânica). No caso de seres, é possível também saber se este foi vítima do encanto ou se a ligação é de uma fonte como um item mágico (observe que neste caso os focus normais são incluídos como itens mágicos). A opção de revelação de poderes é para até 3 poderes de nível 6 ou menor.",nivel:6},{id:"4",descricao:"Detecta todas as magias ao alcance de visão do evocador e permite saber qual especialização fez a magia e a força da magia (nível dela) ou revela todos os poderes (de nível 8 ou menor) de um objeto e tudo que é necessário para fazer uso destes.",nivel:8},{id:"5",descricao:"Detecta todos os poderes de um objeto e tudo que é necessário para fazer uso destes.",nivel:10}],descricao:`Este encanto permite ao evocador detectar e fazer uma leitura da presença de magias ou auras mágicas que estejam em locais, objetos e/ou seres. Além disso, dependendo do nível, é possível revelar como os objetos encantados e/ou mágicos funcionam e quais são as suas propriedades.

Ao utilizar este encanto, uma luz é emanada e sinaliza onde existe a presença de magia e/ou auras mágicas em operação, desde que esta esteja até 5 metros do místico. Nos níveis mais avançados o evocador começa a detectar informações mais profundas ao invés de simplesmente a presença.

Caso a magia entre em contato com um ser de aura própria, este tem direito a efetuar um teste de RM, caso passe, a magia não conseguirá detectar a presença de auras agindo sobre o ser e nem a de qualquer objeto encantado ou mágico que este esteja portando.

As informações obtidas serão sempre a do encanto mais forte (de maior nível) sobre cada alvo. Outro ponto importante de se ressaltar é que cada aura brilha de uma forma diferente, assim sendo, se uma sala tem magia em toda ela e um objeto mágico no meio, a sala brilhará em um tom e o objeto em outro, possibilitando assim identificar os alvos que possuem magia.

Os efeitos de detectar possuem evocação instantânea, mas caso o evocador opte pelo efeito de revelar a evocação é ritual.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.RODADA,valor:1},evocacao:{tipo:G.VARIAVEL},extra:["Caso o evocador use a magia com o mesmo efeito mais de uma vez sobre um objeto, a mesma detecção ou revelação será obtida, mesmo que o objeto possua outras informações."]},{id:W.detectarIntencao,nome:"Detectar Intenção",niveis:[{id:"0",descricao:"Permite saber se a vítima tem alguma intenção em relação ao evocador.",nivel:1},{id:"1",descricao:`Permite saber, caso a vítima tenha alguma intenção no evocador, de saber algo a respeito da intenção. Poderão ser 5 as respostas da magia:
Muito ruim - desfavorece muito o evocador. Exemplo: coloca em perigo a vida do evocador
Ruim - desfavorece o evocador. Exemplo: deseja o mau e/ou tenta manipular
Neutra - não desfavorece nem favorece o evocador. Exemplo: um jogo político que favorece os dois lados, troca de favores
Boa - favorece o evocador . Exemplo: deseja o bem do evocador / oferece favor sem receber nada em troca
Não aplicável - algo que não favorece nem desfavorece necessariamente um ou outro. Exemplo: A pessoa está apaixonada pelo evocador`,nivel:2},{id:"2",descricao:"Idem ao anterior, mas vale para todos aqueles acompanhados pelo evocador.",nivel:4},{id:"3",descricao:"Permite saber se a vítima tem alguma intenção sobre alguém mencionado pelo evocador.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas permite saber alguns detalhes da intenção (o Mestre decide o que revelar).",nivel:8},{id:"5",descricao:"Permite saber com precisão qual é a intenção da vítima sobre qualquer pessoa citada pelo evocador ou próxima a ele no espaço físico, incluindo o próprio.",nivel:10}],descricao:`Com este encanto, o evocador pode detectar fortes intenções que uma pessoa possa ter em relação ao evocador, nos níveis iniciais, ou alguma pessoa mencionada pelo evocador. Essa magia só pode ser evocada em uma conversa entre a vítima e o evocador da magia. A evocação é totalmente discreta e imperceptível por meios normais.

Intenções fracas não são podem ser detectadas (exemplo de fraca intenção: vou ficar perto do taverneiro pra ver se eu consigo um pouco de vinho).

Muito ruim - desfavorece muito o evocador. Exemplo: coloca em perigo a vida do evocador

Ruim - desfavorece o evocador. Exemplo: deseja o mau e/ou tenta manipular

Neutra - não desfavorece nem favorece o evocador. Exemplo: um jogo político que favorece os dois lados, troca de favores

Boa - favorece o evocador . Exemplo deseja o bem do evocador / oferece favor sem receber nada em troca

Não aplicável - algo que não favorece nem desfavorece necessariamente um ou outro. Exemplo: A pessoa está apaixonada pelo evocador`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:3},evocacao:{tipo:G.INSTANTANEA}},{id:W.distracao,nome:"Distração",niveis:[{id:"0",descricao:"Permite atrair a atenção das pessoas em locais muito movimentados como festivais e celebrações.",nivel:1},{id:"1",descricao:"Permite atrair a atenção das pessoas em locais bem movimentados, como um porto durante o dia.",nivel:3},{id:"2",descricao:"Permite atrair a atenção das pessoas em locais de mediana movimentação, como uma cidade pequena ou vila.",nivel:5},{id:"3",descricao:"Permite atrair a atenção das pessoas em locais de pouca movimentação, como uma cidade ou vila à noite.",nivel:7},{id:"4",descricao:"Permite atrair a atenção das pessoas em locais onde quase não há movimentação, como um deserto.",nivel:9}],descricao:`Com a magia distração, o evocador é capaz de chamar rapidamente a atenção das pessoas em sua volta para onde quer que queira, de forma a ganhar tempo para fazer uma ação. Nos níveis iniciais apenas se consegue atrair para locais aonde há maior facilidade de dispersão, mas conforme o nível aumenta, as possibilidades se ampliam.

Ao evocar a magia, o evocador escolhe alguma coisa para atrair a atenção das pessoas; caso as pessoas não passem na Resistência à Magia elas irão obrigatoriamente olhar para o objeto indicado pelo evocador. Caso passem, elas não serão obrigadas a olhar, mas mesmo assim ficarão curiosas para ver. O efeito prático disso é que o evocador ganhará a iniciativa para que possa tomar alguma ação, como esconder, correr, furtar entre outras possibilidades. Quanto mais movimentado for o local, mais fácil será para tirar a atenção de si (um festival oferece bem mais oportunidades de distração do que um deserto).`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.doencas,nome:"Doenças",niveis:[{id:"0",descricao:"Conjuntivite. Esta doença afeta os olhos, embaçando a visão e causando um pouco de dor. Causa um Ajuste de -2 colunas de resolução para Percepções que envolvam visão e para ataques com armas de lançamento (arcos, atirar facas, etc). O tempo de cura é de 3 dias.",nivel:1},{id:"1",descricao:"Gripe. Esta virose causa dores pelo corpo e impede esforço prolongado. A vítima recebe um Ajuste de -3 para combate ou habilidades que exijam esforço físico. O tempo de cura é de 7 dias.",nivel:3},{id:"2",descricao:"Hemofilia. O sangue da vítima perde a sua capacidade de coagulação. Caso o doente receba dano na EF, ele perderá 2 pontos de EF por hora até estar morto ou o sangramento ser estancado com o uso de Curas Físicas. O tempo de cura é de 10 dias.",nivel:5},{id:"3",descricao:"Febre. A vitima é acometida de febre alta e perda de coordenação motora. Isto implica em um Ajuste de -7 para o uso de combates, habilidades e feitiços. O tempo de cura é de 7 dias.",nivel:7},{id:"4",descricao:"Febre amarela. Causa febre, tremores e coloração amarela pela pele. Isto implica em um Ajuste de -7 para o uso de combates, habilidades e feitiços. A cada rodada a penalidade aumenta 2 pontos (-9, -11,-13..). Após 5 rodadas o doente fica impedido de realizar qualquer esforço físico e não pode realizar qualquer tarefa delicada. O tempo de cura é de duas semanas. Caso a doença não seja tratada até 2 dias após a contaminação (com ou sem o uso de magia) a doença se agrava e vitima faz (a cada hora) uma Resistência Física contra uma força de ataque 10. Em caso de falha, a vítima morre.",nivel:10}],descricao:`Este feitiço, infecta um adversário com uma doença. A magia está apenas no modo em que a doença contamina a vítima. Ou seja, a doença não pode ser retirada quebrando-se o encanto. A vítima tem direito a uma Resistência a Magia. Caso passe, o encanto não tem nenhum Efeito.

Os tempos de cura das doenças são indicados nos efeitos (o uso de magia pode abreviá-los). Note que a doença infecta a vítima imediatamente como se ela já estivesse em estágio avançado. Por isso, o tempo de cura contará corno o tempo que a doença leva para se curar a partir do momento da falha na Resistência à Magia. Todos os ajustes causados pelas doenças são recebidos imediatamente.`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.dominacaoAnimal,nome:"Dominação Animal",niveis:[{id:"0",descricao:"Acalma ou espanta até 1 animal de estágio 3 ou menor.",nivel:1},{id:"1",descricao:"Acalma ou espanta até 2 animais de estágio 5 ou menor.",nivel:2},{id:"2",descricao:"Acalma ou espanta até 3 animais de estágio 7 ou menor OU 1 Animal Gigante de estágio 3 ou menor.",nivel:4},{id:"3",descricao:"Acalma ou espanta até 4 animais de estágio 9 ou menor OU até 2 Animais Gigantes ou Místicos Irracionais de estágio 5 ou menor.",nivel:6},{id:"4",descricao:"Acalma ou espanta até 5 animais de estágio 11 ou menor OU até 3 Animais Gigantes ou Místicos Irracionais de estágio 7 ou menor.",nivel:8},{id:"5",descricao:"Acalma ou espanta até 6 animais de estágio 14 ou menor OU até 4 Animais Gigantes ou Místicos Irracionais de estágio 9 ou menor.",nivel:10}],descricao:`DominaçãoAnimal

Com esta magia o rastreador é capaz de acalmar ou espantar animais que falharem no teste de Resistência a Magia e que possam ouvir ou ver os movimentos de dominação do místico. O nível utilizado vai definir o tipo e a quantidade de animais afetados. Enquanto durar o efeito, a dificuldade nos testes de habilidade do evocador em lidar com aquele(s) animal(is) será reduzida em 1. É importante notar que qualquer ataque a um animal dominado resultará na quebra da magia e um provável castigo de Nil.`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.dominio,nome:"Domínio",niveis:[{id:"0",descricao:"Afeta até 4 Estágios de Elementais Menores.",nivel:1,duracao:{tipo:C.DIA,valor:1}},{id:"1",descricao:"Afeta até 8 Estágios de Elementais Fracos ou menos.",nivel:3,duracao:{tipo:C.DIA,valor:3}},{id:"2",descricao:"Afeta até 16 Estágios de Elementais Médios ou menos.",nivel:5,duracao:{tipo:C.DIA,valor:5}},{id:"3",descricao:"Afeta até 26 Estágios de Elementais Médios ou menos.",nivel:7,duracao:{tipo:C.DIA,valor:7}},{id:"4",descricao:"Afeta até 36 Estágios de Elementais Fortes ou menos.",nivel:9,duracao:{tipo:C.DIA,valor:10}}],descricao:`A magia Domínio põe sob o controle de seu evocador um ou mais elementais, caso os mesmos falhem em suas Resistências à Magia. A quantidade de elementais e qual o tipo mais poderoso passível de ser afetado dependem do Efeito utilizado.

Cada Efeito desta magia pode afetar apenas um número máximo de Estágios. Caso exista elementais dentro do alcance (de um tipo que possa ser afetado - ver abaixo) cuja soma dos Estágios seja superior ao número de Estágios que o Efeito usado tem condições de afetar, os mais fracos são afetados primeiro.

Além disso cada Efeito pode afetar apenas elementais de certo tipo ou menos. Elementais de tipo superior ao que o efeito pode afetar ignoram o feitiço (em compensação, eles não contam para o número máximo de Estágios que podem ser afetados).

Esta magia afetará elementais de qualquer origem (fogo, ar, água ou terra}, desde que estes possam ser afetados pelo efeito utilizado.

Cada Elemental que o evocador tenta dominar recebe uma Resistência à Magia. Os que obtiverem sucesso não serão afetados. Além disso, eles geralmente passam a ver o evocador como uma ameaça e atacarão o mesmo em preferência a todos os outros adversários.

Elementais que falhem em suas Resistências à Magia passam a servir o evocador com o melhor de suas capacidades pela Duração do efeito. Eles obedecerão todos os comandos do evocador fielmente. O evocador não precisa se concentrar para que os elementais o obedeçam.

Ao final do tempo de dominação o Elemental adquirirá imunidade a magia “Domínio” do evocador que o dominou, por isso, este mesmo Elemental não poderá ser dominado novamente por este evocador até retornar a seu plano. O tempo em que os elementais permanecem dominados, varia com o efeito usado.`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.dominioMental,nome:"Domínio Mental",niveis:[{id:"0",descricao:"Permite controlar uma criatura de até 2º estágio, o alvo pode se afastar no máximo 20 metros do evocador.",nivel:1,duracao:{tipo:C.RODADA,valor:5}},{id:"1",descricao:"Permite controlar uma criatura de até 3º estágio, os alvos podem se afastar no máximo 20 metros do evocador.",nivel:2,duracao:{tipo:C.RODADA,valor:10}},{id:"2",descricao:"Permite controlar duas criaturas até um total de 5 estágios, os alvos podem se afastar no máximo 50 metros do evocador.",nivel:3,duracao:{tipo:C.RODADA,valor:15}},{id:"3",descricao:"Permite controlar duas criaturas até um total de 7 estágios, os alvos podem se afastar no máximo 100 metros do evocador.",nivel:5,duracao:{tipo:C.RODADA,valor:20}},{id:"4",descricao:"Permite controlar duas criaturas até um total de 10 estágios, os alvos podem se afastar no máximo 200 metros do evocador.",nivel:7,duracao:{tipo:C.RODADA,valor:20}},{id:"5",descricao:"Permite controlar três criaturas até um total de 12 estágios, os alvos podem se afastar no máximo 500 metros do evocador.",nivel:9,duracao:{tipo:C.MINUTO,valor:30}},{id:"6",descricao:"Permite controlar três criaturas até um total de 15 estágios, os alvos podem se afastar no máximo 1 km do evocador.",nivel:10,duracao:{tipo:C.HORA,valor:1}}],descricao:`Com este encanto o mago é capaz de controlar a vontade de seres inteligentes que tenham falhado no seu teste de Resistência a Magia. Os seres controlados obedecerão a todas as ordens dadas pelo evocador com o máximo de suas capacidades, desde que estas não sejam postas em perigo (pelo menos não claramente) ou que sejam ordenados a fazerem coisas contra sua índole. Caso isto ocorra a vítima terá direito a um segundo teste de resistência para não cumprir esta ordem. Esta magia não afeta mortos-vivos e criaturas de outros planos (demônios, enviados, plantores, etc).

O mago tem que falar a mesma língua do ser enfeitiçado, se não ele não saberá como obedecer, pois não entenderá as ordens. Veja que esta magia domina a mente, mas não é possível ter acesso as memórias da vítima, ou seja, o ser enfeitiçado obedecerá a qualquer ordem, para fazer algo, que pode ser uma ação simples (andar, pegar um objeto, ficar parada, ect}, combater e até mesmo fazer uma magia (que o mago saiba que ela sabe fazer). Domínio mental anula a consciência da pessoa, impedindo que se peça para que ela revele qualquer informação que ela saiba.

Ao contrário da magia Amizade, após o termino da magia a vítima sempre terá consciência de que foi enfeitiçada, o que normalmente fará que ela odeie o mago. Caso seja forçada a fazer algo contra sua índole ela passará a ter um ódio mortal contra o mago, passando então a fazer de tudo para matar o mago.

A quantidade de seres e de estágios afetados, a duração do domínio e o alcance dependem do nível de encanto utilizado.`,alcance:{tipo:L.METRO,valor:3},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.dominioNatural,nome:"Domínio Natural",niveis:[{id:"0",descricao:"Obriga um Plantor Soldado ou mais fraco a realizar uma missão para o evocador.",nivel:1},{id:"1",descricao:"Obriga um Plantor Mensageiro à servidão.",nivel:2},{id:"2",descricao:"Obriga um Plantor Conselheiro a realizar uma missão para o evocador.",nivel:3},{id:"3",descricao:"Obriga um Plantor Soldado à servidão.",nivel:5},{id:"4",descricao:"Obriga um Plantor Líder a realizar uma missão para o evocador.",nivel:7},{id:"5",descricao:"Obriga um Plantor Conselheiro à servidão.",nivel:9}],descricao:`Esta magia obriga um (1) Plantor à servidão ou a prestar um serviço para o evocador. O poder do Plantor dominado e o tempo que ele permanece a serviço do evocador variam com a dificuldade do Efeito usado.

Cada vez que o evocador desejar controlar um Plantor, ele deverá evocar este feitiço sobre o mesmo. Caso o ser resista à magia não será dominado e se possível irá atacar o evocador. Caso falhe será dominado.

Existem dois tipos de dominação: a servidão e o serviço. A servidão transforma o Plantor em um servo do evocador até que seu tempo de estadia no mundo físico se esgote. Durante este tempo, o Plantor sempre obedecerá o evocador servindo-o com o melhor de suas capacidades. Um evocador pode ter no máximo dois Plantares servindo-o ao mesmo tempo, sob quaisquer circunstâncias.

O serviço obriga o Plantor a realizar uma tarefa e então ficará livre para viver no mundo físico até que seu tempo de estadia neste se esgote. O evocador deve dar instruções ao Plantor sobre como realizar a Missão, e o ser vai então cumpri-la. Caso a missão demore mais de uma semana o Plantor fica livre após este período. Um evocador pode ter no máximo cinco Plantores prestando serviços para si ao mesmo tempo.

Um mesmo Plantor não pode ser dominado duas vezes pelo mesmo evocador, em outras palavras ele ganha imunidade ao encanto deste mago. Mas nada impede que outro evocador domine este mesmo Plantor.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}}]})(nx||(nx={}));var dx;(t=>{t.lista=[{id:W.elementalDaAgua,nome:"Elemental da Água",niveis:[{id:"0",custo:{ouro:1},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura Elemental Menor da Água.",nivel:1},{id:"1",custo:{ouro:3},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura Elemental da Água fraco.",nivel:3},{id:"2",custo:{ouro:5},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura Elemental da Água médio.",nivel:5},{id:"3",custo:{ouro:7},duracao:{tipo:C.DIA,valor:5},descricao:"Conjura Elemental da Água médio.",nivel:7},{id:"4",custo:{ouro:9},duracao:{tipo:C.DIA,valor:5},descricao:"Conjura Elemental da Água forte.",nivel:9}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental da água. A execução do feitiço exige que haja a menos de 5 metros do evocador uma quantidade de água proporcional à força do Elemental conjurado (uma poça d'água para um Elemental menor, um caldeirão de água para um Elemental fraco, etc).

O Elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador. Quando a Duração do encanto chegar ao fim, este fica livre e volta imediatamente para o Plano Elemental da Água. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades, é claro). Ao terminar as suas missões, ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e que no local haja a quantidade necessária de água. No momento em que a criatura aparece o evocador escolhe se haverá ou não sacrifício. O sacrifício toma a forma de um rubi cujo valor varia com a força do elemental (sem pechinchas). Caso o evocador resolva fazer o sacrifício, ele então deve rolar uma Persuasão Rotineira. Caso obtenha sucesso, o elemental realizará duas missões para o místico. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício ele ainda pode tentar forçar o elemental a servi-lo. O Elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o místico). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.elementalDaTerra,nome:"Elemental da Terra",niveis:[{id:"0",custo:{ouro:1},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura um Elemental. Menor da Terra.",nivel:1},{id:"1",custo:{ouro:3},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura um Elemental da Terra fraco.",nivel:3},{id:"2",custo:{ouro:5},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura um Elemental da Terra médio.",nivel:5},{id:"3",custo:{ouro:7},duracao:{tipo:C.DIA,valor:5},descricao:"Conjura um Elemental da Terra médio.",nivel:7}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental da Terra. Este feitiço pode ser conjurado apenas em terra firme. A evocação desta magia em lugares fechados pode provocar dano nas estruturas do local.

O elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador. Quando a Duração do encanto chega ao fim, o elemental fica livre e volta imediatamente para o Plano Elemental da Terra. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades, é claro). Ao terminar as suas missões ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e que no local haja a quantidade necessária de terra. No momento em que a criatura aparece, o evocador escolhe se haverá ou não sacrifício. O sacrifício toma a forma de um rubi cujo valor varia com a força do elemental (sem pechinchas). Caso o evocador resolva fazer o sacrifício ele deve rolar uma Persuasão Rotineira. Caso obtenha sucesso, o elemental realizará duas missões para o místico. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício, ele ainda pode tentar forçar o elemental a servi-lo. O elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o evocador). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.

Elemental, da Terra 9: Conjura um Elemental da Terra forte por 5 dias. O rubi custa 9 moedas de ouro.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.elementalDoAr,nome:"Elemental do Ar",niveis:[{id:"0",custo:{ouro:1},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura Elemental Menor do Ar.",nivel:1},{id:"1",custo:{ouro:3},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura Elemental do Ar fraco.",nivel:3},{id:"2",custo:{ouro:5},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura Elemental do Ar médio.",nivel:5},{id:"3",custo:{ouro:7},duracao:{tipo:C.DIA,valor:5},descricao:"Conjura Elemental do Ar médio.",nivel:7},{id:"4",custo:{ouro:9},duracao:{tipo:C.DIA,valor:5},descricao:"Conjura Elemental do Ar forte.",nivel:9}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental do ar. O ritual necessário à evocação deste feitiço pode ser executado apenas ao ar livre.

O elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador. Quando a Duração do encanto chega ao fim, o elemental fica livre e volta imediatamente para o Plano Elemental do Ar. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades). Ao terminar as suas missões, ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e seja ao ar livre. No momento em que a criatura aparece, o evocador escolhe se haverá ou não sacrifício. O sacrifício torna a forma de um diamante transparente cujo valor varia com a força do elemental (sem pechinchas). Se o evocador resolver fazer o sacrifício, ele deve então tentar uma Persuasão Rotineira. Caso obtenha sucesso, o elemental realizará duas missões para o mesmo. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício ele ainda pode tentar forçar o elemental a servi-lo. O Elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o evocador). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.elementalDoFogo,nome:"Elemental do Fogo",niveis:[{id:"0",custo:{ouro:1},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura um Elemental Menor do Fogo.",nivel:1},{id:"1",custo:{ouro:3},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura um Elemental do Fogo fraco.",nivel:3},{id:"2",custo:{ouro:5},duracao:{tipo:C.DIA,valor:1},descricao:"Conjura um Elemental do Fogo médio por 1 dia. O rubi custa 5 moedas de ouro.",nivel:5},{id:"3",custo:{ouro:7},duracao:{tipo:C.DIA,valor:5},descricao:"Conjura um Elemental do Fogo médio.",nivel:7},{id:"4",custo:{ouro:9},duracao:{tipo:C.DIA,valor:5},descricao:"Conjura um Elemental do Fogo forte.",nivel:9}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental do fogo. A execução do feitiço exige que haja a menos de 5 metros de evocador uma quantidade de fogo proporcional à força do Elemental conjurado (um braseiro para um Elemental menor, uma pequena fogueira para um Elemental fraco, etc).

O Elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador, Quando a Duração do encanto chega ao fim, o Elemental fica livre e volta imediatamente para o Plano Elemental do Fogo. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades). Ao terminar as suas missões ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e que no local haja a quantidade necessária de fogo. No momento em, que a criatura aparece, o evocador escolhe se haverá ou não sacrifício. O sacrifício torna a forma de um rubi cujo valor varia com a força do elemental (sem pechinchas). Caso o místico resolva fazer o sacrifício, ele deve rolar uma Persuasão Rotineira. Caso obtenha sucesso o elemental realizará duas missões para o místico. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício ele ainda pode tentar forçar o elemental a servi-lo. O elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o evocador). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.eloAnimal,nome:"Elo Animal",niveis:[{id:"0",duracao:{tipo:C.DIA,valor:1},descricao:"Cria um elo temporário ou permanente com um animal de Estágio 3 ou menos. O elo temporário tem duração de 1 dia.",nivel:1},{id:"1",duracao:{tipo:C.MINUTO,valor:30},alcance:{tipo:L.METRO,valor:15},descricao:"Permite que o evocador se comunique e peça um favor para 1 animal. O animal obedecerá com a melhor de suas capacidades, mas não correrá nenhum risco de vida pelo evocador.",nivel:2},{id:"2",duracao:{tipo:C.DIA,valor:3},descricao:"Cria um elo temporário ou permanente com até 2 animais de Estágio 7 ou menos. O elo temporário tem duração de 3 dias.",nivel:4},{id:"3",duracao:{tipo:C.DIA,valor:5},descricao:"Cria um elo temporário ou permanente com até 3 animais de Estágio 11 ou menos. O elo temporário tem duração de 5 dias.",nivel:6},{id:"4",duracao:{tipo:C.DIA,valor:7},descricao:"Cria um elo temporário ou permanente com até 3 animais de Estágio 15 ou menos. O elo temporário tem duração de 7 dias.",nivel:8},{id:"5",evocacao:{tipo:G.RITUAL},alcance:{tipo:L.QUILOMETRO,valor:5},descricao:"Permite comunicar-se com todos os animais de pequeno porte de um ambiente natural. Este feitiço dura enquanto o evocador tenha a posse do talismã (ver texto) e esteja em ambientes naturais. Nenhuma Resistência à Magia é necessária (o sucesso é automático).",nivel:10}],descricao:`Este encanto permite que o místico se comunique com os animais, podendo também transmitir suas emoções, de maneira que construa um elo empático entre si mesmo e um ser de inteligência animal.

O animal submetido a este feitiço tem direito a uma Resistência à Magia; caso obtenha sucesso, recusará a aliança. Esta magia não mais poderá ser usada nesse animal durante o período de um dia. Os animais que não passarem no teste de Resistência à Magia ficarão dóceis em relação ao evocador.

Conforme o efeito usado, o místico pode pedir um favor, um elo temporário (1 rodada de evocação) ou um elo permanente (ritual curto de uma hora, mas que custa 1 M.O por nível do efeito). Qualquer que seja o caso, deverá haver ajuda e proteção mútua; portanto, causar problemas ao animal com que se firmou um pacto para tirar proveito disso (por exemplo: mandar o animal na frente para que as armadilhas caiam nele, mandar o animal para a morte para poder arranjar alianças com animais melhores etc.}, é uma ofensa gravíssima que deverá ser punida com extremo rigor pelo Mestre.

Os efeitos deste feitiço permitem que o místico receba informações do animal e transmita ordens, mesmo à distância (desde que o animal não esteja a mais de 5 Km de distância). O animal obedecerá às ordens do místico com o máximo de suas capacidades. É importante lembrar que a inteligência do animal é pequena, tornando a comunicação muito limitada. As conversas devem se restringir a conceitos muito simples (4 palavras ou menos) e sensações muito rudimentares como: Imagens, impressões táteis, odores, sabores e/ou sons, podendo ser tanto transmitidos quanto recebidas; contudo, para isso, o místico deve manter-se em concentração absoluta.

Caso o evocador use este encanto para criar um elo com Duração permanente em um animal, este elo perdurará até que um dos dois morra (ou seja, este efeito não pode ser dissolvido). O evocador pode criar até 3 elos permanentes com animais. Note que se o animal morrer por culpa exclusiva do evocador, este ficará atordoado por 3 horas e perderá seus poderes, recuperando-os somente quando tiver cumprido uma missão para se redimir.

O último nível deste encanto é um ritual que permite ao místico se comunicar com todos os animais de pequeno porte de uma área natural de 5 km ao seu redor. Animais de pequeno porte são aqueles que são pequenos demais sequer para terem Estágio (esquilos, passarinhos etc.). Os animais passam a se comunicar com o místico contando-o tudo que acontece e existe na área, o efeito disso é que o místico não pode ser pego desprevenido e passa a ter total compreensão do território, podendo até mesmo encontrar locais secretos. O místico por sua vez se sente na obrigação de retribuir a ajuda, fazendo tudo o possível para proteger os animais e a natureza. O ritual deve ser feito em ambiente natural e é necessário que o evocador confeccione um talismã antes do ritual. O talismã servirá para ativar o efeito. O evocador poderá carregá-lo e usá-lo quando estiver em ambientes naturais, seu efeito ficará ativo enquanto ele estiver em tais ambientes. Se o talismã for roubado e o evocador não conseguir recuperá-lo, poderá fazer outro ritual que anulará o primeiro.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.eloEmpatico,nome:"Elo Empático",niveis:[{id:"0",custo:{prata:5},descricao:"A magia cria um elo entre duas pessoas. as partes saberão se uma das partes envolvidas estão em grande perigo ou em grande sofrimento.",nivel:1},{id:"1",custo:{ouro:1},descricao:"As partes saberão a distância que os separa, obtendo as seguintes respostas: muito perto (até 1km}, perto (de 1 a 10 km}, médio (de 10 a 100km}, longe (de 100 a 1.000km}, muito longe (mais que 1.000km}, além de saber a direção nos pontos cardeais: Norte, Sul, Leste ou Oeste, a magia pode criar um elo com até 4 pessoas.",nivel:2},{id:"2",custo:{ouro:2},descricao:"Uma vez por semana, todas as partes terão um sonho em comum, onde poderão conversar normalmente, nenhuma delas terá como prever quando será o sonho. Obviamente para que o sonho possa ocorrer é necessário que as partes estejam dormindo ao mesmo tempo, a magia pode criar um elo com até 6 pessoas.",nivel:4},{id:"3",custo:{ouro:4},descricao:"Uma vez por dia, as partes poderão por 30 minutos verem uns aos outros, nesse caso eles podem escolher quando farão isso. Eles terão uma imagem dinâmica um do outro, olhando por cima, como se estivessem a uns 10 metros de distância acima, apenas as partes afetadas pela magia podem ver a imagem. Nenhum deles tem como saber se o outro está observando. Os 30 minutos devem ser utilizados uma única vez (ou seja, não se pode ver a imagem durante 20 minutos e depois ver mais 10 minutos) e aquele que convocar essa imagem, deverá estar em estado de meditação, longe de grandes barulhos e completamente alheio ao que acontece ao seu redor. Qualquer coisa que desperte sua atenção, fará com que a imagem se perca, a magia pode criar um elo com até 8 pessoas.",nivel:6},{id:"4",custo:{ouro:8},descricao:"Idem ao anterior, mas os 30 minutos para ver a outra parte não precisa ser utilizado de uma única vez, podendo ser divididos em várias vezes, desde que cada uma delas tenham um mínimo de 1 minuto, a magia pode criar um elo com até 10 pessoas.",nivel:8},{id:"5",descricao:"As partes poderão, durante 5 minutos por dia, entrar em contato com quem desejar. Para que isso funcione, o que deseja entrar em contato deve adentrar em estado de meditação profunda e depois de 5 minutos nesse estado, o evocador consegue enviar uma projeção sua para perto de quem deseja contatar ou para um grupo que esteja sobre o efeito da magia. O corpo do evocador fica em estado de animação suspensa, completamente indefeso e vulnerável, sem ter nenhuma ideia do que está acontecendo com o seu corpo real, e projetado para perto da(s) outra(s) parte(s}, poderá ver, ouvir e cheirar tudo o que acontece próximo ao(s) outro(s). Para o(s) que recebe(m}, este lhe parecerá como uma imagem translúcida, sendo que apenas ele(s) poderá(ão) ver, ouvir e cheirar a projeção, nenhuma outra pessoa poderá ver. Sob essa forma, eles podem conversar livremente, mas não há como um tocar no outro. O que evocou a projeção poderá se manter assim em até 5 minutos, depois disso a projeção simplesmente desaparece. Observe que os 5 minutos valem para ambos; ou seja, não pode uma pessoa enviar sua projeção e depois no mesmo dia a outra parte enviar; apenas um enviará e se manterá assim por 5 minutos. Caso a projeção seja atacada, ela irá se desfazer e aquele que enviou deverá fazer uma Resistência à Magia contra força de Ataque 5: caso passe nada lhe ocorrerá, mas caso não passe sofrerá o golpe em sua forma espiritual que resultara o dano na Energia Heroica. A magia pode criar um elo com até 12 pessoas.",nivel:10}],descricao:`Conhecido como a benção de Lena, o milagre Elo Empático é utilizado em pessoas que mantenham relações sexuais, ou entre um empregador e seus subordinados que firmem um contrato de trabalho, seja fixo como trabalhar no exército do reino; ou temporário, uma missão até uma caverna matar um dragão e resgatar a princesa. O milagre faz com que haja uma elo sobrenatural entre as partes, que permite saber coisas acerca das pessoas mesmo à maior distância.

Este é um milagre que também é utilizado em cavaleiros reais e suas esposas, uma vez que estando sempre longe um do outro, através desse milagre é possível saber algo sobre o outro.

Para que o milagre funcione é necessário que cada uma das partes possua algum objeto imbuído com a aura do outro, ou algo que tenha vindo diretamente do corpo dele como cabelos e unhas. São necessários sacrifícios para esse ritual com o valor mostrado nos níveis. Observe que os efeitos são cumulativos, assim as partes com Elo Empático 4 terá os efeitos do nível 4, do nível 2 e do nível 1.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.ANO,valor:1},evocacao:{tipo:G.RITUAL}},{id:W.empatia,nome:"Empatia",niveis:[{id:"0",descricao:"Permite perceber os sentimentos de 1 pessoa.",nivel:1},{id:"1",descricao:"Permite perceber os sentimentos de 3 pessoas.",nivel:3},{id:"2",descricao:"Permite perceber e influenciar os sentimentos de pessoa.",nivel:5},{id:"3",descricao:"Permite perceber e influenciar os sentimentos de 3 pessoas.",nivel:7},{id:"4",descricao:"Permite perceber e influenciar os sentimentos de 7 pessoas.",nivel:9}],descricao:`Este encantamento permite que o evocador crie um elo empático com o ser em quem o feitiço for usado, podendo assim perceber quais os sentimentos deste ser e, caso possua o efeito adequado, criar ou reduzir certos sentimentos nesta pessoa.

Caso a vítima faça a sua Resistência à Magia, o evocador não só não pode perceber nem influenciar os sentimentos da criatura, como o ser também fica extremamente mal disposto em relação ao místico, dando +2 Níveis de Dificuldade para quaisquer tentativas de Empatia, Persuasão e Negociação e impossibilitando o uso da Habilidade Liderança por uma semana.

Caso o evocador possa perceber os sentimentos da vítima, ele pode manipulá-la muito mais facilmente. Os usos das Habilidades Empatia, Persuasão e Negociação serão 1 Nível de Dificuldade menores. Ou seja, Absurdo vira Muito Difícil, Fácil se toma Rotineiro, etc. Além disso, ele ganhará um ajuste de +5 para o seu total na Habilidade Liderança enquanto o feitiço durar.

Se, além de perceber os sentimentos da vítima, o evocador também puder manipulá-los magicamente, fica extremamente fácil influenciar esta criatura. Os usos das Habilidades Empatia, Persuasão e Negociação serão 2 Níveis de Dificuldade menores. Ou seja, Absurdo vira Difícil, Fácil se torna Rotineiro, etc. Além disso, ele ganhará um ajuste de +10 para o seu total na Habilidade Liderança enquanto o feitiço durar.

Note que, após o elo empático ser criado, ele permanece em efeito durante a duração total da magia. O evocador, no entanto, só pode perceber ou alterar os sentimentos da vítima quando esta estiver dentro do alcance. Também é conveniente notar que a vítima é escolhida no momento em que o feitiço é evocado e não pode ser mudada depois. Em outras palavras, depois que a(s) vítima(s) foi escolhida, o evocador pode afetar apenas esta vítima(s) (a não ser, é claro, que ele evoque a magia novamente em vítimas diferentes).`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:1}},{id:W.encantamento,nome:"Encantamento",niveis:[{id:"0",duracao:{tipo:C.DIA,valor:3},descricao:"Encanta um objeto comum com 1 magia de nível 1 que só poderá ser evocada 1 vez por dia.",nivel:1},{id:"1",descricao:"Encanta um objeto comum com 1 magia de nível máximo 2 que poderá ser evocada até 2 vezes por dia, a duração do encantamento é de 1 semana.",nivel:2},{id:"2",descricao:"Encanta um objeto comum com 1 magia de nível máximo 3 que poderá ser evocada até 3 vezes por dia, a duração do encantamento é de 2 semanas.",nivel:4},{id:"3",descricao:"Encanta um cetro menor com 1 magia de nível máximo 4, a duração do encantamento é de 1 mês.",nivel:6},{id:"4",descricao:"Encanta um cetro maior com 2 magias de nível máximo 6, a duração do encantamento é de 6 meses.",nivel:8},{id:"5",descricao:"Encanta um cajado comum com 3 magias de nível máximo 8, a duração do encantamento é de 1 ano e 1 dia.",nivel:10}],descricao:`Com esta magia o mago alquímico poderá imbuir uma ou mais magias á um “objeto comum”, “Cetros” ou “Cajados”. Dentre os objetos que podem ser encantados os que mais se familiarizam com essa recepção são os cetros e cajados, sendo também os mais difíceis de serem encantados.

Este ritual não tem a capacidade de transformar objetos comuns em mágicos, ele apenas encanta um objeto fazendo com que este seja capaz de portar uma ou mais magias a escolha do evocador. Os “objetos comuns” são mais fácies de serem encantados, mas as magias atribuídas a eles são de pouco poder e além disso impõem um limite de vezes por dia (dado pelo efeito) para serem usados.

Os “objetos comuns” podem ser qualquer coisa, no entanto os magos alquímicos dão preferência a jóias (anéis, colares, brincos) ou a itens comuns no dia a dia de aventuras como (armas, armaduras, instrumentos musicais etc.)

Os cetros e cajados usados nesta magia devem ser feitos por encomenda, pois é necessário que eles portem gemas que serão recipientes de magias. O numero de gemas dos cetros e cajados serão iguais ao numero de matrizes de poder destes objetos. O valor mínimo de cada gema está em torno de 3 moedas de ouro e devem ser pagas separadamente. Os parâmetros de uso dos cetros e cajados encantados por esta magia serão os mesmos dos usados nos cetros e cajados mágicos, assim como o número de matrizes de poder (ver capítulo 8 do Manual de Regras).

Qualquer “objeto comum” encantado por esta magia portará somente uma magia, enquanto que os cetros e cajados poderão conter duas e três magias, respectivamente.

O mago só poderá encantar objetos com magias que ele conheça, ou magias que estejam assimilas através do encanto “Assimilação”. Para encantar um objeto com um efeito assimilado, é preciso que o tempo da assimilação dure até o final da duração do ritual de Encantamento.

Note que é impossível encantar objetos com magias cujo tempo de evocação seja “ritual”. O tipo de objeto que poderá ser encantado, o tempo de duração do encantamento, e o nível da magia que poderá ser colocada, variam com o nível.

Os materiais necessários para a evocação desta magia são de 15 moedas de prata por nível de dificuldade. Um mesmo mago não pode manter mais de três itens encantados em um mesmo período de tempo com este ritual.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:"101",nome:"Encolhimento",niveis:[{id:"0",descricao:"Diminui para 90% do tamanho original, objetos cujas dimensões máximas sejam 50cm x 50cm x 50cm. A duração da magia é de 30 minutos.",nivel:1},{id:"1",descricao:"Diminui para 75% do tamanho original, objetos cujas dimensões máximas sejam 1m x 1m x 1m, ou criaturas cujas dimensões máximas sejam 10cm x 10cm x 10cm. A duração da magia é de 1 hora.",nivel:3},{id:"2",descricao:"Diminui para 50% do tamanho original, objetos cujas dimensões máximas sejam 2m x 2m x 2m, ou criaturas cujas dimensões máximas sejam 50cm x 50cm x 50cm. A duração da magia é de 6 horas.",nivel:5},{id:"3",descricao:"Diminui para 10% do tamanho original, objetos cujas dimensões máximas sejam 4m x 4m x 4m, ou criaturas cujas dimensões máximas sejam 1m x 1m x 1m. A duração da magia é de 12 horas.",nivel:7},{id:"4",descricao:"Diminui para 1% do tamanho original, objetos cujas dimensões máximas sejam 8m x 8m x 8m, ou criaturas cujas dimensões máximas sejam 2m x 2m x 2m. A duração da magia é de 1 dia.",nivel:9}],descricao:`Com esta magia o mago alquímico poderá encolher um objeto ou criatura desde que estes correspondam aos requisitos da magia.

Objetos tendem a ser mais fácies de serem encolhidos por possuírem uma composição mais simples do que os corpos dos animais. Cada efeito da magia poderá encolher um objeto ou criatura até certo valor. Não é possível usar o mesmo efeito desta magia mais de uma vez sobre um objeto ou criatura para reduzi-los a um tamanho menor do que o normal. Caso isso seja feito o karma será gasto e nenhum efeito será conseguido.

Caso o mago utilize um efeito mais poderoso da magia sobre um objeto ou criatura que já esteja diminuído, o encanto mais fraco será quebrado e o efeito mais poderoso prevalecerá. Note que o efeito mais poderoso diminuirá o objeto ou criatura, tomando como base o tamanho real da criatura, e não o seu tamanho já reduzido. Ou seja, se uma espada que esteja sobre o efeito da magia Encolhimento 1, for alvo do efeito de Encolhimento 5. Esta será reduzida a metade de seu tamanho original e não do tamanho que tinha quando estava sobre o efeito de Encolhimento 1.

A criatura que for Encolhida por esta magia, terá a EF reduzida na mesma proporção da diminuição de seu corpo (a critério do mestre do jogo) considerando, no entanto, o valor mínimo como (1). “Um guerreiro de energia física 18 que tenha sido encolhido para 1% do tamanho original, terá energia física 1.”

No entanto sua EH permanece intacta e sua VB só pode ser reduzida no máximo até a metade.

Para que seja possível encolher um objeto ou criatura, é necessário que seu tamanho original caiba dentro das dimensões indicadas no efeito usado.

O efeito indica o volume, o tipo de composição do alvo a ser Encolhido e a duração da magia.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:"102",nome:"Esconjuração",niveis:[{id:"0",descricao:"Expulsa 4 Estágios,",nivel:1},{id:"1",descricao:"Expulsa 8 Estágios.",nivel:2},{id:"2",descricao:"Expulsa 12 Estágios.",nivel:3},{id:"3",descricao:"Expulsa 16 Estágios.",nivel:4},{id:"4",descricao:"Expulsa 20 Estágios.",nivel:5},{id:"5",descricao:"Expulsa 24 Estágios. Caso sejam criaturas de Estágio 1 ou menos, elas não são expulsas, mas sim destruídas.",nivel:6},{id:"6",descricao:"Expulsa 28 Estágios. Caso sejam criaturas de Estágio 1 ou menos, elas não são expulsas, mas sim destruídas.",nivel:7},{id:"7",descricao:"Expulsa 32 Estágios. Caso sejam criaturas de Estágio 2 ou menos, elas não são expulsas, mas sim destruídas.",nivel:8},{id:"8",descricao:"Expulsa 36 Estágios. Caso sejam criaturas de Estágio 2 ou menos, elas não são expulsas, mas sim destruídas.",nivel:9},{id:"9",descricao:"Expulsa 40 Estágios. Caso sejam criaturas de Estágio 3 ou menos, elas não são expulsas, mas sim destruídas.",nivel:10}],descricao:`Esse feitiço canaliza forças positivas para derrotar mortos-vivos e Demônios. Caso um destes falhe em resistir a essa magia, ele será imediatamente forçado a fugir do evocador por um dia, como que possuído por um pânico terrível. Se o efeito usado for muito poderoso, é possível até mesmo destruir o corpo físico da criatura.

A magia afeta criaturas que estejam dentro do alcance (a menos de 20 metros do evocador) até certo número total de Estágios. Isto significa que somam-se os Estágios dos oponentes até atingir o limite da magia. Se uma vítima tem mais Estágios que o que ""sobrou"" do poder da magia, ela está a salvo, pois não pode ser parcialmente afetada. Ela começa afetando os seres mais fracos primeiro (menor Estágio) para então atingir os mais fortes.

Note que todo ser afetado por Esconjuração deixa imediatamente de ser controlado (se estava antes}, sendo liberto de magias como Controle ou Controle Demoníaco.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.DIA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:"103",nome:"Escrita",niveis:[{id:"0",descricao:"Reduz em 1 o nível de dificuldade da habilidade escrita.",nivel:1},{id:"1",descricao:"Reduz em 2 o nível de dificuldade da habilidade escrita.",nivel:3},{id:"2",descricao:"Reduz em 3 o nível de dificuldade da habilidade escrita.",nivel:5},{id:"3",descricao:"Reduz em 4 o nível de dificuldade da habilidade escrita.",nivel:7},{id:"4",descricao:"Reduz em 5 o nível de dificuldade da habilidade escrita ou torna Muito Difícil algo que seria Impossível.",nivel:9}],descricao:"Utilizando-se inúmeras vezes de cartas, sejam de amor, repletas de poesias, ou mensagens, com inúmeros termos formais, algumas pessoas podem desenvolver sua técnica da escrita, conseguindo escrever e ler textos mais rebuscados ou poesias de maior densidade e com maior clareza. Na prática, ao utilizar a magia escrita, o evocador poderá reduzir os níveis de dificuldade da habilidade escrita. Observe que a magia afeta unicamente uma única língua escolhida pelo evocador.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.USO,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:"104",nome:"Escrituras Místicas",niveis:[{id:"0",descricao:"Retêm uma magia de nível 1 que poderá ser liberada apenas 1 vez após o ritual. A duração do encanto é de 1 dia.",nivel:1},{id:"1",descricao:"Retêm uma magia de nível máximo 3 que poderá ser liberada até 1 vez após o ritual. A duração do encanto é de 1 semana.",nivel:3},{id:"2",descricao:"Retêm uma magia de nível máximo 5 que poderá ser liberada até 2 vezes após o ritual. A duração do encanto é de 1 mês.",nivel:5},{id:"3",descricao:"Retêm uma magia de nível máximo 7 que poderá ser liberada até 2 vezes após o ritual. A duração do encanto é de 1 ano e um dia.",nivel:7},{id:"4",descricao:"Retêm uma magia de nível máximo 9 que poderá ser liberada até 3 vezes após o ritual. A duração do encanto é de 13 anos.",nivel:9}],descricao:`Esta magia encanta um pergaminho com escrituras místicas que guardarão um encanto a escolha do evocador. A magia retida no pergaminho será liberada quando alguém pronunciar as palavras das Escrituras Místicas.

Note que é impossível reter magias cujo tempo de evocação seja “ritual”.

O evocador poderá reter no pergaminho, qualquer magia que ele saiba evocar, ou que esteja assimilada com o encanto “Assimilação”. Para reter uma magia assimilada, será preciso que o tempo da assimilação dure até o final do ritual da magia “Escrituras Místicas”. O tempo de evocação das magias escritas será igual ao tempo normal de sua evocação.

O pergaminho deve ser conseguido a parte e é preciso que este nunca tenha sido usado, caso contrário, a magia falhará e os materiais serão gastos inutilmente.

Os níveis indicam o poder da magia retida, o tempo de duração do encanto e o número de vezes que a magia poderá ser liberada do pergaminho até que as escrituras místicas fiquem obsoletas. O custo do ritual é de 8 moedas de prata por nível de dificuldade usado.

Não é possível para um mesmo mago manter mais de 3 pergaminhos encantados em um mesmo período de tempo, com este ritual.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:"105",nome:"Escudo Místico",niveis:[{id:"0",descricao:"Possui raio de base 1 metro, defesa L1 e pode absorver até 13 pontos de dano. A duração do encanto é de 2 rodadas.",nivel:1},{id:"1",descricao:"Possui raio de base 2 metros, defesa L3 e pode absorver até 18 pontos de dano. A duração do encanto é de 4 rodadas.",nivel:2},{id:"2",descricao:"Possui raio de base 4 metros, defesa M1 e pode absorver até 23 pontos de dano. A duração do encanto é de 8 rodadas.",nivel:4},{id:"3",descricao:"Possui raio de base 6 metros, defesa M3 e pode absorver até 28 pontos de dano. A duração do encanto é de 10 rodadas.",nivel:6},{id:"4",descricao:"Possui raio de base 8 metros, defesa P1 e pode absorver até 33 pontos de dano. A duração do encanto é de 20 rodadas.",nivel:8},{id:"5",descricao:"Possui raio de base 10 metros, defesa P3 e pode absorver até 38 pontos de dano. A duração do encanto é de 10 minutos.",nivel:10}],descricao:`Com esta magia o mago cria ao seu redor um domo de energia que tem a capacidade de absorver danos. Para manter o domo o mago deve permanecer imóvel e é necessário ao mago manter-se concentrado. Nenhum ataque físico poderá ser infligido atravessando-se as paredes do domo, tanto de fora para dentro, como de dentro para fora. O domo protegerá a todos que estiverem dentro a área de proteção no momento da evocação. O domo tem uma capacidade sofrer uma quantidade limitada de dano. O dano sofrido não é cumulativo, ou seja, para quebrar a barreira é preciso causar um dano maior que a absorção do escudo místico de uma só vez.

No início da evocação, o mago poderá reduzir o tamanho do raio de base do domo de acordo com a sua vontade, mas depois de evocada a magia o evocador não poderá mais alterar o tamanho do raio da base. A defesa do domo é dada de acordo com o poder do Escudo Místico criado. Esta magia não impede que alguém atravesse domo, mas o domo oferecerá uma dificuldade a passagem o que forçará aquele que tentar a atravessá-lo a fazê-lo devagar. Caso alguém tente atravessar o domo em velocidade, ele se comportará como uma parede sólida.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:"106",nome:"Escudo Protetor",niveis:[{id:"0",descricao:"Possui raio de 1 metro, defesa L1 e pode absorver até 10 pontos de dano. A duração do milagre é de 4 rodadas.",nivel:1},{id:"1",descricao:"Possui raio de 2 metros, defesa L3 e pode absorver até 20 pontos de dano. A duração do milagre é de 6 rodadas.",nivel:2},{id:"2",descricao:"Possui raio de 4 metros, defesa M1 e pode absorver até 40 pontos de dano. A duração do milagre é de 8 rodadas. O escudo também pode proteger contra deslizamentos, parando todas as rochas que caírem contra a área.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas possui raio de 6 metros, defesa M3 e pode absorver até 60 pontos de dano. Um teste de RM permite defletir magias de ataque físico. A duração do milagre é de 12 rodadas. O escudo também serve para proteger contra quedas, envolvendo todos os protegidos em uma esfera que descerá verticalmente até o chão. Após o uso deste efeito de amortecimento de queda o milagre se encerra. Este efeito não dá a capacidade de voar, e muito menos poder controlar onde irá descer.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas possui raio de 8 metros, defesa P1 e pode absorver até 80 pontos de dano. Um teste de RM permite defletir magias de ataque físico. A duração do milagre é de 20 rodadas. O escudo também protege contra gases tóxicos formando uma bolha perfeitamente isolada do ar que pode ser movida com todos dentro a uma velocidade de até 10 metros por rodada.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas possui raio de 10 metros, defesa P3 e pode absorver até 100 pontos de dano. Um teste de RM permite defletir magias de ataque físico. A duração do milagre é de 10 minutos. O escudo também protege contra inundação, formando uma bolha perfeitamente isolada da água que pode ser movida verticalmente com todos dentro a uma velocidade de 5m por rodada até a superfície, mas neste caso não é possível fazer ataques de dentro para fora. Ao chegar à superfície o Escudo Protetor ficará imóvel e permanecerá assim até que a magia se encerre ou seja encerrada.",nivel:10}],descricao:`Esta magia é uma dádiva exclusiva de Selimom a seus Sacerdotes. Ela cria ao seu redor um escudo de proteção que tem a capacidade de absorver danos. Para manter o escudo o Sacerdote deve manter-se concentrado, e é permitido o sacerdote se mover, mas não pode ser mais que metade de sua VB por rodada. Nenhum ataque físico poderá ser infligido atravessando-se as paredes do escudo de fora para dentro, protegendo a todos que estiverem dentro da área de proteção a partir do ponto onde o Sacerdote estiver. Ataques feitos de dentro para fora não possuem restrições. O escudo tem uma capacidade para sofrer uma quantidade limitada de dano. O dano sofrido é cumulativo, ou seja, para quebrar a barreira é preciso que a soma do dano causado seja maior que a absorção do escudo. No momento da quebra do encanto todo dano que exceder não será repassado a quem estiver dentro.

No início da evocação, o Sacerdote poderá reduzir o tamanho do raio de atuação do escudo de acordo com a sua vontade, mas depois de evocada a magia o Sacerdote não poderá mais alterar o tamanho do raio da proteção.

A defesa do Escudo é dada de acordo com o poder do Escudo Protetor criado. Esta magia não impede que alguém atravesse o escudo, mas o escudo oferecerá uma dificuldade a passagem o que forçará aquele que tentar a atravessá-lo a fazê-lo devagar. Caso alguém tente atravessar o escudo em velocidade, ele se comportará como uma parede sólida.

O escudo normalmente não pode ser visto, a não ser que seja usada alguma magia de detecção ou quando ele sofre algum dano, neste caso por 1 segundo será visto brilhando. A partir do efeito 6, caso uma magia de ataque físico que cause dano e não seja em área (como raio elétrico, dardos de gelo, relâmpagos etc.) for lançada contra o escudo, o sacerdote poderá fazer um teste de Resistência a Magia contra a Força do Ataque (FA) da magia agressora. Caso passe no teste de RM, a magia será defletida em direção ao evocador, que deverá fazer o ataque em si mesmo ou em que estiver perto. O Mestre deve sortear para quem a magia foi defletida. Só podem ser defletidas magias de efeito igual ou menor que nível que o evocador possui em Escudo Protetor. Após a segunda tentativa (com sucesso ou não) de defletir magias, o Escudo Protetor se encerra.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:"107",nome:"Escudo Térmico",niveis:[{id:"0",descricao:"Protege por 10 rodadas",nivel:1},{id:"1",descricao:"Protege por 30 minutos",nivel:3},{id:"2",descricao:"Protege por 6 horas",nivel:5},{id:"3",descricao:"Protege por 24 horas",nivel:7}],descricao:"Esta magia torna o Evocador imune (por 1 uso) das mudanças bruscas de temperatura de origem mágica ou natural, como congelamentos, super aquecimentos, as magias Ataque Térmico, Piromanipulação, etc. Este encanto não protege contra hálitos encantados, nem magias de efeitos eminentemente destrutivos como Bola de Fogo, Dardos de Gelo e etc.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.USO,valor:1},evocacao:{tipo:G.RODADA,valor:3}},{id:"108",nome:"Escuridão",niveis:[{id:"0",descricao:"Cria escuridão parcial com raio máximo de 1 metro. A escuridão perdura por até 10 rodadas.",nivel:1},{id:"1",descricao:"Cria escuridão parcial com raio máximo de 3 metros. A escuridão perdura por até 30 rodadas.",nivel:3},{id:"2",descricao:"Cria escuridão total com raio máximo de 1 metro. A escuridão perdura por até 10 rodadas.",nivel:4},{id:"3",descricao:"Cria escuridão parcial com raio máximo de 10 metros. A escuridão perdura por até 10 minutos.",nivel:5},{id:"4",descricao:"Cria escuridão total com raio máximo de 3 metros. A escuridão perdura por até 30 rodadas.",nivel:6},{id:"5",descricao:"Cria escuridão parcial com raio máximo de 50 metros. A escuridão perdura por até 1 hora.",nivel:7},{id:"6",descricao:"Cria escuridão total com raio máximo de 10 metros. A escuridão perdura por até 10 minutos.",nivel:8},{id:"7",descricao:"Cria escuridão parcial com raio máximo de 300 metros. A escuridão perdura por até 10 horas.",nivel:9},{id:"8",descricao:"Cria escuridão total com raio máximo de 30 metros. A escuridão perdura por até 1 hora.",nivel:10}],descricao:`Este encantamento concede ao evocador a capacidade de impedir a criação e a propagação da luz em certas áreas, criando escuridão parcial ou mesmo total nestas áreas. A escuridão criada não poderá ser penetrada por nenhum tipo de visão sem o auxilio de magia.

Esta magia pode criar dois tipos de escuridão: a parcial e a total. A escuridão parcial concede a qualquer criatura que esteja em sua área os ajustes recebidos por cegueira parcial. Do mesmo modo a escuridão total faz com que o Ajuste por cegueira total seja recebido. Mesmo as criaturas que têm a capacidade de ver no escuro, como por exemplo os anões e os orcos, são afetados normalmente por esta escuridão mágica.

O feitiço afeta um volume esférico, cujo raio máximo é determinado pela Dificuldade do Efeito usado. O evocador pode determinar qualquer raio para o volume de escuridão, desde poucos centímetros até o raio máximo (indicado na descrição do efeito).

O evocador pode jogar esta magia sobre uma área ou sobre uma criatura. Ao lançar o feitiço sobre uma área, o evocador cria um volume imóvel de escuridão, e todos os que estiverem na área receberão as penalidades apropriadas. Não existe Resistência à Magia, pois o feitiço não foi lançado especificamente contra ninguém.

Lançar este encantamento sobre uma criatura tem vantagens e desvantagens. Caso a criatura falhe na sua Resistência à Magia, o volume de escuridão ficará vinculado a ela, acompanhando seus movimentos. Isto normalmente faz que a vítima receba os ajustes apropriados.`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:"109",nome:"Esplendor",niveis:[{id:"0",descricao:"Os alvos terão uma primeira impressão boa em relação ao evocador. A duração é de 5 minutos.",nivel:1},{id:"1",descricao:"Os alvos terão a melhor reação imaginável na primeira impressão em relação ao evocador. Este pode pedir um pequeno favor, desde que seja algo razoável. A duração é de 30 minutos.",nivel:3},{id:"2",descricao:"Os alvos passarão a considerar o evocador alguém com alguma importância e atenderão à seus desejos, desde que não contrariem sua índole, seus deveres ou o prejudiquem de alguma forma. A duração é de uma hora.",nivel:5},{id:"3",descricao:"Os alvos passarão a considerar como verdade tudo o evocador disser e procurarão atender à seus desejos, desde que não contrariem sua índole ou o prejudiquem muito. A duração é de 8 horas",nivel:7},{id:"4",descricao:"Os alvos passarão a considerar como absoluta verdade o que o evocador disser e atenderão da melhor forma possível seus desejos, mesmo que contrariem sua índole ou o prejudiquem. A duração é de 1 dia.",nivel:9}],descricao:`Com este encanto, o sacerdote evoca sobre si a benção de Lena fazendo que todo o esplendor da deusa se revele no mundo material. Todos os seres inteligentes que olharem para o sacerdote devem fazer um teste de RM. Os que não passarem no teste são afetados imediatamente e por pelo menos uma rodada ficarão fascinados pela a beleza e perfeição do evocador. Este fascínio fará que eles passem a ter admiração pelo sacerdote e tudo aquilo que ele falar ou fazer parecerá correto. Além deste fascínio uma serie de efeitos extras passam a afetar aqueles que falharam na magia conforme o nível do efeito evocado.

Esta magia deve ser evocada fora de combate. A cada minuto um novo teste de RM deve ser refeito pelos que tiverem resistido, mas para isso o Sacerdote deve ser o mais calmo e cordial possível. Ações de agressão a qualquer um, ou um combate sendo iniciado fará que automaticamente a magia se encerre. Esta magia é similar a magia Amizade, mas no lugar de considerar o Sacerdote um amigo ele será considerado como uma pessoa importante e que deve ser respeitada, além disto esta magia é extremamente discreta e só um teste de Misticismo (Muito difícil) indicará que ela foi feita. Após o termino da magia os que foram afetados pela magia não perceberão o que aconteceu.

Atenção: Para que esta magia funcione é necessário que seja haja interpretação e o jogador deve dizer em voz alta a fala de seu personagem. Isto será decisivo para que o mestre possa avaliar o que é razoável ou não de acordo com o efeito evocado.

OBS: para as regras de primeira impressão consulto o tópico Primeira Impressão no capítulo de Regras Complementares do Livro de Regras.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA}},{id:"110",nome:"Esquecimento",niveis:[{id:"0",descricao:"Permite ao evocador apagar os fatos dos últimos 5 minutos da memória da vítima. A duração é de 1 dia.",nivel:1},{id:"1",descricao:"Permite ao evocador apagar os fatos da última hora da memória da vítima. A vítima fica atordoada por uma rodada. A duração é de uma semana.",nivel:2},{id:"2",descricao:"Permite ao evocador apagar os fatos das últimas 24 horas da memória da vítima. A vítima fica atordoada por 2 rodadas. A duração é de 1 mês.",nivel:4},{id:"3",descricao:"Este nível permite ao evocador apagar os fatos dos últimos 7 dias da memória. A vítima fica atordoada por 5 rodadas. A duração é de 6 meses.",nivel:6},{id:"4",descricao:"Este nível permite ao evocador apagar os fatos dos últimos 30 dias da memória da vítima. A vítima fica atordoada por 10 rodadas. A duração é de 1 ano e 1 dia",nivel:8},{id:"5",descricao:"Neste nível o mago é capaz de causar amnésia total em um indivíduo. O ser afetado perde a capacidade de lançar magias e usar habilidades que não sejam eminentemente físicas. As vítimas não se lembram nem mesmo do próprio nome, possuindo apenas a capacidade de falar em sua língua nativa. A duração é de 13 anos.",nivel:10}],descricao:`Com este encanto o mago pode manipular a memória de suas vítimas, apagando fatos recentes de suas vidas caso falhem em um teste de resistência a magia. Em níveis altos Esquecimento pode até mesmo causar amnésia total sendo, por isso, uma magia muito temida.

Note que embora esta magia não seja discreta, a vítima não saberá que foi enfeitiçada caso falhe na sua resistência, pois não se lembrará do período em que o mago evocou a magia Esquecimento.

Caso uma quebra de encanto seja feito sobre a vítima ela recuperará sua memória. Em alguns efeitos após a magia ser evocada e a vítima falhe em sua resistência ela ficará atordoada, sem saber bem o que está acontecendo ao seu redor, impedindo ela de fazer ações durante este período.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:"111",nome:"Explosão Mística",niveis:[{id:"0",descricao:"Causa dano máximo 4 em apenas uma vítima.",nivel:1},{id:"1",descricao:"Causa dano máximo 8 em apenas uma vítima.",nivel:3},{id:"2",descricao:"Causa dano máximo 8 em até duas vítimas.",nivel:4},{id:"3",descricao:"Causa dano máximo 12 em até duas vítimas.",nivel:6},{id:"4",descricao:"Causa dano máximo 12 em até três vítimas.",nivel:8},{id:"5",descricao:"Causa dano máximo 16 em até três vítimas.",nivel:10}],descricao:`Com esta magia, o mago alquímico ataca a vítima, procurando ferí-la magicamente. Na prática este ataque ao invés de acertar a EH ou a EF da vítima, acerta o seu karma. Não é nem necessário dizer que esta magia é o terror de qualquer mago. Explosão mística funciona exatamente como as outras magias de ataques físicos, como “Meteoros” e “Dardos de Gelo”, no entanto se o resultado for crítico, conta-se como um ataque de maior porcentagem possível, e a vítima ficará impedida de realizar qualquer feitiço na rodada seguinte. Depois poderá agir normalmente. Após evocar o encanto, uma grande explosão ocorre ao redor da vítima, como se formasse um anel de fogo ao seu redor, que se desfaz rapidamente. A explosão não afeta nenhuma outra pessoa a não ser a vítima escolhida pelo mago, ainda que esteja próxima da mesma. A falha segue normalmente, só devendo atentar que caso saia à falha em que o próprio desafortunado se fere, no caso desta magia o mago será ferido no seu próprio karma. Observe que com esse encanto não é possível causar dano em itens que possuam focus. Assim embora possa destruir o karma de um mago, não pode fazer o mesmo com seu medalhão que lhe concede focus +5, por exemplo. O karma que este mago perdeu pode ser recuperado normalmente.

Em alguns níveis desta magia é possível acertar mais de uma criatura com apenas uma evocação.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}}]})(dx||(dx={}));var cx;(t=>{t.lista=[{id:W.fabricacaoDivina,nome:"Fabricação Divina",niveis:[{id:"0",descricao:"Recebe bônus de 1 nível na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser reduzido pela metade. O material e ferramentas deve ser providenciado normalmente pelo sacerdote.",nivel:1},{id:"1",descricao:"Recebe bônus de 2 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser 1/4 do original. O material e ferramentas deve ser providenciado normalmente pelo sacerdote.",nivel:2},{id:"2",descricao:"Recebe bônus de 3 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser 1/6 do original. O material deve ser providenciado normalmente pelo sacerdote. Ferramentas pequenas podem ser providenciadas pelo deus, mas ferramentas grandes (um forja por exemplo) deve ser providenciadas pelo Sacerdote.",nivel:4},{id:"3",descricao:"Recebe bônus de 4 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser 1/8 do original. Metade do material deve ser providenciado normalmente pelo sacerdote. A outra metade do material e ferramentas pequenas podem ser providenciadas pelo deus, mas ferramentas grandes (um forja por exemplo) deve ser providenciadas pelo Sacerdote.",nivel:6},{id:"4",descricao:"Recebe bônus de 5 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais ou torna Muito Difícil algo que seria Impossível. Adicionalmente o tempo exigido pela habilidade passa a ser 1/10 do original. Todo o material pode ser providenciado pelo Deus. Ferramentas pequenas podem ser providenciadas pelo deus, mas ferramentas grandes (um forja por exemplo) deve ser providenciadas pelo Sacerdote.",nivel:8},{id:"5",descricao:"Se o resultado obtido não for uma falha (Verde}, o objeto criado é uma obra prima. Adicionalmente o tempo exigido pela habilidade passa a ser 1/10 do original. Todo o material e as ferramentas podem ser providenciadas pelo deus.",nivel:10}],descricao:`Com este encanto o sacerdote consegue aprimorar seu uso das habilidades carpintaria, trabalho em metal ou trabalhos manuais. Nos níveis mais baixos é necessário ter o material para fabricação e as ferramentais apropriadas. A partir do efeito 4 o Sacerdote pode rogar ao seu deus pela ajuda de matérias e ferramentas conforme descrito nos efeitos. O Sacerdote só deve rogar ao deus se material ou ferramentas não estiverem disponíveis. Se a motivação for fútil, como por exemplo quer tirar proveito financeiro, o pedido de ajuda divina pode irritar o deus e a magia falhará, podendo inclusive ser punido por ele. Esta decisão de ser uma causa fútil (ou não) é de exclusiva decisão do Mestre. Há também uma limitação de materiais/ferramentas que o deus pode providenciar. Normalmente o deus só enviará uma quantidade limitada que seja adequada ao uso pessoal do sacerdote. Como regra geral o Sacerdote não tem nenhum controle sobre o que será providenciado, e esta decisão da quantidade e de quais itens o deus enviará fica a cargo de Mestre de acordo com cada situação.

A duração do encanto será de acordo com a duração da habilidade usada. No momento em que o místico realizar qualquer outra ação que não esteja relacionada ao uso da habilidade a magia será encerrada. Todo material que sobrar e as ferramenta sumirão depois que a fabricação tiver sido concluída.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.faro,nome:"Faro",niveis:[{id:"0",descricao:"Pode farejar uma característica de plantas, animais e objetos que; recebe menos 1 nível de dificuldade para Usar Sentidos aplicado a faro. O efeito dura 15 mim e a distância máxima é de 1 km.",nivel:1},{id:"1",descricao:"Pode farejar até duas características de plantas, animais e objetos; recebe menos 2 níveis de dificuldade para Usar Sentidos aplicado a faro. O efeito dura 30 minutos e a distância máxima é de 2 km.",nivel:3},{id:"2",descricao:"Pode farejar até 4 características de plantas, animais, seres e objetos com um bom grau de precisão; pode sentir odores que já passaram no locar até 5 dias, recebe menos 3 níveis de dificuldade para Usar Sentidos aplicado a faro. Poderá perceber se vai chover em breve. O efeito dura uma hora e a distância máxima é de 3 km.",nivel:5},{id:"3",descricao:"Pode farejar até 6 características de todo tipo de odor com um ótimo grau de precisão, e pode sentir odores que já passaram no locar até 10 dias, recebe menos 4 níveis de dificuldade para Usar Sentidos aplicado a faro. Poderá perceber pelo cheiro que alguém se aproxima usando uma rolagem de Usar Sentidos em quanto a magia estiver ativa ou até mesmo que vai chover em breve. O efeito dura duas horas e a distância máxima é de 4 km.",nivel:7},{id:"4",descricao:"Pode farejar até 10 características todo tipo de odor com um grau de precisão incrível, e pode sentir odores que já passaram no locar até 15 dias, recebe menos 5 níveis de dificuldade para Usar Sentidos aplicado a faro e torna rolamento impossíveis em muito difíceis. Poderá perceber pelo cheiro que alguém se aproxima usando a rolagem de Usar Sentidos enquanto a magia estiver ativa ou até mesmo que vai chover em breve. O efeito dura 3 horas e a distância máxima é de 5 km.",nivel:9}],descricao:`Com esse feitiço o evocador pode mudar seu poder olfativo chegando próximo ou até mesmo superando os lobos e os cães. A diferença entre o olfato humano para o canino, é que um humano consegue saber que um javali está sendo assado, já o canino consegue dizer quais os temperos foram usados com exatidão e até mesmo saber se exagerou no sal, podendo assim dividir os cheiros para ser assertivo no que busca. Caso tenha alguma amostra do que está procurando (como por exemplo uma peça de roupa de uma pessoa) poderá até mesmo isolar esse odor dos demais, tornando assim extremamente efetivo, dependendo do nível da magia.

Caso o que procura tenha vários cheiros, isso tornara mais difícil farejar em efeitos mais baixos, mas em níveis mais altos ajuda a ser mais seletivo. Em um certo nível o evocador pode até dizer se alguém esteve ali quantos dias e pode seguir seu rasto se ainda estiver dentro do tempo estipulado na magia. O evocador precisa conhecer o odor do que vai procurar ou estar de alguma forma no ambiente em que está iniciando sua busca. Se no local ele perceber um odor desconhecido ele pode farejar para saber de quem ou do que se trata.

Essa magia tem dependência de habitat e só pode ser utilizado em ambientes naturais. Nos níveis 7 e 9 onde pode-se sentir o odor de alguém que se aproxime, a criatura deve ter o "vento do ponto da criatura em direção ao evocador" assim ele pode sentir o odor até 100 metros de distância, caso contrário ele o percebera quando a criatura estiver a 20 metros do evocador usando um "usar sentido" fácil.

Exemplos de características de odor pode ser madeira específica, penas de aves especificas, pelos e couro de animais específicos, minérios, plantas especificas e em níveis maiores podendo ter um conjunto de odores, se existir odor, ele pode ser farejado. Para melhor entendimento, abaixo temos alguns exemplos:

Um rastreador evoca o efeito 1 e por 15 minutos pode farejar uma característica só até 1 km de distância, como por exemplo um pelo de urso, uma planta específica etc. assim que a duração da magia acabar ele deve refazer a magia ou não conseguira continuar a farejá-lo.

Um rastreador evoca o efeito 9 e por 3 horas ele pode farejar coisas mais especificas até 5 km de distância, um humano, com armadura de metal, uma capa de couro, carrega ração de viagem, fuma tabaco, está ferido, usando um emplastro de ervas etc. Quanto mais dados tiver da criatura mais específica é sua busca!`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.fascinio,nome:"Fascínio",niveis:[{id:"0",descricao:"Afeta até 3 pessoas.",nivel:1},{id:"1",descricao:"Afeta até 10 pessoas.",nivel:2},{id:"2",descricao:"Afeta até 25 pessoas.",nivel:4},{id:"3",descricao:"Afeta até 60 pessoas.",nivel:6},{id:"4",descricao:"Afeta até 100 pessoas.",nivel:8},{id:"5",descricao:"Afeta até 200 pessoas.",nivel:10}],descricao:`Com esta magia, o evocador consegue atrair a atenção das pessoas, de forma que as mesmas passam a esquecer tudo o que acontece à sua volta, devotando sua atenção unicamente a ele. Ele então começará a tocar, a cantar, a contar uma história, entre outras possibilidades, e, após 10 rodadas, todas as pessoas afetadas pela magia, cujo número varia de acordo com o nível do efeito, deverão fazer um teste de Resistência à Magia. Caso não passe, uma pessoa ficará com toda sua atenção voltada para o evocador. Caso a pessoa passe no teste, ela deverá fazer uma nova resistência à magia por rodada, até que falhe ou ela saia do alcance da magia. Caso alguma pessoa entre no alcance após ter começado a apresentação, ela deverá fazer um teste de resistência à magia após 10 rodadas de apreciação da música e, conforme o outro caso, fazer uma resistência por rodada caso tenha sucesso no teste inicial.

A magia acaba quando o evocador pára de tocar o seu instrumento, cantar ou discursar ou até mesmo de fazer malabarismo; ou seja, quando for de seu interesse. Entretanto, o místico não pode fazer nenhuma outra ação a não ser fazer sua apresentação enquanto produz o encanto. Quando parar de tocar, as pessoas despertarão do encanto, tendo a sensação de terem ido a uma ótima apresentação. As pessoas não têm nenhuma noção de que foram enfeitiçadas. Caso alguém ataque qualquer uma das pessoas sob o efeito, a magia se quebrará sob todas as pessoas. Neste caso, as pessoas percebem que foram enfeitiçadas. A pessoa atacada, entretanto, sofrerá uma surpresa parcial.`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:10}},{id:W.feixesIncandescentes,nome:"Feixes Incandescentes",niveis:[{id:"0",descricao:"1 feixe de dano 16.",nivel:1},{id:"1",descricao:"2 feixes de dano 20.",nivel:3},{id:"2",descricao:"2 feixes de dano 28.",nivel:5},{id:"3",descricao:"2 feixes de dano 32.",nivel:7},{id:"4",descricao:"3 feixes de dano 40.",nivel:9}],descricao:`Restrição de Uso: Ar Livre

Está magia do Colégio Naturalista canaliza certa quantidade de energia solar, moldado-as em feixes que caem do céu em direção aos alvos escolhidos pelo evocador. Só é possível atacar um alvo por feixe. O som do fogo rasgando o ar e de seu potente impacto na terra fazem desta magia um evento magnífico.

Este feitiço só pode ser evocado em ambiente aberto, durante o dia e o céu deve estar limpo, sem nuvens. O numero de feixes e o dano de cada, variam com a dificuldade do efeito.

Embora esta magia seja de origem energética, sua matéria prima é o fogo, se submetendo portanto, á magias como Piroproteção e Armadura Elemental.`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.fitogenese,nome:"Fitogênese",niveis:[{id:"0",descricao:"cria uma área de 7 m de raio de clareira e uma árvore de porte menor. O tempo de duração dos vegetais é de 2 dias.",nivel:2},{id:"1",descricao:"Cria uma área de 20m de raio com uma razoável diversidade de plantas e flores com árvores de médio porte ou menores. O tempo de duração dos vegetais é de 7 dias.",nivel:6},{id:"2",descricao:"Cria uma área de 30 de raio com uma grande diversidade de plantas, flores e a presença de raízes comestíveis. O tempo de duração dos vegetais é de 15 dias.",nivel:8},{id:"3",descricao:"Cria uma área de 50 de raio com vasta diversidade de plantas, flores, raízes comestíveis e árvores frutíferas de porte maior, ou menores. O tempo de duração dos vegetais é de um mês.",nivel:9},{id:"4",descricao:"Idem ao anterior, mas a área pode se estender até 100 m de raio. O tempo de duração dos vegetais é permanente, e a evocação é um ritual que custa 5 moedas de ouro para cada 10m de raio.",nivel:10}],descricao:`Restrição de Uso: Ambiente Natural

Com esta magia o mago induz a criação de vegetais em uma área. Os tipos de vegetais criados, a área da vegetação e o tempo em que os vegetais perduram no local, variam com a dificuldade do efeito.

O aparecimento dos vegetais é imediato, surgindo do solo imediatamente após o termino da evocação. Os magos naturalistas costumam evocar esta magia para obter os vegetais necessários a evocação de outros feitiços.

Esta magia só pode ser efetuada em contato direto como o solo, caso contrário, a magia falhará.

Com exceção do Nível de dificuldade 10, evocação dos efeitos desta magia é de 10 rodadas.

Para identificar o tamanho exato dos vegetais citados, verifique a descrição da magia (Animação Vegetal).

Fitogênese1: Cria uma área de 2 m de raio de vegetação rasteira sem presença de arvores. O tempo de duração dos vegetais é de 12 horas.

Filogênese 4: Cria uma área de 10 m de raio com uma pequena diversidade de plantas e árvores de Pequeno porte ou menores. O tempo de duração dos vegetais é de 4 dias.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.fogoDivino,nome:"Fogo Divino",niveis:[{id:"0",descricao:"Causa 12 pontos de dano em uma área de 1 metro de raio.",nivel:1},{id:"1",descricao:"Causa 16 pontos de dano em uma área de 2 metros de raio.",nivel:2},{id:"2",descricao:"Causa 24 pontos de dano em uma área de 2 metros de raio.",nivel:4},{id:"3",descricao:"Causa 28 pontos de dano em uma área de 4 metros de raio.",nivel:6},{id:"4",descricao:"Causa 32 pontos de dano em uma área de 6 metros de raio.",nivel:8},{id:"5",descricao:"Causa 40 pontos de dano em uma área de 6 metros de raio.",nivel:10}],descricao:`Restrição de Uso: Ar Livre

Conhecido como o milagre mais poderoso de Palier, o fogo divino é sempre relembrado por suas características peculiares. Por ser divino, nem mesmo os demônios e os elementais de fogo resistem ao poder de Palier, podendo ser afetados normalmente por este fogo. Entretanto, para se utilizar este encanto, é necessário que o evocador esteja ao ar livre e que o tempo esteja sem nuvens, chovendo ou mesmo nublado (exatamente o oposto da magia Relâmpago). Caso as condições estejam satisfeitas, o sacerdote poderá clamar por seu deus e uma grande coluna de fogo rasgando o céu virá como resposta ao seu apelo.

Os sacerdotes que dominam este milagre não devem usá-lo levianamente, apenas em caso de extrema necessidade. Caso seja evocado em uma situação que não seja de extrema necessidade ou se for evocado por um motivo efêmero e/ou mundano, a magia falhará e o sacerdote será punido pelo seu deus (o Mestre decide qual será a punição).`,alcance:{tipo:L.METRO,valor:100},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.forcaMutua,nome:"Força Mútua",niveis:[{id:"0",descricao:"Concede +2 na coluna de ataque do evocador e de até 1 de seus companheiros animais. Os companheiros animais ganham +5 na EH. A penalidade pela quebra do laço de coragem é de 1 dia;",nivel:1},{id:"1",descricao:"Concede +4 na coluna de ataque do evocador e de até 2 de seus companheiros animais. Os companheiros animais ganham +10 na EH. A penalidade pela quebra do laço de coragem é de 3 dias;",nivel:3},{id:"2",descricao:"Concede +6 na coluna de ataque do evocador e de até 3 de seus companheiros animais. Os companheiros animais ganham +15 na EH. A penalidade pela quebra do laço de coragem é de 7 dias;",nivel:5},{id:"3",descricao:"Concede +8 na coluna de ataque do evocador e de até 4 de seus companheiros animais. Os companheiros animais ganham +20 na EH. A penalidade pela quebra do laço de coragem é de 15 dias;",nivel:7},{id:"4",descricao:"Concede +10 na coluna de ataque do evocador e de todos seus companheiros animais. Os companheiros animais ganham +25 na EH. A penalidade pela quebra do laço de coragem é de 1 mês.",nivel:9}],descricao:`Com esta magia, o evocador cria um laço de coragem e determinação entre si e seus companheiros animais, fazendo com que todos aumentem suas capacidades para o combate desde que o evocador e seus companheiros estejam engajados no combate. Esta magia não funcionará no caso de não haver nenhum companheiro animal. Caso todos os seus companheiros saiam do combate a magia se encerrará. Devido a ligação da magia com a natureza, caso o evocador esteja mais de uma semana fora de ambientes naturais, esta magia não poderá mais ser evocada. Será necessário passar um dia em um ambiente natural para que esta magia possa ser evocada novamente.

O número de colunas de ataque atribuído ao evocador e aos animais variam de acordo com a dificuldade do efeito. Esta magia só afeta animais que estejam sob efeito das magias: Elo Animal ou Convocação Animal. O Rastreador deve ter cuidado com o uso desta magia, pois caso algum de seus companheiros animais seja morto em decorrência do combate, a quebra do laço de coragem causa um efeito negativo no Rastreador, assim o bônus nas colunas se torna penalidade, que perdura por um tempo muito maior que a própria duração da magia.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.RODADA,valor:15},evocacao:{tipo:G.RODADA,valor:1}},{id:W.forcaSagrada,nome:"Força Sagrada",niveis:[{id:"0",descricao:"Concede + 1 de ajuste de força ao sacerdote.",nivel:1},{id:"1",descricao:"Concede + 2 de ajuste de força ao sacerdote.",nivel:3},{id:"2",descricao:"Concede + 3 de ajuste de força ao sacerdote.",nivel:5},{id:"3",descricao:"Concede + 4 de ajuste de força ao sacerdote.",nivel:7},{id:"4",descricao:"Concede + 5 de ajuste de força ao sacerdote.",nivel:9}],descricao:"Com este encanto, o sacerdote de Blator clama a seu deus, e recebe em resposta uma força divina para ajuda-lo intensamente na batalha. Na prática o sacerdote receberá um ajuste de força extra que deverá ser somado ao dano. Assim se o sacerdote tinha força 2, e usou o nível 7 que concede + 4 de ajuste, o sacerdote passará a ter força 6. Essa magia não só se aplica ao dano mas também ajuda o sacerdote a realizar outras tarefas que exijam uma força absurda. Ao esgotar a duração da magia, a força do sacerdote volta a seu estado normal.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.RODADA,valor:1}},{id:W.forcarDisputa,nome:"Forçar Disputa",niveis:[{id:"0",descricao:"O evocador recebe +2 colunas de ataque em qualquer ação contra o oponente.",nivel:1},{id:"1",descricao:"O evocador recebe +3 colunas de ataque em qualquer ação contra o oponente e temporariamente mais 5 de EH (podendo ir além do máximo).",nivel:3},{id:"2",descricao:"O evocador recebe +4 colunas de ataque em qualquer ação contra o oponente e temporariamente mais 10 de EH (podendo ir além do máximo).",nivel:5},{id:"3",descricao:"Idem ao anterior, mas quando sua EH acabar, ela automaticamente se cura para 20 pontos.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas o primeiro crítico causado pelo oponente é cancelado e vira um ataque normal de 100% na EF.",nivel:9}],descricao:`Esta magia é utilizada de forma estratégica para atrair a atenção um determinado oponente e forçá-lo a combater com o evocador. Para que a magia funcione é necessário que o jogador interprete o que deve ser dito com palavras e/ou gestos e faça algo que acerte o ego ou instinto adversário. O oponente tem direito a um teste de RM, e caso tenha sucesso não será forçado a lutar contra o evocador.

Caso falhe na RM, o oponente será forçado a lutar contra o evocador, mas não é obrigado a fazê-lo de perto, podendo usar ataques a distância. Quando o oponente perder toda a EH ou o evocador fizer o seu primeiro acerto na EF este deve oferecer a rendição. Caso o oponente se recuse o combate prossegue normalmente. Caso aceite a rendição, o evocador não poderá mais atacar o oponente sob pena de receber uma maldição divina (sem teste de RM). Se o oponente rendido for desleal e voltar a combater ou se resolver fugir é este que receberá uma maldição divina (sem teste de RM). Caso o oponente passe no teste de RM não será forçado a combater, podendo inclusive fugir sem nenhuma penalidade.

Independente do oponente ter passado ou não no teste de RM o evocador recebe alguns bônus conforme o efeito. Note que os bônus de colunas e críticos só funcionam contra o oponente desafiado, mas a EH recebida funciona contra todos. Se o oponente estiver numa situação que não possa atacá-lo diretamente (protegido por algo ou alguém) o evocador poderá entrar em combate com outros desde que seja para poder chegar ao seu oponente. Caso o próprio evocador é que decida sair da disputa (mesmo que seja para ajudar um companheiro) ele receberá uma maldição divina que não tem direito a RM.

Esta magia só pode ser usada uma vez por cena de combate e ela só funciona com criaturas inteligentes, não funcionando contra criaturas irracionais. O Mestre irá avaliar se a interpretação foi satisfatória, caso ache que não foi a contento a magia falha automaticamente. Caso o oponente já estiver predisposto a atacar o evocador, isto implica que ele automaticamente aceita o desafio e é o equivalente a ter falhado no testes de RM (que não precisa ser feito).

OBS: a maldição será escolhida livremente pelo Mestre que avaliará qual o grau de punição que deve ser dado.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.COMBATE,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.formaDePedra,nome:"Forma de Pedra",niveis:[{id:"0",descricao:"Duração de dois dias.",nivel:1},{id:"1",descricao:"Duração de 1 semana.",nivel:2},{id:"2",descricao:"Duração de 1 mês.",nivel:4},{id:"3",descricao:"Duração de 1 ano.",nivel:6},{id:"4",descricao:"Duração de 13 anos.",nivel:8},{id:"5",descricao:"Duração de 100 anos.",nivel:10}],descricao:`Há séculos há uma lenda entre os anões que diz que os sacerdotes de Parom jamais morrem. A lenda diz que quando é chegada a hora do sacerdote de Parom deixar o mundo, o sacerdote assume uma forma de pedra, transformando-se em uma estátua, para que sua presença jamais possa ser extinta do mundo. Por isso o sacerdote não morre, apenas entra “em forma de pedra”.

Com o milagre forma de pedra o sacerdote pode se transformar ou transformar alguém em uma estátua. Esse milagre não pode ser usado contra a vontade de uma pessoa, sendo necessário que a pessoa declare abertamente que deseja ser transformado em estado de pedra.

No estado de pedra, a pessoa não envelhece, não pode sofrer qualquer doença nem ser alvo de qualquer magia direta (as que necessitam de resistência). Caso a pessoa entre em estado de pedra estando amaldiçoada ou doente, sua maldição e doença é suspensa até que a vítima saia do seu estado de pedra. A pessoa, entretanto, perde completamente a consciência, como se estivesse em um coma profundo. O tempo que esse estado perdura depende do nível da magia. A pedra é de uma firmeza muito grande, sendo impossível destruí-la por meios normais e imune à magias como desintegração. Com a fim da magia, seja pelo esgotamento da duração ou via quebra de encantos, a pessoa sai da forma de pedra no mesmo estado em que ela estava antes de entrar.

Esse milagre é muito utilizado por anões velhos que desejam ver seu último desejo realizado e por conta de sua idade jamais estariam vivos para isso.

Uma restrição, contudo, é que uma pessoa não pode entrar em estado de pedra pela segunda vez a não ser que ela fique em seu estado normal no mínimo o mesmo período que ficou no estado de pedra pela primeira vez.

Os materiais necessários a evocação deste milagre custam 1 moeda de ouro vezes o nível utilizado.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.formaFluida,nome:"Forma Fluida",niveis:[],descricao:`Com esse milagre, o sacerdote de Ganis pede à Deusa que transforme momentaneamente em água seu corpo e suas vestes, incluindo armadura e elmo. Pode ser usado para se infiltrar através de rachaduras, fendas ou qualquer orifício que o Mestre julgar possível; escapar de prisões ou amarras; ou até mesmo camuflagem. Também torna o místico imune a ataques físicos (todos os golpes atravessam o corpo sem causar dano}, mas ataques elétricos (Relâmpago e Raio Elétrico, por exemplo) causam um nível a mais de dano. Ataques mágicos e que afetam a mente funcionam normalmente contra o evocador. Armas mágicas funcionam parcialmente, causando metade do dano, arredondando para cima.

A magia cria uma tensão superficial possibilitando manter o formato corpóreo ou a que o volume de água permitir (uma poça d'água, por exemplo). Sua cor será semelhante ao reflexo do místico na água. Por ser uma água divina, possuindo aura específica, a forma fluida não é afetada por magias de controle de água, como Hidromanipulação, por exemplo.

Durante o efeito, o evocador mantém os sentidos normais, fica impossibilitado de fazer ataques físicos e realizar magias, não precisa respirar e não consegue segurar objetos. A VB permanece a mesma, respeitando as penalidades para as adversidades do terreno. Armas e escudos, caso estejam empunhadas no momento da ativação da magia, cairão no chão; mas se a arma estiver guardada e o escudo nas costas, transformar-se-á em água também (não servirão para ataques ou defesa). Os danos sofridos na forma fluida serão contabilizados normalmente da EF e EH do sacerdote.

É possível usar essa magia para se camuflar em um rio, lago, etc., mas um teste de Usar os Sentidos (Muito difícil) identificará uma porção de água diferente do normal (a critério do Mestre, um teste de Misticismo Difícil pode ser usado para relacionar com a magia).

Se por algum motivo o corpo fluido estiver dividido no momento em que acabar a duração da magia, irá reaparecer onde concentrar a maior parte, mas sofrerá dano na EF na seguinte proporção:

2 pontos se apenas um quinto ou menos do corpo não conseguir se reagrupar;

4 pontos para um quarto;

6 pontos para um terço;

8 pontos para metade (o jogador escolhe em qual metade o corpo reaparecerá).

Mas caso o corpo reapareça em um local onde não há espaço para ser formado (por exemplo, numa fresta na montanha}, será morte instantânea. O Mestre julgará o quanto do corpo foi perdido e/ou se é possível o surgimento.

E por fim, a partir do sétimo nível será possível criar um prolongamento de água do braço, formando um chicote, e usar para atacar (efeito chicote).

Corpo Fluido 1: Transforma o corpo em água, mas não consegue falar. Duração de 5 rodadas.

Corpo Fluido 3: Idem ao anterior, mas consegue falar.

Corpo Fluido 5: Idem ao anterior, mas a duração é de 10 rodadas.

Corpo Fluido 7: Idem ao anterior, mas permite usar um braço como se fosse um chicote para atacar na coluna 10 e causando 23/18/13/8 de dano. A duração é de 15 rodadas e o alcance do chicote é de 2 metros.

Corpo Fluido 9: Idem ao anterior, mas causa 27/21/15/9 de dano, ataca na coluna 12 e a duração é de 20 rodadas.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}}]})(cx||(cx={}));var lx;(t=>{t.lista=[{id:W.garras,nome:"Garras",niveis:[{id:"0",descricao:"As garras causam dano máximo (100%) igual a 8; podem ser retraídas como a de um felino; caso atinjam a EF ou 100% da EH, desequilibra o inimigo, levando-o a cair e perder uma rodada.",nivel:1},{id:"1",descricao:"As garras causam dano máximo (100%) igual a 12; caso atinjam a EF ou 100% da EH, corta o músculo e causa penalidade de -2 por duas rodadas .",nivel:3},{id:"2",descricao:"As garras causam dano máximo (100%) igual a 16; podem ser retraídas como a de um felino; caso atinjam a EF ou 100% da EH, desarma o adversário e sua arma cai a 3m de distância (caso não tenha arma, idem ao anterior, porém -3).",nivel:5},{id:"3",descricao:"As garras causam dano máximo (100%) igual a 20; caso atinjam a EF ou 100% da EH, acerta um órgão vital e a dor paralisa o adversário por 1 rodada, e causa ajuste de -4 na rodada seguinte à paralisação.",nivel:7},{id:"4",descricao:"idem ao anterior, mas a garra pode ser disparada da mão para atingir o adversário à distância (máximo de 25m). Para utilizar novamente, seja em combate de perto ou ataque à distância, precisa esperar 1 rodada (regeneração da garra). Além disto as garras podem ser retraídas como a de um felino; o ajuste de -4 fica por 2 rodadas.",nivel:9}],descricao:`Com este encantamento, o usuário convoca o espírito de um animal para garras previamente preparadas, que é um material necessário para esta magia. A seguir, a magia força o desenvolvimento de garras a partir das unhas do usuário.

A coluna de ataque com as garras é o nível do evocador nesta magia somado com sua Agilidade, acrescido dos modificadores +3/0/-3 contra as categorias de defesa L, M e P, respectivamente. Ao total do dano, deve-se somar o atributo Força. O místico já pode atacar na mesma rodada que evoca a magia. O nível da magia dirá o efeito extra caso o evocador acerte um golpe na EF ou 100% na EH da vítima. Por ser de origem mística, as garras funcionam em seres que só são atingidos por armas mágicas.

Enquanto durar a magia, todas as tarefas que necessitam de destreza manual tornam-se dois níveis mais difíceis, inclusive o manuseio de algumas armas, a critério do mestre. Se o efeito utilizado permitir, o usuário pode retrair as garras e evitar esta penalidade. O evocador não pode ser desarmado de suas garras (exceto se perder a mão). No entanto, ele pode encerrar a magia a qualquer momento.

O material para preparar essa magia, ou seja, a garra de um animal, deve ser obtida dentro do código de conduta dos rastreadores, caso contrário, o espírito do animal não atenderá a convocação e o encantamento falhará. O preparativo é um ritual com tempo médio de 20 minutos de duração, e deve ser feito em ambiente natural. O místico só precisa ter um par de garras preparada para usar qualquer nível da magia, entretanto, as garras devem ser de um animal que cause, no mínimo, 12 de dano (100%) em garra ou patada. Tipicamente, as garras são penduradas em colares ou pulseiras e não possuem a aparência de uma arma.

Obs: com relação ao efeito extra causado ao adversário caso atinja a EF ou 100% da EH, a magia só tem força para afetar uma vez no mesmo inimigo, por combate. Também não funciona com adversários com o dobro de tamanho do evocador ou com peso superior a 10 vezes do místico.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.geoanimacao,nome:"Geoanimação",niveis:[{id:"0",descricao:"Cria uma estátua animada. O ritual custa 2 moedas de ouro.",nivel:1},{id:"1",descricao:"Cria uma Gárgula, o ritual custa 4 moedas de ouro.",nivel:3},{id:"2",descricao:"Cria um Golem de argila. O ritual custa 6 moeas de ouro.",nivel:5},{id:"3",descricao:"Cria um Homúnculo. O ritual custa 3 moedas de ouro..",nivel:6},{id:"4",descricao:"Cria um Golem de pedra. O ritual custa 8 moedas de ouro.",nivel:7},{id:"5",descricao:"Cria um Golem de ferro. O ritual custa 10 moedas de ouro.",nivel:9}],descricao:`Esta magia permite a criação de seres animados como Homúnculos, Gárgulas, estátuas Animadas e Variações de Golens. Para tanto, o mago deve dispor do material necessário ou de uma escultura já pronta. Se não tiver a escultura (estátua}, pode fazer uma com um sucesso em trabalhos manuais ou em metal com dificuldade Média para um trabalho sem muitos detalhes, ou difícil para um bom trabalho. Geomanipulação serve para este fim.

No caso de estátuas animadas, a figura não precisa ser humanóide , mas os parâmetros serão os mesmos. Depois de criados, estes seres devem receber uma missão como guardião de algo ou algum lugar, de onde jamais sairão a menos que alguém o viole ou a magia “Libertação” seja evocada. O homúnculo é a exceção, pois seguirá o mestre. O poder da criatura animada e o custo do ritual variam com o efeito.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.RITUAL}},{id:W.geomanipulacao,nome:"Geomanipulação",niveis:[{id:"0",descricao:"Molda até 4 metros cúbicos.",nivel:1},{id:"1",descricao:"Molda até 10 metros cúbicos.",nivel:2},{id:"2",descricao:"Molda até 25 metros cúbicos.",nivel:4},{id:"3",descricao:"Molda até 35 metros cúbicos.",nivel:6},{id:"4",descricao:"Molda até 45 metros cúbicos.",nivel:8},{id:"5",descricao:"Molda até 60 metros cúbicos.",nivel:10}],descricao:`Com este encanto é possível manipular a terra e a pedra (metal não pode ser manipulado) até certa quantidade por rodada. Esta quantidade é determinada pelo volume de terra e/ou pedra manipulada.

A forma dada ao material é determinada pelo evocador. O encanto, contudo, não cria matéria. Além disso, o evocador precisa se concentrar para manter o feitiço. Caso esta concentração seja perdida por qualquer motivo, a magia é quebrada.

Após o final do encanto, as forças físicas voltam a atuar normalmente, e caso a forma determinada pelo evocador seja inviável (não se sustente) a mesma irá quebrar, cair, desmanchar e etc, de acordo com a situação. Caso a forma seja segura e bem construída, ela se manterá intacta.

Note que esta magia não faz com que o evocador tenha total controle sobre a densidade dos materiais, isso significa dizer que caso um evocador queira abrir um buraco em uma parede de pedra, o volume de material retirado da parede não desaparecerá, ele apenas será transferido para outro lugar. Pode-se, no entanto, fundir a terra para se criar pedra, reduzindo assim o volume do material. Ao fazer isso, a quantidade de terra fundida sofrerá uma redução de 50% no seu volume.

Um outro fator que limita essa magia é que o evocador deve ter visão sobre o material a ser manipulado. Ou seja, se o evocador quiser abrir um buraco no chão, ele começará a manipular, primeiramente, a matéria que está disposta superficialmente.

A proximidade da Aura de uma criatura atrapalha esta magia de forma decisiva. Caso o material que está sendo manipulado se aproxime da Aura de um indivíduo a magia será desfeita. Dessa forma Geomanipulação não pode ser usada como uma forma de ataque a criaturas. Note que pelas limitações da magia, torna-se impossível fazer um buraco em baixo de uma criatura já que a matéria superficial que compõem o chão está em contato direto com a aura do indivíduo.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.geoprotecao,nome:"Geoproteção",niveis:[{id:"0",descricao:"Absorve até 5 de dano.",nivel:1},{id:"1",descricao:"Absorve até 10 de dano.",nivel:2},{id:"2",descricao:"Absorve até 15 de dano.",nivel:4},{id:"3",descricao:"Absorve até 25 de dano,",nivel:6},{id:"4",descricao:"Absorve até 35 de dano.",nivel:8},{id:"5",descricao:"Absorve até 50 de dano.",nivel:10}],descricao:`Esta magia oferece ao evocador a possibilidade de proteger a si mesmo ou a alguém escolhido contra dano feito por objetos de origem mineral de natureza sólida.

Este feitiço tem a capacidade de absorver uma quantidade de dano (na EH ou na EF) feita por objetos minerais (espadas, machados, pedras, rochas, etc) sólidos. Materiais de origem vegetal (porretes, cajados, etc) ou mineral líquidos (petróleo pegando fogo, ácidos, fogo grego, etc) não são afetados pelo encanto (fazem dano normal).

A quantidade máxima de dano que o encanto pode absorver depende da Dificuldade do Efeito que se está usando. À medida que o encanto vai absorvendo dano ele vai perdendo potência. Quando o total de dano absorvido fica maior ou igual ao dano máximo que o feitiço pode absorver, o mesmo é quebrado. O dano excedente (se houver algum) é sofrido pelo recipiente do feitiço.

Note que vários usos desta magia não são cumulativos. Caso o evocador utilize mais de um dos efeitos deste encantamento na mesma pessoa ao mesmo tempo, apenas o efeito de maior capacidade de absorção entra em operação.

Este feitiço também protege quem estiver sob seu efeito de quedas. O dano causado pela queda é absorvido normalmente. Note apenas que, apesar do feitiço proteger contra o dano causado pelo peso e impacto das pedras e da terra, ele não concede ao evocador a capacidade de respirar no fundo da terra nem de se mexer no seu interior.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.RODADA,valor:20},evocacao:{tipo:G.INSTANTANEA}}]})(lx||(lx={}));var ux;(t=>{t.lista=[{id:W.habilidadeAnimal,nome:"Habilidade Animal",niveis:[{id:"0",descricao:"Permite aumentar em duas vezes a sua velocidade base.",nivel:1},{id:"1",descricao:"Permite enxergar detalhes pequenos que seriam vistos até no máximo 5 metros, a uma distância de 100 metros.",nivel:2},{id:"2",descricao:"Permite usar a ecolocalização para se nortear sem o uso da visão. O alcance é bem limitado (20 metros) e pode-se apenas perceber obstáculos no caminho, mas permite se locomover sem bater ou tropeçar em algo ou cair num buraco.",nivel:4},{id:"3",descricao:"Permite ao usuário efetuar saltos três vezes maiores que o normal.",nivel:6},{id:"4",descricao:"Permite ficar em apneia (sem respirar) durante 30 minutos.",nivel:8},{id:"5",descricao:"Permite reduzir o impacto causado por danos de queda em um quarto do valor.",nivel:10}],descricao:`Através deste encanto o místico torna-se temporariamente capaz de expandir suas capacidades, assemelhando-o com os animais.

Cada um dos efeitos pode ser ou não cumulativo com o anterior, desta forma, o evocador ao conjurar um efeito deve escolher quais efeitos anteriores ele gostaria de usar. Este encanto irá colapsar quando for evocado novamente, assim que o usuário decidir cessar seu uso ou assim que o tempo limite se esgotar.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.herbologia,nome:"Herbologia",niveis:[{id:"0",descricao:"Cria um chá que cura enfermidades menores como febre, dores no corpo, inflamações internas etc. Além disto cura venenos tipo 1 e ajuda em 1 nível de dificuldade na resistência do vício em drogas e no combate à abstinência.",nivel:1},{id:"1",descricao:"Cria um emplastro a ser aplicado no local da ferida que ajuda em recuperar 2 pontos de EF e ajuda nos sintomas de infecção; ou um chá para curar venenos tipo 2 e ajuda em 2 níveis de dificuldade na resistência do vício em drogas e no combate à abstinência.",nivel:3},{id:"2",descricao:"Idem ao anterior mas recupera 4 pontos de EF e ajuda nos sintomas de infecção; ou um chá para curar venenos tipo 3 e ajuda em 3 níveis de dificuldade na resistência do vicio em drogas e no combate à abstinência; ou um chá que melhora o ânimo recuperando a EH em 10 pontos.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas recupera 6 pontos de EF e ajuda nos sintomas de infecção; ou um chá para curar venenos tipo 4 e ajuda em o 4 níveis de dificuldade na resistência do vício em drogas e no combate à abstinência; ou um chá que melhora o ânimo recuperando a EH em 20 pontos.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas recupera 8 pontos de EF e ajuda nos sintomas de infecção ou um chá para curar venenos tipo 5 e ajuda em 5 níveis de dificuldade (um rolamento Impossível se torna Muito Difícil) na resistência do vício em drogas e no combate à abstinência ou um chá que melhora o ânimo recuperando a EH em 30 pontos.",nivel:9}],descricao:`O encanto da Herbologia faz com que o evocador use a natureza ao seu redor para prover efeitos benéficos usando ervas, plantas e tudo que a natureza pode oferecer como forma de cura e vigor, como explicado em cada efeito da magia. As ervas e materiais naturais funcionam muito melhor por terem sido preparado utilizando a magia.

A busca pelos materiais deve ser feita em um ambiente natural (teste de Sobrevivência Médio) e se estiver em local conhecido onde tenha Sabedoria naquela área de atuação se torna Rotineiro. As folhas para o chá podem ser secas e guardadas por até 10 dias, pois ainda devem conter suas propriedades naturais. Assim que for preparado deve ser usado imediatamente ou perderá o efeito. O chá age rápido e em 30 minutos tem o efeito realizado.

Os materiais para o emplastro devem ser frescos e colhidos a menos de 5 dias, pois ainda devem conter suas propriedades místicas naturais. Após o preparo, devem ser usados imediatamente ou perderá o efeito. Após a aplicação os efeitos demoram duas horas se realizarem.

OBS: O Emplastro e o chá só podem ser usado uma vez por dia por pessoa (só poderá ser usado novamente na mesma pessoa depois de 24h). No caso de existir mais indivíduos, deve-se realizar novamente a magia para cada um, utilizando novos materiais para estas novas doses de chá ou emplasto.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.USO,valor:1},evocacao:{tipo:G.MINUTO,valor:5}},{id:W.hidromanipulacao,nome:"Hidromanipulação",niveis:[{id:"0",descricao:"Afeta 3 metros cúbicos e carrega até 20 kg.",nivel:1},{id:"1",descricao:"Afeta 6 metros cúbicos e carrega até 40 kg.",nivel:2},{id:"2",descricao:"Afeta 15 metros cúbicos e carrega até 100 kg.",nivel:4},{id:"3",descricao:"Afeta 25 metros cúbicos e carrega até 150 kg.",nivel:6},{id:"4",descricao:"Afeta 35 metros cúbicos e carrega até 250 kg.",nivel:8},{id:"5",descricao:"Afeta 50 metros cúbicos e carrega até 400 kg.",nivel:10}],descricao:`Esta magia torna o evocador capaz de moldar um grande volume de líquidos. O volume que pode ser manipulado depende da Dificuldade do Efeito.

Apenas os líquidos que estejam a uma distância do evocador menor do que o alcance podem ser manipulados. Os líquidos podem ser jogados para fora desta área, mas após saírem eles voltarão a se comportar normalmente.

A capacidade de manipulação deste encanto é total, podendo-se criar pilares de água, ondas, buracos na água, redemoinhos e etc, conforme o desejo do evocador, desde que a restrição do volume seja respeitada.

É possível tentar afogar uma criatura com este encanto, mas isto é muito difícil de se fazer. O Efeito que se está usando para afogá-la deve ser capaz de carregar o seu peso.

Caso o evocador tente fazer isto, a criatura que ele está tentando afogar tem o direito de rolar a cada rodada sua Habilidade Natação contra um Nível de Dificuldade Difícil. Caso obtenha sucesso, a vítima consegue se libertar na rodada do rolamento. Caso passe mais de 6 rodadas (90 segundos) sem conseguir respirar, ela perderá a consciência por falta de ar.`,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.RODADA,valor:1}},{id:W.hidrotolerancia,nome:"Hidrotolerância",niveis:[{id:"0",descricao:"O sacerdote ou um companheiro seu consegue respirar debaixo d'água por 5 minutos.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas dura 1 hora.",nivel:2},{id:"2",descricao:"O sacerdote ou um companheiro seu não só consegue respirar debaixo d'água como também consegue utilizar seus sentidos normalmente. Assim o alvo da magia pode ouvir o que outra pessoa está dizendo embaixo d'água embora essa mesma pessoa não o possa ou pode ver também com a mesma clareza como se estivesse na superfície. Dura 2 horas.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas o alvo adquire uma movimentação melhor na água. Isso permite que o alvo da magia possa lutar debaixo d'água, mas terá - 10 em todas as suas colunas de ataque, sua agilidade não contará para sua defesa e, além disso, é impossível convocar qualquer magia ou milagre neste efeito. A EH, entretanto, já pode ser utilizada normalmente. Observe que armas que ataquem a longa distância como arcos, não podem ser utilizadas. Dura 2 horas.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas o ajuste é de -5 e é possível convocar magias ou milagres desde que não tenham manifestações físicas, como dardos de gelo. Dura 2 horas.",nivel:8},{id:"5",descricao:"O alvo do milagre pode se locomover normalmente na água, como se estivesse na superfície, podendo até mesmo tocar um instrumento, dançar ou fazer acrobacias. Assim ele poderá lutar normalmente sem qualquer penalidade, podendo usar a sua agilidade na defesa. Além disso, a aura não só afeta o alvo da magia, como qualquer objeto por ele possuído ou lançado, se tornando possível atacar com arco e flecha e com magias de manifestação física debaixo d'água (dentro do bom senso). Dura 6 horas.",nivel:10}],descricao:"Hidrotolerância como o próprio nome sugere, é a tolerância a água. Uma grande aura envolve a pessoa que possibilita realizar as mesmas coisas que alguém na superfície poderia fazer. Nos efeitos iniciais o sacerdote consegue fazer com que ele mesmo ou algum de seus companheiros possa respirar debaixo d'água. Já nos efeitos mais avançados, a tolerância à água é de tal forma, que o sacerdote (ou quem escolher) pode agir naturalmente debaixo d'água, como se estivesse na superfície, podendo até mesmo lutar.",alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}}]})(ux||(ux={}));var mx;(t=>{t.lista=[{id:W.iconeSagrado,nome:"Ícone Sagrado",niveis:[{id:"0",descricao:"O item possuirá 20 de EF. Todos os soldados sob o ícone sagrado receberão um bônus de 4 de EH podendo ir além do máximo, além de +1 em suas colunas de ataque, em suas RF e RM e em sua moral.",nivel:1},{id:"1",descricao:"O item possuirá 40 de EF. Todos os soldados sob o ícone sagrado receberão um bônus de 8 de EH podendo ir além do máximo, além de +2 em suas colunas de ataque, em suas RF e RM e em sua moral.",nivel:3},{id:"2",descricao:"O item possuirá 60 de EF. Todos os soldados sob o ícone sagrado receberão um bônus de 12 de EH podendo ir além do máximo, além de +3 em suas colunas de ataque, em suas RF e RM e em sua moral.",nivel:5},{id:"3",descricao:"O item possuirá 80 de EF. Todos os soldados sob o ícone sagrado receberão um bônus de 16 de EH podendo ir além do máximo, além de +4 em suas colunas de ataque, em suas RF e RM e em sua moral.",nivel:7},{id:"4",descricao:"O item possuirá 100 de EF. Todos os soldados sob o ícone sagrado receberão um bônus de 20 de EH podendo ir além do máximo, além de +5 em suas colunas de ataque, em suas RF e RM e em sua moral.",nivel:9}],descricao:`Este poderoso milagre torna um item um símbolo da sua nação ou do ideal dos soldados em uma batalha, dando grande benefícios a todos os que podem vê-lo durante a batalha. O item a ser encantado com este milagre, deve ser um item que tenha uma história profundamente interligada com a história dos soldados que o terão como símbolo e deve ser relativamente grande para que todos possam vê-lo em batalha. Pode ser uma bandeira, uma grande estátua de um rei,uma pintura de uma batalha antiga e etc, muitas são as opções, mas o efeito é o mesmo.

Uma vez escolhido o item, o sacerdote deverá fazer um ritual de preparação do item que tem um tempo de evocação de um mês e custa 50 moedas de ouro. Isso independe do efeito utilizado e torna o item mágico, mas não ativado. Após isso o sacerdote deverá fazer a ativação do item, que custa 2 moedas de ouro vezes o nível utilizado da magia.

Uma vez ativado o item, todos os soldados que estiverem a 100 metros e puderem vê-lo em batalha ganharão benefícios como EH, coluna, moral, RF, RM além de se tornarem imunes a qualquer magia que cause medo. Os bônus durarão somente uma batalha, e o item precisará ser ativado novamente para ser utilizado em uma outra batalha, requerendo novo sacrificio de moedas de ouro.

O item sagrado também recebe uma proteção de Parom, sendo dotado de uma EF que é determinada pelo nível da magia. O milagre é extremamente poderoso, mas caso o item seja destruído os bônus concedidos não só são perdidos, como todos os soldados deverão fazer uma RM contra força de ataque igual ao nível da magia e caso não passem, levarão uma penalidade de –7 colunas de resolução em seus ataques e caso alguém não tenha EH ou a tenha zerado durante a batalha, se acovardará fugindo da batalha ou se rendendo (um teste de Liderança Muito Difícil pode evitar que os soldados fujam). Não é à toa que muitas vezes o item protegido está sempre junto ao rei ou ao comandante da batalha.`,alcance:{tipo:L.METRO,valor:100},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.RITUAL}},{id:W.identificacao,nome:"Identificação",niveis:[{id:"0",descricao:"Permite a identificação do evocador com uma pessoa que seja seu amigo de longa data (mais de cinco anos}, com motivações e perfil plenamente conhecidos pelo evocador.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas a amizade pode ser de média data (de um a cinco anos).",nivel:3},{id:"2",descricao:"Permite a identificação do evocador com uma pessoa que seja seu amigo de média data e o amigo pode ter alguns segredos e motivações não reveladas ao evocador.",nivel:5},{id:"3",descricao:"Permite a identificação do evocador com uma pessoa que seja seu amigo de curta data (de um mês a um ano) e o amigo pode ter significativos segredos e motivações desconhecidas pelo evocador.",nivel:7},{id:"4",descricao:"Permite a identificação do evocador com uma pessoa que ele tenha conhecido a pelo menos um dia e o amigo pode não ter praticamente nenhuma motivação ou segredo revelado ao evocador.",nivel:9}],descricao:`Com este encanto, o evocador consegue criar uma identificação entre ele mesmo e alguma pessoa com quem ele tenha algum contato, geralmente aquele quem ele representa. Na prática, é como se as pessoas o tratassem exatamente da mesma forma como tratariam aquele que ele representa. Assim, se o evocador representa um nobre conhecido e respeitado por sua valentia e coragem, dificilmente ele conseguiria liderar um grupo de guerreiros como seu patrono faria; no entanto, com o encanto, caso os guerreiros falhem em seus testes de Resistência à Magia, eles tratarão o evocador como se fosse o nobre, ainda que ele não tenha o mesmo porte físico, nem as experiências e conquistas de seu representado.

Para que o feitiço funcione é necessário que cada pessoa que tenha contato com o evocador faça um teste de Resistência à Magia. Caso passe, ela tratará a pessoa como ela iria tratar antes do encanto, mas caso falhe, ela deverá tratar a pessoa como se fosse seu representado. Observe que esse encanto pode até mesmo prejudicar o evocador, caso ele esteja identificado com alguém odiado ou temido. Uma outra observação é que esse feitiço só funciona se as pessoas conhecem aquele quem o evocador representa.

Conforme o nível aumenta, o evocador precisa conhecer menos o seu representado, a tal ponto que ele poderá criar uma identificação com alguém com quem tenha tido um contato mínimo. Contudo, independentemente do nível, é necessário que a pessoa representada necessariamente o olhe de forma amigável.

É importante observar que o evocador não pode estar identificado com mais de uma pessoa ao mesmo tempo e além disso, uma vez utilizada a magia, ela só poderá ser utilizada novamente para se identificar com a mesma pessoa que havia se identificado anteriormente após uma semana.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.DIA,valor:1},evocacao:{tipo:G.RODADA,valor:10}},{id:W.ilusoes,nome:"Ilusões",niveis:[{id:"0",descricao:"Cria uma imagem que ocupa até 1 metro cúbico, com até um odor e/ou sabor bem leve em uma área de até 3 metros de raio, com um som cujo volume não seja superior ao de um homem falando. Dura até 10 rodadas.",nivel:1},{id:"1",descricao:"Cria. uma imagem que ocupa até 2 metros cúbicos, com até um odor e/ou sabor leve em uma área de até 5 metros de raio, com um som cujo volume não seja superior ao de 5 homens falando. Dura até 20 rodadas.",nivel:3},{id:"2",descricao:"Cria uma imagem que ocupa até 5 metros cúbicos, com até um odor e/ou sabor médio em uma área de até 10 metros de raio, com um som cujo volume supere o o rugido de um leão. Dura até 30 rodadas.",nivel:5},{id:"3",descricao:"Cria uma imagem que ocupa até 10 metros cúbicos, com até um odor e/ou sabor forte em uma área de até 15 metros de raio, com um som cujo volume não supere o urro de um Dragão. Dura até 40 rodadas.",nivel:7},{id:"4",descricao:"Cria uma imagem que ocupa até 20 metroscúbicos, com até um odor e/ou sabor muito forte em uma área de até 20 metros de raio, com um som cujo volume pode ser equivalente a um grande evento natural. Dura até 40 rodadas.",nivel:9}],descricao:`Esta magia permite que o evocador crie uma imagem tridimensional móvel de algo que o evocador conheça. A duração máxima da ilusão, o som e odor que ele pode produzir e o seu tamanho é determinado pela dificuldade do efeito usado. Quanto melhor o evocador conhecer o objeto ou criatura que está imitando com este encanto, mais perfeito e convincente ele será.

Esta magia não consegue interagir sozinha com um ser que tenha Aura, por isto ela não é capaz de causar nenhum dano independente da forma e da intensidade escolhida.Caso a ilusão toque ou seja tocada por uma criatura ou objeto qualquer, ela desaparece instantaneamente (veja a magia Pseudomatéria). Caso o evocador se afaste mais de 100 metros da ilusão, esta desaparecerá instantaneamente.

Para fazer com que a ilusão se movimente o evocador deve manter concentração sobre ela. Caso a concentração seja interrompida, a ilusão se imobiliza mesmo instante. Caso alguém tente tocar a ilusão enquanto o evocador está se concentrando nela (e o feitiço Pseudomatéria não estiver sendo usado) a defesa da ilusão é L1. Caso o evocador não esteja se concentrando o toque é automático,

Esta magia pode ser evocada conjuntamente com algumas outras magias do Colégio da ilusão para criar ilusões mais reais (Pseudomatéria e Pseudoconsciência).

Quando se diz que um determinado efeito altera um odor e/ou sabor, isto quer dizer que ele pode criá-lo, suprimi-lo ou modificá-lo..

Note que cada efeito gera uma imagem, um sabor, odor e som, mas o evocador é livre para decidir quais deles ele quer gerar, podendo por exemplo só gerar um som, ou um odor e uma imagem, etc. ou uma livre combinação de imagem, sabor, odor e som.

Este encantamento pode simular o som de vozes ou outros sons emitidos por criaturas ou qualquer outra coisa, mas caso o evocador deseje imitar a voz de um ser específico, ele deve ter ouvido a voz pelo menos uma vez e obter sucesso em um rolamento da Habilidade Códigos (Nível de Dificuldade Médio, modificado pela familiaridade com a voz imitada, como determinado pelo Mestre). Fazer uma ilusão de algo comum que se conheça bem torna a ilusão perfeita. Fazer uma ilusão de algo que se tenha visto poucas vazes a torna menos realística. Quanto mais o evocador conhecer ou poder estudar mais perfeita será Ilusão. É claro que o evocador pode usar sua imaginação para criar uma ilusão de algo que não conheça, mas provavelmente ela será pouco convincente (o Mestre decide).`,alcance:{tipo:L.METRO,valor:100},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.imagem,nome:"Imagem",niveis:[{id:"0",descricao:"Evocação de 1 rodada, Duração de 6 horas e ocupa até um cubo cujo lado é 10 metros.",nivel:1},{id:"1",descricao:"Evocação de 1 rodada, Duração de 12 horas e ocupa até um cubo cujo lado é 10 metros.",nivel:2},{id:"2",descricao:"Evocação de 3 rodadas, Duração de 1 dia e ocupa até um cubo cujo lado é 30 metros.",nivel:4},{id:"3",descricao:"Evocação de 3 rodadas, Duração de 7 dias e ocupa até um cubo cujo lado é 45 metros.",nivel:6},{id:"4",descricao:"Evocação de ritual, custa 3.Mo, Duração de um mês e ocupa até um cubo cujo lado é 75 metros.",nivel:8},{id:"5",descricao:"Evocação ritual, Duração 1 ano e 1 dia e ocupa até um cubo cujo lado é 100 metros. Os materiais necessários à Evocação custam 10 moedas de ouro.",nivel:10}],descricao:`Este feitiço cria uma imagem tridimensional imóvel de uma criatura ou objeto. A Evocação, a Duração e o tamanho da imagem variam com a dificuldade do efeito usado.

A imagem não tem defesa, sendo atingida automaticamente se for atacada, e geralmente desaparece ao ser tocada. A magia Pseudomatéria pode ser evocada em conjunto desta para a imagem ter aparência, consistência,cheiro,odor e gosto idênticos ao real, alem do que a imagem passa a ter Defesa (L1) e EF. Neste caso a imagem pode ser tocada e até mesmo atacada.

Caso uma imagem seja destruída, ela e todos os efeitos evocados conjuntamente são destruídos (a magia é quebrada).

A imagem criada pode ocupar qualquer volume máximo para o efeito usado. O volume máximo é geralmente um cubo, cujo tamanho do lado é dado pela dificuldade do efeito usado. Alguns dos efeitos deste feitiço necessitam de alguns materiais caros. Quando for o caso, o preço destes materiais estará escrito na descrição do feitiço.`,alcance:{tipo:L.METRO,valor:50},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.intuicao,nome:"Intuição",niveis:[{id:"0",descricao:"A sensação de alerta ficará ativa no místico por 30 minutos, ficando imune a surpresas parciais, podendo usar a técnica Ataque Oportuno com + 1 de bônus.",nivel:1},{id:"1",descricao:"A sensação de alerta ficará ativa no místico por uma hora, ficando imune a surpresas parciais, podendo usar a técnica Ataque Oportuno com + 2 de bônus.",nivel:3},{id:"2",descricao:"A sensação de alerta ficará ativa no místico por duas horas, ficando imune a surpresas completas, podendo usar a técnica Ataque Oportuno com + 4 de bônus.",nivel:5},{id:"3",descricao:"A sensação de alerta ficará ativa no místico por 4 horas, ficando imune a surpresas completas, podendo usar as técnicas Ataque Oportuno ou Esquiva com + 6 de bônus.",nivel:7},{id:"4",descricao:"A sensação de alerta ficará ativa no místico por 8 horas, ficando imune a surpresas completas, podendo usar as técnicas Ataque Oportuno, ou Esquiva ou Desviar com + 8 de bônus.",nivel:9}],descricao:`Esta magia deixa um sentido sobrenatural de alerta a perigos no místico, que o informa de tudo que possa atacá-lo em um raio de 15 metros, desde um ataque até alguém chegando furtivamente. Dependendo do efeito, enquanto estiver sob o efeito deste encanto o místico não poderá sofrer surpresa parcial ou completa, além de poder utilizar a informação para contra-atacar o alvo que sofrerá uma surpresa parcial.

OBS: a magia não concede o conhecimento nas Técnicas de Combate, sendo necessário ter níveis nelas. O bônus nas técnicas de combate são só para 1 uso contra apenas um dos alvos que forem detectados pela magia.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.invisibilidade,nome:"Invisibilidade",niveis:[{id:"0",descricao:"Torna um objeto pequeno (máximo de 50cm x 50cm x 50cm) invisível.",nivel:1},{id:"1",descricao:"Permite que uma criatura fique invisível, contanto que permaneça completamente parada.",nivel:2},{id:"2",descricao:"Faz com que uma criatura fique invisível, mas esta não pode fazer movimentos rápidos, ou o encanto é imediatamente quebrado.",nivel:4},{id:"3",descricao:"Torna uma criatura invisível, mas um movimento brusco (como um ataque ou uma Evocação) quebra imediatamente o encanto.",nivel:6}],descricao:`Este encanto causa uma invisibilidade a todo tipo de onda luminosa. O recebedor da magia se torna opticamente indetectável, porém ainda possível de ser achado por seu odor e pelo barulho causado, além das marcas que sua passagem cria.

Todo objeto que estiver em contato direto com o beneficiado pela magia também se torna invisível. Se ele deixar algo cair, porém, o objeto se tomará visível.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.MINUTO,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.iraDivina,nome:"Ira Divina",niveis:[{id:"0",descricao:"Ritual Faz com que uma região de 1 km de diâmetro passe por uma enorme maré de azar, onde muitos acidentes menores acontecem. Isto cria um grande desperdício dos recursos do local (o que pode ser fatal em um cerco, por exemplo). Instantânea Afeta até 2 pessoas, causa Enormes coceiras causando uma ajuste de -3 nas tabelas de resolução.",nivel:1},{id:"1",descricao:"Ritual As superstições locais são atiçadas: por toda parte aparecerão sombras misteriosas, maus espíritos, etc; conforme a cultura. A população e todos os indivíduos normais (não têm EH) terão um ajuste negativo de 3 colunas para o seu moral, além de ficarem todos apavorados. O alcance é de 1 km de diâmetro. Instantânea Afeta até 2 pessoas, A mete das pessoas afetadas é tomada pelo terror do deus representado pelo seu sacerdote ali presente fazendo eles fugirem ou em caso disso ser impossibilitado se mantendo o mais afastados possíveis, o sacerdote passa a ter automaticamente um bônus de Persuasão de +5 sobre essas pessoas.",nivel:3},{id:"2",descricao:"Ritual Traz contra as vítimas da magia efeitos reais, porém não catastróficos, como uma praga de insetos ou animais inofensivos (sapos, moscas, baratas e etc.) ou colheitas ruins. O alcance é de 6 km de diâmetro. Instantânea Afeta até 3 pessoas, o sacerdote invoca uma praga de animais (morcegos/ratos) para cima dos inimigos, estes levarão 2 turnos para se livrar dos animais, caso queiram ignorar os animais deverão passar num teste de Resistência Física a cada turno. Se houver aliados do sacerdote engajados com os alvos eles também serão afetados, porém as pragas pouparão o sacerdote.",nivel:5},{id:"3",descricao:"Ritual Causa tragédias menores, tais como tremores de terra fracos (mas que derrubam estruturas frágeis como choupanas e casas pequenas}, praga de animais nocivos (gafanhotos, ratos, mosquitos e etc.) e até doenças menores na população (febre, gripes, diarreia, etc). O alcance é de 12 km de diâmetro. Instantânea Afeta até 5 pessoas, os inimigos do deus sofrem fortes dores, fazer qualquer ação que não seja se movimentar a metade de seu deslocamento pede um teste de Resistência Física.",nivel:7},{id:"4",descricao:"Ritual As catástrofes de verdade aparecem agora: devastação das lavouras, peste, inundações e etc. O efeito causado deve ser escolhido com cuidado pois muitos inocentes podem sofrer com eles. O alcance é de 15 km de distância. Instantânea Afeta somente 1 pessoa, o inimigo do deus cai no chão com fortes dores, o teste de RM será feito mais duas rodadas, caso falhe mais uma vez morrerá, caso sobreviva perderá para sempre o funcionamento de um membro aleatório do corpo, a magia poderá ser cancelada pelo sacerdote em qualquer momento, caso obviamente o inimigo ainda esteja vivo. Caso morra não poderá ser ressuscitado por nenhum sacerdote do mesmo deus.",nivel:9}],descricao:`Este milagre é usado como castigo àqueles que tenham ofendido ao deus do sacerdote ou à sua causa. O sacerdote faz cair sobre seus inimigos as mais diversas pragas, mostrando a vingança divina.

A Ira Divina não pode ser evocada sem um bom motivo ou a magia falhará e o sacerdote será penalizado por seu deus por seu descuido com os poderes recebidos, que normalmente implicará na perda de seus poderes, ou mesmo por alguma maldição (o Mestre deverá decidir a melhor forma de punir o sacerdote}, quanto mais forte o efeito maior tem que ser o motivo.

Todas as magias tem efeito instantâneo ou ritual, tendo que o conjurador escolher qual está fazendo no inicio da magia, as magias instantâneas dão direito alvo a uma Resistência.

Os efeitos de evocação rituais duram uma semana e pode ser colocado uma condição para poupar os escolhidos dos sacerdotes (exemplo: poupar aqueles que usam determinado símbolo e suas casas, afetar apenas aqueles que participaram mesmo como espectador do apedrejamento da mulher inocente). Os efeitos de evocação instantânea duram 1 dia, com exceção do efeito 10 que é permanente.

OBS: esta magia só pode ser lançada contra aqueles que ofenderam o deus, caso o Mestre entenda que foi lançada de fora leviana o efeito da magia pode ser redirecionado ao evocador.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}}]})(mx||(mx={}));var px;(t=>{t.lista=[{id:W.lagrimaDeDragao,nome:"Lágrima de Dragão",niveis:[{id:"0",descricao:"A magia analisa a veracidade de até 3 respostas simples e diferentes (falsas ou verdadeiras) como sim ou não, um nome, um lugar e etc.",nivel:1},{id:"1",descricao:"A magia analisa a veracidade de até 3 respostas mais complexas, mas devem ser diferentes",nivel:3},{id:"2",descricao:"A magia analisa a veracidade de até 3 respostas mais complexas e podem ser repetidas.",nivel:5},{id:"3",descricao:"A magia analisa a veracidade de quantas perguntas forem feitas por um período de uma hora.",nivel:7},{id:"4",descricao:"A magia analisa a veracidade de uma conversa inteira analisando se a intenção e conteúdo foram ou não verdade. Respostas corretas não indicam uma intenção verdadeira, e uma lágrima verde indicará que mesmo tendo respondido respostas certas há uma verdade escondida.",nivel:9}],descricao:`Este encantamento se trata de um ritual que envolve um ritual para descobrir se alguém está mentindo.

A vitima estará livre para falar o que quiser a cada rodada e deverá fazer seu teste de resistência para cada mentira que falar. Se falhar uma lágrima vermelha escorrerá de seus olhos, indicando que ela disse uma mentira. Se disser a verdade uma lágrima azul aparecerá. Se ela resistir à magia nenhuma lágrima aparecerá. Se assim desejar a vítima poderá não resistir ao encanto.

Note que será considerada verdade aquilo em que a vitima realmente acredita. Ex. se o príncipe bastardo acreditar que seu pai é um camponês, a verdade nessa ocasião será essa.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.laminaDeLuz,nome:"Lâmina de Luz",niveis:[{id:"0",descricao:"16 de dano e dura 5 rodadas.",nivel:1},{id:"1",descricao:"20 de dano e dura 5 rodadas.",nivel:2},{id:"2",descricao:"24 de dano e dura 5 rodadas.",nivel:4},{id:"3",descricao:"28 de dano e dura 5 rodada",nivel:6},{id:"4",descricao:"28 de dano e dura 10 rodadas.",nivel:8},{id:"5",descricao:"32 de dano e dura 10 rodadas.",nivel:10}],descricao:"Com este encanto o sacerdote é capaz de criar uma lâmina completamente feita de luz (normalmente em forma de foice, daí o nome}, que é extremamente eficaz contra combates corpo a corpo com demônios e mortos-vivos, não tendo qualquer efeito sobre outros seres que não esses. O sacerdote pode manipular livremente a luz, de sorte que pode formar a arma que quiser e mudar a arma a cada ataque, caso seja de seu desejo; independentemente da forma da arma, o efeito é o mesmo. A arma é formada apenas no momento do ataque, o que significa que esse milagre não pode ser utilizado como fonte de luz. Observe que se soma o ajuste de força mas não o ajuste de agilidade (magias como bênção e canção do ânimo funcionam normalmente) e nem é necessário também que o sacerdote tenha nível na arma a qual ele cria.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.leitura,nome:"Leitura",niveis:[{id:"0",descricao:"O evocador leva 1 segundo para compreender o conteúdo de uma página em uma língua que ele domina, exceto escritura mágica. Duração 10 rodadas.",nivel:1},{id:"1",descricao:"Idem ao anterior, porém o evocador consegue compreender qualquer língua de raças civilizadas e raças selvagens, exceto escritura mágica. Além de compreender, o evocador consegue identificar (apontar somente) se há códigos inseridos.",nivel:3},{id:"2",descricao:"Ao simples toque em um livro/texto de uma língua civilizada ou selvagem, exceto escritura mágica, o evocador compreende todo o conteúdo, inclusive se há códigos inseridos. Reduz em 1 nível de dificuldade na habilidade Códigos para decifrar.",nivel:5},{id:"3",descricao:"Idem ao anterior, porém o evocador consegue compreender qualquer língua atual de seres senciente do plano material, exceto escritura mágica. Reduz em 2 níveis de dificuldade na habilidade Códigos para decifrar. Através da leitura da aura residual, o evocador cria uma identificação com o autor, tendo conhecimento da forma de como ele pensa (ou pensava). Assim, uma obra inacabada ou faltando partes (desde que a parte faltante/inacabada não ultrapasse 30% do todo) pode ser terminada ou preenchida (exceção seria um feitiço/magia/ritual inacabado).",nivel:7},{id:"4",descricao:"Idem ao anterior, porém o evocador consegue compreender qualquer língua atual ou morta de seres senciente do plano material e do plano infernal, inclusive escritura mágica. Reduz em 3 níveis de dificuldade na habilidade Códigos para decifrar. Nesse nível, até um feitiço/magia/ritual inacabado, desde que não exceda 30% do todo, pode ser completado.",nivel:9}],descricao:`Ao tocar um livro/texto o evocador consegue sentir a intenção do autor, sabendo o conteúdo da obra sem precisar ler as palavras. A capacidade de interpretar os escritos vai aumentando conforme o nível da magia.

Até o nível 7, o evocador não consegue compreender escritura mágica, porém consegue identificar que existe essa parte no texto, só não compreende. Compreende todo o resto.

A partir do nível 7, todo livro/texto lido será decorado. É preciso um teste de intelecto médio para lembrar.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.leituraDeHabitos,nome:"Leitura de Hábitos",niveis:[{id:"0",descricao:"O evocador consegue identificar a classe social exata de uma pessoa. Ex: Este homem é um nobre.",nivel:1},{id:"1",descricao:"O evocador consegue identificar com exatidão a origem de uma pessoa. Ex: Este humano é de Filanti.",nivel:3},{id:"2",descricao:"O evocador consegue identificar de forma aproximada a profissão de uma pessoa. Ex: Este homem é um comerciante, esta mulher lida com artes místicas. Neste nível, qualquer teste de percepção para descobrir se a pessoa está simulando um hábito tem um nível a menos de dificuldade.",nivel:5},{id:"3",descricao:"O evocador consegue identificar com precisão e detalhes a origem, classe social a profissão de uma pessoa e ainda algumas outras informações. Ex: Este homem vem de Saravossa e é um mago. Pelas suas vestes ele deve ser líder de alguma instituição importante, sendo dessa forma um nobre. Seu modo de falar e agir mostra que ele é casado e que, provavelmente, tem ao menos um filho. Neste nível o evocador saberá se a pessoa está ou não fingindo algum hábito ou gesto.",nivel:7}],descricao:`Alguns aventureiros viajam por diversos locais aprendendo e convivendo com as mais diversas culturas de Tagmar. Toda essa experiência confere a certos místicos o poder de identificar apenas pelos gestos, sotaques ou hábitos algumas características de uma pessoa, como sua nacionalidade, classe social ou até mesmo profissão. Observe que essa magia não exige nenhum tipo de Resistência à Magia e o evocador poderá evocar essa magia discretamente, obtendo na mente a leitura daqueles hábitos da pessoa escolhida.

No entanto caso a pessoa esteja forjando algum hábito, o evocador deverá fazer um teste de Percepção contra dificuldade estipulada pelo Mestre. Caso o místico passe no teste terá conhecimento de que a pessoa está fingindo ser alguém que não é. Caso não passe, ele será enganado e irá interpretar os gestos como se eles fossem autênticos. No nível 7, no entanto, o evocador não poderá mais ser enganado por esse tipo de farsa.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.leituraLabial,nome:"Leitura Labial",niveis:[{id:"0",descricao:"Permite que o evocador descubra o tema central da conversa. Ex: O rei, o castelo assombrado, o festival da primavera.",nivel:1},{id:"1",descricao:"Permite que o evocador descubra o posicionamento das pessoas frente ao tema. Ex: A pessoa se mostra favorável em relação ao rei, a pessoa fala do castelo assombrado de forma irônica, a pessoa acredita que o festival será um sucesso.",nivel:3},{id:"2",descricao:"Permite que o evocador descubra o posicionamento das pessoas frente ao tema bem como os argumentos que sustentam tal posicionamento. Ex: A pessoa é favorável ao rei, pois aquela medida era necessária, a pessoa é descrente em relação ao castelo porque ela já passou por lá, a pessoa acredita que o festival será um sucesso pelo empenho da organização.",nivel:5},{id:"3",descricao:"O evocador consegue compreender toda a conversa, até nos mínimos detalhes.",nivel:7}],descricao:`Com este encanto, o evocador é capaz de compreender uma conversa apenas pela movimentação dos lábios de uma pessoa. Para que isso seja possível, ele necessariamente deve estar vendo a(s) pessoa(s) as quais ele pretende descobrir o que falam. Uma restrição, contudo, é que ele só poderá observar uma pessoa de cada vez. Assim, se é uma conversa desorganizada onde diversas pessoas falam ao mesmo tempo, o evocador só poderá identificar o conteúdo da mensagem de uma única pessoa. Se, ao contrário, as pessoas falarem de forma organizada, ele poderá ler os lábios de todas elas.

O limite máximo de tempo que o encanto permite que o evocador leia o lábio das pessoas é de 10 minutos. Caso ele deseje continuar a leitura após esse tempo, ele deverá usar o encanto novamente. A evocação deste encanto é extremamente discreta e não envolve qualquer tipo de Resistência à Magia.`,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.MINUTO,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.lendaViva,nome:"Lenda Viva",niveis:[{id:"0",descricao:"Dura 1 dia e o ritual custa . 1moeda de ouro.",nivel:1},{id:"1",descricao:"Dura 1 semana e o ritual custa 3 moedas de ouro.",nivel:3},{id:"2",descricao:"Dura 1 mês e o ritual custa 6 moedas de ouro.",nivel:5},{id:"3",descricao:"Dura 1 ano e 1 dia e o ritual custa 12 moedas de ouro",nivel:7},{id:"4",descricao:"Dura 13 anos e o ritual custa 24 moedas de ouro.",nivel:9}],descricao:`As histórias e lendas são um componente marcante na vida das pessoas. São elas que mantém a esperança e registram os fatos, se tornando a cultura do povo. Entretanto, muitas vezes elas são esquecidas e se tornam meramente atrativos para estrangeiros, perdendo o significado para o próprio povo.

Com o encanto Lenda Viva, o evocador consegue reviver a lenda de um determinado local, a tal ponto que todos os acontecimentos que venham a ocorrer sob a localidade serão relacionados à lenda. Para que o encanto possa ser evocado, o evocador deverá conhecer o local e a lenda que nele se dissemina. Depois disso, ele deverá escolher algum item, de dimensões máximas 2m x 2m x 2m que possa ter alguma relação com a lenda. Por último, através de um ritual, que exigirá sacrifícios que variarão conforme o nível de dificuldade, o evocador imbuirá uma aura no objeto e todo aquele que olhar para o objeto e que tenha conhecimento da lenda, deverá fazer um teste de Resistência à Magia. Caso passe, nada lhe ocorrerá. Caso não passe, a pessoa acreditará que essa lenda irá se renovar e caso haja profecias inclusas na lenda, que elas serão cumpridas. Assim, tudo o que vier a acontecer na cidade será para essa pessoa a prova de que a lenda retorna e a profecia será cumprida.

Exemplo: O evocador vai até uma cidade e descobre lá uma lenda que dizia que há muito tempo naquela cidade um poderoso necromante foi queimado na fogueira, mas enquanto era queimado, rogava maldições dizendo que um dia voltaria para se vingar. Escolhendo um crânio como objeto, o evocador o imbui com uma aura, fazendo com que toda pessoa que conheça a lenda e o aviste deva fazer um teste de Resistência à Magia. Caso a pessoa não obtenha sucesso, acreditará que o necromante irá retornar para fazer sua vingança. Todo o evento que ocorrer na cidade será, para essa pessoa, um indício da volta do necromante. Assim se aparecer um corpo nos arredores da cidade, ou ocorrer uma grande tempestade ou houver algum surto de doença, tudo isso será considerado como os efeitos do retorno no necromante.

Observe que esse encanto também pode se aplicar a lendas de cunho positivo como o retorno de um grande herói, a aparição de um enviado e etc.

Uma vez a lenda revivida, pode-se tirar vários proveitos disso. Em um local aonde se espera o retorno de um herói, um grupo de aventureiros poderá se apresentar como representantes dele, conquistando facilmente a simpatia do povo. Em uma outra localidade, aonde se acredita que o necromante irá retornar, o líder poderá se utilizar disso para atribuir mais poder a si mesmo, conseguindo consentimento da população para prender qualquer pessoa que pareça suspeita e etc.

A duração da magia varia conforme o nível utilizado. Entretanto, caso o item seja destruído, não haverá mais como as pessoas passarem a crer na volta da lenda. No entanto, as pessoas já afetadas permanecerão até que a duração se esgote. Um outro fator importante é que para se destruir o item é necessário passar em um teste de Resistência à Magia contra força de ataque do nível da magia. Caso não consiga, a pessoa que tentar destruir o item sentirá um grande poder vindo daquele item, acreditando ser amaldiçoada caso ouse se aproximar. Caso passe, por outro lado, o item poderá ser destruído.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.lendas,nome:"Lendas",niveis:[{id:"0",descricao:"Ao ouvir uma lenda, o evocador consegue discernir se a lenda existe ou não (não julga se é verdadeira, apenas sua existência}, ou diz se o objeto ou local ou uma pessoa examinada é lendário (não descreve a lenda, apenas diz se tem).",nivel:1},{id:"1",descricao:"Extrai de pessoas, objetos ou lugares a principal informação da lenda (a epígrafe da lenda) ou passa ao evocador a impressão mais forte das pessoas que usaram o objeto ou o local (medo, amor, ódio, pânico, etc.).",nivel:2},{id:"2",descricao:"Descobre apenas o nome do local (e não a localização) de onde surgiu a lenda, aplicado a itens, lugares, pessoas e lendas faladas.",nivel:4},{id:"3",descricao:"Ao ouvir 3 pessoas sobre uma lenda, o Mestre informa 1 fato relevante da lenda não descrito pelos interlocutores, ou informa 1 fato relevante sobre um objeto ou local ou pessoa.",nivel:6},{id:"4",descricao:"Ao ouvir 5 pessoas sobre uma lenda, o Mestre informa 2 fatos relevantes da lenda não descrito pelos interlocutores, ou informa 2 fatos relevantes sobre um objeto ou local ou pessoa.",nivel:8},{id:"5",descricao:"Através de um ritual que custa 10 moedas de ouro é possível inserir uma lenda em um objeto ou local. Essa lenda deve conter até 25 palavras. O feitiço só pode ser quebrado através da magia Quebra de Encantos. Outro efeito desse nível é identificar se uma lenda em um objeto ou local foi criada com essa magia por outro místico. Para esse último efeito, a evocação volta a ser 3 rodadas.",nivel:10}],descricao:`Essa magia permite que o evocador descubra fatos relevantes sobre uma lenda. Percebe-se tais fatos ouvindo alguém falar sobre uma lenda, tocando em um objeto ou local que possua uma lenda ou ainda, tocando em uma pessoa para saber sobre as lendas que circundam o seu nome. Se o místico lançar a magia em itens, locais ou pessoas que não tenham uma lenda associada a si, nada será revelado e o karma será gasto normalmente.

O alcance da audição é o limite quando se quer evocar essa magia para obter informações de uma lenda dita por outros. Já objetos, lugares e pessoas, o alcance é o toque. A evocação dessa magia é muito discreta, e apenas com um teste de Misticismo (Muito difícil) se consegue detectar.

Tudo tem uma história, mas nem tudo tem uma lenda. Se uma poderosa espada foi forjada, mas guardada e nunca usada, ela tem uma história e não uma lenda. Entretanto, se essa espada foi decisiva para matar o dragão, e por isso, esse fato foi transmitido oralmente com seus feitos potencializados e adquirindo um caráter maravilhoso, poético, tem-se uma lenda. Se há um impasse entre o que é lenda ou só história, a decisão fica a cargo do Mestre.

As lendas que o místico tem conhecimento através da oralidade podem se referir a praticamente tudo: comida, criatura, cidade, feira, etc. Mas nem sempre um transmissor descreve a lenda completa. Assim, alguns níveis exigem que se ouçam mais de uma pessoa sobre a mesma lenda para descobrir um fato relevante. Ao escutá-los, o místico percebe um padrão na narrativa e consegue, através da magia, extrair informações da lenda. Essa informação é dita pelo Mestre. Entretanto, cada interlocutor deve acrescentar algo diferente, um elemento novo, mesmo que mínimo, caso contrário, não surtirá efeito a magia. São exemplos de fato relevante: o ponto fraco da criatura, o local secreto do item, o poder oculto na arma, etc.

O conteúdo e a quantidade de informações irão variar de acordo com o nível, mas sempre serão conhecimentos gerais, sem detalhamento. Caso uma pessoa tenha usado um nome falso e a lenda foi construída em cima dessa alcunha falsa, se o evocador não souber disso ao tocá-lo não descobrirá a respeito. Por exemplo, se o evocador tocar em Rostam sem saber que ele é o Defensor Mascarado, não terá informações acerca da Lenda do Defensor Mascarado: um herói que atua disfarçado para ajudar os oprimidos.

Há mais de um efeito por nível e o evocador deverá escolher apenas um na hora de lançar a magia.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.USO,valor:1},evocacao:{tipo:G.RODADA,valor:3}},{id:W.levitacao,nome:"Levitação",niveis:[{id:"0",descricao:"Permite ao evocador pairar até a um metro acima da superfície, seja ela líquida ou sólida. O evocador tem que se concentrar no encanto. A Duração é de 10 rodadas.",nivel:1},{id:"1",descricao:"0 evocador pode levitar a qualquer altura do solo, porém deve ser mantida a concentração. A dura é de 10 minutos.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas não é preciso manter a concentração.",nivel:5}],descricao:`A magia Levitação permite que o evocador tenha um livre movimento vertical. Veja que levitação não é vôo, o movimento é apenas para cima e para baixo, à velocidade de 10 metros por rodada. Além do evocador, a magia levita mais 50kg de peso.

Se o evocador achar pontos de apoio (paredes, teto, árvores etc) ele pode utilizá-los para se ""empurrar"". A levitação não concede estabilidade; ventos muito fortes podem carregar o evocador.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.libertacao,nome:"Libertação",niveis:[{id:"0",descricao:"Atribui uma missão a uma estátua animada. O tempo de duração do efeito é de 6 horas.",nivel:1},{id:"1",descricao:"Atribui uma missão a uma estátua animada. O tempo de duração do efeito é de 2 dias.",nivel:2},{id:"2",descricao:"Atribui uma missão a um gárgula ou mais fraco. O tempo de duração do efeito é de 4 dias.",nivel:4},{id:"3",descricao:"Atribui uma missão a um Golem de Argila ou mais fraco. O tempo de duração do efeito é de 6 dias.",nivel:6},{id:"4",descricao:"Atribui uma missão a um Golem de Pedra ou mais fraco. O tempo de duração do efeito é de 8 dias.",nivel:8},{id:"5",descricao:"Atribui uma missão a um Golem de Ferro ou mais fraco. O tempo de duração do efeito é de 10 dias.",nivel:10}],descricao:`Com esta magia o mago alquímico poderá libertar uma criatura animada da função de guardiã, fazendo com que esta, cumpra uma missão para o evocador.

Para evocar esta magia o mago deverá primeiro possuir uma criatura animada ou, caso não tenha, animar uma com a magia Geoanimação, após isso, o mago deverá fazer o ritual de Libertação.

Neste ritual o mago deverá atribuir uma missão a criatura que fará de tudo para cumpri-la com o melhor de sua capacidade (não é necessário fazer resistência á magia). Quando o tempo de duração do efeito acabar, (tenha a criatura, cumprido a missão, ou não}, o encanto da magia “Geoanimação” será quebrado e a criatura voltará a ser uma estátua comum. Devendo ser novamente animada.

A missão atribuída à criatura não poderá conter mais de 25 palavras e não pode envolver critérios que sejam subjetivos. Note que esta magia só poderá ser evocada sobre as criaturas que tenham sido animadas pelo próprio evocador.

Os materiais necessários à evocação deste feitiço custam 2mp por efeito usado. O tempo de duração da missão, e o poder da criatura libertada variam com a dificuldade do efeito.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.licantropiaLupina,nome:"Licantropia Lupina",niveis:[],descricao:`Com esta poderosa magia, o evocador terá a capacidade de transformar-se em lobisomem, de maneira semelhante a de um licantropo, adquirindo as capacidades e as fraquezas deste ser. O evocador recebe +1 nível em seus testes de Seguir Trilhas e Usar os Sentidos (Audição e Olfato}, por conta de seus sentidos apurados. Também adquire fraqueza contra prata. Esse metal causa ferimentos terríveis nos licantropos (soma-se 10 a todo dano recebido por arma(s) de prata}, e sua regeneração sobrenatural não funciona para estes ferimentos (vide o nível 9).

Quanto maior for o nível usado, mais agressivo e poderoso o evocador se torna; contudo, o místico corre o risco de perder a racionalidade atacando a todos, exceto animais que estejam com algum elo energético com o místico. Na prática, o evocador terá de rolar um teste de RM com Forca de Ataque igual ao total na magia; caso seja bem sucedido, não terá sua mente afetada, podendo inclusive atacar com suas armas; todavia, se este não passar no teste, ele atacará quem estiver a sua frente ou ao seu lado com garras e mordida. O mestre deve sortear quem ele atacará. A cada 5 rodadas um novo teste por der feito para tentar recobrar a sua racionalidade.

Este dano deverá ser somado à Força do evocador e também ao bônus que os efeitos da magia dão. A coluna de ataque é obtida pelo total na magia, somado com o bônus concedido pelo nível usado, acrescido dos modificadores de defesa L/M/P. O dano e coluna de ataque para cada respectivo ataque são: 100% de Garras é 12, e as colunas são L3/M0/P-3. Já 100% de mordida é 16; e as colunas de ataque são L1/M0/P-1.

É importante ressaltar que, uma vez realizada a magia, os efeitos sobre o corpo e mente do evocador somente retornarão à condição normal após término da magia.

Licantropia 1: O evocador ganha um ajuste de +1 na coluna e +1 no dano para qualquer ataque realizado. O evocador se tornará levemente agressivo, mas manterá seu discernimento normal. Neste efeito, os olhos do evocador mudam e seus dentes caninos tornam-se levemente maiores.

Licantropia 3: O evocador ganha um ajuste de +2 na coluna e +2 no dano para qualquer ataque realizado. O evocador se tornará um ser agressivo com pouco discernimento em situações de extrema pressão, podendo perder o controle caso falhe em um teste de Branco (Rotineiro). Nesse efeito, além das mudanças do nível anterior, o evocador ganhará também garras e presas, e ficará levemente mais peludo.

Licantropia 5: O evocador ganha um ajuste de +3 na coluna, +3 no dano para qualquer ataque realizado, porém agora ele recebe +5 EH extra. O evocador se tornará um ser agressivo, com pouquíssimo discernimento, perdendo o controle em qualquer situação hostilidade explícita caso falhe num teste de Amarelo (Fácil). Neste efeito, além das mudanças dos níveis anteriores, o evocador terá todo o seu corpo levemente modificado ao formato de um lobisomem.

Licantropia 7: O evocador ganha um ajuste de +4 na coluna, +4 no dano para qualquer ataque realizado, porém agora ele recebe +5 na Velocidade Base, +5 EF e +10 EH extras. Neste nível, o evocador se tornará um ser selvagem com nenhum discernimento caso falhe num teste de Laranja (Médio). Caso falhe, ele só reconhecerá as pessoas com as quais possua um laço afetivo. Neste efeito, além das mudanças dos efeitos anteriores, o evocador terá calda de lobo e seus pelos aumentarão.

Licantropia 9: O evocador ganha um ajuste de +5 na coluna, +5 no dano para qualquer ataque realizado, porém agora ele recebe +10 na Velocidade Base, +10 EF e +20 EH extra. Neste nível, o evocador adquire a capacidade de regeneração sobrenatural, conseguindo recuperar 1 ponto de EF a cada 10 minutos, e 1 ponto de EH por minutos (4 rodadas) estando em combate ou não. O evocador se tornará um ser completamente agressivo e irracional, atacando qualquer um que represente uma ameaça, mesmo que este seja uma pessoa querida, caso falhe num teste de Vermelho (Difícil). Neste efeito, o evocador será um lobisomem completo.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:1}},{id:W.linguagem,nome:"Linguagem",niveis:[{id:"0",descricao:"Concede total 1 na linguagem desejada.",nivel:1},{id:"1",descricao:"Concede total 7 na linguagem desejada.",nivel:2},{id:"2",descricao:"Concede total 13 na linguagem desejada.",nivel:4},{id:"3",descricao:"Concede conhecimento infinito na linguagem desejada.",nivel:6}],descricao:`Este feitiço concede temporariamente ao evocador habilidade em uma língua que ele normalmente não teria condições de entender e se expressar. O nível de habilidade que o encantamento concede ao evocador depende do nível do efeito usado.

Caso o evocador saiba ler em alguma língua, o feitiço também lhe permite de ler (mas não de escrever) nesta nova língua.

Após a duração da magia, os conhecimentos obtidos através dela desaparecem completamente. O uso deste feitiço não ajuda em nada o aprendizado de uma língua.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:1}}]})(px||(px={}));var fx;(t=>{t.lista=[{id:W.malabarismo,nome:"Malabarismo",niveis:[{id:"0",descricao:"Reduz em 1 o nível de dificuldade da habilidade malabarismo.",nivel:1},{id:"1",descricao:"Reduz em 2 o nível de dificuldade da habilidade malabarismo.",nivel:3},{id:"2",descricao:"Reduz em 3 o nível de dificuldade da habilidade malabarismo.",nivel:5},{id:"3",descricao:"Reduz em 4 o nível de dificuldade da habilidade malabarismo.",nivel:7},{id:"4",descricao:"Reduz em 5 o nível de dificuldade da habilidade malabarismo ou torna Muito Difícil algo que seria Impossível.",nivel:9}],descricao:"Em Tagmar existem aqueles que fazem do malabarismo seu ofício. Geralmente trabalhando em circos, esses malabaristas desenvolverem uma arte que permite dar mais graciosidade e precisão aos seus movimentos. Na prática, ao evocar a magia Malabarismo, o evocador poderá reduzir os níveis de dificuldade da habilidade malabarismo.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.USO,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.maldicoes,nome:"Maldições",niveis:[{id:"0",descricao:"Permite a criação de um símbolo no corpo da vítima que identifica o portador como amaldiçoado. O símbolo pode ser escondido, mas não apagado. O símbolo é permanente, só saindo se a magia for quebrada.",nivel:1},{id:"1",descricao:"Cria um efeito físico muito pequeno: cresce o nariz e a orelha, um braço fica maior que o outro e etc. Embora não tenha efeito prático, isto toma a vítima motivo de escárnio. Duração de 1 semana.",nivel:2},{id:"2",descricao:"Faz aparecer um problema físico: gagueira, cegueira parcial etc, ou mental: loucura não violenta, perda de memória, ódio cego e etc. Isto dura uma hora, servindo como punição, aviso ou mostra de poder.",nivel:4},{id:"3",descricao:"Consegue manipular os seres e objetos à volta da vítima, causando: azar, ódio pela vítima, não conseguir segurar uma arma (a arma deve ser especificada: arco, machado, espada, etc}, ser incapaz de montar um cavalo e etc. Tanto a vítima como todos os seres manipulados têm direito a Resistência à Magia. Esta maldição dura um mês.",nivel:6},{id:"4",descricao:"Os efeitos são idênticos aos de Maldições 4, mas a Duração é de um mês.",nivel:8},{id:"5",descricao:"Induz a uma deformação física grotesca, assim como aleijar, cegar, mudar totalmente as feições e etc. ou criar um problema mental grave, como tornar a vítima um louco violento, um débil mental e etc. O encanto é permanente.",nivel:10}],descricao:"Esse encanto maléfico afeta um indivíduo com punições incontáveis caso este falhe em resistir à magia. As maldições são múltiplas em seus efeitos, sendo limitadas apenas pela imaginação do evocador e seu nível na magia. Apesar disso, seus efeitos gerais podem ser vistos abaixo:",alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:3}},{id:W.manipulacaoDeLuz,nome:"Manipulação de Luz",niveis:[{id:"0",descricao:"Cria uma tênue luz de 10 metros de diâmetro por 10 rodadas. Não pode ser usada para cegar o oponente.",nivel:1},{id:"1",descricao:"Diminui a luminosidade em uma esfera de 5 metros de diâmetro, causando uma escuridão como a de 1 noite sem estrelas, que dura por 10 rodadas.",nivel:2},{id:"2",descricao:"Cria um a esfera de luz de 10 metros de diâmetro que dura 10 minutos. Pode cegar o oponente por 2 rodadas.",nivel:4},{id:"3",descricao:"Cria uma esfera de luz de 20 metros de diâmetro por 1 hora. Cega o adversário por 4 rodadas.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas a esfera tem 20 metros de diâmetro, dura por 1 dia e cega por 10 rodadas. Essa luz é muito forte.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas são 30 metros de diâmetro, dura 1 mês e cega por 20 rodadas, Além disso, essa luz é tão forte quanto à luz de um dia claro (fazendo com que certos mortos-vivos se afastem amedrontados por 10 rodadas).",nivel:10}],descricao:"Esta magia permite ao evocador criar luz ou escuridão que ocupa um círculo de diâmetro variável (conforme indique o efeito). O centro do círculo é o local de maior intensidade do efeito, ou seja, a luz ou escuridão é mais forte. O centro do círculo pode ser posto em um objeto ou criatura, ou seja, onde ele for, o círculo se moverá com ele. Se a luz for posta nos olhos de uma criatura ela deverá fazer uma resistência a magia e caso falhe ficará parcialmente cega por algum tempo, até seus olhos se acostumarem com a nova luminosidade. Caso a vítima resista, a magia não acertou os olhos da vítima ficando perto dela, mas sem gerar efeitos maiores.",alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.manipularConfianca,nome:"Manipular Confiança",niveis:[{id:"0",descricao:"Concede um ajuste de -1/+1 nível de dificuldade para pessoas em um alcance de 5 metros.",nivel:1},{id:"1",descricao:"Concede um ajuste de -1/+1 nível de dificuldade para pessoas em um alcance de 15 metros.",nivel:2},{id:"2",descricao:"Concede um ajuste de -2/+2 níveis de dificuldade para pessoas em um alcance de 15 metros.",nivel:4},{id:"3",descricao:"Concede um ajuste de -2/+2 níveis de dificuldade para pessoas em um alcance de 45 metros.",nivel:6},{id:"4",descricao:"Concede um ajuste de -3/+3 níveis de dificuldade para pessoas em um alcance de 45 metros.",nivel:8},{id:"5",descricao:"Concede um ajuste de -3/+3 níveis de dificuldade para pessoas em um alcance de 100 metros.",nivel:10}],descricao:`Com este encantamento o evocador canta uma canção ou conta uma história acerca de uma pessoa, que pode ter efeito depreciativo ou inspirativo sobre os ouvintes. As vítimas do encanto ficarão tão apreciadas pela história que ficarão extremamente admiradas com a pessoa citada, caso o evocador tenha contado uma história positiva, ou ficarão temerosas e ressentidas caso a canção seja depreciativa. Assim o evocador com este mesmo feitiço pode escolher exaltar ou depreciar a imagem de alguma pessoa. O efeito causado é que a pessoa em questão terá facilidade ou dificuldade em qualquer teste de persuasão sobre as vítimas do efeito.

A magia afeta todas as pessoas que falharem no teste de Resistência à Magia e todas as pessoas tem que ser capazes de ouvir e entender o que o evocador está cantando ou contando para que o feitiço funcione.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.MES,valor:1},evocacao:{tipo:G.RODADA,valor:10}},{id:W.marcaArcana,nome:"Marca Arcana",niveis:[{id:"0",descricao:"Este é o nível usado para criar a tatuagem mágica. O mago pode ter apenas 1 elo. Com este nível o mago pode sentir se está próximo ou longe da vitima, mais apenas terá sensações de próximo (1m até 50m metros do elo}, perto (50m até 100m do elo) ou longe (mais de 100m). A duração é de 1 dia.",nivel:1},{id:"1",descricao:"Idêntico ao anterior, mas o mago também pode saber a direção aproximada. Distância máxima é de 1 km e a duração de 3 dias.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas o mago pode ter até 2 elos. Com este nível o mago pode saber a ordem de grandeza (em quilômetros) da distância que o separa do elo e a direção exata em que ele está. A distância máxima é de 5 km e a duração de 2 semanas.",nivel:4},{id:"3",descricao:"Idem ao anterior mas o mago pode ter até 3 elos. Com este nível o mago pode descobrir com um toque se alguém possui uma marca arcana. A distância máxima é de 10 km e a duração de 1 mês.",nivel:6},{id:"4",descricao:"Idem ao anterior, este nível permite ao mago entrar no sonho do elo e conversar com ele por alguns momentos, se ele falhar em um novo teste de resistência à magia ou se permitir. Se o elo resistir, a marca arcana continua ativada, mas o mago não pode entrar em seu sonho. Durante a conversa não é possível se passar informações complexas, o mago apenas entenderá mensagens mais simples como uma frase curta. A distância máxima é de 50 km e a duração de 2 meses.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas o mago pode ter até 4 elos. Com este nível o mago pode tocar uma tatuagem e saber quem a criou. Neste nível o mago é tão ligado aos seus elos que ele sentirá calafrios seguidos de visões (lembranças) se eles estiverem sofrendo algum mal. A distância máxima é de 100 km e a duração de 3 meses. 1 vez por dia poderá conversar livremente com um dos seus elos.",nivel:10}],descricao:`Essa magia tem a capacidade de criar um elo entre o evocador e uma pessoa com um simples toque, formando no local tocado uma tatuagem. É óbvio que para ser tocado a pessoa deve aceitar ser tocada ou então que ela esteja indefesa (amarrada, paralisada, etc...). Não é necessário que se faca um teste de resistência à magia, e logo após o elo ser criado, o evocador passa ter pressentimentos se está perto ou longe do alvo com uma simples concentração.

Em níveis maiores pode-se saber a direção a qual seguir e a distância exata e até mesmo se a pessoa encantada está sendo atacada ou ferida.

O alcance e a quantidade máxima de elos que podem ser criados dependem do nível na magia.

Note que essa tatuagem não poderá ser removida por nenhum método não mágico, mas Quebra de Encantos pode ser usada normalmente para fazer isso. Caso a pessoa perca o membro onde a tatuagem está, a tatuagem continuara fazendo efeito no membro, mas se o alvo de algum modo mágico repor esse membro a tatuagem aparecera novamente no alvo.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.marcaDaMorte,nome:"Marca da Morte",niveis:[{id:"0",descricao:"A marca colocada na vítima fará com que o sacerdote saiba se a vítima está a até 1 km de distância dele. O sacerdote apenas sabe se vítima está próxima, mas não sabe a direção.",nivel:1},{id:"1",descricao:"Idem ao anterior mas a vítima pode estar a até 10 km de distância.",nivel:3},{id:"2",descricao:"Idem ao anterior mas o sacerdote sabe exatamente a direção e como chegar até a vítima.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas a vítima pode estar a até 100 km de distância.",nivel:7}],descricao:"Os sacerdotes de Crezir amam as batalhas e não gostam de deixar seus oponentes fugirem, ainda mais aqueles que o feriram gravemente, seja no seu corpo, ou no seu orgulho. Por isso, alguns sacerdotes colocam uma marca sobre seu oponente, a fim de que possam mais tarde, saber aonde encontrar essa pessoa a fim de destruí-la. O alcance da magia se refere ao alcance necessário para que a marca seja colocada, caso a vítima falhe na sua resistência à magia. A marca é invisível e ninguém pode vê-la a não ser o próprio sacerdote. A marca só pode ser colocada em seres racionais e corpóreos, sendo animais e mortos vivos imunes a essa magia. A marca perdura por 1 ano. Passado este tempo, a marca se desfaz. Observe que embora o sacerdote possa detectar a vítima marcada para morrer, a vítima não tem noção da proximidade do sacerdote.",alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.ANO,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.medo,nome:"Medo",niveis:[{id:"0",descricao:"Afeta 1 pessoa que esteja a até 1 metro de distância.",nivel:1},{id:"1",descricao:"Afeta 1 pessoa que esteja a até 10 metros de distância.",nivel:2},{id:"2",descricao:"Afeta até 2 pessoas que estejam a até 10 metros de distância.",nivel:4},{id:"3",descricao:"Afeta até 3 pessoas que estejam a até 10 metros de distância.",nivel:6},{id:"4",descricao:"Afeta até 4 pessoas que estejam a até 15 metros de distância.",nivel:8}],descricao:`Com o uso deste feitiço o evocador traz à superfície todos os medos irracionais da vítima que, caso falhe na sua Resistência à Magia, fugirá apavorada pela duração do encanto. O número de pessoas afetadas por esta magia, bem como o alcance da mesma, depende da dificuldade do efeito usado, Vítimas que obtiverem sucesso em suas Resistências à Magia não sofrerão nenhum efeito.

Se as vítimas deste encanto não puderem se afastar do evocador por impedimento do terreno, elas procurarão se manter à maior distância possível do mesmo pela duração da magia.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.memorizacao,nome:"Memorização",niveis:[{id:"0",descricao:"Permite memorizar 1 imagem de até 50 x 50 cm ou um som que dure até 5 segundos.",nivel:1},{id:"1",descricao:"Permite memorizar 2 imagens de até 1x 1m ou 2 sons que durem até 15 segundos.",nivel:3},{id:"2",descricao:"Permite memorizar 3 imagens de até 1,50 x 1,50 m ou 3 sons que durem até 30 segundos.",nivel:5},{id:"3",descricao:"Permite memorizar 4 imagem de até 2 x 2 m ou 4 sons que durem até 45 segundos.",nivel:7},{id:"4",descricao:"Permite memorizar 5 imagens de até 2,5x 2,5 m ou 5 sons que durem até 1 minuto.",nivel:9}],descricao:`Com este encanto, o evocador fixa uma ou mais imagens ou sons, dependendo do nível de efeito, de forma a não esquecê-las até que a duração do feitiço acabe. Mesmo quando a duração acaba, o evocador pode reutilizar este feitiço para manter memorizada a imagem (ou o som}, desde que o número máximo de imagens ou sons não exceda ao permitido pelo nível. O tamanho da imagem memorizada também é determinado pelo nível da magia, entretanto, é possível gravar imagens que quando se unem formam uma grande imagem, como ocorre em um quebra-cabeça. Da mesma forma, o som também pode ser somado a sua duração para que se possa memorizar uma melodia inteira, por exemplo.

Observe que com esse encanto é perfeitamente possível memorizar a página de um livro, já que se trata de uma imagem. Entretanto, o evocador só tem noção dos símbolos linguísticos que lá existem e não o som proveniente dos caracteres. Isso implica que se o evocador memorizar uma imagem de um texto escrito em uma língua desconhecida, ele não saberá a pronúncia de tais palavras.

A imagem (ou som) pode ser gravada mesmo em situações rápidas e difíceis.

Uma vez gravada a imagem (ou som}, qualquer teste de Percepção realizado sobre ela terá -2 níveis de dificuldade. Assim se em uma determinada situação o evocador gravou a imagem de um homem encapuzado e quer tentar perceber algo, além de no próprio momento que ele avistou a sombria figura ele poderá também realizar um novo teste de percepção mais tarde, caso tenha usado o feitiço em questão, com um redutor de -2 níveis de dificuldade; isso porque perceber algo quando se tem tempo é muito mais fácil que perceber algo de relance.

Essa é uma magia muito utilizada por bardos pintores. No caso de sons, observe que embora possam ser gravados, existem sons que não tem como serem reproduzidos (como um rugido de um leão).

Uma restrição da magia, contudo, é que o evocador não pode misturar os sentidos. Caso esteja memorizando imagens, não pode memorizar sons, e vice-versa. Um aspecto importante é que o evocador pode usar esta magia para memorizar uma frase dita por ele próprio ou por outra pessoa.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.SEMANA,valor:2},evocacao:{tipo:G.RODADA,valor:1}},{id:W.meteoros,nome:"Meteoros",niveis:[{id:"0",descricao:"Causa dano máximo 16 em pessoas a até 1 metro do ponto de impacto. O alcance é de 20 metros.",nivel:1},{id:"1",descricao:"Causa dano máximo 20 em pessoas a até 2 metros do ponto de impacto. O alcance é de 30 metros.",nivel:2},{id:"2",descricao:"Causa dano máximo 28 em pessoas a até 3 metros do ponto de impacto. O alcance é de 40 metros.",nivel:4},{id:"3",descricao:"Causa dano máximo 32 em pessoas a até 4 metros do ponto de impacto. O alcance é de 50 metros.",nivel:6},{id:"4",descricao:"Causa dano máximo 36 em pessoas a até 5 metros do ponto de impacto. O alcance é de 60 metros.",nivel:8},{id:"5",descricao:"Causa dano máximo 40 em pessoas a até 6 metros do ponto de impacto. O alcance é de 75 metros.",nivel:10}],descricao:`Restrição de Uso: Ar Livre

Este feitiço faz com que o mago arremesse uma grande quantidade de fragmentos rochosos contra um ponto. Pessoas próximas à área de impacto são afetadas, recebendo dano e, se for o caso, críticos de esmagamento. Note que esta magia não causa crítico como efeito mágico. Isto significa que ela pode ser combatida por magias como Geoproteção ou Proteção Divina (no caso de efeitos críticos).

Criaturas que estejam até certa distância (determinada pelo Efeito utilizado) do ponto de impacto recebem ataques. O alcance da magia, também determinado pelo Efeito empregado, representa a distância máxima entre o ponto de impacto e o evocador.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.mimetismoAnimal,nome:"Mimetismo Animal",niveis:[{id:"0",descricao:"Mimetiza 1 capacidades natural de 1 animal doador de capacidades. A duração é de 1 hora.",nivel:1},{id:"1",descricao:"Item ao anterior, mas a duração é de 1 dia.",nivel:2},{id:"2",descricao:"Item ao anterior, mas mimetiza duas capacidades naturais de 1 animal e a duração é de 3 dias.",nivel:4},{id:"3",descricao:"Item ao anterior, mas agora podem ser dois animais doadores de suas capacidades e a duração é de 5 dias.",nivel:6},{id:"4",descricao:"Item ao anterior mas mimetiza 3 capacidades naturais. A duração é de 7 dias.",nivel:8},{id:"5",descricao:"Idem ao nível anterior, agora podem ser 3 animais doadores de suas capacidade e a duração é de 10 dias.",nivel:10}],descricao:`Este encanto permite que o evocador imbua uma ou mais capacidades (peçonha, respirar em baixo d'água, voar e etc.) de um ou mais animais para um outro. Durante o encanto, é preciso o animal que irá receber o mimetismo possua Elo Animal com o evocador e que esteja acomodado ao seu lado. Os animais que vão doar as capacidades também devem estar presentes (ao lado do evocador}, mas se eles não possuírem Elo Animal com o evocador, eles terão direito a um teste de RM. É possível também se usar um animal morto como origem, desde que ele não tenha morrido a mais de 24 horas e que o corpo possua ainda a parte que se deseja mimetizar (penas para formar asas, presas para formar peçonha, guelras para poder respirar em baixo d'água, etc). Neste caso não há a necessidade de teste de RM.

Ao executar a magia o evocador define quais capacidades naturais serão mimetizadas e imbuídas, de acordo com o nível de efeito utilizado. Exemplo: O místico, através desse encanto, mimetiza a capacidade natural da peçonha de uma cobra venenosa encontrada por ele na selva e transfere para seu Cão Alão, que agora possuirá, magicamente e temporariamente, a capacidade gerar o veneno e injetá-lo por meio de suas mordidas. O nível da capacidade natural será igual ao da criatura doadora, podendo ser maior que a do recebedor. Caso o místico tente imbuir uma capacidade que não seja nativa de um animal em outro, o encanto não terá efeito.

Caso o alvo deste encanto adquira uma capacidade de ataque e haja a necessidade de adaptação, ele deverá aplicar a seguinte regra:

1ª Regra - Coluna do Ataque: A coluna de ataque será igual do animal original, mas caso este seja de estágio maior que o animal que está sendo encantado, deve-se subtrair 1 ponto de cada coluna (L,M,P) para cada nível a mais que a criatura original tiver.

2ª Regra - Dano do Ataque: O dano será calculado de acordo com o dano máximo dentre todos os tipos de ataque do animal encantado possui.

O corpo do animal encantado sofrerá mudanças físicas de proporções equilibradas para adaptar-se as novas capacidades (asas, dentes, glândulas venenosas, guelra, etc.}, passando a ter total compreensão sobre suas novas capacidades e podendo usá-las com perfeição, como se fossem suas capacidades nativas.

Entende-se que "capacidades naturais" são todas Habilidades, Técnicas de combate, VB, ou capacidades naturais (respirar embaixo d'água, voar, visão aguçada, enxergar no escuro, etc). Atributos e demais estatísticas da criatura não são copiadas (tais como EF, EH, Defesa, RM, RF, Karma, Moral) .

Este encanto pode ser encerrado pelo místico a qualquer momento que este achar pertinente. Note que o evocador é responsável por todos os animais que estejam sob os efeitos deste encanto, qualquer tipo de abuso faz que com ele perca permanentemente seu elo com o animal e fique impossibilitado de fazer a magia por um tempo (a escolha do mestre).

OBS: esta magia falhará caso o evocador mate um animal somente para poder mimetizar uma capacidade. A magia não rouba as capacidades, apenas as copia.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.modificarEspirito,nome:"Modificar Espírito",niveis:[{id:"0",descricao:"Permite saber o estado de espírito de todos dentro do alcance.",nivel:1},{id:"1",descricao:"Permite alterar em 2 passos à esquerda ou à direita o espírito de todos dentro do alcance.",nivel:5},{id:"2",descricao:"Permite alterar em 3 passos à esquerda ou à direita o espírito de todos dentro do alcance.",nivel:7},{id:"3",descricao:"Permite alterar em 4 passos à esquerda ou à direita o espírito de todos dentro do alcance.",nivel:9}],descricao:`Com esse milagre, o evocador consegue alterar o estado de espírito de todo aquele que estiver na área de 10 metros de raio com centro no próprio evocador caso este falhe na sua Resistência à Magia. O quanto ele pode alterar depende da dificuldade do efeito.

Como pode ser observado abaixo, existem vários estados possíveis. O evocador poderá mover um ou mais passos à esquerda ou à direita a fim de acalmar ou incitar ódio a todos aqueles que estão próximos a ele. Uma observação é que ele só pode deslocar no mesmo sentido o estado das pessoas dentro da área, ou seja, ele não pode deslocar o espírito de uma pessoa para a direita enquanto o outro para a esquerda. O evocador tem que escolher apenas um lado, que afetará toda a área.

Entretanto, no caso de se acalmar, se o evocador ou quem o acompanha tentar utilizar isso como vantagem para atacar alguém, o encanto se quebra imediatamente. O estado inicial da(s) pessoa(s) é definido pelo mestre. A seguir os estados e uma pequena descrição:

Total Pacifismo - Muito Pacifismo - Pacifismo - Neutro - Indisposto - Agressivo - Extremamente Agressivo.

Total Pacifismo - Nesse estado, a pessoa está em estado de paz completa. Alguém pode xingar a pessoa ou até mesmo atacá-la e ela não reagirá lutando, no máximo tentando conversar.

Muito Pacifismo - Nesse estado, a pessoa evita sempre que possível uma luta ou discussão. Ela tolerará qualquer agressão verbal, mas caso sofra qualquer agressão física, irá lutar para se defender, mas irá sempre tentar não machucar, ou convencer o seu oponente a parar de lutar.

Pacifismo - A pessoa não está disposta a lutar, lutando apenas caso alguém a agrida verbalmente de forma muito intensa ou então a agrida fisicamente.

Neutro - Qualquer ofensa clara a pessoa, ela poderá te agredir verbalmente ou fisicamente, de acordo com a gravidade do que foi falado ou feito anteriormente. A pessoa não terá qualquer pudor em se defender se necessário.

Indisposto - Idem ao anterior, mas vale também para uma ofensa indireta.

Agressivo - Mesmo que alguém trate bem alguém em estado agressivo, essa pessoa ainda assim a tratará mal, ofendendo verbalmente. Caso a outra pessoa responda ou fale qualquer coisa mais dura, um combate se iniciará.

Extremamente Agressivo - Tudo que essa pessoa quer é motivo para brigar, seja verbalmente ou fisicamente. Ela xingará qualquer pessoa, justamente no intuito de provocá-la e assim, descarregar em alguém sua ira.

OBS: Apesar de o evocador ter capacidades de mudar os estados, deve-se observar que a índole ainda é mantida. Assim é impossível tornar um guerreiro sanguinário em um total pacifista, por exemplo. Cada pessoa tem uma faixa mais ou menos de 4 estados de espírito.

Modificar Espírito 3: Permite alterar em 1 passo à esquerda ou à direita o espírito de todos dentro do alcance.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.motivacao,nome:"Motivação",niveis:[{id:"0",descricao:"Revigora em 4 pontos a EH de todos dentro do alcance.",nivel:1},{id:"1",descricao:"Revigora em 8 pontos a EH de todos dentro do alcance.",nivel:3},{id:"2",descricao:"Revigora em 12 pontos a EH de todos dentro do alcance.",nivel:5},{id:"3",descricao:"Revigora em 16 pontos a EH de todos dentro do alcance.",nivel:7},{id:"4",descricao:"Revigora em 20 pontos a EH de todos dentro do alcance.",nivel:9}],descricao:`Após uma batalha, os soldados fatigados nem sempre têm tempo para descansar antes da próxima batalha. Com a música que traz motivação, o evocador consegue recuperar EH de todos aqueles que estejam a até 20 metros dele após terem ouvido 10 minutos de sua música alentadora.

Todas as pessoas na área, exceto ele próprio, terão seus ânimos restabelecidos, sendo impossível escolher quem será e quem não será curado. A EH recuperada não pode ultrapassar o máximo, sendo assim, caso recupere-se mais que o total da EH de alguém os pontos extras são perdidos. Apesar da cura não ser tão intensa quanto à de um sacerdote, a vantagem é a capacidade de atingir grande quantidade de pessoas.

Uma restrição, contudo, é que para a pessoa ser revigorada é necessário que ela esteja dando total atenção à música, não podendo realizar nenhuma outra atividade. Além disso, essa magia não pode ser evocada duas vezes sobre as mesmas pessoas sem que tenha decorrido um dia da utilização da primeira vez.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.MINUTO,valor:10}},{id:W.mutacao,nome:"Mutação",niveis:[{id:"0",descricao:"Causa uma modificação na aparência do evocador, como se fosse um disfarce perfeito, embora a voz não mude. Para tomar a aparência de uma pessoa específica é necessária muita pesquisa e contato com o indivíduo.",nivel:1},{id:"1",descricao:"0 evocador toma a forma de qualquer animal cujo tamanho esteja entre o de um gato e o de um cavalo. Note que os itens do evocador não se transformam com ele.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas os itens se transformam junto do evocador, fazendo parte da nova forma.",nivel:5},{id:"3",descricao:"Pode assumir qualquer forma entre o tamanho de uma formiga até o tamanho de um Trol. Mesmo formas de seres místicos podem ser assumidas, mas o evocador tem que ter visto pessoalmente uma criatura do tipo a ser copiado. Os itens do evocador se transformam também.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas qualquer tipo de criatura pode ser copiada, não há restrição com relação ao tamanho da criatura copiada.",nivel:10}],descricao:`Este feitiço causa uma mutação no evocador, permitindo-lhe tomar a forma de diferentes tipos de criatura. Note que em certas formas o uso de magia é impossibilitado: não é possível fazer os gestos ou pronunciar as palavras místicas que compõem a Evocação.

A mutação não altera nem a E.H. nem a E.F. do evocador. Ao tomar a forma de um ser humanóide não se ganham as habilidades que ele possua, a não ser que sejam eminentemente físicas (escalar, para um macaco; nadar, para um peixe e etc). Apesar disso, o evocador pode utilizar todos os outros recursos não mágicos da forma assumida. Uma vez que uma forma é assumida, ela não pode ser mudada.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:1}},{id:W.mutualidade,nome:"Mutualidade",niveis:[{id:"0",descricao:"Permite evocar magias de nível 1 com o karma do outro. A duração do elo de mutualidade é de 10 rodadas.",nivel:1},{id:"1",descricao:"Permite evocar magias de nível máximo 3 com o karma do outro. A duração do elo de mutualidade é de 10 minutos.",nivel:2},{id:"2",descricao:"Permite evocar magias de nível máximo 7 com o karma do outro. A duração do elo de mutualidade é de 1 hora.",nivel:3},{id:"3",descricao:"Permite evocar magias de nível máximo 10 com o karma do outro. A duração do elo de mutualidade é de 12 horas.",nivel:5}],descricao:`Com esta magia o mago alquímico será capaz de compartilhar pontos de karma ou evocar magias com o karma de outro místico.

O mago deve primeiramente evocar esta magia sobre alguém que queira recebe-la (este encanto não pode ser imposto). Depois de evocada a magia sobre o alvo. Um elo de mutualidade será estabelecido entre ambas as partes. A partir de então, um dos místicos poderá evocar magias gastando o karma do outro e vice-versa, desde que ambos não estejam a uma distancia superior ao alcance da magia. Caso o mago e o alvo da magia se afastem mais de 20 metros um do outro, o karma não poderá ser compartilhado entre eles até que a distancia necessária seja retomada. O nível máximo da magia que poderá ser evocada com o karma do outro e o tempo de duração do elo de mutualidade, variam com a dificuldade do efeito usado.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}}]})(fx||(fx={}));var hx;(t=>{t.lista=[{id:W.necroanimacao,nome:"Necroanimação",niveis:[{id:"0",descricao:"Anima 3 corpos por 1 dia.",nivel:1},{id:"1",descricao:"Anima 7 corpos por 3 dias.",nivel:2},{id:"2",descricao:"Anima 15 corpos por 10 dias.",nivel:4},{id:"3",descricao:"Anima 30 corpos por 15 dias.",nivel:6},{id:"4",descricao:"Anima 60 corpos por 1 mês.",nivel:8},{id:"5",descricao:"Anima 100 corpos por 2 meses.",nivel:10}],descricao:`Permite que evocador anime certo número de corpos como esqueletos ou zumbis. O número de corpos animados e o tempo que eles permanecem animados dependem do efeito utilizado. Esta magia só pode ser usada em corpos humanóides de tamanho entre um humano e um pequenino.

O tipo de morto-vivo animado dependerá do estado de decomposição dos corpos usados, a critério do Mestre. Os corpos serão animados como esqueletos e zumbis com estatísticas regulares, a despeito de características excepcionais (Ex: Força, Agilidade, Estágio, etc) possuídas em vida.

Quando a duração deste feitiço se esgotar todos os corpos animados com seu uso caem inertes em uma rodada. Não é possível se prolongar a duração do feitiço nem evocá-lo duas vezes sobre o mesmo corpo (caso isto seja tentado, os materiais são gastos, mas não se obtém nenhum efeito).

Os mortos-vivos criados estão sobre controle total do evocador; eles obedecerão apenas ao místico. Caso o mesmo morra antes da Duração acabar, os corpos se transformam em pó em uma rodada. O evocador controlará os corpos de acordo com sua vontade desde que estes estejam dentro do alcance da magia. Caso o mago se afaste dos corpos a uma distancia superior ao alcance da magia, os corpos pararão de agir (ficarão completamente estáticos) até que a distancia necessária ao controle seja retomada.

Os materiais necessários à evocação deste feitiço custam 1 moeda de prata por cada corpo que se deseja animar.`,alcance:{tipo:L.METRO,valor:100},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:10}},{id:W.necroconhecimento,nome:"Necroconhecimento",niveis:[{id:"0",descricao:"Faz 1 pergunta. Duração 3 rodadas (45 segundos). O ser pode estar morto a até 1 hora.",nivel:1},{id:"1",descricao:"Faz 2 perguntas. Duração 6 rodadas (90 segundos). O ser pode estar morto a até 1 dia. O evocador consegue acessar a audição do morto nos últimos 15 segundos de sua vida.",nivel:3},{id:"2",descricao:"Idem ao anterior, porém faz 3 perguntas, dura 12 rodadas (3 minutos) e o ser pode estar morto a até 1 mês. Também acessa o olfato e o tempo aumenta para os últimos 30 segundos de sua vida.",nivel:5},{id:"3",descricao:"Idem ao anterior, porém faz 5 perguntas, dura 20 rodadas (5 minutos) e o ser pode estar morto a até 1 ano. Também acessa a visão e o tempo aumenta para os últimos 45 segundos de sua vida.",nivel:7},{id:"4",descricao:"Idem ao anterior, porém faz 10 perguntas, dura 40 rodadas (10 minutos) e o ser pode estar morto a até 10 anos. Também acessa o tato e o tempo aumenta para os últimos 60 segundos de sua vida.",nivel:9}],descricao:`Esse encanto permite que o evocador (e apenas ele) interrogue os mortos através de um ritual. É obrigatório que pelo menos a cabeça ou o crânio de quem se deseja informações esteja presente para evocar a magia.

Assim que o ritual estiver completo, o evocador só poderá fazer perguntas ao morto em uma língua em que o morto possa entender. O efeito usado determinará quantas perguntas podem ser feitas, e o tempo máximo que pode durar o interrogatório (que é a duração da magia).

Ainda durante a preparação do ritual, o evocador ouvirá palavras soltas vindas do morto. Essas palavras são os últimos pensamentos dele, são confusos e, nesse momento, nenhuma informação se aproveita. Porém, isso é um sinal que o ritual está quase pronto e o evocador pode identificar qual a língua do morto. A critério do Mestre, pode-se fazer um teste na habilidade Línguas para identificar (se for um idioma diferente}, e se preparar para o interrogatório. Caso o evocador não domine a língua, todo o material e o karma serão perdidos, pois não haverá como se comunicar com o morto em idiomas diferentes (há uma exceção para o encanto funcionar parcialmente mesmo com idiomas diferentes, no nono nível, que será explicada mais adiante).

Pela força da magia, o morto é obrigado a responder, e as respostas serão sempre que ele acreditava ser a verdade, as mais curtas possíveis e nem sempre serão claras. Além disso, apenas mortos que tenham morrido há menos de um determinado tempo podem ser questionados (este tempo também depende do efeito). Se iniciar o ritual com alguém que tenha morrido acima do tempo determinado pelo nível, a magia não funcionará e todo o material será pedido, bem como o karma. Por exemplo, o nível 1 diz que o ser pode estar morto a até 1 hora. O ritual precisa ser iniciado antes do limite de tempo determinado pela magia.

Caso a duração se esgote antes do evocador fazer todas as perguntas que tem direito, o feitiço acaba e as perguntas que não foram feitas são perdidas. O Mestre deve contar a duração do encanto em tempo real.

A partir do terceiro nível e somente após receber a primeira resposta (ativação total da magia}, além de interrogar, o evocador conseguirá acessar os sentidos do morto momentos antes da sua morte (efeito sensorial). Ele pode se utilizar dessas informações para fazer mais perguntas, desde que não ultrapasse o limite de perguntas que contém o nível e que fique dentro do tempo de duração da magia. Nota-se que caso o evocador não fale o mesmo idioma do morto não conseguirá perguntar, consequentemente, não ativará esse efeito. O nono nível é uma exceção, a magia é tão poderosa que se acessa os sentidos antes mesmo de perguntar, logo, se não falar o mesmo idioma não haverá interrogatório, mas ativará o efeito sensorial.

E por fim, os materiais necessários à evocação deste encantamento custam 5 moedas de prata vezes o nível usado.`,alcance:{tipo:L.METRO,valor:2},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.necropotencia,nome:"Necropotência",niveis:[{id:"0",descricao:"O ser deve estar morto há até 24 horas. O sacerdote ganha +1 em todas as colunas de ataque e dano, além de +1 nas suas resistências físicas e mágicas, e 5 de EH, podendo ir além do seu máximo.",nivel:1},{id:"1",descricao:"O ser deve estar morto há até 1 semana. O sacerdote ganha +2 em todas as suas colunas de ataque e dano, além de +2 nas suas resistências físicas e mágicas, e 10 de EH, podendo ir além do seu máximo.",nivel:3},{id:"2",descricao:"O ser deve estar morto há até 1 mês. O sacerdote ganha +3 em todas as suas colunas de ataque e dano, além de +3 nas suas resistências físicas e mágicas, e 15 de EH, podendo ir além do seu máximo.",nivel:5},{id:"3",descricao:"O ser deve estar morto há até 1 ano e 1 dia. O sacerdote ganha +4 em todas as suas colunas de ataque e dano, além de +4 nas suas resistências físicas e mágicas, e 20 de EH, podendo ir além do seu máximo.",nivel:7},{id:"4",descricao:"O ser deve estar morto há até 13 anos. O sacerdote ganha +5 em todas as suas colunas de ataque e dano, além de +5 nas suas resistências físicas e mágicas, e 25 de EH, podendo ir além do seu máximo. Além disso, o sacerdote fica imune a qualquer magia que controle a mente ou maldição.",nivel:10}],descricao:`Sendo os sacerdotes de Cruine aqueles que mais lidam com a morte, muitas vezes eles se deparam com mortos advindos das mais diversas situações como um ataque de animais, uma peste que assolou uma vila ou até mesmo de um companheiro de lutas que não teve êxito em suas missões.

Apesar de serem justamente os que veem a morte como algo natural e não terrível, os sacerdotes de Cruine podem se indignar; não pela morte propriamente dita de alguém, mas sim a forma como essa pessoa morreu bem como tudo o que a pessoa estava para completar e não conseguiu.

Nesses casos os sacerdotes de Cruine podem se comover e procurar ou vingar a pessoa morta. Caso ela tenha sido morta injustamente (Ex: Morta por traição ou por algum tipo de ritual) ou então cumprir a missão em que a pessoa morta falhou (Ex: Assumir a missão de outro sacerdote de Cruine). Ao fazer isso, Cruine concede poder para o sacerdote vingar a pessoa ou cumprir a missão não completada.

Todos os bônus que o sacerdote recebe servirão apenas para a realização da vingança ou da missão. Qualquer atitude do sacerdote que fuja a isso fará com que os bônus desapareçam até que ele retorne à missão. Entretanto, percalços no caminho ainda podem ser considerados dentro da missão, desde que não se torne o objetivo do sacerdote. Assim, se no caminho da torre do necromante (sua missão é matar o necromante) ele encontra orcos no caminho que o atacam, os bônus valem. Agora se no meio do caminho ele encontra uma criança que diz que os pais foram raptados por orcos e que eles estão em um bosque e o sacerdote decide ajudar, os bônus não valem porque ele está fora do objetivo principal.

Para que o sacerdote utilize o milagre ele precisará encontrar pelo menos o crânio de algum morto. O tempo que a pessoa pode estar morta para que o milagre funcione varia de acordo com o nível da magia. Depois disso, é necessário que a pessoa morta seja necessariamente de boa índole, ou seja, que tenha tido uma vida íntegra; além disso, o sacerdote deverá saber como a pessoa morreu e se ela tinha alguma missão. Muitas vezes se torna impossível descobrir isso de forma normal, por exemplo, se o sacerdote em meio a suas aventuras encontra um crânio no seu caminho, sem ter qualquer indicação de quem teria passado por ali. Entretanto, o sacerdote poderá utilizar o milagre Necroconhecimento para adquirir essa informação, caso não a consiga por meios normais.

Se todas essas restrições forem atendidas, o sacerdote poderá pedir a Cruine através de um ritual que custa 5 moedas de prata vezes o nível do milagre que lhe dê uma ajuda para honrar a memória do morto.

Apesar das grandes restrições deste milagre, o poder recebido pelo sacerdote é devastador. Observe que em todos os níveis o sacerdote ganhará uma EH extra que poderá ir além do seu máximo. Mais do que isso, caso o sacerdote perca a heróica e depois a recupere, ele poderá recuperar também a EH extra.

Exemplo: Um sacerdote de Cruine com 50 de EH evoca Necropotência 3 que concede +10 de EH, totalizando 60. Caso ele lute e perca toda a sua EH na batalha, o sacerdote poderá recuperar essa EH, seja descansando ou por meio de curas, até os 60 de EH e não os 50 iniciais.

Todos os bônus terminarão em 2 semanas ou então quando a missão ou a vingança for completa, o que acontecer primeiro. Além disso, não é possível estar sob mais de uma necropotência ao mesmo tempo, acumulando os efeitos.

Na verdade, o Vingador Negro, o único morto-vivo tolerado pelos deuses, poderia ser considerado uma necropotência evocada pelo próprio Cruine, dando a própria pessoa morta o direito de se vingar ou de cumprir sua missão.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.SEMANA,valor:2},evocacao:{tipo:G.RITUAL}}]})(hx||(hx={}));var vx;(t=>{t.lista=[{id:W.obstinacao,nome:"Obstinação",niveis:[{id:"0",descricao:"O sacerdote ganha +1 em todas as colunas de ataque e dano, além de +1 nas suas resistências físicas e mágicas, e 5 de EH, podendo ir além do seu máximo.",nivel:1},{id:"1",descricao:"O sacerdote ganha +2 em todas as suas colunas de ataque e dano, além de +2 nas suas resistências físicas e mágicas, e 10 de EH, podendo ir além do seu máximo.",nivel:3},{id:"2",descricao:"O sacerdote ganha +3 em todas as suas colunas de ataque e dano, além de +3 nas suas resistências físicas e mágicas, e 15 de EH, podendo ir além do seu máximo.",nivel:5},{id:"3",descricao:"O sacerdote ganha +4 em todas as suas colunas de ataque e dano, além de +4 nas suas resistências físicas e mágicas, e 20 de EH, podendo ir além do seu máximo.",nivel:7},{id:"4",descricao:"O sacerdote ganha +5 em todas as suas colunas de ataque e dano, além de +5 nas suas resistências físicas e mágicas, e 25 de EH, podendo ir além do seu máximo.",nivel:9}],descricao:`Com este milagre, o sacerdote de Plandis se impõe uma missão pela qual deve cumprir a todo custo. A fé cega faz com que o sacerdote canalize toda a sua atenção para o cumprimento da missão que poderá ser destruir um inimigo, encontrar um item, salvar uma vila, fazer uma grande invenção. Independentemente da missão que o sacerdote escolher, ele terá 2 meses para cumpri-la.

Enquanto estiver nesses dois meses e empenhado na missão, o sacerdote ficará imune a qualquer magia que cause medo (como medo, covardia}, a qualquer maldição (maldições, azar, pesadelo) e a qualquer doença. Além disso, ainda ganhará um bônus em coluna, EH, RF e RM de acordo com o nível utilizado. Caso o sacerdote se afaste da missão por qualquer motivo, todos os bônus são perdidos. Os bônus desaparecem também quando a missão é completada. Não há necessidade de materiais para a evocação desse ritual. Apesar do grande poder desse milagre, ele tem uma grave desvantagem. Caso o sacerdote chegue ao término de dois meses e não tenha cumprido sua missão, ele deverá fazer uma Resistência a Magia contra força de ataque igual ao nível da magia utilizado. Caso passe, nada lhe ocorrerá; entretanto caso não passe, o sacerdote entrará em profunda depressão por não ter concluído sua missão e após um dia nesse estado de depressão ele morrerá.

Observe que o encanto não pode ser renovado, ou seja, não se pode evocá-lo de novo enquanto estiver sobre o seu efeito e não se pode também evoca-lo para cumprir duas missões. Outro fato importante é que não há como o encanto ser quebrado.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.MES,valor:2},evocacao:{tipo:G.RITUAL}},{id:W.olharDoPredador,nome:"Olhar do Predador",niveis:[{id:"0",descricao:"Contemplar a face do místico e fracassar na RM implicará em perda da iniciativa. Informará, sem necessidade de RM, a velocidade base, todos os tipos de ataque e se a presa está doente ou ferida.",nivel:1},{id:"1",descricao:"idem ao anterior, mas implicará em -2 colunas no ataque por 2 rodadas (se falhar na RM). Também informará, sem a necessidade de RM, a extensão de sua força (atributos Força e Físico) e sua resistência (EH, EF e RF).",nivel:3},{id:"2",descricao:"idem ao anterior, mas inibirá qualquer técnica de combate que for usada contra o místico nas 2 primeiras rodadas (se falhar na RM). Também informará, sem a necessidade de RM, se a presa está usando algum item mágico contra ele (caso tenha, mas não esteja usando em combate, não obtém informação) e se possui uma capacidade ou poder especial.",nivel:5},{id:"3",descricao:"idem ao anterior, mas implicará em -4 colunas de ataque por 2 rodadas (se falhar na RM). Também informará, sem a necessidade de RM, as caracterizações físicas e as técnicas de combate (e seus aprimoramentos).",nivel:7},{id:"4",descricao:"idem ao anterior, mas a penalidade de -4 colunas no ataque aumentam para 4 rodadas e inibirá qualquer técnica de combate que for usada contra o místico nas 4 primeiras rodadas (ambos se falharem na RM). O evocador adquire uma visão de 180 graus.",nivel:9}],descricao:`Ao evocar essa magia, o místico apresenta um olhar agressivo e pavoroso, causando penalidades em quem contemplar a face do evocador e não passar no teste de RM.

Além disso, o evocador conseguirá enxergar detalhes na sua presa indetectáveis com a visão comum. E no nono nível, ampliará o seu campo visual. Para esses efeitos, não é necessário teste de RM, precisando apenas estar na área do encanto.

Todos aqueles dentro do alcance da magia são passíveis de ter as informações subtraídas, porém o evocador só receberá o conhecimento de um ser por rodada e somente daquele para quem sua atenção está voltada.

É importante frisar que as penalidades só serão ativadas nos seres que direcionarem suas ações de ataque contra o evocador (fitaram a face do místico e falharam na RM). Atacar outra pessoa do grupo, mesmo tendo falhado na RM, não terá redutores.`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.RODADA,valor:20},evocacao:{tipo:G.INSTANTANEA}},{id:W.ondaDestrutiva,nome:"Onda Destrutiva",niveis:[{id:"0",descricao:"Causa dano máximo de 4.",nivel:1},{id:"1",descricao:"Causa dano máximo de 8.",nivel:3},{id:"2",descricao:"Causa dano máximo de 12.",nivel:5},{id:"3",descricao:"Causa dano máximo de 16.",nivel:7},{id:"4",descricao:"Causa dano máximo de 20.",nivel:9}],descricao:`Com este poderoso encanto o sacerdote de Parom é capaz de criar uma grande onda destrutiva a partir dele mesmo com 3 metros de largura e alcance de 10 metros em que todos os objetos de metal, couro e madeira são danificados. Para que os objetos possam ser danificados é necessário que o sacerdote possa vê-los sendo impossível assim destruir moedas dentro de um saco, por exemplo. Objetos de tecido não sofrem qualquer dano. O dano causado varia conforme o nível da magia e se aplica a todos os itens que a vítima estiver usando.

Essa magia é basicamente utilizada pra destruir as armaduras, elmos e escudos dos oponentes, mas também pode inutilizar armas embora com muito menos potência. Na prática o dano causado, que variará conforme o resultado tirado na tabela de resolução (trata-se de um ataque}, afetará primeiro os itens com menor absorção para depois afetar os itens de maior absorção. Caso a absorção do item chegue a zero, o item é inutilizado e se desfaz, caindo em pedaços no chão.

Exemplo: Um sacerdote de Parom evoca Onda Destrutiva 5 que causa 12 de dano contra um inimigo que usa um elmo aberto, um escudo pequeno, uma armadura de couro rígido e uma espada. Tirando 50% ele causa 6 de dano fazendo com que o elmo e o escudo se quebrem e a armadura tome 2 pontos de dano.

No caso de armas, considera-se que para inutilizar uma arma é necessário que o dano causado seja numericamente igual ao 100% de uma arma. No exemplo anterior caso o sacerdote tivesse conseguido 100% em seu ataque contra a vítima ela teria consegui dar 12 de dano destruindo o elmo, o escudo, a armadura e causando 3 pontos de dano na espada. Para que a espada fosse destruída era necessário dar 20 de dano (o valor equivalente ao 100% de dano). Sendo assim é muito difícil destruir armas com este encanto, e mesmo que o sacerdote consiga faze-lo geralmente guerreiros experientes sempre carregam mais de uma arma.

No caso do elmo, armadura, escudo ou arma ser mágico, o funcionamento é exatamente igual e o item mágico ficará inutilizado caso a absorção chegue a zero. Entretanto o item se recuperará normalmente. No exemplo anterior se considerarmos que a armadura era de couro rígido era +2 e o sacerdote tenha dado 12 de dano, ele teria destruído o escudo, o elmo e a armadura e a espada teria tomado 1 de dano.

Observe que quando um item de proteção é quebrado, a defesa dada por ele, no caso de escudos e armaduras, é automaticamente perdida. No caso de haver mais de uma pessoa na área é feito um rolamento separado para cada pessoa.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.ondaPsiquica,nome:"Onda Psíquica",niveis:[{id:"0",descricao:"A onda afeta todos até 3 metros de distância do mago, as vítimas recebem –1 para todos os testes físicos durante 3 rodadas. O alvo pode escolher ficar 1 turno parado para se restabelecer e perder essa penalidade.",nivel:1},{id:"1",descricao:"A onda afeta todos até 5 metros de distância do mago, as vítimas recebem -2 para todos os testes físicos durante 3 rodadas. O alvo pode escolher ficar 1 turno parado para se restabelecer e perder essa penalidade.",nivel:2},{id:"2",descricao:"A onda afeta todos até 7 metros de distância do mago, as vítimas ficam com dificuldades nos movimentos, perdendo metade de sua velocidade básica e recebem –3 para todos os testes físicos durante 5 rodadas.",nivel:4},{id:"3",descricao:"A onda afeta todos até 9 metros de distância do mago. As vítimas afetadas não poderão usar magia na próxima rodada e recebem penalidade de –4 colunas em todos os testes que realizarem durante 5 rodadas.",nivel:6},{id:"4",descricao:"A onda afeta todos até 12 metros de distância do mago. As vítimas afetadas não poderão usar magia nas próximas 2 rodadas e recebem penalidade de –5 colunas em todos os testes que realizarem durante 10 rodadas.",nivel:8},{id:"5",descricao:"A onda afeta todos até 15 metros de distância do mago. As vítimas afetadas não poderão usar magia nas próximas 3 rodadas e recebem penalidade de –6 colunas em todos os testes que realizarem durante 10 rodadas.",nivel:10}],descricao:`Esta magia cria uma onda psíquica que emana do evocador em um arco de 120 graus a sua frente, atingindo todos dentro do raio de ação. É possível ver a onda se aproximando em uma coloração azul/esverdeada quase transparente.

Os seres atingidos deverão passar em um teste de resistência à magia ou sofrerão os efeitos da magia. A Onda Psíquica confunde e atrapalha a mente das vítimas, prejudicando todas as suas ações durante determinado período de tempo. Criaturas animadas, morto-vivos e criaturas irracionais, não são afetadas por esta magia.

A magia Proteção Mental pode ser usada para evitar os efeitos de Onda Psíquica. Não é possível usar Onda Psíquica seguida vezes para acumular as penalidades, vale o maior nível usado.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.ordens,nome:"Ordens",niveis:[{id:"0",descricao:"0 evocador dá uma ordem de 2 palavras a um indivíduo que a cumprirá por uma rodada. Um oponente não pode ser ordenado a se matar.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas dura 2 rodadas.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas afeta 2 oponentes e dura 3 rodadas.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas atua sobre 3 indivíduos por 5 rodadas.",nivel:6},{id:"4",descricao:"Permite a uma pessoa que siga o Deus do evocador receber uma missão sagrada. Este encanto é voluntário, não pode ser imposto. Durante a missão, o recebedor da magia fica livre de qualquer maldição que pese sobre ele. Além disso, durante a missão ele não poderá ser dominado mentalmente (torna-se imune) nem paralisado (idem). Caso o indivíduo falhe na missão ou desista do seu objetivo, ele morre imediatamente. Se ele se afastar da missão por mais de uma semana (o tempo é cumulativo}, isto é considerado desistência. Caso ele tenha sucesso ou não, todos os seus pecados são perdoados e as maldições sobre ele são retiradas (no sucesso ou na morte).",nivel:7},{id:"5",descricao:"A última e mais poderosa das ordens obriga um indivíduo qualquer a fazer uma missão para o Sacerdote. A missão tem que ser possível de ser realizada ou a magia falhará. Caso a vítima se recuse a cumprir a missão ou se afaste do objetivo, ela ficará doente imediatamente, ficando de cama após 1 dia. Caso continue se recusando a retomar para a missão, a vítima morrerá no final do segundo dia.",nivel:10}],descricao:"Através deste encanto o evocador força outro indivíduo a obedecer um comando seu, caso este falhe em Resistir à Magia e entenda o que foi ordenado. Esta magia também serve como sagração para uma missão sagrada ou de penitência como se verá nas descrições.",alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.orientacao,nome:"Orientação",niveis:[{id:"0",descricao:"O evocador sempre sabe para onde fica o Norte geográfico, além disto, diminui 1 nível de dificuldade para testes de Navegação. A duração é de uma hora.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas o evocador consegue decorar mapas simples e pequenos, ou produzir um mapa simples pelo local que tenha passado durante o efeito da magia. A duração é de duas horas.",nivel:2},{id:"2",descricao:"Item ao anterior, mas durante o efeito da magia o evocador tem direito a um palpite sobre qual caminho seguir quando encontrar um lugar que tenha mais de um caminho a seguir. Além disto diminui 2 níveis de dificuldade nos testes de Navegação e o evocador consegue decorar qualquer mapa e pode produzir mapas detalhados. A duração é de 4 horas.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas tem direito a 2 “palpites” e caso o evocador possua um mapa do local, este saberá durante o efeito da magia, aproximadamente onde ele está (no mapa). A duração é de 8 horas.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas tem direito a 3 “palpites” e diminui 3 níveis de dificuldade em testes de Navegação. A duração é de 12 horas.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas transforma uma Navegação Impossível em Muito Difícil e tem direito a 4 palpites. A duração é de 1 dia.",nivel:10}],descricao:`Esse feitiço faz com que o evocador consiga se orientar em ambientes naturais. Devido a sua conexão com a natureza o Rastreador quando estiver fora de ambientes naturais não conseguirá mais evocar esta magia, mas se tiver sido evocada antes em ambientes naturais, ela continuará até o limite da duração, mesmo que ele entre em ambientes não naturais. O evocador receberá bônus nos testes de Navegação e algumas capacidades especiais conforme o nível do efeito. Note quem Navegações que sejam de dificuldade Impossíveis não podem ter o seu nível reduzido, com exceção do efeito 10.

Esta magia não acumula bônus no teste de Navegação com nenhum outro efeito mágico. O efeito de decorar mapas não é permanente e acaba quando termina a magia. Outro ponto importante é que esta magia não informará se um mapa está errado ou que faltam informações de trilhas e caminhos e acidentes geográficos.

A partir do nível 4 há o efeito de "palpite” que sempre será em relação ao local onde o evocador quer chegar, por exemplo: um Rastreador quer chegar à casa de um eremita que vive nas montanhas e encontra uma bifurcação. Ele usa o "palpite" e descobre que não é nenhum dos 2 caminhos, ou seja, que ele está na trilha errada. A magia apenas diz qual caminho seguir quando há mais de uma opção podendo ser uma delas, ou nenhuma se o caminho estiver completamente errado. Se a houver mais de um caminho válido o palpite dirá quais são os validos, mas não revelará qual é o melhor ou menos perigoso.

OBS: para que os “palpites” funcionem é necessário declarar ao Mestre o local onde deseja chegar antes de executar magia.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA}}]})(vx||(vx={}));var gx;(t=>{t.lista=[{id:W.paralisia,nome:"Paralisia",niveis:[{id:"0",descricao:"Concede um ajuste de -2 para até 2 vítimas,",nivel:1},{id:"1",descricao:"Concede um ajuste de -4 para até 2 vítimas.",nivel:2},{id:"2",descricao:"Concede um ajuste de -4 para até 3 vítimas.",nivel:4},{id:"3",descricao:"Concede um ajuste de -7 para 3 vítima,",nivel:6},{id:"4",descricao:"Concede um ajuste de -8 e impede que a vítima utilize a sua Energia Heróica,",nivel:8},{id:"5",descricao:"Paralisa completamente 1 vítima.",nivel:10}],descricao:`Com este encanto o evocador pode bloquear os nervos de uma ou mais criaturas humanóides, causando paralisia parcial ou total nos músculos das criaturas afetada, caso elas falhem em uma Resistência à Magia. Vítimas que sucedam em sua Resistência não são afetadas.

O grau da paralisia depende da Dificuldade do Efeito usado. Efeitos de dificuldade baixa causam apenas inconveniências às vítimas. Conforme a Dificuldade aumente as conseqüências vão se tomando mais e mais graves, até chegar ao ponto onde a vítima fica muito prejudicada ou mesmo completamente incapacitada.

Este feitiço consegue paralisar apenas os músculos cujo uso é completamente voluntário. Além disso, o evocador não tem a capacidade de escolher quais os músculos afetados, todos sendo afetados por igual.

Certos efeitos agem sobre mais de uma criatura por vez. Neste caso o evocador pode escolher quais serão afetadas, desde que todas estejam dentro do Alcance. Cada uma recebe uma Resistência à Magia separada e as que obtiverem sucesso não serão afetadas.

Certos Efeitos deste encanto dão Ajustes negativos para a vítima. Estes Ajustes são sempre dados em Colunas de Resolução. Eles se aplicam a quaisquer atividades que a vítima se proponha a fazer que utilizem a Tabela de resolução. Isto inclui Combate, Habilidades e Magia,

Finalmente, o Efeito de Dificuldade 10 paralisa a vítima completamente. Neste caso todos os músculos do corpo da vítima se relaxam e o seu corpo cai ao chão, imóvel. As funções involuntárias do corpo (respiração, batimentos cardíacos, etc) continuam normalmente. A vítima fica imóvel onde quer que tenha caído, incapaz de mover o menor músculo até o final da Duração.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:30},evocacao:{tipo:G.INSTANTANEA}},{id:W.peleDeArvore,nome:"Pele de Árvore",niveis:[{id:"0",descricao:"Aumenta a absorção em 8 e sua defesa aumenta em 1.",nivel:1},{id:"1",descricao:"Idem ao anterior, porém aumenta a absorção em 12.",nivel:2},{id:"2",descricao:"Aumenta a absorção em 16 e sua defesa aumenta em 2.",nivel:4},{id:"3",descricao:"Idem ao anterior, porém aumenta a absorção em 20.",nivel:6},{id:"4",descricao:"Aumenta a absorção em 24 e sua defesa aumenta em 3.",nivel:8},{id:"5",descricao:"Idem ao anterior, porém aumenta a absorção em 30. Neste nível as debilitações por críticos não são aplicadas enquanto Pele de Árvore estiver ativa, com exceção de um crítico mortal que ainda causará a morte.",nivel:10}],descricao:`Esta magia permite que o evocador entre em comunhão com a natureza fazendo com que sua pele se torne forte como um tronco de árvore milenar. A cada nível da magia sua pele se torna mais e mais rígida, fazendo assim, que suporte mais dano e melhore sua defesa. Note que ela é consumida como uma armadura e o dano acima da absorção dada pela Pele de Árvore passa direto para a EF quebrando a magia. Veja que o dano por critico é absorvido pela Pele de Árvore. Porém os efeitos do crítico continuam atuando sobre o evocador. Uma fraqueza da magia é que dano de fogo causa dano dobrado na absorção da Pele de Árvore. A evocação normalmente dura uma rodada, mas caso o evocador estiver tocando uma árvore, a evocação passa ser instantânea.

OBS: esta pele sobrenatural, apesar de rígida, se adapta à anatomia de forma a não atrapalhar o movimento do evocador.

Obs: Esta magia só pode ser evocada em ambientes (naturais ou não) que possuam árvores próximas.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.VARIAVEL}},{id:W.perspicacia,nome:"Perspicácia",niveis:[{id:"0",descricao:"A vítima deverá fazer 1 teste de Resistência à Magia.",nivel:1},{id:"1",descricao:"A vítima deverá fazer 2 testes de Resistência à Magia.",nivel:2},{id:"2",descricao:"A vítima deverá fazer 3 testes de Resistência à Magia.",nivel:4},{id:"3",descricao:"A vítima deverá fazer 4 testes de Resistência à Magia.",nivel:6},{id:"4",descricao:"A vítima deverá fazer 5 testes de Resistência à Magia.",nivel:8},{id:"5",descricao:"A vítima deverá fazer 6 testes de Resistência à Magia.",nivel:10}],descricao:`Através de uma análise no inimigo, especialmente a partir de seus gestos, ações e emoções, o evocador, com a magia perspicácia, consegue obter vantagens ao enfrenta-lo. Para que isso funcione é necessário, primeiramente que o evocador escolha um, e somente um, oponente para utilizar o encanto. Observe que a vítima necessariamente tem que estar combatendo para que o encanto possa ser utilizado.

A vítima então deverá fazer uma quantidade de testes de Resistência à Magia conforme descrita no nível, durante a duração da magia. Cada fez que a vítima falhar na sua Resistência à Magia, o evocador conseguirá detectar uma fraqueza no oponente, fraqueza essa que o evocador poderá expor aos seus companheiros de grupo. Isso fará com que todo aquele que souber da fraqueza tenha um bônus na sua coluna de ataque contra a vítima do feitiço.

Os bônus são de 2 colunas para cada falha em sua Resistência à Magia. Assim se o nível 8 da magia é lançado contra alguém, a vítima deverá fazer 5 testes de Resistência à Magia. Caso falhe em 3 destes testes, o evocador e a quem ele expor terão +6 colunas de ataque contra a vítima.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:15},evocacao:{tipo:G.RODADA,valor:1}},{id:W.pesadelo,nome:"Pesadelo",niveis:[{id:"0",descricao:"Duração de 1 dia.",nivel:1},{id:"1",descricao:"Duração de 3 dias.",nivel:3},{id:"2",descricao:"Duração de 1 mês.",nivel:5},{id:"3",descricao:"Duração de 1 ano e 1 dia.",nivel:8}],descricao:`Quando esta magia é evocada, uma pessoa escolhida pelo evocador (dentro do alcance) deve fazer sua Resistência à Magia ou sofrer terríveis pesadelos toda vez que for dormir (até a duração se esgotar). O sono passa a ser um horror, cheio de medo e tensão a cada instante. Assim sendo, o sono passa a não ser nada agradavel e a vítima não recupera Karma ou EH dormindo.

A duração deste encanto varia com a dificuldade do efeito usado. Depois da evocação do feitiço a vítima pode se afastar o quanto quiser do evocador, pois isso não tem mais nenhuma influência sobre a magia. A única forma de libertação é esperar a sua duração se esgotar ou quebrá-lo com uso de Quebra de Encantos.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.piromanipulacao,nome:"Piromanipulação",niveis:[{id:"0",descricao:"Contato causa 4 de dano. O alcance é de 2 metros.",nivel:1},{id:"1",descricao:"Contato causa 8 de dano. O alcance é de 3 metros.",nivel:2},{id:"2",descricao:"Contato causa 12 de dano. O alcance é de 4 metros.",nivel:4},{id:"3",descricao:"Contato causa 16 de dano. O alcance é de 6 metros.",nivel:6},{id:"4",descricao:"Contato causa 20 de dano. O alcance é de 9 metros.",nivel:8},{id:"5",descricao:"Contato causa 24 de dano. O alcance é de 12 metros.",nivel:10}],descricao:`Este encantamento permite que o evocador altere o calor e a forma de um fogo que já exista. A partir do Efeito de Dificuldade 4 o encanto também pode criar o fogo que será usado.

Este feitiço não pode ser usado para atacar pessoas (fazer aparecer fogo sob elas, fazer fogo cair sobre elas, etc). Caso o evocador tente fazer isso, o feitiço é quebrado instantaneamente. O evocador pode, no entanto, criar fogo em um local (por exemplo, criar uma parede de fogo entre si mesmo e um inimigo). Caso o inimigo toque ou passe através deste, ele receberá o dano normal.

Enquanto durar a magia o evocador pode alterar o formato do fogo à vontade. Para fazer isto, porém, ele precisa se concentrar (ver Capítulo V item 8.2 - Concentração). Caso o evocador não se concentre no encanto, este permanecerá na última forma em que o evocador o colocou até que a Duração se esgote. Quando a Duração se esgotar, o fogo se transformará em fogo normal (caso esteja em contato com combustível) ou se extinguirá (caso não esteja).

O evocador pode fazer com que o fogo assuma qualquer forma desejada, mas nunca pode fazer com que ele se afaste além do alcance do feitiço.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.INSTANTANEA}},{id:W.piroprotecao,nome:"Piroproteção",niveis:[{id:"0",descricao:"Protege contra até 10 pontos de dano por até 10 rodadas.",nivel:1},{id:"1",descricao:"Protege contra até 15 pontos de dano por até 20 rodadas.",nivel:2},{id:"2",descricao:"Protege contra até 20 pontos de dano por até 10 minutos.",nivel:4},{id:"3",descricao:"Protege contra até 25 pontos de dano por até 30 minutos.",nivel:6},{id:"4",descricao:"Protege contra até 30 pontos de dano por até 1 hora.",nivel:8},{id:"5",descricao:"Protege contra até 35 pontos de dano por até 2 horas.",nivel:10}],descricao:`Esta magia concede imunidade contra fogo até certo ponto. A força do encanto e sua duração variam de acordo com o Efeito usado.

Cada efeito desta magia protege o evocador contra determinado número de pontos de dano causados por fogo. Caso o dano infligido seja maior do que a proteção concedida pelo feitiço, o mesmo entra em colapso e quem estava sob sua proteção recebe o dano restante (se houver algum) normalmente.

Note que o dano infligido ao encanto não é cumulativo. Em outras palavras, para conseguir ferir o evocador é preciso fazer um dano maior do que a proteção oferecida por este encantamento de uma só vez.

Caso o feitiço não seja destruído antes, ele se encerrará automaticamente ao fim da Duração.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.planoMistico,nome:"Plano Místico",niveis:[{id:"0",descricao:"Com esse nível o mago pode criar uma dimensão pequena, do tamanho de uma bolsa de moedas, aproximadamente 10x10x10 (cm). São sacrificados materiais no valor de 5 moedas de prata durante o ritual. É necessário um espelho de no mínimo 30 cm² para abrir o portal. A duração é de 1 mês.",nivel:1},{id:"1",descricao:"Cria uma dimensão do tamanho de uma mochila, aproximadamente 50x20x20(cm). São sacrificados materiais no valor de 2 moedas de ouro durante o ritual. É necessário um espelho de no mínimo 60 cm² para abrir o portal. A duração é de 3 meses.",nivel:2},{id:"2",descricao:"Cria uma dimensão do tamanho de um armário, aproximadamente 2x2x1 (m). São sacrificados materiais no valor de 6 moedas de ouro durante o ritual. É necessário um espelho de no mínimo 2m² para abrir o portal. A duração é de 6 meses.",nivel:4},{id:"3",descricao:"Cria uma dimensão do tamanho de uma sala pequena, 3x3x3 (m). Permite apenas a entrada do criador da dimensão. São sacrificados materiais no valor de 10 moedas de ouro durante o ritual. É necessário um espelho de no mínimo 2m² para abrir o portal. A duração é de 1 ano e 1 dia.",nivel:6},{id:"4",descricao:"Cria uma dimensão do tamanho de um cômodo grande 5x5x3 (m). A partir desse nível já é possível à entrada de mais de uma criatura além do evocador. São sacrificados materiais no valor de 20 moedas de ouro durante o ritual. É necessário um espelho de no mínimo 2m² para abrir o portal. A duração é de 1 ano e 1 dia.",nivel:8},{id:"5",descricao:"Dimensão de uma casa de porte médio, 10x10x4 (m). O tempo máximo que qualquer criatura pode permanecer dentro da dimensão é de 24 horas. São sacrificados materiais no valor de 50 moedas de ouro durante o ritual. É necessário um espelho de no mínimo 4m² para abrir o portal. A duração é de 13 anos.",nivel:10}],descricao:`Essa magia é usada para criar um pequeno plano dimensional que geralmente são usados para guardar pertences importantes do mago.

É necessário um ritual para criar um plano místico tendo como porta de passagem a superfície de um espelho. O tamanho do espelho varia de acordo com o nível do ritual. Nesta ocasião também é encantada uma “chave” para esta dimensão. Sem a chave é impossível reabrir a “porta”. É possível se encantar várias chaves bastando para isto que de gaste a mesma quantidade de dinheiro para a confecção das “chaves” extras. As “chaves” normalmente são pérolas do tamanho de uma bola de gude.

Com a dimensão criada, o mago pode reabrir a “porta” apenas recitando as frases do ritual (demora 3 rodadas) em frente a um espelho (que servirá de “porta”) enquanto segura a pérola “chave” em sua mão. Quando acabar de recitar o ritual o mago gastará uma quantidade de karma igual ao nível da magia usada para criar o plano místico que ele deseja abrir. Depois de entrar no plano, o mago só poderá permanecer ali pelo tempo máximo descrito em cada nível, após esse período ele será “expulso” pela “porta” em que entrou. Se ele desejar, poderá sair pela porta que entrou. È possível que outros magos que tenham a cópia da chave entrem no mesmo plano, mas cada um sairá sempre pela mesma porta que entrou. O mago pode levar consigo qualquer objeto desde que não seja uma criatura.

Qualquer mago pode abrir essa “porta” desde que possa usar o mesmo nível de Plano Místico usado e possua a “chave”. Ao termino da duração ou se o espelho de uma das portas for quebrado (quando esta estiver aberta}, tudo (e todos) que estiverem dentro do plano serão expulsos e o encantamento será quebrado.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL,descricao:"Ritual / 3 rodadas"}},{id:W.possessao,nome:"Possessão",niveis:[{id:"0",descricao:"A Evocação demora 10 rodadas e dura 20 rodadas. Caso a vítima faça a sua Resistência à Magia, o evocador fica atordoado por 15 rodadas. Nenhum dos dois conseguirá usar magia no corpo do outro, mas afora isto ambos poderão agir em seus novos corpos. As habilidades serão transferidas com as mentes;",nivel:1},{id:"1",descricao:"A Evocação demora 5 rodadas e dura 25 rodadas. Caso a vítima faça a sua Resistência à Magia, o evocador fica atordoado por 15 rodadas. Nenhum dos dois conseguirá usar magia no corpo do outro, mas afora isto ambos poderão agir em seus novos corpos. As habilidades serão transferidas com as mentes.",nivel:2},{id:"2",descricao:"A Evocação demora 2 rodadas e dura 1 hora. Caso a vítima faça a sua Resistência à Magia, o evocador fica atordoado por 7 rodadas. Nenhum dos dois conseguirá usar magia no corpo do outro, mas afora isto ambos poderão agir em seus novos corpos. As habilidades serão transferidas com as mentes.",nivel:4},{id:"3",descricao:"A Evocação demora 2 rodadas e dura 1 hora. Nenhum dos dois conseguirá usar magia no corpo do outro, mas afora isto ambos poderão agir em seus novos corpos. As habilidades serão transferidas com as mentes.",nivel:5},{id:"4",descricao:"A Evocação demora 2 rodadas e dura 1 dia. Nenhum dos dois conseguirá usar magia no corpo do outro, mas afora isto ambos poderão agir em seus novos corpos. As habilidades serão transferidas com as mentes;",nivel:6},{id:"5",descricao:"A Evocação demora 2 rodadas e dura 1 dia. O evocador conseguirá usar magia no corpo da vítima se os dois forem da mesma raça. As habilidades serão transferidas com as mentes. Durante toda a possessão o corpo do evocador ficará em um estado de animação suspensa, impedindo a vítima de agir com ele.",nivel:7},{id:"6",descricao:"A Evocação demora 2 rodadas e dura 2 dias. O evocador conseguirá usar magia no corpo da vítima se os dois forem da mesma raça. As habilidades serão transferidas com as mentes; Durante toda a possessão o corpo do evocador ficará em um estado de animação suspensa, impedindo a vítima de agir com ele.",nivel:8},{id:"7",descricao:"A Evocação demora 2 rodadas e dura 1 semana. O evocador conseguirá usar magia no corpo da vítima se os dois tiverem o mesmo formato geral (2 braços, 2 pernas, cabeça e boca). As habilidades serão transferidas com as mentes. Durante toda a possessão o corpo do evocador ficará em um estado de animação suspensa, impedindo a vítima de agir com ele.",nivel:9},{id:"8",descricao:"Evocação demora 2 rodadas e dura 1 semana. O evocador conseguirá usar magia no corpo da vítima se os dois tiverem o mesmo formato geral (2 braços, 2 pernas, cabeça e boca). As habilidades serão transferidas com as mentes. Durante toda a possessão o corpo do evocador ficará em um estado de animação suspensa, impedindo a vítima de agir com ele.",nivel:10}],descricao:`Este poderoso feitiço permite que o espírito de seu evocador troque de corpo com alguma outra criatura, caso esta falhe em sua Resistência à Magia. É um encanto muito poderoso, mas de um modo geral também implica em grandes riscos para o místico.

O espírito do evocador passa a ocupar o corpo da vítima e o espírito da vítima passa a ocupar o corpo do evocador. As características mentais da vítima e do evocador são transferidas com o espírito, mas as características físicas ficam sendo aquelas do corpo que o espírito está possuindo.

Caso o corpo que o evocador está possuindo morra, ele morre imediatamente e a vítima morre quando a duração do feitiço expirar. Caso o corpo do evocador morra enquanto ele estiver possuindo um outro, a vítima morrerá na hora e o evocador morrerá quando a duração do feitiço se esgotar.

É praticamente certo que a vítima deste feitiço passará a odiar o evocador e fará tudo a seu alcance para lhe fazer mal, mesmo que isso lhe custe caro.

Independentemente do tempo de evocação do Efeito usado, os materiais necessários ao uso desta magia custam 5 Moedas de Prata por Dificuldade do Efeito.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.presencaIntimidadora,nome:"Presença Intimidadora",niveis:[{id:"0",descricao:"Causa a perda de 8 pontos de EH em inimigos e 12 pontos em Demônios.",nivel:1},{id:"1",descricao:"Causa a perda de 16 pontos de EH em inimigos e 24 pontos em Demônios.",nivel:3},{id:"2",descricao:"Causa a perda de 20 pontos de EH em inimigos e 30 pontos em Demônios.",nivel:5},{id:"3",descricao:"Causa a perda de 24 pontos de EH em inimigos e 36 pontos em Demônios.",nivel:7},{id:"4",descricao:"Causa a perda de 32 pontos de EH em inimigos e 48 pontos em Demônios.",nivel:9}],descricao:`Com esse milagre, o sacerdote brada uma frase de efeito conforme o tipo do inimigo e demonstra uma aura de poder e autoridade, como um avatar de seu deus, que todos os que o veem se sentem intimidados, caso não passem na RM. A magia afeta a todos os inimigos que o sacerdote possa ver em uma distância até 20 metros. Os oponentes que falharem perderão EH. Caso a EH chegue a zero ou o inimigo não possua EH, este irá parar de lutar, tentando fugir ou se render (a magia não afeta a EF). Em Demônios a magia causa um acréscimo de 50% ao dano final (já calculado em cada nível do milagre). Este milagre não atinge Mortos-Vivos e criaturas sem mente.

Essa magia não pode ser conjurada levianamente, portanto não pode ser usada repetidamente pelo Sacerdote em combates comuns, porém contra Demônios e/ou simpatizantes seu uso poderá ser autorizado pelo seu deus (a critério do Mestre).`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.previsibilidade,nome:"Previsibilidade",niveis:[{id:"0",descricao:"O sacerdote prevê em uma conversa, a frase seguinte que a pessoa irá dizer, desde que seja algo perfeitamente normal. Ex: Então eu estava lá na floresta e depois de muito tempo eu ouvi um barulho forte, fiquei com muito medo.",nivel:1},{id:"1",descricao:"O sacerdote prevê determinadas atitudes simples: ele prevê em qual das 4 cadeiras uma determinada pessoa vai sentar; prevê que prato de comida determinada pessoa vai pedir, ou ainda que armadura determinado guerreiro vai pedir ao ferreiro.",nivel:3},{id:"2",descricao:"O sacerdote consegue prever algumas coisas mais complexas. Em uma determinada perseguição a um ladrão, ele poderá prever em que rua ele irá virar; poderá prever também qual será a atitude do rei depois de ouvir notícias importantes.",nivel:5},{id:"3",descricao:"O sacerdote consegue prever qual será a próxima ação em combate de um determinado oponente.",nivel:8}],descricao:`Apesar dos sacerdotes de Plandis serem considerados como caóticos e desconhecedores da ordem, esses comentários têm suas limitações. Os sacerdotes de Plandis não são ignorantes da ordem, muito pelo contrário, são grandes entendidos da ordem e da lógica das coisas, mas preferem viver de modo a fugir da previsibilidade da vida de todas as pessoas que não são devotas de Plandis. Assim, não é que os sacerdotes de Plandis são caóticos por essência, mas sim por opção.

Com o milagre Previsibilidade, os sacerdotes de Plandis são capazes de deduzir as coisas a partir de uma lógica coerente ou uma ordem que se repete.

Assim ele é capaz de concluir qual será a frase seguinte de um discurso, ou onde aquela pessoa irá depois de ter ido a muitos lugares ou até mesmo, em níveis mais altos, concluir qual será a próxima ação de um guerreiro em combate. Independentemente do efeito gerado, é necessário que haja um tempo de observação de no mínimo 1 minuto (ou 4 rodadas) para que a magia possa ser realizada. Assim apenas com 1 minuto de conversa ou depois de 4 rodadas de combate é que o sacerdote poderá usar o milagre para concluir o que acontecerá depois. Observe que o sacerdote só pode prever a atitude de uma única pessoa ou ser uma única vez, sendo necessário evocar o milagre de novo após observar mais 1 minuto (ou 4 rodadas) para prever o que outra pessoa fará ou o que a mesma pessoa fará depois de ter feito o previsto pelo sacerdote. Não existe Resistência a Magia para esse milagre.

A evocação do milagre é totalmente discreta, sendo percebida apenas por meio mágicos. O sacerdote ao evocar receberá como que por instinto a conclusão de como se desenrolará um determinado evento. Os sacerdotes de Plandis gostam especialmente de usar este encanto e logo que concluem o que uma pessoa irá dizer, eles dizem antes dela, deixando a pessoa surpresa e mostrando claramente como as pessoas são previsíveis. Por se tratar de ordem e lógica esse encanto não funciona com outros sacerdotes de Plandis ou devotos da mesma divindade, muito menos com loucos.`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.primor,nome:"Primor",niveis:[{id:"0",descricao:"No uso de uma Habilidade (do grupo Influência}, se o sacerdote cometer uma Falha terá direito um teste Médio, e se bem sucedido a Falha (Verde na tabela) vira um Branco.",nivel:1},{id:"1",descricao:"No uso de uma Habilidade (dos grupos Influência e Profissional) ou no uso de uma Técnica de combate, se o sacerdote cometer uma Falha terá direito um teste Fácil, se bem sucedido a falha (Verde na tabela) vira um Branco. Caso o rolamento não tenha sido uma Falha o evocador ganha 1 nível de dificuldade na ação realizada, mas Azul Escuro não vira Cinza.",nivel:3},{id:"2",descricao:"No uso de uma Habilidade (dos grupos Influência, Profissional e Geral) ou no uso de uma Técnica de combate, ou num ataque com uma arma, se sacerdote cometer uma Falha terá direito um teste Rotineiro, e se bem sucedido a Falha (Verde na tabela) vira um Branco. Caso o rolamento não tenha sido uma Falha o evocador ganha 2 níveis de dificuldade na ação realizada, mas Azul Escuro não vira Cinza.",nivel:5},{id:"3",descricao:"No uso de uma Habilidade (dos grupos Influência, Manobra, Profissional e Geral) ou no uso de uma Técnica de combate, ou num ataque com uma arma ou magia que use a tabela colorida o sacerdote pode cancelar automaticamente uma Falha (Verde na tabela) que virará um Branco. Caso o rolamento não tenha sido uma falha o evocador ganha 3 níveis de dificuldade na ação realizada, mas Azul Escuro não vira Cinza.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas o sacerdote pode cancelar automaticamente uma Falha (Verde na tabela) que virará um Amarelo. Caso não seja uma Falha o evocador ganha 3 níveis de dificuldade na ação realizada, podendo inclusive tornar Azul Escuro em Cinza.",nivel:9}],descricao:`Com este pequeno ritual (10 rodadas}, o sacerdote de Lena evoca a perfeição da deusa sobre si, ganhado a capacidade de fazer habilidades, técnicas de combate, e ataques muito mais precisos e perfeitos. Assim após o rolamento normal do dado (habilidades, técnicas de combate, e ataques) há dois efeitos possíveis:

Se tiver sido uma falha ele pode fazer um teste na coluna da Força de Ataque (FA) da magia, caso obtenha sucesso a falha não acontece. Em cada nivel há uma dificuldade para este teste e indica o que acontece no lugar. Em alguns níveis não há a necessidade de se fazer teste.

Não foi uma falha, então a magia irá dar um bônus nos "Níveis de Dificuldade" o que na prática faz pular de faixa na tabela colorida (branco vira amarelo, amarelo vira laranja, e assim por diante). Para este bónus não há a necessidade de nenhum teste extra (como no caso da Falha).

Esta magia, por evocar o poder da deusa sobre o Sacerdote, não deve ser usada de forma leviana, ou para ganho próprio. O mestre do jogo deverá avaliar cada situação e caso julgue que está sendo usado de forma inadequada, a deusa poderá dar uma punição ao Sacerdote (a escolha do Mestre).

OBS: a decisão do uso da magia deve ser feita antes do rolamento dos dados. O bónus nos "Níveis de Dificuldade" só será para o primeiro rolamento de dado, não valendo para rolamentos subsequentes que existem em determinadas Técnicas de Combate, Magias e no Acerto Crítico.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.DIA,valor:1},evocacao:{tipo:G.RODADA,valor:10}},{id:W.prisao,nome:"Prisão",niveis:[{id:"0",descricao:"Prende até um elemental menor por até 1 mês.",nivel:1},{id:"1",descricao:"Prende um elemental fraco por até 1 mês.",nivel:3},{id:"2",descricao:"Prende um elemental médio por até 3 meses.",nivel:5},{id:"3",descricao:"Prende um elemental médio por até 1 ano e 1 dia.",nivel:7},{id:"4",descricao:"prende um elemental forte por até 13 anos.",nivel:9}],descricao:`Permite o aprisionamento de um elemental de qualquer origem dentro de um objeto previamente preparado (desde que o elemental falhe em uma Resistência à Magia). O elemental é mantido em corpo e espírito dentro da prisão. Um mesmo Mago não pode manter mais do que 4 elementais aprisionados ao mesmo tempo, qualquer que sejam os seus tipos e origens.

O objeto que vai servir de prisão pode ser virtualmente qualquer coisa. O objeto deve ser preparado para receber o elemental através de um ritual que demora duas horas e exige materiais cujo custo se eleva a 2 moedas de ouro.

Cada Efeito desta magia afeta até um determinado tipo de elemental. Elementais de tipos superiores a este simplesmente ignoram o feitiço (o Karma foi gasto inutilmente neste caso).

Quando o místico tenta aprisionar o elemental, ele deve tocar o objeto e evocar o feitiço. Se o elemental fizer a sua Resistência à Magia, ele permanece em liberdade, e se possível tentará atacar o evocador.

Caso o Mago consiga prender o elemental, o mesmo ficará na prisão até que a Duração do feitiço se esgote ou o objeto seja destruído. Enquanto o elemental estiver aprisionado, o tempo de duração de qualquer magia que esteja em operação sobre ele é paralisado, passando a ser contado somente quando este for libertado. Note que enquanto permanecer aprisionado o elemental não poderá receber nem transmitir mensagens de nenhuma forma. Uma vez libertado, o elemental adquirirá imunidade temporária a magia do evocador, por isso, este não poderá ser aprisionado novamente durante o período de 1 dia. Caso o evocador tente aprisiona-lo durante este período o elemental resistirá à magia automaticamente e o karma será gasto inutilmente. Quando o elemental é libertado, o objeto onde ele esteve aprisionado se transforma em um pó negro sem valor`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.prisaoVegetal,nome:"Prisão Vegetal",niveis:[{id:"0",descricao:"Prende um Plantor Mensageiro, por 5 rodadas após a sua conjuração.",nivel:1},{id:"1",descricao:"Prende um Plantor Soldado ou mais fraco, por 7 rodadas após a sua conjuração.",nivel:3},{id:"2",descricao:"Prende um Plantor Conselheiro ou mais fraco, por 10 rodadas após a sua conjuração.",nivel:5},{id:"3",descricao:"Prende um Plantor Líder ou mais fraco, por 15 rodadas após a sua conjuração.",nivel:7}],descricao:`Restrição de Uso: Ambiente Natural

Com esta magia, o mago naturalista desenha um circulo no chão que servirá de prisão para um Plantor conjurado. Esta magia deve ser evocada em conjunto com Conjuração Natural.

A conjuração deve ser feita de modo que o Plantor apareça dentro do círculo desenhado. O Plantor conjurado ficará preso no circulo pelo tempo estipulado na magia (o Plantor não tem direito a resistir). Os magos Naturalistas utilizam este ritual com a intenção de obter uma situação ideal para o uso do feitiço Dominação Natural.

O custo do ritual é de 3 moedas de prata por dificuldade do efeito. O tempo máximo que o circulo é capaz de prender o Plantor e o tipo vulnerável a prisão, variam com a dificuldade do efeito.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.projecao,nome:"Projeção",niveis:[{id:"0",descricao:"Cria uma imagem de Defesa L1 e EH 10 que pode se afastar até 30 metros do evocador por até 10 rodadas.",nivel:1},{id:"1",descricao:"Cria uma imagem de Defesa L3 e EH 20 que pode se afastar até 30 metros do evocador por até 10 rodadas.",nivel:3},{id:"2",descricao:"Cria uma imagem de Defesa L4 e EH 30 que pode se afastar até 200 metros do evocador por até 20 rodadas.",nivel:5},{id:"3",descricao:"Cria uma imagem de Defesa L5 e EH 40 que pode se afastar até 300 metros do evocador por até 30 rodadas.",nivel:7},{id:"4",descricao:"Cria uma imagem de Defesa L6 e EH 55 que pode se afastar até 500 metros do evocador por até 1 hora.",nivel:10}],descricao:`Esta magia permite que o evocador crie uma imagem de si mesmo que sai de seu corpo e se movimenta como se fosse o próprio evocador. A consciência do evocador estará na imagem e assim o Mago poderá perceber tudo o que a imagem tiver condições de perceber (a imagem tem os 5 sentido iguais aos do Mago).

Enquanto a imagem do evocador estiver vagando, o corpo do Mago ficará em um estado de animação suspensa, completamente indefeso e vulnerável. O evocador não tem nenhuma idéia do que está acontecendo com o seu corpo real, sendo absolutamente incapaz de sentir qualquer coisa em relação a ele.

A imagem é uma ilusão que não tem corpo. Por isto ela não deixa pegadas, marca, não faz barulho ao andar e etc. A imagem não pode de modo algum ser tornada invisível, mas pode usar quaisquer outros feitiços que o Mago pudesse usar.

A EH máxima da imagem e sua Defesa são determinadas pela dificuldade do efeito usado. A imagem não tem nenhuma EF e por isso, se receber qualquer dano na EF se desfará instantaneamente, quebrando o feitiço. Neste caso, a consciência do evocador é enviada violentamente de volta a seu corpo, devendo ele fazer uma Resistência à Magia (Força de Ataque 5) ou ficar inconsciente por uma hora.

Note que caso, a consciência do evocador volte para seu corpo por vontade própria, por que a duração se esgotou ou porque a magia Projeção foi quebrada com uso de mágica, não há trauma no retomo ao corpo e, por isso, a Resistência à Magia é desnecessária.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:W.projecaoSensorial,nome:"Projeção Sensorial",niveis:[{id:"0",descricao:"Projeta 1 sentido a 10 metros do corpo por até 5 rodadas.",nivel:1},{id:"1",descricao:"Projeta 1 sentido a 50 metros do corpo por até 10 rodadas.",nivel:2},{id:"2",descricao:"Projeta 2 sentidos a 100 metros do corpo por até 15 rodadas.",nivel:4},{id:"3",descricao:"Projeta 2 sentidos a 200 metros do corpo por até 15 rodadas.",nivel:6},{id:"4",descricao:"Projeta 3 sentidos a 500 metros do corpo por até 20 rodadas.",nivel:8},{id:"5",descricao:"Projeta 3 sentidos a 1km do corpo do mago por até 30 rodadas.",nivel:10}],descricao:`O evocador projeta um ou mais de seus sentidos para fora de seu corpo, para um ponto dentro do alcance do nível usado de Projeção Sensorial. O ponto para onde os sentidos serão projetados deve ser conhecido pelo evocador (ele já deve ter estado nele) ou devem estar ao alcance da vista.

O ponto para onde os sentidos serão transportados é imóvel. Uma vez escolhido, este ponto não pode ser alterado, embora ele possa ""rodar"", permitindo que se mude a direção em que os sentidos percebem a área.

A projeção dos sentidos é total, de modo que evocador vivência o local como se estivesse lá, inclusive podendo ser afetado por magias que afetem os sentidos (Como alguns Efeitos de Manipulação de Luz, por exemplo, se ficar cego ele ficará cego o tempo determinado pela magia, mesmo que a Projeção Sensorial acabe antes). Um efeito colateral disso é que o evocador perde acesso aos seus sentidos naturais no local onde ele estiver. Isto é, se o evocador projetar a sua visão, ele não poderá ver nada no local onde ele está. Apenas a visão, a audição e o olfato podem ser projetados.

A distância e o tempo que o mago pode manter este encanto variam de acordo com os níveis da magia.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:3}},{id:W.protecaoAnimal,nome:"Proteção Animal",niveis:[{id:"0",descricao:"Concede um bônus de +1 na Defesa e protege contra até 4 pontos de dano por 15 minutos.",nivel:1},{id:"1",descricao:"Concede um bônus de +1 na Defesa e +8 na Absorção por 30 minutos.",nivel:2},{id:"2",descricao:"Concede um bônus de +2 na Defesa e +16 na Absorção por 1 hora.",nivel:4},{id:"3",descricao:"Concede um bônus de +2 na Defesa e +24 na Absorção por 2 horas.",nivel:6},{id:"4",descricao:"Concede um bônus de +3 na Defesa e +32 na Absorção por 4 horas.",nivel:8},{id:"5",descricao:"Concede um bônus de +3 na Defesa e +40 na Absorção por 8 horas.",nivel:10}],descricao:`Esta magia concede proteção contra ataques físicos de animais tais como garras, presas, chifres, caudas e etc, mas não contra hálitos encantados, toques gélidos, olhares ou outros tipos de ataque. A proteção se estende a qualquer ataque feito com uma parte do corpo de uma criatura viva de Tagmar, portanto, não vale contra mortos-vivos, demônios, elementais, golens, e todas as outras criaturas não nascidas.

A proteção consiste em um aumento na defesa e na absorção de dano. Caso o dano infligido seja maior do que a absorção concedida, o encanto entra em colapso e quem estava protegido recebe o dano restante. Note que o dano infligido é cumulativo. Ou seja, para conseguir acertar a EF do evocador é necessário gastar toda a absorção concedida.

Esta magia não protege contra danos críticos que continuam acertando diretamente a EF.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.protecaoDivina,nome:"Proteção Divina",niveis:[{id:"0",descricao:"O alvo sofre o Crítico como se ainda tivesse Energia Heroica. Duração de 5 rodadas.",nivel:1},{id:"1",descricao:"O alvo sofre o Crítico como se ainda tivesse Energia Heroica. Duração de 10 rodadas.",nivel:2},{id:"2",descricao:"O Crítico é diminuído em um nível, sendo o mínimo o resultado Verde. Duração de 5 rodadas.",nivel:4},{id:"3",descricao:"O Crítico é diminuído em dois níveis, sendo o mínimo o resultado Verde. Duração de 10 rodadas.",nivel:6},{id:"4",descricao:"O Crítico é diminuído em três níveis, sendo o mínimo o resultado Verde. Duração de 10 rodadas.",nivel:8},{id:"5",descricao:"O alvo torna-se imune a qualquer Efeito Crítico, que passa a ser considerado um dano de 100% na Energia Heroica. Duração de 4 rodadas.",nivel:10}],descricao:`Por meio deste milagre, o sacerdote pode reduzir os efeitos devastadores de golpes certeiros desferidos durante o combate. O alvo do milagre só pode estar protegido por um efeito de cada vez, não sendo cumulativo o uso de vários efeitos. Note que este milagre não nega ou cura efeitos de críticos que já tenham ocorrido ou que venham a ocorrer após a duração do milagre.

Para efeitos que diminuam o Efeito Crítico, esta diminuição se dá da seguinte forma: se o alvo está protegido por um efeito que diminua o Crítico em dois níveis, um resultado Crítico Vermelho é considerado Crítico Amarelo.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.protecaoMental,nome:"Proteção Mental",niveis:[],descricao:"Com este encanto, os sacerdotes de Palier são capazes de se proteger contra as magias que afetam a mente, como sugestão, covardia, contatos mentais, entre outras. A magia funciona da seguinte forma: o nível de proteção mental utilizado protege contra magias de mente de mesmo nível ou inferior do nível de proteção mental. Assim, proteção mental 5 protege contra contatos mentais 1, 3 e 5 mas não tem qualquer efeito contra contatos mentais 7.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.protecaoNatural,nome:"Proteção Natural",niveis:[{id:"0",descricao:"Absorve 7 pontos de dano na EF. Necessário passar em um teste do atributo Percepção, dificuldade Média, para ser alertado com 1 rodada de antecedência. A duração é de 1 hora.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas absorve 14 pontos, o teste é dificuldade Fácil, com 2 rodadas de antecedência, e dura 2h.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas absorve 21 pontos, o teste é dificuldade Rotineiro, com 3 rodadas de antecedência, e dura 5 horas.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas absorve 28 pontos. É avisado com 4 rodadas de antecedência, e dura 7 horas.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas absorve 35 pontos. Recebe o aviso com 5 rodadas de antecedência, inclusive o tipo de desastre. A duração é de 10 horas.",nivel:9}],descricao:`Esse encanto forma em torno do evocador um campo de força invisível que o protege de ataques naturais, tais como: queda, desabamento, avalanche, incêndios, enchentes, e qualquer outra catástrofe natural que atinja de surpresa o místico. Ela não o protegerá caso decida entrar voluntariamente. Como também não o protege de ataques de criaturas.

Por exemplo, caso o místico seja pego por uma inundação ou um incêndio, a magia o protegerá. Mas se decidir entrar para salvar um animal outro motivo parecido, a magia não oferecerá proteção.

Caso algum inimigo provoque intencionalmente um deslizamento de terra ou qualquer outro desastre a magia terá efeito, pois pegará de surpresa o místico e se enquadrará como calamidade natural. Na dúvida sobre o que será natural, o Mestre tem a decisão final.

Nos níveis mais baixos, o Mestre solicitará um teste de Percepção para avisar com antecedência que ocorrerá algum desastre. Nos níveis mais altos, o místico saberá quando ocorrerá. Caso não passe no teste, a magia funciona normalmente, apenas não terá a informação prévia que ocorrerá uma calamidade. Também não existe falha crítica. Se atingir verde, apenas não passou no teste.

A quantidade de dano que pode ser absorvido, antes de o feitiço colapsar, é determinada pela dificuldade do efeito usado como explicado abaixo. Caso a duração do feitiço se esgote, a proteção se desfaz e os pontos restantes de absorção são perdidos.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.protecaoVegetal,nome:"Proteção Vegetal",niveis:[{id:"0",descricao:"Absorve até 6 de dano.",nivel:1},{id:"1",descricao:"Absorve até 12 de dano.",nivel:3},{id:"2",descricao:"Absorve até 20 de dano.",nivel:6},{id:"3",descricao:"Absorve até 30 de dano.",nivel:8},{id:"4",descricao:"Absorve até 40 de dano.",nivel:10}],descricao:`Esta magia oferece ao evocador a capacidade de proteger a si mesmo ou a alguém escolhido contra dano feito por objetos ou criaturas de origem vegetal.

Este feitiço tem a capacidade de absorver uma quantidade de dano (na EH ou na EF) feita por objetos vegetais (flechas, porretes, cajados, ou qualquer outro ataque físico de natureza vegetal). Ataques de qualquer outro tipo de material não são afetados pelo encanto (fazem dano normal).

A quantidade máxima de dano que o encanto pode absorver depende da Dificuldade do Efeito que se está usando. À medida que o encanto vai absorvendo dano ele vai perdendo potência. Quando o total de dano absorvido fica maior ou igual ao dano máximo que o feitiço pode absorver, o mesmo é quebrado. O dano excedente (se houver algum) é sofrido pelo recipiente da magia.

Note que vários usos dessa magia não são cumulativos. Caso o evocador utilize mais de um dos efeitos desse encantamento na mesma pessoa ao mesmo tempo, apenas o efeito de maior capacidade de absorção entra em operação.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.RODADA,valor:20},evocacao:{tipo:G.INSTANTANEA}},{id:W.pseudoconsciencia,nome:"Pseudoconsciência",niveis:[{id:"0",descricao:"Reações simples: autodefesa, atacar inimigos, falar coisas banais e etc. O alcance é de 10 metros.",nivel:1},{id:"1",descricao:"Reações normais: gestos simples, expressões faciais perfeitas, conversação inteligente e etc. O alcance é de 200 metros.",nivel:3},{id:"2",descricao:"Idem ao anterior. O alcance é de 1 Km.",nivel:5},{id:"3",descricao:"Permite que a ilusão reaja como o evocador gostaria que ela reagisse se estivesse em condições de decidir. O alcance é de 1 Km",nivel:7},{id:"4",descricao:"Idem ao anterior. O alcance é de 5 Km",nivel:9}],descricao:`Este feitiço liga uma Ilusão Visual diretamente à mente do seu evocador. Isto liberta o evocador da necessidade de se concentrar para que ela aja. Obviamente, este encanto não tem coerência própria, devendo sempre ser evocado juntamente com a magia Ilusões.

Apesar de esta magia permitir que a ilusão reaja independentemente da concentração, o grau de complexidade da reação varia conforme o Efeito de Pseudoconsciência usado. Os Efeitos de Dificuldade baixa deste encanto permitem que as ilusões tenham apenas reações simples Conforme a Dificuldade do Efeito vai aumentando, a capacidade de reação do encanto aumenta proporcionalmente.

Quando um evocador utiliza este encanto, a sua ilusão se torna ainda mais realística, tornando-se capaz de ação independente. A concentração sobre o feitiço torna-se desnecessária e, por isso, o evocador poderá agir normalmente enquanto a ilusão estiver em efeito. Isto inclui até mesmo a evocação de outras ilusões (pode-se também usar esta magia várias vezes para se obter várias ilusões que ajam independentemente da concentração do evocador).

O alcance deste feitiço é a distância máxima que o evocador pode estar da ilusão para que a ilusão possa continuar agindo sem concentração. Em outras palavras, caso a distância entre o evocador e a ilusão seja maior do que o Alcance, o dito evocador volta a ter de se concentrar para fazer com que a ilusão se mova. O alcance deste encanto varia com a Dificuldade do Efeito usado. A sua Duração é a mesma do efeito de Ilusões Visuais com o qual ele foi evocado.

É importante notar que a capacidade de reação dos Efeitos deste feitiço é cumulativa. Assim sendo, uma ilusão imbuída com Pseudoconsciência 3 tem a capacidade de reagir como uma imbuída com Pseudoconsciência 1 e ainda tem as reações listadas em Pseudoconsciência 3.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.pseudomateria,nome:"Pseudomatéria",niveis:[{id:"0",descricao:"Concede 2 pontos de EF, 5 de EH, 12 de Dano máximo, Defesa máxima 1 (qualquer tipo}, ataque na coluna 1.",nivel:1},{id:"1",descricao:"Concede 6 pontos de EF, 15 de EH, 16 de Dano máximo, Defesa máxima 2 (qualquer tipo}, ataque na coluna 3.",nivel:2},{id:"2",descricao:"Concede 15 pontos de EF, 30 de EH, 20 de Dano máximo, Defesa máxima 3(qualquer tipo}, ataque na coluna 6.",nivel:4},{id:"3",descricao:"Concede 25 pontos de EF, 45 de EH, 24 de Dano máximo, Defesa máxima 4 (qualquer tipo}, ataque na coluna 9.",nivel:6},{id:"4",descricao:"Concede 35 pontos de EF, 60 de EH, 28 de Dano máximo, Defesa máxima 5 (qualquer tipo}, ataque na coluna 12.",nivel:8},{id:"5",descricao:"Concede 45 pontos de EF, 75 de EH, 32 de Dano máximo, Defesa máxima 6 (qualquer tipo}, ataque na coluna 15.",nivel:10}],descricao:`Esta magia permite que o evocador dê à sua ilusão uma forma de pseudomatéria que pode interagir com objetos sem aura e com objetos e seres que possuam aura, inclusive permite que se combata com uma Ilusão. Isto é possível pois ela concede EF, EH, Defesa, Ataque e à ilusão, bem como a capacidade de fazer dano tanto na EH como na EF de criaturas com Aura. Este encanto não tem coerência sozinho, devendo ser evocado conjuntamente com pelo menos a magia Ilusão ou a magia Imagem.

A magia que for evocada conjuntamente a esta passa a poder influenciar o sentido do tato. Além disso, ela ganha a capacidade de se alterar perante estímulos físicos de acordo com a definição do evocador. Assim, se o evocador desejar que uma determinada ilusão (evocada junto com esta) tenha a consistência de pedra, a ilusão será sentida deste modo pelo tato e reagirá como pedra se for atacada (a não ser que seja destruída - ver abaixo). A consistência (a forma da ilusão) não tem nenhuma influência na Defesa, EF e EH da ilusão.

Caso uma Ilusão ou Imagem que não inclua esta magia em sua composição toque ou seja tocada por alguém ou alguma coisa, a mesma desaparece instantaneamente.

A pseudomatéria que este encanto infunde nas ilusões tem plena capacidade de interagir com qualquer objeto. Caso a ilusão vá interagir com uma criatura, no entanto, a situação não é tão clara. A matéria criada por este feitiço pode agir sobre uma criatura apenas se esta criatura não perceber que se trata de uma ilusão (ver abaixo). Se a vítima não perceber que se trata de uma ilusão, esta a afetará corno se fosse real, mesmo ao ponto de causar dano na EH e na EF da vítima (este dano é absolutamente real). Se, ao invés disso, ela perceber do que se trata, a ilusão passa a ser incapaz de causar dano na criatura, tornando-se imaterial para a mesma. Esta imaterialidade, no entanto, não afeta as suas outras propriedades (se a ilusão era opaca, ela continua opaca, etc).

Para uma criatura perceber que algo é na realidade uma ilusão ela deve ter algum motivo para desconfiar. Neste caso, o jogador revela o seu motivo ao Mestre e este fornece um Nível de dificuldade. O personagem deverá fazer um teste contra o atributo Intelecto e caso suceda (e o objeto for de fato uma ilusão) ele consegue se convencer de que o que está sendo visto é uma ilusão. Caso contrário, ele deve continuar a agir como se aquilo fosse real.

Existe uma outra maneira de se provar que alguma coisa é ilusão. O jogador tenta ignorar completamente o aspecto físico do objeto que ele pensa ser uma ilusão (por exemplo: ficar parado e deixar o ogro ""ilusório"" dar uma pancada na EF sem sequer tentar se esquivar; mergulhar de cabeça na parede de pedra ""ilusória""). Caso o objeto ou criatura seja de fato uma ilusão, o jogador tenta o teste com dificuldade Rotineira e, caso obtenha sucesso, percebe que se trata de uma ilusão. Caso o objeto ou criatura não seja uma ilusão ou o personagem falhe no teste, o efeito do ataque ocorre normalmente.

A pseudomatéria que esta magia fornece às ilusões é muito instável. Por isto, se a mesma sofrer mais do que certa quantidade de deformação ela de desintegra. Esta deformação é medida em termos de dano na EF A quantidade de dano na EH e na EF que uma determinada ilusão pode sofrer depende da Dificuldade do Efeito de Ilusões Materiais com que ela foi imbuída.

O evocador pode escolher qualquer Tipo de Defesa (Leve, Média ou Pesada) da ilusão mas o valor máximo é dado na descrição do efeito. Algumas vezes é conveniente escolher um valor menor do que o máximo permitido para não despertar suspeita quanto à verdadeira natureza da ilusão (Um coelho com Defesa P6 ou uma guerreiro vestindo uma couraça metálica com Defesa L1 são coisas bastante absurdas!).

A Coluna de Ataque da ilusão é a mesma, independente da Defesa de quem estiver sendo atacado, embora quem estiver controlando a ilusão possa perguntar assim mesmo, para não dar pista sobre a natureza da magia. Da mesma forma, o Dano Máximo causado pela ilusão não tem nenhuma relação com a sua aparência. Como antes, a forma da ilusão deve ser combinada com a sua aparência de modo a não despertar suspeitas (""O quê! quer dizer que o coelhinho me fez 24 de dano?""). Não adianta fazer uma Hidra de 10 cabeças pois o numero de ataques será 1 por rodada, sendo que o dano é o dado pelo efeito da magia.

A duração e o alcance desta magia são os mesmos que os das ilusões com as quais eles forem evocados, ou até toda a EF da ilusão acabar. Se o último caso ocorrer, toda a ilusão se desfaz (todos os feitiços que compõem a ilusão se desfazem - Som, Odor, Toque etc).

Caso esta magia seja usada com a magia Imagem neste caso a imagem não ataca, não move e nem tem EH, mas terá Defesa e EF).

Apesar da ilusão ter uma capacidade maior de movimento, ela não liberta o evocador da necessidade de se concentrar para fazê-la se movimentar (para isso veja o feitiço Pseudoconsciência).`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.purificacao,nome:"Purificação",niveis:[{id:"0",descricao:"informa se o alimento está impróprio para consumo; se a água é potável; se o ar é respirável ou se o solo está apto ao plantio. Uma outra opção informa se a alma de alguém está sendo influenciada por alguma magia, inclusive revelando qual é a magia.",nivel:1},{id:"1",descricao:"purifica alimento e bebida, inclusive transformando água não potável em potável ou purifica um solo de área 3m x 3m x 3m deixando apto ao plantio, exceto solo desértico e pantanoso. Uma outra opção é criar uma área circular ao redor do evocador, purificando todo o ar que entra apenas para o evocador (a área é móvel e tem duração de 15 rodadas). Uma última opção é fazer a Purificação da Alma contra magias do mesmo nível ou menor.",nivel:2},{id:"2",descricao:"evita que o alimento se deteriore por 1 mês ou faz a Purificação da Alma contra magias do mesmo nível ou menor.",nivel:3},{id:"3",descricao:"purifica um alimento que, quando consumido em situação de descanso, reduz à metade o tempo de recuperação de EF; cria uma área circular ao redor do evocador que purifica todo o ar que entra para até 3 pessoas (a área é móvel e tem duração de 15 rodadas) ou purifica um solo de área 6m x 6m x 6m deixando apto ao plantio, exceto solo desértico e pantanoso. Uma última opção é fazer a Purificação da Alma contra magias do mesmo nível ou menor.",nivel:5},{id:"4",descricao:"idem ao anterior, porém reduz em um quarto o tempo de recuperação da EF; ou purifica o ar para até 5 pessoas; ou purifica uma área de 10m x 10m x 10m, exceto solo desértico. Uma última opção é fazer a Purificação da Alma contra magias do mesmo nível ou menor.",nivel:7},{id:"5",descricao:"idem ao anterior, porém reduz em um sexto o tempo de recuperação da EF; ou purifica o ar para até 7 pessoas; ou purifica qualquer tipo de solo de uma área de 20m x 20m x 20m. Uma última opção é fazer a Purificação da Alma contra magias do mesmo nível ou menor, mas caso seja feito um ritual ao custo de 4 moedas de ouro, a pessoa purificada ficará imune por 1 semana.",nivel:9}],descricao:`Esse milagre purifica alimento, água, ar e terra (solo}, tornando-os adequados para o consumo ou para o plantio. Qualquer ação de veneno, deterioração, gás tóxico, etc, é anulada por essa magia. Cada uso da magia purifica até 5 kg de alimento e até 5 litros de água.

Qualquer corpo enterrado em solo purificado por mais de 1 dia se tornará imune a qualquer magia que crie mortos-vivos, ou seja, não poderá ser animado (o nível da magia deverá ser igual ou menor do utilizado pela magia Purificação, se for maior, conseguirá animar). Os corpos têm que caber na área da magia.

Outro efeito da magia é a Purificação da Alma (a partir do segundo nível): Caso a alma esteja influenciada por magias que alteram o estado do espírito, o efeito desse milagre retorna para o estado Neutro. Caso a alma esteja afetada por magias que manipulem o ser com o intuito de prejudicar, o efeito desse milagre anula a manipulação. O uso da purificação da alma só pode ser usado em uma pessoa, por toque, e o nível da magia oposta deve se igual ou menor ao aplicado. Não é necessário fazer qualquer teste de Resistência a Magia. São exemplos de magia que alteram o espírito: Modificar Espírito, Ódio. Exemplos de magia que manipulam o ser: Maldições, Azar, Possessão e Amizade. Caso haja dúvida quanto ao enquadramento das magias, a palavra do Mestre é a decisão final.

A partir do quinto nível, a magia encanta alimento para potencializar a recuperação da EF. O encanto fica no alimento até ser consumido ou que o alimento estrague.

OBS: Em todos os níveis há varias opções e o evocado só pode escolher uma opção.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:W.putrefacao,nome:"Putrefação",niveis:[{id:"0",descricao:"Causa 12 pontos de dano em um domo de 1 metro de raio.",nivel:1},{id:"1",descricao:"Causa 16 pontos de dano em um domo de 2 metros de raio.",nivel:2},{id:"2",descricao:"Causa 20 pontos de dano em um domo de 2 metros de raio.",nivel:3},{id:"3",descricao:"Causa 28 pontos de dano em um domo de 4 metros de raio.",nivel:5},{id:"4",descricao:"Causa 32 pontos de dano em um domo de 4 metros de raio.",nivel:7},{id:"5",descricao:"Causa 36 pontos de dano em um domo de 6 metros de raio.",nivel:9}],descricao:`Essa magia acelera o processo de decomposição da matéria orgânica viva causando dano em seres vivos que estejam em sua área de efeito.

Após a evocação, uma esfera de energia negra sai da mão do evocador se projetando em direção às vítimas escolhidas pelo místico. Ao alcançar o ponto desejado, a energia se expande rapidamente em forma de um domo atingindo os alvos que estiverem próximos.

Esse encanto é visto com reprovação pela maioria dos povos civilizados, o próprio uso da magia é considerado uma ação maligna e desprezível, criando inimizade imediata de devotos de deuses como Crisagom e Selimom.

Esse encanto não tem precisão, podendo atingir qualquer um dentro da área de efeito.

Note também que certas criaturas não são afetadas por essa magia. São elas: mortos-vivos, elementais e criaturas animadas. De uma forma geral, qualquer criatura que não seja um ser vivo é totalmente imune aos efeitos.

As vítimas que sofrerem 100% de dano na EH ou dano na EF devem fazer um teste de Resistência à Magia ou ficar uma rodada agonizando devido às dores causadas pela magia.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}}]})(gx||(gx={}));var yx;(t=>{t.lista=[{id:W.quebraDeEncantos,nome:"Quebra de Encantos",niveis:[],descricao:`Quebra de encantos serve para desfazer outros feitiços que afetem o evocador ou outros ao seu redor. É claro que o mago deve ser capaz de falar e se mover para evocá-la, ou seja, alguém que tenha sido transformado em orco pode muito bem evocar a quebra de encantos sobre si, mas se esse mesmo evocador estiver sob o efeito de correntes, por exemplo, ele não pode quebrar o encanto já que está imóvel.

O tempo de evocação da magia quebra de encantos é exatamente igual à evocação do encanto utilizado. Assim, para se quebrar a magia Medo, que é instantânea, a evocação da quebra de encantos será instantânea, mas para quebrar Maldições, que se evoca por 3 rodadas, serão necessárias 3 rodadas de evocação e assim por diante.

O nível da magia quebra de encantos determina o nível da magia que ela pode quebrar. Para se quebrar Medo 4 é necessário ter no mínimo Quebra de Encantos 4. Para se quebrar Manipulação de Luz 10 é necessário no mínimo Quebra de Encantos 10.

Para quebrar uma magia, o místico evoca a quebra de encantos, gasta o Karma por essa magia. Se a magia não for uma das que ele pode evocar, é necessário ter que cobrir o Karma utilizado pelo outro místico no encanto. Assim, se algum oponente encantou alguém com Maldiçoes 6 e o evocador não conhece a magia Maldições (não tenha nenhum nível nela) ele precisará usar Quebra de Encantos 6, gastando 6 de Karma, mais 6 de karma da magia do oponente totalizando 12 pontos.

Quando são gastos os pontos de Karma necessários e o tempo de evocação é cumprido, a magia é quebrada, não sendo necessário se fazer nenhum tipo de teste de resistência à magia.

Entretanto, caso o místico queira quebrar um encanto seu, ele não gasta nenhum ponto de karma, desde que tenha a magia quebra de encantos no mesmo nível da magia a ser desfeita.

Exemplo: Um elfo mago que lançou Pesadelo 5 em um anão insolente e queira desfazer o encanto, não precisa gastar qualquer ponto de karma, desde que tenha ao menos quebra de encantos 5 em sua lista de magia.

Note que quebrar magias de duração Permanente, lançadas por outros místicos é uma tarefa muito mais difícil e exige conhecimento total do evocador na magia a ser quebrada. Dessa forma, será necessário que o evocador saiba evocar, em mesmo nível, a magia a ser quebrada. Ou seja, para quebrar a magia Maldições 10 (que é permanente) lançada por um demônio em um companheiro, será necessário que o evocador tenha no mínimo nível 10 na magia Maldições, caso contrário, a magia não poderá ser quebrada.

Uma situação possível é quando o evocador deseja quebrar feitiços provenientes de item mágico. Isto é possível, contudo, o item mágico não perde permanentemente o poder desfeito pelo evocador em um determinado momento.

Exemplo: O mago irritado com o guerreiro que possui uma armadura com a magia Armadura Elemental, portanto é resistente ao seu poderoso raio elétrico, pode querer quebrar essa proteção para poder combater o guerreiro. Se o místico quebrar o feitiço, ainda assim o guerreiro poderá utilizar o poder de novo caso o item mágico faça mais de uma vez por dia o efeito. O místico, por conseguinte, pode também querer quebrar novamente o encanto. As que propriedades mágicas como bônus de ataque, de absorção, de defesa e focus não podem ser quebrados.

Observação: Não é possível quebrar magias com Duração instantânea como bolas de fogo, raio elétrico e etc.

Observação 2: Algumas magias têm certas restrições a serem cumpridas para poderem ser quebradas. Isto está descrito na própria magia.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.VARIAVEL}}]})(yx||(yx={}));var bx;(t=>{t.lista=[{id:W.raioEletrico,nome:"Raio Elétrico",niveis:[{id:"0",descricao:"Causa 16 de dano máximo e o alcance é de 5 metros.",nivel:1},{id:"1",descricao:"Causa 20 de dano máximo e o alcance é de 15 metros.",nivel:2},{id:"2",descricao:"Causa 28 de dano máximo e o alcance é de 30 metros.",nivel:4},{id:"3",descricao:"Causa 32 de dano máximo e o alcance é de 50 metros.",nivel:6},{id:"4",descricao:"Causa 36 de dano máximo e o alcance é de 75 metros.",nivel:8},{id:"5",descricao:"Causa 40 de dano máximo e o alcance é de 100 metros.",nivel:10}],descricao:`Este feitiço cria uma acumulação de energia elétrica nas mãos do evocador, que pode lançá-la contra um adversário que esteja dentro do alcance da magia.

0 raio elétrico criado é bem preciso, atingindo apenas aqueles que o evocador escolher. A partir do efeito 6, o raio pode se bifurcar, acertando até dois alvos simultaneamente. O crítico (que venha a acontecer) é resolvido na tabela de magia.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.raizesMisticas,nome:"Raízes Místicas",niveis:[{id:"0",descricao:"Cria 1 Raiz com EF 10 que perdura por 5 rodadas.",nivel:1},{id:"1",descricao:"Cria 2 Raízes com EF 15 que perduram por 7 rodadas.",nivel:2},{id:"2",descricao:"Cria 2 Raízes com EF 20 que perduram por 10 rodadas.",nivel:4},{id:"3",descricao:"cria 3 Raízes com EF 25 que perduram por 15 rodadas.",nivel:6},{id:"4",descricao:"Cria 3 Raízes com E; 30 que perduram por 30 rodadas",nivel:8},{id:"5",descricao:"Cria 4 raízes com EF 35 que perduram por 45 rodadas.",nivel:10}],descricao:`Com esta magia o mago Naturalista prende ou imobiliza uma criatura através de raízes que surgem do solo em baixo da vítima se enroscando em seus membros. O número de ataques será igual à quantidade de raízes descrita no efeito. Para agarrar as criaturas o mago deve efetuar o ataque na coluna igual ao nível que possuir na magia (o ataque não causa dano}, se atingir 75% ou menos, as raízes retornam ao solo imediatamente.

Para prender uma criatura basta conseguir 100% na EH do alvo. Uma vez preso pelas raízes, o alvo não poderá se locomover do local onde se encontra, mas poderá fazer qualquer outra ação normalmente. Para se libertar é preciso atacar as raízes (com um ajuste de –3 por raiz que o estiver prendendo). A defesa da raiz é L2 ,ou conseguir um teste de força médio, para cada raiz que o prender.

Para imobilizar, é preciso conseguir atingir a EF do alvo. A imobilização não permite que o alvo ataque ou use qualquer habilidade física. Para se soltar das raízes místicas, é preciso um teste de força difícil para cada raiz que o imobilizar.

Se o mago falhar no primeiro ataque, ele deverá fazer os ataques em si mesmo se submetendo aos efeitos da magia (se for o caso). Se a falha acontecer no segundo ataque ou após, será considerado apenas um erro simples.

O numero de raízes, o tempo de permanência, e a Energia Física das raízes variam com a dificuldade do efeito. Seres muito grandes como dragões não são imobilizados pelas raízes sendo no máximo presos a elas.`,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.rastreamento,nome:"Rastreamento",niveis:[{id:"0",descricao:"Direciona intuitivamente o rastreador para uma trilha que atenda a sua busca, por isto o Rastreador deve anunciar ao mestre o que está tentando trilhar. Se a busca for genérica demais a trilha encontrada pode não ser a desejada. A distância maxima da trilha deve ser no máximo de 1 km e o tempo que os seres que deixaram a trilha é no máximo de 4 horas. Um rolamento de Seguir Trilhas (muito difícil) revelará perigos, tais como: armadilhas, buracos, pedras soltas ou outras coisas (inanimadas) que possam representar perigo.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas é possível saber o número aproximado de seres que passaram pela trilha em até 1 dia. O teste para pressentir perigo é Difícil.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas é possível saber o número exato e o tipo aproximado de seres em até 2 dias.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas é possível saber o tipo exatos das criaturas que passaram pela trilha em até 3 dias.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas agora é possível ver a trilha energética deixada pela aura dos seres, esta trilha pode ser seguida em qualquer lugar em até 7 dias. O teste para pressentir perigo é Rotineiro e o bônus em Ações Furtivas é de dois níveis.",nivel:9}],descricao:`Este encanto permite ao evocador obter informações referentes a uma trilha. A informação é obtida sem a necessidade de rolamento da habilidade Seguir Trilhas, mas o uso conjunto com esta habilidade traz alguns bônus conforme vistos nos níveis da magia. É importante frisar que nada impede de utilizar a habilidade Seguir Trilhas para usar as suas capacidades não descritas aqui nesta magia, mas neste caso deve ser feito o teste normal da habilidade.

Exemplo: Dois seres humanoides de tamanho normal, três humanoides grandes, um quadrúpede grande com cascos e um pequeno com garras passaram por aqui há cerca de 2 dias. O teste para pressentir perigo é Médio, e permite pressentir qualquer tipo de perigo.

Exemplo: Um orco, um humano, dois ogros, um trol, um cavalo e um lobo passaram por aqui há cerca de 3 dias. O teste para pressentir perigo é Fácil, permite pressentir qualquer tipo de perigo. Caso passe no teste e pressinta que há inimigos a espreita concede também um bônus de 1 nível na habilidade Ações Furtivas

OBS: Pressentir perigo quer dizer que o rastreador passa estar ciente dos perigos, logo não pode ser surpreendido. Os efeitos da magia perdurarão enquanto o Rastreador estiver seguindo a trilha ou até a duração se esgote. O teste de Seguir Trilhas só pode ser feito uma vez e nenhuma magia ou efeito mágico poderá dar qualquer tipo de de bônus neste teste.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.HORA,valor:12},evocacao:{tipo:G.RODADA,valor:1}},{id:W.recuperacaoFisica,nome:"Recuperação Física",niveis:[{id:"0",descricao:"Curam-se doenças menores (gripes, fraquezas e etc).",nivel:1},{id:"1",descricao:"Neutralizam-se venenos não mortais (que causem sono, fraqueza, torpor e etc).",nivel:3},{id:"2",descricao:"Curam-se doenças fortes de ação prolongada.",nivel:5},{id:"3",descricao:"Neutralizam-se venenos que causam dano mas não morte.",nivel:6},{id:"4",descricao:"Cura qualquer doença.",nivel:7},{id:"5",descricao:"Neutraliza venenos mortais.",nivel:9}],descricao:"Não somente o combate é motivo de mortes. Venenos e doenças também são responsáveis pela queda dos heróis. Este encanto se desfaz esse perigo, curando doenças e neutralizando venenos.",alcance:{tipo:L.TOQUE},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.RODADA,valor:1}},{id:W.refletir,nome:"Refletir",niveis:[{id:"0",descricao:"Reflete magias que sejam de nível máximo 2, dura 5 rodadas ou 1 uso.",nivel:1},{id:"1",descricao:"Reflete magias que sejam de nível máximo 3, dura 10 rodadas ou 1 uso.",nivel:2},{id:"2",descricao:"Reflete magias que sejam de nível máximo 5, dura 10 rodadas ou 1 uso.",nivel:3},{id:"3",descricao:"Reflete magias que sejam de nível máximo 7, dura 10 minutos ou 2 usos.",nivel:5},{id:"4",descricao:"Reflete magias que sejam de nível máximo 9, dura uma hora ou 2 usos.",nivel:7},{id:"5",descricao:"Reflete magias que sejam de nível máximo 10, dura meio dia ou 2 usos.",nivel:9}],descricao:`Com este encanto o mago cria uma aura que é capaz de refletir encantamentos que sejam feitos diretamente contra o mago. O encantamento refletido é devolvido ao evocador original, e o efeito é resolvido normalmente. Este encantamento não funciona contra magias onde o efeito é em uma área, ou que não visam diretamente o mago. Desta forma magias como Bola de Fogo, Meteoros não são afetados pela magia Refletir. Esta magia na verdade não protege o mago, mas sim permite que ele devolva ataques iguais aos seus oponentes. Magias de toque, poderes naturais que não sejam uma magia em especifica e hálitos encantados não são afetadas por esta magia.

Após evocar este encantamento caso o mago receba um ataque de uma magia que necessite de uma Resistência a Magia, ele deve fazer o teste normalmente. Caso falhe, a magia do oponente funcionará e nada será refletido. Caso ele resista, a magia será refletida e o oponente fará sua resistência à magia para não cair no efeito da própria magia. Caso o mago sofra um ataque de uma magia que cause dano, o mago fará um teste extra de Resistência a Magia. Passando ou não no teste o ataque do oponente é resolvido normalmente, mas se conseguir passar na resistência, a magia é refletida para o oponente e este ataque devolvido deverá ser resolvido normalmente.

A magia refletida terá uma força de ataque (ou coluna de resolução) igual ao efeito usado no encantamento. A duração da magia é dada no efeito e é limitada a certo número de usos ou a uma duração (o que vier primeiro). Esta magia não requer concentração, mas o mago não pode controlar quais magias serão refletidas. Cada nível desta magia indica qual nível máximo da magia que será refletida. Caso ele receba um ataque com um efeito maior que o suportado, Refletir não surte efeito, mas também não é contado como uso.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.regeneracao,nome:"Regeneração",niveis:[{id:"0",descricao:"O tempo de cura de qualquer crítico passa a ser 12 horas se ele era maior que esse valor.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas o tempo de cura passa a 1 hora.",nivel:2},{id:"2",descricao:"Elimina cicatrizes e marcas (não mágicas) -não naturais. A magia. demora 1 dia para terminar seu efeito.",nivel:4},{id:"3",descricao:"Regenera problemas menores como: um olho, uma mão, um pé, uma orelha e etc, após 1 dia de efeito. Os Deuses exigem 12 moedas de ouro em sacrifícios por esse ritual.",nivel:6},{id:"4",descricao:"idem ao anterior, mas podem ser regenerados problemas maiores como: braços, pernas, coluna quebrada e etc. Além disso, o ritual passa a exigir um sacrifício no valor de 20 moedas de ouro.",nivel:10}],descricao:"Através desse milagre, o Sacerdote acelera o ritmo de cura do corpo. É possível também usar essa magia para se recuperar partes cortadas, destruídas ou inutilizadas do corpo do indivíduo tocado.",alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.relampagos,nome:"Relâmpagos",niveis:[{id:"0",descricao:"O raio atinge 1 vítima causando um dano máximo de 16 pontos.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas causa 20 pontos de dano.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas causa 28 pontos de dano.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas causa 32 pontos de dano.",nivel:6},{id:"4",descricao:"Atinge até 2 vítimas, causando 36 pontos de dano máximo.",nivel:8},{id:"5",descricao:"Atinge até 3 vítimas, causando 40 pontos de dano máximo.",nivel:10}],descricao:`A magia Relâmpagos atrai raios de tempestades até uma vítima indicada pelo evocador. É importante frisar que este feitiço não cria a tempestade, apenas utiliza seu poder. Sendo assim, é necessário que já existam fortes chuvas ou nuvens negras na região.

Esta magia quando evocada por Sacerdotes, exige que se tenha um bom motivo ou a magia falhará e o sacerdote será penalizado por seu deus por seu descuido com os poderes recebidos, que normalmente implicará na perda de seus poderes, ou mesmo por alguma maldição (o Mestre deverá decidir a melhor forma de punir o sacerdote). Magos ao evocarem esta magia não têm esta restrição.

Outro importante fator è que este encanto não pode ser evocado debaixo de um teto (tem que ser a céu aberto, não dentro de uma estrutura). Sendo assim, o feitiço não pode ser feito de dentro de uma torre (caso o topo da torre seja aberto, o místico pode evocar o encanto de lá).`,alcance:{tipo:L.METRO,valor:100},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.replicas,nome:"Réplicas",niveis:[{id:"0",descricao:"Faz 1 réplica com EH 5, que só poderá realizar tarefas físicas. O tempo de duração é de 5 rodadas",nivel:1},{id:"1",descricao:"Faz 1 réplica com EH 12, que só poderá realizar tarefas físicas. O tempo de duração é de 10 rodadas",nivel:3},{id:"2",descricao:"Faz 2 réplicas com EH 18, que só poderão realizar tarefas físicas. O tempo de duração é de 10 rodadas",nivel:5},{id:"3",descricao:"Faz 2 réplicas com EH 24, que poderão realizar tarefas físicas e evocar magias. O tempo de duração é de 15 rodadas",nivel:7},{id:"4",descricao:"Faz 3 réplicas com EH 30, que poderão realizar tarefas físicas e evocar magias. O tempo de duração é de 20 rodadas",nivel:9}],descricao:`Com esta magia o mago alquímico manipula uma pequena quantidade de matéria retirada de seu próprio corpo para criar réplicas idênticas de si mesmo. O mago deverá sacrificar 2 pontos de sua EF para cada réplica que ele queira fazer. As réplicas poderão realizar qualquer tarefa física que o mago seja capaz se realizar (habilidades e Combate) e nos efeitos mais poderosos elas também serão capazes de evocar magias. O karma gasto pelas magias das réplicas será descontado diretamente do karma do Místico. Caso o tempo de duração da magia se esgote, a cópia se afaste mais de 30 metros do evocador ou a sua EF seja levada a um valor menor que 1, a cópia se transformará em uma nuvem de massa dispersa (igual à descrição da magia “Desintegração”).

O mago poderá agir da forma que quiser com a réplica, como se ela fosse uma extensão de seu próprio corpo.

A Cópia terá EF 2 (não podendo ser aumentada) e sua EH será dada pelo efeito usado. Todos os outros parâmetros serão idênticos os do mago. O número máximo de réplicas que poderão ser feitas em uma evocação, a EH de cada e o tempo de duração da magia varia com a dificuldade do efeito.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:3}},{id:W.resistencia,nome:"Resistência",niveis:[{id:"0",descricao:"Aumenta em 2 pontos na RF e RM, protege contra variações de temperaturas de 0ºC à 60ºC. Além disso, dispensa os 2 próximos rolamentos para fadiga. A duração é de 6 horas. Afeta só o evocador.",nivel:1},{id:"1",descricao:"Aumenta em 3 pontos, protege contra variações de temperaturas de -15ºC à 70ºC. Além disso, dispensa os 3 próximos rolamentos para fadiga. A duração é de 12 horas. Afeta só o evocador.",nivel:3},{id:"2",descricao:"Aumenta em 4 pontos, protege contra variações de temperaturas de -40ºC à 80ºC. Além disso, dispensa os 3 próximos rolamentos para fadiga. A duração é de 24 horas. Afeta o evocador e mais um alvo que o evocador tocar.",nivel:5},{id:"3",descricao:"Aumenta em 5 pontos, protege contra variações de temperaturas de -65ºC à 90ºC. Além disso, dispensa os 5 próximos rolamentos para fadiga. A duração é de 24 horas. Afeta o evocador e mais dois alvos que o evocador tocar.",nivel:7},{id:"4",descricao:"Aumenta em 6 pontos, protege contra variações de temperaturas de -90ºC à 100ºC. Além disso, dispensa os 6 próximos rolamentos para fadiga. A duração é de 24 horas. Afeta o evocador e mais três alvos que o evocador tocar.",nivel:9}],descricao:`Com este encanto, o evocador canaliza uma certa quantidade de energia para tornar a si e a quem ele tocar mais protegidos física e magicamente. Esta magia aumenta temporariamente a RF e a RM por um número de pontos indicados em seus efeitos e concede resistência à fadiga e a temperatura extremas.

Obs: Se a magia for usada novamente antes de seu efeito acabar, o antigo efeito será quebrado e o novo passa a ser o vigente.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA}},{id:W.resistenciaElemental,nome:"Resistência Elemental",niveis:[{id:"0",descricao:"Protege o Rastreador de -5 a 55 graus.",nivel:3},{id:"1",descricao:"Protege o Rastreador de -15 a 65 graus.",nivel:5},{id:"2",descricao:"Protege o Rastreador de -35 a 85 graus.",nivel:7},{id:"3",descricao:"Protege o Rastreador de quaisquer extremos naturais de temperatura.",nivel:10}],descricao:`Este feitiço protege o Rastreador contra extremos de frio e calor de origem natural. O feitiço também protege o Rastreador contra o excesso ou a falta de umidade do ar, tornando-o praticamente invulnerável às condições ambientais. Não é conferida proteção contra nenhum tipo de fogo ou frio mágico, qualquer que seja a sua origem. O grau de proteção conferido ao Rastreador depende do efeito usado.

Cada um dos efeitos deste feitiço tem uma faixa de operação. Caso a temperatura ambiente esteja dentro desta faixa, o Rastreador estará completamente protegido de seus efeitos adversos. Caso a temperatura esteja fora dos limites do efeito usado, o feitiço protegerá o Rastreador por 5 rodadas e então entrará em colapso.

O Rastreador que tem este feitiço, sempre sabe em que efeito se enquadra a temperatura ambiente (ou seja, ele sabe qual o efeito de menor dificuldade o protegerá da temperatura ambiente).

Resistência Elemental. 1: Protege o Rastreador de 5 a 45 graus.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.DIA,valor:1},evocacao:{tipo:G.INSTANTANEA}},{id:W.ressurreicao,nome:"Ressurreição",niveis:[{id:"0",descricao:"O indivíduo morto consegue balbuciar as últimas palavras - uma ou duas frases. O Sacerdote não tem controle sobre o que vai ser falado. A magia deve ser aplicada até uma hora depois da morte do indivíduo ou ela falhará. Só funciona uma vez por morto. A evocação é de 3 rodadas e a duração é de 2 rodadas (o tempo para as frases).",nivel:1},{id:"1",descricao:"Mantém a alma no corpo por mais 24 horas e impede a decomposição, ganhando assim mais tempo. Só pode ser usada uma vez em cada morto e a aplicação deve ser muito rápida: 5 rodadas após a morte, no máximo. A evocação é instantânea.",nivel:2},{id:"2",descricao:"Permite o retomo à vida àqueles que tenham morrido de forma violenta (dano na EF). Certos críticos, porém, impedem este retomo: decapitação, afundamento toráxico que destrói os pulmões e etc. Estes correspondem à faixa cinza do crítico. A criatura que retoma à vida fica com -15 na EF, porém já estabilizada. A magia deve ser aplicada rapidamente: até 5 rodadas após a morte e o recipiente do feitiço deve ter morrido até com -16 na EF. A duração é instantânea e a evocação é de uma rodada.",nivel:4},{id:"3",descricao:"Idem à anterior, mas o recipiente da magia pode ter morrido com até -17 na EF.",nivel:6},{id:"4",descricao:"Idem à anterior, mas a morte pode ter sido por até -20.",nivel:8},{id:"5",descricao:"Idem à anterior, mas a morte pode ter sido por até -25.",nivel:10}],descricao:`Com este milagre, o Sacerdote consegue manter a alma de um morto no corpo e trazê-lo de volta à vida, porém existem muitos limites para este encanto. Criaturas cujas mortes tenham sido demasiadamente violentas (dano muito grande na EF) dificilmente são trazidas de volta. O tempo de morte também influencia no poder necessário à ressurreição.

Este retorno ao mundo dos vivos é raramente permitido aos mortais. Esta outra chance quase nunca é dada mais de uma vez, a não ser aos seguidores fiéis do Deus Cruine.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.restauracao,nome:"Restauração",niveis:[{id:"0",descricao:"restaura objetos com até 5 anos de idade, cujas dimensões não ultrapassem 1m x 1m x 1m. Restaura até 10 pontos de armadura leve, escudo pequeno ou elmo aberto. Restaura armas de categoria Leve. A evocação é de uma rodada.",nivel:1},{id:"1",descricao:"restaura objetos com até 25 anos de idade, cujas dimensões não ultrapassem 3m x 3m x 3m. Restaura 20 pontos de armadura média, escudo grande ou pequeno, ou elmo aberto. Restaura armas de categoria Média. A evocação é de uma rodada.",nivel:3},{id:"2",descricao:"restaura objetos com até 50 anos de idade, cujas dimensões não ultrapassem 5m x 5m x 5m. Restaura 30 pontos de armadura pesada, qualquer escudo, ou qualquer elmo. Restaura armas de categoria Pesada. A evocação é de uma rodada.",nivel:5},{id:"3",descricao:"restaura permanentemente objetos com até 75 anos de idade, cujas dimensões não ultrapassem 10m x 10m x 10m. Restaura permanentemente armas das categorias Leve e Média, bem como equipamentos de proteção descritos nos níveis 1 e 3. O custo do ritual é um terço do valor da arma ou do equipamento de proteção, e 3 moedas de ouro para construções. A evocação é ritual.",nivel:7},{id:"4",descricao:"restaura permanentemente objetos com até 100 anos de idade, cujas dimensões não ultrapassem 15m x 15m x 15m. Restaura permanentemente qualquer arma, bem como equipamento de proteção descrito no nível 5. O custo do ritual é metade do valor da arma ou do equipamento de proteção, e 6 moedas de ouro para construções. A evocação é ritual.",nivel:9}],descricao:`Com esta magia pode-se restaurar objetos que estejam quebrados ou até mesmo destruídos, desde que alguma parte esteja intacta. Pode-se restaurar qualquer objeto ao seu estado original. Quando o objeto for uma construção inicialmente, apenas construções feitas por raças civilizadas podem ser restauradas. A partir do momento que o evocador conhece a construção de outra raça, ele também poderá restaurar. Se caso tenha apenas observado, será necessário passar em um teste de Intelecto (médio) para compreender a construção e poder restaurar.

Entende-se que se classifica por objeto qualquer coisa inanimada criada por uma criatura inteligente, tais como: artefatos, pergaminhos, casas, armas, brasões, mapas, símbolos, ferramentas, armaduras, desenhos, etc. Enfim, há uma gama imensa de possibilidades. Caso haja dúvida em o que pode se enquadrar, a palavra do Mestre é a decisão final.

A magia só pode ser usada uma vez por objeto danificado. Após o efeito, o objeto da magia retorna ao estado em que se encontrava (exceto os níveis 7 e 9, onde os efeitos são permanentes).

Caso o objeto seja restaurado pelos meios convencionais, poderá ser usado novamente a magia, respeitando o ciclo acima. Caso não seja restaurado pelos meios convencionais, o karma será gasto, porém não surtirá efeito.

Cada efeito restaura até uma certa idade, além desta idade não são afetados. Algo totalmente danificado não pode ser restaurado, é necessário que uma parte esteja intacta, mesmo que mínima.

A restauração dos Pontos de Absorção dos equipamentos de proteção deve ser direcionada a até dois itens (toque}, sendo os pontos divididos entre eles, não podendo ultrapassar o valor original. Valores excedentes serão perdidos.

Até o nível 5, o efeito é revertido após 20 rodadas (inclusive equipamento de proteção e armas). O nível 7 e 9 têm efeitos permanentes e é preciso um ritual.

A magia funciona em itens mágicos, porém só restaurará o encanto do objeto se for do mesmo nível (ou inferior) que o efeito usado para restaurar. Caso não seja, o objeto será restaurado, porém o encanto não.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.retencaoMagica,nome:"Retenção Mágica",niveis:[{id:"0",descricao:"Retêm uma magia de nível 1 que será liberada apenas 1 vez. O tempo de duração do encanto é de 1 semana.",nivel:1},{id:"1",descricao:"Retêm uma magia de nível máximo 2 que será liberada apenas 1 vez. O tempo de duração do encanto é de 1 mês.",nivel:2},{id:"2",descricao:"Retêm uma magia de nível máximo 4 que será liberada apenas 1 vez. O tempo de duração do encanto é de 2 meses.",nivel:4},{id:"3",descricao:"Retêm uma magia de nível máximo 6 que será liberada até 2 vezes. O tempo de duração do encanto é de 6 meses.",nivel:6},{id:"4",descricao:"Retêm uma magia de nível máximo 8 que será liberada até 3 vezes. O tempo de duração do encanto é de 1 ano e 1 dia.",nivel:8},{id:"5",descricao:"Retêm uma magia de nível máximo 10 que será liberada até 4 vezes. O tempo de duração do encanto é de 13 anos.",nivel:10}],descricao:`Este feitiço retém uma magia em um objeto, que será liberada quando uma criatura com aura o tocar. Somente objetos relativamente pequenos podem ser encantados (espadas, brasões, cajados, etc.}, caso esta magia seja evocada em uma superfície imóvel (no muro de um castelo ou nas paredes de uma torre) a magia falhará (mas nada impede que a magia seja evocada na maçaneta de uma porta).

Somente magias de atuação direta (“Sono”, “Maldições”, “Doenças”, etc.) podem ser retidas nos objetos. O mago só poderá reter magias que ele conheça, ou magias que estejam assimiladas através do encanto “Assimilação”. Para reter uma magia em um objeto com um efeito assimilado, é preciso que o tempo da assimilação dure até o final da evocação da magia “Retenção Mágica”.

Alguns efeitos desta magia permitem que a magia retida continue em um objeto mesmo após uma criatura tê-lo tocado, nestes casos a magia poderá ser disparada até no máximo o número de vezes indicado no efeito. Se uma criatura resistir á magia e mantiver o objeto em contato com o seu corpo, está deverá realizar uma resistência à magia por rodada até acabar o numero de liberações da magia retida, indicado no efeito.

O custo da evocação desta magia é de 8 moedas de prata por nível de dificuldade usado. O tempo de duração do encanto, o número de vezes que a magia pode ser liberada e o nível máximo da magia retida viria com a dificuldade do efeito.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.retorno,nome:"Retorno",niveis:[{id:"0",descricao:"Expulsa 1 elemental fraco.",nivel:1},{id:"1",descricao:"Expulsa 2 elementais fracos (1 sem resistência a magia)",nivel:3},{id:"2",descricao:"Expulsa 1 elemental médio e 2 elementais fracos (ambos sem resistência a magia).",nivel:5},{id:"3",descricao:"Expulsa 2 elementais médios e 3 de elementais fracos (sem resistência a magia)",nivel:7},{id:"4",descricao:"Expulsa 1 elemental forte, 3 elementais médios (sem resistência a magia) e 5 de elementais Fracos (sem resistência a magia) .",nivel:9}],descricao:`O uso deste encanto obriga um ou mais elementais a retomar ao seu plano de origem. O número e a força dos elementais expulsos variam de acordo com o Efeito usado.

Todos os elementais que estiverem a uma distância do evocador que seja menor do que o alcance da magia poderam ser afetados. Isto inclui, obviamente, os que estejam acima ou abaixo do evocador, mesmo que haja barreiras se interpondo entre eles e o evocador.

Cada nível afeta um número máximo de elementais, caso existam na área de efeito da magia mais elementais que a quantidade máxima afetada pelo nível usado, os mais próximos do evocador são afetados primeiro.

Outra restrição deste feitiço é que cada nível pode afetar apenas elementais até certo tipo. Elementais cujo poder seja maior do que a magia pode afetar simplesmente ignoram o encanto mas, por outro lado, eles também não são contados quando se determina o total de elementais afetados.

O feitiço afeta elementais de qualquer origem, apenas de um tipo ou misturados. Assim, elementais da terra, fogo, ar e água podem ser afetados com um único uso do encanto, desde que as restrições de quantidade e poder sejam respeitadas.

Quando este feitiço é evocado alguns elementais são expulsos automaticamente, sem a necessidade de testes e outros são submetidos a um teste de resistência à magia contra o nível usado, caso sucesso seja obtido nada acontece, mas se o elemental falhar ele será expulso de volta para os planos elementais (ver descrição abaixo).`,alcance:{tipo:L.METRO,valor:100},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.RODADA,valor:1}},{id:W.ritualDeSangue,nome:"Ritual de Sangue",niveis:[{id:"0",descricao:"O Sacerdote aumenta em 1 ponto um Atributo no qual o Inimigo Sacrificado tenha maior que o sacerdote, além de receber duas Capacidades da vítima para adquirir temporariamente (Habilidades, Técnicas de combate, Conhecimento). Duração de 1 dia.",nivel:1},{id:"1",descricao:"Idem ao anterior, porém o sacerdote aumenta 1 ponto em até dois atributos em qual a vítima de sacrifício tenha maior, além de receber 3 Capacidades da vítima para adquirir temporariamente (Habilidades, Técnicas de combate, Conhecimento). Duração de 1 semana.",nivel:3},{id:"2",descricao:"Idem ao anterior, porém o sacerdote aumenta 1 ponto em até três atributos em qual a vítima de sacrifício tenha maior, além de receber 4 Capacidades da vítima para adquirir temporariamente (Habilidades, Técnicas de combate, Conhecimento). Duração de 2 semanas.",nivel:5},{id:"3",descricao:"Idem ao anterior, porém o sacerdote aumenta 2 pontos em um atributo em qual a vítima de sacrifício tenha maior, além de receber 5 Capacidades da vítima para adquirir temporariamente (Habilidades, Técnicas de combate, Conhecimento). Duração de 3 semanas.",nivel:7},{id:"4",descricao:"Idem ao anterior, porém o sacerdote aumenta 2 pontos em dois atributos em qual a vítima de sacrifício tenha maior, além de escolher 6 Capacidades da vítima para adquirir temporariamente (Habilidades, Técnicas de combate, Conhecimento). Duração de 1 mês.",nivel:9}],descricao:`Com este milagre o sacerdote de Crezir oferece a vida do inimigo em batalha como sacrifício à Deusa da Fúria. Com o corpo do inimigo derrotado, o sacerdote consegue retirar as essências de um inimigo morto e trazê-la para si através de um ritual. Como resultado, o sacerdote consegue ficar mais poderoso.

Para que o milagre funcione, é necessário primeiramente que o inimigo morto seja igual ou mais poderoso que o nível do milagre Ritual de Sangue que o sacerdote deseja evocar, ou seja, ele deve possuir estágio igual ou superior ao nível de Ritual de Sangue usado pelo sacerdote. Caso o estágio do inimigo seja inferior ao nível do milagre usado pelo sacerdote, o milagre não funciona. Vale destacar que o milagre não pode ser usado levianamente, ou seja, tem que ser usada em um oponente realmente merecedor.

Para utilizar o milagre é necessário que o sacerdote tenha matado o inimigo ou tenha ajudado a matá-lo. Ou seja, o sacerdote deve ter conseguido atingir, pelo menos, um (1) golpe na EF da vítima. Apesar de não ser necessário que o sacerdote tenha derrotado o inimigo em uma luta justa, é preciso que haja um combate entre o sacerdote e a vítima, ou seja, o inimigo deve ter tido alguma chance de vencer o sacerdote (mesmo que remota). Dessa forma, o milagre falhará se o inimigo tiver morrido em uma situação de completa impotência (o inimigo foi amarrado e golpeado até a morte, foi morto enquanto estava dormindo e etc.) Além disso, é preciso que a criatura morta necessariamente tenha sangue. Outro requisito é que o ritual deve ser iniciado em até 10 rodadas depois da morte do inimigo. Caso esse tempo tenha passado, o ritual não poderá ser utilizado. Após iniciada a evocação do ritual, o sacerdote não poderá ser interrompido ou a magia irá falhar.

Se essas condições descritas forem respeitadas, o sacerdote poderá evocar o ritual, que exige como sacrifício o corpo do inimigo. A duração do milagre é determinada pelo efeito usado. Só podem ser adquiridas as habilidades do inimigo derrotado caso o sacerdote não as possua, por exemplo: O sacerdote não pode ter nenhum nível comprado em Usar Sentidos para adquirir todos os níveis nesta mesma Habilidade de seu inimigo derrotado, não podendo passar de seu nível.

A mesma mecânica do exemplo acima se aplica para Técnicas de Combate, assim o Sacerdote pode adquirir temporariamente alguma Técnica de Combate desde que não tenha nenhum nível comprado nela. Podem ser adquiridas Técnicas de Combate de criaturas, como se o usuário do milagre fosse contaminado pelo espirito da criatura, a critério do Mestre.

Ao preparar o corpo e encaminhar a alma à Deusa, o sacerdote pode conseguir ver pelos olhos do inimigo morto e acessar sua memórias recentes e/ou mais importantes. Na prática, o Sacerdote compreende um conhecimento que podem ser: um segredo, qual seu mestre, localização do covil, uma missão secreta, algo valioso (não necessariamente bem material}, estes são alguns exemplos a critério do Mestre. Conhecimentos de criaturas irracionais, mesmo sendo simples, são adquiridos.

Somente conhecimentos que não envolvam aprendizagem de alguma forma é que não se esvaem junto com o término da magia. Os Atributos, Habilidades e Técnicas de Combate somem ao término da magia seja por Duração, Quebra de Encantos ou uma segunda Evocação deste milagre.

Outro efeito possível dessa magia é o ganho das forças vitais do inimigo pelo Sangue, ou seja, o usuário consegue aumentar temporariamente seus atributos INT, AUR, CAR, FOR, FIS, AGI, PER. A regra para este aumento acontecer é que o Inimigo Sacrificado tenha um valor maior que o usuário da magia no atributo escolhido, valores iguais ou menores não surtem efeitos.

Exemplo: Sacerdote Heitor tem atributos com estes valores: INT 0, AUR 3 , CAR 2 , FOR 1, FIS 1, AGI 0, PER 1. O inimigo Sacrificado tem atributos com estes valores: INT 2, AUR 0, CAR 0, FOR 2, FIS 1, AGI 1, PER 0. Neste exemplo, o Sacerdote apenas conseguiria adquirir 1 ponto a mais em INT, FOR e AGI. Dependendo do efeito da magia, escolheria um, dois ou os três atributos para aumentar.

As capacidades adquiridas pelo Sacerdote ficam a critério do Mestre, cada nível do milagre dá uma quantidade de Capacidades do inimigo morto (2, 3, 4, 5 e 6}, que dentre elas o mestre decidirá quais o sacerdote Receberá. Caso o sacerdote possua todas habilidades e técnicas de seu inimigo ou que não consiga aumentar seus atributos, o inimigo sacrificado não era tão poderoso e não foi aceito pela Deusa, mas algum conhecimento poderá ser adquirido (a critério do Mestre). De qualquer forma, o gasto de Karma ocorre normalmente.

OBS* Note que se o sacerdote já estiver sob o efeito de um ritual de sangue e evocar novamente este feitiço, o encanto mais recente prevalecerá e o antigo será perdido com todos seus efeitos.

Todos efeitos funcionam em criaturas racionais e irracionais, desde que obedeçam às condições de sacrifício.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:1}},{id:W.ruido,nome:"Ruído",niveis:[{id:"0",descricao:"Cria um ruído que causa uma penalidade de –1 coluna.",nivel:1},{id:"1",descricao:"Cria um ruído que causa uma penalidade de –2 colunas. Além disso, as vítimas ficam impossibilitadas de usar qualquer magia cuja evocação seja diferente de instantânea. O mesmo vale para as técnicas de combate.",nivel:2},{id:"2",descricao:"Idem ao anterior mas a penalidade é de –3 colunas e o ruído causa um dano máximo de 4 pontos por rodada (4/3/2/1).",nivel:4},{id:"3",descricao:"Idem ao anterior mas a penalidade é de –4 colunas e o ruído causa um dano máximo de 8 pontos por rodada (8/6/4/2).",nivel:6},{id:"4",descricao:"Idem ao anterior mas a penalidade é de –5 colunas e o ruído causa um dano máximo de 12 pontos por rodada (12/9/6/3).",nivel:8},{id:"5",descricao:"Idem ao anterior mas a penalidade é de –6 colunas e o ruído causa um dano máximo de 16 pontos por rodada (16/12/8/4).",nivel:10}],descricao:`Com a magia Ruído, o evocador consegue produzir um ruído com tal intensidade que tira a concentração daquele que o ouve, recebendo penalidades em qualquer ação que tome. Nos níveis avançados, até mesmo algum dano é causado Todas as pessoas que estiverem na área de efeito deverão fazer um teste de Resistência Física contra o nível usado. Caso passem, receberão as penalidades tais quais estão descritas nos níveis, além dos danos por rodada a serem jogados, caso hajam. Caso não passem, além das penalidades e dos danos as vítimas ficarão a primeira rodada de efeito da magia paralisadas.

Uma importante observação é que o evocador deverá continuar produzindo o ruído para que as penalidades e os danos sejam mantidos. Quando ele parar de produzir o som, automaticamente o feitiço irá parar. O encanto também poderá ser quebrado caso o evocador receba um ataque que lhe cause 100% ou mais na EH ou dano na EF. Uma outra desvantagem é que qualquer pessoa que esteja na área será afetada, inclusive os próprios companheiros do evocador.

O evocador, no entanto, tem a capacidade de alterar o volume do som, permitindo que diminua a área de efeito caso seja de seu desejo. No entanto, o limite máximo é de 15 metros de raio. Observe que essa área ele pode alterar livremente enquanto produz o ruído.

O evocador não poderá fazer qualquer outra ação enquanto estiver usando a magia, como habilidades ou combate, podendo, no máximo, andar rapidamente. Criaturas que tenham uma audição superapurada como morcegos e corujas recebem penalidades dobradas, sendo que animais, em geral, costumam fugir assustados com o ruído. Mortos-vivos e criaturas animadas são imunes ao feitiço. O feitiço ruído pode ser anulado também através da magia Silêncio.`,alcance:{tipo:L.METRO,valor:15},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.runas,nome:"Runas",niveis:[{id:"0",descricao:"Pode ser escrita uma Runa em um local ou objeto imóvel, que quando ativada causa 12 pontos de dano em uma esfera de 2 metros de raio, duração de 1 mês. Pode ser escrita uma Runa em um objeto móvel, se uma outra pessoa tentar pegar o objeto protegido, esta pessoa é obrigada fazer um teste RM. Se não passar no teste não conseguirá tocá-lo durante 1 dia e receberá 9 pontos de dano na EF.",nivel:1},{id:"1",descricao:"Pode ser escrita uma Runa em um local ou objeto imóvel, que quando ativada causa 16 pontos de dano em uma esfera de 4 metros de raio, duração de 3 meses. Como no anterior pode por uma Runa móvel, porém o objeto causa 12 pontos de dano na EF se o alvo falhar na RM. Opcionalmente o objeto tem seu peso reduzido em 1/4 e seu tamanho em 1/2, estes efeitos alternativos duram 12 horas.",nivel:3},{id:"2",descricao:"Pode ser escrita uma Runa em um local ou objeto imóvel, que quando ativada causa 20 pontos de dano em uma esfera de 6 metros de raio, duração de 5 meses. Como no anterior, mas o dano é de 15 pontos na EF, e possui uma segunda opção de camuflar o objeto durante todo o dia ou durante toda a noite, +6 de bônus em Ações Furtivas para escondê-lo. Os efeitos opcionais duram 12 horas.",nivel:5},{id:"3",descricao:"Pode ser escrita uma Runa em um local ou objeto imóvel, que quando ativada causa 28 pontos de dano em uma esfera de 8 metros de raio, duração de 7 meses. Como no anterior, porém o dano causa 17 pontos de dano na EF, os bônus para esconder com ações furtivas passam para +10 e opcionalmente tem seu peso reduzido em 1/2 e seu tamanho em 3/4. Estes efeitos opcionais duram 24 horas.",nivel:7},{id:"4",descricao:"Pode ser escrita uma Runa em um local ou objeto imóvel, que quando ativada causa 32 pontos de dano em uma esfera de 10 metros de raio, duração de 1 ano e um dia.",nivel:9}],descricao:`A magia Runa permite ao evocador colocá-las em objetos móveis e imóveis, uma marca escrita que serve como guardiã.

Esta Runa (tipo de escrita antiga) guarda um encanto (escolhido dentre dois tipos de encantos) que se ativam conforme cada tipo de Runa. Após ativação, ela dura a quantidade de tempo descrita no efeito.

As runas podem ser escritas em objetos móveis e imóveis normalmente, o evocador ou o alvo mantém consigo o objeto marcado com uma runa. O evocador pode escrever uma Runa com no mínimo 10 cm, portanto o objeto ou local escolhido deve ter tamanho suficiente para caber esta escrita, por conta da quantidade de Karma e poder envolvido no ritual.

Cada nível da magia Runas possui dois tipo de encantos, um fixo e um móvel:

O tipo fixo da magia é um ritual que grava uma escrita em um local ou item que tem que permanecer imóvel, como uma armadilha, que ao mínimo movimento ou toque direto irá ativar seu efeito, o elemento do dano é escolhido durante o ritual entre: explosão de fogo, disparos de setas de gelo, corrente de raios ou impactos por rochas. Distância mínima para esse tipo de Runas é de 20 metros entre elas.

No tipo móvel o evocador instantaneamente grava em um objeto no qual possa carregar consigo de modo que se beneficie de seus efeitos. Este efeito não se ativa se o possuidor do objeto escrito com Runas entregar de vontade própria o objeto para outra pessoa OU encostá-lo propositalmente em outra pessoa na intenção de lhe causar dano.

Observações:

- No caso de uma runa móvel.

Apenas um objeto por pessoa poderá conter os efeitos de Runas móveis, caso utilize duas vezes essa magia para o mesmo alvo, o efeito antigo se esvai. Os efeitos da magia que reduzem tamanho e peso são opcionais, para que o evocador possa colocar em uma espada e ela não perca suas propriedades com a diminuição (vire um punhal, por exemplo}, que uma armadura e elmo caibam normalmente ou que um escudo não perca sua proteção normal.

- No caso de uma runa fixa.

Caso seja criado uma Runa fixa a menos de 20 metros da outra fixa, a magia nova sempre irá sobrepor a antiga, mesmo se o nível for menor, a antiga se esvai.

Como no anterior, porém causa 20 pontos de dano na EF e se o objeto for perdido ou roubado, o mesmo volta à mão do seu dono apenas com força do pensamento, não gasta sua ação, porém se caso o objeto já esteja em posse de outra pessoa, a RM será contra o novo possuidor do objeto, que se falhar perde a posse e o objeto volta às mãos do seu dono, estes novos efeitos duram 24 horas.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}}]})(bx||(bx={}));var _x;(t=>{t.lista=[{id:W.sacrificio,nome:"Sacrifício",niveis:[{id:"0",descricao:"O sacerdote sacrifica 10% pontos de sua EF para ganhar 2 pontos de Karma.",nivel:1},{id:"1",descricao:"O sacerdote sacrifica 20% dos pontos de sua EF para ganhar 4 pontos de Karma.",nivel:2},{id:"2",descricao:"O sacerdote sacrifica 40% dos pontos de sua EF para ganhar 8 pontos de Karma (que pode ser doado todo ou em parte a outro místico) ou aumentar em 16 pontos de EF de outra pessoa.",nivel:4},{id:"3",descricao:"O sacerdote sacrifica 60% dos pontos de sua EF para ganhar 12 pontos de Karma (que pode ser doado todo ou em parte a outro místico) ou aumentar em 24 pontos de EF de outra pessoa.",nivel:6},{id:"4",descricao:"O sacerdote sacrifica 80% dos pontos de sua EF para ganhar 18 pontos de Karma (que pode ser doado todo ou em parte a outro místico) ou aumentar em 36 pontos de EF de outra pessoa.",nivel:8},{id:"5",descricao:"O sacerdote sacrifica 100% dos pontos de sua EF para ganhar 24 pontos de Karma (que pode ser doado todo ou em parte a outro místico) ou aumentar em 48 pontos de EF de outra pessoa.",nivel:10}],descricao:`Conhecidos por sua extrema bondade e desejo de paz, os sacerdotes de Selimom são capazes de passar por grandes sofrimentos em prol dos seus semelhantes. Muitas vezes para evitar um conflito eles utilizam poderes cedidos por seu Deus. Os Sacerdotes de Selimom são capazes de realizar um milagre sem seu Karma, para isto encontram na flagelação do próprio corpo uma fonte de Karma. Sim, mesmo com seu Karma esgotado o sacerdote poderá convocar o milagre Sacrifício, que lhe dará pontos de Karma para serem gastos em até uma hora em milagres que existam na sua lista de magias. Note que não é necessário que todo seu Karma tenha se esgotado para que esta magia seja evocada, já que ela pode ser usada para completar um Karma que falta para uma determinada magia. Outra capacidade deste milagre é de transferir a energia vital (EF) do sacerdote para outra pessoa, mas neste caso o Karma deve ser gasto normalmente. Na doação de EF, quem recebe ganha muito mais que a EF sacrificada, podendo ir além do máximo, mas após o término da duração, a EF que estiver além do máximo é perdida.

Uma possibilidade permitida é que o milagre Sacrifício pode ser ser convocado conjuntamente com outro milagre, mas o Karma não utilizado deve ser gasto em até uma hora. Deve-se observar que o sacerdote perde EF oferecendo sua vitalidade ao seu deus como uma oferenda, por essa razão o sacerdote que evocar este milagre não poderá recuperar os pontos perdidos usando qualquer tipo de magia, devendo se recuperar de forma normal. Mas nada impede o uso de poções mágicas e ou qualquer outro objeto mágico. A habilidade de Medicina pode ser usada.

Caso sua EF fique em zero, o Sacerdote ainda fica de pé e consegue atuar (usar habilidades, magias, etc). Alguns estudiosos acreditam que isto acontece por sua força de vontade ou por uma benção de Selimom. Mas se a redução da EF leve ela a um valor negativo (mas com um valor de até -15}, o Sacerdote entrará em um estado de coma (estável e sem perigo de vida) permanecendo neste estado até que sua EF volte ao normal (maior que zero). Todo Karma não usado é perdido ao término da magia, mas a EF perdida deve ser recuperada como explicado acima. Note que se ele perder exatamente a quantidade de sua EF e ficar com zero, ele não cairá em coma. Caso sua EF vá abaixo de -15 com o uso desta magia ele morrerá, e seu corpo evaporará sendo levado literalmente de corpo e alma para Selimon. Caso o percentual de perda resulte um número quebrado, o valor da perda deve ser arredondado para cima.

Um ponto importante da magia é que deve ser considerada apenas a EF que não inclui o equipamento de defesa, logo só deve ser considerado a EF Básica + Atributo Físico + Atributo Força. Assim, em cada efeito há um percentual perdido que deve ser calculado em cima desta EF Básica + Físico + Força para se determinar se o sacerdote caiu em coma. Esta perda deve ser anotada na ficha, pois nada impede do sacerdote usar esta magia mais de uma vez. Caso ele evoque novamente o percentual de perda deve sempre usar a EF Básica + Físico + Força original do personagem (quando ele não tem dano nenhum). Nos casos que ele já tiver sofrido dano na EF deve-se sempre verificar se já tomou dano no físico real (EF Básica + Físico + Força}, pois é dele que é descontada a perda.

Exemplo: Um sacerdote de Selimon que possui 17 de EF Básica, Força 1 e Físico 1 e usa um Elmo aberto. Ele tem então EF igual a 21 (17+1+1+2). Em uma situação crítica ele evoca Sacrifício 6 o que lhe causa a perda de 60% que corresponde a 60% de 19 (já que não conta o elmo) o que resulta em uma perda de 11,4 que arredondado para cima dá 12, ficando com 7 na EF (sem considerar o elmo) e 9 de EF considerando o elmo. A situação no combate piora e mesmo estando muito mal ele evoca de novo o efeito 6 de Sacrifício, que faz perder de novo 12 de EF. Note que deve ser usado sempre o valor original no cálculo! Como já estava com 7 de EF ele vai para -5 de EF entrando em coma, como descrito acima.

OBS: quando usada para ajudar outra pessoa, esta magia não pode ser usada uma segunda vez na pessoa no período de duração, mesmo que seja feito por outro Sacerdote.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.HORA},evocacao:{tipo:G.INSTANTANEA}},{id:W.sagracao,nome:"Sagração",niveis:[{id:"0",descricao:"abençoa até 3 de frascos de 250ml de água benta (o custo do ritual neste caso já inclui os frascos); ou abençoa uma arma para que ela seja capaz de atingir seres imateriais como fantasmas por uma semana (fica como uma arma magicamente +0); ou protege uma área de raio igual a 10 metros contra demônios e mortos vivos, por uma semana. O ritual custa 5 M.P. em qualquer um dos casos.",nivel:1},{id:"1",descricao:"uma arma se toma magicamente +1; ou um objeto se torna um fócus +3; ou item de proteção ganha absorção +2; ou protege uma área de raio igual a 20 metros contra demônios e mortos vivos. Em qualquer desses efeitos a duração é de 1 mês e o ritual custa 1 M.O..",nivel:2},{id:"2",descricao:"uma arma se toma magicamente +2; ou um objeto se torna um fócus +5; ou um item de proteção ganha absorção +4 e defesa +1 (se for armadura ou escudo) ; ou protege uma área de raio igual a 40 metros contra demônios e mortos vivos. Em qualquer desses efeitos a duração é de 3 meses e o ritual custa 2 M.O. e 5 M.P.",nivel:4},{id:"3",descricao:"uma arma se toma magicamente +3; ou um objeto se torna um fócus +7; ou um item de proteção ganha absorção +6 e defesa +2 (se for armadura ou escudo); ou protege uma área de raio igual a 80 metros contra demônios e mortos vivos. Em qualquer desses efeitos a duração é de 6 meses e o ritual custa 5 M.O.",nivel:6},{id:"4",descricao:"uma arma se toma magicamente +4; ou um objeto se torna um fócus +9; ou um item de proteção ganha absorção +8 e defesa +3 (se for armadura ou escudo); ou protege uma área de raio igual a 160 metros contra demônios e mortos vivos. Em qualquer desses efeitos a duração é de 1 ano e o ritual custa 10 M.O.",nivel:8},{id:"5",descricao:"uma arma se toma magicamente +5; ou um objeto se torna um fócus +11; ou um item de proteção ganha absorção +10 e defesa +4 (se for armadura ou escudo); ou protege uma área de raio igual a 240 metros contra demônios e mortos vivos; ou idem efeito 8 para o caso de itens, mas o sacerdote pode colocar junto ao efeito um milagre de seu conhecimento de efeito máximo igual a quantidade de Karma usado. Tal milagre será usado somente uma vez em uma situação de extrema necessidade (escolhida pelo jogador que estiver controlando o item) e depois o item fica como um item do efeito 8. Em qualquer desses efeitos a duração é de 1 ano e o ritual custa 15 M.O.",nivel:10}],descricao:`Sagração

Este milagre faz com que objetos normais recebam capacidades mágicas temporárias. Os itens encantados através desse feitiço têm que ter um propósito específico (expulsar os orcos do templo, matar o gigante líder da tribo, etc). Objetivos genéricos criados apenas para perdurar o efeito (destruir o mal, acabar com todos os Orcos de Tagmar, etc) fazem a magia falhar. A magia acaba quando o propósito for cumprido ou quando se esgotar a duração, o que acontecer primeiro. Só é permitido aos Sacerdotes manter consagrados um total de 3 objetos simultaneamente. Além desse limite a magia só pode voltar a ser evocada quando algum deles voltar a ser um item comum (cumpriu seu objetivo, a duração acabou ou a magia foi quebrada). Os itens podem estar distribuídos entre personagens diversos e/ou com o próprio sacerdote, porém situações exageradas podem ter a consagração negada pela divindade a critério do Mestre, caso ache que o sacerdote está criando objetos com um propósito leviano. Para detalhes sobre os itens mágicos ver Livro de Regras.

Além da capacidade de encantar objetos, a magia permite ao sacerdote consagrar o solo ou a água ao seu deus, de forma que se tornam poderosos contra seres como demônios e mortos vivos, conforme o tipo de efeito escolhido:

A água consagrada se torna água benta permanentemente, até que seja usada.

Um solo consagrado exerce uma força contra demônios e mortos vivos. Demônios e mortos-vivos têm que ter sucesso em suas Resistências à Magia contra a Força de Ataque de magia do conjurador deste milagre para poder entrar nas terras sagradas, e se falharem irão fugir para o mais longe que puderem durante 1 dia.

Ao escolher um nível de efeito o evocador só pode escolher uma das possibilidades descritas no efeito.

OBS: os itens de proteção são escudos, elmos e armaduras e os bônus deles não se acumulam num mesmo personagem, permanecendo o bônus maior. A Água abençoada Causa 1 de dano na EF ou 4 na EH, e reduz em 1 a RM (mas "não acumula"). Funciona contra demônios e mortos vivos.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.santuarioNatural,nome:"Santuário Natural",niveis:[{id:"0",descricao:"cria um santuário capaz de proteger 3 pessoas e torna o santuário invisível para animais, animais gigantes e animais sombrios.",nivel:1},{id:"1",descricao:"cria um santuário capaz de proteger 3 pessoas e 3 cavalos. Nenhum som de dentro do santuário se propagará para fora, ou seja, pode-se conversar dentro do santuário que ninguém ouvirá de fora. Além do efeito do nível anterior, torna o santuário invisível para raças civilizadas e selvagens; criaturas artificiais e místicas.",nivel:3},{id:"2",descricao:"idem ao anterior, mas cria um santuário para 4 pessoas e 4 cavalos e neste nível também inibirá o cheiro. Torna também invisível para elementais e mortos vivos.",nivel:5},{id:"3",descricao:"idem ao anterior, mas cria um santuário para 6 pessoas e 6 cavalos, além do evocador pode fazer teste de Usar os Sentidos para uma área de até 10 metros de raio, exceto se estiver dormindo. Também torna o santuário invisível para monstros e hidras.",nivel:7},{id:"4",descricao:"idem ao anterior, mas cria um santuário para 7 pessoas e 7 cavalos e torna também invisível para dragões e criaturas infernais.",nivel:9}],descricao:`Ao utilizar essa magia, o evocador toca o local e faz surgir um santuário capaz de proteger pessoas e/ou animais contra os perigos ambientais (chuva, sol, inundações, desabamentos, terremotos, etc.). A magia tem efeito apenas em ambientes naturais, exceto dentro de lagos, rios ou oceanos (nesses lugares, a magia não funciona). Desta forma, assim que executar a magia, o terreno natural se adapta criando um santuário: o solo é moldado, raízes se erguem, buracos se abrem na rocha, galhos e folhagens se entrelaçam, etc. Enfim, as possibilidades são imensas e o Mestre irá informar o que foi criado de acordo com a descrição do local.

O santuário fica ativo por 10 horas. Após esse período, ele se desfaz sem deixar rastro. O evocador tem total conhecimento do tempo, sabendo exatamente quantos minutos faltam para encerrar. Caso seja da vontade dele, pode ser encerrado a qualquer hora. Caso for deixado qualquer objeto dentro do santuário ou se tiver alguém quando terminar o tempo, o santuário irá passivamente expulsar tudo que está dentro. Por exemplo, caso a forma definida pelo Mestre seja uma caverna em uma montanha, a rocha se moldou de fora para dentro. Logo, ao se desfazer o encanto, ela tomará o caminho inverso: de dentro para fora: e irá expelir quem ou o quê estivesse no santuário, sem causar dano.

É importante frisar que essa magia não pode ser usada para alterar estruturas artificiais que estejam no local.

E um último efeito da magia é tornar o santuário invisível para determinadas espécies caso fracassem em uma RM (a força de ataque deverá ser baseada no maior nível que o evocador possuir na magia). Caso passem, o santuário ainda apresentará os efeitos de acordo com os níveis: inibição de cheiro, som, e a possibilidade do evocador usar os sentidos, mas estará visível para tais criaturas.

A forma de como se tornará invisível, ou seja, imperceptível para essas criaturas, irá depender do tipo de santuário criado: ilusão para disfarçar a entrada do santuário (se numa caverna ilusões de rochas, se numa árvore ilusões de raízes}, mimetização do ambiente, ou até mesmo a invisibilidade. O mestre dirá de que forma ficará camuflado o santuário de acordo com o tipo de formação criada no ambiente.

Algumas criaturas conseguem sobrepujar o efeito de invisibilidade, devido ao vasto poder (dragões imperiais, por exemplo) e/ou profunda ligação com a natureza (licantropos e criaturas vegetais, por exemplo).`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.HORA,valor:10},evocacao:{tipo:G.RODADA,valor:10}},{id:W.seducao,nome:"Sedução",niveis:[{id:"0",descricao:"paralisa por duas rodadas ou reduz um nível de dificuldade em uma habilidade de interação social.",nivel:1},{id:"1",descricao:"paralisa por três rodadas ou seduz o alvo para que este faça sua vontade por 1 hora, desde que não ponha em risco sua vida, não prejudique os outros, nem seja contra a lei e que esteja a seu alcance ou ainda, reduz dois níveis de dificuldades em uma habilidade de interação social.",nivel:3},{id:"2",descricao:"paralisa por quatro rodadas ou reduz três níveis em uma habilidade de interação social.",nivel:5},{id:"3",descricao:"paralisa por seis rodadas ou seduz o alvo para que este faça sua vontade por oito horas, desde que não ponha em risco sua vida, nem seja contra a lei e o alvo fará de tudo para ficar a seu alcance ou ainda, reduz 5 níveis de dificuldade em uma habilidade de interação social ou torna Muito Difícil algo que seria Impossível.",nivel:9}],descricao:`Ao evocar essa magia, o alvo passa a ver no evocador um ser de beleza incrivelmente estonteante. Tal visão irá impactar o alvo de modo que ele não conseguirá fazer mais nada, ficando paralisado. Outro efeito da magia é tornar o evocador mais sedutor ao ponto de conseguir tirar vantagens no alvo da magia (efeito sedução). E um último efeito, é reduzir o nível de dificuldade em habilidades que se utilizam de interação social. São essas três habilidades que esse milagre afeta: Empatia, Persuasão ou Extrair Informação (essa última, desde que que não seja usada algum tipo de agressão física}, e apenas uma poderá ser escolhida.

Nos efeitos paralisante e sedução, o alvo terá direito a uma RM. Já na redução do nível de habilidade, não precisa de RM e a ação ocorrerá conforme as regras da habilidade. Mas em todos os casos, o evocador deverá escolher apenas um efeito de acordo com o nível na hora de lançar a magia.

A magia só funciona em raças civilizadas. O efeito paralisante e a redução da dificuldade da habilidade de interação social independem do sexo do alvo. Mas para o efeito sedução funcionar, será necessário descobrir a preferência sexual do alvo. Essa informação será dada no momento que lançar a magia e o alvo fracasse na RM. Caso a preferência seja por pessoas do mesmo sexo do evocador, a magia funcionará. Caso seja diferente, a magia é interrompida (o karma será gasto normalmente). Contudo, nada impede, caso o evocador queria, de tentar descobrir por outros meios a preferência sexual do alvo, evitando assim, a possibilidade de perder karma. A exceção é o nono nível, que o evocador consegue tirar vantagens do alvo independente da preferência sexual.

O efeito paralisante pode ser usado para interromper uma atividade ou até mesmo para evitar ser atacado em um combate. Caso alguém ataque o alvo sob o efeito da magia, a magia é quebrada. Enquanto durar o efeito, o evocador não poderá atacar ou tomar qualquer atitude que prejudique o alvo.

Sedução 7- paralisa por cinco rodadas ou seduz o alvo para que este faça sua vontade por quatro horas, desde que não ponha em risco sua vida, nem seja contra a lei e que esteja a seu alcance.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.sentidoNatural,nome:"Sentido Natural",niveis:[{id:"0",descricao:"Possibilita o evocador usar 1 sentido em uma área de 50m de raio.",nivel:1},{id:"1",descricao:"Possibilita o evocador usar 2 sentidos em uma área de 120m de raio.",nivel:3},{id:"2",descricao:"Possibilita o evocador usar 3 sentidos em uma área de 300 m de raio.",nivel:5},{id:"3",descricao:"Possibilita o evocador usar 4 sentidos em uma área de 500m de raio. Os testes de Usar os Sentidos são feitos com -1 nível de dificuldade.",nivel:7},{id:"4",descricao:"Possibilita o evocador usar 5 sentidos em uma área de 1000m de raio. Os testes de Usar os Sentidos são feitos com -2 nível de dificuldade.",nivel:9}],descricao:`Com esta magia, o místico pode fundir seus sentidos com a as plantas ao seu redor para obter informações que estejam nas proximidades do local onde se encontra. Para isto ele deve sentar em posição de meditação. Quando a magia é feita, o corpo do evocador entra em transe, e seus sentidos são projetados pela natureza que o cerca. Com esta projeção, os sentidos do místico podem caminhar de planta em planta na velocidade normal de sua VB enquanto eles se movem pela região desde que as plantas não estejam a mais de 5m uma da outra. Na hipótese de seus sentidos depararem com um lugar com ausência de plantas ou com algum obstáculo (pedras, muros, rio largo) ou com uma barreira mágica de qualquer tipo, eles não poderão atravessá-los. Os sentidos "andarão" como se fosse o próprio evocador na sua altura normal. Se um obstáculo requerer algum teste da habilidade (dificuldade Fácil ou maior) para ser transposto, então ele não poderá ser transposto.

Quando desejar o evocador pode interromper a magia e despertar do transe. Durante o transe, qualquer teste de Usar os Sentidos para perceber coisas em volta de seu corpo físico terá um nível a mais de dificuldade para ser feito. Caso seja atacado e seja acertado na EF ou 100% na EH a magia é interrompida.

Quanto maior o nível da magia, maior o alcance e mais sentidos poderão ser usados pelo evocador. A magia não fornece em si nenhuma informação, mas o evocador pode usar a habilidade Usar os Sentidos (a critério do Mestre) para que ele obtenha alguma informação quando não for uma situação de dificuldade Rotineira. O posicionamento dos sentidos do místico será igual ao que seria o seu posicionamento no local em questão. Os testes de Usar os sentido feitos na "caminhada" não possuem penalidades, e nos níveis mais altos possuem bônus.

Esta magia só pode ser usada em ambientes de grande predominância vegetal, como florestas, pomares e etc.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:5}},{id:W.serDeAgua,nome:"Ser de Água",niveis:[{id:"0",descricao:"Doando 1 de EF do sacerdote, ele anima um ser de água com 1 de EF e defesa L0. É necessário no mínimo um copo de água e a criatura criada tem 1 palmo de altura e 200g de peso. A duração é de uma hora.",nivel:1},{id:"1",descricao:"Doando 2 de EF do sacerdote, ele anima um ser de água com 5 de EF e defesa L1. É necessário no mínimo um balde de água e a criatura criada tem 50cm de altura e 5kg de peso. A duração é de 3 horas.",nivel:3},{id:"2",descricao:"Doando 3 de EF do sacerdote, ele anima um ser de água com 35 de EF e defesa L2. Ataca na coluna igual a FA da magia e faz 20/15/10/5 de dano. É necessário no mínimo 50 litros de água e a criatura criada tem 1,5 metros de altura e 50 Kg de peso. A duração é de 6 horas.",nivel:5},{id:"3",descricao:"Doando 4 de EF do sacerdote, ele anima um ser de água com 70 de EF e defesa L3. Ataca na coluna igual a FA da magia e faz 24/15/10/5 de dano. É necessário no mínimo 100 litros de água e a criatura criada tem 2m de altura e 100 Kg de peso. A duração é de 12 horas.",nivel:7},{id:"4",descricao:"Doando 5 de EF do sacerdote, ele anima um ser de água com 140 de EF e defesa L4. Ataca na coluna igual a FA da magia e faz 28/21/14/7 de dano. É necessário no mínimo 200 litros de água de água e a criatura criada tem 2,5m de altura e 200 Kg de peso. A duração é de 1 dia.",nivel:9}],descricao:`Com este milagre, o Sacerdote usa parte da sua força vital (EF) para dar vida a uma quantidade limitada de água. A água animada se comporta como uma criatura humanoide que obedece às vontades do evocador podendo se mover de forma independente do evocador podendo pegar e carregar objetos (suas mãos ficam sólidas para isto). Tarefas mais complexas como manipular alavancas, chaves, fechaduras ou qualquer outra ação que exija movimento de uma mão estão além das capacidades da criatura. O ser de água possui inteligência 0 e por isto não é necessário concentração para manter o milagre, mas em hipótese alguma ele irá afastar para além do alcance, e caso o sacerdote se mova ele se moverá também para tentar manter-se dentro do alcance da magia. Caso a distância entre o Sacerdote e o ser de água seja maior que o alcance da magia o encanto se quebra. O Sacerdote pode interromper a magia no momento que desejar e isto não requer gasto de Karma.

Para que o ser de água seja criado é necessário ter a quantidade de água indicada no nível do efeito. A criatura pode se mover com uma VB de 10 metros por rodada, podendo carregar um peso igual ao seu próprio peso. Ela também pode se espichar tornando-se mais fino até o limite do triplo de sua altura. Ele pode usar este recurso para escalar ou alcançar um local mais alto que sua altura. Outra capacidade é poder passar por buracos e frestas, mas neste caso o tempo para passar pelo buraco (ou fresta) é idêntico que água de igual volume normal levaria (1Kg de água = 1 litro de água).

A partir do estágio 5 a criatura passa a poder combater com seus punhos que ficam também sólidos quando em combate, sendo que a coluna de resolução é igual a Força do Ataque (FA) da magia. Armas normais podem acertá-la, mas armas perfurantes fazem -25% de dano. Caso o sacerdote fique muito ferido (EF<0) o ser de água interromperá o que estiver fazendo para ir proteger o sacerdote. Caso o sacerdote morra, a magia se encerra.

OBS: só é possível animar 1 ser de água por vez, a doação de EF deve ser da EF do próprio corpo do Sacerdote, por isto não pode ser usado EF referente a absorção dos equipamentos de defesa (armaduras, elmos, escudos, etc).`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA}},{id:W.serenidade,nome:"Serenidade",niveis:[{id:"0",descricao:"Aumenta o nível de tranquilidade de tropas aliadas em um raio de 5 metros com centro no evocador, impedindo-as de serem vítimas de magias ou efeitos mágicos que afetem a audição por 5 rodadas OU permite que o evocador não erre (resultado branco) o seu primeiro ataque.",nivel:1},{id:"1",descricao:"Aumenta o nível de tranquilidade de tropas aliadas em um raio de 5 metros com centro no evocador, impedindo-as de serem vítimas de magias ou efeitos mágicos que afetem a audição e visão por 10 rodadas OU torna o evocador imune ao erro comum (todo resultado branco torna-se amarelo}, mas não imune à falha por 10 rodadas.",nivel:2},{id:"2",descricao:"Aumenta o nível de tranquilidade de tropas aliadas em um raio de 10 metros com centro no evocador, impedindo-as de serem vítimas de magias ou efeitos mágicos que afetem a audição, olfato e visão por 10 rodadas OU permite que o evocador, durante a execução de uma nova magia sua, mantenha-se concentrado de tal forma que um ataque que cause 100% de dano na EH não quebrará a evocação do novo milagre, o efeito dura 10 rodadas.",nivel:4},{id:"3",descricao:"Eleva o moral de tropas aliadas em um raio de 10 metros com centro no evocador, impedindo-as de serem vítimas de magias ou efeitos mágicos que afetem visão, audição, tato e olfato por 15 rodadas OU aumenta um nível do ataque do evocador por 10 rodadas (Branco torna-se 25%, 25% torna-se 50%, e assim por diante. A falha permanece e o resultado Azul não se torna crítico).",nivel:6},{id:"4",descricao:"Eleva o moral de tropas aliadas em um raio de 20 metros com centro no evocador, impedindo-as de serem vítimas de magias ou efeitos mágicos que afete qualquer um dos sentidos por 15 rodadas OU aumenta um nível do ataque do evocador por 10 rodadas, sendo possível, inclusive, uma única vez, anular uma falha e torná-la apenas um erro(branco) e permite que o evocador, durante a execução de uma nova magia sua, mantenha-se concentrado de tal forma que um ataque que causaria 100% de dano na EH ou até 50% de dano na EF não quebrará a evocação do novo milagre, mas o crítico quebrará.",nivel:8},{id:"5",descricao:"Eleva o moral de tropas aliadas em um raio de 20 metros com centro no evocador, impedindo-as de serem vítimas da magia Covardia e de magias ou efeitos mágicos que afetem qualquer um dos sentidos por 20 rodadas OU aumenta um nível do ataque do evocador por 15 rodadas, sendo possível, inclusive, uma única vez, anular uma falha e torná-la apenas um erro (branco) e, também uma única vez, tornar um Azul escuro em Crítico. Além disso, permite que o evocador, durante a execução de uma nova magia, mantenha-se concentrado de tal forma que um ataque que causaria qualquer dano na EF não quebrará a evocação do novo milagre, mas o crítico quebrará.",nivel:10}],descricao:`Serenidade é o sentimento daquilo que está tranquilo, calmo e suave. Ter serenidade é expressar suavidade nas ações, mesmo diante de situações adversas e de conflitos.

Este milagre permite ao sacerdote, em situações de conflito ou nas mais diferentes adversidades, manter-se sereno, tranquilo e calmo ou afetar a serenidade de outros ao seu redor tranquilizando-os, desde que não passem em um teste de RM, ou mesmo elevando-lhes o espírito(moral).

Em combate, o encanto preza pela suavidade das ações podendo até fazer com que a tranquilidade e mansidão do próprio sacerdote no manuseio de suas armas evitem que falhas ocorram e, até mesmo, permitam que um crítico aconteça. Além disso, a serenidade adquirida pode inclusive, em níveis mais altos, permitir que a concentração do evocador para lançar novos milagres não seja quebrada, mas o dano recebido é somado normalmente.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:W.sextoSentido,nome:"Sexto Sentido",niveis:[{id:"0",descricao:"Um uso da habilidade Sensitividade sofre um redutor de -1 nível de dificuldade. Duração do efeito é de 1 hora.",nivel:1},{id:"1",descricao:"O Sacerdote sente os intemperes nunca sendo pego de surpresa por uma chuva, nevasca, terremoto ou qualquer desastre natural a quantidade de dias afrente que pode ser visto e de até 1 dia por nível da magia ativa. Dificuldade amarela para sentir os intemperes. Um uso da habilidade Sensitividade sofre um redutor um redutor de -2 nível de dificuldade. Duração do efeito é de 2 horas.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas o redutor para Sensitividade é de -3 (valendo para 2 usos}, e a Duração é de 3 horas. O Sacerdote literalmente sente as emoções das pessoas, sabe se a vítima está feliz, triste, cansada, com dor, com medo etc. Além disso, possui um bom senso de perigo, que o mantém sempre alerta à vida, assim no caso de ser pego numa surpresa parcial ele tem direito a um teste extra em Sensitividade (difícil) para não cair nela. Dificuldade laranja (Médio) para sentir as emoções.",nivel:4},{id:"3",descricao:"idem ao anterior, mas o redutor para Sensitividade é de -4 (valendo para 2 usos}, e a Duração é de 4 horas, e o teste para não ser pego em surpresa é médio e vale tanto para surpresa parcial como completa. O Sacerdote se torna uma pessoa altamente intuitiva. Sente e compreende o que está a sua volta profundamente, indo além do senso comum, podendo perceber se alguém está ou não mentindo. Dificuldade vermelha (difícil) para sentir mentiras.",nivel:6},{id:"4",descricao:"idem ao anterior, mas o redutor para Sensitividade é de -5 (valendo para 3 usos}, e a Duração é de 5 horas, fica imune a surpresa parcial, o teste para surpresa completa é fácil e dificuldade laranja para sentir mentiras. O Sacerdote sente quando as coisas não estão acontecendo como deveriam. Além disto, com um teste de dificuldade azul (Muito difícil) ele consegue sentir perigo (situações que coloque a vida do evocador em risco tais como armadilhas comuns e ou mágicas).",nivel:8},{id:"5",descricao:"idem ao anterior, mas o redutor para Sensitividade é de -5 (valendo para 3 usos}, e a Duração é de 6 horas, fica imune a surpresa parcial ou completa e dificuldade vermelha para sentir o perigo. Além disto, todo rolamento impossível de Sensitividade vira muito difícil (neste caso o bónus de -5 não se aplica).",nivel:10}],descricao:`O sexto sentido é uma percepção extrassensorial, que vai além dos nossos cinco sentidos básicos, visão, audição, paladar, olfato, tato. É uma intuição, que de certa maneira nos permite ter sensações de “clarividência”. Com esse milagre, o Sacerdote expande as capacidades da habilidade Sensitividade permitindo que ela faça coisas além da sua capacidade normal. Em efeitos mais altos o sacerdote consegue prever e até mesmo evitar ataques de surpresa.

A partir do nível 4 a magia irá prevenir ataques em surpresa parcial e ou completa. O Sacerdote pode usar os efeitos anteriores em quanto a magia estiver ativa evocando uma magia de maior nível utilizando se assim do redutor de nível da magia de maior nível respeitando a quantidade de utilizações. Não existe resistência a magia pois não enfeitiça o oponente, apenas o próprio Sacerdote, melhorando sua habilidade. Um efeito extra desta magia é que ela elimina a penalidade por uso de armaduras na habilidade Sensitividade.

Um ponto importante a ressaltar é que a duração da magia que está indicada em cada efeito, só é válida para efeitos que não exigem o rolamento da habilidade Sensitividade. Para os efeitos que usam a habilidade Sensitividade a magia dura até o tempo estipulado ou quando a quantidade de usos for alcançada.

OBS: Tirar 1 no dado sempre seria falha, mas neste caso o evocador pode fazer outra tentativa, porem aumentando a dificuldade estipulada na magia em 2 níveis. Se não obter sucesso a falha acontece. Outro ponto importante é que redutor de níveis de dificuldade só se aplica no uso da habilidade Sensitividade, não se aplicando aos efeitos de saber do clima, das emoções, mentiras, pressentir perigo e de não cair em surpresa, pois estes efeitos têm em cada nível a dificuldade já definida.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:5}},{id:W.silencio,nome:"Silêncio",niveis:[{id:"0",descricao:"Silencia uma área de meio metro de raio em tomo do ponto escolhido.",nivel:1},{id:"1",descricao:"Silencia uma área de 1 metro de raio em torno do ponto escolhido.",nivel:3},{id:"2",descricao:"Silencia uma área de 2 metros de raio em torno do ponto escolhido.",nivel:5},{id:"3",descricao:"Silencia uma área de 3 metros de raio em torno do ponto escolhido.",nivel:7},{id:"4",descricao:"Silencia uma área de 5 metros de raio em torno do ponto escolhido.",nivel:9}],descricao:`Com a utilização deste encantamento, o evocador pode criar silêncio absoluto em torno de um ser ou uma área em volta de um ponto escolhido. Nenhum som se propaga na área de efeito desta magia, em nenhuma direção.

O valor da área de efeito do feitiço depende do efeito escolhido. Caso o evocador decida lançar esta magia contra uma pessoa e essa pessoa resista à magia, o encantamento não tem nenhum efeito. Caso a vítima falhe na Resistência a área do silêncio fica centrada nela, e se move com ela.

Seres que estejam dentro da área do encanto poderão usar apenas magias cuja evocação seja instantânea. Magias que tenham evocação mais longa não poderão ser utilizadas, pois os seus evocadores não poderão fazer o componente vocal da evocação.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.RODADA,valor:5},evocacao:{tipo:G.INSTANTANEA}},{id:W.sono,nome:"Sono",niveis:[{id:"0",descricao:"Faz com que uma vítima fique sonolenta por 2 rodadas.",nivel:1},{id:"1",descricao:"Faz com que uma vítima fique sonolenta por 5 rodadas",nivel:2},{id:"2",descricao:"Induz uma vítima a dormir um sono leve por 10 rodadas.",nivel:3},{id:"3",descricao:"Induz uma vítima a dormir um sono leve por 10 minutos.",nivel:5},{id:"4",descricao:"Faz com que três vítimas fiquem sonolentas por 10 rodadas",nivel:6},{id:"5",descricao:"Induz uma vítimas a dormir um sono pesado por 10 rodadas.",nivel:7},{id:"6",descricao:"Induz uma vítima a dormir um sono pesado por 1 hora.",nivel:9}],descricao:`A magia Sono faz com que uma ou mais vítimas durmam ou sejam acometidas de grande sonolência. Todas as vítimas têm direito de tentar resistir à magia. Aquelas que resistem não são afetadas. Esta magia tem evocação muito discreta e dificilmente o evocador será percebido. Devido a isso e ao efeito da magia, algumas vítimas sequer percebem que sofreram um encanto.

Três tipos de sono são possíveis com essa magia: a sonolência, o sono leve e o sono pesado.

A sonolência é um estado de semi-inconsciência no qual o individuo tem grande dificuldade em perceber o que se passa a sua volta, porém, qualquer barulho, por menor que seja, pode despertá-lo. Caso alguém queira se aproximar de uma vítima sobre efeito de sonolência sem acordá-la, um teste da habilidade “Ações Furtivas” deverá ser efetuado (a critério do mestre do jogo).

Uma vítima em estado de sonolência não esta totalmente inconsciente e reagirá caso seja atacada de maneira óbvia (um ataque direto). Nesta situação ela pode receber um ataque de surpresa parcial com grande facilidade, mas só sofrerá ataques de surpresa completos de atacantes cuja presença ela desconhecia antes de receber a magia.

Em sono leve ou pesado a vítima está realmente dormindo. O sono leve pode ser desfeito por barulhos altos ou toques leves e o sono pesado é desfeito apenas por pancadas na vítima. Uma pessoa em sono pesado não acordará se for tocada, mas movimentos bruscos como tentar amarrá-la ou carregá-la a acordam.

Note que deixar alguém sonolento ou em sono leve durante uma batalha seria inútil pois ele despertaria imediatamente devido ao barulho.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.sorte,nome:"Sorte",niveis:[{id:"0",descricao:"O sacerdote consegue uma pequena ajuda em momentos de necessidade. Sacerdote sem dinheiro encontra uma moeda de cobre no chão pra comprar um pão. Ou então está no meio de uma grande cidade com muita sede e encontra uma fonte de água limpa. A evocação é de 1 rodada e dura 1 hora.",nivel:1},{id:"1",descricao:"Idem ao anterior mas a ajuda pode se dar em ambientes mais inesperados, como encontrar ajuda no meio de uma estrada ou estar perdido em algum lugar não perigoso e encontrar uma pessoa que possa indicar o caminho. A evocação é de 1 rodada e dura 2 horas.",nivel:2},{id:"2",descricao:"Idem ao anterior mas o local pode ser mais inesperado como encontrar um cacto num deserto ou alimentos saudáveis dentro de uma caverna. O sacerdote também poderá encontrar itens comercializáveis mais raros em cidades pequenas (como encontrar materiais para magia) ou ainda será beneficiado em sua viagem com o clima. A evocação é de 1 rodada e dura 2 horas.",nivel:4},{id:"3",descricao:"O sacerdote já conta com uma sorte incrível: se cair de uma ponte não muito alta cairá sobre uma carroça de feno que está passando, se estiver em uma taverna ladrões não irão se importar em rouba-lo a não ser que haja algo que chame muito atenção no sacerdote, serviços especializados e incomuns podem ser encontrados mesmo em locais menos prováveis (encontrar um ferreiro em uma floresta, um médico experiente no meio do estrada, um cartógrafo em uma vila pequena). A evocação é ritual e dura uma semana. Os materiais necessários para a evocação custam 4 moedas de ouro.",nivel:6},{id:"4",descricao:"O sacerdote é dotado de grande sorte. No meio de uma batalha os inimigos são atacados por abelhas que tinham numa colméia próxima, um antigo amigo o encontra e lhe oferece ajuda, armadilhas não muito complexas disparam antes do sacerdote se aproximar delas, um inimigo que quisesse surpreendê-lo tem uma crise de espirro. A evocação é ritual e dura 1 semana. Os materiais necessários para a evocação custam 10 moedas de ouro.",nivel:8},{id:"5",descricao:"O sacerdote é um verdadeiro protegido de seu deus com esse efeito. O sacerdote está sempre na hora certa e no lugar certo. Mesmo as coisas mais absurdas podem acontecer. O sacerdote pode encontrar um item mágico no chão, pode se perder no meio de um deserto e sair andando e chegar exatamente no lugar onde queria, caso tenha sido amaldiçoado encontra facilmente quem possa quebrar sua maldição e esteja disposto a fazê-lo, ao falhar em combate e deixar a arma cair no chão ela pode “quicar” e voltar à mão, ao ser perseguido e atravessar uma ponte ela se quebra imediatamente depois que o sacerdote passou por ela, o sacerdote pode cair em um precipício e um galho de uma árvore prender em sua roupa e salva-lo. Além disso tudo o que o sacerdote resolve fazer tem uma maior chance de dar certo, recebendo –1 nível de dificuldade em qualquer habilidade e a falha em combate passa a ser considerado como erro. A evocação é de 1 rodada e dura 1 hora.",nivel:10}],descricao:`Com este milagre, o sacerdote de Plandis é favorecido por situações incomuns e inesperadas, considerado perante os outros como uma pessoa sortuda. Para a evocação do milagre nos níveis mais altos são necessários materiais para se realizar um ritual cujos valores estão descritos no nível da magia.

Os efeitos descritos são apenas sugestões para os mestres, mas não cobrem todas as possibilidades. Além disso, deve ficar claro que o sacerdote ao evocar o milagre não tem qualquer controle sobre o encanto, sendo o Mestre responsável por determinar os efeitos que ocorrerão. Os efeitos são cumulativos, ou seja, alguém que evoque sorte 8, terá também os efeitos de Sorte 1,2,4 e 6. Observe que mesmo nos efeitos de evocação instantânea a duração não é instantânea, ou seja, não é logo após que o sacerdote evoca o milagre que o evento acontece automaticamente, geralmente leva-se um tempo e aconselha-se que todo evento ocorrido em prol do sacerdote esteja relacionado com a aventura. Além disso, em certas situações o Mestre pode querer evitar certo tipo de ajuda e portanto, ele pode fazer com que o efeito não ocorra. Contudo, apesar do Mestre não ser obrigado a enviar a ajuda, aconselha-se que ele sempre pense em uma maneira de ajudar de acordo com o nível da magia, e de preferência o mais inesperada ou estranha possível.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.VARIAVEL}},{id:W.sosia,nome:"Sósia",niveis:[{id:"0",descricao:"O sósia não tem a capacidade de falar e não pode se afastar mais do que 20 metros do evocador. O ritual custa 2 moedas de ouro. O Sósia vive por 1 mês e possui 2 pontos de karma para evocar Mutação.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas neste nível o sósia passa a poder se comunicar telepaticamente com o mago e adquire a capacidade de fala. Ele não pode se afastar mais do que 50 metros do evocador. O ritual custa 4 moedas de ouro. O sósia vive por 2 meses.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas o sósia passa a ser capaz de evocar 1 magia do mago que o criou com nível máximo 5. Ele não pode se afastar mais do que 70 metros do evocador e possui 5 pontos de karma. O ritual custa 7 moedas de ouro. O Sósia vive por 5 meses.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas o sósia passa a ser capaz de evocar 2 magias do mago que o criou com nível máximo 7. Ele não pode se afastar mais do que 100 metros do evocador e possui 7 pontos de karma. O ritual custa 10 moedas de ouro. O Sósia vive por 8 meses.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas o sósia passa a ser capaz de evocar 3 magias do mago que o criou com nível máximo 10. Ele não pode se afastar mais do que 150 metros do evocador e possui 10 pontos de karma. O ritual custa 14 moedas de ouro. O Sósia vive por 1 ano e 1 dia.",nivel:10}],descricao:`Essa é uma das grandes magias do Colégio do Conhecimento. Estes magos se aprofundaram tanto no conhecimento de si próprios que foram capazes de através da magia, liberar parte de sua essência e fazê-la interagir com o mundo como se fosse um ser vivo. Esse ser nasce do corpo do mago e, por isso, sempre que um Sósia é gerado o mago além de pagar o sacrifício do ritual, perde metade de sua EF, a qual pode ser regenerada normalmente. A EF do sósia gerado é igual à quantidade de EF gasta pelo mago no momento que ele realiza o ritual e não é possível gastar mais EF para melhorar o sósia.

O ritual da magia Sósia é extremamente cansativo e doloroso. No fim do ritual o mago estará totalmente exaurido, precisando descansar por no mínimo 1 dia.

O sósia gerado obedecerá todas as ordens do mago sem hesitar e como ele é parte do mago, de acordo com o nível de efeito usado ele pode compartilhar algumas de suas magias. Em alguns níveis a ligação entre o mago e o Sósia se torna muito forte. Caso haja algum elo mental com o sósia, e esse morrer, o mago perderá novamente metade de sua EF e ficará atordoado por uma rodada. Os magos não costumam colocar seus Sósias em perigo, mas nada os impede de fazê-lo, sendo que estes seres foram gerados originalmente para serem auxiliares do mago.

O sósia tem os mesmos parâmetros que o mago (tamanho, peso, EH, Velocidade, força, agilidade, aura, etc). Em níveis mais altos o Sósia é capaz de usar algumas magias de seu criador, as quais devem ser escolhidas no momento da evocação de Sósia e não podem ser modificadas posteriormente. O tempo de vida de cada Sósia depende do nível do feitiço utilizado. O mago pode aumentar o tempo de vida do sósia realizando novamente o ritual. Um mesmo Sósia pode ser mantido vivo por, no máximo, 50 anos.

A distância que o sósia pode ficar do mago depende também do nível de feitiço utilizado, se a distância entre eles for além do permitido o sósia cairá inerte no chão e só se recuperará quando o mago se aproximar. O Sósia não atacará o seu criador a menos que seja ordenado por este. Um mago não pode ter mais do que 3 Sósias ao mesmo tempo.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RITUAL}},{id:W.sugestao,nome:"Sugestão",niveis:[{id:"0",descricao:"A sugestão pode ter até 3 palavras e durar até 5 rodadas.",nivel:1},{id:"1",descricao:"A sugestão pode ter até 7 palavras e durar até 15 rodadas.",nivel:3},{id:"2",descricao:"A sugestão pode ter até 15 palavras e durar até 1 hora.",nivel:5},{id:"3",descricao:"A sugestão pode ter até 15 palavras e durar até 3 horas.",nivel:7},{id:"4",descricao:"A sugestão pode ter até 45 palavras e durar até 6 horas.",nivel:9},{id:"5",descricao:"A sugestão pode ter até 15 palavras e durar até 24 horas.",nivel:10}],descricao:`Este feitiço permite que seu evocador implante uma sugestão na mente de uma vítima, que tentará cumpri-la diligentemente caso falhe em sua Resistência à Magia. A complexidade da sugestão e a Duração da magia são determinadas pela Dificuldade do efeito usado.

A sugestão será determinada por uma frase cujo número máximo de palavras depende da Dificuldade do efeito usado. As frases devem ser gramaticalmente corretas para que a magia entre em efeito.

Sugestões que vão de encontro à natureza ou às inclinações da vítima dão direito a uma Resistência à Magia por rodada enquanto a mesma estiver sendo cumprida. No momento em que a vítima fizer a sua Resistência à Magia ou a Duração do encanto se esgotar, ela recupera a sua liberdade de ação e percebe que foi enfeitiçada. Sugestões que induzam a vítima ao suicídio simplesmente não são cumpridas.

Se a sugestão não for algo contrário à natureza da vítima, a mesma não perceberá que foi vítima de um encanto mesmo que obtenha sucesso em sua Resistência à Magia.

A Duração deste feitiço é o tempo que a sugestão permanece válida. Ou seja, a sugestão dada à vítima deve ser cumprida dentro deste tempo, ou o encantamento perderá o efeito e não cumprirá a sugestão a não ser que o deseje.`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}}]})(_x||(_x={}));var xx;(t=>{t.lista=[{id:W.telecinese,nome:"Telecinese",niveis:[{id:"0",descricao:"Move 5kg, arrasta 10 kg e derruba 1 5kg. Afeta apenas 1 alvo",nivel:1},{id:"1",descricao:"Move 10kg, arrasta 20 kg e derruba 30kg. Afeta apenas 1 alvo",nivel:2},{id:"2",descricao:"Move 20kg, arrasta 40 kg e derruba 60kg. Afeta apenas 1 alvo",nivel:3},{id:"3",descricao:"Move 50kg, arrasta 100 kg e derruba 150 kg. Afeta até 2 alvos",nivel:5},{id:"4",descricao:"Move 100kg, arrasta 200 kg e derruba 300 kg. Afeta até 3 alvos",nivel:7},{id:"5",descricao:"Move 200 kg, arrasta 400 kg e derruba 600 kg. Afeta até 4 alvos",nivel:9}],descricao:`Esta magia cria uma força invisível capaz de mover objetos. Essa força é mantida pela concentração do evocador.

Essa força pode, basicamente, fazer três coisas: derrubar, arrastar ou mover. ""Mover"" é o controle completo dos movimentos do objeto para cima, para os lados, para baixo, etc. ""Arrastar"" é mover penosamente junto ao solo, e derrubar é apenas tirar o objeto de sua posição de equilíbrio. Os objetos são movidos ou arrastados à velocidade de 5 metros por rodada. Se esse encanto for usado contra um ser com aura, ele tem direito de resistir à magia.

Note que em alguns efeitos desta magia, o evocador pode optar por manipular mais de 1 objeto e/ou criatura com uma só evocação. Quando isso ocorrer, a força da magia atuará sobre a soma das massas dos alvos. Sendo assim, se o efeito 7 for usado contra 3 alvos que pesem respectivamente: 50kg, 60kg e 70 kg. O Maximo que a magia poderá fazer é arrasta-los, já que o valor da soma das massas é igual a 180kg (50+60+70=180kg). Caso a soma dos pesos dos alvos seja superior a capacidade do nível usado, nenhum efeito será aplicado e o karma será gasto inutilmente.`,alcance:{tipo:L.METRO,valor:30},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.RODADA,valor:1}},{id:W.tensao,nome:"Tensão",niveis:[{id:"0",descricao:"Cria uma tensão que confere um bônus de +1 nas jogadas de iniciativa. Ao término da magia, todas as pessoas sob tensão receberão 1 ponto de dano na EH.",nivel:1},{id:"1",descricao:"Cria uma tensão que confere um bônus de +2 nas jogadas de iniciativa. Ao término da magia, todas as pessoas sob tensão receberão 3 pontos de dano na EH.",nivel:3},{id:"2",descricao:"Cria uma tensão que confere um bônus de +3 nas jogadas de iniciativa. Ao término da magia, todas as pessoas sob tensão receberão 5 pontos de dano na EH. Além disso, todos os testes da habilidade Usar os Sentidos terão 1 nível a menos de dificuldade.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas o bônus é de +4 e o dano recebido na EH é 7.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas o bônus é +5 e o dano recebido na EH é 10. Além disso, a tensão gera uma atenção tão grande que a pessoa conseguirá se desviar com mais facilidade de ataques. Na prática todas as pessoas sob tensão ganham +1 na sua defesa.",nivel:9}],descricao:`A música é capaz de provocar diversos sentimentos, entre os quais a tensão. Em um estado de tensão, a pessoa fica mais atenta e cautelosa, calculando muito bem suas ações. No entanto, a tensão não costuma durar muito, normalmente a pessoa após um tempo começa a relaxar. Com a magia Tensão, o evocador toca uma música em seu instrumento ou diz algumas palavras que gerarão uma tensão, de intensidade crescente de acordo com o nível, a todos que estiverem a até 10 metros de distância dele caso falhem na sua Resistência à Magia.

Uma vez tensa, a pessoa estará muito mais atenta, o que na prática, lhe garante um bônus na iniciativa em combate e, nos níveis mais altos, facilita a habilidade Usar os Sentidos.

Observe que as vítimas do encanto podem voluntariamente falhar na Resistência à Magia. Isso geralmente é feito pelos companheiros do grupo que sabem que com sua música, o evocador consegue mantê-los atentos. Outras pessoas, no entanto, geralmente procurarão resistir ao encanto. Vale lembrar que embora essa magia traga benefícios, a tensão é um sentimento ruim e muito incômodo. Na prática, ao final da duração do encanto todas as pessoas sob tensão levarão um dano na EH descrito nos níveis.

Caso a vítima não possua mais EH ou ela chegue a zero com esse efeito, ela deverá fazer uma Resistência Física contra força de ataque igual ao nível da magia. Caso passe, nada lhe ocorrerá. Caso falhe, a vítima receberá uma penalidade de –3 colunas para todas as suas habilidades (físicas, incluindo combate, mentais e sociais). Essa penalidade não pode ser quebrada via Quebra de Encantos, mas é eliminada naturalmente após a pessoa dormir, que é quando, normalmente, mais estará relaxada. A utilização do milagre Curas Espirituais pode também anular efeito desde que recupere uma EH maior do que aquela que a magia faz perder.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.HORA,valor:1},evocacao:{tipo:G.RODADA,valor:1}},{id:W.terremoto,nome:"Terremoto",niveis:[{id:"0",descricao:"Causa tremores leves por isso não apresenta efeitos em combate, mas atrapalha na realização de Habilidades eminentemente físicas como Acrobacias, Escalar Superfícies, (exceção a natação). Na prática aumenta-se um nível de dificuldade para estas tarefas. O alcance é de 15m de raio.",nivel:1},{id:"1",descricao:"Os tremores fazem com que criaturas que pesem menos de 60 kg sofram um ajuste de –3 para combate, Habilidades e evocações. O alcance é de 30m de raio",nivel:2},{id:"2",descricao:"Idem ao anterior, mas o peso é de 90 kg, o ajuste é de –4 e o alcance é de 50m de raio.",nivel:4},{id:"3",descricao:"Os tremores fazem com que criaturas que pesem menos de 240 kg sofram um ajuste de –5 para combate, Habilidades e evocações. Seres que pesem menos de 60 kg devem fazer um teste de Acrobacias fácil para realizar qualquer ataque. O teste deve ser realizado toda rodada. O alcance é de 100m de raio",nivel:6},{id:"4",descricao:"Os tremores fazem com que criaturas que pesem menos de 720 kg sofram um ajuste de –6 para combate, Habilidades e evocações. Seres que pesem menos de 90 kg devem fazer um teste de Acrobacias fácil para realizar qualquer ataque. O teste deve ser realizado toda rodada. O alcance é de 200m de raio, este efeito compromete estruturas pequenas (Ex.: casas e torres baixas).",nivel:8},{id:"5",descricao:"Este terremoto é capaz de levar ao chão estruturas pequenas, causar fendas erosivas no solo e comprometer estruturas medianas como casas grandes e torreões. Os tremores fazem com que criaturas que pesem menos de 1500 kg sofram um ajuste de –7 para combate, Habilidades e evocações. Seres que pesem menos de 240 kg devem fazer um teste de Acrobacias fácil e seres que pesem menos de 90 kg devem fazer um teste de Acrobacias média para realizar qualquer ataque. O teste deve ser realizado toda rodada. O alcance é de 300m de raio.",nivel:10}],descricao:"Esta poderosa magia provoca tremores de terra (não funciona na água) que podem desde atrapalhar o inimigo até derruba-lo. Esta magia é perigosa podendo causar sérios danos às estruturas que estiverem dentro da sua área de alcance. O Evocador não fica imune aos efeitos da magia.",alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.RODADA,valor:15},evocacao:{tipo:G.RODADA,valor:3}},{id:W.toqueGelido,nome:"Toque Gélido",niveis:[{id:"0",descricao:"Causa 12 de dano máximo.",nivel:1},{id:"1",descricao:"Causa 16 de dano máximo.",nivel:2},{id:"2",descricao:"Causa 20 de dano máximo.",nivel:4},{id:"3",descricao:"Causa 24 de dano máximo.",nivel:6},{id:"4",descricao:"Causa 28 de dano máximo.",nivel:8},{id:"5",descricao:"Causa 32 de dano máximo.",nivel:10}],descricao:`Com esta tenebrosa magia o evocador poderá atacar a aura do seu oponente com um toque gélido semelhante ao dos espectros e de outras criaturas maléficas, no entanto o ataque tem efeitos que vão além do dano infligido. A criatura que receber algum dano ocasionado por esta magia sentirá uma tenebrosa sensação de frio. O ataque será resolvido na coluna igual ao nível que o evocador possuir na magia.

Se a dificuldade do dano causado for menor do que 100% então o oponente não foi tocado e somente o dano é aplicado.

Mas caso o mago consiga 100% ou mais na EH de seu adversário ou tenha conseguido causar dano na EF, acontece então um efeito especial: o valor correspondente aos 25% do dano máximo da magia será incorporado a Energia Heróica do evocador podendo exceder o seu máximo. Os pontos que excedam a capacidade máxima do evocador desaparecem após 2 horas.

Caso um ataque acerte a EF do alvo, este deverá fazer uma resistência à magia, caso falhe fugirá do evocador por 10 rodadas. Caso um ser das raças civilizadas seja morto por este feitiço, este deverá realizar uma resistência á magia, caso falhe sua alma será poluída se transformando em um Fantasma após 4 dias.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.INSTANTANEA},evocacao:{tipo:G.INSTANTANEA}},{id:W.transformacao,nome:"Transformação",niveis:[{id:"0",descricao:"Tem Duração de 30 minutos. Permite que se transforme uma criatura em outra semelhante e aproximadamente do mesmo tamanho (cachorro em lobo, humano em orco, etc). O limite de peso é de 120 kg.",nivel:1},{id:"1",descricao:"Tem Duração de 6 horas. Permite que se transforme uma criatura em outra semelhante e aproximadamente do mesmo tamanho (cachorro em lobo, humano em orco, etc). O limite de peso é de 120 kg.",nivel:2},{id:"2",descricao:"Tem Duração de 1 dia. Permite que se transforme uma criatura em outra semelhante e aproximadamente do mesmo tamanho da criatura original (um humano pode ser transformado em um pequenino ou um ogro, etc). O limite de peso é de 120 kg.",nivel:4},{id:"3",descricao:"Tem Duração de 6 dias. Permite que se transforme uma criatura em outra semelhante cujo tamanho seja de metade até o dobro do tamanho da criatura original (um humano pode ser transformado em um pequenino ou um ogro, etc). O limite de peso é de 300 kg.",nivel:6},{id:"4",descricao:"Tem Duração de 1 ano e 1 dia. Permite que se transforme uma criatura em outra da mesma classe (mamífero, réptil, ave ou anfíbio) da criatura original (um humano em um gato, uma águia em um papagaio, etc). O limite de peso é de 300 kg.",nivel:8},{id:"5",descricao:"Tem Duração permanente. Permite que se transforme uma criatura em outra (um humano em um sapo, um papagaio em uma lagartixa, etc). O limite de peso é de 500 kg.",nivel:10}],descricao:`Transformação dá ao evocador o poder de transformar uma criatura em outra, caso falhe em uma Resistência à Magia. A duração deste encanto, o tipo de criatura que pode ser afetado e em que ela pode ser transformada depende do Efeito. Caso a criatura afetada concorde com a transformação não será necessário fazer uma resistência à magia. Mas se não concordar, a magia só funcionará se ela falhar na sua Resistência a Magia.

A criatura em que foi transformada mantém as suas capacidades mentais e seus conhecimentos. Caso a nova forma permita, ela poderá até mesmo usar as suas habilidades e feitiços, a critério do Mestre (um humano transformado em um orco, poderia falar e usar as suas habilidades normalmente, mas um transformado em sapo não conseguiria sequer falar).

A EF e a EH da criatura permanecem inalteradas. Os efeitos de Dificuldade 4 ou menos não têm a capacidade de transformar o equipamento da criatura. Nos efeitos restantes o equipamento se funde ao corpo da criatura transformada (armadura vira pele, espadas viram garras ou unhas, etc).

Cada Efeito pode manipular apenas certa quantidade de matéria ou menos. Tanto o peso da criatura original quanto o da criatura formada devem ser inferiores a este limite de peso. Em nenhum caso se pode transformar uma criatura em uma outra que pese menos de 300 gramas ou metade do seu peso, o que for menor (em outras palavras, não é possível se transformar um humano em uma formiga, mas é possível se transformar uma formiga em outra menor).`,alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:W.transformacaoMetalica,nome:"Transformação Metálica",niveis:[{id:"0",descricao:"Afeta minerais cujas dimensões máximas sejam 10cm x 10cm x 10cm.",nivel:1},{id:"1",descricao:"Afeta minerais cujas dimensões máximas sejam 50cm x 50cm x 50cm.",nivel:2},{id:"2",descricao:"Afeta minerais cujas dimensões máximas sejam 1m x 1m x 1m.",nivel:4},{id:"3",descricao:"Afeta minerais cujas dimensões máximas sejam 2m x 2m x 2m.",nivel:6},{id:"4",descricao:"Afeta minerais cujas dimensões máximas sejam 3m x 3m x 3m.",nivel:8},{id:"5",descricao:"Afeta minerais cujas dimensões máximas sejam 4m x 4m x 4m.",nivel:10}],descricao:"Com esse milagre, o sacerdote de Mon tem a capacidade de alterar a maleabilidade do metal tornando-o mais flexível ou mais rígido conforme o desejo do sacerdote. Assim, o sacerdote pode inclusive manipular um metal flexível entortando-o. Assim pode-se fazer com que uma espada fique completamente torta. Entretanto, se qualquer metal tiver aura imbuída, para a magia funcionar deverá cobrir toda a área. Assim se o sacerdote quer por exemplo entortar a espada de um guerreiro, é necessário que essa magia afete não só a espada como o guerreiro como um todo. Além disso, nesse caso, é necessário que o guerreiro falhe em uma Resistência a Magia para que a espada possa ser entortada. Em contrapartida, metais sem aura, podem ser manipulados em partes, não necessariamente ele todo.",alcance:{tipo:L.METRO,valor:20},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.RODADA,valor:1}},{id:W.transmutacao,nome:"Transmutação",niveis:[{id:"0",descricao:"Transmuta um material de origem vegetal em outro semelhante (uma maçã em pêra, um pedaço de madeira ruim em nobre).",nivel:1},{id:"1",descricao:"Transmuta água em outro líquido ou o inverso.",nivel:2},{id:"2",descricao:"Transmuta um material de origem vegetal em outro de origem vegetal (um galho em uma fruta, um pedaço de madeira em ervas).",nivel:4},{id:"3",descricao:"Transmuta um material de origem vegetal em outro de origem vegetal ou em um líquido (um galho em água, um pedaço de madeira em uma fruta).",nivel:6},{id:"4",descricao:"Transmuta um material de origem mineral em outro de origem mineral (cobre em ouro, mármore em ferro). Caso o evocador queira transformar um material menos nobre em um mais nobre (ex: prata em ouro, pedra em diamante) e o resultado da rolagem for uma falha catastrófica (cor verde}, a mesma quantidade de massa que seria transmutada, será desintegrada do corpo do próprio evocador (a critério do Mestre do Jogo).",nivel:8},{id:"5",descricao:"Transmuta qualquer material em qualquer material, no entanto a restrição para materiais minerais nobres será igual ao do efeito 8.",nivel:10}],descricao:`Com esta magia o mago altera a constituição da matéria transformando um material em outro diferente. Só é possível transmutar materiais de origem mineral ou vegetal, criaturas que tenham o corpo constituído por estes materiais não são afetados pela transmutação. Caso o material a ser transmutado contenha a aura de uma criatura, a Resistência a Magia do material deverá ser realizada.

Só é possível transmutar materiais de massa igual ou inferior a 5kg. Caso o objeto transmutado seja de origem vegetal para vegetal, e o efeito permita, a sua forma poderá ser alterada, mas a massa será a mesma (um galho de arvore poderá ser transmutado em uma fruta). Caso a transmutação envolva material de origem mineral, a sua forma não se alterará (se o metal de uma espada for transformado em madeira, esta continuará na forma de uma espada) a menos que a sua nova constituição seja instável (se a mesma espada do exemplo anterior fosse transformada em água, esta não mais ficaria em forma de espada).

Este feitiço exige um controle muito preciso da matéria a ser transmutada, por isso em certos casos, a evocação desta magia se torna perigosa para o evocador. Materiais de origem vegetal tendem a ser mais fácies de serem transmutados devido a menor densidade, por isso a evocação é segura, mas existem materiais de origem mineral (principalmente nobres) que se mal transmutados, podem ocasionar danos irreversíveis ao evocador, como a perda de uma das mãos ou em casos mais catastróficos braços e pernas. Os riscos de cada evocação estão descritos nos efeitos correspondentes.

Note que para transmutar objetos em outros, é necessário que o evocador conheça o objeto a ser transmutado, caso contrario a transmutação não poderá ser realizada. Transmutar materiais comuns em nobres, exige um rolamento na coluna do nível que o evocador possuir na magia. Quanto maior for a diferença entre a nobreza dos materiais transmutados, maior será a dificuldade do teste para a transmutação (transmutar uma pedra comum em ouro é uma tarefa muito difícil, mas transmutar uma moeda de prata em outra de ouro é uma tarefa fácil).

Outros fatores também poderão influenciar na transmutação, como o conhecimento que o evocador tiver a respeito do material a ser transmutado (transmutar uma folha de macieira em uma erva rara deverá ser uma tarefa fácil para quem conhecer bem a erva em questão, mas uma tarefa difícil ou muito difícil para quem conhecer pouco um quase nada da erva em questão). Muitos serão os casos, mas estes deverão ser tratados da maneira que o mestre do jogo achar mais justo.

A diferença dos materiais que podem ser transmutados varia com a dificuldade do efeito.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.PERMANENTE},evocacao:{tipo:G.MINUTO,valor:10}},{id:W.transporteDimensional,nome:"Transporte Dimensional",niveis:[{id:"0",descricao:"Permite ao evocador transportar instantaneamente um objeto de até 5kg de uma parte de seu corpo (bolso, mãos e etc.) a até 5 metros de distância.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas o objeto pode ter até 20kg e é transportado para 100 metros de distância.",nivel:3},{id:"2",descricao:"O evocador é transportado instantaneamente até 10 metros de distância, podendo levar 50 kg de peso adicional.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas a distância é de 100 metros.",nivel:7},{id:"4",descricao:"O evocador cria um portal entre dois pontos que estejam a até 1 quilômetro de distância um do outro. O portal é um círculo de 2 metros de diâmetro que dura duas rodadas e depois desaparece. Aquele que passar pelo portal é transportado instantaneamente de um ponto para o outro.",nivel:9}],descricao:`O transporte dimensional cria uma distorção no tecido da realidade, ligando dois pontos do espaço, possibilitando assim um transporte instantâneo entre dois locais distantes.

O transporte só pode ser feito entre dois pontos conhecidos do evocador, ou seja, ele tem de estar vendo e ou já ter visto o local para onde deseja ir. Caso este local esteja além do alcance do efeito, a magia falha.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}}]})(xx||(xx={}));var wx;(t=>{t.lista=[{id:W.unidadeNatural,nome:"Unidade Natural",niveis:[{id:"0",descricao:"O sacerdote consegue se camuflar próximo a árvores, fazendo com que ele possua -1 nível de dificuldade em Ações Furtivas.",nivel:1},{id:"1",descricao:"O sacerdote consegue transcender a matéria e se unir a natureza. Ele pode entrar e permanecer dentro de uma árvore, por exemplo. Duração de 5 minutos. Caso a árvore seja atacada, é como se o próprio evocador estivesse sendo atacado, mas mesmo assim sua EH ainda valerá.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas dura 30 minutos.",nivel:5},{id:"3",descricao:"O sacerdote transcendendo a matéria consegue a capacidade de se deslocar entre as árvores misticamente. Na prática, isso funciona como se fosse um transporte dimensional. O evocador poderá se transportar a até 20 metros de distância.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas o evocador pode se transportar a até 200 metros de distância.",nivel:9}],descricao:"Com esse milagre, o sacerdote de Vet é capaz de se unir a natureza, como se fosse um só com ela. Esse milagre, só funciona em locais aonde exista grande vegetação, como em florestas ou bosques. Observe que uma vez unido a natureza, o sacerdote deverá necessariamente perder 1 rodada para romper essa ligação e voltar ao seu estado normal. O sacerdote poderá escolher romper antes da duração da magia acabar, mas de uma ou de outra forma ele sempre gastará uma rodada para romper a ligação, o que impede de se realizar ataques de surpresas. Essas observações valem para os efeitos 1,3 e 5. Já para os efeitos 7 e 9 não é necessário o rompimento, já que a duração da magia é instantânea nesses casos, ou seja, o rompimento é automático.",alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}}]})(wx||(wx={}));var Sx;(t=>{t.lista=[{id:W.velocidade,nome:"Velocidade",niveis:[{id:"0",descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, com -4 colunas e reduzindo 2 níveis. Além disto tem sua VB aumentada em 3. A duração é de 3 rodadas.",nivel:1},{id:"1",descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo -2 colunas e reduzindo 2 níveis. Além disto tem sua VB aumentada em 5. A duração é de 5 rodadas.",nivel:3},{id:"2",descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo 2 níveis. Além disto tem sua VB aumentada em 8. A duração é de 8 rodadas.",nivel:5},{id:"3",descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, com -4 colunas reduzindo 1 nível. Além disto tem sua VB aumentada em 10. A duração é de 10 rodadas.",nivel:7},{id:"4",descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo 1 nível. Além disto tem sua VB aumentada em 15. A duração é 15 rodadas.",nivel:9}],descricao:`Ao evocar essa magia, uma descarga de energia cinética cobre o evocador. Raios percorrem o seu corpo aumentando a sua velocidade de movimentação (VB) e sua velocidade dos golpes, podendo realizar um segundo ataque seguido do primeiro na mesma rodada. Esta magia pode ser evocada durante o combate sem contar como uma ação, mas deve ser declarada antes do rolamento dos dados do primeiro ataque.

O primeiro golpe é rolado normalmente, o segundo golpe realizado com a mesma arma é veloz, porém menos potente, reduzindo assim colunas e níveis do resultado obtido. Resultado mínimo sempre é Branco, mesmo que a redução seja maior ou mesmo que seja falha (neste segundo ataque}, mas caso o primeiro ataque seja uma Falha Crítica a magia é perdida e o segundo ataque não acontece.

Exemplo: O personagem ataca um oponente na coluna 10. Ao usar Velocidade 3 o segundo golpe se dá na coluna 8 (Velocidade 3 reduz duas colunas no ataque). Ao rolar o dado ele tira vermelho (75%}, mas como o efeito reduz 2 níveis, ele obtém 25% de dano no segundo ataque.

OBS: Na rodada que esta magia é evocada não é permitido que o personagem evoque ou tenha evocado outra magia. Nas rodadas subsequentes na qual a magia continua fazendo efeito esta restrição não se aplica e o personagem pode evocar outras magias normalmente.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.ventriloquismo,nome:"Ventriloquismo",niveis:[{id:"0",descricao:"Permite lançar a voz a até 1 metro de distância.",nivel:1},{id:"1",descricao:"Permite lançar a voz a até 3 metros de distância.",nivel:2},{id:"2",descricao:"Permite lançar a voz a até 10 metros de distância.",nivel:3},{id:"3",descricao:"Permite lançar a voz a até 20 metros de distância.",nivel:4},{id:"4",descricao:"Permite lançar a voz a até 30 metros de distância.",nivel:6},{id:"5",descricao:"Permite laçar a voz até 50 metros de distância.",nivel:8},{id:"6",descricao:"Permite laçar a voz até 70 metros de distância.",nivel:10}],descricao:`Esta magia permite que o evocador projete a sua voz, fazendo com que ela pareça estar vindo de qualquer ponto dentro do alcance. O alcance da magia é determinado pela dificuldade do efeito usado.

Enquanto a duração do feitiço continuar, o evocador poderá mover o ponto de onde a sua voz sai à vontade e instantaneamente, desde que este ponto de saída fique dentro do alcance. Esta magia pode ser evocada conjuntamente com qualquer outra magia que altere ou produza som, como por exemplo, Controle da Voz.`,alcance:{tipo:L.VARIAVEL},duracao:{tipo:C.RODADA,valor:15},evocacao:{tipo:G.INSTANTANEA}},{id:W.vigilia,nome:"Vigília",niveis:[{id:"0",descricao:"É possível utilizar a habilidade Usar os Sentidos na coluna 0 enquanto estiver dormindo. Qualquer situação de perigo iminente o acordará.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas será possível utilizar a habilidade Usar os Sentidos em nível normal e Sensitividade na coluna 0.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas será possível utilizar a habilidade Sensitividade em nível normal e caminhar em uma direção previamente determinada (pelos pontos cardeais) enquanto dorme e desviar de objetos que estiverem no caminho.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas será possível também falar e seguir qualquer trajeto a sua escolha (percorrer uma trilha sinuosa na floresta). Além disso, pode-se realizar pequenas tarefas que não exijam um grande esforço mental ou motor (pegar um objeto, apagar uma tocha etc.).",nivel:7},{id:"4",descricao:"Idem ao anterior, mas será possível usar o restante das habilidades na coluna 0 para tarefas que tenham a dificuldade menor ou igual a Rotineiro.",nivel:9}],descricao:`Com este encanto, é possível adquirir a capacidade de dormir sem “desligar” totalmente a consciência, mantendo-se atento mesmo enquanto recupera as energias. Os antigos dizem que a Vigília foi desenvolvida para permitir que qualquer um possa andar sozinho pelas matas durante dias com segurança, sem ser pego desprevenido por uma situação indesejada. Quanto mais alto o nível de vigília, mais atividades poderão ser feitas enquanto estiver dormindo.

As EF e EH serão recuperadas exatamente como se tivesse dormido normalmente durante uma noite inteira (caso não seja despertado da vigília). É possível ficar consciente e interromper a Vigília, então, o encanto será quebrado e as energias recuperadas serão relacionadas de acordo com tempo em que o encanto ficou vigente. Não será possível recuperar Karma algum a menos que a vigília seja completa, neste caso serão recuperados apenas 25% do Karma total.

OBS: caso o personagem não possua as habilidade Usar os Sentidos ou Sensitividade estas serão usadas sempre na coluna -7.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.HORA,valor:8},evocacao:{tipo:G.RODADA,valor:1}},{id:W.vigor,nome:"Vigor",niveis:[{id:"0",descricao:"Soma 5 pontos à EF por 10 rodadas.",nivel:1},{id:"1",descricao:"Soma 5 pontos à EF por 1 hora.",nivel:2},{id:"2",descricao:"Soma 10 pontos à EF por 10 rodadas.",nivel:3},{id:"3",descricao:"Soma 10 pontos à EF por 1 hora.",nivel:5},{id:"4",descricao:"Soma 15 pontos à EF por 10 rodadas.",nivel:7},{id:"5",descricao:"Soma 15 pontos à EF por 1 hora.",nivel:9},{id:"6",descricao:"Soma 15 pontos à EF por 6 horas.",nivel:10}],descricao:`Esta magia causa um aumento de vigor e resistência do corpo. A energia divina aumenta as capacidades físicas a um nível tal que a EF do portador da magia tem um aumento real enquanto o milagre durar.

Repare que isto não é como uma armadura, é aumento da EF que não é absorção! Esta nova energia física será contada como máxima para curas e críticos com relação ao recipiente da magia.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.INSTANTANEA}},{id:W.vinculo,nome:"Vínculo",niveis:[{id:"0",descricao:"alcance de 50m, duração de 30 minutos.",nivel:1},{id:"1",descricao:"alcance de 300m, duração de 1 hora",nivel:2},{id:"2",descricao:"alcance de 1 km, duração de 5 horas",nivel:4},{id:"3",descricao:"alcance de 10 km, duração de 24 horas.",nivel:6},{id:"4",descricao:"alcance de 50 km, duração de 5 dias",nivel:8},{id:"5",descricao:"alcance de 100 km, duração de 10 dias.",nivel:10}],descricao:`Com esta magia o evocador cria um vínculo visual com um alvo, que deve ser das raças civilizadas. A partir daí, sempre que o mago se concentrar, poderá ver o que o recipiente da magia estiver vendo.

Se o recipiente estiver além do limite da magia, o efeito será rompido.

Esta magia também pode ser ligada a alguém involuntariamente (a vítima tem direito a resistir).

Resta lembrar que este poder só afeta o sentido visual. Acima do 8º nível, o mago pode comunicar-se com o recipiente, mas este não pode responder.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.VARIAVEL},evocacao:{tipo:G.RODADA,valor:2}},{id:W.vinculoVital,nome:"Vínculo Vital",niveis:[{id:"0",descricao:"É capaz de vincular a uma criatura.",nivel:1},{id:"1",descricao:"Idem a anterior, mas agora você e suas criaturas recebem 1/5 da RM e RF de seus aliados vinculados.",nivel:3},{id:"2",descricao:"Idem a anterior, mas agora todo dano recebido por você e suas criaturas é reduzido em 1 nível.",nivel:5},{id:"3",descricao:"Idem a anterior, mas agora a soma de RM e RF é de 1/4.",nivel:7},{id:"4",descricao:"Idem a anterior, mas agora o vínculo pode ser usado em até duas criaturas.",nivel:9}],descricao:`Com este poderoso encanto o místico consegue criar um vinculo vital com suas criaturas, sendo capaz de compartilhar sua energia física e mental.

Todo dano aplicado na EF e EH será dividido pelo místico e as criaturas que estiverem vinculadas a ele, caso a divisão do dano venha a ser um número quebrado o alvo do ataque ficar com a maior quantia. No entanto, caso o dano compartilhado exceda 50% da EF dos outros que não sejam o alvo do ataque o dano será aplicado até a faixa de 50% e o encanto colapsa, retornando o resto do dano ao alvo atacado. No caso de crítico, apenas o dano é compartilhado, e críticos que causam morte deixam os vinculados atordoados por uma rodada.

Ex.:

João esta vinculado ao seu lobo Spok, Spok recebe um ataque na EF de 21. João tem 18 EF e Spok 15, Spok ficaria com 11 de dano e João com 10, no entanto João só é capaz de receber 9 de dano, sendo assim o encanto quebra e Spok sofre 12 de dano ao invés de 11.

Ao ser alvo de um encanto que não deseja resistir ou que foi incapaz este compartilhará o efeito com aqueles vinculados. O efeito aplicado em seus aliados vinculados será metade do valor arredondado para cima. Caso seus aliados já estejam sobre o efeito da mesma magia nada acontece.

O custo do ritual é de 1 M.O. por nível. Os materiais também podem ser coletados normalmente pelo místico na natureza, a critério do Mestre. Este estipulará o nível de dificuldade de encontrar os materiais.`,alcance:{tipo:L.METRO,valor:5},duracao:{tipo:C.MES,valor:1},evocacao:{tipo:G.RITUAL}},{id:W.visaoAnimal,nome:"Visão Animal",niveis:[{id:"0",descricao:"A visão noturna permite enxergar em escuridão parcial.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas quando em luz normal permite enxergar o dobro da distância.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas visão noturna permite enxergar em escuridão total e na escuridão parcial enxerga o dobro da distância.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas quando em luz normal permite enxergar o 3 vezes mais longe.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas permite enxergar em escuridão mágica, na a escuridão parcial enxerga o 3 vezes da distância, e na escuridão total enxerga o dobro da distância.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas quando em luz normal permite enxergar o 5 vezes mais longe.",nivel:10}],descricao:`O evocador adquire temporariamente a capacidade de adaptar a sua visão para enxergar no escuro ou (dependendo do efeito) a enxergar mais longe. Na visão noturna, o personagem passa a ver todos os objetos em escalas de cinza. O alcance da visão noturna é igual ao que ela teria caso o local estivesse banhado pela luz do dia. Devido a sua conexão com a natureza o Rastreador quando estiver fora de ambientes naturais não conseguirá mais evocar esta magia, mas se tiver sido evocada antes em ambientes naturais, ela continuará até o limite da duração, mesmo que ele entre em ambientes não naturais.

Para efeitos de regras:

Escuridão Parcial: é aquela em que, apesar de haver luz, a quantidade existente é pequena demais para permitir uma visão nítida.

Escuridão Total: é aquela em que não existe nenhuma possibilidade de enxergar o ambiente ao seu redor.

Escuridão Mágica: é aquela em que é causada por efeitos de magia.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.HORA,valor:12},evocacao:{tipo:G.INSTANTANEA}},{id:W.visaoDeBatalhas,nome:"Visão de Batalhas",niveis:[{id:"0",descricao:"Permite que o Sacerdote veja uma batalha que tenha acontecido em no máximo 24 horas, ou concede um bônus de +1 na sua iniciativa, +2 colunas em técnicas de combate das categorias Proteção, Postura e Perícia. Apenas o sacerdote é afetado neste nível.",nivel:1},{id:"1",descricao:"Permite que o Sacerdote veja uma batalha que tenha acontecido em no máximo uma semana, ou concede bônus de +2 na sua iniciativa, +3 em técnicas de combate das categorias Proteção, Postura e Perícia. Durante o combate o mestre dá uma pequena dica de algo que vai acontecer.",nivel:3},{id:"2",descricao:"Permite que o Sacerdote veja uma batalha que tenha acontecido em no máximo um mês, ou concede ao Sacerdote e mais 1 aliado, bônus de +3 na sua iniciativa, +3 colunas em técnicas de combate das categorias Proteção, Postura e Perícia. Os afetados receberão uma dica do mestre de algo que vai acontecer de importante para o desenrolar do combate.",nivel:5},{id:"3",descricao:"Idem ao efeito anterior, mas o Sacerdote pode ver batalhas acontecidas a 1 ano, ou durante um combate os afetados poderão escapar dos efeitos especiais do primeiro ataque crítico recebido (inutilização de membros, incapacitação e redutores}, mas o dano continua sendo causado e críticos cinza continuam causando a morte do combatente!",nivel:7},{id:"4",descricao:"Idem ao efeito anterior, mas o Sacerdote pode ver batalhas acontecidas a 13 anos ou todos os efeitos afetam o sacerdote e mais dois aliados. A dica recebida será precisa e indicará algo de importância alta que realmente ajude o grupo do sacerdote.",nivel:9}],descricao:`Este milagre pode ser utilizado de duas formas: Observar eventos de uma batalha passada ou uma batalha que está por vir. O sacerdote é capaz de ver uma batalha que tenha ocorrido em determinado lugar, trazendo alguns benefícios ao evocador: conseguir informações da batalha e seus combatentes, quantos eram, que armas utilizaram, que armaduras vestiam e como lutaram, para se prepararem melhor para futuros combates. Para que o milagre funcione desta maneira é necessário que o tempo que a batalha tenha ocorrido não exceda ao permitido pelo nível. Quanto maior o nível, a mais o tempo a batalha pode ter ocorrido. O sacerdote ao evocar o milagre, verá alguns fragmentos da batalha ocorrida. Para que a magia funcione é necessário ter ficado alguma marca de batalha, como uma espada quebrada, um crânio, um elmo etc.

Outro uso desse milagre permite que o sacerdote e alguns aliados recebam durante uma batalha lampejos de visões dos movimentos futuros no campo de batalha. Os afetados não são capazes de prever os resultados dos combates, quem sairá vitorioso ou quem será destruído, esta magia mostra aos combatentes sutilezas instantâneas da movimentação dos indivíduos presentes. Na prática, uma diversidade de bônus pode ser garantida a depender do nível de dificuldade empregado representando a ligeira vantagem concedida pelas visões futuras da batalha.

O mestre deve buscar narrar pequenas cenas futuras do confronto de forma a ajudar os afetados pelo milagre a obter vantagens no combate como visto neste exemplo: A sacerdotiza Mitriel e seus companheiros estão em batalha, sob efeito deste milagre, contra um grupo de demônios. O mestre narra a cena "Mitriel, você tem uma visão onde o demônio líder inicia um voo na tentativa de fugir do alcance de vocês", o jogador que planejava realizar um ataque contra a criatura, muda de ideia e utiliza o milagre Corrente para tentar impedir a fuga. Um segundo exemplo seria: O mago amigo da Mitriel se prepara para lançar contra os demônios, o seu feitiço preferido: Bola de Fogo. O mestre poderia narrar "Você, antes de você iniciar sua evocação, sente os demônios rindo da inutilidade de seu feitiço contra eles".

O mestre também é encorajado a narrar os efeitos mecânicos do milagre como visto neste 3º exemplo: Maquifufim, o guerreiro do grupo, resolve que vai aparar o ataque de uma das criaturas. "O demônio na sua frente prepara as garras e dá-lhe uma estocada na altura do seu pescoço, então sua consciência volta ao presente, instantes antes do ataque! (+3 em aparar)"

O sacerdote pode realizar esse milagre antes de um combate e os efeitos durarão até o fim do próximo confronto, porém se em 30 minutos nenhuma batalha ocorrer, os efeitos serão encerrados.`,alcance:{tipo:L.METRO,valor:10},duracao:{tipo:C.MINUTO,valor:30},evocacao:{tipo:G.INSTANTANEA}},{id:W.visaoDeCena,nome:"Visão de Cena",niveis:[{id:"0",descricao:"O evocador consegue enxergar uma cena curta de 1 minuto que tenha ocorrido a menos de 1 hora atrás. Neste nível a cena é bastante desfocada e um pouco borrada. Tudo que é visto é relativamente borrado, mas é possível distinguir as cores.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas o tempo aumenta para 10 minutos e a cena pode ter acontecido a até 3 horas atrás. Neste nível a cena de uma forma geral não está desfocada mas os seres ainda permanecem um pouco borrados. Agora é possível também distinguir as raças se estas forem bem diferentes umas das outras (EX: Um pequenino de um humano).",nivel:3},{id:"2",descricao:"Idem ao anterior, mas a cena pode ter ocorrido até 6 horas atrás. Neste nível a cena é perfeita e os seres permanecem com um leve desfoque o que impede de serem reconhecidos caso o evocador não os conheça previamente.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas a cena pode ter ocorrido até 12 horas atrás e o evocador consegue identificar os rostos das pessoas mesmo que não as conheça.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas a cena pode ter ocorrido até 1 dia e a cena pode agora pode ser vista claramente e fica ativa por 30 minutos, é possível até fazer leitura labial dos presentes, contudo, não é possível ouvir o som.",nivel:9}],descricao:"Essa magia traz á mente do evocador imagens dos fatos ocorridos no local onde a mágica é realizada. Para que funcione, o evocador deve antes ser bem sucedido num teste de Seguir Trilhas para achar algum rastro. Este ritual permite dar informações apenas visuais sobre as pessoas do rastro encontrado. Como se o evocador estivesse olhando e não ouvindo o que ocorreu no local.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.USO,valor:1},evocacao:{tipo:G.MINUTO,valor:5}},{id:W.visaoMistica,nome:"Visão Mística",niveis:[{id:"0",descricao:"Faz com que o evocador fique com +1 de defesa. O alcance de sua visão duplica e passa ater -1 nível de dificuldade na Habilidade Usar os Sentidos quando usada no alcance normal.",nivel:1},{id:"1",descricao:"Faz com que o evocador fique com +2 de defesa. O alcance de sua visão triplica e passa ater -1 nível de dificuldade na Habilidade Usar os Sentidos quando usada para ver coisas até o dobro da distância normal.",nivel:3},{id:"2",descricao:"Idem ao anterior, e ele pode enxergar tão bem como um anão.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas faz com que o evocador fique com +3 de defesa e passa a ter – 2 níveis de dificuldade na Habilidade Usar os Sentidos quando usada para ver coisa até o dobro da distância normal.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas faz com que o evocador fique com +4 de defesa e passa ver qualquer coisa que esteja invisível.",nivel:9}],descricao:"Com este encanto o evocador concentra-se, fechando seus olhos ao abri-los eles estarão mais leves, rápidos e fixos como os de uma águia. Alguns Magos, do Colégio do Conhecimento depois muito tempo de auto-estudo conseguiram achar um modo de usar este encanto para ver coisas além da capacidade da visão normal ou mesmo para lhes dar vantagem de conseguir prever os ataques inimigos. Todos os efeitos são cumulativos.",alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:10},evocacao:{tipo:G.RODADA,valor:1}},{id:W.visaoNoturna,nome:"Visão Noturna",niveis:[{id:"0",descricao:"Permite visão em escuridão parcial.",nivel:1},{id:"1",descricao:"Permite visão em escuridão total.",nivel:2},{id:"2",descricao:"Permite visão em escuridão de origem mágica.",nivel:4}],descricao:`Este encantamento permite que uma criatura receba a capacidade de ver em condições de pouca luminosidade. A eficiência, da visão obtida depende do Efeito utilizado.

Seja qual for a eficiência, no entanto, o personagem passa a ver todos os objetos em tonalidades de preto e branco. O alcance da visão é igual ao que ela teria caso o local estivesse banhado pela luz do dia. Não há nenhum efeito adverso caso o local seja repentinamente iluminado. Caso isto ocorra, quem estiver sob efeito do encanto passará a enxergar normalmente. Caso a iluminação cesse, mas a Duração da magia não tenha se esgotado, o feitiço entra em ação novamente.

Escuridão parcial é aquela em que, apesar de haver luz, a quantidade existente é pequena demais para permitir uma visão nítida. Nesta categoria se encaixam noites estreladas mas sem lua e cavernas à luz de uma tocha.

Escuridão total é aquela onde não existe nenhuma fonte de luz presente. Um compartimento fechado sem iluminação se encaixa nesta categoria.

Escuridão de origem mágica é, obviamente, aquela que é causada por magia. Um exemplo disso é a causada pela magia Escuridão.`,alcance:{tipo:L.TOQUE},duracao:{tipo:C.HORA,valor:12},evocacao:{tipo:G.INSTANTANEA}},{id:W.visaoTermica,nome:"Visão Térmica",niveis:[{id:"0",descricao:"A visão possui uma qualidade ruim, capaz apenas de identificar pontos de calor de maneira muito desfocada. O evocador poderá se confundir com relação ao número de seres, caso estes estejam muito próximos. A visão afeta até 20 metros de distancia.",nivel:1},{id:"1",descricao:"A visão possui uma qualidade média capaz de identificar pontos de calor de maneira desfocada, porém precisa. É possível enxergar apenas o formato aproximado de uma criatura, devendo-se executar um teste de Usar os Sentidos Médio para uma identificação segura. A visão afeta até 35 metros de distancia.",nivel:3},{id:"2",descricao:"A visão possui uma qualidade boa capaz de identificar pontos de calor de maneira precisa. É possível enxergar com exatidão o formato de uma criatura. A visão afeta até 50 metros de distancia.",nivel:5},{id:"3",descricao:"A visão possui uma qualidade muito boa capaz de identificar pontos de calor de maneira precisa. É possível enxergar com exatidão o formato de uma criatura. A visão afeta até 65 metros de distancia.",nivel:7},{id:"4",descricao:"A visão possui uma qualidade de perfeita capaz de identificar pontos de calor de maneira exata. É possível enxergar com perfeição o formato de uma criatura e identificar pessoas através de seus traços. Para isso é necessário um teste de Usar os Sentidos (a critério do mestre do jogo). A visão afeta até 80 metros de distancia.",nivel:9}],descricao:`Com esta magia o evocador poderá identificar seres ou objetos através do calor emanado por seus corpos por meio de uma visão especial capaz enxergar o calor em tonalidades de cores diferentes. Quanto mais alto for o nível da magia maior será a qualidade da visão assim como a distancia máxima alcançada pela visão térmica.

Note que quanto mais afastado estiver o foco de calor, mais difícil será a sua percepção assim como a sua identificação. Os parâmetros inscritos na magia estão relacionados a distancia média da visão, logo quanto mais próximo ou mais longe estiver o alvo, mais fácil ou mais difícil será a percepção e identificação dele, respectivamente.`,alcance:{tipo:L.PESSOAL},duracao:{tipo:C.RODADA,valor:5},evocacao:{tipo:G.INSTANTANEA}}]})(Sx||(Sx={}));const vL=[...rx.lista,...ix.lista,...sx.lista,...nx.lista,...dx.lista,...cx.lista,...lx.lista,...ux.lista,...mx.lista,...px.lista,...fx.lista,...hx.lista,...vx.lista,...gx.lista,...yx.lista,...bx.lista,..._x.lista,...xx.lista,...wx.lista,...Sx.lista],gve=t=>{var e;return(e=vL.filter(a=>a.id===t))==null?void 0:e[0]},yve=()=>{const{id:t}=cz(),e=gve(t??W.abrigo);return R.jsxs(Ii,{children:[R.jsx(Dc,{descricao:"Revisar todas magias: descrição, custo, alcance etc. Revisar níveis (alguns possuem alcance, custo etc próprios"}),R.jsxs(qa,{borderRadius:Ua.CSS.caixaGrande.radius,overflow:"hidden",children:[R.jsxs(cg.Accordion,{expanded:!0,children:[R.jsx(JI,{id:"panel-header",children:R.jsx(Wa,{variant:"h6",color:"primary",children:e.nome})}),R.jsx(XI,{children:R.jsx(lL,{item:e})})]}),R.jsx(cg.Section,{title:"Descrição",children:R.jsx(uL,{item:e})}),R.jsx(cg.Section,{title:"Níveis",children:R.jsx(lve,{magia:e})})]})]})},bve=t=>Ei.extractFirstChar(t.nome),_ve=t=>new Set(t.map(bve)),xve=t=>[..._ve(t)],wve=({lista:t,onClick:e,selected:a})=>{const o=xve(t);return R.jsx(du,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:3},children:o.map(r=>R.jsx(du,{item:!0,children:R.jsx(Jw,{onClick:()=>e(r),variant:"outlined",sx:{maxWidth:"10px",minWidth:"10px"},color:a!==r?"secondary":"primary",children:r})},r))})};var iA={},Sve=Ri;Object.defineProperty(iA,"__esModule",{value:!0});var sA=iA.default=void 0,Ave=Sve(an()),Eve=R;sA=iA.default=(0,Ave.default)((0,Eve.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const Mve=({lista:t,to:e})=>R.jsx(du,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:3},children:t.map(a=>{var o,r;return R.jsx(du,{item:!0,xs:12,sm:8,md:6,lg:4,xl:3,display:"flex",children:R.jsx(Jw,{variant:"contained",component:xw,to:Pre(e,a.id),endIcon:R.jsx(sA,{color:"primary"}),sx:{flex:1,textTransform:"capitalize",justifyContent:"space-between",minWidth:Ua.CSS.caixaGrande.width,minHeight:Ua.CSS.caixaGrande.height,borderRadius:Ua.CSS.caixaGrande.radius,background:(r=(o=vh.palette)==null?void 0:o.background)==null?void 0:r.paper},children:a.nome})},a.nome)})});var nA={},Tve=Ri;Object.defineProperty(nA,"__esModule",{value:!0});var dA=nA.default=void 0,Cve=Tve(an()),Rve=R;dA=nA.default=(0,Cve.default)((0,Rve.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var cA={},Ove=Ri;Object.defineProperty(cA,"__esModule",{value:!0});var gL=cA.default=void 0,Ive=Ove(an()),Dve=R;gL=cA.default=(0,Ive.default)((0,Dve.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchOutlined");const qve={elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&::before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},Pve=({open:t,onClose:e,onClear:a,anchorEl:o,children:r})=>{const i=()=>{a(),e()};return R.jsxs(x6,{anchorEl:o,id:"account-menu",open:t,onClose:e,onClick:e,slotProps:{paper:qve},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r,R.jsx(kg,{}),R.jsxs(tS,{onClick:i,children:[R.jsx(y6,{children:R.jsx(dA,{fontSize:"small"})}),"Limpar"]})]})},Lve=({text:t,label:e,children:a,onChange:o,onClearText:r,onClearFilters:i,showClearButton:s})=>{const[n,d]=M.useState(null),c=!!n,l=u=>{d(u.currentTarget)},m=()=>{d(null)};return R.jsx(R6,{value:t,label:e,variant:"outlined",onChange:u=>{o(u.target.value)},InputProps:{endAdornment:R.jsxs(h6,{position:"start",children:[s&&R.jsx(Wn,{onClick:r,children:R.jsx(dA,{})}),R.jsx(Wn,{onClick:l,children:R.jsx(ane,{color:"primary"})}),R.jsx(Pve,{open:c,anchorEl:n,onClose:m,onClear:i,children:a})]}),startAdornment:R.jsx(Wn,{disabled:!0,children:R.jsx(gL,{})})},placeholder:"Nome da magia"})},t5=new Map([[to.ANAO,{atributos:new Map([[ha.AGILIDADE,-1],[ha.FISICO,2],[ha.FORCA,1]]),profissoesProibidas:new Set([Va.MAGO,Va.RASTREADOR,Va.BARDO])}],[to.ELFO_DOURADO,{atributos:new Map([[ha.AGILIDADE,1],[ha.AURA,2],[ha.FISICO,-1],[ha.FORCA,-1],[ha.INTELECTO,1]])}],[to.ELFO_FLORESTAL,{atributos:new Map([[ha.AGILIDADE,1],[ha.AURA,1],[ha.FISICO,-1],[ha.FORCA,-1],[ha.PERCEPCAO,2]])}],[to.PEQUENINO,{atributos:new Map([[ha.AGILIDADE,2],[ha.CARISMA,1],[ha.FISICO,1],[ha.FORCA,-2],[ha.PERCEPCAO,1]]),profissoesProibidas:new Set([Va.MAGO,Va.RASTREADOR,Va.BARDO])}],[to.HUMANO,{atributos:new Map}],[to.MEIO_ELFO,{atributos:new Map([[ha.AGILIDADE,1],[ha.CARISMA,1]])}]]),J_=new Map([[Va.RASTREADOR,new Map([[W.abrigo,1],[W.adestramento,1],[W.aprimorarHabilidades,2],[W.arqueirismo,2],[W.camuflagem,1],[W.despistamento,1],[W.dominacaoAnimal,1],[W.eloAnimal,2],[W.forcaMutua,2],[W.habilidadeAnimal,2],[W.protecaoAnimal,2],[W.rastreamento,2],[W.resistencia,2],[W.visaoAnimal,2]])],[Va.BARDO,new Map([[W.amizade,3],[W.cancaoDoAnimo,2],[W.distracao,1],[W.empatia,1],[W.escrita,1],[W.lendas,1],[W.linguagem,2],[W.memorizacao,1],[W.modificarEspirito,2],[W.seducao,1],[W.silencio,2],[W.ventriloquismo,1]])],[Va.SACERDOTE,new Map([[W.apelo,2],[W.bencao,2],[W.curasFisicas,2],[W.curasHeroicas,2],[W.deteccaoDeMagia,1],[W.esconjuracao,1],[W.maldicoes,1],[W.ordens,1],[W.quebraDeEncantos,1],[W.recuperacaoFisica,2],[W.regeneracao,2],[W.resistencia,2],[W.ressurreicao,2],[W.sagracao,2]])],[Va.MAGO,new Map([[W.amizade,2],[W.analise,1],[W.bolaDeFogo,2],[W.contatosMentais,1],[W.desintegracao,2],[W.deteccaoDeMagia,2],[W.invisibilidade,2],[W.levitacao,1],[W.manipulacaoDeLuz,1],[W.mutacao,2],[W.quebraDeEncantos,2],[W.raioEletrico,2],[W.sono,1],[W.telecinese,1],[W.transformacao,2],[W.transporteDimensional,2]])]]);var M0;(t=>{t.getProfissoesProibidasPor=e=>{var o;return[...((o=t5.get(e))==null?void 0:o.profissoesProibidas)??new Set]},t.getValorDeAtributosPor=(e,a)=>{var r;const o=(r=t5.get(e))==null?void 0:r.atributos;return(o==null?void 0:o.get(a))??0},t.getProfissoesMagicas=()=>[...J_.keys()].sort(),t.getMagiasPor=e=>[...(J_.get(e)??new Map).keys()],t.filterMagiaPor=(e,a)=>e.length===0?!0:e.flatMap(t.getMagiasPor).some(o=>o===a),t.getCustoPorProfissaoMagia=(e,a)=>{var o;return(o=J_.get(e))==null?void 0:o.get(a)}})(M0||(M0={}));const Nve=(t,e)=>M0.filterMagiaPor(t,e),jve=()=>{const[t,e]=M.useState(""),[a,o]=M.useState(""),[r,i]=M.useState(new Set),{isBuscaInexata:s}=WS(),n=h=>Nve([...r],h.id),d=h=>Ei.filterByFirstChar(a,h.nome),c=h=>s?Ei.filterByProximity(t,h.nome):Ei.filterByExact(t,h.nome),l=vL.filter(n).filter(d).filter(c);function m(){e(""),o("")}function u(){i(new Set)}function v(h){o(y=>h===y?"":h)}function g(h){i(y=>Lre(y,h))}function f(h){return r.has(h)}const p=t.length>0||a.length>0;return{input:{clear:m,hasText:p,setText:e,text:t},list:{data:l},char:{char:a,onCharClick:v},filter:{clear:u,swap:g,exists:f}}},Fve=M0.getProfissoesMagicas(),zve=()=>{const{input:t,list:e,char:a,filter:o}=jve();return R.jsx(Ii,{children:R.jsxs(qa,{sx:{display:"flex",flexDirection:"column",gap:2},children:[R.jsx(Lve,{text:t.text,label:"Nome da magia",onChange:t.setText,onClearText:t.clear,onClearFilters:o.clear,showClearButton:t.hasText,children:Fve.map(r=>{const i=ox(r),s=!o.exists(r);return R.jsxs(tS,{onClick:()=>o.swap(r),children:[R.jsx(lH,{variant:"dot",color:"primary",overlap:"circular",invisible:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:R.jsx(Bg,{children:R.jsx(i,{})})})," ",r]},r)})}),R.jsx(wve,{lista:e.data,onClick:a.onCharClick,selected:a.char}),R.jsx(Mve,{lista:e.data,to:ua.MAGIA})]})})},Bve=()=>R.jsxs(Ii,{children:[R.jsx(Dc,{descricao:"Tudo"}),R.jsx("p",{children:"Mapa"})]}),kve=()=>R.jsxs(Ii,{children:[R.jsx(Dc,{descricao:"Mapa svg, selecionar região, modal com descrição"}),R.jsx("p",{children:"Mapas"})]}),Uve=[{id:"Tagmar",info:[{text:"Site oficial",url:"https://tagmar.com.br"}]},{id:"Licença do RPG Tagmar",info:[{text:"Atribuição-NãoComercial-CompartilhaIgual 3.0 Brasil",url:"https://www.tagmar.com.br/LicenciamentoUsado.aspx"}]},{id:"Licença desse Site/Aplicativo",info:[{text:"GNU General Public License v3.0",url:"https://github.com/iagows/tagmar_pwa/blob/main/LICENSE"}]},{id:"Bugs e Sugestões",info:[{text:"Encontrou um erro ou tem uma sugestão?",url:"https://github.com/iagows/tagmar_pwa/issues"}]},{id:"Revisar",info:[{text:"O que está sendo revisado ou feito no momento",url:"https://github.com/iagows/tagmar_pwa?tab=readme-ov-file#roadmap"}]},{id:"Sobre o App",info:[{text:"Código-fonte",url:"https://github.com/iagows/tagmar_pwa/"}]},{id:"Agradecimentos",info:[{text:"Edilton Oliveira"},{text:"Marcelo Rodrigues",url:"https://www.tagmar.com.br/"},{text:"Odijas",url:"https://www.instagram.com/odjaseviu?igsh=bXpvOXdjdWEwdGQ3"}]},{id:"Bibliotecas",info:[{text:"@3d-dice/dice-box-threejs",url:"https://github.com/3d-dice/dice-box-threejs"},{text:"date-fns",url:"https://date-fns.org/"},{text:"MUI",url:"https://mui.com/"},{text:"Redux toolkit",url:"https://redux-toolkit.js.org/"},{text:"zod",url:"https://zod.dev/"}]}],Vve=()=>R.jsxs(Ii,{children:[R.jsx(Wa,{sx:{marginBottom:1},children:"Os links levarão para fora do aplicativo. Clique/toque com cautela."}),Uve.map(t=>R.jsx(cg.Section,{title:t.id,children:t.info.map((e,a)=>R.jsx(Wa,{children:e.url?R.jsx(hY,{href:e.url,target:"_blank",children:e.text}):e.text},`${e.text}_${a}`))},t.id))]}),$ve="/tagmar_pwa",Hve={title:Ua.PAGES.fichas,isMainRoute:!0,rightAction:{Icon:sA,action:()=>console.log("clicou")}},Wve={title:"Personagem",isMainRoute:!1},Gve=Oz([{path:ua.ROOT,element:R.jsx(vne,{}),errorElement:R.jsx(Mhe,{}),children:[{path:ua.FICHAS,element:R.jsx(Zhe,{}),handle:Hve},{path:ua.FICHA,element:R.jsx(The,{}),handle:Wve},{path:ua.DADO,element:R.jsx(Ahe,{}),handle:{title:Ua.PAGES.dado,isMainRoute:!0}},{path:ua.MAGIAS,element:R.jsx(zve,{}),handle:{title:Ua.PAGES.magias,isMainRoute:!0}},{path:ua.MAGIA,element:R.jsx(yve,{}),handle:{title:"Magia",isMainRoute:!1}},{path:ua.HABILIDADES,element:R.jsx(Qhe,{}),handle:{title:Ua.PAGES.habilidades,isMainRoute:!0}},{path:ua.HABILIDADE,element:R.jsx(Khe,{}),handle:{title:"Habilidade",isMainRoute:!1}},{path:ua.MAPAS,element:R.jsx(kve,{}),handle:{title:Ua.PAGES.mapas,isMainRoute:!0}},{path:ua.MAPA,element:R.jsx(Bve,{}),handle:{title:"Mapa",isMainRoute:!1}},{path:ua.CONFIGURACOES,element:R.jsx(wne,{}),handle:{title:Ua.PAGES.configuracoes,isMainRoute:!0}},{path:ua.SOBRE,element:R.jsx(Vve,{}),handle:{title:Ua.PAGES.sobre,isMainRoute:!0}},{index:!0,element:R.jsx(xz,{to:ua.FICHAS,replace:!0}),handle:{title:"",isMainRoute:!1}}]}],{basename:$ve}),Yve={isBuscaInexata:!0,isDado3dAtivo:!0},Zve=gP({name:"fichas",initialState:{config:Yve,loading:!1},reducers:{},extraReducers:t=>{t.addCase(Bo.setBuscaInexata.pending,e=>{e.loading=!0}),t.addCase(Bo.setBuscaInexata.fulfilled,(e,a)=>{e.loading=!1,e.config.isBuscaInexata=a.payload}),t.addCase(Bo.setBuscaInexata.rejected,e=>{e.loading=!1}),t.addCase(Bo.setDado3D.pending,e=>{e.loading=!0}),t.addCase(Bo.setDado3D.fulfilled,(e,a)=>{e.loading=!1,e.config.isDado3dAtivo=a.payload}),t.addCase(Bo.setDado3D.rejected,e=>{e.loading=!0}),t.addCase(Bo.loadConfig.pending,e=>{e.loading=!0}),t.addCase(Bo.loadConfig.fulfilled,(e,a)=>{e.loading=!1,e.config=a.payload}),t.addCase(Bo.loadConfig.rejected,e=>{e.loading=!1,console.log("load ruim")})}}),Kve=Zve.reducer,Qve=bie({reducer:{fichas:Hse,config:Kve}}),Xve=Gz({onNeedRefresh(){confirm("Novo conteúdo disponível. Recarregar?")&&Xve(!0)}});e2.createRoot(document.getElementById("root")).render(R.jsx(jr.StrictMode,{children:R.jsx(mF,{store:Qve,children:R.jsx(Ore,{children:R.jsx(zz,{router:Gve})})})}));
