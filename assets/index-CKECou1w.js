var z1=(t,e,a)=>{if(!e.has(t))throw TypeError("Cannot "+a)};var yi=(t,e,a)=>(z1(t,e,"read from private field"),a?a.call(t):e.get(t)),ql=(t,e,a)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,a)},xr=(t,e,a,o)=>(z1(t,e,"write to private field"),o?o.call(t,a):e.set(t,a),a);function U3(t,e){for(var a=0;a<e.length;a++){const o=e[a];if(typeof o!="string"&&!Array.isArray(o)){for(const r in o)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(o,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>o[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();function V3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var r=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(a,o,r.get?r:{enumerable:!0,get:function(){return t[o]}})}),a}var H3={exports:{}},mp={},W3={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),uE=Symbol.for("react.portal"),mE=Symbol.for("react.fragment"),pE=Symbol.for("react.strict_mode"),fE=Symbol.for("react.profiler"),hE=Symbol.for("react.provider"),vE=Symbol.for("react.context"),gE=Symbol.for("react.forward_ref"),yE=Symbol.for("react.suspense"),xE=Symbol.for("react.memo"),bE=Symbol.for("react.lazy"),N1=Symbol.iterator;function _E(t){return t===null||typeof t!="object"?null:(t=N1&&t[N1]||t["@@iterator"],typeof t=="function"?t:null)}var G3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z3=Object.assign,X3={};function Rl(t,e,a){this.props=t,this.context=e,this.refs=X3,this.updater=a||G3}Rl.prototype.isReactComponent={};Rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Y3(){}Y3.prototype=Rl.prototype;function jg(t,e,a){this.props=t,this.context=e,this.refs=X3,this.updater=a||G3}var Bg=jg.prototype=new Y3;Bg.constructor=jg;Z3(Bg,Rl.prototype);Bg.isPureReactComponent=!0;var F1=Array.isArray,K3=Object.prototype.hasOwnProperty,$g={current:null},Q3={key:!0,ref:!0,__self:!0,__source:!0};function J3(t,e,a){var o,r={},i=null,n=null;if(e!=null)for(o in e.ref!==void 0&&(n=e.ref),e.key!==void 0&&(i=""+e.key),e)K3.call(e,o)&&!Q3.hasOwnProperty(o)&&(r[o]=e[o]);var s=arguments.length-2;if(s===1)r.children=a;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(o in s=t.defaultProps,s)r[o]===void 0&&(r[o]=s[o]);return{$$typeof:Td,type:t,key:i,ref:n,props:r,_owner:$g.current}}function wE(t,e){return{$$typeof:Td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ug(t){return typeof t=="object"&&t!==null&&t.$$typeof===Td}function EE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return e[a]})}var q1=/\/+/g;function kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EE(""+t.key):e.toString(36)}function Zu(t,e,a,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var n=!1;if(t===null)n=!0;else switch(i){case"string":case"number":n=!0;break;case"object":switch(t.$$typeof){case Td:case uE:n=!0}}if(n)return n=t,r=r(n),t=o===""?"."+kf(n,0):o,F1(r)?(a="",t!=null&&(a=t.replace(q1,"$&/")+"/"),Zu(r,e,a,"",function(c){return c})):r!=null&&(Ug(r)&&(r=wE(r,a+(!r.key||n&&n.key===r.key?"":(""+r.key).replace(q1,"$&/")+"/")+t)),e.push(r)),1;if(n=0,o=o===""?".":o+":",F1(t))for(var s=0;s<t.length;s++){i=t[s];var l=o+kf(i,s);n+=Zu(i,e,a,l,r)}else if(l=_E(t),typeof l=="function")for(t=l.call(t),s=0;!(i=t.next()).done;)i=i.value,l=o+kf(i,s++),n+=Zu(i,e,a,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return n}function Xd(t,e,a){if(t==null)return t;var o=[],r=0;return Zu(t,o,"","",function(i){return e.call(a,i,r++)}),o}function SE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ya={current:null},Xu={transition:null},CE={ReactCurrentDispatcher:Ya,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:$g};bt.Children={map:Xd,forEach:function(t,e,a){Xd(t,function(){e.apply(this,arguments)},a)},count:function(t){var e=0;return Xd(t,function(){e++}),e},toArray:function(t){return Xd(t,function(e){return e})||[]},only:function(t){if(!Ug(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=Rl;bt.Fragment=mE;bt.Profiler=fE;bt.PureComponent=jg;bt.StrictMode=pE;bt.Suspense=yE;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CE;bt.cloneElement=function(t,e,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=Z3({},t.props),r=t.key,i=t.ref,n=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,n=$g.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)K3.call(e,l)&&!Q3.hasOwnProperty(l)&&(o[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)o.children=a;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];o.children=s}return{$$typeof:Td,type:t.type,key:r,ref:i,props:o,_owner:n}};bt.createContext=function(t){return t={$$typeof:vE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hE,_context:t},t.Consumer=t};bt.createElement=J3;bt.createFactory=function(t){var e=J3.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:gE,render:t}};bt.isValidElement=Ug;bt.lazy=function(t){return{$$typeof:bE,_payload:{_status:-1,_result:t},_init:SE}};bt.memo=function(t,e){return{$$typeof:xE,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=Xu.transition;Xu.transition={};try{t()}finally{Xu.transition=e}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(t,e){return Ya.current.useCallback(t,e)};bt.useContext=function(t){return Ya.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Ya.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Ya.current.useEffect(t,e)};bt.useId=function(){return Ya.current.useId()};bt.useImperativeHandle=function(t,e,a){return Ya.current.useImperativeHandle(t,e,a)};bt.useInsertionEffect=function(t,e){return Ya.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Ya.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Ya.current.useMemo(t,e)};bt.useReducer=function(t,e,a){return Ya.current.useReducer(t,e,a)};bt.useRef=function(t){return Ya.current.useRef(t)};bt.useState=function(t){return Ya.current.useState(t)};bt.useSyncExternalStore=function(t,e,a){return Ya.current.useSyncExternalStore(t,e,a)};bt.useTransition=function(){return Ya.current.useTransition()};bt.version="18.2.0";W3.exports=bt;var C=W3.exports;const $o=V3(C),cl=U3({__proto__:null,default:$o},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=C,ME=Symbol.for("react.element"),RE=Symbol.for("react.fragment"),TE=Object.prototype.hasOwnProperty,PE=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LE={key:!0,ref:!0,__self:!0,__source:!0};function eb(t,e,a){var o,r={},i=null,n=null;a!==void 0&&(i=""+a),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(n=e.ref);for(o in e)TE.call(e,o)&&!LE.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:ME,type:t,key:i,ref:n,props:r,_owner:PE.current}}mp.Fragment=RE;mp.jsx=eb;mp.jsxs=eb;H3.exports=mp;var M=H3.exports,dv={},tb={exports:{}},Ro={},ab={exports:{}},ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,F){var H=z.length;z.push(F);e:for(;0<H;){var oe=H-1>>>1,W=z[oe];if(0<r(W,F))z[oe]=F,z[H]=W,H=oe;else break e}}function a(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var F=z[0],H=z.pop();if(H!==F){z[0]=H;e:for(var oe=0,W=z.length,ie=W>>>1;oe<ie;){var le=2*(oe+1)-1,Ce=z[le],Z=le+1,Oe=z[Z];if(0>r(Ce,H))Z<W&&0>r(Oe,Ce)?(z[oe]=Oe,z[Z]=H,oe=Z):(z[oe]=Ce,z[le]=H,oe=le);else if(Z<W&&0>r(Oe,H))z[oe]=Oe,z[Z]=H,oe=Z;else break e}}return F}function r(z,F){var H=z.sortIndex-F.sortIndex;return H!==0?H:z.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var n=Date,s=n.now();t.unstable_now=function(){return n.now()-s}}var l=[],c=[],d=1,m=null,u=3,v=!1,h=!1,p=!1,f=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var F=a(c);F!==null;){if(F.callback===null)o(c);else if(F.startTime<=z)o(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=a(c)}}function b(z){if(p=!1,x(z),!h)if(a(l)!==null)h=!0,j(w);else{var F=a(c);F!==null&&V(b,F.startTime-z)}}function w(z,F){h=!1,p&&(p=!1,g(E),E=-1),v=!0;var H=u;try{for(x(F),m=a(l);m!==null&&(!(m.expirationTime>F)||z&&!O());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,u=m.priorityLevel;var W=oe(m.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?m.callback=W:m===a(l)&&o(l),x(F)}else o(l);m=a(l)}if(m!==null)var ie=!0;else{var le=a(c);le!==null&&V(b,le.startTime-F),ie=!1}return ie}finally{m=null,u=H,v=!1}}var _=!1,S=null,E=-1,A=5,T=-1;function O(){return!(t.unstable_now()-T<A)}function B(){if(S!==null){var z=t.unstable_now();T=z;var F=!0;try{F=S(!0,z)}finally{F?N():(_=!1,S=null)}}else _=!1}var N;if(typeof y=="function")N=function(){y(B)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,q=D.port2;D.port1.onmessage=B,N=function(){q.postMessage(null)}}else N=function(){f(B,0)};function j(z){S=z,_||(_=!0,N())}function V(z,F){E=f(function(){z(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){h||v||(h=!0,j(w))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return u},t.unstable_getFirstCallbackNode=function(){return a(l)},t.unstable_next=function(z){switch(u){case 1:case 2:case 3:var F=3;break;default:F=u}var H=u;u=F;try{return z()}finally{u=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,F){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=u;u=z;try{return F()}finally{u=H}},t.unstable_scheduleCallback=function(z,F,H){var oe=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?oe+H:oe):H=oe,z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,z={id:d++,callback:F,priorityLevel:z,startTime:H,expirationTime:W,sortIndex:-1},H>oe?(z.sortIndex=H,e(c,z),a(l)===null&&z===a(c)&&(p?(g(E),E=-1):p=!0,V(b,H-oe))):(z.sortIndex=W,e(l,z),h||v||(h=!0,j(w))),z},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(z){var F=u;return function(){var H=u;u=F;try{return z.apply(this,arguments)}finally{u=H}}}})(ob);ab.exports=ob;var DE=ab.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=C,So=DE;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ib=new Set,jc={};function is(t,e){dl(t,e),dl(t+"Capture",e)}function dl(t,e){for(jc[t]=e,t=0;t<e.length;t++)ib.add(e[t])}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uv=Object.prototype.hasOwnProperty,IE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j1={},B1={};function OE(t){return uv.call(B1,t)?!0:uv.call(j1,t)?!1:IE.test(t)?B1[t]=!0:(j1[t]=!0,!1)}function kE(t,e,a,o){if(a!==null&&a.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zE(t,e,a,o){if(e===null||typeof e>"u"||kE(t,e,a,o))return!0;if(o)return!1;if(a!==null)switch(a.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ka(t,e,a,o,r,i,n){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=a,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=n}var La={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){La[t]=new Ka(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];La[e]=new Ka(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){La[t]=new Ka(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){La[t]=new Ka(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){La[t]=new Ka(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){La[t]=new Ka(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){La[t]=new Ka(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){La[t]=new Ka(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){La[t]=new Ka(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vg=/[\-:]([a-z])/g;function Hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vg,Hg);La[e]=new Ka(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vg,Hg);La[e]=new Ka(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vg,Hg);La[e]=new Ka(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){La[t]=new Ka(t,1,!1,t.toLowerCase(),null,!1,!1)});La.xlinkHref=new Ka("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){La[t]=new Ka(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wg(t,e,a,o){var r=La.hasOwnProperty(e)?La[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zE(e,a,r,o)&&(a=null),o||r===null?OE(e)&&(a===null?t.removeAttribute(e):t.setAttribute(e,""+a)):r.mustUseProperty?t[r.propertyName]=a===null?r.type===3?!1:"":a:(e=r.attributeName,o=r.attributeNamespace,a===null?t.removeAttribute(e):(r=r.type,a=r===3||r===4&&a===!0?"":""+a,o?t.setAttributeNS(o,e,a):t.setAttribute(e,a))))}var mi=rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yd=Symbol.for("react.element"),Ns=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),sb=Symbol.for("react.context"),Zg=Symbol.for("react.forward_ref"),pv=Symbol.for("react.suspense"),fv=Symbol.for("react.suspense_list"),Xg=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),lb=Symbol.for("react.offscreen"),$1=Symbol.iterator;function jl(t){return t===null||typeof t!="object"?null:(t=$1&&t[$1]||t["@@iterator"],typeof t=="function"?t:null)}var Jt=Object.assign,zf;function fc(t){if(zf===void 0)try{throw Error()}catch(a){var e=a.stack.trim().match(/\n( *(at )?)/);zf=e&&e[1]||""}return`
`+zf+t}var Nf=!1;function Ff(t,e){if(!t||Nf)return"";Nf=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var o=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){o=c}t.call(e.prototype)}else{try{throw Error()}catch(c){o=c}t()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),n=r.length-1,s=i.length-1;1<=n&&0<=s&&r[n]!==i[s];)s--;for(;1<=n&&0<=s;n--,s--)if(r[n]!==i[s]){if(n!==1||s!==1)do if(n--,s--,0>s||r[n]!==i[s]){var l=`
`+r[n].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=n&&0<=s);break}}}finally{Nf=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?fc(t):""}function NE(t){switch(t.tag){case 5:return fc(t.type);case 16:return fc("Lazy");case 13:return fc("Suspense");case 19:return fc("SuspenseList");case 0:case 2:case 15:return t=Ff(t.type,!1),t;case 11:return t=Ff(t.type.render,!1),t;case 1:return t=Ff(t.type,!0),t;default:return""}}function hv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Ns:return"Portal";case mv:return"Profiler";case Gg:return"StrictMode";case pv:return"Suspense";case fv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sb:return(t.displayName||"Context")+".Consumer";case nb:return(t._context.displayName||"Context")+".Provider";case Zg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xg:return e=t.displayName||null,e!==null?e:hv(t.type)||"Memo";case Pi:e=t._payload,t=t._init;try{return hv(t(e))}catch{}}return null}function FE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hv(e);case 8:return e===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qE(t){var e=cb(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(n){o=""+n,i.call(this,n)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(n){o=""+n},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kd(t){t._valueTracker||(t._valueTracker=qE(t))}function db(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var a=e.getValue(),o="";return t&&(o=cb(t)?t.checked?"true":"false":t.value),t=o,t!==a?(e.setValue(t),!0):!1}function gm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vv(t,e){var a=e.checked;return Jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function U1(t,e){var a=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;a=Wi(e.value!=null?e.value:a),t._wrapperState={initialChecked:o,initialValue:a,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ub(t,e){e=e.checked,e!=null&&Wg(t,"checked",e,!1)}function gv(t,e){ub(t,e);var a=Wi(e.value),o=e.type;if(a!=null)o==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yv(t,e.type,a):e.hasOwnProperty("defaultValue")&&yv(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function V1(t,e,a){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,a||e===t.value||(t.value=e),t.defaultValue=e}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function yv(t,e,a){(e!=="number"||gm(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var hc=Array.isArray;function Js(t,e,a,o){if(t=t.options,e){e={};for(var r=0;r<a.length;r++)e["$"+a[r]]=!0;for(a=0;a<t.length;a++)r=e.hasOwnProperty("$"+t[a].value),t[a].selected!==r&&(t[a].selected=r),r&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Wi(a),e=null,r=0;r<t.length;r++){if(t[r].value===a){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function xv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function H1(t,e){var a=e.value;if(a==null){if(a=e.children,e=e.defaultValue,a!=null){if(e!=null)throw Error(fe(92));if(hc(a)){if(1<a.length)throw Error(fe(93));a=a[0]}e=a}e==null&&(e=""),a=e}t._wrapperState={initialValue:Wi(a)}}function mb(t,e){var a=Wi(e.value),o=Wi(e.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),e.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),o!=null&&(t.defaultValue=""+o)}function W1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qd,fb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,a,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,a,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qd=Qd||document.createElement("div"),Qd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bc(t,e){if(e){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=e;return}}t.textContent=e}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jE=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(t){jE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sc[e]=Sc[t]})});function hb(t,e,a){return e==null||typeof e=="boolean"||e===""?"":a||typeof e!="number"||e===0||Sc.hasOwnProperty(t)&&Sc[t]?(""+e).trim():e+"px"}function vb(t,e){t=t.style;for(var a in e)if(e.hasOwnProperty(a)){var o=a.indexOf("--")===0,r=hb(a,e[a],o);a==="float"&&(a="cssFloat"),o?t.setProperty(a,r):t[a]=r}}var BE=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _v(t,e){if(e){if(BE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function wv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ev=null;function Yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sv=null,el=null,tl=null;function G1(t){if(t=Dd(t)){if(typeof Sv!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=gp(e),Sv(t.stateNode,t.type,e))}}function gb(t){el?tl?tl.push(t):tl=[t]:el=t}function yb(){if(el){var t=el,e=tl;if(tl=el=null,G1(t),e)for(t=0;t<e.length;t++)G1(e[t])}}function xb(t,e){return t(e)}function bb(){}var qf=!1;function _b(t,e,a){if(qf)return t(e,a);qf=!0;try{return xb(t,e,a)}finally{qf=!1,(el!==null||tl!==null)&&(bb(),yb())}}function $c(t,e){var a=t.stateNode;if(a===null)return null;var o=gp(a);if(o===null)return null;a=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(fe(231,e,typeof a));return a}var Cv=!1;if(ni)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Cv=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Cv=!1}function $E(t,e,a,o,r,i,n,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(a,c)}catch(d){this.onError(d)}}var Cc=!1,ym=null,xm=!1,Av=null,UE={onError:function(t){Cc=!0,ym=t}};function VE(t,e,a,o,r,i,n,s,l){Cc=!1,ym=null,$E.apply(UE,arguments)}function HE(t,e,a,o,r,i,n,s,l){if(VE.apply(this,arguments),Cc){if(Cc){var c=ym;Cc=!1,ym=null}else throw Error(fe(198));xm||(xm=!0,Av=c)}}function ns(t){var e=t,a=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(a=e.return),t=e.return;while(t)}return e.tag===3?a:null}function wb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z1(t){if(ns(t)!==t)throw Error(fe(188))}function WE(t){var e=t.alternate;if(!e){if(e=ns(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var a=t,o=e;;){var r=a.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){a=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===a)return Z1(r),t;if(i===o)return Z1(r),e;i=i.sibling}throw Error(fe(188))}if(a.return!==o.return)a=r,o=i;else{for(var n=!1,s=r.child;s;){if(s===a){n=!0,a=r,o=i;break}if(s===o){n=!0,o=r,a=i;break}s=s.sibling}if(!n){for(s=i.child;s;){if(s===a){n=!0,a=i,o=r;break}if(s===o){n=!0,o=i,a=r;break}s=s.sibling}if(!n)throw Error(fe(189))}}if(a.alternate!==o)throw Error(fe(190))}if(a.tag!==3)throw Error(fe(188));return a.stateNode.current===a?t:e}function Eb(t){return t=WE(t),t!==null?Sb(t):null}function Sb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sb(t);if(e!==null)return e;t=t.sibling}return null}var Cb=So.unstable_scheduleCallback,X1=So.unstable_cancelCallback,GE=So.unstable_shouldYield,ZE=So.unstable_requestPaint,la=So.unstable_now,XE=So.unstable_getCurrentPriorityLevel,Kg=So.unstable_ImmediatePriority,Ab=So.unstable_UserBlockingPriority,bm=So.unstable_NormalPriority,YE=So.unstable_LowPriority,Mb=So.unstable_IdlePriority,pp=null,Lr=null;function KE(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(pp,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:eS,QE=Math.log,JE=Math.LN2;function eS(t){return t>>>=0,t===0?32:31-(QE(t)/JE|0)|0}var Jd=64,eu=4194304;function vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _m(t,e){var a=t.pendingLanes;if(a===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,n=a&268435455;if(n!==0){var s=n&~r;s!==0?o=vc(s):(i&=n,i!==0&&(o=vc(i)))}else n=a&~r,n!==0?o=vc(n):i!==0&&(o=vc(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=a&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)a=31-dr(e),r=1<<a,o|=t[a],e&=~r;return o}function tS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aS(t,e){for(var a=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var n=31-dr(i),s=1<<n,l=r[n];l===-1?(!(s&a)||s&o)&&(r[n]=tS(s,e)):l<=e&&(t.expiredLanes|=s),i&=~s}}function Mv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rb(){var t=Jd;return Jd<<=1,!(Jd&4194240)&&(Jd=64),t}function jf(t){for(var e=[],a=0;31>a;a++)e.push(t);return e}function Pd(t,e,a){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=a}function oS(t,e){var a=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<a;){var r=31-dr(a),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,a&=~i}}function Qg(t,e){var a=t.entangledLanes|=e;for(t=t.entanglements;a;){var o=31-dr(a),r=1<<o;r&e|t[o]&e&&(t[o]|=e),a&=~r}}var It=0;function Tb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pb,Jg,Lb,Db,Ib,Rv=!1,tu=[],Fi=null,qi=null,ji=null,Uc=new Map,Vc=new Map,Di=[],rS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y1(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function $l(t,e,a,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:a,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Dd(e),e!==null&&Jg(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function iS(t,e,a,o,r){switch(e){case"focusin":return Fi=$l(Fi,t,e,a,o,r),!0;case"dragenter":return qi=$l(qi,t,e,a,o,r),!0;case"mouseover":return ji=$l(ji,t,e,a,o,r),!0;case"pointerover":var i=r.pointerId;return Uc.set(i,$l(Uc.get(i)||null,t,e,a,o,r)),!0;case"gotpointercapture":return i=r.pointerId,Vc.set(i,$l(Vc.get(i)||null,t,e,a,o,r)),!0}return!1}function Ob(t){var e=En(t.target);if(e!==null){var a=ns(e);if(a!==null){if(e=a.tag,e===13){if(e=wb(a),e!==null){t.blockedOn=e,Ib(t.priority,function(){Lb(a)});return}}else if(e===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var a=Tv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Ev=o,a.target.dispatchEvent(o),Ev=null}else return e=Dd(a),e!==null&&Jg(e),t.blockedOn=a,!1;e.shift()}return!0}function K1(t,e,a){Yu(t)&&a.delete(e)}function nS(){Rv=!1,Fi!==null&&Yu(Fi)&&(Fi=null),qi!==null&&Yu(qi)&&(qi=null),ji!==null&&Yu(ji)&&(ji=null),Uc.forEach(K1),Vc.forEach(K1)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,Rv||(Rv=!0,So.unstable_scheduleCallback(So.unstable_NormalPriority,nS)))}function Hc(t){function e(r){return Ul(r,t)}if(0<tu.length){Ul(tu[0],t);for(var a=1;a<tu.length;a++){var o=tu[a];o.blockedOn===t&&(o.blockedOn=null)}}for(Fi!==null&&Ul(Fi,t),qi!==null&&Ul(qi,t),ji!==null&&Ul(ji,t),Uc.forEach(e),Vc.forEach(e),a=0;a<Di.length;a++)o=Di[a],o.blockedOn===t&&(o.blockedOn=null);for(;0<Di.length&&(a=Di[0],a.blockedOn===null);)Ob(a),a.blockedOn===null&&Di.shift()}var al=mi.ReactCurrentBatchConfig,wm=!0;function sS(t,e,a,o){var r=It,i=al.transition;al.transition=null;try{It=1,e0(t,e,a,o)}finally{It=r,al.transition=i}}function lS(t,e,a,o){var r=It,i=al.transition;al.transition=null;try{It=4,e0(t,e,a,o)}finally{It=r,al.transition=i}}function e0(t,e,a,o){if(wm){var r=Tv(t,e,a,o);if(r===null)Yf(t,e,o,Em,a),Y1(t,o);else if(iS(r,t,e,a,o))o.stopPropagation();else if(Y1(t,o),e&4&&-1<rS.indexOf(t)){for(;r!==null;){var i=Dd(r);if(i!==null&&Pb(i),i=Tv(t,e,a,o),i===null&&Yf(t,e,o,Em,a),i===r)break;r=i}r!==null&&o.stopPropagation()}else Yf(t,e,o,null,a)}}var Em=null;function Tv(t,e,a,o){if(Em=null,t=Yg(o),t=En(t),t!==null)if(e=ns(t),e===null)t=null;else if(a=e.tag,a===13){if(t=wb(e),t!==null)return t;t=null}else if(a===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Em=t,null}function kb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XE()){case Kg:return 1;case Ab:return 4;case bm:case YE:return 16;case Mb:return 536870912;default:return 16}default:return 16}}var zi=null,t0=null,Ku=null;function zb(){if(Ku)return Ku;var t,e=t0,a=e.length,o,r="value"in zi?zi.value:zi.textContent,i=r.length;for(t=0;t<a&&e[t]===r[t];t++);var n=a-t;for(o=1;o<=n&&e[a-o]===r[i-o];o++);return Ku=r.slice(t,1<o?1-o:void 0)}function Qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function au(){return!0}function Q1(){return!1}function To(t){function e(a,o,r,i,n){this._reactName=a,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=n,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(a=t[s],this[s]=a?a(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?au:Q1,this.isPropagationStopped=Q1,this}return Jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),e}var Tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=To(Tl),Ld=Jt({},Tl,{view:0,detail:0}),cS=To(Ld),Bf,$f,Vl,fp=Jt({},Ld,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(Bf=t.screenX-Vl.screenX,$f=t.screenY-Vl.screenY):$f=Bf=0,Vl=t),Bf)},movementY:function(t){return"movementY"in t?t.movementY:$f}}),J1=To(fp),dS=Jt({},fp,{dataTransfer:0}),uS=To(dS),mS=Jt({},Ld,{relatedTarget:0}),Uf=To(mS),pS=Jt({},Tl,{animationName:0,elapsedTime:0,pseudoElement:0}),fS=To(pS),hS=Jt({},Tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vS=To(hS),gS=Jt({},Tl,{data:0}),e2=To(gS),yS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bS[t])?!!e[t]:!1}function o0(){return _S}var wS=Jt({},Ld,{key:function(t){if(t.key){var e=yS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(t){return t.type==="keypress"?Qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ES=To(wS),SS=Jt({},fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t2=To(SS),CS=Jt({},Ld,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),AS=To(CS),MS=Jt({},Tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),RS=To(MS),TS=Jt({},fp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=To(TS),LS=[9,13,27,32],r0=ni&&"CompositionEvent"in window,Ac=null;ni&&"documentMode"in document&&(Ac=document.documentMode);var DS=ni&&"TextEvent"in window&&!Ac,Nb=ni&&(!r0||Ac&&8<Ac&&11>=Ac),a2=" ",o2=!1;function Fb(t,e){switch(t){case"keyup":return LS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function IS(t,e){switch(t){case"compositionend":return qb(e);case"keypress":return e.which!==32?null:(o2=!0,a2);case"textInput":return t=e.data,t===a2&&o2?null:t;default:return null}}function OS(t,e){if(qs)return t==="compositionend"||!r0&&Fb(t,e)?(t=zb(),Ku=t0=zi=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nb&&e.locale!=="ko"?null:e.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kS[t.type]:e==="textarea"}function jb(t,e,a,o){gb(o),e=Sm(e,"onChange"),0<e.length&&(a=new a0("onChange","change",null,a,o),t.push({event:a,listeners:e}))}var Mc=null,Wc=null;function zS(t){Kb(t,0)}function hp(t){var e=$s(t);if(db(e))return t}function NS(t,e){if(t==="change")return e}var Bb=!1;if(ni){var Vf;if(ni){var Hf="oninput"in document;if(!Hf){var i2=document.createElement("div");i2.setAttribute("oninput","return;"),Hf=typeof i2.oninput=="function"}Vf=Hf}else Vf=!1;Bb=Vf&&(!document.documentMode||9<document.documentMode)}function n2(){Mc&&(Mc.detachEvent("onpropertychange",$b),Wc=Mc=null)}function $b(t){if(t.propertyName==="value"&&hp(Wc)){var e=[];jb(e,Wc,t,Yg(t)),_b(zS,e)}}function FS(t,e,a){t==="focusin"?(n2(),Mc=e,Wc=a,Mc.attachEvent("onpropertychange",$b)):t==="focusout"&&n2()}function qS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hp(Wc)}function jS(t,e){if(t==="click")return hp(e)}function BS(t,e){if(t==="input"||t==="change")return hp(e)}function $S(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:$S;function Gc(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var a=Object.keys(t),o=Object.keys(e);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var r=a[o];if(!uv.call(e,r)||!hr(t[r],e[r]))return!1}return!0}function s2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l2(t,e){var a=s2(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=e&&o>=e)return{node:a,offset:e-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=s2(a)}}function Ub(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ub(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vb(){for(var t=window,e=gm();e instanceof t.HTMLIFrameElement;){try{var a=typeof e.contentWindow.location.href=="string"}catch{a=!1}if(a)t=e.contentWindow;else break;e=gm(t.document)}return e}function i0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function US(t){var e=Vb(),a=t.focusedElem,o=t.selectionRange;if(e!==a&&a&&a.ownerDocument&&Ub(a.ownerDocument.documentElement,a)){if(o!==null&&i0(a)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in a)a.selectionStart=e,a.selectionEnd=Math.min(t,a.value.length);else if(t=(e=a.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=a.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=l2(a,i);var n=l2(a,o);r&&n&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==n.node||t.focusOffset!==n.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(n.node,n.offset)):(e.setEnd(n.node,n.offset),t.addRange(e)))}}for(e=[],t=a;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<e.length;a++)t=e[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VS=ni&&"documentMode"in document&&11>=document.documentMode,js=null,Pv=null,Rc=null,Lv=!1;function c2(t,e,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lv||js==null||js!==gm(o)||(o=js,"selectionStart"in o&&i0(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rc&&Gc(Rc,o)||(Rc=o,o=Sm(Pv,"onSelect"),0<o.length&&(e=new a0("onSelect","select",null,e,a),t.push({event:e,listeners:o}),e.target=js)))}function ou(t,e){var a={};return a[t.toLowerCase()]=e.toLowerCase(),a["Webkit"+t]="webkit"+e,a["Moz"+t]="moz"+e,a}var Bs={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Wf={},Hb={};ni&&(Hb=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function vp(t){if(Wf[t])return Wf[t];if(!Bs[t])return t;var e=Bs[t],a;for(a in e)if(e.hasOwnProperty(a)&&a in Hb)return Wf[t]=e[a];return t}var Wb=vp("animationend"),Gb=vp("animationiteration"),Zb=vp("animationstart"),Xb=vp("transitionend"),Yb=new Map,d2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(t,e){Yb.set(t,e),is(e,[t])}for(var Gf=0;Gf<d2.length;Gf++){var Zf=d2[Gf],HS=Zf.toLowerCase(),WS=Zf[0].toUpperCase()+Zf.slice(1);tn(HS,"on"+WS)}tn(Wb,"onAnimationEnd");tn(Gb,"onAnimationIteration");tn(Zb,"onAnimationStart");tn("dblclick","onDoubleClick");tn("focusin","onFocus");tn("focusout","onBlur");tn(Xb,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GS=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function u2(t,e,a){var o=t.type||"unknown-event";t.currentTarget=a,HE(o,e,void 0,t),t.currentTarget=null}function Kb(t,e){e=(e&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var n=o.length-1;0<=n;n--){var s=o[n],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&r.isPropagationStopped())break e;u2(r,s,c),i=l}else for(n=0;n<o.length;n++){if(s=o[n],l=s.instance,c=s.currentTarget,s=s.listener,l!==i&&r.isPropagationStopped())break e;u2(r,s,c),i=l}}}if(xm)throw t=Av,xm=!1,Av=null,t}function Ut(t,e){var a=e[zv];a===void 0&&(a=e[zv]=new Set);var o=t+"__bubble";a.has(o)||(Qb(e,t,2,!1),a.add(o))}function Xf(t,e,a){var o=0;e&&(o|=4),Qb(a,t,o,e)}var ru="_reactListening"+Math.random().toString(36).slice(2);function Zc(t){if(!t[ru]){t[ru]=!0,ib.forEach(function(a){a!=="selectionchange"&&(GS.has(a)||Xf(a,!1,t),Xf(a,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ru]||(e[ru]=!0,Xf("selectionchange",!1,e))}}function Qb(t,e,a,o){switch(kb(e)){case 1:var r=sS;break;case 4:r=lS;break;default:r=e0}a=r.bind(null,e,a,t),r=void 0,!Cv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,a,{capture:!0,passive:r}):t.addEventListener(e,a,!0):r!==void 0?t.addEventListener(e,a,{passive:r}):t.addEventListener(e,a,!1)}function Yf(t,e,a,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var n=o.tag;if(n===3||n===4){var s=o.stateNode.containerInfo;if(s===r||s.nodeType===8&&s.parentNode===r)break;if(n===4)for(n=o.return;n!==null;){var l=n.tag;if((l===3||l===4)&&(l=n.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;n=n.return}for(;s!==null;){if(n=En(s),n===null)return;if(l=n.tag,l===5||l===6){o=i=n;continue e}s=s.parentNode}}o=o.return}_b(function(){var c=i,d=Yg(a),m=[];e:{var u=Yb.get(t);if(u!==void 0){var v=a0,h=t;switch(t){case"keypress":if(Qu(a)===0)break e;case"keydown":case"keyup":v=ES;break;case"focusin":h="focus",v=Uf;break;case"focusout":h="blur",v=Uf;break;case"beforeblur":case"afterblur":v=Uf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=J1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=uS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=AS;break;case Wb:case Gb:case Zb:v=fS;break;case Xb:v=RS;break;case"scroll":v=cS;break;case"wheel":v=PS;break;case"copy":case"cut":case"paste":v=vS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=t2}var p=(e&4)!==0,f=!p&&t==="scroll",g=p?u!==null?u+"Capture":null:u;p=[];for(var y=c,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=$c(y,g),b!=null&&p.push(Xc(y,b,x)))),f)break;y=y.return}0<p.length&&(u=new v(u,h,null,a,d),m.push({event:u,listeners:p}))}}if(!(e&7)){e:{if(u=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",u&&a!==Ev&&(h=a.relatedTarget||a.fromElement)&&(En(h)||h[si]))break e;if((v||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,v?(h=a.relatedTarget||a.toElement,v=c,h=h?En(h):null,h!==null&&(f=ns(h),h!==f||h.tag!==5&&h.tag!==6)&&(h=null)):(v=null,h=c),v!==h)){if(p=J1,b="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=t2,b="onPointerLeave",g="onPointerEnter",y="pointer"),f=v==null?u:$s(v),x=h==null?u:$s(h),u=new p(b,y+"leave",v,a,d),u.target=f,u.relatedTarget=x,b=null,En(d)===c&&(p=new p(g,y+"enter",h,a,d),p.target=x,p.relatedTarget=f,b=p),f=b,v&&h)t:{for(p=v,g=h,y=0,x=p;x;x=ds(x))y++;for(x=0,b=g;b;b=ds(b))x++;for(;0<y-x;)p=ds(p),y--;for(;0<x-y;)g=ds(g),x--;for(;y--;){if(p===g||g!==null&&p===g.alternate)break t;p=ds(p),g=ds(g)}p=null}else p=null;v!==null&&m2(m,u,v,p,!1),h!==null&&f!==null&&m2(m,f,h,p,!0)}}e:{if(u=c?$s(c):window,v=u.nodeName&&u.nodeName.toLowerCase(),v==="select"||v==="input"&&u.type==="file")var w=NS;else if(r2(u))if(Bb)w=BS;else{w=qS;var _=FS}else(v=u.nodeName)&&v.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(w=jS);if(w&&(w=w(t,c))){jb(m,w,a,d);break e}_&&_(t,u,c),t==="focusout"&&(_=u._wrapperState)&&_.controlled&&u.type==="number"&&yv(u,"number",u.value)}switch(_=c?$s(c):window,t){case"focusin":(r2(_)||_.contentEditable==="true")&&(js=_,Pv=c,Rc=null);break;case"focusout":Rc=Pv=js=null;break;case"mousedown":Lv=!0;break;case"contextmenu":case"mouseup":case"dragend":Lv=!1,c2(m,a,d);break;case"selectionchange":if(VS)break;case"keydown":case"keyup":c2(m,a,d)}var S;if(r0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else qs?Fb(t,a)&&(E="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(E="onCompositionStart");E&&(Nb&&a.locale!=="ko"&&(qs||E!=="onCompositionStart"?E==="onCompositionEnd"&&qs&&(S=zb()):(zi=d,t0="value"in zi?zi.value:zi.textContent,qs=!0)),_=Sm(c,E),0<_.length&&(E=new e2(E,t,null,a,d),m.push({event:E,listeners:_}),S?E.data=S:(S=qb(a),S!==null&&(E.data=S)))),(S=DS?IS(t,a):OS(t,a))&&(c=Sm(c,"onBeforeInput"),0<c.length&&(d=new e2("onBeforeInput","beforeinput",null,a,d),m.push({event:d,listeners:c}),d.data=S))}Kb(m,e)})}function Xc(t,e,a){return{instance:t,listener:e,currentTarget:a}}function Sm(t,e){for(var a=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=$c(t,a),i!=null&&o.unshift(Xc(t,i,r)),i=$c(t,e),i!=null&&o.push(Xc(t,i,r))),t=t.return}return o}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function m2(t,e,a,o,r){for(var i=e._reactName,n=[];a!==null&&a!==o;){var s=a,l=s.alternate,c=s.stateNode;if(l!==null&&l===o)break;s.tag===5&&c!==null&&(s=c,r?(l=$c(a,i),l!=null&&n.unshift(Xc(a,l,s))):r||(l=$c(a,i),l!=null&&n.push(Xc(a,l,s)))),a=a.return}n.length!==0&&t.push({event:e,listeners:n})}var ZS=/\r\n?/g,XS=/\u0000|\uFFFD/g;function p2(t){return(typeof t=="string"?t:""+t).replace(ZS,`
`).replace(XS,"")}function iu(t,e,a){if(e=p2(e),p2(t)!==e&&a)throw Error(fe(425))}function Cm(){}var Dv=null,Iv=null;function Ov(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kv=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,f2=typeof Promise=="function"?Promise:void 0,KS=typeof queueMicrotask=="function"?queueMicrotask:typeof f2<"u"?function(t){return f2.resolve(null).then(t).catch(QS)}:kv;function QS(t){setTimeout(function(){throw t})}function Kf(t,e){var a=e,o=0;do{var r=a.nextSibling;if(t.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(o===0){t.removeChild(r),Hc(e);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=r}while(a);Hc(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(e===0)return t;e--}else a==="/$"&&e++}t=t.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Pl,Yc="__reactProps$"+Pl,si="__reactContainer$"+Pl,zv="__reactEvents$"+Pl,JS="__reactListeners$"+Pl,eC="__reactHandles$"+Pl;function En(t){var e=t[Tr];if(e)return e;for(var a=t.parentNode;a;){if(e=a[si]||a[Tr]){if(a=e.alternate,e.child!==null||a!==null&&a.child!==null)for(t=h2(t);t!==null;){if(a=t[Tr])return a;t=h2(t)}return e}t=a,a=t.parentNode}return null}function Dd(t){return t=t[Tr]||t[si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function gp(t){return t[Yc]||null}var Nv=[],Us=-1;function an(t){return{current:t}}function Vt(t){0>Us||(t.current=Nv[Us],Nv[Us]=null,Us--)}function qt(t,e){Us++,Nv[Us]=t.current,t.current=e}var Gi={},qa=an(Gi),oo=an(!1),Vn=Gi;function ul(t,e){var a=t.type.contextTypes;if(!a)return Gi;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in a)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ro(t){return t=t.childContextTypes,t!=null}function Am(){Vt(oo),Vt(qa)}function v2(t,e,a){if(qa.current!==Gi)throw Error(fe(168));qt(qa,e),qt(oo,a)}function Jb(t,e,a){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return a;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(fe(108,FE(t)||"Unknown",r));return Jt({},a,o)}function Mm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gi,Vn=qa.current,qt(qa,t),qt(oo,oo.current),!0}function g2(t,e,a){var o=t.stateNode;if(!o)throw Error(fe(169));a?(t=Jb(t,e,Vn),o.__reactInternalMemoizedMergedChildContext=t,Vt(oo),Vt(qa),qt(qa,t)):Vt(oo),qt(oo,a)}var Jr=null,yp=!1,Qf=!1;function e_(t){Jr===null?Jr=[t]:Jr.push(t)}function tC(t){yp=!0,e_(t)}function on(){if(!Qf&&Jr!==null){Qf=!0;var t=0,e=It;try{var a=Jr;for(It=1;t<a.length;t++){var o=a[t];do o=o(!0);while(o!==null)}Jr=null,yp=!1}catch(r){throw Jr!==null&&(Jr=Jr.slice(t+1)),Cb(Kg,on),r}finally{It=e,Qf=!1}}return null}var Vs=[],Hs=0,Rm=null,Tm=0,Fo=[],qo=0,Hn=null,ti=1,ai="";function fn(t,e){Vs[Hs++]=Tm,Vs[Hs++]=Rm,Rm=t,Tm=e}function t_(t,e,a){Fo[qo++]=ti,Fo[qo++]=ai,Fo[qo++]=Hn,Hn=t;var o=ti;t=ai;var r=32-dr(o)-1;o&=~(1<<r),a+=1;var i=32-dr(e)+r;if(30<i){var n=r-r%5;i=(o&(1<<n)-1).toString(32),o>>=n,r-=n,ti=1<<32-dr(e)+r|a<<r|o,ai=i+t}else ti=1<<i|a<<r|o,ai=t}function n0(t){t.return!==null&&(fn(t,1),t_(t,1,0))}function s0(t){for(;t===Rm;)Rm=Vs[--Hs],Vs[Hs]=null,Tm=Vs[--Hs],Vs[Hs]=null;for(;t===Hn;)Hn=Fo[--qo],Fo[qo]=null,ai=Fo[--qo],Fo[qo]=null,ti=Fo[--qo],Fo[qo]=null}var _o=null,xo=null,Gt=!1,nr=null;function a_(t,e){var a=Uo(5,null,null,0);a.elementType="DELETED",a.stateNode=e,a.return=t,e=t.deletions,e===null?(t.deletions=[a],t.flags|=16):e.push(a)}function y2(t,e){switch(t.tag){case 5:var a=t.type;return e=e.nodeType!==1||a.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_o=t,xo=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_o=t,xo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(a=Hn!==null?{id:ti,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:a,retryLane:1073741824},a=Uo(18,null,null,0),a.stateNode=e,a.return=t,t.child=a,_o=t,xo=null,!0):!1;default:return!1}}function Fv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qv(t){if(Gt){var e=xo;if(e){var a=e;if(!y2(t,e)){if(Fv(t))throw Error(fe(418));e=Bi(a.nextSibling);var o=_o;e&&y2(t,e)?a_(o,a):(t.flags=t.flags&-4097|2,Gt=!1,_o=t)}}else{if(Fv(t))throw Error(fe(418));t.flags=t.flags&-4097|2,Gt=!1,_o=t}}}function x2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_o=t}function nu(t){if(t!==_o)return!1;if(!Gt)return x2(t),Gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ov(t.type,t.memoizedProps)),e&&(e=xo)){if(Fv(t))throw o_(),Error(fe(418));for(;e;)a_(t,e),e=Bi(e.nextSibling)}if(x2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(e===0){xo=Bi(t.nextSibling);break e}e--}else a!=="$"&&a!=="$!"&&a!=="$?"||e++}t=t.nextSibling}xo=null}}else xo=_o?Bi(t.stateNode.nextSibling):null;return!0}function o_(){for(var t=xo;t;)t=Bi(t.nextSibling)}function ml(){xo=_o=null,Gt=!1}function l0(t){nr===null?nr=[t]:nr.push(t)}var aC=mi.ReactCurrentBatchConfig;function or(t,e){if(t&&t.defaultProps){e=Jt({},e),t=t.defaultProps;for(var a in t)e[a]===void 0&&(e[a]=t[a]);return e}return e}var Pm=an(null),Lm=null,Ws=null,c0=null;function d0(){c0=Ws=Lm=null}function u0(t){var e=Pm.current;Vt(Pm),t._currentValue=e}function jv(t,e,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===a)break;t=t.return}}function ol(t,e){Lm=t,c0=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(to=!0),t.firstContext=null)}function Wo(t){var e=t._currentValue;if(c0!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(Lm===null)throw Error(fe(308));Ws=t,Lm.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var Sn=null;function m0(t){Sn===null?Sn=[t]:Sn.push(t)}function r_(t,e,a,o){var r=e.interleaved;return r===null?(a.next=a,m0(e)):(a.next=r.next,r.next=a),e.interleaved=a,li(t,o)}function li(t,e){t.lanes|=e;var a=t.alternate;for(a!==null&&(a.lanes|=e),a=t,t=t.return;t!==null;)t.childLanes|=e,a=t.alternate,a!==null&&(a.childLanes|=e),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Li=!1;function p0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,Ct&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,li(t,a)}return r=o.interleaved,r===null?(e.next=e,m0(o)):(e.next=r.next,r.next=e),o.interleaved=e,li(t,a)}function Ju(t,e,a){if(e=e.updateQueue,e!==null&&(e=e.shared,(a&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,a|=o,e.lanes=a,Qg(t,a)}}function b2(t,e){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var r=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var n={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};i===null?r=i=n:i=i.next=n,a=a.next}while(a!==null);i===null?r=i=e:i=i.next=e}else r=i=e;a={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=e:t.next=e,a.lastBaseUpdate=e}function Dm(t,e,a,o){var r=t.updateQueue;Li=!1;var i=r.firstBaseUpdate,n=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var l=s,c=l.next;l.next=null,n===null?i=c:n.next=c,n=l;var d=t.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==n&&(s===null?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(i!==null){var m=r.baseState;n=0,d=c=l=null,s=i;do{var u=s.lane,v=s.eventTime;if((o&u)===u){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=t,p=s;switch(u=e,v=a,p.tag){case 1:if(h=p.payload,typeof h=="function"){m=h.call(v,m,u);break e}m=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=p.payload,u=typeof h=="function"?h.call(v,m,u):h,u==null)break e;m=Jt({},m,u);break e;case 2:Li=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,u=r.effects,u===null?r.effects=[s]:u.push(s))}else v={eventTime:v,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=v,l=m):d=d.next=v,n|=u;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;u=s,s=u.next,u.next=null,r.lastBaseUpdate=u,r.shared.pending=null}}while(!0);if(d===null&&(l=m),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do n|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Gn|=n,t.lanes=n,t.memoizedState=m}}function _2(t,e,a){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=a,typeof r!="function")throw Error(fe(191,r));r.call(o)}}}var n_=new rb.Component().refs;function Bv(t,e,a,o){e=t.memoizedState,a=a(o,e),a=a==null?e:Jt({},e,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xp={isMounted:function(t){return(t=t._reactInternals)?ns(t)===t:!1},enqueueSetState:function(t,e,a){t=t._reactInternals;var o=Ha(),r=Vi(t),i=oi(o,r);i.payload=e,a!=null&&(i.callback=a),e=$i(t,i,r),e!==null&&(ur(e,t,r,o),Ju(e,t,r))},enqueueReplaceState:function(t,e,a){t=t._reactInternals;var o=Ha(),r=Vi(t),i=oi(o,r);i.tag=1,i.payload=e,a!=null&&(i.callback=a),e=$i(t,i,r),e!==null&&(ur(e,t,r,o),Ju(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var a=Ha(),o=Vi(t),r=oi(a,o);r.tag=2,e!=null&&(r.callback=e),e=$i(t,r,o),e!==null&&(ur(e,t,o,a),Ju(e,t,o))}};function w2(t,e,a,o,r,i,n){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,n):e.prototype&&e.prototype.isPureReactComponent?!Gc(a,o)||!Gc(r,i):!0}function s_(t,e,a){var o=!1,r=Gi,i=e.contextType;return typeof i=="object"&&i!==null?i=Wo(i):(r=ro(e)?Vn:qa.current,o=e.contextTypes,i=(o=o!=null)?ul(t,r):Gi),e=new e(a,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xp,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function E2(t,e,a,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(a,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(a,o),e.state!==t&&xp.enqueueReplaceState(e,e.state,null)}function $v(t,e,a,o){var r=t.stateNode;r.props=a,r.state=t.memoizedState,r.refs=n_,p0(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Wo(i):(i=ro(e)?Vn:qa.current,r.context=ul(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Bv(t,e,i,a),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&xp.enqueueReplaceState(r,r.state,null),Dm(t,a,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Hl(t,e,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(fe(309));var o=a.stateNode}if(!o)throw Error(fe(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(n){var s=r.refs;s===n_&&(s=r.refs={}),n===null?delete s[i]:s[i]=n},e._stringRef=i,e)}if(typeof t!="string")throw Error(fe(284));if(!a._owner)throw Error(fe(290,t))}return t}function su(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S2(t){var e=t._init;return e(t._payload)}function l_(t){function e(g,y){if(t){var x=g.deletions;x===null?(g.deletions=[y],g.flags|=16):x.push(y)}}function a(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function o(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function r(g,y){return g=Hi(g,y),g.index=0,g.sibling=null,g}function i(g,y,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<y?(g.flags|=2,y):x):(g.flags|=2,y)):(g.flags|=1048576,y)}function n(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,y,x,b){return y===null||y.tag!==6?(y=ih(x,g.mode,b),y.return=g,y):(y=r(y,x),y.return=g,y)}function l(g,y,x,b){var w=x.type;return w===Fs?d(g,y,x.props.children,b,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Pi&&S2(w)===y.type)?(b=r(y,x.props),b.ref=Hl(g,y,x),b.return=g,b):(b=im(x.type,x.key,x.props,null,g.mode,b),b.ref=Hl(g,y,x),b.return=g,b)}function c(g,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=nh(x,g.mode,b),y.return=g,y):(y=r(y,x.children||[]),y.return=g,y)}function d(g,y,x,b,w){return y===null||y.tag!==7?(y=zn(x,g.mode,b,w),y.return=g,y):(y=r(y,x),y.return=g,y)}function m(g,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ih(""+y,g.mode,x),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yd:return x=im(y.type,y.key,y.props,null,g.mode,x),x.ref=Hl(g,null,y),x.return=g,x;case Ns:return y=nh(y,g.mode,x),y.return=g,y;case Pi:var b=y._init;return m(g,b(y._payload),x)}if(hc(y)||jl(y))return y=zn(y,g.mode,x,null),y.return=g,y;su(g,y)}return null}function u(g,y,x,b){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(g,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yd:return x.key===w?l(g,y,x,b):null;case Ns:return x.key===w?c(g,y,x,b):null;case Pi:return w=x._init,u(g,y,w(x._payload),b)}if(hc(x)||jl(x))return w!==null?null:d(g,y,x,b,null);su(g,x)}return null}function v(g,y,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,s(y,g,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yd:return g=g.get(b.key===null?x:b.key)||null,l(y,g,b,w);case Ns:return g=g.get(b.key===null?x:b.key)||null,c(y,g,b,w);case Pi:var _=b._init;return v(g,y,x,_(b._payload),w)}if(hc(b)||jl(b))return g=g.get(x)||null,d(y,g,b,w,null);su(y,b)}return null}function h(g,y,x,b){for(var w=null,_=null,S=y,E=y=0,A=null;S!==null&&E<x.length;E++){S.index>E?(A=S,S=null):A=S.sibling;var T=u(g,S,x[E],b);if(T===null){S===null&&(S=A);break}t&&S&&T.alternate===null&&e(g,S),y=i(T,y,E),_===null?w=T:_.sibling=T,_=T,S=A}if(E===x.length)return a(g,S),Gt&&fn(g,E),w;if(S===null){for(;E<x.length;E++)S=m(g,x[E],b),S!==null&&(y=i(S,y,E),_===null?w=S:_.sibling=S,_=S);return Gt&&fn(g,E),w}for(S=o(g,S);E<x.length;E++)A=v(S,g,E,x[E],b),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?E:A.key),y=i(A,y,E),_===null?w=A:_.sibling=A,_=A);return t&&S.forEach(function(O){return e(g,O)}),Gt&&fn(g,E),w}function p(g,y,x,b){var w=jl(x);if(typeof w!="function")throw Error(fe(150));if(x=w.call(x),x==null)throw Error(fe(151));for(var _=w=null,S=y,E=y=0,A=null,T=x.next();S!==null&&!T.done;E++,T=x.next()){S.index>E?(A=S,S=null):A=S.sibling;var O=u(g,S,T.value,b);if(O===null){S===null&&(S=A);break}t&&S&&O.alternate===null&&e(g,S),y=i(O,y,E),_===null?w=O:_.sibling=O,_=O,S=A}if(T.done)return a(g,S),Gt&&fn(g,E),w;if(S===null){for(;!T.done;E++,T=x.next())T=m(g,T.value,b),T!==null&&(y=i(T,y,E),_===null?w=T:_.sibling=T,_=T);return Gt&&fn(g,E),w}for(S=o(g,S);!T.done;E++,T=x.next())T=v(S,g,E,T.value,b),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?E:T.key),y=i(T,y,E),_===null?w=T:_.sibling=T,_=T);return t&&S.forEach(function(B){return e(g,B)}),Gt&&fn(g,E),w}function f(g,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Fs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yd:e:{for(var w=x.key,_=y;_!==null;){if(_.key===w){if(w=x.type,w===Fs){if(_.tag===7){a(g,_.sibling),y=r(_,x.props.children),y.return=g,g=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Pi&&S2(w)===_.type){a(g,_.sibling),y=r(_,x.props),y.ref=Hl(g,_,x),y.return=g,g=y;break e}a(g,_);break}else e(g,_);_=_.sibling}x.type===Fs?(y=zn(x.props.children,g.mode,b,x.key),y.return=g,g=y):(b=im(x.type,x.key,x.props,null,g.mode,b),b.ref=Hl(g,y,x),b.return=g,g=b)}return n(g);case Ns:e:{for(_=x.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){a(g,y.sibling),y=r(y,x.children||[]),y.return=g,g=y;break e}else{a(g,y);break}else e(g,y);y=y.sibling}y=nh(x,g.mode,b),y.return=g,g=y}return n(g);case Pi:return _=x._init,f(g,y,_(x._payload),b)}if(hc(x))return h(g,y,x,b);if(jl(x))return p(g,y,x,b);su(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(a(g,y.sibling),y=r(y,x),y.return=g,g=y):(a(g,y),y=ih(x,g.mode,b),y.return=g,g=y),n(g)):a(g,y)}return f}var pl=l_(!0),c_=l_(!1),Id={},Dr=an(Id),Kc=an(Id),Qc=an(Id);function Cn(t){if(t===Id)throw Error(fe(174));return t}function f0(t,e){switch(qt(Qc,e),qt(Kc,t),qt(Dr,Id),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bv(e,t)}Vt(Dr),qt(Dr,e)}function fl(){Vt(Dr),Vt(Kc),Vt(Qc)}function d_(t){Cn(Qc.current);var e=Cn(Dr.current),a=bv(e,t.type);e!==a&&(qt(Kc,t),qt(Dr,a))}function h0(t){Kc.current===t&&(Vt(Dr),Vt(Kc))}var Kt=an(0);function Im(t){for(var e=t;e!==null;){if(e.tag===13){var a=e.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jf=[];function v0(){for(var t=0;t<Jf.length;t++)Jf[t]._workInProgressVersionPrimary=null;Jf.length=0}var em=mi.ReactCurrentDispatcher,eh=mi.ReactCurrentBatchConfig,Wn=0,Qt=null,ya=null,Ea=null,Om=!1,Tc=!1,Jc=0,oC=0;function Da(){throw Error(fe(321))}function g0(t,e){if(e===null)return!1;for(var a=0;a<e.length&&a<t.length;a++)if(!hr(t[a],e[a]))return!1;return!0}function y0(t,e,a,o,r,i){if(Wn=i,Qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,em.current=t===null||t.memoizedState===null?sC:lC,t=a(o,r),Tc){i=0;do{if(Tc=!1,Jc=0,25<=i)throw Error(fe(301));i+=1,Ea=ya=null,e.updateQueue=null,em.current=cC,t=a(o,r)}while(Tc)}if(em.current=km,e=ya!==null&&ya.next!==null,Wn=0,Ea=ya=Qt=null,Om=!1,e)throw Error(fe(300));return t}function x0(){var t=Jc!==0;return Jc=0,t}function Sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ea===null?Qt.memoizedState=Ea=t:Ea=Ea.next=t,Ea}function Go(){if(ya===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=ya.next;var e=Ea===null?Qt.memoizedState:Ea.next;if(e!==null)Ea=e,ya=t;else{if(t===null)throw Error(fe(310));ya=t,t={memoizedState:ya.memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},Ea===null?Qt.memoizedState=Ea=t:Ea=Ea.next=t}return Ea}function ed(t,e){return typeof e=="function"?e(t):e}function th(t){var e=Go(),a=e.queue;if(a===null)throw Error(fe(311));a.lastRenderedReducer=t;var o=ya,r=o.baseQueue,i=a.pending;if(i!==null){if(r!==null){var n=r.next;r.next=i.next,i.next=n}o.baseQueue=r=i,a.pending=null}if(r!==null){i=r.next,o=o.baseState;var s=n=null,l=null,c=i;do{var d=c.lane;if((Wn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:t(o,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=m,n=o):l=l.next=m,Qt.lanes|=d,Gn|=d}c=c.next}while(c!==null&&c!==i);l===null?n=o:l.next=s,hr(o,e.memoizedState)||(to=!0),e.memoizedState=o,e.baseState=n,e.baseQueue=l,a.lastRenderedState=o}if(t=a.interleaved,t!==null){r=t;do i=r.lane,Qt.lanes|=i,Gn|=i,r=r.next;while(r!==t)}else r===null&&(a.lanes=0);return[e.memoizedState,a.dispatch]}function ah(t){var e=Go(),a=e.queue;if(a===null)throw Error(fe(311));a.lastRenderedReducer=t;var o=a.dispatch,r=a.pending,i=e.memoizedState;if(r!==null){a.pending=null;var n=r=r.next;do i=t(i,n.action),n=n.next;while(n!==r);hr(i,e.memoizedState)||(to=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),a.lastRenderedState=i}return[i,o]}function u_(){}function m_(t,e){var a=Qt,o=Go(),r=e(),i=!hr(o.memoizedState,r);if(i&&(o.memoizedState=r,to=!0),o=o.queue,b0(h_.bind(null,a,o,t),[t]),o.getSnapshot!==e||i||Ea!==null&&Ea.memoizedState.tag&1){if(a.flags|=2048,td(9,f_.bind(null,a,o,r,e),void 0,null),Sa===null)throw Error(fe(349));Wn&30||p_(a,e,r)}return r}function p_(t,e,a){t.flags|=16384,t={getSnapshot:e,value:a},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.stores=[t]):(a=e.stores,a===null?e.stores=[t]:a.push(t))}function f_(t,e,a,o){e.value=a,e.getSnapshot=o,v_(e)&&g_(t)}function h_(t,e,a){return a(function(){v_(e)&&g_(t)})}function v_(t){var e=t.getSnapshot;t=t.value;try{var a=e();return!hr(t,a)}catch{return!0}}function g_(t){var e=li(t,1);e!==null&&ur(e,t,1,-1)}function C2(t){var e=Sr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:t},e.queue=t,t=t.dispatch=nC.bind(null,Qt,t),[e.memoizedState,t]}function td(t,e,a,o){return t={tag:t,create:e,destroy:a,deps:o,next:null},e=Qt.updateQueue,e===null?(e={lastEffect:null,stores:null},Qt.updateQueue=e,e.lastEffect=t.next=t):(a=e.lastEffect,a===null?e.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,e.lastEffect=t)),t}function y_(){return Go().memoizedState}function tm(t,e,a,o){var r=Sr();Qt.flags|=t,r.memoizedState=td(1|e,a,void 0,o===void 0?null:o)}function bp(t,e,a,o){var r=Go();o=o===void 0?null:o;var i=void 0;if(ya!==null){var n=ya.memoizedState;if(i=n.destroy,o!==null&&g0(o,n.deps)){r.memoizedState=td(e,a,i,o);return}}Qt.flags|=t,r.memoizedState=td(1|e,a,i,o)}function A2(t,e){return tm(8390656,8,t,e)}function b0(t,e){return bp(2048,8,t,e)}function x_(t,e){return bp(4,2,t,e)}function b_(t,e){return bp(4,4,t,e)}function __(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w_(t,e,a){return a=a!=null?a.concat([t]):null,bp(4,4,__.bind(null,e,t),a)}function _0(){}function E_(t,e){var a=Go();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&g0(e,o[1])?o[0]:(a.memoizedState=[t,e],t)}function S_(t,e){var a=Go();e=e===void 0?null:e;var o=a.memoizedState;return o!==null&&e!==null&&g0(e,o[1])?o[0]:(t=t(),a.memoizedState=[t,e],t)}function C_(t,e,a){return Wn&21?(hr(a,e)||(a=Rb(),Qt.lanes|=a,Gn|=a,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,to=!0),t.memoizedState=a)}function rC(t,e){var a=It;It=a!==0&&4>a?a:4,t(!0);var o=eh.transition;eh.transition={};try{t(!1),e()}finally{It=a,eh.transition=o}}function A_(){return Go().memoizedState}function iC(t,e,a){var o=Vi(t);if(a={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null},M_(t))R_(e,a);else if(a=r_(t,e,a,o),a!==null){var r=Ha();ur(a,t,o,r),T_(a,e,o)}}function nC(t,e,a){var o=Vi(t),r={lane:o,action:a,hasEagerState:!1,eagerState:null,next:null};if(M_(t))R_(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var n=e.lastRenderedState,s=i(n,a);if(r.hasEagerState=!0,r.eagerState=s,hr(s,n)){var l=e.interleaved;l===null?(r.next=r,m0(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}a=r_(t,e,r,o),a!==null&&(r=Ha(),ur(a,t,o,r),T_(a,e,o))}}function M_(t){var e=t.alternate;return t===Qt||e!==null&&e===Qt}function R_(t,e){Tc=Om=!0;var a=t.pending;a===null?e.next=e:(e.next=a.next,a.next=e),t.pending=e}function T_(t,e,a){if(a&4194240){var o=e.lanes;o&=t.pendingLanes,a|=o,e.lanes=a,Qg(t,a)}}var km={readContext:Wo,useCallback:Da,useContext:Da,useEffect:Da,useImperativeHandle:Da,useInsertionEffect:Da,useLayoutEffect:Da,useMemo:Da,useReducer:Da,useRef:Da,useState:Da,useDebugValue:Da,useDeferredValue:Da,useTransition:Da,useMutableSource:Da,useSyncExternalStore:Da,useId:Da,unstable_isNewReconciler:!1},sC={readContext:Wo,useCallback:function(t,e){return Sr().memoizedState=[t,e===void 0?null:e],t},useContext:Wo,useEffect:A2,useImperativeHandle:function(t,e,a){return a=a!=null?a.concat([t]):null,tm(4194308,4,__.bind(null,e,t),a)},useLayoutEffect:function(t,e){return tm(4194308,4,t,e)},useInsertionEffect:function(t,e){return tm(4,2,t,e)},useMemo:function(t,e){var a=Sr();return e=e===void 0?null:e,t=t(),a.memoizedState=[t,e],t},useReducer:function(t,e,a){var o=Sr();return e=a!==void 0?a(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=iC.bind(null,Qt,t),[o.memoizedState,t]},useRef:function(t){var e=Sr();return t={current:t},e.memoizedState=t},useState:C2,useDebugValue:_0,useDeferredValue:function(t){return Sr().memoizedState=t},useTransition:function(){var t=C2(!1),e=t[0];return t=rC.bind(null,t[1]),Sr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,a){var o=Qt,r=Sr();if(Gt){if(a===void 0)throw Error(fe(407));a=a()}else{if(a=e(),Sa===null)throw Error(fe(349));Wn&30||p_(o,e,a)}r.memoizedState=a;var i={value:a,getSnapshot:e};return r.queue=i,A2(h_.bind(null,o,i,t),[t]),o.flags|=2048,td(9,f_.bind(null,o,i,a,e),void 0,null),a},useId:function(){var t=Sr(),e=Sa.identifierPrefix;if(Gt){var a=ai,o=ti;a=(o&~(1<<32-dr(o)-1)).toString(32)+a,e=":"+e+"R"+a,a=Jc++,0<a&&(e+="H"+a.toString(32)),e+=":"}else a=oC++,e=":"+e+"r"+a.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lC={readContext:Wo,useCallback:E_,useContext:Wo,useEffect:b0,useImperativeHandle:w_,useInsertionEffect:x_,useLayoutEffect:b_,useMemo:S_,useReducer:th,useRef:y_,useState:function(){return th(ed)},useDebugValue:_0,useDeferredValue:function(t){var e=Go();return C_(e,ya.memoizedState,t)},useTransition:function(){var t=th(ed)[0],e=Go().memoizedState;return[t,e]},useMutableSource:u_,useSyncExternalStore:m_,useId:A_,unstable_isNewReconciler:!1},cC={readContext:Wo,useCallback:E_,useContext:Wo,useEffect:b0,useImperativeHandle:w_,useInsertionEffect:x_,useLayoutEffect:b_,useMemo:S_,useReducer:ah,useRef:y_,useState:function(){return ah(ed)},useDebugValue:_0,useDeferredValue:function(t){var e=Go();return ya===null?e.memoizedState=t:C_(e,ya.memoizedState,t)},useTransition:function(){var t=ah(ed)[0],e=Go().memoizedState;return[t,e]},useMutableSource:u_,useSyncExternalStore:m_,useId:A_,unstable_isNewReconciler:!1};function hl(t,e){try{var a="",o=e;do a+=NE(o),o=o.return;while(o);var r=a}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function oh(t,e,a){return{value:t,source:null,stack:a??null,digest:e??null}}function Uv(t,e){try{console.error(e.value)}catch(a){setTimeout(function(){throw a})}}var dC=typeof WeakMap=="function"?WeakMap:Map;function P_(t,e,a){a=oi(-1,a),a.tag=3,a.payload={element:null};var o=e.value;return a.callback=function(){Nm||(Nm=!0,Jv=o),Uv(t,e)},a}function L_(t,e,a){a=oi(-1,a),a.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;a.payload=function(){return o(r)},a.callback=function(){Uv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(a.callback=function(){Uv(t,e),typeof o!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var n=e.stack;this.componentDidCatch(e.value,{componentStack:n!==null?n:""})}),a}function M2(t,e,a){var o=t.pingCache;if(o===null){o=t.pingCache=new dC;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(a)||(r.add(a),t=SC.bind(null,t,e,a),e.then(t,t))}function R2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function T2(t,e,a,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(e=oi(-1,1),e.tag=2,$i(a,e,1))),a.lanes|=1),t)}var uC=mi.ReactCurrentOwner,to=!1;function Va(t,e,a,o){e.child=t===null?c_(e,null,a,o):pl(e,t.child,a,o)}function P2(t,e,a,o,r){a=a.render;var i=e.ref;return ol(e,r),o=y0(t,e,a,o,i,r),a=x0(),t!==null&&!to?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(Gt&&a&&n0(e),e.flags|=1,Va(t,e,o,r),e.child)}function L2(t,e,a,o,r){if(t===null){var i=a.type;return typeof i=="function"&&!T0(i)&&i.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(e.tag=15,e.type=i,D_(t,e,i,o,r)):(t=im(a.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var n=i.memoizedProps;if(a=a.compare,a=a!==null?a:Gc,a(n,o)&&t.ref===e.ref)return ci(t,e,r)}return e.flags|=1,t=Hi(i,o),t.ref=e.ref,t.return=e,e.child=t}function D_(t,e,a,o,r){if(t!==null){var i=t.memoizedProps;if(Gc(i,o)&&t.ref===e.ref)if(to=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(to=!0);else return e.lanes=t.lanes,ci(t,e,r)}return Vv(t,e,a,o,r)}function I_(t,e,a){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Zs,ho),ho|=a;else{if(!(a&1073741824))return t=i!==null?i.baseLanes|a:a,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(Zs,ho),ho|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:a,qt(Zs,ho),ho|=o}else i!==null?(o=i.baseLanes|a,e.memoizedState=null):o=a,qt(Zs,ho),ho|=o;return Va(t,e,r,a),e.child}function O_(t,e){var a=e.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(e.flags|=512,e.flags|=2097152)}function Vv(t,e,a,o,r){var i=ro(a)?Vn:qa.current;return i=ul(e,i),ol(e,r),a=y0(t,e,a,o,i,r),o=x0(),t!==null&&!to?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,ci(t,e,r)):(Gt&&o&&n0(e),e.flags|=1,Va(t,e,a,r),e.child)}function D2(t,e,a,o,r){if(ro(a)){var i=!0;Mm(e)}else i=!1;if(ol(e,r),e.stateNode===null)am(t,e),s_(e,a,o),$v(e,a,o,r),o=!0;else if(t===null){var n=e.stateNode,s=e.memoizedProps;n.props=s;var l=n.context,c=a.contextType;typeof c=="object"&&c!==null?c=Wo(c):(c=ro(a)?Vn:qa.current,c=ul(e,c));var d=a.getDerivedStateFromProps,m=typeof d=="function"||typeof n.getSnapshotBeforeUpdate=="function";m||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(s!==o||l!==c)&&E2(e,n,o,c),Li=!1;var u=e.memoizedState;n.state=u,Dm(e,o,n,r),l=e.memoizedState,s!==o||u!==l||oo.current||Li?(typeof d=="function"&&(Bv(e,a,d,o),l=e.memoizedState),(s=Li||w2(e,a,s,o,u,l,c))?(m||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(e.flags|=4194308)):(typeof n.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=l),n.props=o,n.state=l,n.context=c,o=s):(typeof n.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{n=e.stateNode,i_(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:or(e.type,s),n.props=c,m=e.pendingProps,u=n.context,l=a.contextType,typeof l=="object"&&l!==null?l=Wo(l):(l=ro(a)?Vn:qa.current,l=ul(e,l));var v=a.getDerivedStateFromProps;(d=typeof v=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(s!==m||u!==l)&&E2(e,n,o,l),Li=!1,u=e.memoizedState,n.state=u,Dm(e,o,n,r);var h=e.memoizedState;s!==m||u!==h||oo.current||Li?(typeof v=="function"&&(Bv(e,a,v,o),h=e.memoizedState),(c=Li||w2(e,a,c,o,u,h,l)||!1)?(d||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(o,h,l),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(o,h,l)),typeof n.componentDidUpdate=="function"&&(e.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof n.componentDidUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=h),n.props=o,n.state=h,n.context=l,o=c):(typeof n.componentDidUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&u===t.memoizedState||(e.flags|=1024),o=!1)}return Hv(t,e,a,o,i,r)}function Hv(t,e,a,o,r,i){O_(t,e);var n=(e.flags&128)!==0;if(!o&&!n)return r&&g2(e,a,!1),ci(t,e,i);o=e.stateNode,uC.current=e;var s=n&&typeof a.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&n?(e.child=pl(e,t.child,null,i),e.child=pl(e,null,s,i)):Va(t,e,s,i),e.memoizedState=o.state,r&&g2(e,a,!0),e.child}function k_(t){var e=t.stateNode;e.pendingContext?v2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v2(t,e.context,!1),f0(t,e.containerInfo)}function I2(t,e,a,o,r){return ml(),l0(r),e.flags|=256,Va(t,e,a,o),e.child}var Wv={dehydrated:null,treeContext:null,retryLane:0};function Gv(t){return{baseLanes:t,cachePool:null,transitions:null}}function z_(t,e,a){var o=e.pendingProps,r=Kt.current,i=!1,n=(e.flags&128)!==0,s;if((s=n)||(s=t!==null&&t.memoizedState===null?!1:(r&2)!==0),s?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),qt(Kt,r&1),t===null)return qv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(n=o.children,t=o.fallback,i?(o=e.mode,i=e.child,n={mode:"hidden",children:n},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=n):i=Ep(n,o,0,null),t=zn(t,o,a,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gv(a),e.memoizedState=Wv,t):w0(e,n));if(r=t.memoizedState,r!==null&&(s=r.dehydrated,s!==null))return mC(t,e,n,o,s,r,a);if(i){i=o.fallback,n=e.mode,r=t.child,s=r.sibling;var l={mode:"hidden",children:o.children};return!(n&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=l,e.deletions=null):(o=Hi(r,l),o.subtreeFlags=r.subtreeFlags&14680064),s!==null?i=Hi(s,i):(i=zn(i,n,a,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,n=t.child.memoizedState,n=n===null?Gv(a):{baseLanes:n.baseLanes|a,cachePool:null,transitions:n.transitions},i.memoizedState=n,i.childLanes=t.childLanes&~a,e.memoizedState=Wv,o}return i=t.child,t=i.sibling,o=Hi(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=a),o.return=e,o.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=o,e.memoizedState=null,o}function w0(t,e){return e=Ep({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lu(t,e,a,o){return o!==null&&l0(o),pl(e,t.child,null,a),t=w0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mC(t,e,a,o,r,i,n){if(a)return e.flags&256?(e.flags&=-257,o=oh(Error(fe(422))),lu(t,e,n,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=Ep({mode:"visible",children:o.children},r,0,null),i=zn(i,r,n,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&pl(e,t.child,null,n),e.child.memoizedState=Gv(n),e.memoizedState=Wv,i);if(!(e.mode&1))return lu(t,e,n,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var s=o.dgst;return o=s,i=Error(fe(419)),o=oh(i,o,void 0),lu(t,e,n,o)}if(s=(n&t.childLanes)!==0,to||s){if(o=Sa,o!==null){switch(n&-n){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|n)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,li(t,r),ur(o,t,r,-1))}return R0(),o=oh(Error(fe(421))),lu(t,e,n,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=CC.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,xo=Bi(r.nextSibling),_o=e,Gt=!0,nr=null,t!==null&&(Fo[qo++]=ti,Fo[qo++]=ai,Fo[qo++]=Hn,ti=t.id,ai=t.overflow,Hn=e),e=w0(e,o.children),e.flags|=4096,e)}function O2(t,e,a){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),jv(t.return,e,a)}function rh(t,e,a,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=a,i.tailMode=r)}function N_(t,e,a){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Va(t,e,o.children,a),o=Kt.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O2(t,a,e);else if(t.tag===19)O2(t,a,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(qt(Kt,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(a=e.child,r=null;a!==null;)t=a.alternate,t!==null&&Im(t)===null&&(r=a),a=a.sibling;a=r,a===null?(r=e.child,e.child=null):(r=a.sibling,a.sibling=null),rh(e,!1,r,a,i);break;case"backwards":for(a=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Im(t)===null){e.child=r;break}t=r.sibling,r.sibling=a,a=r,r=t}rh(e,!0,a,null,i);break;case"together":rh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function am(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ci(t,e,a){if(t!==null&&(e.dependencies=t.dependencies),Gn|=e.lanes,!(a&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,a=Hi(t,t.pendingProps),e.child=a,a.return=e;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=e;a.sibling=null}return e.child}function pC(t,e,a){switch(e.tag){case 3:k_(e),ml();break;case 5:d_(e);break;case 1:ro(e.type)&&Mm(e);break;case 4:f0(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;qt(Pm,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(qt(Kt,Kt.current&1),e.flags|=128,null):a&e.child.childLanes?z_(t,e,a):(qt(Kt,Kt.current&1),t=ci(t,e,a),t!==null?t.sibling:null);qt(Kt,Kt.current&1);break;case 19:if(o=(a&e.childLanes)!==0,t.flags&128){if(o)return N_(t,e,a);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),qt(Kt,Kt.current),o)break;return null;case 22:case 23:return e.lanes=0,I_(t,e,a)}return ci(t,e,a)}var F_,Zv,q_,j_;F_=function(t,e){for(var a=e.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Zv=function(){};q_=function(t,e,a,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,Cn(Dr.current);var i=null;switch(a){case"input":r=vv(t,r),o=vv(t,o),i=[];break;case"select":r=Jt({},r,{value:void 0}),o=Jt({},o,{value:void 0}),i=[];break;case"textarea":r=xv(t,r),o=xv(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Cm)}_v(a,o);var n;a=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var s=r[c];for(n in s)s.hasOwnProperty(n)&&(a||(a={}),a[n]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var l=o[c];if(s=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(n in s)!s.hasOwnProperty(n)||l&&l.hasOwnProperty(n)||(a||(a={}),a[n]="");for(n in l)l.hasOwnProperty(n)&&s[n]!==l[n]&&(a||(a={}),a[n]=l[n])}else a||(i||(i=[]),i.push(c,a)),a=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ut("scroll",t),i||s===l||(i=[])):(i=i||[]).push(c,l))}a&&(i=i||[]).push("style",a);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};j_=function(t,e,a,o){a!==o&&(e.flags|=4)};function Wl(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var a=null;e!==null;)e.alternate!==null&&(a=e),e=e.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Ia(t){var e=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(e)for(var r=t.child;r!==null;)a|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)a|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=a,e}function fC(t,e,a){var o=e.pendingProps;switch(s0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ia(e),null;case 1:return ro(e.type)&&Am(),Ia(e),null;case 3:return o=e.stateNode,fl(),Vt(oo),Vt(qa),v0(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(ag(nr),nr=null))),Zv(t,e),Ia(e),null;case 5:h0(e);var r=Cn(Qc.current);if(a=e.type,t!==null&&e.stateNode!=null)q_(t,e,a,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(fe(166));return Ia(e),null}if(t=Cn(Dr.current),nu(e)){o=e.stateNode,a=e.type;var i=e.memoizedProps;switch(o[Tr]=e,o[Yc]=i,t=(e.mode&1)!==0,a){case"dialog":Ut("cancel",o),Ut("close",o);break;case"iframe":case"object":case"embed":Ut("load",o);break;case"video":case"audio":for(r=0;r<gc.length;r++)Ut(gc[r],o);break;case"source":Ut("error",o);break;case"img":case"image":case"link":Ut("error",o),Ut("load",o);break;case"details":Ut("toggle",o);break;case"input":U1(o,i),Ut("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Ut("invalid",o);break;case"textarea":H1(o,i),Ut("invalid",o)}_v(a,i),r=null;for(var n in i)if(i.hasOwnProperty(n)){var s=i[n];n==="children"?typeof s=="string"?o.textContent!==s&&(i.suppressHydrationWarning!==!0&&iu(o.textContent,s,t),r=["children",s]):typeof s=="number"&&o.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&iu(o.textContent,s,t),r=["children",""+s]):jc.hasOwnProperty(n)&&s!=null&&n==="onScroll"&&Ut("scroll",o)}switch(a){case"input":Kd(o),V1(o,i,!0);break;case"textarea":Kd(o),W1(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Cm)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{n=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pb(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=n.createElement(a,{is:o.is}):(t=n.createElement(a),a==="select"&&(n=t,o.multiple?n.multiple=!0:o.size&&(n.size=o.size))):t=n.createElementNS(t,a),t[Tr]=e,t[Yc]=o,F_(t,e,!1,!1),e.stateNode=t;e:{switch(n=wv(a,o),a){case"dialog":Ut("cancel",t),Ut("close",t),r=o;break;case"iframe":case"object":case"embed":Ut("load",t),r=o;break;case"video":case"audio":for(r=0;r<gc.length;r++)Ut(gc[r],t);r=o;break;case"source":Ut("error",t),r=o;break;case"img":case"image":case"link":Ut("error",t),Ut("load",t),r=o;break;case"details":Ut("toggle",t),r=o;break;case"input":U1(t,o),r=vv(t,o),Ut("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=Jt({},o,{value:void 0}),Ut("invalid",t);break;case"textarea":H1(t,o),r=xv(t,o),Ut("invalid",t);break;default:r=o}_v(a,r),s=r;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?vb(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fb(t,l)):i==="children"?typeof l=="string"?(a!=="textarea"||l!=="")&&Bc(t,l):typeof l=="number"&&Bc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ut("scroll",t):l!=null&&Wg(t,i,l,n))}switch(a){case"input":Kd(t),V1(t,o,!1);break;case"textarea":Kd(t),W1(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Wi(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?Js(t,!!o.multiple,i,!1):o.defaultValue!=null&&Js(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Cm)}switch(a){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ia(e),null;case 6:if(t&&e.stateNode!=null)j_(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(fe(166));if(a=Cn(Qc.current),Cn(Dr.current),nu(e)){if(o=e.stateNode,a=e.memoizedProps,o[Tr]=e,(i=o.nodeValue!==a)&&(t=_o,t!==null))switch(t.tag){case 3:iu(o.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&iu(o.nodeValue,a,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(a.nodeType===9?a:a.ownerDocument).createTextNode(o),o[Tr]=e,e.stateNode=o}return Ia(e),null;case 13:if(Vt(Kt),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gt&&xo!==null&&e.mode&1&&!(e.flags&128))o_(),ml(),e.flags|=98560,i=!1;else if(i=nu(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(fe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[Tr]=e}else ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ia(e),i=!1}else nr!==null&&(ag(nr),nr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=a,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||Kt.current&1?xa===0&&(xa=3):R0())),e.updateQueue!==null&&(e.flags|=4),Ia(e),null);case 4:return fl(),Zv(t,e),t===null&&Zc(e.stateNode.containerInfo),Ia(e),null;case 10:return u0(e.type._context),Ia(e),null;case 17:return ro(e.type)&&Am(),Ia(e),null;case 19:if(Vt(Kt),i=e.memoizedState,i===null)return Ia(e),null;if(o=(e.flags&128)!==0,n=i.rendering,n===null)if(o)Wl(i,!1);else{if(xa!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(n=Im(t),n!==null){for(e.flags|=128,Wl(i,!1),o=n.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=a,a=e.child;a!==null;)i=a,t=o,i.flags&=14680066,n=i.alternate,n===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=n.childLanes,i.lanes=n.lanes,i.child=n.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=n.memoizedProps,i.memoizedState=n.memoizedState,i.updateQueue=n.updateQueue,i.type=n.type,t=n.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return qt(Kt,Kt.current&1|2),e.child}t=t.sibling}i.tail!==null&&la()>vl&&(e.flags|=128,o=!0,Wl(i,!1),e.lanes=4194304)}else{if(!o)if(t=Im(n),t!==null){if(e.flags|=128,o=!0,a=t.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),Wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!n.alternate&&!Gt)return Ia(e),null}else 2*la()-i.renderingStartTime>vl&&a!==1073741824&&(e.flags|=128,o=!0,Wl(i,!1),e.lanes=4194304);i.isBackwards?(n.sibling=e.child,e.child=n):(a=i.last,a!==null?a.sibling=n:e.child=n,i.last=n)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=la(),e.sibling=null,a=Kt.current,qt(Kt,o?a&1|2:a&1),e):(Ia(e),null);case 22:case 23:return M0(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?ho&1073741824&&(Ia(e),e.subtreeFlags&6&&(e.flags|=8192)):Ia(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function hC(t,e){switch(s0(e),e.tag){case 1:return ro(e.type)&&Am(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),Vt(oo),Vt(qa),v0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return h0(e),null;case 13:if(Vt(Kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Kt),null;case 4:return fl(),null;case 10:return u0(e.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var cu=!1,Na=!1,vC=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Gs(t,e){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(o){oa(t,e,o)}else a.current=null}function Xv(t,e,a){try{a()}catch(o){oa(t,e,o)}}var k2=!1;function gC(t,e){if(Dv=wm,t=Vb(),i0(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var n=0,s=-1,l=-1,c=0,d=0,m=t,u=null;t:for(;;){for(var v;m!==a||r!==0&&m.nodeType!==3||(s=n+r),m!==i||o!==0&&m.nodeType!==3||(l=n+o),m.nodeType===3&&(n+=m.nodeValue.length),(v=m.firstChild)!==null;)u=m,m=v;for(;;){if(m===t)break t;if(u===a&&++c===r&&(s=n),u===i&&++d===o&&(l=n),(v=m.nextSibling)!==null)break;m=u,u=m.parentNode}m=v}a=s===-1||l===-1?null:{start:s,end:l}}else a=null}a=a||{start:0,end:0}}else a=null;for(Iv={focusedElem:t,selectionRange:a},wm=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var p=h.memoizedProps,f=h.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:or(e.type,p),f);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(b){oa(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return h=k2,k2=!1,h}function Pc(t,e,a){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Xv(e,a,i)}r=r.next}while(r!==o)}}function _p(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var a=e=e.next;do{if((a.tag&t)===t){var o=a.create;a.destroy=o()}a=a.next}while(a!==e)}}function Yv(t){var e=t.ref;if(e!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof e=="function"?e(t):e.current=t}}function B_(t){var e=t.alternate;e!==null&&(t.alternate=null,B_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[Yc],delete e[zv],delete e[JS],delete e[eC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $_(t){return t.tag===5||t.tag===3||t.tag===4}function z2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kv(t,e,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?a.nodeType===8?a.parentNode.insertBefore(t,e):a.insertBefore(t,e):(a.nodeType===8?(e=a.parentNode,e.insertBefore(t,a)):(e=a,e.appendChild(t)),a=a._reactRootContainer,a!=null||e.onclick!==null||(e.onclick=Cm));else if(o!==4&&(t=t.child,t!==null))for(Kv(t,e,a),t=t.sibling;t!==null;)Kv(t,e,a),t=t.sibling}function Qv(t,e,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?a.insertBefore(t,e):a.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(Qv(t,e,a),t=t.sibling;t!==null;)Qv(t,e,a),t=t.sibling}var Ma=null,rr=!1;function xi(t,e,a){for(a=a.child;a!==null;)U_(t,e,a),a=a.sibling}function U_(t,e,a){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(pp,a)}catch{}switch(a.tag){case 5:Na||Gs(a,e);case 6:var o=Ma,r=rr;Ma=null,xi(t,e,a),Ma=o,rr=r,Ma!==null&&(rr?(t=Ma,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):Ma.removeChild(a.stateNode));break;case 18:Ma!==null&&(rr?(t=Ma,a=a.stateNode,t.nodeType===8?Kf(t.parentNode,a):t.nodeType===1&&Kf(t,a),Hc(t)):Kf(Ma,a.stateNode));break;case 4:o=Ma,r=rr,Ma=a.stateNode.containerInfo,rr=!0,xi(t,e,a),Ma=o,rr=r;break;case 0:case 11:case 14:case 15:if(!Na&&(o=a.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,n=i.destroy;i=i.tag,n!==void 0&&(i&2||i&4)&&Xv(a,e,n),r=r.next}while(r!==o)}xi(t,e,a);break;case 1:if(!Na&&(Gs(a,e),o=a.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(s){oa(a,e,s)}xi(t,e,a);break;case 21:xi(t,e,a);break;case 22:a.mode&1?(Na=(o=Na)||a.memoizedState!==null,xi(t,e,a),Na=o):xi(t,e,a);break;default:xi(t,e,a)}}function N2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new vC),e.forEach(function(o){var r=AC.bind(null,t,o);a.has(o)||(a.add(o),o.then(r,r))})}}function Yo(t,e){var a=e.deletions;if(a!==null)for(var o=0;o<a.length;o++){var r=a[o];try{var i=t,n=e,s=n;e:for(;s!==null;){switch(s.tag){case 5:Ma=s.stateNode,rr=!1;break e;case 3:Ma=s.stateNode.containerInfo,rr=!0;break e;case 4:Ma=s.stateNode.containerInfo,rr=!0;break e}s=s.return}if(Ma===null)throw Error(fe(160));U_(i,n,r),Ma=null,rr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){oa(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V_(e,t),e=e.sibling}function V_(t,e){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yo(e,t),br(t),o&4){try{Pc(3,t,t.return),_p(3,t)}catch(p){oa(t,t.return,p)}try{Pc(5,t,t.return)}catch(p){oa(t,t.return,p)}}break;case 1:Yo(e,t),br(t),o&512&&a!==null&&Gs(a,a.return);break;case 5:if(Yo(e,t),br(t),o&512&&a!==null&&Gs(a,a.return),t.flags&32){var r=t.stateNode;try{Bc(r,"")}catch(p){oa(t,t.return,p)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,n=a!==null?a.memoizedProps:i,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&ub(r,i),wv(s,n);var c=wv(s,i);for(n=0;n<l.length;n+=2){var d=l[n],m=l[n+1];d==="style"?vb(r,m):d==="dangerouslySetInnerHTML"?fb(r,m):d==="children"?Bc(r,m):Wg(r,d,m,c)}switch(s){case"input":gv(r,i);break;case"textarea":mb(r,i);break;case"select":var u=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Js(r,!!i.multiple,v,!1):u!==!!i.multiple&&(i.defaultValue!=null?Js(r,!!i.multiple,i.defaultValue,!0):Js(r,!!i.multiple,i.multiple?[]:"",!1))}r[Yc]=i}catch(p){oa(t,t.return,p)}}break;case 6:if(Yo(e,t),br(t),o&4){if(t.stateNode===null)throw Error(fe(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(p){oa(t,t.return,p)}}break;case 3:if(Yo(e,t),br(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Hc(e.containerInfo)}catch(p){oa(t,t.return,p)}break;case 4:Yo(e,t),br(t);break;case 13:Yo(e,t),br(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(C0=la())),o&4&&N2(t);break;case 22:if(d=a!==null&&a.memoizedState!==null,t.mode&1?(Na=(c=Na)||d,Yo(e,t),Na=c):Yo(e,t),br(t),o&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(qe=t,d=t.child;d!==null;){for(m=qe=d;qe!==null;){switch(u=qe,v=u.child,u.tag){case 0:case 11:case 14:case 15:Pc(4,u,u.return);break;case 1:Gs(u,u.return);var h=u.stateNode;if(typeof h.componentWillUnmount=="function"){o=u,a=u.return;try{e=o,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(p){oa(o,a,p)}}break;case 5:Gs(u,u.return);break;case 22:if(u.memoizedState!==null){q2(m);continue}}v!==null?(v.return=u,qe=v):q2(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{r=m.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=m.stateNode,l=m.memoizedProps.style,n=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=hb("display",n))}catch(p){oa(t,t.return,p)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(p){oa(t,t.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Yo(e,t),br(t),o&4&&N2(t);break;case 21:break;default:Yo(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var a=t.return;a!==null;){if($_(a)){var o=a;break e}a=a.return}throw Error(fe(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Bc(r,""),o.flags&=-33);var i=z2(t);Qv(t,i,r);break;case 3:case 4:var n=o.stateNode.containerInfo,s=z2(t);Kv(t,s,n);break;default:throw Error(fe(161))}}catch(l){oa(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yC(t,e,a){qe=t,H_(t)}function H_(t,e,a){for(var o=(t.mode&1)!==0;qe!==null;){var r=qe,i=r.child;if(r.tag===22&&o){var n=r.memoizedState!==null||cu;if(!n){var s=r.alternate,l=s!==null&&s.memoizedState!==null||Na;s=cu;var c=Na;if(cu=n,(Na=l)&&!c)for(qe=r;qe!==null;)n=qe,l=n.child,n.tag===22&&n.memoizedState!==null?j2(r):l!==null?(l.return=n,qe=l):j2(r);for(;i!==null;)qe=i,H_(i),i=i.sibling;qe=r,cu=s,Na=c}F2(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,qe=i):F2(t)}}function F2(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var a=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Na||_p(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Na)if(a===null)o.componentDidMount();else{var r=e.elementType===e.type?a.memoizedProps:or(e.type,a.memoizedProps);o.componentDidUpdate(r,a.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&_2(e,i,o);break;case 3:var n=e.updateQueue;if(n!==null){if(a=null,e.child!==null)switch(e.child.tag){case 5:a=e.child.stateNode;break;case 1:a=e.child.stateNode}_2(e,n,a)}break;case 5:var s=e.stateNode;if(a===null&&e.flags&4){a=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break;case"img":l.src&&(a.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Hc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Na||e.flags&512&&Yv(e)}catch(u){oa(e,e.return,u)}}if(e===t){qe=null;break}if(a=e.sibling,a!==null){a.return=e.return,qe=a;break}qe=e.return}}function q2(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,qe=a;break}qe=e.return}}function j2(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var a=e.return;try{_p(4,e)}catch(l){oa(e,a,l)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(l){oa(e,r,l)}}var i=e.return;try{Yv(e)}catch(l){oa(e,i,l)}break;case 5:var n=e.return;try{Yv(e)}catch(l){oa(e,n,l)}}}catch(l){oa(e,e.return,l)}if(e===t){qe=null;break}var s=e.sibling;if(s!==null){s.return=e.return,qe=s;break}qe=e.return}}var xC=Math.ceil,zm=mi.ReactCurrentDispatcher,E0=mi.ReactCurrentOwner,Ho=mi.ReactCurrentBatchConfig,Ct=0,Sa=null,ha=null,Pa=0,ho=0,Zs=an(0),xa=0,ad=null,Gn=0,wp=0,S0=0,Lc=null,eo=null,C0=0,vl=1/0,Kr=null,Nm=!1,Jv=null,Ui=null,du=!1,Ni=null,Fm=0,Dc=0,eg=null,om=-1,rm=0;function Ha(){return Ct&6?la():om!==-1?om:om=la()}function Vi(t){return t.mode&1?Ct&2&&Pa!==0?Pa&-Pa:aC.transition!==null?(rm===0&&(rm=Rb()),rm):(t=It,t!==0||(t=window.event,t=t===void 0?16:kb(t.type)),t):1}function ur(t,e,a,o){if(50<Dc)throw Dc=0,eg=null,Error(fe(185));Pd(t,a,o),(!(Ct&2)||t!==Sa)&&(t===Sa&&(!(Ct&2)&&(wp|=a),xa===4&&Ii(t,Pa)),io(t,o),a===1&&Ct===0&&!(e.mode&1)&&(vl=la()+500,yp&&on()))}function io(t,e){var a=t.callbackNode;aS(t,e);var o=_m(t,t===Sa?Pa:0);if(o===0)a!==null&&X1(a),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(a!=null&&X1(a),e===1)t.tag===0?tC(B2.bind(null,t)):e_(B2.bind(null,t)),KS(function(){!(Ct&6)&&on()}),a=null;else{switch(Tb(o)){case 1:a=Kg;break;case 4:a=Ab;break;case 16:a=bm;break;case 536870912:a=Mb;break;default:a=bm}a=J_(a,W_.bind(null,t))}t.callbackPriority=e,t.callbackNode=a}}function W_(t,e){if(om=-1,rm=0,Ct&6)throw Error(fe(327));var a=t.callbackNode;if(rl()&&t.callbackNode!==a)return null;var o=_m(t,t===Sa?Pa:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=qm(t,o);else{e=o;var r=Ct;Ct|=2;var i=Z_();(Sa!==t||Pa!==e)&&(Kr=null,vl=la()+500,kn(t,e));do try{wC();break}catch(s){G_(t,s)}while(!0);d0(),zm.current=i,Ct=r,ha!==null?e=0:(Sa=null,Pa=0,e=xa)}if(e!==0){if(e===2&&(r=Mv(t),r!==0&&(o=r,e=tg(t,r))),e===1)throw a=ad,kn(t,0),Ii(t,o),io(t,la()),a;if(e===6)Ii(t,o);else{if(r=t.current.alternate,!(o&30)&&!bC(r)&&(e=qm(t,o),e===2&&(i=Mv(t),i!==0&&(o=i,e=tg(t,i))),e===1))throw a=ad,kn(t,0),Ii(t,o),io(t,la()),a;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(fe(345));case 2:hn(t,eo,Kr);break;case 3:if(Ii(t,o),(o&130023424)===o&&(e=C0+500-la(),10<e)){if(_m(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Ha(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=kv(hn.bind(null,t,eo,Kr),e);break}hn(t,eo,Kr);break;case 4:if(Ii(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var n=31-dr(o);i=1<<n,n=e[n],n>r&&(r=n),o&=~i}if(o=r,o=la()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*xC(o/1960))-o,10<o){t.timeoutHandle=kv(hn.bind(null,t,eo,Kr),o);break}hn(t,eo,Kr);break;case 5:hn(t,eo,Kr);break;default:throw Error(fe(329))}}}return io(t,la()),t.callbackNode===a?W_.bind(null,t):null}function tg(t,e){var a=Lc;return t.current.memoizedState.isDehydrated&&(kn(t,e).flags|=256),t=qm(t,e),t!==2&&(e=eo,eo=a,e!==null&&ag(e)),t}function ag(t){eo===null?eo=t:eo.push.apply(eo,t)}function bC(t){for(var e=t;;){if(e.flags&16384){var a=e.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var o=0;o<a.length;o++){var r=a[o],i=r.getSnapshot;r=r.value;try{if(!hr(i(),r))return!1}catch{return!1}}}if(a=e.child,e.subtreeFlags&16384&&a!==null)a.return=e,e=a;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~S0,e&=~wp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var a=31-dr(e),o=1<<a;t[a]=-1,e&=~o}}function B2(t){if(Ct&6)throw Error(fe(327));rl();var e=_m(t,0);if(!(e&1))return io(t,la()),null;var a=qm(t,e);if(t.tag!==0&&a===2){var o=Mv(t);o!==0&&(e=o,a=tg(t,o))}if(a===1)throw a=ad,kn(t,0),Ii(t,e),io(t,la()),a;if(a===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hn(t,eo,Kr),io(t,la()),null}function A0(t,e){var a=Ct;Ct|=1;try{return t(e)}finally{Ct=a,Ct===0&&(vl=la()+500,yp&&on())}}function Zn(t){Ni!==null&&Ni.tag===0&&!(Ct&6)&&rl();var e=Ct;Ct|=1;var a=Ho.transition,o=It;try{if(Ho.transition=null,It=1,t)return t()}finally{It=o,Ho.transition=a,Ct=e,!(Ct&6)&&on()}}function M0(){ho=Zs.current,Vt(Zs)}function kn(t,e){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,YS(a)),ha!==null)for(a=ha.return;a!==null;){var o=a;switch(s0(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Am();break;case 3:fl(),Vt(oo),Vt(qa),v0();break;case 5:h0(o);break;case 4:fl();break;case 13:Vt(Kt);break;case 19:Vt(Kt);break;case 10:u0(o.type._context);break;case 22:case 23:M0()}a=a.return}if(Sa=t,ha=t=Hi(t.current,null),Pa=ho=e,xa=0,ad=null,S0=wp=Gn=0,eo=Lc=null,Sn!==null){for(e=0;e<Sn.length;e++)if(a=Sn[e],o=a.interleaved,o!==null){a.interleaved=null;var r=o.next,i=a.pending;if(i!==null){var n=i.next;i.next=r,o.next=n}a.pending=o}Sn=null}return t}function G_(t,e){do{var a=ha;try{if(d0(),em.current=km,Om){for(var o=Qt.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}Om=!1}if(Wn=0,Ea=ya=Qt=null,Tc=!1,Jc=0,E0.current=null,a===null||a.return===null){xa=1,ad=e,ha=null;break}e:{var i=t,n=a.return,s=a,l=e;if(e=Pa,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=s,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var u=d.alternate;u?(d.updateQueue=u.updateQueue,d.memoizedState=u.memoizedState,d.lanes=u.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=R2(n);if(v!==null){v.flags&=-257,T2(v,n,s,i,e),v.mode&1&&M2(i,c,e),e=v,l=c;var h=e.updateQueue;if(h===null){var p=new Set;p.add(l),e.updateQueue=p}else h.add(l);break e}else{if(!(e&1)){M2(i,c,e),R0();break e}l=Error(fe(426))}}else if(Gt&&s.mode&1){var f=R2(n);if(f!==null){!(f.flags&65536)&&(f.flags|=256),T2(f,n,s,i,e),l0(hl(l,s));break e}}i=l=hl(l,s),xa!==4&&(xa=2),Lc===null?Lc=[i]:Lc.push(i),i=n;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=P_(i,l,e);b2(i,g);break e;case 1:s=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ui===null||!Ui.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=L_(i,s,e);b2(i,b);break e}}i=i.return}while(i!==null)}Y_(a)}catch(w){e=w,ha===a&&a!==null&&(ha=a=a.return);continue}break}while(!0)}function Z_(){var t=zm.current;return zm.current=km,t===null?km:t}function R0(){(xa===0||xa===3||xa===2)&&(xa=4),Sa===null||!(Gn&268435455)&&!(wp&268435455)||Ii(Sa,Pa)}function qm(t,e){var a=Ct;Ct|=2;var o=Z_();(Sa!==t||Pa!==e)&&(Kr=null,kn(t,e));do try{_C();break}catch(r){G_(t,r)}while(!0);if(d0(),Ct=a,zm.current=o,ha!==null)throw Error(fe(261));return Sa=null,Pa=0,xa}function _C(){for(;ha!==null;)X_(ha)}function wC(){for(;ha!==null&&!GE();)X_(ha)}function X_(t){var e=Q_(t.alternate,t,ho);t.memoizedProps=t.pendingProps,e===null?Y_(t):ha=e,E0.current=null}function Y_(t){var e=t;do{var a=e.alternate;if(t=e.return,e.flags&32768){if(a=hC(a,e),a!==null){a.flags&=32767,ha=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xa=6,ha=null;return}}else if(a=fC(a,e,ho),a!==null){ha=a;return}if(e=e.sibling,e!==null){ha=e;return}ha=e=t}while(e!==null);xa===0&&(xa=5)}function hn(t,e,a){var o=It,r=Ho.transition;try{Ho.transition=null,It=1,EC(t,e,a,o)}finally{Ho.transition=r,It=o}return null}function EC(t,e,a,o){do rl();while(Ni!==null);if(Ct&6)throw Error(fe(327));a=t.finishedWork;var r=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var i=a.lanes|a.childLanes;if(oS(t,i),t===Sa&&(ha=Sa=null,Pa=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||du||(du=!0,J_(bm,function(){return rl(),null})),i=(a.flags&15990)!==0,a.subtreeFlags&15990||i){i=Ho.transition,Ho.transition=null;var n=It;It=1;var s=Ct;Ct|=4,E0.current=null,gC(t,a),V_(a,t),US(Iv),wm=!!Dv,Iv=Dv=null,t.current=a,yC(a),ZE(),Ct=s,It=n,Ho.transition=i}else t.current=a;if(du&&(du=!1,Ni=t,Fm=r),i=t.pendingLanes,i===0&&(Ui=null),KE(a.stateNode),io(t,la()),e!==null)for(o=t.onRecoverableError,a=0;a<e.length;a++)r=e[a],o(r.value,{componentStack:r.stack,digest:r.digest});if(Nm)throw Nm=!1,t=Jv,Jv=null,t;return Fm&1&&t.tag!==0&&rl(),i=t.pendingLanes,i&1?t===eg?Dc++:(Dc=0,eg=t):Dc=0,on(),null}function rl(){if(Ni!==null){var t=Tb(Fm),e=Ho.transition,a=It;try{if(Ho.transition=null,It=16>t?16:t,Ni===null)var o=!1;else{if(t=Ni,Ni=null,Fm=0,Ct&6)throw Error(fe(331));var r=Ct;for(Ct|=4,qe=t.current;qe!==null;){var i=qe,n=i.child;if(qe.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(qe=c;qe!==null;){var d=qe;switch(d.tag){case 0:case 11:case 15:Pc(8,d,i)}var m=d.child;if(m!==null)m.return=d,qe=m;else for(;qe!==null;){d=qe;var u=d.sibling,v=d.return;if(B_(d),d===c){qe=null;break}if(u!==null){u.return=v,qe=u;break}qe=v}}}var h=i.alternate;if(h!==null){var p=h.child;if(p!==null){h.child=null;do{var f=p.sibling;p.sibling=null,p=f}while(p!==null)}}qe=i}}if(i.subtreeFlags&2064&&n!==null)n.return=i,qe=n;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pc(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,qe=g;break e}qe=i.return}}var y=t.current;for(qe=y;qe!==null;){n=qe;var x=n.child;if(n.subtreeFlags&2064&&x!==null)x.return=n,qe=x;else e:for(n=y;qe!==null;){if(s=qe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:_p(9,s)}}catch(w){oa(s,s.return,w)}if(s===n){qe=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,qe=b;break e}qe=s.return}}if(Ct=r,on(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(pp,t)}catch{}o=!0}return o}finally{It=a,Ho.transition=e}}return!1}function $2(t,e,a){e=hl(a,e),e=P_(t,e,1),t=$i(t,e,1),e=Ha(),t!==null&&(Pd(t,1,e),io(t,e))}function oa(t,e,a){if(t.tag===3)$2(t,t,a);else for(;e!==null;){if(e.tag===3){$2(e,t,a);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ui===null||!Ui.has(o))){t=hl(a,t),t=L_(e,t,1),e=$i(e,t,1),t=Ha(),e!==null&&(Pd(e,1,t),io(e,t));break}}e=e.return}}function SC(t,e,a){var o=t.pingCache;o!==null&&o.delete(e),e=Ha(),t.pingedLanes|=t.suspendedLanes&a,Sa===t&&(Pa&a)===a&&(xa===4||xa===3&&(Pa&130023424)===Pa&&500>la()-C0?kn(t,0):S0|=a),io(t,e)}function K_(t,e){e===0&&(t.mode&1?(e=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):e=1);var a=Ha();t=li(t,e),t!==null&&(Pd(t,e,a),io(t,a))}function CC(t){var e=t.memoizedState,a=0;e!==null&&(a=e.retryLane),K_(t,a)}function AC(t,e){var a=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(a=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(fe(314))}o!==null&&o.delete(e),K_(t,a)}var Q_;Q_=function(t,e,a){if(t!==null)if(t.memoizedProps!==e.pendingProps||oo.current)to=!0;else{if(!(t.lanes&a)&&!(e.flags&128))return to=!1,pC(t,e,a);to=!!(t.flags&131072)}else to=!1,Gt&&e.flags&1048576&&t_(e,Tm,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;am(t,e),t=e.pendingProps;var r=ul(e,qa.current);ol(e,a),r=y0(null,e,o,t,r,a);var i=x0();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ro(o)?(i=!0,Mm(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,p0(e),r.updater=xp,e.stateNode=r,r._reactInternals=e,$v(e,o,t,a),e=Hv(null,e,o,!0,i,a)):(e.tag=0,Gt&&i&&n0(e),Va(null,e,r,a),e=e.child),e;case 16:o=e.elementType;e:{switch(am(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=RC(o),t=or(o,t),r){case 0:e=Vv(null,e,o,t,a);break e;case 1:e=D2(null,e,o,t,a);break e;case 11:e=P2(null,e,o,t,a);break e;case 14:e=L2(null,e,o,or(o.type,t),a);break e}throw Error(fe(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:or(o,r),Vv(t,e,o,r,a);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:or(o,r),D2(t,e,o,r,a);case 3:e:{if(k_(e),t===null)throw Error(fe(387));o=e.pendingProps,i=e.memoizedState,r=i.element,i_(t,e),Dm(e,o,null,a);var n=e.memoizedState;if(o=n.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:n.cache,pendingSuspenseBoundaries:n.pendingSuspenseBoundaries,transitions:n.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=hl(Error(fe(423)),e),e=I2(t,e,o,a,r);break e}else if(o!==r){r=hl(Error(fe(424)),e),e=I2(t,e,o,a,r);break e}else for(xo=Bi(e.stateNode.containerInfo.firstChild),_o=e,Gt=!0,nr=null,a=c_(e,null,o,a),e.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ml(),o===r){e=ci(t,e,a);break e}Va(t,e,o,a)}e=e.child}return e;case 5:return d_(e),t===null&&qv(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,n=r.children,Ov(o,r)?n=null:i!==null&&Ov(o,i)&&(e.flags|=32),O_(t,e),Va(t,e,n,a),e.child;case 6:return t===null&&qv(e),null;case 13:return z_(t,e,a);case 4:return f0(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=pl(e,null,o,a):Va(t,e,o,a),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:or(o,r),P2(t,e,o,r,a);case 7:return Va(t,e,e.pendingProps,a),e.child;case 8:return Va(t,e,e.pendingProps.children,a),e.child;case 12:return Va(t,e,e.pendingProps.children,a),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,n=r.value,qt(Pm,o._currentValue),o._currentValue=n,i!==null)if(hr(i.value,n)){if(i.children===r.children&&!oo.current){e=ci(t,e,a);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){n=i.child;for(var l=s.firstContext;l!==null;){if(l.context===o){if(i.tag===1){l=oi(-1,a&-a),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=a,l=i.alternate,l!==null&&(l.lanes|=a),jv(i.return,a,e),s.lanes|=a;break}l=l.next}}else if(i.tag===10)n=i.type===e.type?null:i.child;else if(i.tag===18){if(n=i.return,n===null)throw Error(fe(341));n.lanes|=a,s=n.alternate,s!==null&&(s.lanes|=a),jv(n,a,e),n=i.sibling}else n=i.child;if(n!==null)n.return=i;else for(n=i;n!==null;){if(n===e){n=null;break}if(i=n.sibling,i!==null){i.return=n.return,n=i;break}n=n.return}i=n}Va(t,e,r.children,a),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,ol(e,a),r=Wo(r),o=o(r),e.flags|=1,Va(t,e,o,a),e.child;case 14:return o=e.type,r=or(o,e.pendingProps),r=or(o.type,r),L2(t,e,o,r,a);case 15:return D_(t,e,e.type,e.pendingProps,a);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:or(o,r),am(t,e),e.tag=1,ro(o)?(t=!0,Mm(e)):t=!1,ol(e,a),s_(e,o,r),$v(e,o,r,a),Hv(null,e,o,!0,t,a);case 19:return N_(t,e,a);case 22:return I_(t,e,a)}throw Error(fe(156,e.tag))};function J_(t,e){return Cb(t,e)}function MC(t,e,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uo(t,e,a,o){return new MC(t,e,a,o)}function T0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RC(t){if(typeof t=="function")return T0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zg)return 11;if(t===Xg)return 14}return 2}function Hi(t,e){var a=t.alternate;return a===null?(a=Uo(t.tag,e,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=e,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,e=t.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function im(t,e,a,o,r,i){var n=2;if(o=t,typeof t=="function")T0(t)&&(n=1);else if(typeof t=="string")n=5;else e:switch(t){case Fs:return zn(a.children,r,i,e);case Gg:n=8,r|=8;break;case mv:return t=Uo(12,a,e,r|2),t.elementType=mv,t.lanes=i,t;case pv:return t=Uo(13,a,e,r),t.elementType=pv,t.lanes=i,t;case fv:return t=Uo(19,a,e,r),t.elementType=fv,t.lanes=i,t;case lb:return Ep(a,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nb:n=10;break e;case sb:n=9;break e;case Zg:n=11;break e;case Xg:n=14;break e;case Pi:n=16,o=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Uo(n,a,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function zn(t,e,a,o){return t=Uo(7,t,o,e),t.lanes=a,t}function Ep(t,e,a,o){return t=Uo(22,t,o,e),t.elementType=lb,t.lanes=a,t.stateNode={isHidden:!1},t}function ih(t,e,a){return t=Uo(6,t,null,e),t.lanes=a,t}function nh(t,e,a){return e=Uo(4,t.children!==null?t.children:[],t.key,e),e.lanes=a,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function TC(t,e,a,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function P0(t,e,a,o,r,i,n,s,l){return t=new TC(t,e,a,s,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Uo(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(i),t}function PC(t,e,a){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ns,key:o==null?null:""+o,children:t,containerInfo:e,implementation:a}}function ew(t){if(!t)return Gi;t=t._reactInternals;e:{if(ns(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ro(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var a=t.type;if(ro(a))return Jb(t,a,e)}return e}function tw(t,e,a,o,r,i,n,s,l){return t=P0(a,o,!0,t,r,i,n,s,l),t.context=ew(null),a=t.current,o=Ha(),r=Vi(a),i=oi(o,r),i.callback=e??null,$i(a,i,r),t.current.lanes=r,Pd(t,r,o),io(t,o),t}function Sp(t,e,a,o){var r=e.current,i=Ha(),n=Vi(r);return a=ew(a),e.context===null?e.context=a:e.pendingContext=a,e=oi(i,n),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=$i(r,e,n),t!==null&&(ur(t,r,n,i),Ju(t,r,n)),n}function jm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<e?a:e}}function L0(t,e){U2(t,e),(t=t.alternate)&&U2(t,e)}function LC(){return null}var aw=typeof reportError=="function"?reportError:function(t){console.error(t)};function D0(t){this._internalRoot=t}Cp.prototype.render=D0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Sp(t,e,null,null)};Cp.prototype.unmount=D0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zn(function(){Sp(null,t,null,null)}),e[si]=null}};function Cp(t){this._internalRoot=t}Cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Db();t={blockedOn:null,target:t,priority:e};for(var a=0;a<Di.length&&e!==0&&e<Di[a].priority;a++);Di.splice(a,0,t),a===0&&Ob(t)}};function I0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ap(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V2(){}function DC(t,e,a,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=jm(n);i.call(c)}}var n=tw(e,o,t,0,null,!1,!1,"",V2);return t._reactRootContainer=n,t[si]=n.current,Zc(t.nodeType===8?t.parentNode:t),Zn(),n}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var s=o;o=function(){var c=jm(l);s.call(c)}}var l=P0(t,0,!1,null,null,!1,!1,"",V2);return t._reactRootContainer=l,t[si]=l.current,Zc(t.nodeType===8?t.parentNode:t),Zn(function(){Sp(e,l,a,o)}),l}function Mp(t,e,a,o,r){var i=a._reactRootContainer;if(i){var n=i;if(typeof r=="function"){var s=r;r=function(){var l=jm(n);s.call(l)}}Sp(e,n,t,r)}else n=DC(a,e,t,r,o);return jm(n)}Pb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var a=vc(e.pendingLanes);a!==0&&(Qg(e,a|1),io(e,la()),!(Ct&6)&&(vl=la()+500,on()))}break;case 13:Zn(function(){var o=li(t,1);if(o!==null){var r=Ha();ur(o,t,1,r)}}),L0(t,1)}};Jg=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var a=Ha();ur(e,t,134217728,a)}L0(t,134217728)}};Lb=function(t){if(t.tag===13){var e=Vi(t),a=li(t,e);if(a!==null){var o=Ha();ur(a,t,e,o)}L0(t,e)}};Db=function(){return It};Ib=function(t,e){var a=It;try{return It=t,e()}finally{It=a}};Sv=function(t,e,a){switch(e){case"input":if(gv(t,a),e=a.name,a.type==="radio"&&e!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<a.length;e++){var o=a[e];if(o!==t&&o.form===t.form){var r=gp(o);if(!r)throw Error(fe(90));db(o),gv(o,r)}}}break;case"textarea":mb(t,a);break;case"select":e=a.value,e!=null&&Js(t,!!a.multiple,e,!1)}};xb=A0;bb=Zn;var IC={usingClientEntryPoint:!1,Events:[Dd,$s,gp,gb,yb,A0]},Gl={findFiberByHostInstance:En,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},OC={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Eb(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||LC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{pp=uu.inject(OC),Lr=uu}catch{}}Ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;Ro.createPortal=function(t,e){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I0(e))throw Error(fe(200));return PC(t,e,null,a)};Ro.createRoot=function(t,e){if(!I0(t))throw Error(fe(299));var a=!1,o="",r=aw;return e!=null&&(e.unstable_strictMode===!0&&(a=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=P0(t,1,!1,null,null,a,!1,o,r),t[si]=e.current,Zc(t.nodeType===8?t.parentNode:t),new D0(e)};Ro.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=Eb(e),t=t===null?null:t.stateNode,t};Ro.flushSync=function(t){return Zn(t)};Ro.hydrate=function(t,e,a){if(!Ap(e))throw Error(fe(200));return Mp(null,t,e,!0,a)};Ro.hydrateRoot=function(t,e,a){if(!I0(t))throw Error(fe(405));var o=a!=null&&a.hydratedSources||null,r=!1,i="",n=aw;if(a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onRecoverableError!==void 0&&(n=a.onRecoverableError)),e=tw(e,null,t,1,a??null,r,!1,i,n),t[si]=e.current,Zc(t),o)for(t=0;t<o.length;t++)a=o[t],r=a._getVersion,r=r(a._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[a,r]:e.mutableSourceEagerHydrationData.push(a,r);return new Cp(e)};Ro.render=function(t,e,a){if(!Ap(e))throw Error(fe(200));return Mp(null,t,e,!1,a)};Ro.unmountComponentAtNode=function(t){if(!Ap(t))throw Error(fe(40));return t._reactRootContainer?(Zn(function(){Mp(null,null,t,!1,function(){t._reactRootContainer=null,t[si]=null})}),!0):!1};Ro.unstable_batchedUpdates=A0;Ro.unstable_renderSubtreeIntoContainer=function(t,e,a,o){if(!Ap(a))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Mp(t,e,a,!1,o)};Ro.version="18.2.0-next-9e3b772b8-20220608";function ow(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ow)}catch(t){console.error(t)}}ow(),tb.exports=Ro;var Od=tb.exports;const yc=V3(Od),kC=U3({__proto__:null,default:yc},[Od]);var H2=Od;dv.createRoot=H2.createRoot,dv.hydrateRoot=H2.hydrateRoot;var rw={exports:{}},iw={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd=C;function zC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var NC=typeof Object.is=="function"?Object.is:zC,FC=kd.useSyncExternalStore,qC=kd.useRef,jC=kd.useEffect,BC=kd.useMemo,$C=kd.useDebugValue;iw.useSyncExternalStoreWithSelector=function(t,e,a,o,r){var i=qC(null);if(i.current===null){var n={hasValue:!1,value:null};i.current=n}else n=i.current;i=BC(function(){function l(v){if(!c){if(c=!0,d=v,v=o(v),r!==void 0&&n.hasValue){var h=n.value;if(r(h,v))return m=h}return m=v}if(h=m,NC(d,v))return h;var p=o(v);return r!==void 0&&r(h,p)?h:(d=v,m=p)}var c=!1,d,m,u=a===void 0?null:a;return[function(){return l(e())},u===null?void 0:function(){return l(u())}]},[e,a,o,r]);var s=FC(t,i[0],i[1]);return jC(function(){n.hasValue=!0,n.value=s},[s]),$C(s),s};rw.exports=iw;var UC=rw.exports,bo="default"in cl?$o:cl,W2=Symbol.for("react-redux-context"),G2=typeof globalThis<"u"?globalThis:{};function VC(){if(!bo.createContext)return{};const t=G2[W2]??(G2[W2]=new Map);let e=t.get(bo.createContext);return e||(e=bo.createContext(null),t.set(bo.createContext,e)),e}var Zi=VC(),HC=()=>{throw new Error("uSES not initialized!")};function O0(t=Zi){return function(){return bo.useContext(t)}}var nw=O0(),sw=HC,WC=t=>{sw=t},GC=(t,e)=>t===e;function ZC(t=Zi){const e=t===Zi?nw:O0(t),a=(o,r={})=>{const{equalityFn:i=GC,devModeChecks:n={}}=typeof r=="function"?{equalityFn:r}:r,{store:s,subscription:l,getServerState:c,stabilityCheck:d,identityFunctionCheck:m}=e();bo.useRef(!0);const u=bo.useCallback({[o.name](h){return o(h)}}[o.name],[o,d,n.stabilityCheck]),v=sw(l.addNestedSub,s.getState,c||s.getState,u,i);return bo.useDebugValue(v),v};return Object.assign(a,{withTypes:()=>a}),a}var XC=ZC();function YC(t){t()}function KC(){let t=null,e=null;return{clear(){t=null,e=null},notify(){YC(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let o=t;for(;o;)a.push(o),o=o.next;return a},subscribe(a){let o=!0;const r=e={callback:a,next:null,prev:e};return r.prev?r.prev.next=r:t=r,function(){!o||t===null||(o=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:t=r.next)}}}}var Z2={notify(){},get:()=>[]};function QC(t,e){let a,o=Z2,r=0,i=!1;function n(p){d();const f=o.subscribe(p);let g=!1;return()=>{g||(g=!0,f(),m())}}function s(){o.notify()}function l(){h.onStateChange&&h.onStateChange()}function c(){return i}function d(){r++,a||(a=e?e.addNestedSub(l):t.subscribe(l),o=KC())}function m(){r--,a&&r===0&&(a(),a=void 0,o.clear(),o=Z2)}function u(){i||(i=!0,d())}function v(){i&&(i=!1,m())}const h={addNestedSub:n,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:u,tryUnsubscribe:v,getListeners:()=>o};return h}var JC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eA=JC?bo.useLayoutEffect:bo.useEffect;function tA({store:t,context:e,children:a,serverState:o,stabilityCheck:r="once",identityFunctionCheck:i="once"}){const n=bo.useMemo(()=>{const c=QC(t);return{store:t,subscription:c,getServerState:o?()=>o:void 0,stabilityCheck:r,identityFunctionCheck:i}},[t,o,r,i]),s=bo.useMemo(()=>t.getState(),[t]);eA(()=>{const{subscription:c}=n;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[n,s]);const l=e||Zi;return bo.createElement(l.Provider,{value:n},a)}var aA=tA;function lw(t=Zi){const e=t===Zi?nw:O0(t),a=()=>{const{store:o}=e();return o};return Object.assign(a,{withTypes:()=>a}),a}var oA=lw();function rA(t=Zi){const e=t===Zi?oA:lw(t),a=()=>e().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var iA=rA();WC(UC.useSyncExternalStoreWithSelector);/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},ra.apply(this,arguments)}var sa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sa||(sa={}));const X2="popstate";function nA(t){t===void 0&&(t={});function e(o,r){let{pathname:i,search:n,hash:s}=o.location;return od("",{pathname:i,search:n,hash:s},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(o,r){return typeof r=="string"?r:Xn(r)}return lA(e,a,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sA(){return Math.random().toString(36).substr(2,8)}function Y2(t,e){return{usr:t.state,key:t.key,idx:e}}function od(t,e,a,o){return a===void 0&&(a=null),ra({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?pi(e):e,{state:a,key:e&&e.key||o||sA()})}function Xn(t){let{pathname:e="/",search:a="",hash:o=""}=t;return a&&a!=="?"&&(e+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function pi(t){let e={};if(t){let a=t.indexOf("#");a>=0&&(e.hash=t.substr(a),t=t.substr(0,a));let o=t.indexOf("?");o>=0&&(e.search=t.substr(o),t=t.substr(0,o)),t&&(e.pathname=t)}return e}function lA(t,e,a,o){o===void 0&&(o={});let{window:r=document.defaultView,v5Compat:i=!1}=o,n=r.history,s=sa.Pop,l=null,c=d();c==null&&(c=0,n.replaceState(ra({},n.state,{idx:c}),""));function d(){return(n.state||{idx:null}).idx}function m(){s=sa.Pop;let f=d(),g=f==null?null:f-c;c=f,l&&l({action:s,location:p.location,delta:g})}function u(f,g){s=sa.Push;let y=od(p.location,f,g);a&&a(y,f),c=d()+1;let x=Y2(y,c),b=p.createHref(y);try{n.pushState(x,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(b)}i&&l&&l({action:s,location:p.location,delta:1})}function v(f,g){s=sa.Replace;let y=od(p.location,f,g);a&&a(y,f),c=d();let x=Y2(y,c),b=p.createHref(y);n.replaceState(x,"",b),i&&l&&l({action:s,location:p.location,delta:0})}function h(f){let g=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof f=="string"?f:Xn(f);return y=y.replace(/ $/,"%20"),vt(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let p={get action(){return s},get location(){return t(r,n)},listen(f){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(X2,m),l=f,()=>{r.removeEventListener(X2,m),l=null}},createHref(f){return e(r,f)},createURL:h,encodeLocation(f){let g=h(f);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:u,replace:v,go(f){return n.go(f)}};return p}var aa;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aa||(aa={}));const cA=new Set(["lazy","caseSensitive","path","id","index","children"]);function dA(t){return t.index===!0}function og(t,e,a,o){return a===void 0&&(a=[]),o===void 0&&(o={}),t.map((r,i)=>{let n=[...a,i],s=typeof r.id=="string"?r.id:n.join("-");if(vt(r.index!==!0||!r.children,"Cannot specify children on an index route"),vt(!o[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),dA(r)){let l=ra({},r,e(r),{id:s});return o[s]=l,l}else{let l=ra({},r,e(r),{id:s,children:void 0});return o[s]=l,r.children&&(l.children=og(r.children,e,n,o)),l}})}function Xs(t,e,a){a===void 0&&(a="/");let o=typeof e=="string"?pi(e):e,r=Ll(o.pathname||"/",a);if(r==null)return null;let i=cw(t);mA(i);let n=null;for(let s=0;n==null&&s<i.length;++s){let l=SA(r);n=_A(i[s],l)}return n}function uA(t,e){let{route:a,pathname:o,params:r}=t;return{id:a.id,pathname:o,params:r,data:e[a.id],handle:a.handle}}function cw(t,e,a,o){e===void 0&&(e=[]),a===void 0&&(a=[]),o===void 0&&(o="");let r=(i,n,s)=>{let l={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:n,route:i};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(o),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(o.length));let c=ri([o,l.relativePath]),d=a.concat(l);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cw(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:xA(c,i.index),routesMeta:d})};return t.forEach((i,n)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))r(i,n);else for(let l of dw(i.path))r(i,n,l)}),e}function dw(t){let e=t.split("/");if(e.length===0)return[];let[a,...o]=e,r=a.endsWith("?"),i=a.replace(/\?$/,"");if(o.length===0)return r?[i,""]:[i];let n=dw(o.join("/")),s=[];return s.push(...n.map(l=>l===""?i:[i,l].join("/"))),r&&s.push(...n),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function mA(t){t.sort((e,a)=>e.score!==a.score?a.score-e.score:bA(e.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const pA=/^:[\w-]+$/,fA=3,hA=2,vA=1,gA=10,yA=-2,K2=t=>t==="*";function xA(t,e){let a=t.split("/"),o=a.length;return a.some(K2)&&(o+=yA),e&&(o+=hA),a.filter(r=>!K2(r)).reduce((r,i)=>r+(pA.test(i)?fA:i===""?vA:gA),o)}function bA(t,e){return t.length===e.length&&t.slice(0,-1).every((o,r)=>o===e[r])?t[t.length-1]-e[e.length-1]:0}function _A(t,e){let{routesMeta:a}=t,o={},r="/",i=[];for(let n=0;n<a.length;++n){let s=a[n],l=n===a.length-1,c=r==="/"?e:e.slice(r.length)||"/",d=wA({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!d)return null;Object.assign(o,d.params);let m=s.route;i.push({params:o,pathname:ri([r,d.pathname]),pathnameBase:MA(ri([r,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(r=ri([r,d.pathnameBase]))}return i}function wA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,o]=EA(t.path,t.caseSensitive,t.end),r=e.match(a);if(!r)return null;let i=r[0],n=i.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:o.reduce((c,d,m)=>{let{paramName:u,isOptional:v}=d;if(u==="*"){let p=s[m]||"";n=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const h=s[m];return v&&!h?c[u]=void 0:c[u]=(h||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:n,pattern:t}}function EA(t,e,a){e===void 0&&(e=!1),a===void 0&&(a=!0),gl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(n,s,l)=>(o.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),o]}function SA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ll(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,o=t.charAt(a);return o&&o!=="/"?null:t.slice(a)||"/"}function CA(t,e){e===void 0&&(e="/");let{pathname:a,search:o="",hash:r=""}=typeof t=="string"?pi(t):t;return{pathname:a?a.startsWith("/")?a:AA(a,e):e,search:RA(o),hash:TA(r)}}function AA(t,e){let a=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function sh(t,e,a,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uw(t){return t.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function Rp(t,e){let a=uw(t);return e?a.map((o,r)=>r===t.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function Tp(t,e,a,o){o===void 0&&(o=!1);let r;typeof t=="string"?r=pi(t):(r=ra({},t),vt(!r.pathname||!r.pathname.includes("?"),sh("?","pathname","search",r)),vt(!r.pathname||!r.pathname.includes("#"),sh("#","pathname","hash",r)),vt(!r.search||!r.search.includes("#"),sh("#","search","hash",r)));let i=t===""||r.pathname==="",n=i?"/":r.pathname,s;if(n==null)s=a;else{let m=e.length-1;if(!o&&n.startsWith("..")){let u=n.split("/");for(;u[0]==="..";)u.shift(),m-=1;r.pathname=u.join("/")}s=m>=0?e[m]:"/"}let l=CA(r,s),c=n&&n!=="/"&&n.endsWith("/"),d=(i||n===".")&&a.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ri=t=>t.join("/").replace(/\/\/+/g,"/"),MA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class k0{constructor(e,a,o,r){r===void 0&&(r=!1),this.status=e,this.statusText=a||"",this.internal=r,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}}function mw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pw=["post","put","patch","delete"],PA=new Set(pw),LA=["get",...pw],DA=new Set(LA),IA=new Set([301,302,303,307,308]),OA=new Set([307,308]),lh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),hw="remix-router-transitions";function NA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,a=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",o=!a;vt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let G=t.detectErrorBoundary;r=K=>({hasErrorBoundary:G(K)})}else r=zA;let i={},n=og(t.routes,r,void 0,i),s,l=t.basename||"/",c=ra({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),d=null,m=new Set,u=null,v=null,h=null,p=t.hydrationData!=null,f=Xs(n,t.history.location,l),g=null;if(f==null){let G=zo(404,{pathname:t.history.location.pathname}),{matches:K,route:se}=iy(n);f=K,g={[se.id]:G}}let y,x=f.some(G=>G.route.lazy),b=f.some(G=>G.route.loader);if(x)y=!1;else if(!b)y=!0;else if(c.v7_partialHydration){let G=t.hydrationData?t.hydrationData.loaderData:null,K=t.hydrationData?t.hydrationData.errors:null;y=f.every(se=>se.route.loader&&se.route.loader.hydrate!==!0&&(G&&G[se.route.id]!==void 0||K&&K[se.route.id]!==void 0))}else y=t.hydrationData!=null;let w,_={historyAction:t.history.action,location:t.history.location,matches:f,initialized:y,navigation:lh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},S=sa.Pop,E=!1,A,T=!1,O=new Map,B=null,N=!1,D=!1,q=[],j=[],V=new Map,z=0,F=-1,H=new Map,oe=new Set,W=new Map,ie=new Map,le=new Set,Ce=new Map,Z=new Map,Oe=!1;function Me(){if(d=t.history.listen(G=>{let{action:K,location:se,delta:pe}=G;if(Oe){Oe=!1;return}gl(Z.size===0||pe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=Rt({currentLocation:_.location,nextLocation:se,historyAction:K});if(De&&pe!=null){Oe=!0,t.history.go(pe*-1),Ge(De,{state:"blocked",location:se,proceed(){Ge(De,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),t.history.go(pe)},reset(){let Ye=new Map(_.blockers);Ye.set(De,Zl),Te({blockers:Ye})}});return}return nt(K,se)}),a){ZA(e,O);let G=()=>XA(e,O);e.addEventListener("pagehide",G),B=()=>e.removeEventListener("pagehide",G)}return _.initialized||nt(sa.Pop,_.location,{initialHydration:!0}),w}function Re(){d&&d(),B&&B(),m.clear(),A&&A.abort(),_.fetchers.forEach((G,K)=>be(K)),_.blockers.forEach((G,K)=>ke(K))}function xe(G){return m.add(G),()=>m.delete(G)}function Te(G,K){K===void 0&&(K={}),_=ra({},_,G);let se=[],pe=[];c.v7_fetcherPersist&&_.fetchers.forEach((De,Ye)=>{De.state==="idle"&&(le.has(Ye)?pe.push(Ye):se.push(Ye))}),[...m].forEach(De=>De(_,{deletedFetchers:pe,unstable_viewTransitionOpts:K.viewTransitionOpts,unstable_flushSync:K.flushSync===!0})),c.v7_fetcherPersist&&(se.forEach(De=>_.fetchers.delete(De)),pe.forEach(De=>be(De)))}function Ne(G,K,se){var pe,De;let{flushSync:Ye}=se===void 0?{}:se,rt=_.actionData!=null&&_.navigation.formMethod!=null&&ir(_.navigation.formMethod)&&_.navigation.state==="loading"&&((pe=G.state)==null?void 0:pe._isRedirect)!==!0,Xe;K.actionData?Object.keys(K.actionData).length>0?Xe=K.actionData:Xe=null:rt?Xe=_.actionData:Xe=null;let He=K.loaderData?ry(_.loaderData,K.loaderData,K.matches||[],K.errors):_.loaderData,gt=_.blockers;gt.size>0&&(gt=new Map(gt),gt.forEach((k,Q)=>gt.set(Q,Zl)));let da=E===!0||_.navigation.formMethod!=null&&ir(_.navigation.formMethod)&&((De=G.state)==null?void 0:De._isRedirect)!==!0;s&&(n=s,s=void 0),N||S===sa.Pop||(S===sa.Push?t.history.push(G,G.state):S===sa.Replace&&t.history.replace(G,G.state));let ct;if(S===sa.Pop){let k=O.get(_.location.pathname);k&&k.has(G.pathname)?ct={currentLocation:_.location,nextLocation:G}:O.has(G.pathname)&&(ct={currentLocation:G,nextLocation:_.location})}else if(T){let k=O.get(_.location.pathname);k?k.add(G.pathname):(k=new Set([G.pathname]),O.set(_.location.pathname,k)),ct={currentLocation:_.location,nextLocation:G}}Te(ra({},K,{actionData:Xe,loaderData:He,historyAction:S,location:G,initialized:!0,navigation:lh,revalidation:"idle",restoreScrollPosition:we(G,K.matches||_.matches),preventScrollReset:da,blockers:gt}),{viewTransitionOpts:ct,flushSync:Ye===!0}),S=sa.Pop,E=!1,T=!1,N=!1,D=!1,q=[],j=[]}async function he(G,K){if(typeof G=="number"){t.history.go(G);return}let se=rg(_.location,_.matches,l,c.v7_prependBasename,G,c.v7_relativeSplatPath,K==null?void 0:K.fromRouteId,K==null?void 0:K.relative),{path:pe,submission:De,error:Ye}=Q2(c.v7_normalizeFormMethod,!1,se,K),rt=_.location,Xe=od(_.location,pe,K&&K.state);Xe=ra({},Xe,t.history.encodeLocation(Xe));let He=K&&K.replace!=null?K.replace:void 0,gt=sa.Push;He===!0?gt=sa.Replace:He===!1||De!=null&&ir(De.formMethod)&&De.formAction===_.location.pathname+_.location.search&&(gt=sa.Replace);let da=K&&"preventScrollReset"in K?K.preventScrollReset===!0:void 0,ct=(K&&K.unstable_flushSync)===!0,k=Rt({currentLocation:rt,nextLocation:Xe,historyAction:gt});if(k){Ge(k,{state:"blocked",location:Xe,proceed(){Ge(k,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),he(G,K)},reset(){let Q=new Map(_.blockers);Q.set(k,Zl),Te({blockers:Q})}});return}return await nt(gt,Xe,{submission:De,pendingError:Ye,preventScrollReset:da,replace:K&&K.replace,enableViewTransition:K&&K.unstable_viewTransition,flushSync:ct})}function ot(){if(I(),Te({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){nt(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}nt(S||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function nt(G,K,se){A&&A.abort(),A=null,S=G,N=(se&&se.startUninterruptedRevalidation)===!0,je(_.location,_.matches),E=(se&&se.preventScrollReset)===!0,T=(se&&se.enableViewTransition)===!0;let pe=s||n,De=se&&se.overrideNavigation,Ye=Xs(pe,K,l),rt=(se&&se.flushSync)===!0;if(!Ye){let Q=zo(404,{pathname:K.pathname}),{matches:re,route:ee}=iy(pe);Y(),Ne(K,{matches:re,loaderData:{},errors:{[ee.id]:Q}},{flushSync:rt});return}if(_.initialized&&!D&&$A(_.location,K)&&!(se&&se.submission&&ir(se.submission.formMethod))){Ne(K,{matches:Ye},{flushSync:rt});return}A=new AbortController;let Xe=Yl(t.history,K,A.signal,se&&se.submission),He,gt;if(se&&se.pendingError)gt={[Ic(Ye).route.id]:se.pendingError};else if(se&&se.submission&&ir(se.submission.formMethod)){let Q=await Nt(Xe,K,se.submission,Ye,{replace:se.replace,flushSync:rt});if(Q.shortCircuited)return;He=Q.pendingActionData,gt=Q.pendingActionError,De=ch(K,se.submission),rt=!1,Xe=new Request(Xe.url,{signal:Xe.signal})}let{shortCircuited:da,loaderData:ct,errors:k}=await jt(Xe,K,Ye,De,se&&se.submission,se&&se.fetcherSubmission,se&&se.replace,se&&se.initialHydration===!0,rt,He,gt);da||(A=null,Ne(K,ra({matches:Ye},He?{actionData:He}:{},{loaderData:ct,errors:k})))}async function Nt(G,K,se,pe,De){De===void 0&&(De={}),I();let Ye=WA(K,se);Te({navigation:Ye},{flushSync:De.flushSync===!0});let rt,Xe=ng(pe,K);if(!Xe.route.action&&!Xe.route.lazy)rt={type:aa.error,error:zo(405,{method:G.method,pathname:K.pathname,routeId:Xe.route.id})};else if(rt=await Xl("action",G,Xe,pe,i,r,l,c.v7_relativeSplatPath),G.signal.aborted)return{shortCircuited:!0};if(Mn(rt)){let He;return De&&De.replace!=null?He=De.replace:He=rt.location===_.location.pathname+_.location.search,await pt(_,rt,{submission:se,replace:He}),{shortCircuited:!0}}if(Ys(rt)){let He=Ic(pe,Xe.route.id);return(De&&De.replace)!==!0&&(S=sa.Push),{pendingActionData:{},pendingActionError:{[He.route.id]:rt.error}}}if(An(rt))throw zo(400,{type:"defer-action"});return{pendingActionData:{[Xe.route.id]:rt.data}}}async function jt(G,K,se,pe,De,Ye,rt,Xe,He,gt,da){let ct=pe||ch(K,De),k=De||Ye||ly(ct),Q=s||n,[re,ee]=J2(t.history,_,se,k,K,c.v7_partialHydration&&Xe===!0,D,q,j,le,W,oe,Q,l,gt,da);if(Y(wt=>!(se&&se.some(Tt=>Tt.route.id===wt))||re&&re.some(Tt=>Tt.route.id===wt)),F=++z,re.length===0&&ee.length===0){let wt=Le();return Ne(K,ra({matches:se,loaderData:{},errors:da||null},gt?{actionData:gt}:{},wt?{fetchers:new Map(_.fetchers)}:{}),{flushSync:He}),{shortCircuited:!0}}if(!N&&(!c.v7_partialHydration||!Xe)){ee.forEach(Tt=>{let na=_.fetchers.get(Tt.key),_t=Kl(void 0,na?na.data:void 0);_.fetchers.set(Tt.key,_t)});let wt=gt||_.actionData;Te(ra({navigation:ct},wt?Object.keys(wt).length===0?{actionData:null}:{actionData:wt}:{},ee.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:He})}ee.forEach(wt=>{V.has(wt.key)&&X(wt.key),wt.controller&&V.set(wt.key,wt.controller)});let ce=()=>ee.forEach(wt=>X(wt.key));A&&A.signal.addEventListener("abort",ce);let{results:We,loaderResults:it,fetcherResults:Je}=await $(_.matches,se,re,ee,G);if(G.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",ce),ee.forEach(wt=>V.delete(wt.key));let dt=ny(We);if(dt){if(dt.idx>=re.length){let wt=ee[dt.idx-re.length].key;oe.add(wt)}return await pt(_,dt.result,{replace:rt}),{shortCircuited:!0}}let{loaderData:Ft,errors:ht}=oy(_,se,re,it,da,ee,Je,Ce);Ce.forEach((wt,Tt)=>{wt.subscribe(na=>{(na||wt.done)&&Ce.delete(Tt)})});let yt=Le(),Bt=Ve(F),Do=yt||Bt||ee.length>0;return ra({loaderData:Ft,errors:ht},Do?{fetchers:new Map(_.fetchers)}:{})}function At(G,K,se,pe){if(o)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(G)&&X(G);let De=(pe&&pe.unstable_flushSync)===!0,Ye=s||n,rt=rg(_.location,_.matches,l,c.v7_prependBasename,se,c.v7_relativeSplatPath,K,pe==null?void 0:pe.relative),Xe=Xs(Ye,rt,l);if(!Xe){me(G,K,zo(404,{pathname:rt}),{flushSync:De});return}let{path:He,submission:gt,error:da}=Q2(c.v7_normalizeFormMethod,!0,rt,pe);if(da){me(G,K,da,{flushSync:De});return}let ct=ng(Xe,He);if(E=(pe&&pe.preventScrollReset)===!0,gt&&ir(gt.formMethod)){mt(G,K,He,ct,Xe,De,gt);return}W.set(G,{routeId:K,path:He}),Ht(G,K,He,ct,Xe,De,gt)}async function mt(G,K,se,pe,De,Ye,rt){if(I(),W.delete(G),!pe.route.action&&!pe.route.lazy){let Tt=zo(405,{method:rt.formMethod,pathname:se,routeId:K});me(G,K,Tt,{flushSync:Ye});return}let Xe=_.fetchers.get(G);te(G,GA(rt,Xe),{flushSync:Ye});let He=new AbortController,gt=Yl(t.history,se,He.signal,rt);V.set(G,He);let da=z,ct=await Xl("action",gt,pe,De,i,r,l,c.v7_relativeSplatPath);if(gt.signal.aborted){V.get(G)===He&&V.delete(G);return}if(c.v7_fetcherPersist&&le.has(G)){if(Mn(ct)||Ys(ct)){te(G,Ti(void 0));return}}else{if(Mn(ct))if(V.delete(G),F>da){te(G,Ti(void 0));return}else return oe.add(G),te(G,Kl(rt)),pt(_,ct,{fetcherSubmission:rt});if(Ys(ct)){me(G,K,ct.error);return}}if(An(ct))throw zo(400,{type:"defer-action"});let k=_.navigation.location||_.location,Q=Yl(t.history,k,He.signal),re=s||n,ee=_.navigation.state!=="idle"?Xs(re,_.navigation.location,l):_.matches;vt(ee,"Didn't find any matches after fetcher action");let ce=++z;H.set(G,ce);let We=Kl(rt,ct.data);_.fetchers.set(G,We);let[it,Je]=J2(t.history,_,ee,rt,k,!1,D,q,j,le,W,oe,re,l,{[pe.route.id]:ct.data},void 0);Je.filter(Tt=>Tt.key!==G).forEach(Tt=>{let na=Tt.key,_t=_.fetchers.get(na),vi=Kl(void 0,_t?_t.data:void 0);_.fetchers.set(na,vi),V.has(na)&&X(na),Tt.controller&&V.set(na,Tt.controller)}),Te({fetchers:new Map(_.fetchers)});let dt=()=>Je.forEach(Tt=>X(Tt.key));He.signal.addEventListener("abort",dt);let{results:Ft,loaderResults:ht,fetcherResults:yt}=await $(_.matches,ee,it,Je,Q);if(He.signal.aborted)return;He.signal.removeEventListener("abort",dt),H.delete(G),V.delete(G),Je.forEach(Tt=>V.delete(Tt.key));let Bt=ny(Ft);if(Bt){if(Bt.idx>=it.length){let Tt=Je[Bt.idx-it.length].key;oe.add(Tt)}return pt(_,Bt.result)}let{loaderData:Do,errors:wt}=oy(_,_.matches,it,ht,void 0,Je,yt,Ce);if(_.fetchers.has(G)){let Tt=Ti(ct.data);_.fetchers.set(G,Tt)}Ve(ce),_.navigation.state==="loading"&&ce>F?(vt(S,"Expected pending action"),A&&A.abort(),Ne(_.navigation.location,{matches:ee,loaderData:Do,errors:wt,fetchers:new Map(_.fetchers)})):(Te({errors:wt,loaderData:ry(_.loaderData,Do,ee,wt),fetchers:new Map(_.fetchers)}),D=!1)}async function Ht(G,K,se,pe,De,Ye,rt){let Xe=_.fetchers.get(G);te(G,Kl(rt,Xe?Xe.data:void 0),{flushSync:Ye});let He=new AbortController,gt=Yl(t.history,se,He.signal);V.set(G,He);let da=z,ct=await Xl("loader",gt,pe,De,i,r,l,c.v7_relativeSplatPath);if(An(ct)&&(ct=await yw(ct,gt.signal,!0)||ct),V.get(G)===He&&V.delete(G),!gt.signal.aborted){if(le.has(G)){te(G,Ti(void 0));return}if(Mn(ct))if(F>da){te(G,Ti(void 0));return}else{oe.add(G),await pt(_,ct);return}if(Ys(ct)){me(G,K,ct.error);return}vt(!An(ct),"Unhandled fetcher deferred data"),te(G,Ti(ct.data))}}async function pt(G,K,se){let{submission:pe,fetcherSubmission:De,replace:Ye}=se===void 0?{}:se;K.revalidate&&(D=!0);let rt=od(G.location,K.location,{_isRedirect:!0});if(vt(rt,"Expected a location on the redirect navigation"),a){let k=!1;if(K.reloadDocument)k=!0;else if(fw.test(K.location)){const Q=t.history.createURL(K.location);k=Q.origin!==e.location.origin||Ll(Q.pathname,l)==null}if(k){Ye?e.location.replace(K.location):e.location.assign(K.location);return}}A=null;let Xe=Ye===!0?sa.Replace:sa.Push,{formMethod:He,formAction:gt,formEncType:da}=G.navigation;!pe&&!De&&He&&gt&&da&&(pe=ly(G.navigation));let ct=pe||De;if(OA.has(K.status)&&ct&&ir(ct.formMethod))await nt(Xe,rt,{submission:ra({},ct,{formAction:K.location}),preventScrollReset:E});else{let k=ch(rt,pe);await nt(Xe,rt,{overrideNavigation:k,fetcherSubmission:De,preventScrollReset:E})}}async function $(G,K,se,pe,De){let Ye=await Promise.all([...se.map(He=>Xl("loader",De,He,K,i,r,l,c.v7_relativeSplatPath)),...pe.map(He=>He.matches&&He.match&&He.controller?Xl("loader",Yl(t.history,He.path,He.controller.signal),He.match,He.matches,i,r,l,c.v7_relativeSplatPath):{type:aa.error,error:zo(404,{pathname:He.path})})]),rt=Ye.slice(0,se.length),Xe=Ye.slice(se.length);return await Promise.all([sy(G,se,rt,rt.map(()=>De.signal),!1,_.loaderData),sy(G,pe.map(He=>He.match),Xe,pe.map(He=>He.controller?He.controller.signal:null),!0)]),{results:Ye,loaderResults:rt,fetcherResults:Xe}}function I(){D=!0,q.push(...Y()),W.forEach((G,K)=>{V.has(K)&&(j.push(K),X(K))})}function te(G,K,se){se===void 0&&(se={}),_.fetchers.set(G,K),Te({fetchers:new Map(_.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function me(G,K,se,pe){pe===void 0&&(pe={});let De=Ic(_.matches,K);be(G),Te({errors:{[De.route.id]:se},fetchers:new Map(_.fetchers)},{flushSync:(pe&&pe.flushSync)===!0})}function ge(G){return c.v7_fetcherPersist&&(ie.set(G,(ie.get(G)||0)+1),le.has(G)&&le.delete(G)),_.fetchers.get(G)||kA}function be(G){let K=_.fetchers.get(G);V.has(G)&&!(K&&K.state==="loading"&&H.has(G))&&X(G),W.delete(G),H.delete(G),oe.delete(G),le.delete(G),_.fetchers.delete(G)}function Pe(G){if(c.v7_fetcherPersist){let K=(ie.get(G)||0)-1;K<=0?(ie.delete(G),le.add(G)):ie.set(G,K)}else be(G);Te({fetchers:new Map(_.fetchers)})}function X(G){let K=V.get(G);vt(K,"Expected fetch controller: "+G),K.abort(),V.delete(G)}function $e(G){for(let K of G){let se=ge(K),pe=Ti(se.data);_.fetchers.set(K,pe)}}function Le(){let G=[],K=!1;for(let se of oe){let pe=_.fetchers.get(se);vt(pe,"Expected fetcher: "+se),pe.state==="loading"&&(oe.delete(se),G.push(se),K=!0)}return $e(G),K}function Ve(G){let K=[];for(let[se,pe]of H)if(pe<G){let De=_.fetchers.get(se);vt(De,"Expected fetcher: "+se),De.state==="loading"&&(X(se),H.delete(se),K.push(se))}return $e(K),K.length>0}function de(G,K){let se=_.blockers.get(G)||Zl;return Z.get(G)!==K&&Z.set(G,K),se}function ke(G){_.blockers.delete(G),Z.delete(G)}function Ge(G,K){let se=_.blockers.get(G)||Zl;vt(se.state==="unblocked"&&K.state==="blocked"||se.state==="blocked"&&K.state==="blocked"||se.state==="blocked"&&K.state==="proceeding"||se.state==="blocked"&&K.state==="unblocked"||se.state==="proceeding"&&K.state==="unblocked","Invalid blocker state transition: "+se.state+" -> "+K.state);let pe=new Map(_.blockers);pe.set(G,K),Te({blockers:pe})}function Rt(G){let{currentLocation:K,nextLocation:se,historyAction:pe}=G;if(Z.size===0)return;Z.size>1&&gl(!1,"A router only supports one blocker at a time");let De=Array.from(Z.entries()),[Ye,rt]=De[De.length-1],Xe=_.blockers.get(Ye);if(!(Xe&&Xe.state==="proceeding")&&rt({currentLocation:K,nextLocation:se,historyAction:pe}))return Ye}function Y(G){let K=[];return Ce.forEach((se,pe)=>{(!G||G(pe))&&(se.cancel(),K.push(pe),Ce.delete(pe))}),K}function ze(G,K,se){if(u=G,h=K,v=se||null,!p&&_.navigation===lh){p=!0;let pe=we(_.location,_.matches);pe!=null&&Te({restoreScrollPosition:pe})}return()=>{u=null,h=null,v=null}}function ne(G,K){return v&&v(G,K.map(pe=>uA(pe,_.loaderData)))||G.key}function je(G,K){if(u&&h){let se=ne(G,K);u[se]=h()}}function we(G,K){if(u){let se=ne(G,K),pe=u[se];if(typeof pe=="number")return pe}return null}function zt(G){i={},s=og(G,r,void 0,i)}return w={get basename(){return l},get future(){return c},get state(){return _},get routes(){return n},get window(){return e},initialize:Me,subscribe:xe,enableScrollRestoration:ze,navigate:he,fetch:At,revalidate:ot,createHref:G=>t.history.createHref(G),encodeLocation:G=>t.history.encodeLocation(G),getFetcher:ge,deleteFetcher:Pe,dispose:Re,getBlocker:de,deleteBlocker:ke,_internalFetchControllers:V,_internalActiveDeferreds:Ce,_internalSetRoutes:zt},w}function FA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function rg(t,e,a,o,r,i,n,s){let l,c;if(n){l=[];for(let m of e)if(l.push(m),m.route.id===n){c=m;break}}else l=e,c=e[e.length-1];let d=Tp(r||".",Rp(l,i),Ll(t.pathname,a)||t.pathname,s==="path");return r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c&&c.route.index&&!z0(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),o&&a!=="/"&&(d.pathname=d.pathname==="/"?a:ri([a,d.pathname])),Xn(d)}function Q2(t,e,a,o){if(!o||!FA(o))return{path:a};if(o.formMethod&&!HA(o.formMethod))return{path:a,error:zo(405,{method:o.formMethod})};let r=()=>({path:a,error:zo(400,{type:"invalid-body"})}),i=o.formMethod||"get",n=t?i.toUpperCase():i.toLowerCase(),s=gw(a);if(o.body!==void 0){if(o.formEncType==="text/plain"){if(!ir(n))return r();let u=typeof o.body=="string"?o.body:o.body instanceof FormData||o.body instanceof URLSearchParams?Array.from(o.body.entries()).reduce((v,h)=>{let[p,f]=h;return""+v+p+"="+f+`
`},""):String(o.body);return{path:a,submission:{formMethod:n,formAction:s,formEncType:o.formEncType,formData:void 0,json:void 0,text:u}}}else if(o.formEncType==="application/json"){if(!ir(n))return r();try{let u=typeof o.body=="string"?JSON.parse(o.body):o.body;return{path:a,submission:{formMethod:n,formAction:s,formEncType:o.formEncType,formData:void 0,json:u,text:void 0}}}catch{return r()}}}vt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(o.formData)l=ig(o.formData),c=o.formData;else if(o.body instanceof FormData)l=ig(o.body),c=o.body;else if(o.body instanceof URLSearchParams)l=o.body,c=ay(l);else if(o.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(o.body),c=ay(l)}catch{return r()}let d={formMethod:n,formAction:s,formEncType:o&&o.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ir(d.formMethod))return{path:a,submission:d};let m=pi(a);return e&&m.search&&z0(m.search)&&l.append("index",""),m.search="?"+l,{path:Xn(m),submission:d}}function qA(t,e){let a=t;if(e){let o=t.findIndex(r=>r.route.id===e);o>=0&&(a=t.slice(0,o))}return a}function J2(t,e,a,o,r,i,n,s,l,c,d,m,u,v,h,p){let f=p?Object.values(p)[0]:h?Object.values(h)[0]:void 0,g=t.createURL(e.location),y=t.createURL(r),x=p?Object.keys(p)[0]:void 0,w=qA(a,x).filter((S,E)=>{let{route:A}=S;if(A.lazy)return!0;if(A.loader==null)return!1;if(i)return A.loader.hydrate?!0:e.loaderData[A.id]===void 0&&(!e.errors||e.errors[A.id]===void 0);if(jA(e.loaderData,e.matches[E],S)||s.some(B=>B===S.route.id))return!0;let T=e.matches[E],O=S;return ey(S,ra({currentUrl:g,currentParams:T.params,nextUrl:y,nextParams:O.params},o,{actionResult:f,defaultShouldRevalidate:n||g.pathname+g.search===y.pathname+y.search||g.search!==y.search||vw(T,O)}))}),_=[];return d.forEach((S,E)=>{if(i||!a.some(N=>N.route.id===S.routeId)||c.has(E))return;let A=Xs(u,S.path,v);if(!A){_.push({key:E,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let T=e.fetchers.get(E),O=ng(A,S.path),B=!1;m.has(E)?B=!1:l.includes(E)?B=!0:T&&T.state!=="idle"&&T.data===void 0?B=n:B=ey(O,ra({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:a[a.length-1].params},o,{actionResult:f,defaultShouldRevalidate:n})),B&&_.push({key:E,routeId:S.routeId,path:S.path,matches:A,match:O,controller:new AbortController})}),[w,_]}function jA(t,e,a){let o=!e||a.route.id!==e.route.id,r=t[a.route.id]===void 0;return o||r}function vw(t,e){let a=t.route.path;return t.pathname!==e.pathname||a!=null&&a.endsWith("*")&&t.params["*"]!==e.params["*"]}function ey(t,e){if(t.route.shouldRevalidate){let a=t.route.shouldRevalidate(e);if(typeof a=="boolean")return a}return e.defaultShouldRevalidate}async function ty(t,e,a){if(!t.lazy)return;let o=await t.lazy();if(!t.lazy)return;let r=a[t.id];vt(r,"No route found in manifest");let i={};for(let n in o){let l=r[n]!==void 0&&n!=="hasErrorBoundary";gl(!l,'Route "'+r.id+'" has a static property "'+n+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+n+'" will be ignored.')),!l&&!cA.has(n)&&(i[n]=o[n])}Object.assign(r,i),Object.assign(r,ra({},e(r),{lazy:void 0}))}async function Xl(t,e,a,o,r,i,n,s,l){l===void 0&&(l={});let c,d,m,u=p=>{let f,g=new Promise((y,x)=>f=x);return m=()=>f(),e.signal.addEventListener("abort",m),Promise.race([p({request:e,params:a.params,context:l.requestContext}),g])};try{let p=a.route[t];if(a.route.lazy)if(p){let f,g=await Promise.all([u(p).catch(y=>{f=y}),ty(a.route,i,r)]);if(f)throw f;d=g[0]}else if(await ty(a.route,i,r),p=a.route[t],p)d=await u(p);else if(t==="action"){let f=new URL(e.url),g=f.pathname+f.search;throw zo(405,{method:e.method,pathname:g,routeId:a.route.id})}else return{type:aa.data,data:void 0};else if(p)d=await u(p);else{let f=new URL(e.url),g=f.pathname+f.search;throw zo(404,{pathname:g})}vt(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+a.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){c=aa.error,d=p}finally{m&&e.signal.removeEventListener("abort",m)}if(VA(d)){let p=d.status;if(IA.has(p)){let g=d.headers.get("Location");if(vt(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!fw.test(g))g=rg(new URL(e.url),o.slice(0,o.indexOf(a)+1),n,!0,g,s);else if(!l.isStaticRequest){let y=new URL(e.url),x=g.startsWith("//")?new URL(y.protocol+g):new URL(g),b=Ll(x.pathname,n)!=null;x.origin===y.origin&&b&&(g=x.pathname+x.search+x.hash)}if(l.isStaticRequest)throw d.headers.set("Location",g),d;return{type:aa.redirect,status:p,location:g,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===aa.error?aa.error:aa.data,response:d};let f;try{let g=d.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?d.body==null?f=null:f=await d.json():f=await d.text()}catch(g){return{type:aa.error,error:g}}return c===aa.error?{type:c,error:new k0(p,d.statusText,f),headers:d.headers}:{type:aa.data,data:f,statusCode:d.status,headers:d.headers}}if(c===aa.error)return{type:c,error:d};if(UA(d)){var v,h;return{type:aa.deferred,deferredData:d,statusCode:(v=d.init)==null?void 0:v.status,headers:((h=d.init)==null?void 0:h.headers)&&new Headers(d.init.headers)}}return{type:aa.data,data:d}}function Yl(t,e,a,o){let r=t.createURL(gw(e)).toString(),i={signal:a};if(o&&ir(o.formMethod)){let{formMethod:n,formEncType:s}=o;i.method=n.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(o.json)):s==="text/plain"?i.body=o.text:s==="application/x-www-form-urlencoded"&&o.formData?i.body=ig(o.formData):i.body=o.formData}return new Request(r,i)}function ig(t){let e=new URLSearchParams;for(let[a,o]of t.entries())e.append(a,typeof o=="string"?o:o.name);return e}function ay(t){let e=new FormData;for(let[a,o]of t.entries())e.append(a,o);return e}function BA(t,e,a,o,r){let i={},n=null,s,l=!1,c={};return a.forEach((d,m)=>{let u=e[m].route.id;if(vt(!Mn(d),"Cannot handle redirect results in processLoaderData"),Ys(d)){let v=Ic(t,u),h=d.error;o&&(h=Object.values(o)[0],o=void 0),n=n||{},n[v.route.id]==null&&(n[v.route.id]=h),i[u]=void 0,l||(l=!0,s=mw(d.error)?d.error.status:500),d.headers&&(c[u]=d.headers)}else An(d)?(r.set(u,d.deferredData),i[u]=d.deferredData.data):i[u]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(c[u]=d.headers)}),o&&(n=o,i[Object.keys(o)[0]]=void 0),{loaderData:i,errors:n,statusCode:s||200,loaderHeaders:c}}function oy(t,e,a,o,r,i,n,s){let{loaderData:l,errors:c}=BA(e,a,o,r,s);for(let d=0;d<i.length;d++){let{key:m,match:u,controller:v}=i[d];vt(n!==void 0&&n[d]!==void 0,"Did not find corresponding fetcher result");let h=n[d];if(!(v&&v.signal.aborted))if(Ys(h)){let p=Ic(t.matches,u==null?void 0:u.route.id);c&&c[p.route.id]||(c=ra({},c,{[p.route.id]:h.error})),t.fetchers.delete(m)}else if(Mn(h))vt(!1,"Unhandled fetcher revalidation redirect");else if(An(h))vt(!1,"Unhandled fetcher deferred data");else{let p=Ti(h.data);t.fetchers.set(m,p)}}return{loaderData:l,errors:c}}function ry(t,e,a,o){let r=ra({},e);for(let i of a){let n=i.route.id;if(e.hasOwnProperty(n)?e[n]!==void 0&&(r[n]=e[n]):t[n]!==void 0&&i.route.loader&&(r[n]=t[n]),o&&o.hasOwnProperty(n))break}return r}function Ic(t,e){return(e?t.slice(0,t.findIndex(o=>o.route.id===e)+1):[...t]).reverse().find(o=>o.route.hasErrorBoundary===!0)||t[0]}function iy(t){let e=t.length===1?t[0]:t.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zo(t,e){let{pathname:a,routeId:o,method:r,type:i}=e===void 0?{}:e,n="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(n="Bad Request",r&&a&&o?s="You made a "+r+' request to "'+a+'" but '+('did not provide a `loader` for route "'+o+'", ')+"so there is no way to handle the request.":i==="defer-action"?s="defer() is not supported in actions":i==="invalid-body"&&(s="Unable to encode submission body")):t===403?(n="Forbidden",s='Route "'+o+'" does not match URL "'+a+'"'):t===404?(n="Not Found",s='No route matches URL "'+a+'"'):t===405&&(n="Method Not Allowed",r&&a&&o?s="You made a "+r.toUpperCase()+' request to "'+a+'" but '+('did not provide an `action` for route "'+o+'", ')+"so there is no way to handle the request.":r&&(s='Invalid request method "'+r.toUpperCase()+'"')),new k0(t||500,n,new Error(s),!0)}function ny(t){for(let e=t.length-1;e>=0;e--){let a=t[e];if(Mn(a))return{result:a,idx:e}}}function gw(t){let e=typeof t=="string"?pi(t):t;return Xn(ra({},e,{hash:""}))}function $A(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function An(t){return t.type===aa.deferred}function Ys(t){return t.type===aa.error}function Mn(t){return(t&&t.type)===aa.redirect}function UA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function VA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function HA(t){return DA.has(t.toLowerCase())}function ir(t){return PA.has(t.toLowerCase())}async function sy(t,e,a,o,r,i){for(let n=0;n<a.length;n++){let s=a[n],l=e[n];if(!l)continue;let c=t.find(m=>m.route.id===l.route.id),d=c!=null&&!vw(c,l)&&(i&&i[l.route.id])!==void 0;if(An(s)&&(r||d)){let m=o[n];vt(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await yw(s,m,r).then(u=>{u&&(a[n]=u||a[n])})}}}async function yw(t,e,a){if(a===void 0&&(a=!1),!await t.deferredData.resolveData(e)){if(a)try{return{type:aa.data,data:t.deferredData.unwrappedData}}catch(r){return{type:aa.error,error:r}}return{type:aa.data,data:t.deferredData.data}}}function z0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ng(t,e){let a=typeof e=="string"?pi(e).search:e.search;if(t[t.length-1].route.index&&z0(a||""))return t[t.length-1];let o=uw(t);return o[o.length-1]}function ly(t){let{formMethod:e,formAction:a,formEncType:o,text:r,formData:i,json:n}=t;if(!(!e||!a||!o)){if(r!=null)return{formMethod:e,formAction:a,formEncType:o,formData:void 0,json:void 0,text:r};if(i!=null)return{formMethod:e,formAction:a,formEncType:o,formData:i,json:void 0,text:void 0};if(n!==void 0)return{formMethod:e,formAction:a,formEncType:o,formData:void 0,json:n,text:void 0}}}function ch(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function WA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Kl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function GA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ti(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ZA(t,e){try{let a=t.sessionStorage.getItem(hw);if(a){let o=JSON.parse(a);for(let[r,i]of Object.entries(o||{}))i&&Array.isArray(i)&&e.set(r,new Set(i||[]))}}catch{}}function XA(t,e){if(e.size>0){let a={};for(let[o,r]of e)a[o]=[...r];try{t.sessionStorage.setItem(hw,JSON.stringify(a))}catch(o){gl(!1,"Failed to save applied view transitions in sessionStorage ("+o+").")}}}/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},rd.apply(this,arguments)}const Pp=C.createContext(null),xw=C.createContext(null),rn=C.createContext(null),Lp=C.createContext(null),qr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),bw=C.createContext(null);function YA(t,e){let{relative:a}=e===void 0?{}:e;Dl()||vt(!1);let{basename:o,navigator:r}=C.useContext(rn),{hash:i,pathname:n,search:s}=Ew(t,{relative:a}),l=n;return o!=="/"&&(l=n==="/"?o:ri([o,n])),r.createHref({pathname:l,search:s,hash:i})}function Dl(){return C.useContext(Lp)!=null}function ss(){return Dl()||vt(!1),C.useContext(Lp).location}function _w(t){C.useContext(rn).static||C.useLayoutEffect(t)}function ww(){let{isDataRoute:t}=C.useContext(qr);return t?uM():KA()}function KA(){Dl()||vt(!1);let t=C.useContext(Pp),{basename:e,future:a,navigator:o}=C.useContext(rn),{matches:r}=C.useContext(qr),{pathname:i}=ss(),n=JSON.stringify(Rp(r,a.v7_relativeSplatPath)),s=C.useRef(!1);return _w(()=>{s.current=!0}),C.useCallback(function(c,d){if(d===void 0&&(d={}),!s.current)return;if(typeof c=="number"){o.go(c);return}let m=Tp(c,JSON.parse(n),i,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ri([e,m.pathname])),(d.replace?o.replace:o.push)(m,d.state,d)},[e,o,n,i,t])}const QA=C.createContext(null);function JA(t){let e=C.useContext(qr).outlet;return e&&C.createElement(QA.Provider,{value:t},e)}function eM(){let{matches:t}=C.useContext(qr),e=t[t.length-1];return e?e.params:{}}function Ew(t,e){let{relative:a}=e===void 0?{}:e,{future:o}=C.useContext(rn),{matches:r}=C.useContext(qr),{pathname:i}=ss(),n=JSON.stringify(Rp(r,o.v7_relativeSplatPath));return C.useMemo(()=>Tp(t,JSON.parse(n),i,a==="path"),[t,n,i,a])}function tM(t,e,a,o){Dl()||vt(!1);let{navigator:r}=C.useContext(rn),{matches:i}=C.useContext(qr),n=i[i.length-1],s=n?n.params:{};n&&n.pathname;let l=n?n.pathnameBase:"/";n&&n.route;let c=ss(),d;if(e){var m;let f=typeof e=="string"?pi(e):e;l==="/"||(m=f.pathname)!=null&&m.startsWith(l)||vt(!1),d=f}else d=c;let u=d.pathname||"/",v=u;if(l!=="/"){let f=l.replace(/^\//,"").split("/");v="/"+u.replace(/^\//,"").split("/").slice(f.length).join("/")}let h=Xs(t,{pathname:v}),p=nM(h&&h.map(f=>Object.assign({},f,{params:Object.assign({},s,f.params),pathname:ri([l,r.encodeLocation?r.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?l:ri([l,r.encodeLocation?r.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),i,a,o);return e&&p?C.createElement(Lp.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sa.Pop}},p):p}function aM(){let t=dM(),e=mw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),a?C.createElement("pre",{style:r},a):null,null)}const oM=C.createElement(aM,null);class rM extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,a){return a.location!==e.location||a.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:a.error,location:a.location,revalidation:e.revalidation||a.revalidation}}componentDidCatch(e,a){console.error("React Router caught the following error during render",e,a)}render(){return this.state.error!==void 0?C.createElement(qr.Provider,{value:this.props.routeContext},C.createElement(bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iM(t){let{routeContext:e,match:a,children:o}=t,r=C.useContext(Pp);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),C.createElement(qr.Provider,{value:e},o)}function nM(t,e,a,o){var r;if(e===void 0&&(e=[]),a===void 0&&(a=null),o===void 0&&(o=null),t==null){var i;if((i=a)!=null&&i.errors)t=a.matches;else return null}let n=t,s=(r=a)==null?void 0:r.errors;if(s!=null){let d=n.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id]));d>=0||vt(!1),n=n.slice(0,Math.min(n.length,d+1))}let l=!1,c=-1;if(a&&o&&o.v7_partialHydration)for(let d=0;d<n.length;d++){let m=n[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:u,errors:v}=a,h=m.route.loader&&u[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||h){l=!0,c>=0?n=n.slice(0,c+1):n=[n[0]];break}}}return n.reduceRight((d,m,u)=>{let v,h=!1,p=null,f=null;a&&(v=s&&m.route.id?s[m.route.id]:void 0,p=m.route.errorElement||oM,l&&(c<0&&u===0?(mM("route-fallback",!1),h=!0,f=null):c===u&&(h=!0,f=m.route.hydrateFallbackElement||null)));let g=e.concat(n.slice(0,u+1)),y=()=>{let x;return v?x=p:h?x=f:m.route.Component?x=C.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=d,C.createElement(iM,{match:m,routeContext:{outlet:d,matches:g,isDataRoute:a!=null},children:x})};return a&&(m.route.ErrorBoundary||m.route.errorElement||u===0)?C.createElement(rM,{location:a.location,revalidation:a.revalidation,component:p,error:v,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Sw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sw||{}),Bm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bm||{});function sM(t){let e=C.useContext(Pp);return e||vt(!1),e}function lM(t){let e=C.useContext(xw);return e||vt(!1),e}function cM(t){let e=C.useContext(qr);return e||vt(!1),e}function Cw(t){let e=cM(),a=e.matches[e.matches.length-1];return a.route.id||vt(!1),a.route.id}function dM(){var t;let e=C.useContext(bw),a=lM(Bm.UseRouteError),o=Cw(Bm.UseRouteError);return e!==void 0?e:(t=a.errors)==null?void 0:t[o]}function uM(){let{router:t}=sM(Sw.UseNavigateStable),e=Cw(Bm.UseNavigateStable),a=C.useRef(!1);return _w(()=>{a.current=!0}),C.useCallback(function(r,i){i===void 0&&(i={}),a.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,rd({fromRouteId:e},i)))},[t,e])}const cy={};function mM(t,e,a){!e&&!cy[t]&&(cy[t]=!0)}function pM(t){let{to:e,replace:a,state:o,relative:r}=t;Dl()||vt(!1);let{future:i,static:n}=C.useContext(rn),{matches:s}=C.useContext(qr),{pathname:l}=ss(),c=ww(),d=Tp(e,Rp(s,i.v7_relativeSplatPath),l,r==="path"),m=JSON.stringify(d);return C.useEffect(()=>c(JSON.parse(m),{replace:a,state:o,relative:r}),[c,m,r,a,o]),null}function fM(t){return JA(t.context)}function hM(t){let{basename:e="/",children:a=null,location:o,navigationType:r=sa.Pop,navigator:i,static:n=!1,future:s}=t;Dl()&&vt(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:i,static:n,future:rd({v7_relativeSplatPath:!1},s)}),[l,s,i,n]);typeof o=="string"&&(o=pi(o));let{pathname:d="/",search:m="",hash:u="",state:v=null,key:h="default"}=o,p=C.useMemo(()=>{let f=Ll(d,l);return f==null?null:{location:{pathname:f,search:m,hash:u,state:v,key:h},navigationType:r}},[l,d,m,u,v,h,r]);return p==null?null:C.createElement(rn.Provider,{value:c},C.createElement(Lp.Provider,{children:a,value:p}))}new Promise(()=>{});function vM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:C.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:C.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:C.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},id.apply(this,arguments)}function gM(t,e){if(t==null)return{};var a={},o=Object.keys(t),r,i;for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(a[r]=t[r]);return a}function yM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xM(t,e){return t.button===0&&(!e||e==="_self")&&!yM(t)}const bM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_M="6";try{window.__reactRouterVersion=_M}catch{}function wM(t,e){return NA({basename:e==null?void 0:e.basename,future:id({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:nA({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||EM(),routes:t,mapRouteProperties:vM,window:e==null?void 0:e.window}).initialize()}function EM(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=id({},e,{errors:SM(e.errors)})),e}function SM(t){if(!t)return null;let e=Object.entries(t),a={};for(let[o,r]of e)if(r&&r.__type==="RouteErrorResponse")a[o]=new k0(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let i=window[r.__subType];if(typeof i=="function")try{let n=new i(r.message);n.stack="",a[o]=n}catch{}}if(a[o]==null){let i=new Error(r.message);i.stack="",a[o]=i}}else a[o]=r;return a}const CM=C.createContext({isTransitioning:!1}),AM=C.createContext(new Map),MM="startTransition",dy=cl[MM],RM="flushSync",uy=kC[RM];function TM(t){dy?dy(t):t()}function Ql(t){uy?uy(t):t()}class PM{constructor(){this.status="pending",this.promise=new Promise((e,a)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",a(o))}})}}function LM(t){let{fallbackElement:e,router:a,future:o}=t,[r,i]=C.useState(a.state),[n,s]=C.useState(),[l,c]=C.useState({isTransitioning:!1}),[d,m]=C.useState(),[u,v]=C.useState(),[h,p]=C.useState(),f=C.useRef(new Map),{v7_startTransition:g}=o||{},y=C.useCallback(S=>{g?TM(S):S()},[g]),x=C.useCallback((S,E)=>{let{deletedFetchers:A,unstable_flushSync:T,unstable_viewTransitionOpts:O}=E;A.forEach(N=>f.current.delete(N)),S.fetchers.forEach((N,D)=>{N.data!==void 0&&f.current.set(D,N.data)});let B=a.window==null||typeof a.window.document.startViewTransition!="function";if(!O||B){T?Ql(()=>i(S)):y(()=>i(S));return}if(T){Ql(()=>{u&&(d&&d.resolve(),u.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let N=a.window.document.startViewTransition(()=>{Ql(()=>i(S))});N.finished.finally(()=>{Ql(()=>{m(void 0),v(void 0),s(void 0),c({isTransitioning:!1})})}),Ql(()=>v(N));return}u?(d&&d.resolve(),u.skipTransition(),p({state:S,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(s(S),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[a.window,u,d,f,y]);C.useLayoutEffect(()=>a.subscribe(x),[a,x]),C.useEffect(()=>{l.isTransitioning&&!l.flushSync&&m(new PM)},[l]),C.useEffect(()=>{if(d&&n&&a.window){let S=n,E=d.promise,A=a.window.document.startViewTransition(async()=>{y(()=>i(S)),await E});A.finished.finally(()=>{m(void 0),v(void 0),s(void 0),c({isTransitioning:!1})}),v(A)}},[y,n,d,a.window]),C.useEffect(()=>{d&&n&&r.location.key===n.location.key&&d.resolve()},[d,u,r.location,n]),C.useEffect(()=>{!l.isTransitioning&&h&&(s(h.state),c({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),p(void 0))},[l.isTransitioning,h]),C.useEffect(()=>{},[]);let b=C.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:S=>a.navigate(S),push:(S,E,A)=>a.navigate(S,{state:E,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(S,E,A)=>a.navigate(S,{replace:!0,state:E,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[a]),w=a.basename||"/",_=C.useMemo(()=>({router:a,navigator:b,static:!1,basename:w}),[a,b,w]);return C.createElement(C.Fragment,null,C.createElement(Pp.Provider,{value:_},C.createElement(xw.Provider,{value:r},C.createElement(AM.Provider,{value:f.current},C.createElement(CM.Provider,{value:l},C.createElement(hM,{basename:w,location:r.location,navigationType:r.historyAction,navigator:b,future:{v7_relativeSplatPath:a.future.v7_relativeSplatPath}},r.initialized||a.future.v7_partialHydration?C.createElement(DM,{routes:a.routes,future:a.future,state:r}):e))))),null)}function DM(t){let{routes:e,future:a,state:o}=t;return tM(e,void 0,o,a)}const IM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aw=C.forwardRef(function(e,a){let{onClick:o,relative:r,reloadDocument:i,replace:n,state:s,target:l,to:c,preventScrollReset:d,unstable_viewTransition:m}=e,u=gM(e,bM),{basename:v}=C.useContext(rn),h,p=!1;if(typeof c=="string"&&OM.test(c)&&(h=c,IM))try{let x=new URL(window.location.href),b=c.startsWith("//")?new URL(x.protocol+c):new URL(c),w=Ll(b.pathname,v);b.origin===x.origin&&w!=null?c=w+b.search+b.hash:p=!0}catch{}let f=YA(c,{relative:r}),g=kM(c,{replace:n,state:s,target:l,preventScrollReset:d,relative:r,unstable_viewTransition:m});function y(x){o&&o(x),x.defaultPrevented||g(x)}return C.createElement("a",id({},u,{href:h||f,onClick:p||i?o:y,ref:a,target:l}))});var my;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(my||(my={}));var py;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(py||(py={}));function kM(t,e){let{target:a,replace:o,state:r,preventScrollReset:i,relative:n,unstable_viewTransition:s}=e===void 0?{}:e,l=ww(),c=ss(),d=Ew(t,{relative:n});return C.useCallback(m=>{if(xM(m,a)){m.preventDefault();let u=o!==void 0?o:Xn(c)===Xn(d);l(t,{replace:u,state:r,preventScrollReset:i,relative:n,unstable_viewTransition:s})}},[c,l,d,o,r,a,t,i,n,s])}const zM="modulepreload",NM=function(t){return"/tagmar_pwa/"+t},fy={},FM=function(e,a,o){let r=Promise.resolve();if(a&&a.length>0){const i=document.getElementsByTagName("link");r=Promise.all(a.map(n=>{if(n=NM(n),n in fy)return;fy[n]=!0;const s=n.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!o)for(let m=i.length-1;m>=0;m--){const u=i[m];if(u.href===n&&(!s||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${l}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":zM,s||(d.as="script",d.crossOrigin=""),d.href=n,document.head.appendChild(d),s)return new Promise((m,u)=>{d.addEventListener("load",m),d.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${n}`)))})}))}return r.then(()=>e()).catch(i=>{const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=i,window.dispatchEvent(n),!n.defaultPrevented)throw i})};function qM(t={}){const{immediate:e=!1,onNeedRefresh:a,onOfflineReady:o,onRegistered:r,onRegisteredSW:i,onRegisterError:n}=t;let s,l,c;const d=async(u=!0)=>{await l,await(c==null?void 0:c())};async function m(){if("serviceWorker"in navigator){if(s=await FM(()=>import("./workbox-window.prod.es5-DFjpnwFp.js"),__vite__mapDeps([])).then(({Workbox:u})=>new u("/tagmar_pwa/sw.js",{scope:"/tagmar_pwa/",type:"classic"})).catch(u=>{n==null||n(u)}),!s)return;c=async()=>{await(s==null?void 0:s.messageSkipWaiting())};{let u=!1;const v=h=>{h&&u&&h.isExternal&&window.location.reload(),u=!0,s==null||s.addEventListener("controlling",p=>{(p.isUpdate===!0||p.isExternal===!0)&&window.location.reload()}),a==null||a()};s.addEventListener("installed",h=>{typeof h.isUpdate>"u"?typeof h.isExternal<"u"?h.isExternal?v():!u&&(o==null||o()):h.isExternal?window.location.reload():!u&&(o==null||o()):h.isUpdate||o==null||o()}),s.addEventListener("waiting",v)}s.register({immediate:e}).then(u=>{i?i("/tagmar_pwa/sw.js",u):r==null||r(u)}).catch(u=>{n==null||n(u)})}}return l=m(),d}const jM={black:"#000",white:"#fff"},nd=jM,BM={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},us=BM,$M={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ms=$M,UM={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ps=UM,VM={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},fs=VM,HM={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},hs=HM,WM={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Jl=WM,GM={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ZM=GM;function Xi(t){let e="https://mui.com/production-error/?code="+t;for(let a=1;a<arguments.length;a+=1)e+="&args[]="+encodeURIComponent(arguments[a]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Yn="$$material";function P(){return P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},P.apply(this,arguments)}function _e(t,e){if(t==null)return{};var a={},o=Object.keys(t),r,i;for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(a[r]=t[r]);return a}function Mw(t){var e=Object.create(null);return function(a){return e[a]===void 0&&(e[a]=t(a)),e[a]}}var XM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,YM=Mw(function(t){return XM.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function KM(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function QM(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var JM=function(){function t(a){var o=this;this._insertTag=function(r){var i;o.tags.length===0?o.insertionPoint?i=o.insertionPoint.nextSibling:o.prepend?i=o.container.firstChild:i=o.before:i=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(r,i),o.tags.push(r)},this.isSpeedy=a.speedy===void 0?!0:a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(o){o.forEach(this._insertTag)},e.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(QM(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=KM(r);try{i.insertRule(o,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(o));this.ctr++},e.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},t}(),ka="-ms-",$m="-moz-",Pt="-webkit-",Rw="comm",N0="rule",F0="decl",e6="@import",Tw="@keyframes",t6="@layer",a6=Math.abs,Dp=String.fromCharCode,o6=Object.assign;function r6(t,e){return Ra(t,0)^45?(((e<<2^Ra(t,0))<<2^Ra(t,1))<<2^Ra(t,2))<<2^Ra(t,3):0}function Pw(t){return t.trim()}function i6(t,e){return(t=e.exec(t))?t[0]:t}function Lt(t,e,a){return t.replace(e,a)}function sg(t,e){return t.indexOf(e)}function Ra(t,e){return t.charCodeAt(e)|0}function sd(t,e,a){return t.slice(e,a)}function Cr(t){return t.length}function q0(t){return t.length}function mu(t,e){return e.push(t),t}function n6(t,e){return t.map(e).join("")}var Ip=1,yl=1,Lw=0,co=0,pa=0,Il="";function Op(t,e,a,o,r,i,n){return{value:t,root:e,parent:a,type:o,props:r,children:i,line:Ip,column:yl,length:n,return:""}}function ec(t,e){return o6(Op("",null,null,"",null,null,0),t,{length:-t.length},e)}function s6(){return pa}function l6(){return pa=co>0?Ra(Il,--co):0,yl--,pa===10&&(yl=1,Ip--),pa}function wo(){return pa=co<Lw?Ra(Il,co++):0,yl++,pa===10&&(yl=1,Ip++),pa}function Ir(){return Ra(Il,co)}function nm(){return co}function zd(t,e){return sd(Il,t,e)}function ld(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dw(t){return Ip=yl=1,Lw=Cr(Il=t),co=0,[]}function Iw(t){return Il="",t}function sm(t){return Pw(zd(co-1,lg(t===91?t+2:t===40?t+1:t)))}function c6(t){for(;(pa=Ir())&&pa<33;)wo();return ld(t)>2||ld(pa)>3?"":" "}function d6(t,e){for(;--e&&wo()&&!(pa<48||pa>102||pa>57&&pa<65||pa>70&&pa<97););return zd(t,nm()+(e<6&&Ir()==32&&wo()==32))}function lg(t){for(;wo();)switch(pa){case t:return co;case 34:case 39:t!==34&&t!==39&&lg(pa);break;case 40:t===41&&lg(t);break;case 92:wo();break}return co}function u6(t,e){for(;wo()&&t+pa!==57;)if(t+pa===84&&Ir()===47)break;return"/*"+zd(e,co-1)+"*"+Dp(t===47?t:wo())}function m6(t){for(;!ld(Ir());)wo();return zd(t,co)}function p6(t){return Iw(lm("",null,null,null,[""],t=Dw(t),0,[0],t))}function lm(t,e,a,o,r,i,n,s,l){for(var c=0,d=0,m=n,u=0,v=0,h=0,p=1,f=1,g=1,y=0,x="",b=r,w=i,_=o,S=x;f;)switch(h=y,y=wo()){case 40:if(h!=108&&Ra(S,m-1)==58){sg(S+=Lt(sm(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:S+=sm(y);break;case 9:case 10:case 13:case 32:S+=c6(h);break;case 92:S+=d6(nm()-1,7);continue;case 47:switch(Ir()){case 42:case 47:mu(f6(u6(wo(),nm()),e,a),l);break;default:S+="/"}break;case 123*p:s[c++]=Cr(S)*g;case 125*p:case 59:case 0:switch(y){case 0:case 125:f=0;case 59+d:g==-1&&(S=Lt(S,/\f/g,"")),v>0&&Cr(S)-m&&mu(v>32?vy(S+";",o,a,m-1):vy(Lt(S," ","")+";",o,a,m-2),l);break;case 59:S+=";";default:if(mu(_=hy(S,e,a,c,d,r,s,x,b=[],w=[],m),i),y===123)if(d===0)lm(S,e,_,_,b,i,m,s,w);else switch(u===99&&Ra(S,3)===110?100:u){case 100:case 108:case 109:case 115:lm(t,_,_,o&&mu(hy(t,_,_,0,0,r,s,x,r,b=[],m),w),r,w,m,s,o?b:w);break;default:lm(S,_,_,_,[""],w,0,s,w)}}c=d=v=0,p=g=1,x=S="",m=n;break;case 58:m=1+Cr(S),v=h;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&l6()==125)continue}switch(S+=Dp(y),y*p){case 38:g=d>0?1:(S+="\f",-1);break;case 44:s[c++]=(Cr(S)-1)*g,g=1;break;case 64:Ir()===45&&(S+=sm(wo())),u=Ir(),d=m=Cr(x=S+=m6(nm())),y++;break;case 45:h===45&&Cr(S)==2&&(p=0)}}return i}function hy(t,e,a,o,r,i,n,s,l,c,d){for(var m=r-1,u=r===0?i:[""],v=q0(u),h=0,p=0,f=0;h<o;++h)for(var g=0,y=sd(t,m+1,m=a6(p=n[h])),x=t;g<v;++g)(x=Pw(p>0?u[g]+" "+y:Lt(y,/&\f/g,u[g])))&&(l[f++]=x);return Op(t,e,a,r===0?N0:s,l,c,d)}function f6(t,e,a){return Op(t,e,a,Rw,Dp(s6()),sd(t,2,-2),0)}function vy(t,e,a,o){return Op(t,e,a,F0,sd(t,0,o),sd(t,o+1,-1),o)}function il(t,e){for(var a="",o=q0(t),r=0;r<o;r++)a+=e(t[r],r,t,e)||"";return a}function h6(t,e,a,o){switch(t.type){case t6:if(t.children.length)break;case e6:case F0:return t.return=t.return||t.value;case Rw:return"";case Tw:return t.return=t.value+"{"+il(t.children,o)+"}";case N0:t.value=t.props.join(",")}return Cr(a=il(t.children,o))?t.return=t.value+"{"+a+"}":""}function v6(t){var e=q0(t);return function(a,o,r,i){for(var n="",s=0;s<e;s++)n+=t[s](a,o,r,i)||"";return n}}function g6(t){return function(e){e.root||(e=e.return)&&t(e)}}var y6=function(e,a,o){for(var r=0,i=0;r=i,i=Ir(),r===38&&i===12&&(a[o]=1),!ld(i);)wo();return zd(e,co)},x6=function(e,a){var o=-1,r=44;do switch(ld(r)){case 0:r===38&&Ir()===12&&(a[o]=1),e[o]+=y6(co-1,a,o);break;case 2:e[o]+=sm(r);break;case 4:if(r===44){e[++o]=Ir()===58?"&\f":"",a[o]=e[o].length;break}default:e[o]+=Dp(r)}while(r=wo());return e},b6=function(e,a){return Iw(x6(Dw(e),a))},gy=new WeakMap,_6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var a=e.value,o=e.parent,r=e.column===o.column&&e.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(e.props.length===1&&a.charCodeAt(0)!==58&&!gy.get(o))&&!r){gy.set(e,!0);for(var i=[],n=b6(a,i),s=o.props,l=0,c=0;l<n.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[l]?n[l].replace(/&\f/g,s[d]):s[d]+" "+n[l]}}},w6=function(e){if(e.type==="decl"){var a=e.value;a.charCodeAt(0)===108&&a.charCodeAt(2)===98&&(e.return="",e.value="")}};function Ow(t,e){switch(r6(t,e)){case 5103:return Pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+t+$m+t+ka+t+t;case 6828:case 4268:return Pt+t+ka+t+t;case 6165:return Pt+t+ka+"flex-"+t+t;case 5187:return Pt+t+Lt(t,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+ka+"flex-$1$2")+t;case 5443:return Pt+t+ka+"flex-item-"+Lt(t,/flex-|-self/,"")+t;case 4675:return Pt+t+ka+"flex-line-pack"+Lt(t,/align-content|flex-|-self/,"")+t;case 5548:return Pt+t+ka+Lt(t,"shrink","negative")+t;case 5292:return Pt+t+ka+Lt(t,"basis","preferred-size")+t;case 6060:return Pt+"box-"+Lt(t,"-grow","")+Pt+t+ka+Lt(t,"grow","positive")+t;case 4554:return Pt+Lt(t,/([^-])(transform)/g,"$1"+Pt+"$2")+t;case 6187:return Lt(Lt(Lt(t,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),t,"")+t;case 5495:case 3959:return Lt(t,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return Lt(Lt(t,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+ka+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+t+t;case 4095:case 3583:case 4068:case 2532:return Lt(t,/(.+)-inline(.+)/,Pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cr(t)-1-e>6)switch(Ra(t,e+1)){case 109:if(Ra(t,e+4)!==45)break;case 102:return Lt(t,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+$m+(Ra(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~sg(t,"stretch")?Ow(Lt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ra(t,e+1)!==115)break;case 6444:switch(Ra(t,Cr(t)-3-(~sg(t,"!important")&&10))){case 107:return Lt(t,":",":"+Pt)+t;case 101:return Lt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pt+(Ra(t,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+ka+"$2box$3")+t}break;case 5936:switch(Ra(t,e+11)){case 114:return Pt+t+ka+Lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pt+t+ka+Lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pt+t+ka+Lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pt+t+ka+t+t}return t}var E6=function(e,a,o,r){if(e.length>-1&&!e.return)switch(e.type){case F0:e.return=Ow(e.value,e.length);break;case Tw:return il([ec(e,{value:Lt(e.value,"@","@"+Pt)})],r);case N0:if(e.length)return n6(e.props,function(i){switch(i6(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return il([ec(e,{props:[Lt(i,/:(read-\w+)/,":"+$m+"$1")]})],r);case"::placeholder":return il([ec(e,{props:[Lt(i,/:(plac\w+)/,":"+Pt+"input-$1")]}),ec(e,{props:[Lt(i,/:(plac\w+)/,":"+$m+"$1")]}),ec(e,{props:[Lt(i,/:(plac\w+)/,ka+"input-$1")]})],r)}return""})}},S6=[E6],C6=function(e){var a=e.key;if(a==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(p){var f=p.getAttribute("data-emotion");f.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||S6,i={},n,s=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+a+' "]'),function(p){for(var f=p.getAttribute("data-emotion").split(" "),g=1;g<f.length;g++)i[f[g]]=!0;s.push(p)});var l,c=[_6,w6];{var d,m=[h6,g6(function(p){d.insert(p)})],u=v6(c.concat(r,m)),v=function(f){return il(p6(f),u)};l=function(f,g,y,x){d=y,v(f?f+"{"+g.styles+"}":g.styles),x&&(h.inserted[g.name]=!0)}}var h={key:a,sheet:new JM({key:a,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return h.sheet.hydrate(s),h},kw={exports:{}},Ot={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=typeof Symbol=="function"&&Symbol.for,j0=Ca?Symbol.for("react.element"):60103,B0=Ca?Symbol.for("react.portal"):60106,kp=Ca?Symbol.for("react.fragment"):60107,zp=Ca?Symbol.for("react.strict_mode"):60108,Np=Ca?Symbol.for("react.profiler"):60114,Fp=Ca?Symbol.for("react.provider"):60109,qp=Ca?Symbol.for("react.context"):60110,$0=Ca?Symbol.for("react.async_mode"):60111,jp=Ca?Symbol.for("react.concurrent_mode"):60111,Bp=Ca?Symbol.for("react.forward_ref"):60112,$p=Ca?Symbol.for("react.suspense"):60113,A6=Ca?Symbol.for("react.suspense_list"):60120,Up=Ca?Symbol.for("react.memo"):60115,Vp=Ca?Symbol.for("react.lazy"):60116,M6=Ca?Symbol.for("react.block"):60121,R6=Ca?Symbol.for("react.fundamental"):60117,T6=Ca?Symbol.for("react.responder"):60118,P6=Ca?Symbol.for("react.scope"):60119;function Po(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case j0:switch(t=t.type,t){case $0:case jp:case kp:case Np:case zp:case $p:return t;default:switch(t=t&&t.$$typeof,t){case qp:case Bp:case Vp:case Up:case Fp:return t;default:return e}}case B0:return e}}}function zw(t){return Po(t)===jp}Ot.AsyncMode=$0;Ot.ConcurrentMode=jp;Ot.ContextConsumer=qp;Ot.ContextProvider=Fp;Ot.Element=j0;Ot.ForwardRef=Bp;Ot.Fragment=kp;Ot.Lazy=Vp;Ot.Memo=Up;Ot.Portal=B0;Ot.Profiler=Np;Ot.StrictMode=zp;Ot.Suspense=$p;Ot.isAsyncMode=function(t){return zw(t)||Po(t)===$0};Ot.isConcurrentMode=zw;Ot.isContextConsumer=function(t){return Po(t)===qp};Ot.isContextProvider=function(t){return Po(t)===Fp};Ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===j0};Ot.isForwardRef=function(t){return Po(t)===Bp};Ot.isFragment=function(t){return Po(t)===kp};Ot.isLazy=function(t){return Po(t)===Vp};Ot.isMemo=function(t){return Po(t)===Up};Ot.isPortal=function(t){return Po(t)===B0};Ot.isProfiler=function(t){return Po(t)===Np};Ot.isStrictMode=function(t){return Po(t)===zp};Ot.isSuspense=function(t){return Po(t)===$p};Ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kp||t===jp||t===Np||t===zp||t===$p||t===A6||typeof t=="object"&&t!==null&&(t.$$typeof===Vp||t.$$typeof===Up||t.$$typeof===Fp||t.$$typeof===qp||t.$$typeof===Bp||t.$$typeof===R6||t.$$typeof===T6||t.$$typeof===P6||t.$$typeof===M6)};Ot.typeOf=Po;kw.exports=Ot;var L6=kw.exports,Nw=L6,D6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},I6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fw={};Fw[Nw.ForwardRef]=D6;Fw[Nw.Memo]=I6;var O6=!0;function k6(t,e,a){var o="";return a.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):o+=r+" "}),o}var qw=function(e,a,o){var r=e.key+"-"+a.name;(o===!1||O6===!1)&&e.registered[r]===void 0&&(e.registered[r]=a.styles)},jw=function(e,a,o){qw(e,a,o);var r=e.key+"-"+a.name;if(e.inserted[a.name]===void 0){var i=a;do e.insert(a===i?"."+r:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function z6(t){for(var e=0,a,o=0,r=t.length;r>=4;++o,r-=4)a=t.charCodeAt(o)&255|(t.charCodeAt(++o)&255)<<8|(t.charCodeAt(++o)&255)<<16|(t.charCodeAt(++o)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,e=(a&65535)*1540483477+((a>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(o+2)&255)<<16;case 2:e^=(t.charCodeAt(o+1)&255)<<8;case 1:e^=t.charCodeAt(o)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var N6={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},F6=/[A-Z]|^ms/g,q6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Bw=function(e){return e.charCodeAt(1)===45},yy=function(e){return e!=null&&typeof e!="boolean"},dh=Mw(function(t){return Bw(t)?t:t.replace(F6,"-$&").toLowerCase()}),xy=function(e,a){switch(e){case"animation":case"animationName":if(typeof a=="string")return a.replace(q6,function(o,r,i){return Ar={name:r,styles:i,next:Ar},r})}return N6[e]!==1&&!Bw(e)&&typeof a=="number"&&a!==0?a+"px":a};function cd(t,e,a){if(a==null)return"";if(a.__emotion_styles!==void 0)return a;switch(typeof a){case"boolean":return"";case"object":{if(a.anim===1)return Ar={name:a.name,styles:a.styles,next:Ar},a.name;if(a.styles!==void 0){var o=a.next;if(o!==void 0)for(;o!==void 0;)Ar={name:o.name,styles:o.styles,next:Ar},o=o.next;var r=a.styles+";";return r}return j6(t,e,a)}case"function":{if(t!==void 0){var i=Ar,n=a(t);return Ar=i,cd(t,e,n)}break}}if(e==null)return a;var s=e[a];return s!==void 0?s:a}function j6(t,e,a){var o="";if(Array.isArray(a))for(var r=0;r<a.length;r++)o+=cd(t,e,a[r])+";";else for(var i in a){var n=a[i];if(typeof n!="object")e!=null&&e[n]!==void 0?o+=i+"{"+e[n]+"}":yy(n)&&(o+=dh(i)+":"+xy(i,n)+";");else if(Array.isArray(n)&&typeof n[0]=="string"&&(e==null||e[n[0]]===void 0))for(var s=0;s<n.length;s++)yy(n[s])&&(o+=dh(i)+":"+xy(i,n[s])+";");else{var l=cd(t,e,n);switch(i){case"animation":case"animationName":{o+=dh(i)+":"+l+";";break}default:o+=i+"{"+l+"}"}}}return o}var by=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ar,U0=function(e,a,o){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Ar=void 0;var n=e[0];n==null||n.raw===void 0?(r=!1,i+=cd(o,a,n)):i+=n[0];for(var s=1;s<e.length;s++)i+=cd(o,a,e[s]),r&&(i+=n[s]);by.lastIndex=0;for(var l="",c;(c=by.exec(i))!==null;)l+="-"+c[1];var d=z6(i)+l;return{name:d,styles:i,next:Ar}},B6=function(e){return e()},$w=cl.useInsertionEffect?cl.useInsertionEffect:!1,$6=$w||B6,_y=$w||C.useLayoutEffect,Uw=C.createContext(typeof HTMLElement<"u"?C6({key:"css"}):null);Uw.Provider;var Vw=function(e){return C.forwardRef(function(a,o){var r=C.useContext(Uw);return e(a,r,o)})},Hp=C.createContext({}),U6=Vw(function(t,e){var a=t.styles,o=U0([a],void 0,C.useContext(Hp)),r=C.useRef();return _y(function(){var i=e.key+"-global",n=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+i+" "+o.name+'"]');return e.sheet.tags.length&&(n.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",i),n.hydrate([l])),r.current=[n,s],function(){n.flush()}},[e]),_y(function(){var i=r.current,n=i[0],s=i[1];if(s){i[1]=!1;return}if(o.next!==void 0&&jw(e,o.next,!0),n.tags.length){var l=n.tags[n.tags.length-1].nextElementSibling;n.before=l,n.flush()}e.insert("",o,n,!1)},[e,o.name]),null});function V6(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return U0(e)}var V0=function(){var e=V6.apply(void 0,arguments),a="animation-"+e.name;return{name:a,styles:"@keyframes "+a+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},H6=YM,W6=function(e){return e!=="theme"},wy=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?H6:W6},Ey=function(e,a,o){var r;if(a){var i=a.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(n){return e.__emotion_forwardProp(n)&&i(n)}:i}return typeof r!="function"&&o&&(r=e.__emotion_forwardProp),r},G6=function(e){var a=e.cache,o=e.serialized,r=e.isStringTag;return qw(a,o,r),$6(function(){return jw(a,o,r)}),null},Z6=function t(e,a){var o=e.__emotion_real===e,r=o&&e.__emotion_base||e,i,n;a!==void 0&&(i=a.label,n=a.target);var s=Ey(e,a,o),l=s||wy(r),c=!l("as");return function(){var d=arguments,m=o&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&m.push("label:"+i+";"),d[0]==null||d[0].raw===void 0)m.push.apply(m,d);else{m.push(d[0][0]);for(var u=d.length,v=1;v<u;v++)m.push(d[v],d[0][v])}var h=Vw(function(p,f,g){var y=c&&p.as||r,x="",b=[],w=p;if(p.theme==null){w={};for(var _ in p)w[_]=p[_];w.theme=C.useContext(Hp)}typeof p.className=="string"?x=k6(f.registered,b,p.className):p.className!=null&&(x=p.className+" ");var S=U0(m.concat(b),f.registered,w);x+=f.key+"-"+S.name,n!==void 0&&(x+=" "+n);var E=c&&s===void 0?wy(y):l,A={};for(var T in p)c&&T==="as"||E(T)&&(A[T]=p[T]);return A.className=x,A.ref=g,C.createElement(C.Fragment,null,C.createElement(G6,{cache:f,serialized:S,isStringTag:typeof y=="string"}),C.createElement(y,A))});return h.displayName=i!==void 0?i:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",h.defaultProps=e.defaultProps,h.__emotion_real=h,h.__emotion_base=r,h.__emotion_styles=m,h.__emotion_forwardProp=s,Object.defineProperty(h,"toString",{value:function(){return"."+n}}),h.withComponent=function(p,f){return t(p,P({},a,f,{shouldForwardProp:Ey(h,f,!0)})).apply(void 0,m)},h}},X6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cg=Z6.bind();X6.forEach(function(t){cg[t]=cg(t)});function Y6(t){return t==null||Object.keys(t).length===0}function K6(t){const{styles:e,defaultTheme:a={}}=t,o=typeof e=="function"?r=>e(Y6(r)?a:r):e;return M.jsx(U6,{styles:o})}function Hw(t,e){return cg(t,e)}const Q6=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Oi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Ww(t){if(!Oi(t))return t;const e={};return Object.keys(t).forEach(a=>{e[a]=Ww(t[a])}),e}function no(t,e,a={clone:!0}){const o=a.clone?P({},t):t;return Oi(t)&&Oi(e)&&Object.keys(e).forEach(r=>{r!=="__proto__"&&(Oi(e[r])&&r in t&&Oi(t[r])?o[r]=no(t[r],e[r],a):a.clone?o[r]=Oi(e[r])?Ww(e[r]):e[r]:o[r]=e[r])}),o}function Ue(t){if(typeof t!="string")throw new Error(Xi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function dg(...t){return t.reduce((e,a)=>a==null?e:function(...r){e.apply(this,r),a.apply(this,r)},()=>{})}function Wp(t,e=166){let a;function o(...r){const i=()=>{t.apply(this,r)};clearTimeout(a),a=setTimeout(i,e)}return o.clear=()=>{clearTimeout(a)},o}function J6(t,e){return()=>null}function Oc(t,e){var a,o;return C.isValidElement(t)&&e.indexOf((a=t.type.muiName)!=null?a:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function so(t){return t&&t.ownerDocument||document}function kr(t){return so(t).defaultView||window}function e8(t,e){return()=>null}function Um(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const vr=typeof window<"u"?C.useLayoutEffect:C.useEffect;let Sy=0;function t8(t){const[e,a]=C.useState(t),o=t||e;return C.useEffect(()=>{e==null&&(Sy+=1,a(`mui-${Sy}`))},[e]),o}const Cy=cl.useId;function H0(t){if(Cy!==void 0){const e=Cy();return t??e}return t8(t)}function a8(t,e,a,o,r){return null}function dd({controlled:t,default:e,name:a,state:o="value"}){const{current:r}=C.useRef(t!==void 0),[i,n]=C.useState(e),s=r?t:i,l=C.useCallback(c=>{r||n(c)},[]);return[s,l]}function Rn(t){const e=C.useRef(t);return vr(()=>{e.current=t}),C.useRef((...a)=>(0,e.current)(...a)).current}function ia(...t){return C.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(a=>{Um(a,e)})},t)}const Ay={};function o8(t,e){const a=C.useRef(Ay);return a.current===Ay&&(a.current=t(e)),a}const r8=[];function i8(t){C.useEffect(t,r8)}class Gp{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Gp}start(e,a){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,a()},e)}}function W0(){const t=o8(Gp.create).current;return i8(t.disposeEffect),t}let Zp=!0,ug=!1;const n8=new Gp,s8={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l8(t){const{type:e,tagName:a}=t;return!!(a==="INPUT"&&s8[e]&&!t.readOnly||a==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function c8(t){t.metaKey||t.altKey||t.ctrlKey||(Zp=!0)}function uh(){Zp=!1}function d8(){this.visibilityState==="hidden"&&ug&&(Zp=!0)}function u8(t){t.addEventListener("keydown",c8,!0),t.addEventListener("mousedown",uh,!0),t.addEventListener("pointerdown",uh,!0),t.addEventListener("touchstart",uh,!0),t.addEventListener("visibilitychange",d8,!0)}function m8(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Zp||l8(e)}function G0(){const t=C.useCallback(r=>{r!=null&&u8(r.ownerDocument)},[]),e=C.useRef(!1);function a(){return e.current?(ug=!0,n8.start(100,()=>{ug=!1}),e.current=!1,!0):!1}function o(r){return m8(r)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:o,onBlur:a,ref:t}}function Gw(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Z0(t,e){const a=P({},e);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))a[o]=P({},t[o],a[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const r=t[o]||{},i=e[o];a[o]={},!i||!Object.keys(i)?a[o]=r:!r||!Object.keys(r)?a[o]=i:(a[o]=P({},i),Object.keys(r).forEach(n=>{a[o][n]=Z0(r[n],i[n])}))}else a[o]===void 0&&(a[o]=t[o])}),a}function et(t,e,a=void 0){const o={};return Object.keys(t).forEach(r=>{o[r]=t[r].reduce((i,n)=>{if(n){const s=e(n);s!==""&&i.push(s),a&&a[n]&&i.push(a[n])}return i},[]).join(" ")}),o}const My=t=>t,p8=()=>{let t=My;return{configure(e){t=e},generate(e){return t(e)},reset(){t=My}}},f8=p8(),X0=f8,h8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ke(t,e,a="Mui"){const o=h8[e];return o?`${a}-${o}`:`${X0.generate(t)}-${e}`}function Qe(t,e,a="Mui"){const o={};return e.forEach(r=>{o[r]=Ke(t,r,a)}),o}function v8(t,e=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,a))}const g8=["values","unit","step"],y8=t=>{const e=Object.keys(t).map(a=>({key:a,val:t[a]}))||[];return e.sort((a,o)=>a.val-o.val),e.reduce((a,o)=>P({},a,{[o.key]:o.val}),{})};function x8(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:a="px",step:o=5}=t,r=_e(t,g8),i=y8(e),n=Object.keys(i);function s(u){return`@media (min-width:${typeof e[u]=="number"?e[u]:u}${a})`}function l(u){return`@media (max-width:${(typeof e[u]=="number"?e[u]:u)-o/100}${a})`}function c(u,v){const h=n.indexOf(v);return`@media (min-width:${typeof e[u]=="number"?e[u]:u}${a}) and (max-width:${(h!==-1&&typeof e[n[h]]=="number"?e[n[h]]:v)-o/100}${a})`}function d(u){return n.indexOf(u)+1<n.length?c(u,n[n.indexOf(u)+1]):s(u)}function m(u){const v=n.indexOf(u);return v===0?s(n[1]):v===n.length-1?l(n[v]):c(u,n[n.indexOf(u)+1]).replace("@media","@media not all and")}return P({keys:n,values:i,up:s,down:l,between:c,only:d,not:m,unit:a},r)}const b8={borderRadius:4},_8=b8;function kc(t,e){return e?no(t,e,{clone:!1}):t}const Y0={xs:0,sm:600,md:900,lg:1200,xl:1536},Ry={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Y0[t]}px)`};function uo(t,e,a){const o=t.theme||{};if(Array.isArray(e)){const i=o.breakpoints||Ry;return e.reduce((n,s,l)=>(n[i.up(i.keys[l])]=a(e[l]),n),{})}if(typeof e=="object"){const i=o.breakpoints||Ry;return Object.keys(e).reduce((n,s)=>{if(Object.keys(i.values||Y0).indexOf(s)!==-1){const l=i.up(s);n[l]=a(e[s],s)}else{const l=s;n[l]=e[l]}return n},{})}return a(e)}function Zw(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((o,r)=>{const i=t.up(r);return o[i]={},o},{}))||{}}function Xw(t,e){return t.reduce((a,o)=>{const r=a[o];return(!r||Object.keys(r).length===0)&&delete a[o],a},e)}function w8(t,...e){const a=Zw(t),o=[a,...e].reduce((r,i)=>no(r,i),{});return Xw(Object.keys(a),o)}function E8(t,e){if(typeof t!="object")return{};const a={},o=Object.keys(e);return Array.isArray(t)?o.forEach((r,i)=>{i<t.length&&(a[r]=!0)}):o.forEach(r=>{t[r]!=null&&(a[r]=!0)}),a}function Nn({values:t,breakpoints:e,base:a}){const o=a||E8(t,e),r=Object.keys(o);if(r.length===0)return t;let i;return r.reduce((n,s,l)=>(Array.isArray(t)?(n[s]=t[l]!=null?t[l]:t[i],i=l):typeof t=="object"?(n[s]=t[s]!=null?t[s]:t[i],i=s):n[s]=t,n),{})}function xl(t,e,a=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&a){const o=`vars.${e}`.split(".").reduce((r,i)=>r&&r[i]?r[i]:null,t);if(o!=null)return o}return e.split(".").reduce((o,r)=>o&&o[r]!=null?o[r]:null,t)}function Vm(t,e,a,o=a){let r;return typeof t=="function"?r=t(a):Array.isArray(t)?r=t[a]||o:r=xl(t,a)||o,e&&(r=e(r,o,t)),r}function ca(t){const{prop:e,cssProperty:a=t.prop,themeKey:o,transform:r}=t,i=n=>{if(n[e]==null)return null;const s=n[e],l=n.theme,c=xl(l,o)||{};return uo(n,s,m=>{let u=Vm(c,r,m);return m===u&&typeof m=="string"&&(u=Vm(c,r,`${e}${m==="default"?"":Ue(m)}`,m)),a===!1?u:{[a]:u}})};return i.propTypes={},i.filterProps=[e],i}function S8(t){const e={};return a=>(e[a]===void 0&&(e[a]=t(a)),e[a])}const C8={m:"margin",p:"padding"},A8={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ty={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},M8=S8(t=>{if(t.length>2)if(Ty[t])t=Ty[t];else return[t];const[e,a]=t.split(""),o=C8[e],r=A8[a]||"";return Array.isArray(r)?r.map(i=>o+i):[o+r]}),K0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Q0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...K0,...Q0];function Nd(t,e,a,o){var r;const i=(r=xl(t,e,!1))!=null?r:a;return typeof i=="number"?n=>typeof n=="string"?n:i*n:Array.isArray(i)?n=>typeof n=="string"?n:i[n]:typeof i=="function"?i:()=>{}}function J0(t){return Nd(t,"spacing",8)}function Kn(t,e){if(typeof e=="string"||e==null)return e;const a=Math.abs(e),o=t(a);return e>=0?o:typeof o=="number"?-o:`-${o}`}function R8(t,e){return a=>t.reduce((o,r)=>(o[r]=Kn(e,a),o),{})}function T8(t,e,a,o){if(e.indexOf(a)===-1)return null;const r=M8(a),i=R8(r,o),n=t[a];return uo(t,n,i)}function Yw(t,e){const a=J0(t.theme);return Object.keys(t).map(o=>T8(t,e,o,a)).reduce(kc,{})}function ea(t){return Yw(t,K0)}ea.propTypes={};ea.filterProps=K0;function ta(t){return Yw(t,Q0)}ta.propTypes={};ta.filterProps=Q0;function P8(t=8){if(t.mui)return t;const e=J0({spacing:t}),a=(...o)=>(o.length===0?[1]:o).map(i=>{const n=e(i);return typeof n=="number"?`${n}px`:n}).join(" ");return a.mui=!0,a}function Xp(...t){const e=t.reduce((o,r)=>(r.filterProps.forEach(i=>{o[i]=r}),o),{}),a=o=>Object.keys(o).reduce((r,i)=>e[i]?kc(r,e[i](o)):r,{});return a.propTypes={},a.filterProps=t.reduce((o,r)=>o.concat(r.filterProps),[]),a}function jo(t){return typeof t!="number"?t:`${t}px solid`}function Zo(t,e){return ca({prop:t,themeKey:"borders",transform:e})}const L8=Zo("border",jo),D8=Zo("borderTop",jo),I8=Zo("borderRight",jo),O8=Zo("borderBottom",jo),k8=Zo("borderLeft",jo),z8=Zo("borderColor"),N8=Zo("borderTopColor"),F8=Zo("borderRightColor"),q8=Zo("borderBottomColor"),j8=Zo("borderLeftColor"),B8=Zo("outline",jo),$8=Zo("outlineColor"),Yp=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Nd(t.theme,"shape.borderRadius",4),a=o=>({borderRadius:Kn(e,o)});return uo(t,t.borderRadius,a)}return null};Yp.propTypes={};Yp.filterProps=["borderRadius"];Xp(L8,D8,I8,O8,k8,z8,N8,F8,q8,j8,Yp,B8,$8);const Kp=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Nd(t.theme,"spacing",8),a=o=>({gap:Kn(e,o)});return uo(t,t.gap,a)}return null};Kp.propTypes={};Kp.filterProps=["gap"];const Qp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Nd(t.theme,"spacing",8),a=o=>({columnGap:Kn(e,o)});return uo(t,t.columnGap,a)}return null};Qp.propTypes={};Qp.filterProps=["columnGap"];const Jp=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Nd(t.theme,"spacing",8),a=o=>({rowGap:Kn(e,o)});return uo(t,t.rowGap,a)}return null};Jp.propTypes={};Jp.filterProps=["rowGap"];const U8=ca({prop:"gridColumn"}),V8=ca({prop:"gridRow"}),H8=ca({prop:"gridAutoFlow"}),W8=ca({prop:"gridAutoColumns"}),G8=ca({prop:"gridAutoRows"}),Z8=ca({prop:"gridTemplateColumns"}),X8=ca({prop:"gridTemplateRows"}),Y8=ca({prop:"gridTemplateAreas"}),K8=ca({prop:"gridArea"});Xp(Kp,Qp,Jp,U8,V8,H8,W8,G8,Z8,X8,Y8,K8);function nl(t,e){return e==="grey"?e:t}const Q8=ca({prop:"color",themeKey:"palette",transform:nl}),J8=ca({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:nl}),eR=ca({prop:"backgroundColor",themeKey:"palette",transform:nl});Xp(Q8,J8,eR);function yo(t){return t<=1&&t!==0?`${t*100}%`:t}const tR=ca({prop:"width",transform:yo}),e1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=a=>{var o,r;const i=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[a])||Y0[a];return i?((r=t.theme)==null||(r=r.breakpoints)==null?void 0:r.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:yo(a)}};return uo(t,t.maxWidth,e)}return null};e1.filterProps=["maxWidth"];const aR=ca({prop:"minWidth",transform:yo}),oR=ca({prop:"height",transform:yo}),rR=ca({prop:"maxHeight",transform:yo}),iR=ca({prop:"minHeight",transform:yo});ca({prop:"size",cssProperty:"width",transform:yo});ca({prop:"size",cssProperty:"height",transform:yo});const nR=ca({prop:"boxSizing"});Xp(tR,e1,aR,oR,rR,iR,nR);const sR={border:{themeKey:"borders",transform:jo},borderTop:{themeKey:"borders",transform:jo},borderRight:{themeKey:"borders",transform:jo},borderBottom:{themeKey:"borders",transform:jo},borderLeft:{themeKey:"borders",transform:jo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:jo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Yp},color:{themeKey:"palette",transform:nl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:nl},backgroundColor:{themeKey:"palette",transform:nl},p:{style:ta},pt:{style:ta},pr:{style:ta},pb:{style:ta},pl:{style:ta},px:{style:ta},py:{style:ta},padding:{style:ta},paddingTop:{style:ta},paddingRight:{style:ta},paddingBottom:{style:ta},paddingLeft:{style:ta},paddingX:{style:ta},paddingY:{style:ta},paddingInline:{style:ta},paddingInlineStart:{style:ta},paddingInlineEnd:{style:ta},paddingBlock:{style:ta},paddingBlockStart:{style:ta},paddingBlockEnd:{style:ta},m:{style:ea},mt:{style:ea},mr:{style:ea},mb:{style:ea},ml:{style:ea},mx:{style:ea},my:{style:ea},margin:{style:ea},marginTop:{style:ea},marginRight:{style:ea},marginBottom:{style:ea},marginLeft:{style:ea},marginX:{style:ea},marginY:{style:ea},marginInline:{style:ea},marginInlineStart:{style:ea},marginInlineEnd:{style:ea},marginBlock:{style:ea},marginBlockStart:{style:ea},marginBlockEnd:{style:ea},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Kp},rowGap:{style:Jp},columnGap:{style:Qp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:yo},maxWidth:{style:e1},minWidth:{transform:yo},height:{transform:yo},maxHeight:{transform:yo},minHeight:{transform:yo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},ef=sR;function lR(...t){const e=t.reduce((o,r)=>o.concat(Object.keys(r)),[]),a=new Set(e);return t.every(o=>a.size===Object.keys(o).length)}function cR(t,e){return typeof t=="function"?t(e):t}function dR(){function t(a,o,r,i){const n={[a]:o,theme:r},s=i[a];if(!s)return{[a]:o};const{cssProperty:l=a,themeKey:c,transform:d,style:m}=s;if(o==null)return null;if(c==="typography"&&o==="inherit")return{[a]:o};const u=xl(r,c)||{};return m?m(n):uo(n,o,h=>{let p=Vm(u,d,h);return h===p&&typeof h=="string"&&(p=Vm(u,d,`${a}${h==="default"?"":Ue(h)}`,h)),l===!1?p:{[l]:p}})}function e(a){var o;const{sx:r,theme:i={}}=a||{};if(!r)return null;const n=(o=i.unstable_sxConfig)!=null?o:ef;function s(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const d=Zw(i.breakpoints),m=Object.keys(d);let u=d;return Object.keys(c).forEach(v=>{const h=cR(c[v],i);if(h!=null)if(typeof h=="object")if(n[v])u=kc(u,t(v,h,i,n));else{const p=uo({theme:i},h,f=>({[v]:f}));lR(p,h)?u[v]=e({sx:h,theme:i}):u=kc(u,p)}else u=kc(u,t(v,h,i,n))}),Xw(m,u)}return Array.isArray(r)?r.map(s):s(r)}return e}const Fd=dR();Fd.filterProps=["sx"];function uR(t,e){const a=this;return a.vars&&typeof a.getColorSchemeSelector=="function"?{[a.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:a.palette.mode===t?e:{}}const mR=["breakpoints","palette","spacing","shape"];function tf(t={},...e){const{breakpoints:a={},palette:o={},spacing:r,shape:i={}}=t,n=_e(t,mR),s=x8(a),l=P8(r);let c=no({breakpoints:s,direction:"ltr",components:{},palette:P({mode:"light"},o),spacing:l,shape:P({},_8,i)},n);return c.applyStyles=uR,c=e.reduce((d,m)=>no(d,m),c),c.unstable_sxConfig=P({},ef,n==null?void 0:n.unstable_sxConfig),c.unstable_sx=function(m){return Fd({sx:m,theme:this})},c}function pR(t){return Object.keys(t).length===0}function Kw(t=null){const e=C.useContext(Hp);return!e||pR(e)?t:e}const fR=tf();function af(t=fR){return Kw(t)}function hR({styles:t,themeId:e,defaultTheme:a={}}){const o=af(a),r=typeof t=="function"?t(e&&o[e]||o):t;return M.jsx(K6,{styles:r})}const vR=["sx"],gR=t=>{var e,a;const o={systemProps:{},otherProps:{}},r=(e=t==null||(a=t.theme)==null?void 0:a.unstable_sxConfig)!=null?e:ef;return Object.keys(t).forEach(i=>{r[i]?o.systemProps[i]=t[i]:o.otherProps[i]=t[i]}),o};function of(t){const{sx:e}=t,a=_e(t,vR),{systemProps:o,otherProps:r}=gR(a);let i;return Array.isArray(e)?i=[o,...e]:typeof e=="function"?i=(...n)=>{const s=e(...n);return Oi(s)?P({},o,s):o}:i=P({},o,e),P({},r,{sx:i})}function Qw(t){var e,a,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(a=Qw(t[e]))&&(o&&(o+=" "),o+=a)}else for(a in t)t[a]&&(o&&(o+=" "),o+=a);return o}function Se(){for(var t,e,a=0,o="",r=arguments.length;a<r;a++)(t=arguments[a])&&(e=Qw(t))&&(o&&(o+=" "),o+=e);return o}const yR=["className","component"];function xR(t={}){const{themeId:e,defaultTheme:a,defaultClassName:o="MuiBox-root",generateClassName:r}=t,i=Hw("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Fd);return C.forwardRef(function(l,c){const d=af(a),m=of(l),{className:u,component:v="div"}=m,h=_e(m,yR);return M.jsx(i,P({as:v,ref:c,className:Se(u,r?r(o):o),theme:e&&d[e]||d},h))})}const bR=["ownerState"],_R=["variants"],wR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function ER(t){return Object.keys(t).length===0}function SR(t){return typeof t=="string"&&t.charCodeAt(0)>96}function zc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const CR=tf(),AR=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function pu({defaultTheme:t,theme:e,themeId:a}){return ER(e)?t:e[a]||e}function MR(t){return t?(e,a)=>a[t]:null}function cm(t,e){let{ownerState:a}=e,o=_e(e,bR);const r=typeof t=="function"?t(P({ownerState:a},o)):t;if(Array.isArray(r))return r.flatMap(i=>cm(i,P({ownerState:a},o)));if(r&&typeof r=="object"&&Array.isArray(r.variants)){const{variants:i=[]}=r;let s=_e(r,_R);return i.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(P({ownerState:a},o)):Object.keys(l.props).forEach(d=>{(a==null?void 0:a[d])!==l.props[d]&&o[d]!==l.props[d]&&(c=!1)}),c&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style(P({ownerState:a},o)):l.style))}),s}return r}function Jw(t={}){const{themeId:e,defaultTheme:a=CR,rootShouldForwardProp:o=zc,slotShouldForwardProp:r=zc}=t,i=n=>Fd(P({},n,{theme:pu(P({},n,{defaultTheme:a,themeId:e}))}));return i.__mui_systemSx=!0,(n,s={})=>{Q6(n,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:m,overridesResolver:u=MR(AR(c))}=s,v=_e(s,wR),h=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,p=m||!1;let f,g=zc;c==="Root"||c==="root"?g=o:c?g=r:SR(n)&&(g=void 0);const y=Hw(n,P({shouldForwardProp:g,label:f},v)),x=w=>typeof w=="function"&&w.__emotion_real!==w||Oi(w)?_=>cm(w,P({},_,{theme:pu({theme:_.theme,defaultTheme:a,themeId:e})})):w,b=(w,..._)=>{let S=x(w);const E=_?_.map(x):[];l&&u&&E.push(O=>{const B=pu(P({},O,{defaultTheme:a,themeId:e}));if(!B.components||!B.components[l]||!B.components[l].styleOverrides)return null;const N=B.components[l].styleOverrides,D={};return Object.entries(N).forEach(([q,j])=>{D[q]=cm(j,P({},O,{theme:B}))}),u(O,D)}),l&&!h&&E.push(O=>{var B;const N=pu(P({},O,{defaultTheme:a,themeId:e})),D=N==null||(B=N.components)==null||(B=B[l])==null?void 0:B.variants;return cm({variants:D},P({},O,{theme:N}))}),p||E.push(i);const A=E.length-_.length;if(Array.isArray(w)&&A>0){const O=new Array(A).fill("");S=[...w,...O],S.raw=[...w.raw,...O]}const T=y(S,...E);return n.muiName&&(T.muiName=n.muiName),T};return y.withConfig&&(b.withConfig=y.withConfig),b}}const RR=Jw();function TR(t){const{theme:e,name:a,props:o}=t;return!e||!e.components||!e.components[a]||!e.components[a].defaultProps?o:Z0(e.components[a].defaultProps,o)}function e4({props:t,name:e,defaultTheme:a,themeId:o}){let r=af(a);return o&&(r=r[o]||r),TR({theme:r,name:e,props:t})}function t1(t,e=0,a=1){return v8(t,e,a)}function PR(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let a=t.match(e);return a&&a[0].length===1&&(a=a.map(o=>o+o)),a?`rgb${a.length===4?"a":""}(${a.map((o,r)=>r<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function Qn(t){if(t.type)return t;if(t.charAt(0)==="#")return Qn(PR(t));const e=t.indexOf("("),a=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error(Xi(9,t));let o=t.substring(e+1,t.length-1),r;if(a==="color"){if(o=o.split(" "),r=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error(Xi(10,r))}else o=o.split(",");return o=o.map(i=>parseFloat(i)),{type:a,values:o,colorSpace:r}}function rf(t){const{type:e,colorSpace:a}=t;let{values:o}=t;return e.indexOf("rgb")!==-1?o=o.map((r,i)=>i<3?parseInt(r,10):r):e.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),e.indexOf("color")!==-1?o=`${a} ${o.join(" ")}`:o=`${o.join(", ")}`,`${e}(${o})`}function LR(t){t=Qn(t);const{values:e}=t,a=e[0],o=e[1]/100,r=e[2]/100,i=o*Math.min(r,1-r),n=(c,d=(c+a/30)%12)=>r-i*Math.max(Math.min(d-3,9-d,1),-1);let s="rgb";const l=[Math.round(n(0)*255),Math.round(n(8)*255),Math.round(n(4)*255)];return t.type==="hsla"&&(s+="a",l.push(e[3])),rf({type:s,values:l})}function Py(t){t=Qn(t);let e=t.type==="hsl"||t.type==="hsla"?Qn(LR(t)).values:t.values;return e=e.map(a=>(t.type!=="color"&&(a/=255),a<=.03928?a/12.92:((a+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function DR(t,e){const a=Py(t),o=Py(e);return(Math.max(a,o)+.05)/(Math.min(a,o)+.05)}function Zt(t,e){return t=Qn(t),e=t1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,rf(t)}function t4(t,e){if(t=Qn(t),e=t1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)t.values[a]*=1-e;return rf(t)}function a4(t,e){if(t=Qn(t),e=t1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let a=0;a<3;a+=1)t.values[a]+=(255-t.values[a])*e;else if(t.type.indexOf("color")!==-1)for(let a=0;a<3;a+=1)t.values[a]+=(1-t.values[a])*e;return rf(t)}const IR=C.createContext(null),o4=IR;function r4(){return C.useContext(o4)}const OR=typeof Symbol=="function"&&Symbol.for,kR=OR?Symbol.for("mui.nested"):"__THEME_NESTED__";function zR(t,e){return typeof e=="function"?e(t):P({},t,e)}function NR(t){const{children:e,theme:a}=t,o=r4(),r=C.useMemo(()=>{const i=o===null?a:zR(o,a);return i!=null&&(i[kR]=o!==null),i},[a,o]);return M.jsx(o4.Provider,{value:r,children:e})}const Ly={};function Dy(t,e,a,o=!1){return C.useMemo(()=>{const r=t&&e[t]||e;if(typeof a=="function"){const i=a(r),n=t?P({},e,{[t]:i}):i;return o?()=>n:n}return t?P({},e,{[t]:a}):P({},e,a)},[t,e,a,o])}function FR(t){const{children:e,theme:a,themeId:o}=t,r=Kw(Ly),i=r4()||Ly,n=Dy(o,r,a),s=Dy(o,i,a,!0);return M.jsx(NR,{theme:s,children:M.jsx(Hp.Provider,{value:n,children:e})})}const qR=["component","direction","spacing","divider","children","className","useFlexGap"],jR=tf(),BR=RR("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function $R(t){return e4({props:t,name:"MuiStack",defaultTheme:jR})}function UR(t,e){const a=C.Children.toArray(t).filter(Boolean);return a.reduce((o,r,i)=>(o.push(r),i<a.length-1&&o.push(C.cloneElement(e,{key:`separator-${i}`})),o),[])}const VR=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],HR=({ownerState:t,theme:e})=>{let a=P({display:"flex",flexDirection:"column"},uo({theme:e},Nn({values:t.direction,breakpoints:e.breakpoints.values}),o=>({flexDirection:o})));if(t.spacing){const o=J0(e),r=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),i=Nn({values:t.direction,base:r}),n=Nn({values:t.spacing,base:r});typeof i=="object"&&Object.keys(i).forEach((l,c,d)=>{if(!i[l]){const u=c>0?i[d[c-1]]:"column";i[l]=u}}),a=no(a,uo({theme:e},n,(l,c)=>t.useFlexGap?{gap:Kn(o,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${VR(c?i[c]:t.direction)}`]:Kn(o,l)}}))}return a=w8(e.breakpoints,a),a};function WR(t={}){const{createStyledComponent:e=BR,useThemeProps:a=$R,componentName:o="MuiStack"}=t,r=()=>et({root:["root"]},l=>Ke(o,l),{}),i=e(HR);return C.forwardRef(function(l,c){const d=a(l),m=of(d),{component:u="div",direction:v="column",spacing:h=0,divider:p,children:f,className:g,useFlexGap:y=!1}=m,x=_e(m,qR),b={direction:v,spacing:h,useFlexGap:y},w=r();return M.jsx(i,P({as:u,ownerState:b,ref:c,className:Se(w.root,g)},x,{children:p?UR(f,p):f}))})}function GR(t,e){return P({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const ZR=["mode","contrastThreshold","tonalOffset"],Iy={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:nd.white,default:nd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},mh={text:{primary:nd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:nd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Oy(t,e,a,o){const r=o.light||o,i=o.dark||o*1.5;t[e]||(t.hasOwnProperty(a)?t[e]=t[a]:e==="light"?t.light=a4(t.main,r):e==="dark"&&(t.dark=t4(t.main,i)))}function XR(t="light"){return t==="dark"?{main:ps[200],light:ps[50],dark:ps[400]}:{main:ps[700],light:ps[400],dark:ps[800]}}function YR(t="light"){return t==="dark"?{main:ms[200],light:ms[50],dark:ms[400]}:{main:ms[500],light:ms[300],dark:ms[700]}}function KR(t="light"){return t==="dark"?{main:us[500],light:us[300],dark:us[700]}:{main:us[700],light:us[400],dark:us[800]}}function QR(t="light"){return t==="dark"?{main:fs[400],light:fs[300],dark:fs[700]}:{main:fs[700],light:fs[500],dark:fs[900]}}function JR(t="light"){return t==="dark"?{main:hs[400],light:hs[300],dark:hs[700]}:{main:hs[800],light:hs[500],dark:hs[900]}}function eT(t="light"){return t==="dark"?{main:Jl[400],light:Jl[300],dark:Jl[700]}:{main:"#ed6c02",light:Jl[500],dark:Jl[900]}}function tT(t){const{mode:e="light",contrastThreshold:a=3,tonalOffset:o=.2}=t,r=_e(t,ZR),i=t.primary||XR(e),n=t.secondary||YR(e),s=t.error||KR(e),l=t.info||QR(e),c=t.success||JR(e),d=t.warning||eT(e);function m(p){return DR(p,mh.text.primary)>=a?mh.text.primary:Iy.text.primary}const u=({color:p,name:f,mainShade:g=500,lightShade:y=300,darkShade:x=700})=>{if(p=P({},p),!p.main&&p[g]&&(p.main=p[g]),!p.hasOwnProperty("main"))throw new Error(Xi(11,f?` (${f})`:"",g));if(typeof p.main!="string")throw new Error(Xi(12,f?` (${f})`:"",JSON.stringify(p.main)));return Oy(p,"light",y,o),Oy(p,"dark",x,o),p.contrastText||(p.contrastText=m(p.main)),p},v={dark:mh,light:Iy};return no(P({common:P({},nd),mode:e,primary:u({color:i,name:"primary"}),secondary:u({color:n,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:u({color:s,name:"error"}),warning:u({color:d,name:"warning"}),info:u({color:l,name:"info"}),success:u({color:c,name:"success"}),grey:ZM,contrastThreshold:a,getContrastText:m,augmentColor:u,tonalOffset:o},v[e]),r)}const aT=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function oT(t){return Math.round(t*1e5)/1e5}const ky={textTransform:"uppercase"},zy='"Roboto", "Helvetica", "Arial", sans-serif';function rT(t,e){const a=typeof e=="function"?e(t):e,{fontFamily:o=zy,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:n=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:m}=a,u=_e(a,aT),v=r/14,h=m||(g=>`${g/c*v}rem`),p=(g,y,x,b,w)=>P({fontFamily:o,fontWeight:g,fontSize:h(y),lineHeight:x},o===zy?{letterSpacing:`${oT(b/y)}em`}:{},w,d),f={h1:p(i,96,1.167,-1.5),h2:p(i,60,1.2,-.5),h3:p(n,48,1.167,0),h4:p(n,34,1.235,.25),h5:p(n,24,1.334,0),h6:p(s,20,1.6,.15),subtitle1:p(n,16,1.75,.15),subtitle2:p(s,14,1.57,.1),body1:p(n,16,1.5,.15),body2:p(n,14,1.43,.15),button:p(s,14,1.75,.4,ky),caption:p(n,12,1.66,.4),overline:p(n,12,2.66,1,ky),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return no(P({htmlFontSize:c,pxToRem:h,fontFamily:o,fontSize:r,fontWeightLight:i,fontWeightRegular:n,fontWeightMedium:s,fontWeightBold:l},f),u,{clone:!1})}const iT=.2,nT=.14,sT=.12;function Wt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${iT})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${nT})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${sT})`].join(",")}const lT=["none",Wt(0,2,1,-1,0,1,1,0,0,1,3,0),Wt(0,3,1,-2,0,2,2,0,0,1,5,0),Wt(0,3,3,-2,0,3,4,0,0,1,8,0),Wt(0,2,4,-1,0,4,5,0,0,1,10,0),Wt(0,3,5,-1,0,5,8,0,0,1,14,0),Wt(0,3,5,-1,0,6,10,0,0,1,18,0),Wt(0,4,5,-2,0,7,10,1,0,2,16,1),Wt(0,5,5,-3,0,8,10,1,0,3,14,2),Wt(0,5,6,-3,0,9,12,1,0,3,16,2),Wt(0,6,6,-3,0,10,14,1,0,4,18,3),Wt(0,6,7,-4,0,11,15,1,0,4,20,3),Wt(0,7,8,-4,0,12,17,2,0,5,22,4),Wt(0,7,8,-4,0,13,19,2,0,5,24,4),Wt(0,7,9,-4,0,14,21,2,0,5,26,4),Wt(0,8,9,-5,0,15,22,2,0,6,28,5),Wt(0,8,10,-5,0,16,24,2,0,6,30,5),Wt(0,8,11,-5,0,17,26,2,0,6,32,5),Wt(0,9,11,-5,0,18,28,2,0,7,34,6),Wt(0,9,12,-6,0,19,29,2,0,7,36,6),Wt(0,10,13,-6,0,20,31,3,0,8,38,7),Wt(0,10,13,-6,0,21,33,3,0,8,40,7),Wt(0,10,14,-6,0,22,35,3,0,8,42,7),Wt(0,11,14,-7,0,23,36,3,0,9,44,8),Wt(0,11,15,-7,0,24,38,3,0,9,46,8)],cT=["duration","easing","delay"],dT={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},i4={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ny(t){return`${Math.round(t)}ms`}function uT(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function mT(t){const e=P({},dT,t.easing),a=P({},i4,t.duration);return P({getAutoHeightDuration:uT,create:(r=["all"],i={})=>{const{duration:n=a.standard,easing:s=e.easeInOut,delay:l=0}=i;return _e(i,cT),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof n=="string"?n:Ny(n)} ${s} ${typeof l=="string"?l:Ny(l)}`).join(",")}},t,{easing:e,duration:a})}const pT={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fT=pT,hT=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function a1(t={},...e){const{mixins:a={},palette:o={},transitions:r={},typography:i={}}=t,n=_e(t,hT);if(t.vars)throw new Error(Xi(18));const s=tT(o),l=tf(t);let c=no(l,{mixins:GR(l.breakpoints,a),palette:s,shadows:lT.slice(),typography:rT(s,i),transitions:mT(r),zIndex:P({},fT)});return c=no(c,n),c=e.reduce((d,m)=>no(d,m),c),c.unstable_sxConfig=P({},ef,n==null?void 0:n.unstable_sxConfig),c.unstable_sx=function(m){return Fd({sx:m,theme:this})},c}const vT=a1(),nf=vT;function ls(){const t=af(nf);return t[Yn]||t}function tt({props:t,name:e}){return e4({props:t,name:e,defaultTheme:nf,themeId:Yn})}const Ba=t=>zc(t)&&t!=="classes",gT=zc,ve=Jw({themeId:Yn,defaultTheme:nf,rootShouldForwardProp:Ba}),yT=["theme"];function xT(t){let{theme:e}=t,a=_e(t,yT);const o=e[Yn];return M.jsx(FR,P({},a,{themeId:o?Yn:void 0,theme:o||e}))}const Fy=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function bT(t){return Ke("MuiSvgIcon",t)}Qe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _T=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],wT=t=>{const{color:e,fontSize:a,classes:o}=t,r={root:["root",e!=="inherit"&&`color${Ue(e)}`,`fontSize${Ue(a)}`]};return et(r,bT,o)},ET=ve("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.color!=="inherit"&&e[`color${Ue(a.color)}`],e[`fontSize${Ue(a.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var a,o,r,i,n,s,l,c,d,m,u,v,h;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(a=t.transitions)==null||(o=a.create)==null?void 0:o.call(a,"fill",{duration:(r=t.transitions)==null||(r=r.duration)==null?void 0:r.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(n=i.pxToRem)==null?void 0:n.call(i,20))||"1.25rem",medium:((s=t.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(m=(u=(t.vars||t).palette)==null||(u=u[e.color])==null?void 0:u.main)!=null?m:{action:(v=(t.vars||t).palette)==null||(v=v.action)==null?void 0:v.active,disabled:(h=(t.vars||t).palette)==null||(h=h.action)==null?void 0:h.disabled,inherit:void 0}[e.color]}}),mg=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:n="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:m,viewBox:u="0 0 24 24"}=o,v=_e(o,_T),h=C.isValidElement(r)&&r.type==="svg",p=P({},o,{color:n,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:u,hasSvgAsChild:h}),f={};d||(f.viewBox=u);const g=wT(p);return M.jsxs(ET,P({as:s,className:Se(g.root,i),focusable:"false",color:c,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:a},f,v,h&&r.props,{ownerState:p,children:[h?r.props.children:r,m?M.jsx("title",{children:m}):null]}))});mg.muiName="SvgIcon";function Qa(t,e){function a(o,r){return M.jsx(mg,P({"data-testid":`${e}Icon`,ref:r},o,{children:t}))}return a.muiName=mg.muiName,C.memo(C.forwardRef(a))}const ST={configure:t=>{X0.configure(t)}},CT=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ue,createChainedFunction:dg,createSvgIcon:Qa,debounce:Wp,deprecatedPropType:J6,isMuiElement:Oc,ownerDocument:so,ownerWindow:kr,requirePropFactory:e8,setRef:Um,unstable_ClassNameGenerator:ST,unstable_useEnhancedEffect:vr,unstable_useId:H0,unsupportedProp:a8,useControlled:dd,useEventCallback:Rn,useForkRef:ia,useIsFocusVisible:G0},Symbol.toStringTag,{value:"Module"}));var kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o1=Symbol.for("react.element"),r1=Symbol.for("react.portal"),sf=Symbol.for("react.fragment"),lf=Symbol.for("react.strict_mode"),cf=Symbol.for("react.profiler"),df=Symbol.for("react.provider"),uf=Symbol.for("react.context"),AT=Symbol.for("react.server_context"),mf=Symbol.for("react.forward_ref"),pf=Symbol.for("react.suspense"),ff=Symbol.for("react.suspense_list"),hf=Symbol.for("react.memo"),vf=Symbol.for("react.lazy"),MT=Symbol.for("react.offscreen"),n4;n4=Symbol.for("react.module.reference");function Xo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o1:switch(t=t.type,t){case sf:case cf:case lf:case pf:case ff:return t;default:switch(t=t&&t.$$typeof,t){case AT:case uf:case mf:case vf:case hf:case df:return t;default:return e}}case r1:return e}}}kt.ContextConsumer=uf;kt.ContextProvider=df;kt.Element=o1;kt.ForwardRef=mf;kt.Fragment=sf;kt.Lazy=vf;kt.Memo=hf;kt.Portal=r1;kt.Profiler=cf;kt.StrictMode=lf;kt.Suspense=pf;kt.SuspenseList=ff;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(t){return Xo(t)===uf};kt.isContextProvider=function(t){return Xo(t)===df};kt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o1};kt.isForwardRef=function(t){return Xo(t)===mf};kt.isFragment=function(t){return Xo(t)===sf};kt.isLazy=function(t){return Xo(t)===vf};kt.isMemo=function(t){return Xo(t)===hf};kt.isPortal=function(t){return Xo(t)===r1};kt.isProfiler=function(t){return Xo(t)===cf};kt.isStrictMode=function(t){return Xo(t)===lf};kt.isSuspense=function(t){return Xo(t)===pf};kt.isSuspenseList=function(t){return Xo(t)===ff};kt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sf||t===cf||t===lf||t===pf||t===ff||t===MT||typeof t=="object"&&t!==null&&(t.$$typeof===vf||t.$$typeof===hf||t.$$typeof===df||t.$$typeof===uf||t.$$typeof===mf||t.$$typeof===n4||t.getModuleId!==void 0)};kt.typeOf=Xo;function pg(t,e){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,r){return o.__proto__=r,o},pg(t,e)}function s4(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pg(t,e)}const qy={disabled:!1},Hm=$o.createContext(null);var RT=function(e){return e.scrollTop},xc="unmounted",vn="exited",gn="entering",Is="entered",fg="exiting",fi=function(t){s4(e,t);function e(o,r){var i;i=t.call(this,o,r)||this;var n=r,s=n&&!n.isMounting?o.enter:o.appear,l;return i.appearStatus=null,o.in?s?(l=vn,i.appearStatus=gn):l=Is:o.unmountOnExit||o.mountOnEnter?l=xc:l=vn,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(r,i){var n=r.in;return n&&i.status===xc?{status:vn}:null};var a=e.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(r){var i=null;if(r!==this.props){var n=this.state.status;this.props.in?n!==gn&&n!==Is&&(i=gn):(n===gn||n===Is)&&(i=fg)}this.updateStatus(!1,i)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var r=this.props.timeout,i,n,s;return i=n=s=r,r!=null&&typeof r!="number"&&(i=r.exit,n=r.enter,s=r.appear!==void 0?r.appear:n),{exit:i,enter:n,appear:s}},a.updateStatus=function(r,i){if(r===void 0&&(r=!1),i!==null)if(this.cancelNextCallback(),i===gn){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:yc.findDOMNode(this);n&&RT(n)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vn&&this.setState({status:xc})},a.performEnter=function(r){var i=this,n=this.props.enter,s=this.context?this.context.isMounting:r,l=this.props.nodeRef?[s]:[yc.findDOMNode(this),s],c=l[0],d=l[1],m=this.getTimeouts(),u=s?m.appear:m.enter;if(!r&&!n||qy.disabled){this.safeSetState({status:Is},function(){i.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:gn},function(){i.props.onEntering(c,d),i.onTransitionEnd(u,function(){i.safeSetState({status:Is},function(){i.props.onEntered(c,d)})})})},a.performExit=function(){var r=this,i=this.props.exit,n=this.getTimeouts(),s=this.props.nodeRef?void 0:yc.findDOMNode(this);if(!i||qy.disabled){this.safeSetState({status:vn},function(){r.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:fg},function(){r.props.onExiting(s),r.onTransitionEnd(n.exit,function(){r.safeSetState({status:vn},function(){r.props.onExited(s)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(r,i){i=this.setNextCallback(i),this.setState(r,i)},a.setNextCallback=function(r){var i=this,n=!0;return this.nextCallback=function(s){n&&(n=!1,i.nextCallback=null,r(s))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(r,i){this.setNextCallback(i);var n=this.props.nodeRef?this.props.nodeRef.current:yc.findDOMNode(this),s=r==null&&!this.props.addEndListener;if(!n||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}r!=null&&setTimeout(this.nextCallback,r)},a.render=function(){var r=this.state.status;if(r===xc)return null;var i=this.props,n=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var s=_e(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $o.createElement(Hm.Provider,{value:null},typeof n=="function"?n(r,s):$o.cloneElement($o.Children.only(n),s))},e}($o.Component);fi.contextType=Hm;fi.propTypes={};function vs(){}fi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vs,onEntering:vs,onEntered:vs,onExit:vs,onExiting:vs,onExited:vs};fi.UNMOUNTED=xc;fi.EXITED=vn;fi.ENTERING=gn;fi.ENTERED=Is;fi.EXITING=fg;const gf=fi;function TT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i1(t,e){var a=function(i){return e&&C.isValidElement(i)?e(i):i},o=Object.create(null);return t&&C.Children.map(t,function(r){return r}).forEach(function(r){o[r.key]=a(r)}),o}function PT(t,e){t=t||{},e=e||{};function a(d){return d in e?e[d]:t[d]}var o=Object.create(null),r=[];for(var i in t)i in e?r.length&&(o[i]=r,r=[]):r.push(i);var n,s={};for(var l in e){if(o[l])for(n=0;n<o[l].length;n++){var c=o[l][n];s[o[l][n]]=a(c)}s[l]=a(l)}for(n=0;n<r.length;n++)s[r[n]]=a(r[n]);return s}function Tn(t,e,a){return a[e]!=null?a[e]:t.props[e]}function LT(t,e){return i1(t.children,function(a){return C.cloneElement(a,{onExited:e.bind(null,a),in:!0,appear:Tn(a,"appear",t),enter:Tn(a,"enter",t),exit:Tn(a,"exit",t)})})}function DT(t,e,a){var o=i1(t.children),r=PT(e,o);return Object.keys(r).forEach(function(i){var n=r[i];if(C.isValidElement(n)){var s=i in e,l=i in o,c=e[i],d=C.isValidElement(c)&&!c.props.in;l&&(!s||d)?r[i]=C.cloneElement(n,{onExited:a.bind(null,n),in:!0,exit:Tn(n,"exit",t),enter:Tn(n,"enter",t)}):!l&&s&&!d?r[i]=C.cloneElement(n,{in:!1}):l&&s&&C.isValidElement(c)&&(r[i]=C.cloneElement(n,{onExited:a.bind(null,n),in:c.props.in,exit:Tn(n,"exit",t),enter:Tn(n,"enter",t)}))}}),r}var IT=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},OT={component:"div",childFactory:function(e){return e}},n1=function(t){s4(e,t);function e(o,r){var i;i=t.call(this,o,r)||this;var n=i.handleExited.bind(TT(i));return i.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},i}var a=e.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,i){var n=i.children,s=i.handleExited,l=i.firstRender;return{children:l?LT(r,s):DT(r,n,s),firstRender:!1}},a.handleExited=function(r,i){var n=i1(this.props.children);r.key in n||(r.props.onExited&&r.props.onExited(i),this.mounted&&this.setState(function(s){var l=P({},s.children);return delete l[r.key],{children:l}}))},a.render=function(){var r=this.props,i=r.component,n=r.childFactory,s=_e(r,["component","childFactory"]),l=this.state.contextValue,c=IT(this.state.children).map(n);return delete s.appear,delete s.enter,delete s.exit,i===null?$o.createElement(Hm.Provider,{value:l},c):$o.createElement(Hm.Provider,{value:l},$o.createElement(i,s,c))},e}($o.Component);n1.propTypes={};n1.defaultProps=OT;const kT=n1,s1=t=>t.scrollTop;function Yi(t,e){var a,o;const{timeout:r,easing:i,style:n={}}=t;return{duration:(a=n.transitionDuration)!=null?a:typeof r=="number"?r:r[e.mode]||0,easing:(o=n.transitionTimingFunction)!=null?o:typeof i=="object"?i[e.mode]:i,delay:n.transitionDelay}}function zT(t){return Ke("MuiCollapse",t)}Qe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const NT=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],FT=t=>{const{orientation:e,classes:a}=t,o={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return et(o,zT,a)},qT=ve("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.orientation],a.state==="entered"&&e.entered,a.state==="exited"&&!a.in&&a.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>P({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&P({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),jT=ve("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>P({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),BT=ve("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>P({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),l4=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiCollapse"}),{addEndListener:r,children:i,className:n,collapsedSize:s="0px",component:l,easing:c,in:d,onEnter:m,onEntered:u,onEntering:v,onExit:h,onExited:p,onExiting:f,orientation:g="vertical",style:y,timeout:x=i4.standard,TransitionComponent:b=gf}=o,w=_e(o,NT),_=P({},o,{orientation:g,collapsedSize:s}),S=FT(_),E=ls(),A=W0(),T=C.useRef(null),O=C.useRef(),B=typeof s=="number"?`${s}px`:s,N=g==="horizontal",D=N?"width":"height",q=C.useRef(null),j=ia(a,q),V=Z=>Oe=>{if(Z){const Me=q.current;Oe===void 0?Z(Me):Z(Me,Oe)}},z=()=>T.current?T.current[N?"clientWidth":"clientHeight"]:0,F=V((Z,Oe)=>{T.current&&N&&(T.current.style.position="absolute"),Z.style[D]=B,m&&m(Z,Oe)}),H=V((Z,Oe)=>{const Me=z();T.current&&N&&(T.current.style.position="");const{duration:Re,easing:xe}=Yi({style:y,timeout:x,easing:c},{mode:"enter"});if(x==="auto"){const Te=E.transitions.getAutoHeightDuration(Me);Z.style.transitionDuration=`${Te}ms`,O.current=Te}else Z.style.transitionDuration=typeof Re=="string"?Re:`${Re}ms`;Z.style[D]=`${Me}px`,Z.style.transitionTimingFunction=xe,v&&v(Z,Oe)}),oe=V((Z,Oe)=>{Z.style[D]="auto",u&&u(Z,Oe)}),W=V(Z=>{Z.style[D]=`${z()}px`,h&&h(Z)}),ie=V(p),le=V(Z=>{const Oe=z(),{duration:Me,easing:Re}=Yi({style:y,timeout:x,easing:c},{mode:"exit"});if(x==="auto"){const xe=E.transitions.getAutoHeightDuration(Oe);Z.style.transitionDuration=`${xe}ms`,O.current=xe}else Z.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;Z.style[D]=B,Z.style.transitionTimingFunction=Re,f&&f(Z)}),Ce=Z=>{x==="auto"&&A.start(O.current||0,Z),r&&r(q.current,Z)};return M.jsx(b,P({in:d,onEnter:F,onEntered:oe,onEntering:H,onExit:W,onExited:ie,onExiting:le,addEndListener:Ce,nodeRef:q,timeout:x==="auto"?null:x},w,{children:(Z,Oe)=>M.jsx(qT,P({as:l,className:Se(S.root,n,{entered:S.entered,exited:!d&&B==="0px"&&S.hidden}[Z]),style:P({[N?"minWidth":"minHeight"]:B},y),ownerState:P({},_,{state:Z}),ref:j},Oe,{children:M.jsx(jT,{ownerState:P({},_,{state:Z}),className:S.wrapper,ref:T,children:M.jsx(BT,{ownerState:P({},_,{state:Z}),className:S.wrapperInner,children:i})})}))}))});l4.muiSupportAuto=!0;const $T=l4;function UT(t){return Ke("MuiPaper",t)}Qe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const VT=["className","component","elevation","square","variant"],HT=t=>{const{square:e,elevation:a,variant:o,classes:r}=t,i={root:["root",o,!e&&"rounded",o==="elevation"&&`elevation${a}`]};return et(i,UT,r)},WT=ve("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],!a.square&&e.rounded,a.variant==="elevation"&&e[`elevation${a.elevation}`]]}})(({theme:t,ownerState:e})=>{var a;return P({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&P({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Zt("#fff",Fy(e.elevation))}, ${Zt("#fff",Fy(e.elevation))})`},t.vars&&{backgroundImage:(a=t.vars.overlays)==null?void 0:a[e.elevation]}))}),GT=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:n=1,square:s=!1,variant:l="elevation"}=o,c=_e(o,VT),d=P({},o,{component:i,elevation:n,square:s,variant:l}),m=HT(d);return M.jsx(WT,P({as:i,ownerState:d,className:Se(m.root,r),ref:a},c))}),qd=GT,c4=C.createContext({});function bl(t){return typeof t=="string"}function d4(t,e,a){return t===void 0||bl(t)?e:P({},e,{ownerState:P({},e.ownerState,a)})}function u4(t,e=[]){if(t===void 0)return{};const a={};return Object.keys(t).filter(o=>o.match(/^on[A-Z]/)&&typeof t[o]=="function"&&!e.includes(o)).forEach(o=>{a[o]=t[o]}),a}function m4(t,e,a){return typeof t=="function"?t(e,a):t}function jy(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(a=>!(a.match(/^on[A-Z]/)&&typeof t[a]=="function")).forEach(a=>{e[a]=t[a]}),e}function p4(t){const{getSlotProps:e,additionalProps:a,externalSlotProps:o,externalForwardedProps:r,className:i}=t;if(!e){const v=Se(a==null?void 0:a.className,i,r==null?void 0:r.className,o==null?void 0:o.className),h=P({},a==null?void 0:a.style,r==null?void 0:r.style,o==null?void 0:o.style),p=P({},a,r,o);return v.length>0&&(p.className=v),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:void 0}}const n=u4(P({},r,o)),s=jy(o),l=jy(r),c=e(n),d=Se(c==null?void 0:c.className,a==null?void 0:a.className,i,r==null?void 0:r.className,o==null?void 0:o.className),m=P({},c==null?void 0:c.style,a==null?void 0:a.style,r==null?void 0:r.style,o==null?void 0:o.style),u=P({},c,a,l,s);return d.length>0&&(u.className=d),Object.keys(m).length>0&&(u.style=m),{props:u,internalRef:c.ref}}const ZT=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function _l(t){var e;const{elementType:a,externalSlotProps:o,ownerState:r,skipResolvingSlotProps:i=!1}=t,n=_e(t,ZT),s=i?{}:m4(o,r),{props:l,internalRef:c}=p4(P({},n,{externalSlotProps:s})),d=ia(c,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return d4(a,P({},l,{ref:d}),r)}const XT=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],YT=["component","slots","slotProps"],KT=["component"];function f4(t,e){const{className:a,elementType:o,ownerState:r,externalForwardedProps:i,getSlotOwnerState:n,internalForwardedProps:s}=e,l=_e(e,XT),{component:c,slots:d={[t]:void 0},slotProps:m={[t]:void 0}}=i,u=_e(i,YT),v=d[t]||o,h=m4(m[t],r),p=p4(P({className:a},l,{externalForwardedProps:t==="root"?u:void 0,externalSlotProps:h})),{props:{component:f},internalRef:g}=p,y=_e(p.props,KT),x=ia(g,h==null?void 0:h.ref,e.ref),b=n?n(y):{},w=P({},r,b),_=t==="root"?f||c:f,S=d4(v,P({},t==="root"&&!c&&!d[t]&&s,t!=="root"&&!d[t]&&s,y,_&&{as:_},{ref:x}),w);return Object.keys(b).forEach(E=>{delete S[E]}),[v,S]}function QT(t){return Ke("MuiAccordion",t)}const JT=Qe("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),fu=JT,e7=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],t7=t=>{const{classes:e,square:a,expanded:o,disabled:r,disableGutters:i}=t;return et({root:["root",!a&&"rounded",o&&"expanded",r&&"disabled",!i&&"gutters"],region:["region"]},QT,e)},a7=ve(qd,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${fu.region}`]:e.region},e.root,!a.square&&e.rounded,!a.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${fu.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${fu.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t,ownerState:e})=>P({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${fu.expanded}`]:{margin:"16px 0"}})),o7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiAccordion"}),{children:r,className:i,defaultExpanded:n=!1,disabled:s=!1,disableGutters:l=!1,expanded:c,onChange:d,square:m=!1,slots:u={},slotProps:v={},TransitionComponent:h,TransitionProps:p}=o,f=_e(o,e7),[g,y]=dd({controlled:c,default:n,name:"Accordion",state:"expanded"}),x=C.useCallback(N=>{y(!g),d&&d(N,!g)},[g,d,y]),[b,...w]=C.Children.toArray(r),_=C.useMemo(()=>({expanded:g,disabled:s,disableGutters:l,toggle:x}),[g,s,l,x]),S=P({},o,{square:m,disabled:s,disableGutters:l,expanded:g}),E=t7(S),A=P({transition:h},u),T=P({transition:p},v),[O,B]=f4("transition",{elementType:$T,externalForwardedProps:{slots:A,slotProps:T},ownerState:S});return delete B.ownerState,M.jsxs(a7,P({className:Se(E.root,i),ref:a,ownerState:S,square:m},f,{children:[M.jsx(c4.Provider,{value:_,children:b}),M.jsx(O,P({in:g,timeout:"auto"},B,{children:M.jsx("div",{"aria-labelledby":b.props.id,id:b.props["aria-controls"],role:"region",className:E.region,children:w})}))]}))}),h4=o7;function r7(t){return Ke("MuiAccordionDetails",t)}Qe("MuiAccordionDetails",["root"]);const i7=["className"],n7=t=>{const{classes:e}=t;return et({root:["root"]},r7,e)},s7=ve("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),l7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiAccordionDetails"}),{className:r}=o,i=_e(o,i7),n=o,s=n7(n);return M.jsx(s7,P({className:Se(s.root,r),ref:a,ownerState:n},i))}),dm=l7;function c7(t){const{className:e,classes:a,pulsate:o=!1,rippleX:r,rippleY:i,rippleSize:n,in:s,onExited:l,timeout:c}=t,[d,m]=C.useState(!1),u=Se(e,a.ripple,a.rippleVisible,o&&a.ripplePulsate),v={width:n,height:n,top:-(n/2)+i,left:-(n/2)+r},h=Se(a.child,d&&a.childLeaving,o&&a.childPulsate);return!s&&!d&&m(!0),C.useEffect(()=>{if(!s&&l!=null){const p=setTimeout(l,c);return()=>{clearTimeout(p)}}},[l,s,c]),M.jsx("span",{className:u,style:v,children:M.jsx("span",{className:h})})}const No=Qe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),d7=["center","classes","className"];let yf=t=>t,By,$y,Uy,Vy;const hg=550,u7=80,m7=V0(By||(By=yf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),p7=V0($y||($y=yf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),f7=V0(Uy||(Uy=yf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),h7=ve("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),v7=ve(c7,{name:"MuiTouchRipple",slot:"Ripple"})(Vy||(Vy=yf`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),No.rippleVisible,m7,hg,({theme:t})=>t.transitions.easing.easeInOut,No.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,No.child,No.childLeaving,p7,hg,({theme:t})=>t.transitions.easing.easeInOut,No.childPulsate,f7,({theme:t})=>t.transitions.easing.easeInOut),g7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:i={},className:n}=o,s=_e(o,d7),[l,c]=C.useState([]),d=C.useRef(0),m=C.useRef(null);C.useEffect(()=>{m.current&&(m.current(),m.current=null)},[l]);const u=C.useRef(!1),v=W0(),h=C.useRef(null),p=C.useRef(null),f=C.useCallback(b=>{const{pulsate:w,rippleX:_,rippleY:S,rippleSize:E,cb:A}=b;c(T=>[...T,M.jsx(v7,{classes:{ripple:Se(i.ripple,No.ripple),rippleVisible:Se(i.rippleVisible,No.rippleVisible),ripplePulsate:Se(i.ripplePulsate,No.ripplePulsate),child:Se(i.child,No.child),childLeaving:Se(i.childLeaving,No.childLeaving),childPulsate:Se(i.childPulsate,No.childPulsate)},timeout:hg,pulsate:w,rippleX:_,rippleY:S,rippleSize:E},d.current)]),d.current+=1,m.current=A},[i]),g=C.useCallback((b={},w={},_=()=>{})=>{const{pulsate:S=!1,center:E=r||w.pulsate,fakeElement:A=!1}=w;if((b==null?void 0:b.type)==="mousedown"&&u.current){u.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(u.current=!0);const T=A?null:p.current,O=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,N,D;if(E||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)B=Math.round(O.width/2),N=Math.round(O.height/2);else{const{clientX:q,clientY:j}=b.touches&&b.touches.length>0?b.touches[0]:b;B=Math.round(q-O.left),N=Math.round(j-O.top)}if(E)D=Math.sqrt((2*O.width**2+O.height**2)/3),D%2===0&&(D+=1);else{const q=Math.max(Math.abs((T?T.clientWidth:0)-B),B)*2+2,j=Math.max(Math.abs((T?T.clientHeight:0)-N),N)*2+2;D=Math.sqrt(q**2+j**2)}b!=null&&b.touches?h.current===null&&(h.current=()=>{f({pulsate:S,rippleX:B,rippleY:N,rippleSize:D,cb:_})},v.start(u7,()=>{h.current&&(h.current(),h.current=null)})):f({pulsate:S,rippleX:B,rippleY:N,rippleSize:D,cb:_})},[r,f,v]),y=C.useCallback(()=>{g({},{pulsate:!0})},[g]),x=C.useCallback((b,w)=>{if(v.clear(),(b==null?void 0:b.type)==="touchend"&&h.current){h.current(),h.current=null,v.start(0,()=>{x(b,w)});return}h.current=null,c(_=>_.length>0?_.slice(1):_),m.current=w},[v]);return C.useImperativeHandle(a,()=>({pulsate:y,start:g,stop:x}),[y,g,x]),M.jsx(h7,P({className:Se(No.root,i.root,n),ref:p},s,{children:M.jsx(kT,{component:null,exit:!0,children:l})}))}),y7=g7;function x7(t){return Ke("MuiButtonBase",t)}const b7=Qe("MuiButtonBase",["root","disabled","focusVisible"]),_7=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],w7=t=>{const{disabled:e,focusVisible:a,focusVisibleClassName:o,classes:r}=t,n=et({root:["root",e&&"disabled",a&&"focusVisible"]},x7,r);return a&&o&&(n.root+=` ${o}`),n},E7=ve("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${b7.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),S7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:i=!1,children:n,className:s,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:m=!1,focusRipple:u=!1,LinkComponent:v="a",onBlur:h,onClick:p,onContextMenu:f,onDragLeave:g,onFocus:y,onFocusVisible:x,onKeyDown:b,onKeyUp:w,onMouseDown:_,onMouseLeave:S,onMouseUp:E,onTouchEnd:A,onTouchMove:T,onTouchStart:O,tabIndex:B=0,TouchRippleProps:N,touchRippleRef:D,type:q}=o,j=_e(o,_7),V=C.useRef(null),z=C.useRef(null),F=ia(z,D),{isFocusVisibleRef:H,onFocus:oe,onBlur:W,ref:ie}=G0(),[le,Ce]=C.useState(!1);c&&le&&Ce(!1),C.useImperativeHandle(r,()=>({focusVisible:()=>{Ce(!0),V.current.focus()}}),[]);const[Z,Oe]=C.useState(!1);C.useEffect(()=>{Oe(!0)},[]);const Me=Z&&!d&&!c;C.useEffect(()=>{le&&u&&!d&&Z&&z.current.pulsate()},[d,u,le,Z]);function Re(X,$e,Le=m){return Rn(Ve=>($e&&$e(Ve),!Le&&z.current&&z.current[X](Ve),!0))}const xe=Re("start",_),Te=Re("stop",f),Ne=Re("stop",g),he=Re("stop",E),ot=Re("stop",X=>{le&&X.preventDefault(),S&&S(X)}),nt=Re("start",O),Nt=Re("stop",A),jt=Re("stop",T),At=Re("stop",X=>{W(X),H.current===!1&&Ce(!1),h&&h(X)},!1),mt=Rn(X=>{V.current||(V.current=X.currentTarget),oe(X),H.current===!0&&(Ce(!0),x&&x(X)),y&&y(X)}),Ht=()=>{const X=V.current;return l&&l!=="button"&&!(X.tagName==="A"&&X.href)},pt=C.useRef(!1),$=Rn(X=>{u&&!pt.current&&le&&z.current&&X.key===" "&&(pt.current=!0,z.current.stop(X,()=>{z.current.start(X)})),X.target===X.currentTarget&&Ht()&&X.key===" "&&X.preventDefault(),b&&b(X),X.target===X.currentTarget&&Ht()&&X.key==="Enter"&&!c&&(X.preventDefault(),p&&p(X))}),I=Rn(X=>{u&&X.key===" "&&z.current&&le&&!X.defaultPrevented&&(pt.current=!1,z.current.stop(X,()=>{z.current.pulsate(X)})),w&&w(X),p&&X.target===X.currentTarget&&Ht()&&X.key===" "&&!X.defaultPrevented&&p(X)});let te=l;te==="button"&&(j.href||j.to)&&(te=v);const me={};te==="button"?(me.type=q===void 0?"button":q,me.disabled=c):(!j.href&&!j.to&&(me.role="button"),c&&(me["aria-disabled"]=c));const ge=ia(a,ie,V),be=P({},o,{centerRipple:i,component:l,disabled:c,disableRipple:d,disableTouchRipple:m,focusRipple:u,tabIndex:B,focusVisible:le}),Pe=w7(be);return M.jsxs(E7,P({as:te,className:Se(Pe.root,s),ownerState:be,onBlur:At,onClick:p,onContextMenu:Te,onFocus:mt,onKeyDown:$,onKeyUp:I,onMouseDown:xe,onMouseLeave:ot,onMouseUp:he,onDragLeave:Ne,onTouchEnd:Nt,onTouchMove:jt,onTouchStart:nt,ref:ge,tabIndex:c?-1:B,type:q},me,j,{children:[n,Me?M.jsx(y7,P({ref:F,center:i},N)):null]}))}),hi=S7;function C7(t){return Ke("MuiAccordionSummary",t)}const A7=Qe("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ks=A7,M7=["children","className","expandIcon","focusVisibleClassName","onClick"],R7=t=>{const{classes:e,expanded:a,disabled:o,disableGutters:r}=t;return et({root:["root",a&&"expanded",o&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",a&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",a&&"expanded"]},C7,e)},T7=ve(hi,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{const a={duration:t.transitions.duration.shortest};return P({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],a),[`&.${Ks.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ks.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Ks.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${Ks.expanded}`]:{minHeight:64}})}),P7=ve("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>P({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Ks.expanded}`]:{margin:"20px 0"}})),L7=ve("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Ks.expanded}`]:{transform:"rotate(180deg)"}})),D7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiAccordionSummary"}),{children:r,className:i,expandIcon:n,focusVisibleClassName:s,onClick:l}=o,c=_e(o,M7),{disabled:d=!1,disableGutters:m,expanded:u,toggle:v}=C.useContext(c4),h=g=>{v&&v(g),l&&l(g)},p=P({},o,{expanded:u,disabled:d,disableGutters:m}),f=R7(p);return M.jsxs(T7,P({focusRipple:!1,disableRipple:!0,disabled:d,component:"div","aria-expanded":u,className:Se(f.root,i),focusVisibleClassName:Se(f.focusVisible,s),onClick:h,ref:a,ownerState:p},c,{children:[M.jsx(P7,{className:f.content,ownerState:p,children:r}),n&&M.jsx(L7,{className:f.expandIconWrapper,ownerState:p,children:n})]}))}),um=D7;function I7(t){return Ke("MuiIconButton",t)}const O7=Qe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),k7=["edge","children","className","color","disabled","disableFocusRipple","size"],z7=t=>{const{classes:e,disabled:a,color:o,edge:r,size:i}=t,n={root:["root",a&&"disabled",o!=="default"&&`color${Ue(o)}`,r&&`edge${Ue(r)}`,`size${Ue(i)}`]};return et(n,I7,e)},N7=ve(hi,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.color!=="default"&&e[`color${Ue(a.color)}`],a.edge&&e[`edge${Ue(a.edge)}`],e[`size${Ue(a.size)}`]]}})(({theme:t,ownerState:e})=>P({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var a;const o=(a=(t.vars||t).palette)==null?void 0:a[e.color];return P({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&P({color:o==null?void 0:o.main},!e.disableRipple&&{"&:hover":P({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${O7.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),F7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:n,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium"}=o,m=_e(o,k7),u=P({},o,{edge:r,color:s,disabled:l,disableFocusRipple:c,size:d}),v=z7(u);return M.jsx(N7,P({className:Se(v.root,n),centerRipple:!0,focusRipple:!c,disabled:l,ref:a,ownerState:u},m,{children:i}))}),Fn=F7;function q7(t){return Ke("MuiTypography",t)}Qe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const j7=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],B7=t=>{const{align:e,gutterBottom:a,noWrap:o,paragraph:r,variant:i,classes:n}=t,s={root:["root",i,t.align!=="inherit"&&`align${Ue(e)}`,a&&"gutterBottom",o&&"noWrap",r&&"paragraph"]};return et(s,q7,n)},$7=ve("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.variant&&e[a.variant],a.align!=="inherit"&&e[`align${Ue(a.align)}`],a.noWrap&&e.noWrap,a.gutterBottom&&e.gutterBottom,a.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>P({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),Hy={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},U7={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},V7=t=>U7[t]||t,H7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiTypography"}),r=V7(o.color),i=of(P({},o,{color:r})),{align:n="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:d=!1,paragraph:m=!1,variant:u="body1",variantMapping:v=Hy}=i,h=_e(i,j7),p=P({},i,{align:n,color:r,className:s,component:l,gutterBottom:c,noWrap:d,paragraph:m,variant:u,variantMapping:v}),f=l||(m?"p":v[u]||Hy[u])||"span",g=B7(p);return M.jsx($7,P({as:f,ref:a,ownerState:p,className:Se(g.root,s)},h))}),ao=H7;function W7(t){return Ke("MuiAppBar",t)}Qe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const G7=["className","color","enableColorOnDark","position"],Z7=t=>{const{color:e,position:a,classes:o}=t,r={root:["root",`color${Ue(e)}`,`position${Ue(a)}`]};return et(r,W7,o)},hu=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,X7=ve(qd,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`position${Ue(a.position)}`],e[`color${Ue(a.color)}`]]}})(({theme:t,ownerState:e})=>{const a=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return P({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&P({},e.color==="default"&&{backgroundColor:a,color:t.palette.getContrastText(a)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&P({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&P({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:hu(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:hu(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:hu(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:hu(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Y7=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:n=!1,position:s="fixed"}=o,l=_e(o,G7),c=P({},o,{color:i,position:s,enableColorOnDark:n}),d=Z7(c);return M.jsx(X7,P({square:!0,component:"header",ownerState:c,elevation:4,className:Se(d.root,r,s==="fixed"&&"mui-fixed"),ref:a},l))}),K7=Y7,Q7=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function J7(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function e9(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=o=>t.ownerDocument.querySelector(`input[type="radio"]${o}`);let a=e(`[name="${t.name}"]:checked`);return a||(a=e(`[name="${t.name}"]`)),a!==t}function t9(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||e9(t))}function a9(t){const e=[],a=[];return Array.from(t.querySelectorAll(Q7)).forEach((o,r)=>{const i=J7(o);i===-1||!t9(o)||(i===0?e.push(o):a.push({documentOrder:r,tabIndex:i,node:o}))}),a.sort((o,r)=>o.tabIndex===r.tabIndex?o.documentOrder-r.documentOrder:o.tabIndex-r.tabIndex).map(o=>o.node).concat(e)}function o9(){return!0}function r9(t){const{children:e,disableAutoFocus:a=!1,disableEnforceFocus:o=!1,disableRestoreFocus:r=!1,getTabbable:i=a9,isEnabled:n=o9,open:s}=t,l=C.useRef(!1),c=C.useRef(null),d=C.useRef(null),m=C.useRef(null),u=C.useRef(null),v=C.useRef(!1),h=C.useRef(null),p=ia(e.ref,h),f=C.useRef(null);C.useEffect(()=>{!s||!h.current||(v.current=!a)},[a,s]),C.useEffect(()=>{if(!s||!h.current)return;const x=so(h.current);return h.current.contains(x.activeElement)||(h.current.hasAttribute("tabIndex")||h.current.setAttribute("tabIndex","-1"),v.current&&h.current.focus()),()=>{r||(m.current&&m.current.focus&&(l.current=!0,m.current.focus()),m.current=null)}},[s]),C.useEffect(()=>{if(!s||!h.current)return;const x=so(h.current),b=S=>{f.current=S,!(o||!n()||S.key!=="Tab")&&x.activeElement===h.current&&S.shiftKey&&(l.current=!0,d.current&&d.current.focus())},w=()=>{const S=h.current;if(S===null)return;if(!x.hasFocus()||!n()||l.current){l.current=!1;return}if(S.contains(x.activeElement)||o&&x.activeElement!==c.current&&x.activeElement!==d.current)return;if(x.activeElement!==u.current)u.current=null;else if(u.current!==null)return;if(!v.current)return;let E=[];if((x.activeElement===c.current||x.activeElement===d.current)&&(E=i(h.current)),E.length>0){var A,T;const O=!!((A=f.current)!=null&&A.shiftKey&&((T=f.current)==null?void 0:T.key)==="Tab"),B=E[0],N=E[E.length-1];typeof B!="string"&&typeof N!="string"&&(O?N.focus():B.focus())}else S.focus()};x.addEventListener("focusin",w),x.addEventListener("keydown",b,!0);const _=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(_),x.removeEventListener("focusin",w),x.removeEventListener("keydown",b,!0)}},[a,o,r,n,s,i]);const g=x=>{m.current===null&&(m.current=x.relatedTarget),v.current=!0,u.current=x.target;const b=e.props.onFocus;b&&b(x)},y=x=>{m.current===null&&(m.current=x.relatedTarget),v.current=!0};return M.jsxs(C.Fragment,{children:[M.jsx("div",{tabIndex:s?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),C.cloneElement(e,{ref:p,onFocus:g}),M.jsx("div",{tabIndex:s?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}function i9(t){return typeof t=="function"?t():t}const n9=C.forwardRef(function(e,a){const{children:o,container:r,disablePortal:i=!1}=e,[n,s]=C.useState(null),l=ia(C.isValidElement(o)?o.ref:null,a);if(vr(()=>{i||s(i9(r)||document.body)},[r,i]),vr(()=>{if(n&&!i)return Um(a,n),()=>{Um(a,null)}},[a,n,i]),i){if(C.isValidElement(o)){const c={ref:l};return C.cloneElement(o,c)}return M.jsx(C.Fragment,{children:o})}return M.jsx(C.Fragment,{children:n&&Od.createPortal(o,n)})});function s9(t){const e=so(t);return e.body===t?kr(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Nc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function Wy(t){return parseInt(kr(t).getComputedStyle(t).paddingRight,10)||0}function l9(t){const a=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,o=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return a||o}function Gy(t,e,a,o,r){const i=[e,a,...o];[].forEach.call(t.children,n=>{const s=i.indexOf(n)===-1,l=!l9(n);s&&l&&Nc(n,r)})}function ph(t,e){let a=-1;return t.some((o,r)=>e(o)?(a=r,!0):!1),a}function c9(t,e){const a=[],o=t.container;if(!e.disableScrollLock){if(s9(o)){const n=Gw(so(o));a.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${Wy(o)+n}px`;const s=so(o).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{a.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${Wy(l)+n}px`})}let i;if(o.parentNode instanceof DocumentFragment)i=so(o).body;else{const n=o.parentElement,s=kr(o);i=(n==null?void 0:n.nodeName)==="HTML"&&s.getComputedStyle(n).overflowY==="scroll"?n:o}a.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{a.forEach(({value:i,el:n,property:s})=>{i?n.style.setProperty(s,i):n.style.removeProperty(s)})}}function d9(t){const e=[];return[].forEach.call(t.children,a=>{a.getAttribute("aria-hidden")==="true"&&e.push(a)}),e}class u9{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,a){let o=this.modals.indexOf(e);if(o!==-1)return o;o=this.modals.length,this.modals.push(e),e.modalRef&&Nc(e.modalRef,!1);const r=d9(a);Gy(a,e.mount,e.modalRef,r,!0);const i=ph(this.containers,n=>n.container===a);return i!==-1?(this.containers[i].modals.push(e),o):(this.containers.push({modals:[e],container:a,restore:null,hiddenSiblings:r}),o)}mount(e,a){const o=ph(this.containers,i=>i.modals.indexOf(e)!==-1),r=this.containers[o];r.restore||(r.restore=c9(r,a))}remove(e,a=!0){const o=this.modals.indexOf(e);if(o===-1)return o;const r=ph(this.containers,n=>n.modals.indexOf(e)!==-1),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(o,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Nc(e.modalRef,a),Gy(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const n=i.modals[i.modals.length-1];n.modalRef&&Nc(n.modalRef,!1)}return o}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function m9(t){return typeof t=="function"?t():t}function p9(t){return t?t.props.hasOwnProperty("in"):!1}const f9=new u9;function h9(t){const{container:e,disableEscapeKeyDown:a=!1,disableScrollLock:o=!1,manager:r=f9,closeAfterTransition:i=!1,onTransitionEnter:n,onTransitionExited:s,children:l,onClose:c,open:d,rootRef:m}=t,u=C.useRef({}),v=C.useRef(null),h=C.useRef(null),p=ia(h,m),[f,g]=C.useState(!d),y=p9(l);let x=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(x=!1);const b=()=>so(v.current),w=()=>(u.current.modalRef=h.current,u.current.mount=v.current,u.current),_=()=>{r.mount(w(),{disableScrollLock:o}),h.current&&(h.current.scrollTop=0)},S=Rn(()=>{const j=m9(e)||b().body;r.add(w(),j),h.current&&_()}),E=C.useCallback(()=>r.isTopModal(w()),[r]),A=Rn(j=>{v.current=j,j&&(d&&E()?_():h.current&&Nc(h.current,x))}),T=C.useCallback(()=>{r.remove(w(),x)},[x,r]);C.useEffect(()=>()=>{T()},[T]),C.useEffect(()=>{d?S():(!y||!i)&&T()},[d,T,y,i,S]);const O=j=>V=>{var z;(z=j.onKeyDown)==null||z.call(j,V),!(V.key!=="Escape"||V.which===229||!E())&&(a||(V.stopPropagation(),c&&c(V,"escapeKeyDown")))},B=j=>V=>{var z;(z=j.onClick)==null||z.call(j,V),V.target===V.currentTarget&&c&&c(V,"backdropClick")};return{getRootProps:(j={})=>{const V=u4(t);delete V.onTransitionEnter,delete V.onTransitionExited;const z=P({},V,j);return P({role:"presentation"},z,{onKeyDown:O(z),ref:p})},getBackdropProps:(j={})=>{const V=j;return P({"aria-hidden":!0},V,{onClick:B(V),open:d})},getTransitionProps:()=>{const j=()=>{g(!1),n&&n()},V=()=>{g(!0),s&&s(),i&&T()};return{onEnter:dg(j,l==null?void 0:l.props.onEnter),onExited:dg(V,l==null?void 0:l.props.onExited)}},rootRef:p,portalRef:A,isTopModal:E,exited:f,hasTransition:y}}const v9=["onChange","maxRows","minRows","style","value"];function vu(t){return parseInt(t,10)||0}const g9={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Zy(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const y9=C.forwardRef(function(e,a){const{onChange:o,maxRows:r,minRows:i=1,style:n,value:s}=e,l=_e(e,v9),{current:c}=C.useRef(s!=null),d=C.useRef(null),m=ia(a,d),u=C.useRef(null),v=C.useRef(0),[h,p]=C.useState({outerHeightStyle:0}),f=C.useCallback(()=>{const b=d.current,_=kr(b).getComputedStyle(b);if(_.width==="0px")return{outerHeightStyle:0};const S=u.current;S.style.width=_.width,S.value=b.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const E=_.boxSizing,A=vu(_.paddingBottom)+vu(_.paddingTop),T=vu(_.borderBottomWidth)+vu(_.borderTopWidth),O=S.scrollHeight;S.value="x";const B=S.scrollHeight;let N=O;i&&(N=Math.max(Number(i)*B,N)),r&&(N=Math.min(Number(r)*B,N)),N=Math.max(N,B);const D=N+(E==="border-box"?A+T:0),q=Math.abs(N-O)<=1;return{outerHeightStyle:D,overflow:q}},[r,i,e.placeholder]),g=(b,w)=>{const{outerHeightStyle:_,overflow:S}=w;return v.current<20&&(_>0&&Math.abs((b.outerHeightStyle||0)-_)>1||b.overflow!==S)?(v.current+=1,{overflow:S,outerHeightStyle:_}):b},y=C.useCallback(()=>{const b=f();Zy(b)||p(w=>g(w,b))},[f]);vr(()=>{const b=()=>{const O=f();Zy(O)||Od.flushSync(()=>{p(B=>g(B,O))})},w=()=>{v.current=0,b()};let _;const S=Wp(w),E=d.current,A=kr(E);A.addEventListener("resize",S);let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(w),T.observe(E)),()=>{S.clear(),cancelAnimationFrame(_),A.removeEventListener("resize",S),T&&T.disconnect()}},[f]),vr(()=>{y()}),C.useEffect(()=>{v.current=0},[s]);const x=b=>{v.current=0,c||y(),o&&o(b)};return M.jsxs(C.Fragment,{children:[M.jsx("textarea",P({value:s,onChange:x,ref:m,rows:i,style:P({height:h.outerHeightStyle,overflow:h.overflow?"hidden":void 0},n)},l)),M.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:u,tabIndex:-1,style:P({},g9.shadow,n,{paddingTop:0,paddingBottom:0})})]})});function nn({props:t,states:e,muiFormControl:a}){return e.reduce((o,r)=>(o[r]=t[r],a&&typeof t[r]>"u"&&(o[r]=a[r]),o),{})}const x9=C.createContext(void 0),xf=x9;function jr(){return C.useContext(xf)}function v4(t){return M.jsx(hR,P({},t,{defaultTheme:nf,themeId:Yn}))}function Xy(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Wm(t,e=!1){return t&&(Xy(t.value)&&t.value!==""||e&&Xy(t.defaultValue)&&t.defaultValue!=="")}function b9(t){return t.startAdornment}function _9(t){return Ke("MuiInputBase",t)}const w9=Qe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),wl=w9,E9=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],bf=(t,e)=>{const{ownerState:a}=t;return[e.root,a.formControl&&e.formControl,a.startAdornment&&e.adornedStart,a.endAdornment&&e.adornedEnd,a.error&&e.error,a.size==="small"&&e.sizeSmall,a.multiline&&e.multiline,a.color&&e[`color${Ue(a.color)}`],a.fullWidth&&e.fullWidth,a.hiddenLabel&&e.hiddenLabel]},_f=(t,e)=>{const{ownerState:a}=t;return[e.input,a.size==="small"&&e.inputSizeSmall,a.multiline&&e.inputMultiline,a.type==="search"&&e.inputTypeSearch,a.startAdornment&&e.inputAdornedStart,a.endAdornment&&e.inputAdornedEnd,a.hiddenLabel&&e.inputHiddenLabel]},S9=t=>{const{classes:e,color:a,disabled:o,error:r,endAdornment:i,focused:n,formControl:s,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:m,size:u,startAdornment:v,type:h}=t,p={root:["root",`color${Ue(a)}`,o&&"disabled",r&&"error",l&&"fullWidth",n&&"focused",s&&"formControl",u&&u!=="medium"&&`size${Ue(u)}`,d&&"multiline",v&&"adornedStart",i&&"adornedEnd",c&&"hiddenLabel",m&&"readOnly"],input:["input",o&&"disabled",h==="search"&&"inputTypeSearch",d&&"inputMultiline",u==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",v&&"inputAdornedStart",i&&"inputAdornedEnd",m&&"readOnly"]};return et(p,_9,e)},wf=ve("div",{name:"MuiInputBase",slot:"Root",overridesResolver:bf})(({theme:t,ownerState:e})=>P({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${wl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&P({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Ef=ve("input",{name:"MuiInputBase",slot:"Input",overridesResolver:_f})(({theme:t,ownerState:e})=>{const a=t.palette.mode==="light",o=P({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),r={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return P({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${wl.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${wl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),C9=M.jsx(v4,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),A9=C.forwardRef(function(e,a){var o;const r=tt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:n,autoFocus:s,className:l,components:c={},componentsProps:d={},defaultValue:m,disabled:u,disableInjectingGlobalStyles:v,endAdornment:h,fullWidth:p=!1,id:f,inputComponent:g="input",inputProps:y={},inputRef:x,maxRows:b,minRows:w,multiline:_=!1,name:S,onBlur:E,onChange:A,onClick:T,onFocus:O,onKeyDown:B,onKeyUp:N,placeholder:D,readOnly:q,renderSuffix:j,rows:V,slotProps:z={},slots:F={},startAdornment:H,type:oe="text",value:W}=r,ie=_e(r,E9),le=y.value!=null?y.value:W,{current:Ce}=C.useRef(le!=null),Z=C.useRef(),Oe=C.useCallback(Pe=>{},[]),Me=ia(Z,x,y.ref,Oe),[Re,xe]=C.useState(!1),Te=jr(),Ne=nn({props:r,muiFormControl:Te,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ne.focused=Te?Te.focused:Re,C.useEffect(()=>{!Te&&u&&Re&&(xe(!1),E&&E())},[Te,u,Re,E]);const he=Te&&Te.onFilled,ot=Te&&Te.onEmpty,nt=C.useCallback(Pe=>{Wm(Pe)?he&&he():ot&&ot()},[he,ot]);vr(()=>{Ce&&nt({value:le})},[le,nt,Ce]);const Nt=Pe=>{if(Ne.disabled){Pe.stopPropagation();return}O&&O(Pe),y.onFocus&&y.onFocus(Pe),Te&&Te.onFocus?Te.onFocus(Pe):xe(!0)},jt=Pe=>{E&&E(Pe),y.onBlur&&y.onBlur(Pe),Te&&Te.onBlur?Te.onBlur(Pe):xe(!1)},At=(Pe,...X)=>{if(!Ce){const $e=Pe.target||Z.current;if($e==null)throw new Error(Xi(1));nt({value:$e.value})}y.onChange&&y.onChange(Pe,...X),A&&A(Pe,...X)};C.useEffect(()=>{nt(Z.current)},[]);const mt=Pe=>{Z.current&&Pe.currentTarget===Pe.target&&Z.current.focus(),T&&T(Pe)};let Ht=g,pt=y;_&&Ht==="input"&&(V?pt=P({type:void 0,minRows:V,maxRows:V},pt):pt=P({type:void 0,maxRows:b,minRows:w},pt),Ht=y9);const $=Pe=>{nt(Pe.animationName==="mui-auto-fill-cancel"?Z.current:{value:"x"})};C.useEffect(()=>{Te&&Te.setAdornedStart(!!H)},[Te,H]);const I=P({},r,{color:Ne.color||"primary",disabled:Ne.disabled,endAdornment:h,error:Ne.error,focused:Ne.focused,formControl:Te,fullWidth:p,hiddenLabel:Ne.hiddenLabel,multiline:_,size:Ne.size,startAdornment:H,type:oe}),te=S9(I),me=F.root||c.Root||wf,ge=z.root||d.root||{},be=F.input||c.Input||Ef;return pt=P({},pt,(o=z.input)!=null?o:d.input),M.jsxs(C.Fragment,{children:[!v&&C9,M.jsxs(me,P({},ge,!bl(me)&&{ownerState:P({},I,ge.ownerState)},{ref:a,onClick:mt},ie,{className:Se(te.root,ge.className,l,q&&"MuiInputBase-readOnly"),children:[H,M.jsx(xf.Provider,{value:null,children:M.jsx(be,P({ownerState:I,"aria-invalid":Ne.error,"aria-describedby":i,autoComplete:n,autoFocus:s,defaultValue:m,disabled:Ne.disabled,id:f,onAnimationStart:$,name:S,placeholder:D,readOnly:q,required:Ne.required,rows:V,value:le,onKeyDown:B,onKeyUp:N,type:oe},pt,!bl(be)&&{as:Ht,ownerState:P({},I,pt.ownerState)},{ref:Me,className:Se(te.input,pt.className,q&&"MuiInputBase-readOnly"),onBlur:jt,onChange:At,onFocus:Nt}))}),h,j?j(P({},Ne,{startAdornment:H})):null]}))]})}),l1=A9;function M9(t){return Ke("MuiInput",t)}const R9=P({},wl,Qe("MuiInput",["root","underline","input"])),tc=R9;function T9(t){return Ke("MuiOutlinedInput",t)}const P9=P({},wl,Qe("MuiOutlinedInput",["root","notchedOutline","input"])),bi=P9;function L9(t){return Ke("MuiFilledInput",t)}const D9=P({},wl,Qe("MuiFilledInput",["root","underline","input"])),cn=D9,I9=Qa(M.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),O9=Qa(M.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function k9(t){return Ke("MuiAvatar",t)}Qe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const z9=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],N9=t=>{const{classes:e,variant:a,colorDefault:o}=t;return et({root:["root",a,o&&"colorDefault"],img:["img"],fallback:["fallback"]},k9,e)},F9=ve("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],a.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:P({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:P({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),q9=ve("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),j9=ve(O9,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function B9({crossOrigin:t,referrerPolicy:e,src:a,srcSet:o}){const[r,i]=C.useState(!1);return C.useEffect(()=>{if(!a&&!o)return;i(!1);let n=!0;const s=new Image;return s.onload=()=>{n&&i("loaded")},s.onerror=()=>{n&&i("error")},s.crossOrigin=t,s.referrerPolicy=e,s.src=a,o&&(s.srcset=o),()=>{n=!1}},[t,e,a,o]),r}const $9=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiAvatar"}),{alt:r,children:i,className:n,component:s="div",slots:l={},slotProps:c={},imgProps:d,sizes:m,src:u,srcSet:v,variant:h="circular"}=o,p=_e(o,z9);let f=null;const g=B9(P({},d,{src:u,srcSet:v})),y=u||v,x=y&&g!=="error",b=P({},o,{colorDefault:!x,component:s,variant:h}),w=N9(b),[_,S]=f4("img",{className:w.img,elementType:q9,externalForwardedProps:{slots:l,slotProps:{img:P({},d,c.img)}},additionalProps:{alt:r,src:u,srcSet:v,sizes:m},ownerState:b});return x?f=M.jsx(_,P({},S)):i||i===0?f=i:y&&r?f=r[0]:f=M.jsx(j9,{ownerState:b,className:w.fallback}),M.jsx(F9,P({as:s,ownerState:b,className:Se(w.root,n),ref:a},p,{children:f}))}),vg=$9,U9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],V9={entering:{opacity:1},entered:{opacity:1}},H9=C.forwardRef(function(e,a){const o=ls(),r={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:i,appear:n=!0,children:s,easing:l,in:c,onEnter:d,onEntered:m,onEntering:u,onExit:v,onExited:h,onExiting:p,style:f,timeout:g=r,TransitionComponent:y=gf}=e,x=_e(e,U9),b=C.useRef(null),w=ia(b,s.ref,a),_=D=>q=>{if(D){const j=b.current;q===void 0?D(j):D(j,q)}},S=_(u),E=_((D,q)=>{s1(D);const j=Yi({style:f,timeout:g,easing:l},{mode:"enter"});D.style.webkitTransition=o.transitions.create("opacity",j),D.style.transition=o.transitions.create("opacity",j),d&&d(D,q)}),A=_(m),T=_(p),O=_(D=>{const q=Yi({style:f,timeout:g,easing:l},{mode:"exit"});D.style.webkitTransition=o.transitions.create("opacity",q),D.style.transition=o.transitions.create("opacity",q),v&&v(D)}),B=_(h),N=D=>{i&&i(b.current,D)};return M.jsx(y,P({appear:n,in:c,nodeRef:b,onEnter:E,onEntered:A,onEntering:S,onExit:O,onExited:B,onExiting:T,addEndListener:N,timeout:g},x,{children:(D,q)=>C.cloneElement(s,P({style:P({opacity:0,visibility:D==="exited"&&!c?"hidden":void 0},V9[D],f,s.props.style),ref:w},q))}))}),g4=H9;function W9(t){return Ke("MuiBackdrop",t)}Qe("MuiBackdrop",["root","invisible"]);const G9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Z9=t=>{const{classes:e,invisible:a}=t;return et({root:["root",a&&"invisible"]},W9,e)},X9=ve("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.invisible&&e.invisible]}})(({ownerState:t})=>P({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Y9=C.forwardRef(function(e,a){var o,r,i;const n=tt({props:e,name:"MuiBackdrop"}),{children:s,className:l,component:c="div",components:d={},componentsProps:m={},invisible:u=!1,open:v,slotProps:h={},slots:p={},TransitionComponent:f=g4,transitionDuration:g}=n,y=_e(n,G9),x=P({},n,{component:c,invisible:u}),b=Z9(x),w=(o=h.root)!=null?o:m.root;return M.jsx(f,P({in:v,timeout:g},y,{children:M.jsx(X9,P({"aria-hidden":!0},w,{as:(r=(i=p.root)!=null?i:d.Root)!=null?r:c,className:Se(b.root,l,w==null?void 0:w.className),ownerState:P({},x,w==null?void 0:w.ownerState),classes:b,ref:a,children:s}))}))}),K9=Y9,Q9=Qe("MuiBox",["root"]),J9=Q9,eP=a1(),tP=xR({themeId:Yn,defaultTheme:eP,defaultClassName:J9.root,generateClassName:X0.generate}),Ta=tP;function aP(t){return Ke("MuiButton",t)}const oP=Qe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),gu=oP,rP=C.createContext({}),iP=rP,nP=C.createContext(void 0),sP=nP,lP=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],cP=t=>{const{color:e,disableElevation:a,fullWidth:o,size:r,variant:i,classes:n}=t,s={root:["root",i,`${i}${Ue(e)}`,`size${Ue(r)}`,`${i}Size${Ue(r)}`,e==="inherit"&&"colorInherit",a&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ue(r)}`],endIcon:["endIcon",`iconSize${Ue(r)}`]},l=et(s,aP,n);return P({},n,l)},y4=t=>P({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),dP=ve(hi,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`${a.variant}${Ue(a.color)}`],e[`size${Ue(a.size)}`],e[`${a.variant}Size${Ue(a.size)}`],a.color==="inherit"&&e.colorInherit,a.disableElevation&&e.disableElevation,a.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var a,o;const r=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return P({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":P({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":P({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${gu.focusVisible}`]:P({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${gu.disabled}`]:P({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Zt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(a=(o=t.palette).getContrastText)==null?void 0:a.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:r,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${gu.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${gu.disabled}`]:{boxShadow:"none"}}),uP=ve("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.startIcon,e[`iconSize${Ue(a.size)}`]]}})(({ownerState:t})=>P({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},y4(t))),mP=ve("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.endIcon,e[`iconSize${Ue(a.size)}`]]}})(({ownerState:t})=>P({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},y4(t))),pP=C.forwardRef(function(e,a){const o=C.useContext(iP),r=C.useContext(sP),i=Z0(o,e),n=tt({props:i,name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:d,disabled:m=!1,disableElevation:u=!1,disableFocusRipple:v=!1,endIcon:h,focusVisibleClassName:p,fullWidth:f=!1,size:g="medium",startIcon:y,type:x,variant:b="text"}=n,w=_e(n,lP),_=P({},n,{color:l,component:c,disabled:m,disableElevation:u,disableFocusRipple:v,fullWidth:f,size:g,type:x,variant:b}),S=cP(_),E=y&&M.jsx(uP,{className:S.startIcon,ownerState:_,children:y}),A=h&&M.jsx(mP,{className:S.endIcon,ownerState:_,children:h}),T=r||"";return M.jsxs(dP,P({ownerState:_,className:Se(o.className,S.root,d,T),component:c,disabled:m,focusRipple:!v,focusVisibleClassName:Se(S.focusVisible,p),ref:a,type:x},w,{classes:S,children:[E,s,A]}))}),Sf=pP;function fP(t){return Ke("MuiCard",t)}Qe("MuiCard",["root"]);const hP=["className","raised"],vP=t=>{const{classes:e}=t;return et({root:["root"]},fP,e)},gP=ve(qd,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),yP=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=o,n=_e(o,hP),s=P({},o,{raised:i}),l=vP(s);return M.jsx(gP,P({className:Se(l.root,r),elevation:i?8:void 0,ref:a,ownerState:s},n))}),xP=yP;function bP(t){return Ke("MuiCardActionArea",t)}const _P=Qe("MuiCardActionArea",["root","focusVisible","focusHighlight"]),fh=_P,wP=["children","className","focusVisibleClassName"],EP=t=>{const{classes:e}=t;return et({root:["root"],focusHighlight:["focusHighlight"]},bP,e)},SP=ve(hi,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${fh.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${fh.focusVisible} .${fh.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),CP=ve("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),AP=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiCardActionArea"}),{children:r,className:i,focusVisibleClassName:n}=o,s=_e(o,wP),l=o,c=EP(l);return M.jsxs(SP,P({className:Se(c.root,i),focusVisibleClassName:Se(n,c.focusVisible),ref:a,ownerState:l},s,{children:[r,M.jsx(CP,{className:c.focusHighlight,ownerState:l})]}))}),MP=AP;function RP(t){return Ke("MuiCardActions",t)}Qe("MuiCardActions",["root","spacing"]);const TP=["disableSpacing","className"],PP=t=>{const{classes:e,disableSpacing:a}=t;return et({root:["root",!a&&"spacing"]},RP,e)},LP=ve("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disableSpacing&&e.spacing]}})(({ownerState:t})=>P({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),DP=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:i}=o,n=_e(o,TP),s=P({},o,{disableSpacing:r}),l=PP(s);return M.jsx(LP,P({className:Se(l.root,i),ownerState:s,ref:a},n))}),IP=DP;function OP(t){return Ke("MuiCardContent",t)}Qe("MuiCardContent",["root"]);const kP=["className","component"],zP=t=>{const{classes:e}=t;return et({root:["root"]},OP,e)},NP=ve("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),FP=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=o,n=_e(o,kP),s=P({},o,{component:i}),l=zP(s);return M.jsx(NP,P({as:i,className:Se(l.root,r),ownerState:s,ref:a},n))}),qP=FP;function jP(t){return Ke("PrivateSwitchBase",t)}Qe("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const BP=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],$P=t=>{const{classes:e,checked:a,disabled:o,edge:r}=t,i={root:["root",a&&"checked",o&&"disabled",r&&`edge${Ue(r)}`],input:["input"]};return et(i,jP,e)},UP=ve(hi)(({ownerState:t})=>P({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),VP=ve("input",{shouldForwardProp:Ba})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),HP=C.forwardRef(function(e,a){const{autoFocus:o,checked:r,checkedIcon:i,className:n,defaultChecked:s,disabled:l,disableFocusRipple:c=!1,edge:d=!1,icon:m,id:u,inputProps:v,inputRef:h,name:p,onBlur:f,onChange:g,onFocus:y,readOnly:x,required:b=!1,tabIndex:w,type:_,value:S}=e,E=_e(e,BP),[A,T]=dd({controlled:r,default:!!s,name:"SwitchBase",state:"checked"}),O=jr(),B=F=>{y&&y(F),O&&O.onFocus&&O.onFocus(F)},N=F=>{f&&f(F),O&&O.onBlur&&O.onBlur(F)},D=F=>{if(F.nativeEvent.defaultPrevented)return;const H=F.target.checked;T(H),g&&g(F,H)};let q=l;O&&typeof q>"u"&&(q=O.disabled);const j=_==="checkbox"||_==="radio",V=P({},e,{checked:A,disabled:q,disableFocusRipple:c,edge:d}),z=$P(V);return M.jsxs(UP,P({component:"span",className:Se(z.root,n),centerRipple:!0,focusRipple:!c,disabled:q,tabIndex:null,role:void 0,onFocus:B,onBlur:N,ownerState:V,ref:a},E,{children:[M.jsx(VP,P({autoFocus:o,checked:r,defaultChecked:s,className:z.input,disabled:q,id:j?u:void 0,name:p,onChange:D,readOnly:x,ref:h,required:b,ownerState:V,tabIndex:w,type:_},_==="checkbox"&&S===void 0?{}:{value:S},v)),A?i:m]}))}),WP=HP,GP=(t,e)=>P({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),ZP=t=>P({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),XP=(t,e=!1)=>{var a;const o={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([n,s])=>{var l;o[t.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:(l=s.palette)==null?void 0:l.mode}});let r=P({html:GP(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:P({margin:0},ZP(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},o);const i=(a=t.components)==null||(a=a.MuiCssBaseline)==null?void 0:a.styleOverrides;return i&&(r=[r,i]),r};function YP(t){const e=tt({props:t,name:"MuiCssBaseline"}),{children:a,enableColorScheme:o=!1}=e;return M.jsxs(C.Fragment,{children:[M.jsx(v4,{styles:r=>XP(r,o)}),a]})}function KP(t){return Ke("MuiModal",t)}Qe("MuiModal",["root","hidden","backdrop"]);const QP=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],JP=t=>{const{open:e,exited:a,classes:o}=t;return et({root:["root",!e&&a&&"hidden"],backdrop:["backdrop"]},KP,o)},eL=ve("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.open&&a.exited&&e.hidden]}})(({theme:t,ownerState:e})=>P({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),tL=ve(K9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),aL=C.forwardRef(function(e,a){var o,r,i,n,s,l;const c=tt({name:"MuiModal",props:e}),{BackdropComponent:d=tL,BackdropProps:m,className:u,closeAfterTransition:v=!1,children:h,container:p,component:f,components:g={},componentsProps:y={},disableAutoFocus:x=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:S=!1,disableScrollLock:E=!1,hideBackdrop:A=!1,keepMounted:T=!1,onBackdropClick:O,open:B,slotProps:N,slots:D}=c,q=_e(c,QP),j=P({},c,{closeAfterTransition:v,disableAutoFocus:x,disableEnforceFocus:b,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:S,disableScrollLock:E,hideBackdrop:A,keepMounted:T}),{getRootProps:V,getBackdropProps:z,getTransitionProps:F,portalRef:H,isTopModal:oe,exited:W,hasTransition:ie}=h9(P({},j,{rootRef:a})),le=P({},j,{exited:W}),Ce=JP(le),Z={};if(h.props.tabIndex===void 0&&(Z.tabIndex="-1"),ie){const{onEnter:he,onExited:ot}=F();Z.onEnter=he,Z.onExited=ot}const Oe=(o=(r=D==null?void 0:D.root)!=null?r:g.Root)!=null?o:eL,Me=(i=(n=D==null?void 0:D.backdrop)!=null?n:g.Backdrop)!=null?i:d,Re=(s=N==null?void 0:N.root)!=null?s:y.root,xe=(l=N==null?void 0:N.backdrop)!=null?l:y.backdrop,Te=_l({elementType:Oe,externalSlotProps:Re,externalForwardedProps:q,getSlotProps:V,additionalProps:{ref:a,as:f},ownerState:le,className:Se(u,Re==null?void 0:Re.className,Ce==null?void 0:Ce.root,!le.open&&le.exited&&(Ce==null?void 0:Ce.hidden))}),Ne=_l({elementType:Me,externalSlotProps:xe,additionalProps:m,getSlotProps:he=>z(P({},he,{onClick:ot=>{O&&O(ot),he!=null&&he.onClick&&he.onClick(ot)}})),className:Se(xe==null?void 0:xe.className,m==null?void 0:m.className,Ce==null?void 0:Ce.backdrop),ownerState:le});return!T&&!B&&(!ie||W)?null:M.jsx(n9,{ref:H,container:p,disablePortal:_,children:M.jsxs(Oe,P({},Te,{children:[!A&&d?M.jsx(Me,P({},Ne)):null,M.jsx(r9,{disableEnforceFocus:b,disableAutoFocus:x,disableRestoreFocus:S,isEnabled:oe,open:B,children:C.cloneElement(h,Z)})]}))})}),x4=aL;function oL(t){return Ke("MuiDivider",t)}const rL=Qe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Yy=rL,iL=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],nL=t=>{const{absolute:e,children:a,classes:o,flexItem:r,light:i,orientation:n,textAlign:s,variant:l}=t;return et({root:["root",e&&"absolute",l,i&&"light",n==="vertical"&&"vertical",r&&"flexItem",a&&"withChildren",a&&n==="vertical"&&"withChildrenVertical",s==="right"&&n!=="vertical"&&"textAlignRight",s==="left"&&n!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",n==="vertical"&&"wrapperVertical"]},oL,o)},sL=ve("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.absolute&&e.absolute,e[a.variant],a.light&&e.light,a.orientation==="vertical"&&e.vertical,a.flexItem&&e.flexItem,a.children&&e.withChildren,a.children&&a.orientation==="vertical"&&e.withChildrenVertical,a.textAlign==="right"&&a.orientation!=="vertical"&&e.textAlignRight,a.textAlign==="left"&&a.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>P({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Zt(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>P({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>P({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>P({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>P({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),lL=ve("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.wrapper,a.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>P({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),b4=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:n,component:s=i?"div":"hr",flexItem:l=!1,light:c=!1,orientation:d="horizontal",role:m=s!=="hr"?"separator":void 0,textAlign:u="center",variant:v="fullWidth"}=o,h=_e(o,iL),p=P({},o,{absolute:r,component:s,flexItem:l,light:c,orientation:d,role:m,textAlign:u,variant:v}),f=nL(p);return M.jsx(sL,P({as:s,className:Se(f.root,n),role:m,ref:a,ownerState:p},h,{children:i?M.jsx(lL,{className:f.wrapper,ownerState:p,children:i}):null}))});b4.muiSkipListHighlight=!0;const gg=b4,cL=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function dL(t,e,a){const o=e.getBoundingClientRect(),r=a&&a.getBoundingClientRect(),i=kr(e);let n;if(e.fakeTransform)n=e.fakeTransform;else{const c=i.getComputedStyle(e);n=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let s=0,l=0;if(n&&n!=="none"&&typeof n=="string"){const c=n.split("(")[1].split(")")[0].split(",");s=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?r?`translateX(${r.right+s-o.left}px)`:`translateX(${i.innerWidth+s-o.left}px)`:t==="right"?r?`translateX(-${o.right-r.left-s}px)`:`translateX(-${o.left+o.width-s}px)`:t==="up"?r?`translateY(${r.bottom+l-o.top}px)`:`translateY(${i.innerHeight+l-o.top}px)`:r?`translateY(-${o.top-r.top+o.height-l}px)`:`translateY(-${o.top+o.height-l}px)`}function uL(t){return typeof t=="function"?t():t}function yu(t,e,a){const o=uL(a),r=dL(t,e,o);r&&(e.style.webkitTransform=r,e.style.transform=r)}const mL=C.forwardRef(function(e,a){const o=ls(),r={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:n,appear:s=!0,children:l,container:c,direction:d="down",easing:m=r,in:u,onEnter:v,onEntered:h,onEntering:p,onExit:f,onExited:g,onExiting:y,style:x,timeout:b=i,TransitionComponent:w=gf}=e,_=_e(e,cL),S=C.useRef(null),E=ia(l.ref,S,a),A=z=>F=>{z&&(F===void 0?z(S.current):z(S.current,F))},T=A((z,F)=>{yu(d,z,c),s1(z),v&&v(z,F)}),O=A((z,F)=>{const H=Yi({timeout:b,style:x,easing:m},{mode:"enter"});z.style.webkitTransition=o.transitions.create("-webkit-transform",P({},H)),z.style.transition=o.transitions.create("transform",P({},H)),z.style.webkitTransform="none",z.style.transform="none",p&&p(z,F)}),B=A(h),N=A(y),D=A(z=>{const F=Yi({timeout:b,style:x,easing:m},{mode:"exit"});z.style.webkitTransition=o.transitions.create("-webkit-transform",F),z.style.transition=o.transitions.create("transform",F),yu(d,z,c),f&&f(z)}),q=A(z=>{z.style.webkitTransition="",z.style.transition="",g&&g(z)}),j=z=>{n&&n(S.current,z)},V=C.useCallback(()=>{S.current&&yu(d,S.current,c)},[d,c]);return C.useEffect(()=>{if(u||d==="down"||d==="right")return;const z=Wp(()=>{S.current&&yu(d,S.current,c)}),F=kr(S.current);return F.addEventListener("resize",z),()=>{z.clear(),F.removeEventListener("resize",z)}},[d,u,c]),C.useEffect(()=>{u||V()},[u,V]),M.jsx(w,P({nodeRef:S,onEnter:T,onEntered:B,onEntering:O,onExit:D,onExited:q,onExiting:N,addEndListener:j,appear:s,in:u,timeout:b},_,{children:(z,F)=>C.cloneElement(l,P({ref:E,style:P({visibility:z==="exited"&&!u?"hidden":void 0},x,l.props.style)},F))}))}),_4=mL;function pL(t){return Ke("MuiDrawer",t)}Qe("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const fL=["BackdropProps"],hL=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],w4=(t,e)=>{const{ownerState:a}=t;return[e.root,(a.variant==="permanent"||a.variant==="persistent")&&e.docked,e.modal]},vL=t=>{const{classes:e,anchor:a,variant:o}=t,r={root:["root"],docked:[(o==="permanent"||o==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ue(a)}`,o!=="temporary"&&`paperAnchorDocked${Ue(a)}`]};return et(r,pL,e)},gL=ve(x4,{name:"MuiDrawer",slot:"Root",overridesResolver:w4})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),Ky=ve("div",{shouldForwardProp:Ba,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:w4})({flex:"0 0 auto"}),yL=ve(qd,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.paper,e[`paperAnchor${Ue(a.anchor)}`],a.variant!=="temporary"&&e[`paperAnchorDocked${Ue(a.anchor)}`]]}})(({theme:t,ownerState:e})=>P({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),E4={left:"right",right:"left",top:"down",bottom:"up"};function xL(t){return["left","right"].indexOf(t)!==-1}function bL(t,e){return t.direction==="rtl"&&xL(e)?E4[e]:e}const _L=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiDrawer"}),r=ls(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:n="left",BackdropProps:s,children:l,className:c,elevation:d=16,hideBackdrop:m=!1,ModalProps:{BackdropProps:u}={},onClose:v,open:h=!1,PaperProps:p={},SlideProps:f,TransitionComponent:g=_4,transitionDuration:y=i,variant:x="temporary"}=o,b=_e(o.ModalProps,fL),w=_e(o,hL),_=C.useRef(!1);C.useEffect(()=>{_.current=!0},[]);const S=bL(r,n),A=P({},o,{anchor:n,elevation:d,open:h,variant:x},w),T=vL(A),O=M.jsx(yL,P({elevation:x==="temporary"?d:0,square:!0},p,{className:Se(T.paper,p.className),ownerState:A,children:l}));if(x==="permanent")return M.jsx(Ky,P({className:Se(T.root,T.docked,c),ownerState:A,ref:a},w,{children:O}));const B=M.jsx(g,P({in:h,direction:E4[S],timeout:y,appear:_.current},f,{children:O}));return x==="persistent"?M.jsx(Ky,P({className:Se(T.root,T.docked,c),ownerState:A,ref:a},w,{children:B})):M.jsx(gL,P({BackdropProps:P({},s,u,{transitionDuration:y}),className:Se(T.root,T.modal,c),open:h,ownerState:A,onClose:v,hideBackdrop:m,ref:a},w,b,{children:B}))}),Qy=_L;function wL(t){return Ke("MuiFab",t)}const EL=Qe("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),Jy=EL,SL=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],CL=t=>{const{color:e,variant:a,classes:o,size:r}=t,i={root:["root",a,`size${Ue(r)}`,e==="inherit"?"colorInherit":e]},n=et(i,wL,o);return P({},o,n)},AL=ve(hi,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>Ba(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[a.variant],e[`size${Ue(a.size)}`],a.color==="inherit"&&e.colorInherit,e[Ue(a.size)],e[a.color]]}})(({theme:t,ownerState:e})=>{var a,o;return P({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(a=(o=t.palette).getContrastText)==null?void 0:a.call(o,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${Jy.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>P({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${Jy.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),ML=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiFab"}),{children:r,className:i,color:n="default",component:s="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:d,size:m="large",variant:u="circular"}=o,v=_e(o,SL),h=P({},o,{color:n,component:s,disabled:l,disableFocusRipple:c,size:m,variant:u}),p=CL(h);return M.jsx(AL,P({className:Se(p.root,i),component:s,disabled:l,focusRipple:!c,focusVisibleClassName:Se(p.focusVisible,d),ownerState:h,ref:a},v,{classes:p,children:r}))}),RL=ML,TL=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],PL=t=>{const{classes:e,disableUnderline:a}=t,r=et({root:["root",!a&&"underline"],input:["input"]},L9,e);return P({},e,r)},LL=ve(wf,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[...bf(t,e),!a.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var a;const o=t.palette.mode==="light",r=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",n=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return P({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:n,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${cn.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${cn.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(a=(t.vars||t).palette[e.color||"primary"])==null?void 0:a.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${cn.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cn.disabled}, .${cn.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${cn.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&P({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),DL=ve(Ef,{name:"MuiFilledInput",slot:"Input",overridesResolver:_f})(({theme:t,ownerState:e})=>P({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),S4=C.forwardRef(function(e,a){var o,r,i,n;const s=tt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:m="input",multiline:u=!1,slotProps:v,slots:h={},type:p="text"}=s,f=_e(s,TL),g=P({},s,{fullWidth:d,inputComponent:m,multiline:u,type:p}),y=PL(s),x={root:{ownerState:g},input:{ownerState:g}},b=v??c?no(x,v??c):x,w=(o=(r=h.root)!=null?r:l.Root)!=null?o:LL,_=(i=(n=h.input)!=null?n:l.Input)!=null?i:DL;return M.jsx(l1,P({slots:{root:w,input:_},componentsProps:b,fullWidth:d,inputComponent:m,multiline:u,ref:a,type:p},f,{classes:y}))});S4.muiName="Input";const C4=S4;function IL(t){return Ke("MuiFormControl",t)}Qe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const OL=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],kL=t=>{const{classes:e,margin:a,fullWidth:o}=t,r={root:["root",a!=="none"&&`margin${Ue(a)}`,o&&"fullWidth"]};return et(r,IL,e)},zL=ve("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>P({},e.root,e[`margin${Ue(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>P({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),NL=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiFormControl"}),{children:r,className:i,color:n="primary",component:s="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:m=!1,hiddenLabel:u=!1,margin:v="none",required:h=!1,size:p="medium",variant:f="outlined"}=o,g=_e(o,OL),y=P({},o,{color:n,component:s,disabled:l,error:c,fullWidth:m,hiddenLabel:u,margin:v,required:h,size:p,variant:f}),x=kL(y),[b,w]=C.useState(()=>{let N=!1;return r&&C.Children.forEach(r,D=>{if(!Oc(D,["Input","Select"]))return;const q=Oc(D,["Select"])?D.props.input:D;q&&b9(q.props)&&(N=!0)}),N}),[_,S]=C.useState(()=>{let N=!1;return r&&C.Children.forEach(r,D=>{Oc(D,["Input","Select"])&&(Wm(D.props,!0)||Wm(D.props.inputProps,!0))&&(N=!0)}),N}),[E,A]=C.useState(!1);l&&E&&A(!1);const T=d!==void 0&&!l?d:E;let O;const B=C.useMemo(()=>({adornedStart:b,setAdornedStart:w,color:n,disabled:l,error:c,filled:_,focused:T,fullWidth:m,hiddenLabel:u,size:p,onBlur:()=>{A(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{A(!0)},registerEffect:O,required:h,variant:f}),[b,n,l,c,_,T,m,u,O,h,p,f]);return M.jsx(xf.Provider,{value:B,children:M.jsx(zL,P({as:s,ownerState:y,className:Se(x.root,i),ref:a},g,{children:r}))})}),c1=NL,FL=WR({createStyledComponent:ve("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>tt({props:t,name:"MuiStack"})}),qL=FL;function jL(t){return Ke("MuiFormControlLabel",t)}const BL=Qe("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),bc=BL,$L=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],UL=t=>{const{classes:e,disabled:a,labelPlacement:o,error:r,required:i}=t,n={root:["root",a&&"disabled",`labelPlacement${Ue(o)}`,r&&"error",i&&"required"],label:["label",a&&"disabled"],asterisk:["asterisk",r&&"error"]};return et(n,jL,e)},VL=ve("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${bc.label}`]:e.label},e.root,e[`labelPlacement${Ue(a.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>P({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${bc.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${bc.label}`]:{[`&.${bc.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),HL=ve("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${bc.error}`]:{color:(t.vars||t).palette.error.main}})),WL=C.forwardRef(function(e,a){var o,r;const i=tt({props:e,name:"MuiFormControlLabel"}),{className:n,componentsProps:s={},control:l,disabled:c,disableTypography:d,label:m,labelPlacement:u="end",required:v,slotProps:h={}}=i,p=_e(i,$L),f=jr(),g=(o=c??l.props.disabled)!=null?o:f==null?void 0:f.disabled,y=v??l.props.required,x={disabled:g,required:y};["checked","name","onChange","value","inputRef"].forEach(A=>{typeof l.props[A]>"u"&&typeof i[A]<"u"&&(x[A]=i[A])});const b=nn({props:i,muiFormControl:f,states:["error"]}),w=P({},i,{disabled:g,labelPlacement:u,required:y,error:b.error}),_=UL(w),S=(r=h.typography)!=null?r:s.typography;let E=m;return E!=null&&E.type!==ao&&!d&&(E=M.jsx(ao,P({component:"span"},S,{className:Se(_.label,S==null?void 0:S.className),children:E}))),M.jsxs(VL,P({className:Se(_.root,n),ownerState:w,ref:a},p,{children:[C.cloneElement(l,x),y?M.jsxs(qL,{display:"block",children:[E,M.jsxs(HL,{ownerState:w,"aria-hidden":!0,className:_.asterisk,children:[" ","*"]})]}):E]}))}),ex=WL;function GL(t){return Ke("MuiFormGroup",t)}Qe("MuiFormGroup",["root","row","error"]);const ZL=["className","row"],XL=t=>{const{classes:e,row:a,error:o}=t;return et({root:["root",a&&"row",o&&"error"]},GL,e)},YL=ve("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.row&&e.row]}})(({ownerState:t})=>P({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),KL=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiFormGroup"}),{className:r,row:i=!1}=o,n=_e(o,ZL),s=jr(),l=nn({props:o,muiFormControl:s,states:["error"]}),c=P({},o,{row:i,error:l.error}),d=XL(c);return M.jsx(YL,P({className:Se(d.root,r),ownerState:c,ref:a},n))}),QL=KL;function JL(t){return Ke("MuiFormHelperText",t)}const eD=Qe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),tx=eD;var ax;const tD=["children","className","component","disabled","error","filled","focused","margin","required","variant"],aD=t=>{const{classes:e,contained:a,size:o,disabled:r,error:i,filled:n,focused:s,required:l}=t,c={root:["root",r&&"disabled",i&&"error",o&&`size${Ue(o)}`,a&&"contained",s&&"focused",n&&"filled",l&&"required"]};return et(c,JL,e)},oD=ve("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.size&&e[`size${Ue(a.size)}`],a.contained&&e.contained,a.filled&&e.filled]}})(({theme:t,ownerState:e})=>P({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${tx.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${tx.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),rD=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:n="p"}=o,s=_e(o,tD),l=jr(),c=nn({props:o,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),d=P({},o,{component:n,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),m=aD(d);return M.jsx(oD,P({as:n,ownerState:d,className:Se(m.root,i),ref:a},s,{children:r===" "?ax||(ax=M.jsx("span",{className:"notranslate",children:"​"})):r}))}),iD=rD;function nD(t){return Ke("MuiFormLabel",t)}const Fc=Qe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),sD=["children","className","color","component","disabled","error","filled","focused","required"],lD=t=>{const{classes:e,color:a,focused:o,disabled:r,error:i,filled:n,required:s}=t,l={root:["root",`color${Ue(a)}`,r&&"disabled",i&&"error",n&&"filled",o&&"focused",s&&"required"],asterisk:["asterisk",i&&"error"]};return et(l,nD,e)},cD=ve("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>P({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>P({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Fc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Fc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Fc.error}`]:{color:(t.vars||t).palette.error.main}})),dD=ve("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Fc.error}`]:{color:(t.vars||t).palette.error.main}})),uD=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:n="label"}=o,s=_e(o,sD),l=jr(),c=nn({props:o,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),d=P({},o,{color:c.color||"primary",component:n,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),m=lD(d);return M.jsxs(cD,P({as:n,ownerState:d,className:Se(m.root,i),ref:a},s,{children:[r,c.required&&M.jsxs(dD,{ownerState:d,"aria-hidden":!0,className:m.asterisk,children:[" ","*"]})]}))}),A4=uD,mD=C.createContext(),ox=mD;function pD(t){return Ke("MuiGrid",t)}const fD=[0,1,2,3,4,5,6,7,8,9,10],hD=["column-reverse","column","row-reverse","row"],vD=["nowrap","wrap-reverse","wrap"],ac=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ud=Qe("MuiGrid",["root","container","item","zeroMinWidth",...fD.map(t=>`spacing-xs-${t}`),...hD.map(t=>`direction-xs-${t}`),...vD.map(t=>`wrap-xs-${t}`),...ac.map(t=>`grid-xs-${t}`),...ac.map(t=>`grid-sm-${t}`),...ac.map(t=>`grid-md-${t}`),...ac.map(t=>`grid-lg-${t}`),...ac.map(t=>`grid-xl-${t}`)]),gD=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function sl(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function yD({theme:t,ownerState:e}){let a;return t.breakpoints.keys.reduce((o,r)=>{let i={};if(e[r]&&(a=e[r]),!a)return o;if(a===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(a==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const n=Nn({values:e.columns,breakpoints:t.breakpoints.values}),s=typeof n=="object"?n[r]:n;if(s==null)return o;const l=`${Math.round(a/s*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const d=t.spacing(e.columnSpacing);if(d!=="0px"){const m=`calc(${l} + ${sl(d)})`;c={flexBasis:m,maxWidth:m}}}i=P({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[r]===0?Object.assign(o,i):o[t.breakpoints.up(r)]=i,o},{})}function xD({theme:t,ownerState:e}){const a=Nn({values:e.direction,breakpoints:t.breakpoints.values});return uo({theme:t},a,o=>{const r={flexDirection:o};return o.indexOf("column")===0&&(r[`& > .${ud.item}`]={maxWidth:"none"}),r})}function M4({breakpoints:t,values:e}){let a="";Object.keys(e).forEach(r=>{a===""&&e[r]!==0&&(a=r)});const o=Object.keys(t).sort((r,i)=>t[r]-t[i]);return o.slice(0,o.indexOf(a))}function bD({theme:t,ownerState:e}){const{container:a,rowSpacing:o}=e;let r={};if(a&&o!==0){const i=Nn({values:o,breakpoints:t.breakpoints.values});let n;typeof i=="object"&&(n=M4({breakpoints:t.breakpoints.values,values:i})),r=uo({theme:t},i,(s,l)=>{var c;const d=t.spacing(s);return d!=="0px"?{marginTop:`-${sl(d)}`,[`& > .${ud.item}`]:{paddingTop:sl(d)}}:(c=n)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${ud.item}`]:{paddingTop:0}}})}return r}function _D({theme:t,ownerState:e}){const{container:a,columnSpacing:o}=e;let r={};if(a&&o!==0){const i=Nn({values:o,breakpoints:t.breakpoints.values});let n;typeof i=="object"&&(n=M4({breakpoints:t.breakpoints.values,values:i})),r=uo({theme:t},i,(s,l)=>{var c;const d=t.spacing(s);return d!=="0px"?{width:`calc(100% + ${sl(d)})`,marginLeft:`-${sl(d)}`,[`& > .${ud.item}`]:{paddingLeft:sl(d)}}:(c=n)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${ud.item}`]:{paddingLeft:0}}})}return r}function wD(t,e,a={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[a[`spacing-xs-${String(t)}`]];const o=[];return e.forEach(r=>{const i=t[r];Number(i)>0&&o.push(a[`spacing-${r}-${String(i)}`])}),o}const ED=ve("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t,{container:o,direction:r,item:i,spacing:n,wrap:s,zeroMinWidth:l,breakpoints:c}=a;let d=[];o&&(d=wD(n,c,e));const m=[];return c.forEach(u=>{const v=a[u];v&&m.push(e[`grid-${u}-${String(v)}`])}),[e.root,o&&e.container,i&&e.item,l&&e.zeroMinWidth,...d,r!=="row"&&e[`direction-xs-${String(r)}`],s!=="wrap"&&e[`wrap-xs-${String(s)}`],...m]}})(({ownerState:t})=>P({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),xD,bD,_D,yD);function SD(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const a=[];return e.forEach(o=>{const r=t[o];if(Number(r)>0){const i=`spacing-${o}-${String(r)}`;a.push(i)}}),a}const CD=t=>{const{classes:e,container:a,direction:o,item:r,spacing:i,wrap:n,zeroMinWidth:s,breakpoints:l}=t;let c=[];a&&(c=SD(i,l));const d=[];l.forEach(u=>{const v=t[u];v&&d.push(`grid-${u}-${String(v)}`)});const m={root:["root",a&&"container",r&&"item",s&&"zeroMinWidth",...c,o!=="row"&&`direction-xs-${String(o)}`,n!=="wrap"&&`wrap-xs-${String(n)}`,...d]};return et(m,pD,e)},AD=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiGrid"}),{breakpoints:r}=ls(),i=of(o),{className:n,columns:s,columnSpacing:l,component:c="div",container:d=!1,direction:m="row",item:u=!1,rowSpacing:v,spacing:h=0,wrap:p="wrap",zeroMinWidth:f=!1}=i,g=_e(i,gD),y=v||h,x=l||h,b=C.useContext(ox),w=d?s||12:b,_={},S=P({},g);r.keys.forEach(T=>{g[T]!=null&&(_[T]=g[T],delete S[T])});const E=P({},i,{columns:w,container:d,direction:m,item:u,rowSpacing:y,columnSpacing:x,wrap:p,zeroMinWidth:f,spacing:h},_,{breakpoints:r.keys}),A=CD(E);return M.jsx(ox.Provider,{value:w,children:M.jsx(ED,P({ownerState:E,className:Se(A.root,n),as:c,ref:a},S))})}),Gm=AD,MD=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function yg(t){return`scale(${t}, ${t**2})`}const RD={entering:{opacity:1,transform:yg(1)},entered:{opacity:1,transform:"none"}},hh=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),R4=C.forwardRef(function(e,a){const{addEndListener:o,appear:r=!0,children:i,easing:n,in:s,onEnter:l,onEntered:c,onEntering:d,onExit:m,onExited:u,onExiting:v,style:h,timeout:p="auto",TransitionComponent:f=gf}=e,g=_e(e,MD),y=W0(),x=C.useRef(),b=ls(),w=C.useRef(null),_=ia(w,i.ref,a),S=q=>j=>{if(q){const V=w.current;j===void 0?q(V):q(V,j)}},E=S(d),A=S((q,j)=>{s1(q);const{duration:V,delay:z,easing:F}=Yi({style:h,timeout:p,easing:n},{mode:"enter"});let H;p==="auto"?(H=b.transitions.getAutoHeightDuration(q.clientHeight),x.current=H):H=V,q.style.transition=[b.transitions.create("opacity",{duration:H,delay:z}),b.transitions.create("transform",{duration:hh?H:H*.666,delay:z,easing:F})].join(","),l&&l(q,j)}),T=S(c),O=S(v),B=S(q=>{const{duration:j,delay:V,easing:z}=Yi({style:h,timeout:p,easing:n},{mode:"exit"});let F;p==="auto"?(F=b.transitions.getAutoHeightDuration(q.clientHeight),x.current=F):F=j,q.style.transition=[b.transitions.create("opacity",{duration:F,delay:V}),b.transitions.create("transform",{duration:hh?F:F*.666,delay:hh?V:V||F*.333,easing:z})].join(","),q.style.opacity=0,q.style.transform=yg(.75),m&&m(q)}),N=S(u),D=q=>{p==="auto"&&y.start(x.current||0,q),o&&o(w.current,q)};return M.jsx(f,P({appear:r,in:s,nodeRef:w,onEnter:A,onEntered:T,onEntering:E,onExit:B,onExited:N,onExiting:O,addEndListener:D,timeout:p==="auto"?null:p},g,{children:(q,j)=>C.cloneElement(i,P({style:P({opacity:0,transform:yg(.75),visibility:q==="exited"&&!s?"hidden":void 0},RD[q],h,i.props.style),ref:_},j))}))});R4.muiSupportAuto=!0;const TD=R4,PD=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],LD=t=>{const{classes:e,disableUnderline:a}=t,r=et({root:["root",!a&&"underline"],input:["input"]},M9,e);return P({},e,r)},DD=ve(wf,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[...bf(t,e),!a.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(o=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),P({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${tc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${tc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${tc.disabled}, .${tc.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${tc.disabled}:before`]:{borderBottomStyle:"dotted"}})}),ID=ve(Ef,{name:"MuiInput",slot:"Input",overridesResolver:_f})({}),T4=C.forwardRef(function(e,a){var o,r,i,n;const s=tt({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:d,fullWidth:m=!1,inputComponent:u="input",multiline:v=!1,slotProps:h,slots:p={},type:f="text"}=s,g=_e(s,PD),y=LD(s),b={root:{ownerState:{disableUnderline:l}}},w=h??d?no(h??d,b):b,_=(o=(r=p.root)!=null?r:c.Root)!=null?o:DD,S=(i=(n=p.input)!=null?n:c.Input)!=null?i:ID;return M.jsx(l1,P({slots:{root:_,input:S},slotProps:w,fullWidth:m,inputComponent:u,multiline:v,ref:a,type:f},g,{classes:y}))});T4.muiName="Input";const P4=T4;function OD(t){return Ke("MuiInputAdornment",t)}const kD=Qe("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),rx=kD;var ix;const zD=["children","className","component","disablePointerEvents","disableTypography","position","variant"],ND=(t,e)=>{const{ownerState:a}=t;return[e.root,e[`position${Ue(a.position)}`],a.disablePointerEvents===!0&&e.disablePointerEvents,e[a.variant]]},FD=t=>{const{classes:e,disablePointerEvents:a,hiddenLabel:o,position:r,size:i,variant:n}=t,s={root:["root",a&&"disablePointerEvents",r&&`position${Ue(r)}`,n,o&&"hiddenLabel",i&&`size${Ue(i)}`]};return et(s,OD,e)},qD=ve("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:ND})(({theme:t,ownerState:e})=>P({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${rx.positionStart}&:not(.${rx.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),jD=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiInputAdornment"}),{children:r,className:i,component:n="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:c,variant:d}=o,m=_e(o,zD),u=jr()||{};let v=d;d&&u.variant,u&&!v&&(v=u.variant);const h=P({},o,{hiddenLabel:u.hiddenLabel,size:u.size,disablePointerEvents:s,position:c,variant:v}),p=FD(h);return M.jsx(xf.Provider,{value:null,children:M.jsx(qD,P({as:n,ownerState:h,className:Se(p.root,i),ref:a},m,{children:typeof r=="string"&&!l?M.jsx(ao,{color:"text.secondary",children:r}):M.jsxs(C.Fragment,{children:[c==="start"?ix||(ix=M.jsx("span",{className:"notranslate",children:"​"})):null,r]})}))})}),L4=jD;function BD(t){return Ke("MuiInputLabel",t)}Qe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const $D=["disableAnimation","margin","shrink","variant","className"],UD=t=>{const{classes:e,formControl:a,size:o,shrink:r,disableAnimation:i,variant:n,required:s}=t,l={root:["root",a&&"formControl",!i&&"animated",r&&"shrink",o&&o!=="normal"&&`size${Ue(o)}`,n],asterisk:[s&&"asterisk"]},c=et(l,BD,e);return P({},e,c)},VD=ve(A4,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${Fc.asterisk}`]:e.asterisk},e.root,a.formControl&&e.formControl,a.size==="small"&&e.sizeSmall,a.shrink&&e.shrink,!a.disableAnimation&&e.animated,a.focused&&e.focused,e[a.variant]]}})(({theme:t,ownerState:e})=>P({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&P({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&P({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&P({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),HD=C.forwardRef(function(e,a){const o=tt({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:n}=o,s=_e(o,$D),l=jr();let c=i;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const d=nn({props:o,muiFormControl:l,states:["size","variant","required","focused"]}),m=P({},o,{disableAnimation:r,formControl:l,shrink:c,size:d.size,variant:d.variant,required:d.required,focused:d.focused}),u=UD(m);return M.jsx(VD,P({"data-shrink":c,ownerState:m,ref:a,className:Se(u.root,n)},s,{classes:u}))}),WD=HD;function GD(t){return Ke("MuiLink",t)}const ZD=Qe("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),XD=ZD,D4={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},YD=t=>D4[t]||t,KD=({theme:t,ownerState:e})=>{const a=YD(e.color),o=xl(t,`palette.${a}`,!1)||e.color,r=xl(t,`palette.${a}Channel`);return"vars"in t&&r?`rgba(${r} / 0.4)`:Zt(o,.4)},QD=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],JD=t=>{const{classes:e,component:a,focusVisible:o,underline:r}=t,i={root:["root",`underline${Ue(r)}`,a==="button"&&"button",o&&"focusVisible"]};return et(i,GD,e)},eI=ve(ao,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,e[`underline${Ue(a.underline)}`],a.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>P({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&P({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:KD({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${XD.focusVisible}`]:{outline:"auto"}})),tI=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiLink"}),{className:r,color:i="primary",component:n="a",onBlur:s,onFocus:l,TypographyClasses:c,underline:d="always",variant:m="inherit",sx:u}=o,v=_e(o,QD),{isFocusVisibleRef:h,onBlur:p,onFocus:f,ref:g}=G0(),[y,x]=C.useState(!1),b=ia(a,g),w=A=>{p(A),h.current===!1&&x(!1),s&&s(A)},_=A=>{f(A),h.current===!0&&x(!0),l&&l(A)},S=P({},o,{color:i,component:n,focusVisible:y,underline:d,variant:m}),E=JD(S);return M.jsx(eI,P({color:i,className:Se(E.root,r),classes:c,component:n,onBlur:w,onFocus:_,ref:b,ownerState:S,variant:m,sx:[...Object.keys(D4).includes(i)?[]:[{color:i}],...Array.isArray(u)?u:[u]]},v))}),aI=tI,oI=C.createContext({}),mr=oI;function rI(t){return Ke("MuiList",t)}Qe("MuiList",["root","padding","dense","subheader"]);const iI=["children","className","component","dense","disablePadding","subheader"],nI=t=>{const{classes:e,disablePadding:a,dense:o,subheader:r}=t;return et({root:["root",!a&&"padding",o&&"dense",r&&"subheader"]},rI,e)},sI=ve("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disablePadding&&e.padding,a.dense&&e.dense,a.subheader&&e.subheader]}})(({ownerState:t})=>P({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),lI=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiList"}),{children:r,className:i,component:n="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=o,d=_e(o,iI),m=C.useMemo(()=>({dense:s}),[s]),u=P({},o,{component:n,dense:s,disablePadding:l}),v=nI(u);return M.jsx(mr.Provider,{value:m,children:M.jsxs(sI,P({as:n,className:Se(v.root,i),ref:a,ownerState:u},d,{children:[c,r]}))})}),d1=lI;function cI(t){return Ke("MuiListItem",t)}const dI=Qe("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Os=dI;function uI(t){return Ke("MuiListItemButton",t)}const mI=Qe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),ks=mI,pI=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],fI=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters]},hI=t=>{const{alignItems:e,classes:a,dense:o,disabled:r,disableGutters:i,divider:n,selected:s}=t,c=et({root:["root",o&&"dense",!i&&"gutters",n&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},uI,a);return P({},a,c)},vI=ve(hi,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:fI})(({theme:t,ownerState:e})=>P({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ks.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ks.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ks.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ks.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ks.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),gI=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:i=!1,component:n="div",children:s,dense:l=!1,disableGutters:c=!1,divider:d=!1,focusVisibleClassName:m,selected:u=!1,className:v}=o,h=_e(o,pI),p=C.useContext(mr),f=C.useMemo(()=>({dense:l||p.dense||!1,alignItems:r,disableGutters:c}),[r,p.dense,l,c]),g=C.useRef(null);vr(()=>{i&&g.current&&g.current.focus()},[i]);const y=P({},o,{alignItems:r,dense:f.dense,disableGutters:c,divider:d,selected:u}),x=hI(y),b=ia(g,a);return M.jsx(mr.Provider,{value:f,children:M.jsx(vI,P({ref:b,href:h.href||h.to,component:(h.href||h.to)&&n==="div"?"button":n,focusVisibleClassName:Se(x.focusVisible,m),ownerState:y,className:Se(x.root,v)},h,{classes:x,children:s}))})}),I4=gI;function yI(t){return Ke("MuiListItemSecondaryAction",t)}Qe("MuiListItemSecondaryAction",["root","disableGutters"]);const xI=["className"],bI=t=>{const{disableGutters:e,classes:a}=t;return et({root:["root",e&&"disableGutters"]},yI,a)},_I=ve("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.disableGutters&&e.disableGutters]}})(({ownerState:t})=>P({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),O4=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=o,i=_e(o,xI),n=C.useContext(mr),s=P({},o,{disableGutters:n.disableGutters}),l=bI(s);return M.jsx(_I,P({className:Se(l.root,r),ownerState:s,ref:a},i))});O4.muiName="ListItemSecondaryAction";const wI=O4,EI=["className"],SI=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],CI=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.alignItems==="flex-start"&&e.alignItemsFlexStart,a.divider&&e.divider,!a.disableGutters&&e.gutters,!a.disablePadding&&e.padding,a.button&&e.button,a.hasSecondaryAction&&e.secondaryAction]},AI=t=>{const{alignItems:e,button:a,classes:o,dense:r,disabled:i,disableGutters:n,disablePadding:s,divider:l,hasSecondaryAction:c,selected:d}=t;return et({root:["root",r&&"dense",!n&&"gutters",!s&&"padding",l&&"divider",i&&"disabled",a&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]},cI,o)},MI=ve("div",{name:"MuiListItem",slot:"Root",overridesResolver:CI})(({theme:t,ownerState:e})=>P({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&P({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${ks.root}`]:{paddingRight:48}},{[`&.${Os.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Os.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Os.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Os.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Os.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),RI=ve("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),TI=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:i=!1,button:n=!1,children:s,className:l,component:c,components:d={},componentsProps:m={},ContainerComponent:u="li",ContainerProps:{className:v}={},dense:h=!1,disabled:p=!1,disableGutters:f=!1,disablePadding:g=!1,divider:y=!1,focusVisibleClassName:x,secondaryAction:b,selected:w=!1,slotProps:_={},slots:S={}}=o,E=_e(o.ContainerProps,EI),A=_e(o,SI),T=C.useContext(mr),O=C.useMemo(()=>({dense:h||T.dense||!1,alignItems:r,disableGutters:f}),[r,T.dense,h,f]),B=C.useRef(null);vr(()=>{i&&B.current&&B.current.focus()},[i]);const N=C.Children.toArray(s),D=N.length&&Oc(N[N.length-1],["ListItemSecondaryAction"]),q=P({},o,{alignItems:r,autoFocus:i,button:n,dense:O.dense,disabled:p,disableGutters:f,disablePadding:g,divider:y,hasSecondaryAction:D,selected:w}),j=AI(q),V=ia(B,a),z=S.root||d.Root||MI,F=_.root||m.root||{},H=P({className:Se(j.root,F.className,l),disabled:p},A);let oe=c||"li";return n&&(H.component=c||"div",H.focusVisibleClassName=Se(Os.focusVisible,x),oe=hi),D?(oe=!H.component&&!c?"div":oe,u==="li"&&(oe==="li"?oe="div":H.component==="li"&&(H.component="div")),M.jsx(mr.Provider,{value:O,children:M.jsxs(RI,P({as:u,className:Se(j.container,v),ref:V,ownerState:q},E,{children:[M.jsx(z,P({},F,!bl(z)&&{as:oe,ownerState:P({},q,F.ownerState)},H,{children:N})),N.pop()]}))})):M.jsx(mr.Provider,{value:O,children:M.jsxs(z,P({},F,{as:oe,ref:V},!bl(z)&&{ownerState:P({},q,F.ownerState)},H,{children:[N,b&&M.jsx(wI,{children:b})]}))})}),mm=TI;function PI(t){return Ke("MuiListItemIcon",t)}const LI=Qe("MuiListItemIcon",["root","alignItemsFlexStart"]),nx=LI,DI=["className"],II=t=>{const{alignItems:e,classes:a}=t;return et({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},PI,a)},OI=ve("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>P({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),kI=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiListItemIcon"}),{className:r}=o,i=_e(o,DI),n=C.useContext(mr),s=P({},o,{alignItems:n.alignItems}),l=II(s);return M.jsx(OI,P({className:Se(l.root,r),ownerState:s,ref:a},i))}),zI=kI;function NI(t){return Ke("MuiListItemText",t)}const FI=Qe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Zm=FI,qI=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],jI=t=>{const{classes:e,inset:a,primary:o,secondary:r,dense:i}=t;return et({root:["root",a&&"inset",i&&"dense",o&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},NI,e)},BI=ve("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`& .${Zm.primary}`]:e.primary},{[`& .${Zm.secondary}`]:e.secondary},e.root,a.inset&&e.inset,a.primary&&a.secondary&&e.multiline,a.dense&&e.dense]}})(({ownerState:t})=>P({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),$I=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiListItemText"}),{children:r,className:i,disableTypography:n=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:m}=o,u=_e(o,qI),{dense:v}=C.useContext(mr);let h=l??r,p=d;const f=P({},o,{disableTypography:n,inset:s,primary:!!h,secondary:!!p,dense:v}),g=jI(f);return h!=null&&h.type!==ao&&!n&&(h=M.jsx(ao,P({variant:v?"body2":"body1",className:g.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:h}))),p!=null&&p.type!==ao&&!n&&(p=M.jsx(ao,P({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},m,{children:p}))),M.jsxs(BI,P({className:Se(g.root,i),ownerState:f,ref:a},u,{children:[h,p]}))}),xg=$I,UI=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function vh(t,e,a){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:a?null:t.firstChild}function sx(t,e,a){return t===e?a?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:a?null:t.lastChild}function k4(t,e){if(e===void 0)return!0;let a=t.innerText;return a===void 0&&(a=t.textContent),a=a.trim().toLowerCase(),a.length===0?!1:e.repeating?a[0]===e.keys[0]:a.indexOf(e.keys.join(""))===0}function oc(t,e,a,o,r,i){let n=!1,s=r(t,e,e?a:!1);for(;s;){if(s===t.firstChild){if(n)return!1;n=!0}const l=o?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!k4(s,i)||l)s=r(t,s,a);else return s.focus(),!0}return!1}const VI=C.forwardRef(function(e,a){const{actions:o,autoFocus:r=!1,autoFocusItem:i=!1,children:n,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:m="selectedMenu"}=e,u=_e(e,UI),v=C.useRef(null),h=C.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});vr(()=>{r&&v.current.focus()},[r]),C.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(x,b)=>{const w=!v.current.style.width;if(x.clientHeight<v.current.clientHeight&&w){const _=`${Gw(so(x))}px`;v.current.style[b.direction==="rtl"?"paddingLeft":"paddingRight"]=_,v.current.style.width=`calc(100% + ${_})`}return v.current}}),[]);const p=x=>{const b=v.current,w=x.key,_=so(b).activeElement;if(w==="ArrowDown")x.preventDefault(),oc(b,_,c,l,vh);else if(w==="ArrowUp")x.preventDefault(),oc(b,_,c,l,sx);else if(w==="Home")x.preventDefault(),oc(b,null,c,l,vh);else if(w==="End")x.preventDefault(),oc(b,null,c,l,sx);else if(w.length===1){const S=h.current,E=w.toLowerCase(),A=performance.now();S.keys.length>0&&(A-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&E!==S.keys[0]&&(S.repeating=!1)),S.lastTime=A,S.keys.push(E);const T=_&&!S.repeating&&k4(_,S);S.previousKeyMatched&&(T||oc(b,_,!1,l,vh,S))?x.preventDefault():S.previousKeyMatched=!1}d&&d(x)},f=ia(v,a);let g=-1;C.Children.forEach(n,(x,b)=>{if(!C.isValidElement(x)){g===b&&(g+=1,g>=n.length&&(g=-1));return}x.props.disabled||(m==="selectedMenu"&&x.props.selected||g===-1)&&(g=b),g===b&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(g+=1,g>=n.length&&(g=-1))});const y=C.Children.map(n,(x,b)=>{if(b===g){const w={};return i&&(w.autoFocus=!0),x.props.tabIndex===void 0&&m==="selectedMenu"&&(w.tabIndex=0),C.cloneElement(x,w)}return x});return M.jsx(d1,P({role:"menu",ref:f,className:s,onKeyDown:p,tabIndex:r?0:-1},u,{children:y}))}),HI=VI;function WI(t){return Ke("MuiPopover",t)}Qe("MuiPopover",["root","paper"]);const GI=["onEntering"],ZI=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],XI=["slotProps"];function lx(t,e){let a=0;return typeof e=="number"?a=e:e==="center"?a=t.height/2:e==="bottom"&&(a=t.height),a}function cx(t,e){let a=0;return typeof e=="number"?a=e:e==="center"?a=t.width/2:e==="right"&&(a=t.width),a}function dx(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function gh(t){return typeof t=="function"?t():t}const YI=t=>{const{classes:e}=t;return et({root:["root"],paper:["paper"]},WI,e)},KI=ve(x4,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),z4=ve(qd,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),QI=C.forwardRef(function(e,a){var o,r,i;const n=tt({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:m="anchorEl",children:u,className:v,container:h,elevation:p=8,marginThreshold:f=16,open:g,PaperProps:y={},slots:x,slotProps:b,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=TD,transitionDuration:S="auto",TransitionProps:{onEntering:E}={},disableScrollLock:A=!1}=n,T=_e(n.TransitionProps,GI),O=_e(n,ZI),B=(o=b==null?void 0:b.paper)!=null?o:y,N=C.useRef(),D=ia(N,B.ref),q=P({},n,{anchorOrigin:c,anchorReference:m,elevation:p,marginThreshold:f,externalPaperSlotProps:B,transformOrigin:w,TransitionComponent:_,transitionDuration:S,TransitionProps:T}),j=YI(q),V=C.useCallback(()=>{if(m==="anchorPosition")return d;const he=gh(l),nt=(he&&he.nodeType===1?he:so(N.current).body).getBoundingClientRect();return{top:nt.top+lx(nt,c.vertical),left:nt.left+cx(nt,c.horizontal)}},[l,c.horizontal,c.vertical,d,m]),z=C.useCallback(he=>({vertical:lx(he,w.vertical),horizontal:cx(he,w.horizontal)}),[w.horizontal,w.vertical]),F=C.useCallback(he=>{const ot={width:he.offsetWidth,height:he.offsetHeight},nt=z(ot);if(m==="none")return{top:null,left:null,transformOrigin:dx(nt)};const Nt=V();let jt=Nt.top-nt.vertical,At=Nt.left-nt.horizontal;const mt=jt+ot.height,Ht=At+ot.width,pt=kr(gh(l)),$=pt.innerHeight-f,I=pt.innerWidth-f;if(f!==null&&jt<f){const te=jt-f;jt-=te,nt.vertical+=te}else if(f!==null&&mt>$){const te=mt-$;jt-=te,nt.vertical+=te}if(f!==null&&At<f){const te=At-f;At-=te,nt.horizontal+=te}else if(Ht>I){const te=Ht-I;At-=te,nt.horizontal+=te}return{top:`${Math.round(jt)}px`,left:`${Math.round(At)}px`,transformOrigin:dx(nt)}},[l,m,V,z,f]),[H,oe]=C.useState(g),W=C.useCallback(()=>{const he=N.current;if(!he)return;const ot=F(he);ot.top!==null&&(he.style.top=ot.top),ot.left!==null&&(he.style.left=ot.left),he.style.transformOrigin=ot.transformOrigin,oe(!0)},[F]);C.useEffect(()=>(A&&window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)),[l,A,W]);const ie=(he,ot)=>{E&&E(he,ot),W()},le=()=>{oe(!1)};C.useEffect(()=>{g&&W()}),C.useImperativeHandle(s,()=>g?{updatePosition:()=>{W()}}:null,[g,W]),C.useEffect(()=>{if(!g)return;const he=Wp(()=>{W()}),ot=kr(l);return ot.addEventListener("resize",he),()=>{he.clear(),ot.removeEventListener("resize",he)}},[l,g,W]);let Ce=S;S==="auto"&&!_.muiSupportAuto&&(Ce=void 0);const Z=h||(l?so(gh(l)).body:void 0),Oe=(r=x==null?void 0:x.root)!=null?r:KI,Me=(i=x==null?void 0:x.paper)!=null?i:z4,Re=_l({elementType:Me,externalSlotProps:P({},B,{style:H?B.style:P({},B.style,{opacity:0})}),additionalProps:{elevation:p,ref:D},ownerState:q,className:Se(j.paper,B==null?void 0:B.className)}),xe=_l({elementType:Oe,externalSlotProps:(b==null?void 0:b.root)||{},externalForwardedProps:O,additionalProps:{ref:a,slotProps:{backdrop:{invisible:!0}},container:Z,open:g},ownerState:q,className:Se(j.root,v)}),{slotProps:Te}=xe,Ne=_e(xe,XI);return M.jsx(Oe,P({},Ne,!bl(Oe)&&{slotProps:Te,disableScrollLock:A},{children:M.jsx(_,P({appear:!0,in:g,onEntering:ie,onExited:le,timeout:Ce},T,{children:M.jsx(Me,P({},Re,{children:u}))}))}))}),JI=QI;function eO(t){return Ke("MuiMenu",t)}Qe("MuiMenu",["root","paper","list"]);const tO=["onEntering"],aO=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],oO={vertical:"top",horizontal:"right"},rO={vertical:"top",horizontal:"left"},iO=t=>{const{classes:e}=t;return et({root:["root"],paper:["paper"],list:["list"]},eO,e)},nO=ve(JI,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),sO=ve(z4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),lO=ve(HI,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),cO=C.forwardRef(function(e,a){var o,r;const i=tt({props:e,name:"MuiMenu"}),{autoFocus:n=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:m,open:u,PaperProps:v={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:f}={},variant:g="selectedMenu",slots:y={},slotProps:x={}}=i,b=_e(i.TransitionProps,tO),w=_e(i,aO),_=ls(),S=_.direction==="rtl",E=P({},i,{autoFocus:n,disableAutoFocusItem:c,MenuListProps:d,onEntering:f,PaperProps:v,transitionDuration:p,TransitionProps:b,variant:g}),A=iO(E),T=n&&!c&&u,O=C.useRef(null),B=(F,H)=>{O.current&&O.current.adjustStyleForScrollbar(F,_),f&&f(F,H)},N=F=>{F.key==="Tab"&&(F.preventDefault(),m&&m(F,"tabKeyDown"))};let D=-1;C.Children.map(s,(F,H)=>{C.isValidElement(F)&&(F.props.disabled||(g==="selectedMenu"&&F.props.selected||D===-1)&&(D=H))});const q=(o=y.paper)!=null?o:sO,j=(r=x.paper)!=null?r:v,V=_l({elementType:y.root,externalSlotProps:x.root,ownerState:E,className:[A.root,l]}),z=_l({elementType:q,externalSlotProps:j,ownerState:E,className:A.paper});return M.jsx(nO,P({onClose:m,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?oO:rO,slots:{paper:q,root:y.root},slotProps:{root:V,paper:z},open:u,ref:a,transitionDuration:p,TransitionProps:P({onEntering:B},b),ownerState:E},w,{classes:h,children:M.jsx(lO,P({onKeyDown:N,actions:O,autoFocus:n&&(D===-1||c),autoFocusItem:T,variant:g},d,{className:Se(A.list,d.className),children:s}))}))}),dO=cO;function uO(t){return Ke("MuiMenuItem",t)}const mO=Qe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),rc=mO,pO=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],fO=(t,e)=>{const{ownerState:a}=t;return[e.root,a.dense&&e.dense,a.divider&&e.divider,!a.disableGutters&&e.gutters]},hO=t=>{const{disabled:e,dense:a,divider:o,disableGutters:r,selected:i,classes:n}=t,l=et({root:["root",a&&"dense",e&&"disabled",!r&&"gutters",o&&"divider",i&&"selected"]},uO,n);return P({},n,l)},vO=ve(hi,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:fO})(({theme:t,ownerState:e})=>P({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${rc.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${rc.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${rc.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${rc.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${rc.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Yy.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Yy.inset}`]:{marginLeft:52},[`& .${Zm.root}`]:{marginTop:0,marginBottom:0},[`& .${Zm.inset}`]:{paddingLeft:36},[`& .${nx.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&P({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${nx.root} svg`]:{fontSize:"1.25rem"}}))),gO=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:i="li",dense:n=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:m,className:u}=o,v=_e(o,pO),h=C.useContext(mr),p=C.useMemo(()=>({dense:n||h.dense||!1,disableGutters:l}),[h.dense,n,l]),f=C.useRef(null);vr(()=>{r&&f.current&&f.current.focus()},[r]);const g=P({},o,{dense:p.dense,divider:s,disableGutters:l}),y=hO(o),x=ia(f,a);let b;return o.disabled||(b=m!==void 0?m:-1),M.jsx(mr.Provider,{value:p,children:M.jsx(vO,P({ref:x,role:d,tabIndex:b,component:i,focusVisibleClassName:Se(y.focusVisible,c),className:Se(y.root,u)},v,{ownerState:g,classes:y}))})}),yO=gO;function xO(t){return Ke("MuiNativeSelect",t)}const bO=Qe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),u1=bO,_O=["className","disabled","error","IconComponent","inputRef","variant"],wO=t=>{const{classes:e,variant:a,disabled:o,multiple:r,open:i,error:n}=t,s={select:["select",a,o&&"disabled",r&&"multiple",n&&"error"],icon:["icon",`icon${Ue(a)}`,i&&"iconOpen",o&&"disabled"]};return et(s,xO,e)},N4=({ownerState:t,theme:e})=>P({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":P({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${u1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),EO=ve("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ba,overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.select,e[a.variant],a.error&&e.error,{[`&.${u1.multiple}`]:e.multiple}]}})(N4),F4=({ownerState:t,theme:e})=>P({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${u1.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),SO=ve("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.icon,a.variant&&e[`icon${Ue(a.variant)}`],a.open&&e.iconOpen]}})(F4),CO=C.forwardRef(function(e,a){const{className:o,disabled:r,error:i,IconComponent:n,inputRef:s,variant:l="standard"}=e,c=_e(e,_O),d=P({},e,{disabled:r,variant:l,error:i}),m=wO(d);return M.jsxs(C.Fragment,{children:[M.jsx(EO,P({ownerState:d,className:Se(m.select,o),disabled:r,ref:s||a},c)),e.multiple?null:M.jsx(SO,{as:n,ownerState:d,className:m.icon})]})}),AO=CO;var ux;const MO=["children","classes","className","label","notched"],RO=ve("fieldset",{shouldForwardProp:Ba})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),TO=ve("legend",{shouldForwardProp:Ba})(({ownerState:t,theme:e})=>P({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&P({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function PO(t){const{className:e,label:a,notched:o}=t,r=_e(t,MO),i=a!=null&&a!=="",n=P({},t,{notched:o,withLabel:i});return M.jsx(RO,P({"aria-hidden":!0,className:e,ownerState:n},r,{children:M.jsx(TO,{ownerState:n,children:i?M.jsx("span",{children:a}):ux||(ux=M.jsx("span",{className:"notranslate",children:"​"}))})}))}const LO=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],DO=t=>{const{classes:e}=t,o=et({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},T9,e);return P({},e,o)},IO=ve(wf,{shouldForwardProp:t=>Ba(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:bf})(({theme:t,ownerState:e})=>{const a=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return P({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${bi.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${bi.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:a}},[`&.${bi.focused} .${bi.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${bi.error} .${bi.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${bi.disabled} .${bi.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&P({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),OO=ve(PO,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),kO=ve(Ef,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:_f})(({theme:t,ownerState:e})=>P({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),q4=C.forwardRef(function(e,a){var o,r,i,n,s;const l=tt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:m="input",label:u,multiline:v=!1,notched:h,slots:p={},type:f="text"}=l,g=_e(l,LO),y=DO(l),x=jr(),b=nn({props:l,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=P({},l,{color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:x,fullWidth:d,hiddenLabel:b.hiddenLabel,multiline:v,size:b.size,type:f}),_=(o=(r=p.root)!=null?r:c.Root)!=null?o:IO,S=(i=(n=p.input)!=null?n:c.Input)!=null?i:kO;return M.jsx(l1,P({slots:{root:_,input:S},renderSuffix:E=>M.jsx(OO,{ownerState:w,className:y.notchedOutline,label:u!=null&&u!==""&&b.required?s||(s=M.jsxs(C.Fragment,{children:[u," ","*"]})):u,notched:typeof h<"u"?h:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:d,inputComponent:m,multiline:v,ref:a,type:f},g,{classes:P({},y,{notchedOutline:null})}))});q4.muiName="Input";const j4=q4;function zO(t){return Ke("MuiSelect",t)}const ic=Qe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var mx;const NO=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],FO=ve("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[{[`&.${ic.select}`]:e.select},{[`&.${ic.select}`]:e[a.variant]},{[`&.${ic.error}`]:e.error},{[`&.${ic.multiple}`]:e.multiple}]}})(N4,{[`&.${ic.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),qO=ve("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.icon,a.variant&&e[`icon${Ue(a.variant)}`],a.open&&e.iconOpen]}})(F4),jO=ve("input",{shouldForwardProp:t=>gT(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function px(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function BO(t){return t==null||typeof t=="string"&&!t.trim()}const $O=t=>{const{classes:e,variant:a,disabled:o,multiple:r,open:i,error:n}=t,s={select:["select",a,o&&"disabled",r&&"multiple",n&&"error"],icon:["icon",`icon${Ue(a)}`,i&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return et(s,zO,e)},UO=C.forwardRef(function(e,a){var o;const{"aria-describedby":r,"aria-label":i,autoFocus:n,autoWidth:s,children:l,className:c,defaultOpen:d,defaultValue:m,disabled:u,displayEmpty:v,error:h=!1,IconComponent:p,inputRef:f,labelId:g,MenuProps:y={},multiple:x,name:b,onBlur:w,onChange:_,onClose:S,onFocus:E,onOpen:A,open:T,readOnly:O,renderValue:B,SelectDisplayProps:N={},tabIndex:D,value:q,variant:j="standard"}=e,V=_e(e,NO),[z,F]=dd({controlled:q,default:m,name:"Select"}),[H,oe]=dd({controlled:T,default:d,name:"Select"}),W=C.useRef(null),ie=C.useRef(null),[le,Ce]=C.useState(null),{current:Z}=C.useRef(T!=null),[Oe,Me]=C.useState(),Re=ia(a,f),xe=C.useCallback(de=>{ie.current=de,de&&Ce(de)},[]),Te=le==null?void 0:le.parentNode;C.useImperativeHandle(Re,()=>({focus:()=>{ie.current.focus()},node:W.current,value:z}),[z]),C.useEffect(()=>{d&&H&&le&&!Z&&(Me(s?null:Te.clientWidth),ie.current.focus())},[le,s]),C.useEffect(()=>{n&&ie.current.focus()},[n]),C.useEffect(()=>{if(!g)return;const de=so(ie.current).getElementById(g);if(de){const ke=()=>{getSelection().isCollapsed&&ie.current.focus()};return de.addEventListener("click",ke),()=>{de.removeEventListener("click",ke)}}},[g]);const Ne=(de,ke)=>{de?A&&A(ke):S&&S(ke),Z||(Me(s?null:Te.clientWidth),oe(de))},he=de=>{de.button===0&&(de.preventDefault(),ie.current.focus(),Ne(!0,de))},ot=de=>{Ne(!1,de)},nt=C.Children.toArray(l),Nt=de=>{const ke=nt.find(Ge=>Ge.props.value===de.target.value);ke!==void 0&&(F(ke.props.value),_&&_(de,ke))},jt=de=>ke=>{let Ge;if(ke.currentTarget.hasAttribute("tabindex")){if(x){Ge=Array.isArray(z)?z.slice():[];const Rt=z.indexOf(de.props.value);Rt===-1?Ge.push(de.props.value):Ge.splice(Rt,1)}else Ge=de.props.value;if(de.props.onClick&&de.props.onClick(ke),z!==Ge&&(F(Ge),_)){const Rt=ke.nativeEvent||ke,Y=new Rt.constructor(Rt.type,Rt);Object.defineProperty(Y,"target",{writable:!0,value:{value:Ge,name:b}}),_(Y,de)}x||Ne(!1,ke)}},At=de=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(de.key)!==-1&&(de.preventDefault(),Ne(!0,de))},mt=le!==null&&H,Ht=de=>{!mt&&w&&(Object.defineProperty(de,"target",{writable:!0,value:{value:z,name:b}}),w(de))};delete V["aria-invalid"];let pt,$;const I=[];let te=!1;(Wm({value:z})||v)&&(B?pt=B(z):te=!0);const me=nt.map(de=>{if(!C.isValidElement(de))return null;let ke;if(x){if(!Array.isArray(z))throw new Error(Xi(2));ke=z.some(Ge=>px(Ge,de.props.value)),ke&&te&&I.push(de.props.children)}else ke=px(z,de.props.value),ke&&te&&($=de.props.children);return C.cloneElement(de,{"aria-selected":ke?"true":"false",onClick:jt(de),onKeyUp:Ge=>{Ge.key===" "&&Ge.preventDefault(),de.props.onKeyUp&&de.props.onKeyUp(Ge)},role:"option",selected:ke,value:void 0,"data-value":de.props.value})});te&&(x?I.length===0?pt=null:pt=I.reduce((de,ke,Ge)=>(de.push(ke),Ge<I.length-1&&de.push(", "),de),[]):pt=$);let ge=Oe;!s&&Z&&le&&(ge=Te.clientWidth);let be;typeof D<"u"?be=D:be=u?null:0;const Pe=N.id||(b?`mui-component-select-${b}`:void 0),X=P({},e,{variant:j,value:z,open:mt,error:h}),$e=$O(X),Le=P({},y.PaperProps,(o=y.slotProps)==null?void 0:o.paper),Ve=H0();return M.jsxs(C.Fragment,{children:[M.jsx(FO,P({ref:xe,tabIndex:be,role:"combobox","aria-controls":Ve,"aria-disabled":u?"true":void 0,"aria-expanded":mt?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,Pe].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:At,onMouseDown:u||O?null:he,onBlur:Ht,onFocus:E},N,{ownerState:X,className:Se(N.className,$e.select,c),id:Pe,children:BO(pt)?mx||(mx=M.jsx("span",{className:"notranslate",children:"​"})):pt})),M.jsx(jO,P({"aria-invalid":h,value:Array.isArray(z)?z.join(","):z,name:b,ref:W,"aria-hidden":!0,onChange:Nt,tabIndex:-1,disabled:u,className:$e.nativeInput,autoFocus:n,ownerState:X},V)),M.jsx(qO,{as:p,className:$e.icon,ownerState:X}),M.jsx(dO,P({id:`menu-${b||""}`,anchorEl:Te,open:mt,onClose:ot,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:P({"aria-labelledby":g,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:Ve},y.MenuListProps),slotProps:P({},y.slotProps,{paper:P({},Le,{style:P({minWidth:ge},Le!=null?Le.style:null)})}),children:me}))]})}),VO=UO,HO=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],WO=["root"],GO=t=>{const{classes:e}=t;return e},m1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ba(t)&&t!=="variant",slot:"Root"},ZO=ve(P4,m1)(""),XO=ve(j4,m1)(""),YO=ve(C4,m1)(""),B4=C.forwardRef(function(e,a){const o=tt({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:i,classes:n={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=I9,id:m,input:u,inputProps:v,label:h,labelId:p,MenuProps:f,multiple:g=!1,native:y=!1,onClose:x,onOpen:b,open:w,renderValue:_,SelectDisplayProps:S,variant:E="outlined"}=o,A=_e(o,HO),T=y?AO:VO,O=jr(),B=nn({props:o,muiFormControl:O,states:["variant","error"]}),N=B.variant||E,D=P({},o,{variant:N,classes:n}),q=GO(D),j=_e(q,WO),V=u||{standard:M.jsx(ZO,{ownerState:D}),outlined:M.jsx(XO,{label:h,ownerState:D}),filled:M.jsx(YO,{ownerState:D})}[N],z=ia(a,V.ref);return M.jsx(C.Fragment,{children:C.cloneElement(V,P({inputComponent:T,inputProps:P({children:i,error:B.error,IconComponent:d,variant:N,type:void 0,multiple:g},y?{id:m}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:p,MenuProps:f,onClose:x,onOpen:b,open:w,renderValue:_,SelectDisplayProps:P({id:m},S)},v,{classes:v?no(j,v.classes):j},u?u.props.inputProps:{})},(g&&y||c)&&N==="outlined"?{notched:!0}:{},{ref:z,className:Se(V.props.className,s,q.root)},!u&&{variant:N},A))})});B4.muiName="Select";const $4=B4;function KO(t){return Ke("MuiSwitch",t)}const QO=Qe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Ua=QO,JO=["className","color","edge","size","sx"],ek=t=>{const{classes:e,edge:a,size:o,color:r,checked:i,disabled:n}=t,s={root:["root",a&&`edge${Ue(a)}`,`size${Ue(o)}`],switchBase:["switchBase",`color${Ue(r)}`,i&&"checked",n&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=et(s,KO,e);return P({},e,l)},tk=ve("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,a.edge&&e[`edge${Ue(a.edge)}`],e[`size${Ue(a.size)}`]]}})(({ownerState:t})=>P({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},t.edge==="start"&&{marginLeft:-8},t.edge==="end"&&{marginRight:-8},t.size==="small"&&{width:40,height:24,padding:7,[`& .${Ua.thumb}`]:{width:16,height:16},[`& .${Ua.switchBase}`]:{padding:4,[`&.${Ua.checked}`]:{transform:"translateX(16px)"}}})),ak=ve(WP,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.switchBase,{[`& .${Ua.input}`]:e.input},a.color!=="default"&&e[`color${Ue(a.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${Ua.checked}`]:{transform:"translateX(20px)"},[`&.${Ua.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${Ua.checked} + .${Ua.track}`]:{opacity:.5},[`&.${Ua.disabled} + .${Ua.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${Ua.input}`]:{left:"-100%",width:"300%"}}),({theme:t,ownerState:e})=>P({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${Ua.checked}`]:{color:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ua.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e.color}DisabledColor`]:`${t.palette.mode==="light"?a4(t.palette[e.color].main,.62):t4(t.palette[e.color].main,.55)}`}},[`&.${Ua.checked} + .${Ua.track}`]:{backgroundColor:(t.vars||t).palette[e.color].main}})),ok=ve("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),rk=ve("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),ik=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:n=!1,size:s="medium",sx:l}=o,c=_e(o,JO),d=P({},o,{color:i,edge:n,size:s}),m=ek(d),u=M.jsx(rk,{className:m.thumb,ownerState:d});return M.jsxs(tk,{className:Se(m.root,r),sx:l,ownerState:d,children:[M.jsx(ak,P({type:"checkbox",icon:u,checkedIcon:u,ref:a,ownerState:d},c,{classes:P({},m,{root:m.switchBase})})),M.jsx(ok,{className:m.track,ownerState:d})]})}),fx=ik;function nk(t){return Ke("MuiToolbar",t)}Qe("MuiToolbar",["root","gutters","regular","dense"]);const sk=["className","component","disableGutters","variant"],lk=t=>{const{classes:e,disableGutters:a,variant:o}=t;return et({root:["root",!a&&"gutters",o]},nk,e)},ck=ve("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:a}=t;return[e.root,!a.disableGutters&&e.gutters,e[a.variant]]}})(({theme:t,ownerState:e})=>P({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),dk=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:n=!1,variant:s="regular"}=o,l=_e(o,sk),c=P({},o,{component:i,disableGutters:n,variant:s}),d=lk(c);return M.jsx(ck,P({as:i,className:Se(d.root,r),ref:a,ownerState:c},l))}),U4=dk;function uk(t){return Ke("MuiTextField",t)}Qe("MuiTextField",["root"]);const mk=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],pk={standard:P4,filled:C4,outlined:j4},fk=t=>{const{classes:e}=t;return et({root:["root"]},uk,e)},hk=ve(c1,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vk=C.forwardRef(function(e,a){const o=tt({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:n,className:s,color:l="primary",defaultValue:c,disabled:d=!1,error:m=!1,FormHelperTextProps:u,fullWidth:v=!1,helperText:h,id:p,InputLabelProps:f,inputProps:g,InputProps:y,inputRef:x,label:b,maxRows:w,minRows:_,multiline:S=!1,name:E,onBlur:A,onChange:T,onFocus:O,placeholder:B,required:N=!1,rows:D,select:q=!1,SelectProps:j,type:V,value:z,variant:F="outlined"}=o,H=_e(o,mk),oe=P({},o,{autoFocus:i,color:l,disabled:d,error:m,fullWidth:v,multiline:S,required:N,select:q,variant:F}),W=fk(oe),ie={};F==="outlined"&&(f&&typeof f.shrink<"u"&&(ie.notched=f.shrink),ie.label=b),q&&((!j||!j.native)&&(ie.id=void 0),ie["aria-describedby"]=void 0);const le=H0(p),Ce=h&&le?`${le}-helper-text`:void 0,Z=b&&le?`${le}-label`:void 0,Oe=pk[F],Me=M.jsx(Oe,P({"aria-describedby":Ce,autoComplete:r,autoFocus:i,defaultValue:c,fullWidth:v,multiline:S,name:E,rows:D,maxRows:w,minRows:_,type:V,value:z,id:le,inputRef:x,onBlur:A,onChange:T,onFocus:O,placeholder:B,inputProps:g},ie,y));return M.jsxs(hk,P({className:Se(W.root,s),disabled:d,error:m,fullWidth:v,ref:a,required:N,color:l,variant:F,ownerState:oe},H,{children:[b!=null&&b!==""&&M.jsx(WD,P({htmlFor:le,id:Z},f,{children:b})),q?M.jsx($4,P({"aria-describedby":Ce,id:le,labelId:Z,value:z,input:Me},j,{children:n})):Me,h&&M.jsx(iD,P({id:Ce},u,{children:h}))]}))}),V4=vk,gk=["getTrigger","target"];function yk(t,e){const{disableHysteresis:a=!1,threshold:o=100,target:r}=e,i=t.current;return r&&(t.current=r.pageYOffset!==void 0?r.pageYOffset:r.scrollTop),!a&&i!==void 0&&t.current<i?!1:t.current>o}const xk=typeof window<"u"?window:null;function H4(t={}){const{getTrigger:e=yk,target:a=xk}=t,o=_e(t,gk),r=C.useRef(),[i,n]=C.useState(()=>e(r,o));return C.useEffect(()=>{const s=()=>{n(e(r,P({target:a},o)))};return s(),a.addEventListener("scroll",s,{passive:!0}),()=>{a.removeEventListener("scroll",s,{passive:!0})}},[a,e,JSON.stringify(o)]),i}var Eo;(t=>{t.CSS={transition:{time:"0.3s",mode:"easy"},padding:{button:"9px 16px",page:"15px 25px"},caixaGrande:{width:"288px",height:"51px",radius:"10px"}},t.DRAWER_WIDTH=300,t.MARGEM_DIFERENCA_PALAVRAS=.8})(Eo||(Eo={}));var p1={},W4={exports:{}};(function(t){function e(a){return a&&a.__esModule?a:{default:a}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(W4);var sn=W4.exports,yh={};const bk=dE(CT);var hx;function ln(){return hx||(hx=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=bk}(yh)),yh}var _k=sn;Object.defineProperty(p1,"__esModule",{value:!0});var G4=p1.default=void 0,wk=_k(ln()),Ek=M;G4=p1.default=(0,wk.default)((0,Ek.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Xt=(t=>(t.ROOT="/",t.FICHAS="/fichas",t.FICHA="ficha/:id",t.DADO="/dado",t.MAGIAS="/magias",t.MAGIA="/magia/:id",t.HABILIDADES="/habilidades",t.HABILIDADE="/habilidade/:id",t.MAPAS="/mapas",t.MAPA="/mapa/:id",t.CONFIGURACOES="/configuracoes",t.SOBRE="/sobre",t))(Xt||{});const Sk=()=>{const{pathname:t}=ss();switch(t){case"/":case"/fichas":return"Fichas";case"ficha/:id":return"Nome do personagem";case"/dado":return"Dado";case"/magias":return"Lista de Magias";case"/magia/:id":return"Nome da magia";case"/habilidades":return"Lista de Habilidades";case"/habilidade/:id":return"Nome da habilidade";case"/mapas":return"Mapas";case"/mapa/:id":return"Nome da região";case"/configuracoes":return"Configurações";case"/sobre":return"Sobre";default:return"outro"}},jd={palette:{mode:"dark",primary:{main:"#FFAC3D",dark:"#B06A0B",contrastText:"#ffffff",light:"#f3d9b5"},secondary:{main:"#70B0E0",contrastText:"#052640",light:"#badffb",dark:"#4e7b9c"},background:{default:"#121212",paper:"#2a2a2a"},text:{primary:"#ffffff",secondary:"#F3D9B5",disabled:"#3d2808"},divider:"#414141"},typography:{fontFamily:"Poppins"}},Ck=a1(jd),Ak=({children:t})=>M.jsx(xT,{theme:Ck,children:t});function Mk(t){const{children:e}=t,a=H4({target:window??void 0});return M.jsx(_4,{appear:!1,direction:"down",in:!a,children:e})}const Rk=({onMenu:t})=>{var a,o;const e=Sk();return M.jsx(Mk,{children:M.jsx(K7,{position:"fixed",sx:{ml:{sm:`${Eo.DRAWER_WIDTH}px`},width:{sm:`calc(100% - ${Eo.DRAWER_WIDTH}px)`}},children:M.jsxs(U4,{sx:{backgroundColor:(o=(a=jd.palette)==null?void 0:a.background)==null?void 0:o.default},children:[M.jsx(Fn,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:t,sx:{mr:2,display:{sm:"none"}},children:M.jsx(G4,{})}),M.jsx(ao,{variant:"h6",noWrap:!0,component:"div",children:e})]})})})},Tk=iA,Pk=XC;var Ln,Dn,In,On;const qc=class qc{constructor(){ql(this,Ln,0);ql(this,Dn,0);ql(this,In,0);ql(this,On,1)}static createFrom(e){const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(a){const r=new qc;return xr(r,Ln,parseInt(a[1],16)),xr(r,Dn,parseInt(a[2],16)),xr(r,In,parseInt(a[3],16)),xr(r,On,1),r}const o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(o){const r=new qc;return xr(r,Ln,parseInt(o[1],16)),xr(r,Dn,parseInt(o[2],16)),xr(r,In,parseInt(o[3],16)),xr(r,On,parseInt(o[4],16)),r}return new qc}toRgb(){return`rgb(${yi(this,Ln)},${yi(this,Dn)},${yi(this,In)})`}changeAlpha(e){return xr(this,On,e),this}toRgba(){return`rgb(${yi(this,Ln)},${yi(this,Dn)},${yi(this,In)},${yi(this,On)})`}};Ln=new WeakMap,Dn=new WeakMap,In=new WeakMap,On=new WeakMap;let bg=qc;const xh=t=>Array.isArray(t)?t:[t],Lk=(t,e)=>bg.createFrom(t).changeAlpha(e).toRgba(),Dk=(t,e)=>`${t.split(":")[0]}${e}`;function Aa(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ik=typeof Symbol=="function"&&Symbol.observable||"@@observable",vx=Ik,bh=()=>Math.random().toString(36).substring(7).split("").join("."),Ok={INIT:`@@redux/INIT${bh()}`,REPLACE:`@@redux/REPLACE${bh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${bh()}`},Xm=Ok;function f1(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Z4(t,e,a){if(typeof t!="function")throw new Error(Aa(2));if(typeof e=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Aa(0));if(typeof e=="function"&&typeof a>"u"&&(a=e,e=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Aa(1));return a(Z4)(t,e)}let o=t,r=e,i=new Map,n=i,s=0,l=!1;function c(){n===i&&(n=new Map,i.forEach((f,g)=>{n.set(g,f)}))}function d(){if(l)throw new Error(Aa(3));return r}function m(f){if(typeof f!="function")throw new Error(Aa(4));if(l)throw new Error(Aa(5));let g=!0;c();const y=s++;return n.set(y,f),function(){if(g){if(l)throw new Error(Aa(6));g=!1,c(),n.delete(y),i=null}}}function u(f){if(!f1(f))throw new Error(Aa(7));if(typeof f.type>"u")throw new Error(Aa(8));if(typeof f.type!="string")throw new Error(Aa(17));if(l)throw new Error(Aa(9));try{l=!0,r=o(r,f)}finally{l=!1}return(i=n).forEach(y=>{y()}),f}function v(f){if(typeof f!="function")throw new Error(Aa(10));o=f,u({type:Xm.REPLACE})}function h(){const f=m;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Aa(11));function y(){const b=g;b.next&&b.next(d())}return y(),{unsubscribe:f(y)}},[vx](){return this}}}return u({type:Xm.INIT}),{dispatch:u,subscribe:m,getState:d,replaceReducer:v,[vx]:h}}function kk(t){Object.keys(t).forEach(e=>{const a=t[e];if(typeof a(void 0,{type:Xm.INIT})>"u")throw new Error(Aa(12));if(typeof a(void 0,{type:Xm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Aa(13))})}function zk(t){const e=Object.keys(t),a={};for(let i=0;i<e.length;i++){const n=e[i];typeof t[n]=="function"&&(a[n]=t[n])}const o=Object.keys(a);let r;try{kk(a)}catch(i){r=i}return function(n={},s){if(r)throw r;let l=!1;const c={};for(let d=0;d<o.length;d++){const m=o[d],u=a[m],v=n[m],h=u(v,s);if(typeof h>"u")throw s&&s.type,new Error(Aa(14));c[m]=h,l=l||h!==v}return l=l||o.length!==Object.keys(n).length,l?c:n}}function Ym(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,a)=>(...o)=>e(a(...o)))}function Nk(...t){return e=>(a,o)=>{const r=e(a,o);let i=()=>{throw new Error(Aa(15))};const n={getState:r.getState,dispatch:(l,...c)=>i(l,...c)},s=t.map(l=>l(n));return i=Ym(...s)(r.dispatch),{...r,dispatch:i}}}function Fk(t){return f1(t)&&"type"in t&&typeof t.type=="string"}var X4=Symbol.for("immer-nothing"),gx=Symbol.for("immer-draftable"),Co=Symbol.for("immer-state");function sr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var El=Object.getPrototypeOf;function Ki(t){return!!t&&!!t[Co]}function di(t){var e;return t?Y4(t)||Array.isArray(t)||!!t[gx]||!!((e=t.constructor)!=null&&e[gx])||Af(t)||Mf(t):!1}var qk=Object.prototype.constructor.toString();function Y4(t){if(!t||typeof t!="object")return!1;const e=El(t);if(e===null)return!0;const a=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===qk}function md(t,e){Cf(t)===0?Object.entries(t).forEach(([a,o])=>{e(a,o,t)}):t.forEach((a,o)=>e(o,a,t))}function Cf(t){const e=t[Co];return e?e.type_:Array.isArray(t)?1:Af(t)?2:Mf(t)?3:0}function _g(t,e){return Cf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function K4(t,e,a){const o=Cf(t);o===2?t.set(e,a):o===3?t.add(a):t[e]=a}function jk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Af(t){return t instanceof Map}function Mf(t){return t instanceof Set}function yn(t){return t.copy_||t.base_}function wg(t,e){if(Af(t))return new Map(t);if(Mf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Y4(t))return El(t)?{...t}:Object.assign(Object.create(null),t);const a=Object.getOwnPropertyDescriptors(t);delete a[Co];let o=Reflect.ownKeys(a);for(let r=0;r<o.length;r++){const i=o[r],n=a[i];n.writable===!1&&(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(a[i]={configurable:!0,writable:!0,enumerable:n.enumerable,value:t[i]})}return Object.create(El(t),a)}function h1(t,e=!1){return Rf(t)||Ki(t)||!di(t)||(Cf(t)>1&&(t.set=t.add=t.clear=t.delete=Bk),Object.freeze(t),e&&md(t,(a,o)=>h1(o,!0))),t}function Bk(){sr(2)}function Rf(t){return Object.isFrozen(t)}var $k={};function Jn(t){const e=$k[t];return e||sr(0,t),e}var pd;function Q4(){return pd}function Uk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yx(t,e){e&&(Jn("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Eg(t){Sg(t),t.drafts_.forEach(Vk),t.drafts_=null}function Sg(t){t===pd&&(pd=t.parent_)}function xx(t){return pd=Uk(pd,t)}function Vk(t){const e=t[Co];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bx(t,e){e.unfinalizedDrafts_=e.drafts_.length;const a=e.drafts_[0];return t!==void 0&&t!==a?(a[Co].modified_&&(Eg(e),sr(4)),di(t)&&(t=Km(e,t),e.parent_||Qm(e,t)),e.patches_&&Jn("Patches").generateReplacementPatches_(a[Co].base_,t,e.patches_,e.inversePatches_)):t=Km(e,a,[]),Eg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==X4?t:void 0}function Km(t,e,a){if(Rf(e))return e;const o=e[Co];if(!o)return md(e,(r,i)=>_x(t,o,e,r,i,a)),e;if(o.scope_!==t)return e;if(!o.modified_)return Qm(t,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const r=o.copy_;let i=r,n=!1;o.type_===3&&(i=new Set(r),r.clear(),n=!0),md(i,(s,l)=>_x(t,o,r,s,l,a,n)),Qm(t,r,!1),a&&t.patches_&&Jn("Patches").generatePatches_(o,a,t.patches_,t.inversePatches_)}return o.copy_}function _x(t,e,a,o,r,i,n){if(Ki(r)){const s=i&&e&&e.type_!==3&&!_g(e.assigned_,o)?i.concat(o):void 0,l=Km(t,r,s);if(K4(a,o,l),Ki(l))t.canAutoFreeze_=!1;else return}else n&&a.add(r);if(di(r)&&!Rf(r)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Km(t,r),(!e||!e.scope_.parent_)&&Qm(t,r)}}function Qm(t,e,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&h1(e,a)}function Hk(t,e){const a=Array.isArray(t),o={type_:a?1:0,scope_:e?e.scope_:Q4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=o,i=v1;a&&(r=[o],i=fd);const{revoke:n,proxy:s}=Proxy.revocable(r,i);return o.draft_=s,o.revoke_=n,s}var v1={get(t,e){if(e===Co)return t;const a=yn(t);if(!_g(a,e))return Wk(t,a,e);const o=a[e];return t.finalized_||!di(o)?o:o===_h(t.base_,e)?(wh(t),t.copy_[e]=Ag(o,t)):o},has(t,e){return e in yn(t)},ownKeys(t){return Reflect.ownKeys(yn(t))},set(t,e,a){const o=J4(yn(t),e);if(o!=null&&o.set)return o.set.call(t.draft_,a),!0;if(!t.modified_){const r=_h(yn(t),e),i=r==null?void 0:r[Co];if(i&&i.base_===a)return t.copy_[e]=a,t.assigned_[e]=!1,!0;if(jk(a,r)&&(a!==void 0||_g(t.base_,e)))return!0;wh(t),Cg(t)}return t.copy_[e]===a&&(a!==void 0||e in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=a,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _h(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wh(t),Cg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const a=yn(t),o=Reflect.getOwnPropertyDescriptor(a,e);return o&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:o.enumerable,value:a[e]}},defineProperty(){sr(11)},getPrototypeOf(t){return El(t.base_)},setPrototypeOf(){sr(12)}},fd={};md(v1,(t,e)=>{fd[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});fd.deleteProperty=function(t,e){return fd.set.call(this,t,e,void 0)};fd.set=function(t,e,a){return v1.set.call(this,t[0],e,a,t[0])};function _h(t,e){const a=t[Co];return(a?yn(a):t)[e]}function Wk(t,e,a){var r;const o=J4(e,a);return o?"value"in o?o.value:(r=o.get)==null?void 0:r.call(t.draft_):void 0}function J4(t,e){if(!(e in t))return;let a=El(t);for(;a;){const o=Object.getOwnPropertyDescriptor(a,e);if(o)return o;a=El(a)}}function Cg(t){t.modified_||(t.modified_=!0,t.parent_&&Cg(t.parent_))}function wh(t){t.copy_||(t.copy_=wg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Gk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,a,o)=>{if(typeof e=="function"&&typeof a!="function"){const i=a;a=e;const n=this;return function(l=i,...c){return n.produce(l,d=>a.call(this,d,...c))}}typeof a!="function"&&sr(6),o!==void 0&&typeof o!="function"&&sr(7);let r;if(di(e)){const i=xx(this),n=Ag(e,void 0);let s=!0;try{r=a(n),s=!1}finally{s?Eg(i):Sg(i)}return yx(i,o),bx(r,i)}else if(!e||typeof e!="object"){if(r=a(e),r===void 0&&(r=e),r===X4&&(r=void 0),this.autoFreeze_&&h1(r,!0),o){const i=[],n=[];Jn("Patches").generateReplacementPatches_(e,r,i,n),o(i,n)}return r}else sr(1,e)},this.produceWithPatches=(e,a)=>{if(typeof e=="function")return(n,...s)=>this.produceWithPatches(n,l=>e(l,...s));let o,r;return[this.produce(e,a,(n,s)=>{o=n,r=s}),o,r]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){di(t)||sr(8),Ki(t)&&(t=e5(t));const e=xx(this),a=Ag(t,void 0);return a[Co].isManual_=!0,Sg(e),a}finishDraft(t,e){const a=t&&t[Co];(!a||!a.isManual_)&&sr(9);const{scope_:o}=a;return yx(o,e),bx(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let a;for(a=e.length-1;a>=0;a--){const r=e[a];if(r.path.length===0&&r.op==="replace"){t=r.value;break}}a>-1&&(e=e.slice(a+1));const o=Jn("Patches").applyPatches_;return Ki(t)?o(t,e):this.produce(t,r=>o(r,e))}};function Ag(t,e){const a=Af(t)?Jn("MapSet").proxyMap_(t,e):Mf(t)?Jn("MapSet").proxySet_(t,e):Hk(t,e);return(e?e.scope_:Q4()).drafts_.push(a),a}function e5(t){return Ki(t)||sr(10,t),t5(t)}function t5(t){if(!di(t)||Rf(t))return t;const e=t[Co];let a;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,a=wg(t,e.scope_.immer_.useStrictShallowCopy_)}else a=wg(t,!0);return md(a,(o,r)=>{K4(a,o,t5(r))}),e&&(e.finalized_=!1),a}var Ao=new Gk,a5=Ao.produce;Ao.produceWithPatches.bind(Ao);Ao.setAutoFreeze.bind(Ao);Ao.setUseStrictShallowCopy.bind(Ao);Ao.applyPatches.bind(Ao);Ao.createDraft.bind(Ao);Ao.finishDraft.bind(Ao);function Zk(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Xk(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Yk(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(a=>typeof a=="function")){const a=t.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${e}[${a}]`)}}var wx=t=>Array.isArray(t)?t:[t];function Kk(t){const e=Array.isArray(t[0])?t[0]:t;return Yk(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Qk(t,e){const a=[],{length:o}=t;for(let r=0;r<o;r++)a.push(t[r].apply(null,e));return a}var Jk=class{constructor(t){this.value=t}deref(){return this.value}},ez=typeof WeakRef<"u"?WeakRef:Jk,tz=0,Ex=1;function xu(){return{s:tz,v:void 0,o:null,p:null}}function g1(t,e={}){let a=xu();const{resultEqualityCheck:o}=e;let r,i=0;function n(){var m;let s=a;const{length:l}=arguments;for(let u=0,v=l;u<v;u++){const h=arguments[u];if(typeof h=="function"||typeof h=="object"&&h!==null){let p=s.o;p===null&&(s.o=p=new WeakMap);const f=p.get(h);f===void 0?(s=xu(),p.set(h,s)):s=f}else{let p=s.p;p===null&&(s.p=p=new Map);const f=p.get(h);f===void 0?(s=xu(),p.set(h,s)):s=f}}const c=s;let d;if(s.s===Ex?d=s.v:(d=t.apply(null,arguments),i++),c.s=Ex,o){const u=((m=r==null?void 0:r.deref)==null?void 0:m.call(r))??r;u!=null&&o(u,d)&&(d=u,i!==0&&i--),r=typeof d=="object"&&d!==null||typeof d=="function"?new ez(d):d}return c.v=d,d}return n.clearCache=()=>{a=xu(),n.resetResultsCount()},n.resultsCount=()=>i,n.resetResultsCount=()=>{i=0},n}function o5(t,...e){const a=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,o=(...r)=>{let i=0,n=0,s,l={},c=r.pop();typeof c=="object"&&(l=c,c=r.pop()),Zk(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...a,...l},{memoize:m,memoizeOptions:u=[],argsMemoize:v=g1,argsMemoizeOptions:h=[],devModeChecks:p={}}=d,f=wx(u),g=wx(h),y=Kk(r),x=m(function(){return i++,c.apply(null,arguments)},...f),b=v(function(){n++;const _=Qk(y,arguments);return s=x.apply(null,_),s},...g);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>n,resetDependencyRecomputations:()=>{n=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:v})};return Object.assign(o,{withTypes:()=>o}),o}var az=o5(g1),oz=Object.assign((t,e=az)=>{Xk(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const a=Object.keys(t),o=a.map(i=>t[i]);return e(o,(...i)=>i.reduce((n,s,l)=>(n[a[l]]=s,n),{}))},{withTypes:()=>oz});function r5(t){return({dispatch:a,getState:o})=>r=>i=>typeof i=="function"?i(a,o,t):r(i)}var rz=r5(),iz=r5,nz=(...t)=>{const e=o5(...t),a=Object.assign((...o)=>{const r=e(...o),i=(n,...s)=>r(Ki(n)?e5(n):n,...s);return Object.assign(i,r),i},{withTypes:()=>a});return a};nz(g1);var sz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ym:Ym.apply(null,arguments)};function Sl(t,e){function a(...o){if(e){let r=e(...o);if(!r)throw new Error(lo(0));return{type:t,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:t,payload:o[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=o=>Fk(o)&&o.type===t,a}var i5=class _c extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,_c.prototype)}static get[Symbol.species](){return _c}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new _c(...e[0].concat(this)):new _c(...e.concat(this))}};function Sx(t){return di(t)?a5(t,()=>{}):t}function Cx(t,e,a){if(t.has(e)){let r=t.get(e);return a.update&&(r=a.update(r,e,t),t.set(e,r)),r}if(!a.insert)throw new Error(lo(10));const o=a.insert(e,t);return t.set(e,o),o}function lz(t){return typeof t=="boolean"}var cz=()=>function(e){const{thunk:a=!0,immutableCheck:o=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let n=new i5;return a&&(lz(a)?n.push(rz):n.push(iz(a.extraArgument))),n},dz="RTK_autoBatch",n5=t=>e=>{setTimeout(e,t)},uz=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:n5(10),mz=(t={type:"raf"})=>e=>(...a)=>{const o=e(...a);let r=!0,i=!1,n=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?uz:t.type==="callback"?t.queueNotification:n5(t.timeout),c=()=>{n=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},o,{subscribe(d){const m=()=>r&&d(),u=o.subscribe(m);return s.add(d),()=>{u(),s.delete(d)}},dispatch(d){var m;try{return r=!((m=d==null?void 0:d.meta)!=null&&m[dz]),i=!r,i&&(n||(n=!0,l(c))),o.dispatch(d)}finally{r=!0}}})},pz=t=>function(a){const{autoBatch:o=!0}=a??{};let r=new i5(t);return o&&r.push(mz(typeof o=="object"?o:void 0)),r},fz=!0;function hz(t){const e=cz(),{reducer:a=void 0,middleware:o,devTools:r=!0,preloadedState:i=void 0,enhancers:n=void 0}=t||{};let s;if(typeof a=="function")s=a;else if(f1(a))s=zk(a);else throw new Error(lo(1));let l;typeof o=="function"?l=o(e):l=e();let c=Ym;r&&(c=sz({trace:!fz,...typeof r=="object"&&r}));const d=Nk(...l),m=pz(d);let u=typeof n=="function"?n(m):m();const v=c(...u);return Z4(s,i,v)}function s5(t){const e={},a=[];let o;const r={addCase(i,n){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(lo(28));if(s in e)throw new Error(lo(29));return e[s]=n,r},addMatcher(i,n){return a.push({matcher:i,reducer:n}),r},addDefaultCase(i){return o=i,r}};return t(r),[e,a,o]}function vz(t){return typeof t=="function"}function gz(t,e){let[a,o,r]=s5(e),i;if(vz(t))i=()=>Sx(t());else{const s=Sx(t);i=()=>s}function n(s=i(),l){let c=[a[l.type],...o.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[r]),c.reduce((d,m)=>{if(m)if(Ki(d)){const v=m(d,l);return v===void 0?d:v}else{if(di(d))return a5(d,u=>m(u,l));{const u=m(d,l);if(u===void 0){if(d===null)return d;throw new Error(lo(9))}return u}}return d},s)}return n.getInitialState=i,n}var yz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xz=(t=21)=>{let e="",a=t;for(;a--;)e+=yz[Math.random()*64|0];return e},bz=Symbol.for("rtk-slice-createasyncthunk");function _z(t,e){return`${t}/${e}`}function wz({creators:t}={}){var a;const e=(a=t==null?void 0:t.asyncThunk)==null?void 0:a[bz];return function(r){const{name:i,reducerPath:n=i}=r;if(!i)throw new Error(lo(11));typeof process<"u";const s=(typeof r.reducers=="function"?r.reducers(Cz()):r.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(x,b){const w=typeof x=="string"?x:x.type;if(!w)throw new Error(lo(12));if(w in c.sliceCaseReducersByType)throw new Error(lo(13));return c.sliceCaseReducersByType[w]=b,d},addMatcher(x,b){return c.sliceMatchers.push({matcher:x,reducer:b}),d},exposeAction(x,b){return c.actionCreators[x]=b,d},exposeCaseReducer(x,b){return c.sliceCaseReducersByName[x]=b,d}};l.forEach(x=>{const b=s[x],w={reducerName:x,type:_z(i,x),createNotation:typeof r.reducers=="function"};Mz(b)?Tz(w,b,d,e):Az(w,b,d)});function m(){const[x={},b=[],w=void 0]=typeof r.extraReducers=="function"?s5(r.extraReducers):[r.extraReducers],_={...x,...c.sliceCaseReducersByType};return gz(r.initialState,S=>{for(let E in _)S.addCase(E,_[E]);for(let E of c.sliceMatchers)S.addMatcher(E.matcher,E.reducer);for(let E of b)S.addMatcher(E.matcher,E.reducer);w&&S.addDefaultCase(w)})}const u=x=>x,v=new Map;let h;function p(x,b){return h||(h=m()),h(x,b)}function f(){return h||(h=m()),h.getInitialState()}function g(x,b=!1){function w(S){let E=S[x];return typeof E>"u"&&b&&(E=f()),E}function _(S=u){const E=Cx(v,b,{insert:()=>new WeakMap});return Cx(E,S,{insert:()=>{const A={};for(const[T,O]of Object.entries(r.selectors??{}))A[T]=Ez(O,S,f,b);return A}})}return{reducerPath:x,getSelectors:_,get selectors(){return _(w)},selectSlice:w}}const y={name:i,reducer:p,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:f,...g(n),injectInto(x,{reducerPath:b,...w}={}){const _=b??n;return x.inject({reducerPath:_,reducer:p},w),{...y,...g(_,!0)}}};return y}}function Ez(t,e,a,o){function r(i,...n){let s=e(i);return typeof s>"u"&&o&&(s=a()),t(s,...n)}return r.unwrapped=t,r}var Sz=wz();function Cz(){function t(e,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...a}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...a){return e(...a)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:a}},asyncThunk:t}}function Az({type:t,reducerName:e,createNotation:a},o,r){let i,n;if("reducer"in o){if(a&&!Rz(o))throw new Error(lo(17));i=o.reducer,n=o.prepare}else i=o;r.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,n?Sl(t,n):Sl(t))}function Mz(t){return t._reducerDefinitionType==="asyncThunk"}function Rz(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Tz({type:t,reducerName:e},a,o,r){if(!r)throw new Error(lo(18));const{payloadCreator:i,fulfilled:n,pending:s,rejected:l,settled:c,options:d}=a,m=r(t,i,d);o.exposeAction(e,m),n&&o.addCase(m.fulfilled,n),s&&o.addCase(m.pending,s),l&&o.addCase(m.rejected,l),c&&o.addMatcher(m.settled,c),o.exposeCaseReducer(e,{fulfilled:n||bu,pending:s||bu,rejected:l||bu,settled:c||bu})}function bu(){}var Pz=(t,e)=>{if(typeof t!="function")throw new Error(lo(32))},y1="listenerMiddleware",Lz=t=>{let{type:e,actionCreator:a,matcher:o,predicate:r,effect:i}=t;if(e)r=Sl(e).match;else if(a)e=a.type,r=a.match;else if(o)r=o;else if(!r)throw new Error(lo(21));return Pz(i),{predicate:r,type:e,effect:i}},Dz=Object.assign(t=>{const{type:e,predicate:a,effect:o}=Lz(t);return{id:xz(),effect:o,type:e,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(lo(22))}}},{withTypes:()=>Dz}),Iz=Object.assign(Sl(`${y1}/add`),{withTypes:()=>Iz});Sl(`${y1}/removeAll`);var Oz=Object.assign(Sl(`${y1}/remove`),{withTypes:()=>Oz});function lo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mt;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function a(r){throw new Error}t.assertNever=a,t.arrayToEnum=r=>{const i={};for(const n of r)i[n]=n;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(s=>typeof r[r[s]]!="number"),n={};for(const s of i)n[s]=r[s];return t.objectValues(n)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i.push(n);return i},t.find=(r,i)=>{for(const n of r)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function o(r,i=" | "){return r.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=o,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(Mt||(Mt={}));var Mg;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(Mg||(Mg={}));const Ie=Mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ki=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},ye=Mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kz=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class pr extends Error{constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const a=e||function(i){return i.message},o={_errors:[]},r=i=>{for(const n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(r);else if(n.code==="invalid_return_type")r(n.returnTypeError);else if(n.code==="invalid_arguments")r(n.argumentsError);else if(n.path.length===0)o._errors.push(a(n));else{let s=o,l=0;for(;l<n.path.length;){const c=n.path[l];l===n.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(a(n))):s[c]=s[c]||{_errors:[]},s=s[c],l++}}};return r(this),o}toString(){return this.message}get message(){return JSON.stringify(this.issues,Mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},o=[];for(const r of this.issues)r.path.length>0?(a[r.path[0]]=a[r.path[0]]||[],a[r.path[0]].push(e(r))):o.push(e(r));return{formErrors:o,fieldErrors:a}}get formErrors(){return this.flatten()}}pr.create=t=>new pr(t);const hd=(t,e)=>{let a;switch(t.code){case ye.invalid_type:t.received===Ie.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case ye.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,Mt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:a=`Unrecognized key(s) in object: ${Mt.joinValues(t.keys,", ")}`;break;case ye.invalid_union:a="Invalid input";break;case ye.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${Mt.joinValues(t.options)}`;break;case ye.invalid_enum_value:a=`Invalid enum value. Expected ${Mt.joinValues(t.options)}, received '${t.received}'`;break;case ye.invalid_arguments:a="Invalid function arguments";break;case ye.invalid_return_type:a="Invalid function return type";break;case ye.invalid_date:a="Invalid date";break;case ye.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:Mt.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case ye.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case ye.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case ye.custom:a="Invalid input";break;case ye.invalid_intersection_types:a="Intersection results could not be merged";break;case ye.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case ye.not_finite:a="Number must be finite";break;default:a=e.defaultError,Mt.assertNever(t)}return{message:a}};let l5=hd;function zz(t){l5=t}function Jm(){return l5}const ep=t=>{const{data:e,path:a,errorMaps:o,issueData:r}=t,i=[...a,...r.path||[]],n={...r,path:i};let s="";const l=o.filter(c=>!!c).slice().reverse();for(const c of l)s=c(n,{data:e,defaultError:s}).message;return{...r,path:i,message:r.message||s}},Nz=[];function Fe(t,e){const a=ep({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Jm(),hd].filter(o=>!!o)});t.common.issues.push(a)}class ja{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const o=[];for(const r of a){if(r.status==="aborted")return lt;r.status==="dirty"&&e.dirty(),o.push(r.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,a){const o=[];for(const r of a)o.push({key:await r.key,value:await r.value});return ja.mergeObjectSync(e,o)}static mergeObjectSync(e,a){const o={};for(const r of a){const{key:i,value:n}=r;if(i.status==="aborted"||n.status==="aborted")return lt;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||r.alwaysSet)&&(o[i.value]=n.value)}return{status:e.value,value:o}}}const lt=Object.freeze({status:"aborted"}),c5=t=>({status:"dirty",value:t}),Wa=t=>({status:"valid",value:t}),Rg=t=>t.status==="aborted",Tg=t=>t.status==="dirty",vd=t=>t.status==="valid",tp=t=>typeof Promise<"u"&&t instanceof Promise;var Ze;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ze||(Ze={}));class zr{constructor(e,a,o,r){this._cachedPath=[],this.parent=e,this.data=a,this._path=o,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ax=(t,e)=>{if(vd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new pr(t.common.issues);return this._error=a,this._error}}};function ut(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:o,description:r}=t;if(e&&(a||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(n,s)=>n.code!=="invalid_type"?{message:s.defaultError}:typeof s.data>"u"?{message:o??s.defaultError}:{message:a??s.defaultError},description:r}}class ft{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ki(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ja,ctx:{common:e.parent.common,data:e.data,parsedType:ki(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(tp(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const o=this.safeParse(e,a);if(o.success)return o.data;throw o.error}safeParse(e,a){var o;const r={common:{issues:[],async:(o=a==null?void 0:a.async)!==null&&o!==void 0?o:!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ki(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Ax(r,i)}async parseAsync(e,a){const o=await this.safeParseAsync(e,a);if(o.success)return o.data;throw o.error}async safeParseAsync(e,a){const o={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ki(e)},r=this._parse({data:e,path:o.path,parent:o}),i=await(tp(r)?r:Promise.resolve(r));return Ax(o,i)}refine(e,a){const o=r=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(r):a;return this._refinement((r,i)=>{const n=e(r),s=()=>i.addIssue({code:ye.custom,...o(r)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(s(),!1)):n?!0:(s(),!1)})}refinement(e,a){return this._refinement((o,r)=>e(o)?!0:(r.addIssue(typeof a=="function"?a(o,r):a),!1))}_refinement(e){return new gr({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ii.create(this,this._def)}nullable(){return as.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fr.create(this,this._def)}promise(){return Al.create(this,this._def)}or(e){return bd.create([this,e],this._def)}and(e){return _d.create(this,e,this._def)}transform(e){return new gr({...ut(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new Ad({...ut(this._def),innerType:this,defaultValue:a,typeName:at.ZodDefault})}brand(){return new u5({typeName:at.ZodBranded,type:this,...ut(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new ip({...ut(this._def),innerType:this,catchValue:a,typeName:at.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return Bd.create(this,e)}readonly(){return sp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Fz=/^c[^\s-]{8,}$/i,qz=/^[a-z][a-z0-9]*$/,jz=/^[0-9A-HJKMNP-TV-Z]{26}$/,Bz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$z=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Uz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Eh;const Vz=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Hz=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Wz=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Gz(t,e){return!!((e==="v4"||!e)&&Vz.test(t)||(e==="v6"||!e)&&Hz.test(t))}class lr extends ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const i=this._getOrReturnCtx(e);return Fe(i,{code:ye.invalid_type,expected:Ie.string,received:i.parsedType}),lt}const o=new ja;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),o.dirty());else if(i.kind==="length"){const n=e.data.length>i.value,s=e.data.length<i.value;(n||s)&&(r=this._getOrReturnCtx(e,r),n?Fe(r,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&Fe(r,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),o.dirty())}else if(i.kind==="email")$z.test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"email",code:ye.invalid_string,message:i.message}),o.dirty());else if(i.kind==="emoji")Eh||(Eh=new RegExp(Uz,"u")),Eh.test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"emoji",code:ye.invalid_string,message:i.message}),o.dirty());else if(i.kind==="uuid")Bz.test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"uuid",code:ye.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid")Fz.test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"cuid",code:ye.invalid_string,message:i.message}),o.dirty());else if(i.kind==="cuid2")qz.test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"cuid2",code:ye.invalid_string,message:i.message}),o.dirty());else if(i.kind==="ulid")jz.test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"ulid",code:ye.invalid_string,message:i.message}),o.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),Fe(r,{validation:"url",code:ye.invalid_string,message:i.message}),o.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"regex",code:ye.invalid_string,message:i.message}),o.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),o.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.invalid_string,validation:{startsWith:i.value},message:i.message}),o.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.invalid_string,validation:{endsWith:i.value},message:i.message}),o.dirty()):i.kind==="datetime"?Wz(i).test(e.data)||(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.invalid_string,validation:"datetime",message:i.message}),o.dirty()):i.kind==="ip"?Gz(e.data,i.version)||(r=this._getOrReturnCtx(e,r),Fe(r,{validation:"ip",code:ye.invalid_string,message:i.message}),o.dirty()):Mt.assertNever(i);return{status:o.value,value:e.data}}_regex(e,a,o){return this.refinement(r=>e.test(r),{validation:a,code:ye.invalid_string,...Ze.errToObj(o)})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ze.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ze.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ze.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ze.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ze.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ze.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ze.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ze.errToObj(e)})}datetime(e){var a;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(a=e==null?void 0:e.offset)!==null&&a!==void 0?a:!1,...Ze.errToObj(e==null?void 0:e.message)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...Ze.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a==null?void 0:a.position,...Ze.errToObj(a==null?void 0:a.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...Ze.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...Ze.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...Ze.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...Ze.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...Ze.errToObj(a)})}nonempty(e){return this.min(1,Ze.errToObj(e))}trim(){return new lr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new lr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new lr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}lr.create=t=>{var e;return new lr({checks:[],typeName:at.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ut(t)})};function Zz(t,e){const a=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,r=a>o?a:o,i=parseInt(t.toFixed(r).replace(".","")),n=parseInt(e.toFixed(r).replace(".",""));return i%n/Math.pow(10,r)}class Qi extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const i=this._getOrReturnCtx(e);return Fe(i,{code:ye.invalid_type,expected:Ie.number,received:i.parsedType}),lt}let o;const r=new ja;for(const i of this._def.checks)i.kind==="int"?Mt.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?Zz(e.data,i.value)!==0&&(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.not_finite,message:i.message}),r.dirty()):Mt.assertNever(i);return{status:r.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,Ze.toString(a))}gt(e,a){return this.setLimit("min",e,!1,Ze.toString(a))}lte(e,a){return this.setLimit("max",e,!0,Ze.toString(a))}lt(e,a){return this.setLimit("max",e,!1,Ze.toString(a))}setLimit(e,a,o,r){return new Qi({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:o,message:Ze.toString(r)}]})}_addCheck(e){return new Qi({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ze.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ze.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:Ze.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ze.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ze.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Mt.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(a===null||o.value>a)&&(a=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(a)&&Number.isFinite(e)}}Qi.create=t=>new Qi({checks:[],typeName:at.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class Ji extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Ie.bigint){const i=this._getOrReturnCtx(e);return Fe(i,{code:ye.invalid_type,expected:Ie.bigint,received:i.parsedType}),lt}let o;const r=new ja;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),Fe(o,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):Mt.assertNever(i);return{status:r.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,Ze.toString(a))}gt(e,a){return this.setLimit("min",e,!1,Ze.toString(a))}lte(e,a){return this.setLimit("max",e,!0,Ze.toString(a))}lt(e,a){return this.setLimit("max",e,!1,Ze.toString(a))}setLimit(e,a,o,r){return new Ji({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:o,message:Ze.toString(r)}]})}_addCheck(e){return new Ji({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ze.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ze.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:Ze.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}Ji.create=t=>{var e;return new Ji({checks:[],typeName:at.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ut(t)})};class gd extends ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const o=this._getOrReturnCtx(e);return Fe(o,{code:ye.invalid_type,expected:Ie.boolean,received:o.parsedType}),lt}return Wa(e.data)}}gd.create=t=>new gd({typeName:at.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ut(t)});class es extends ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const i=this._getOrReturnCtx(e);return Fe(i,{code:ye.invalid_type,expected:Ie.date,received:i.parsedType}),lt}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Fe(i,{code:ye.invalid_date}),lt}const o=new ja;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),o.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),Fe(r,{code:ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),o.dirty()):Mt.assertNever(i);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new es({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:Ze.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:Ze.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}es.create=t=>new es({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:at.ZodDate,...ut(t)});class ap extends ft{_parse(e){if(this._getType(e)!==Ie.symbol){const o=this._getOrReturnCtx(e);return Fe(o,{code:ye.invalid_type,expected:Ie.symbol,received:o.parsedType}),lt}return Wa(e.data)}}ap.create=t=>new ap({typeName:at.ZodSymbol,...ut(t)});class yd extends ft{_parse(e){if(this._getType(e)!==Ie.undefined){const o=this._getOrReturnCtx(e);return Fe(o,{code:ye.invalid_type,expected:Ie.undefined,received:o.parsedType}),lt}return Wa(e.data)}}yd.create=t=>new yd({typeName:at.ZodUndefined,...ut(t)});class xd extends ft{_parse(e){if(this._getType(e)!==Ie.null){const o=this._getOrReturnCtx(e);return Fe(o,{code:ye.invalid_type,expected:Ie.null,received:o.parsedType}),lt}return Wa(e.data)}}xd.create=t=>new xd({typeName:at.ZodNull,...ut(t)});class Cl extends ft{constructor(){super(...arguments),this._any=!0}_parse(e){return Wa(e.data)}}Cl.create=t=>new Cl({typeName:at.ZodAny,...ut(t)});class qn extends ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wa(e.data)}}qn.create=t=>new qn({typeName:at.ZodUnknown,...ut(t)});class ui extends ft{_parse(e){const a=this._getOrReturnCtx(e);return Fe(a,{code:ye.invalid_type,expected:Ie.never,received:a.parsedType}),lt}}ui.create=t=>new ui({typeName:at.ZodNever,...ut(t)});class op extends ft{_parse(e){if(this._getType(e)!==Ie.undefined){const o=this._getOrReturnCtx(e);return Fe(o,{code:ye.invalid_type,expected:Ie.void,received:o.parsedType}),lt}return Wa(e.data)}}op.create=t=>new op({typeName:at.ZodVoid,...ut(t)});class fr extends ft{_parse(e){const{ctx:a,status:o}=this._processInputParams(e),r=this._def;if(a.parsedType!==Ie.array)return Fe(a,{code:ye.invalid_type,expected:Ie.array,received:a.parsedType}),lt;if(r.exactLength!==null){const n=a.data.length>r.exactLength.value,s=a.data.length<r.exactLength.value;(n||s)&&(Fe(a,{code:n?ye.too_big:ye.too_small,minimum:s?r.exactLength.value:void 0,maximum:n?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&a.data.length<r.minLength.value&&(Fe(a,{code:ye.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&a.data.length>r.maxLength.value&&(Fe(a,{code:ye.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),a.common.async)return Promise.all([...a.data].map((n,s)=>r.type._parseAsync(new zr(a,n,a.path,s)))).then(n=>ja.mergeArray(o,n));const i=[...a.data].map((n,s)=>r.type._parseSync(new zr(a,n,a.path,s)));return ja.mergeArray(o,i)}get element(){return this._def.type}min(e,a){return new fr({...this._def,minLength:{value:e,message:Ze.toString(a)}})}max(e,a){return new fr({...this._def,maxLength:{value:e,message:Ze.toString(a)}})}length(e,a){return new fr({...this._def,exactLength:{value:e,message:Ze.toString(a)}})}nonempty(e){return this.min(1,e)}}fr.create=(t,e)=>new fr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...ut(e)});function zs(t){if(t instanceof Yt){const e={};for(const a in t.shape){const o=t.shape[a];e[a]=ii.create(zs(o))}return new Yt({...t._def,shape:()=>e})}else return t instanceof fr?new fr({...t._def,type:zs(t.element)}):t instanceof ii?ii.create(zs(t.unwrap())):t instanceof as?as.create(zs(t.unwrap())):t instanceof Nr?Nr.create(t.items.map(e=>zs(e))):t}class Yt extends ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=Mt.objectKeys(e);return this._cached={shape:e,keys:a}}_parse(e){if(this._getType(e)!==Ie.object){const c=this._getOrReturnCtx(e);return Fe(c,{code:ye.invalid_type,expected:Ie.object,received:c.parsedType}),lt}const{status:o,ctx:r}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),s=[];if(!(this._def.catchall instanceof ui&&this._def.unknownKeys==="strip"))for(const c in r.data)n.includes(c)||s.push(c);const l=[];for(const c of n){const d=i[c],m=r.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new zr(r,m,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof ui){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of s)l.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(c==="strict")s.length>0&&(Fe(r,{code:ye.unrecognized_keys,keys:s}),o.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of s){const m=r.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new zr(r,m,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const m=await d.key;c.push({key:m,value:await d.value,alwaysSet:d.alwaysSet})}return c}).then(c=>ja.mergeObjectSync(o,c)):ja.mergeObjectSync(o,l)}get shape(){return this._def.shape()}strict(e){return Ze.errToObj,new Yt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,o)=>{var r,i,n,s;const l=(n=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,a,o).message)!==null&&n!==void 0?n:o.defaultError;return a.code==="unrecognized_keys"?{message:(s=Ze.errToObj(e).message)!==null&&s!==void 0?s:l}:{message:l}}}:{}})}strip(){return new Yt({...this._def,unknownKeys:"strip"})}passthrough(){return new Yt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Yt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Yt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:at.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new Yt({...this._def,catchall:e})}pick(e){const a={};return Mt.objectKeys(e).forEach(o=>{e[o]&&this.shape[o]&&(a[o]=this.shape[o])}),new Yt({...this._def,shape:()=>a})}omit(e){const a={};return Mt.objectKeys(this.shape).forEach(o=>{e[o]||(a[o]=this.shape[o])}),new Yt({...this._def,shape:()=>a})}deepPartial(){return zs(this)}partial(e){const a={};return Mt.objectKeys(this.shape).forEach(o=>{const r=this.shape[o];e&&!e[o]?a[o]=r:a[o]=r.optional()}),new Yt({...this._def,shape:()=>a})}required(e){const a={};return Mt.objectKeys(this.shape).forEach(o=>{if(e&&!e[o])a[o]=this.shape[o];else{let i=this.shape[o];for(;i instanceof ii;)i=i._def.innerType;a[o]=i}}),new Yt({...this._def,shape:()=>a})}keyof(){return d5(Mt.objectKeys(this.shape))}}Yt.create=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strip",catchall:ui.create(),typeName:at.ZodObject,...ut(e)});Yt.strictCreate=(t,e)=>new Yt({shape:()=>t,unknownKeys:"strict",catchall:ui.create(),typeName:at.ZodObject,...ut(e)});Yt.lazycreate=(t,e)=>new Yt({shape:t,unknownKeys:"strip",catchall:ui.create(),typeName:at.ZodObject,...ut(e)});class bd extends ft{_parse(e){const{ctx:a}=this._processInputParams(e),o=this._def.options;function r(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return a.common.issues.push(...s.ctx.common.issues),s.result;const n=i.map(s=>new pr(s.ctx.common.issues));return Fe(a,{code:ye.invalid_union,unionErrors:n}),lt}if(a.common.async)return Promise.all(o.map(async i=>{const n={...a,common:{...a.common,issues:[]},parent:null};return{result:await i._parseAsync({data:a.data,path:a.path,parent:n}),ctx:n}})).then(r);{let i;const n=[];for(const l of o){const c={...a,common:{...a.common,issues:[]},parent:null},d=l._parseSync({data:a.data,path:a.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return a.common.issues.push(...i.ctx.common.issues),i.result;const s=n.map(l=>new pr(l));return Fe(a,{code:ye.invalid_union,unionErrors:s}),lt}}get options(){return this._def.options}}bd.create=(t,e)=>new bd({options:t,typeName:at.ZodUnion,...ut(e)});const pm=t=>t instanceof Ed?pm(t.schema):t instanceof gr?pm(t.innerType()):t instanceof Sd?[t.value]:t instanceof en?t.options:t instanceof Cd?Object.keys(t.enum):t instanceof Ad?pm(t._def.innerType):t instanceof yd?[void 0]:t instanceof xd?[null]:null;class Tf extends ft{_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==Ie.object)return Fe(a,{code:ye.invalid_type,expected:Ie.object,received:a.parsedType}),lt;const o=this.discriminator,r=a.data[o],i=this.optionsMap.get(r);return i?a.common.async?i._parseAsync({data:a.data,path:a.path,parent:a}):i._parseSync({data:a.data,path:a.path,parent:a}):(Fe(a,{code:ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,a,o){const r=new Map;for(const i of a){const n=pm(i.shape[e]);if(!n)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of n){if(r.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);r.set(s,i)}}return new Tf({typeName:at.ZodDiscriminatedUnion,discriminator:e,options:a,optionsMap:r,...ut(o)})}}function Pg(t,e){const a=ki(t),o=ki(e);if(t===e)return{valid:!0,data:t};if(a===Ie.object&&o===Ie.object){const r=Mt.objectKeys(e),i=Mt.objectKeys(t).filter(s=>r.indexOf(s)!==-1),n={...t,...e};for(const s of i){const l=Pg(t[s],e[s]);if(!l.valid)return{valid:!1};n[s]=l.data}return{valid:!0,data:n}}else if(a===Ie.array&&o===Ie.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const n=t[i],s=e[i],l=Pg(n,s);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return a===Ie.date&&o===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _d extends ft{_parse(e){const{status:a,ctx:o}=this._processInputParams(e),r=(i,n)=>{if(Rg(i)||Rg(n))return lt;const s=Pg(i.value,n.value);return s.valid?((Tg(i)||Tg(n))&&a.dirty(),{status:a.value,value:s.data}):(Fe(o,{code:ye.invalid_intersection_types}),lt)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([i,n])=>r(i,n)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}_d.create=(t,e,a)=>new _d({left:t,right:e,typeName:at.ZodIntersection,...ut(a)});class Nr extends ft{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==Ie.array)return Fe(o,{code:ye.invalid_type,expected:Ie.array,received:o.parsedType}),lt;if(o.data.length<this._def.items.length)return Fe(o,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),lt;!this._def.rest&&o.data.length>this._def.items.length&&(Fe(o,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const i=[...o.data].map((n,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new zr(o,n,o.path,s)):null}).filter(n=>!!n);return o.common.async?Promise.all(i).then(n=>ja.mergeArray(a,n)):ja.mergeArray(a,i)}get items(){return this._def.items}rest(e){return new Nr({...this._def,rest:e})}}Nr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Nr({items:t,typeName:at.ZodTuple,rest:null,...ut(e)})};class wd extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==Ie.object)return Fe(o,{code:ye.invalid_type,expected:Ie.object,received:o.parsedType}),lt;const r=[],i=this._def.keyType,n=this._def.valueType;for(const s in o.data)r.push({key:i._parse(new zr(o,s,o.path,s)),value:n._parse(new zr(o,o.data[s],o.path,s))});return o.common.async?ja.mergeObjectAsync(a,r):ja.mergeObjectSync(a,r)}get element(){return this._def.valueType}static create(e,a,o){return a instanceof ft?new wd({keyType:e,valueType:a,typeName:at.ZodRecord,...ut(o)}):new wd({keyType:lr.create(),valueType:e,typeName:at.ZodRecord,...ut(a)})}}class rp extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==Ie.map)return Fe(o,{code:ye.invalid_type,expected:Ie.map,received:o.parsedType}),lt;const r=this._def.keyType,i=this._def.valueType,n=[...o.data.entries()].map(([s,l],c)=>({key:r._parse(new zr(o,s,o.path,[c,"key"])),value:i._parse(new zr(o,l,o.path,[c,"value"]))}));if(o.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of n){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return lt;(c.status==="dirty"||d.status==="dirty")&&a.dirty(),s.set(c.value,d.value)}return{status:a.value,value:s}})}else{const s=new Map;for(const l of n){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return lt;(c.status==="dirty"||d.status==="dirty")&&a.dirty(),s.set(c.value,d.value)}return{status:a.value,value:s}}}}rp.create=(t,e,a)=>new rp({valueType:e,keyType:t,typeName:at.ZodMap,...ut(a)});class ts extends ft{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.parsedType!==Ie.set)return Fe(o,{code:ye.invalid_type,expected:Ie.set,received:o.parsedType}),lt;const r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&(Fe(o,{code:ye.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),a.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&(Fe(o,{code:ye.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),a.dirty());const i=this._def.valueType;function n(l){const c=new Set;for(const d of l){if(d.status==="aborted")return lt;d.status==="dirty"&&a.dirty(),c.add(d.value)}return{status:a.value,value:c}}const s=[...o.data.values()].map((l,c)=>i._parse(new zr(o,l,o.path,c)));return o.common.async?Promise.all(s).then(l=>n(l)):n(s)}min(e,a){return new ts({...this._def,minSize:{value:e,message:Ze.toString(a)}})}max(e,a){return new ts({...this._def,maxSize:{value:e,message:Ze.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}ts.create=(t,e)=>new ts({valueType:t,minSize:null,maxSize:null,typeName:at.ZodSet,...ut(e)});class ll extends ft{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==Ie.function)return Fe(a,{code:ye.invalid_type,expected:Ie.function,received:a.parsedType}),lt;function o(s,l){return ep({data:s,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Jm(),hd].filter(c=>!!c),issueData:{code:ye.invalid_arguments,argumentsError:l}})}function r(s,l){return ep({data:s,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,Jm(),hd].filter(c=>!!c),issueData:{code:ye.invalid_return_type,returnTypeError:l}})}const i={errorMap:a.common.contextualErrorMap},n=a.data;if(this._def.returns instanceof Al){const s=this;return Wa(async function(...l){const c=new pr([]),d=await s._def.args.parseAsync(l,i).catch(v=>{throw c.addIssue(o(l,v)),c}),m=await Reflect.apply(n,this,d);return await s._def.returns._def.type.parseAsync(m,i).catch(v=>{throw c.addIssue(r(m,v)),c})})}else{const s=this;return Wa(function(...l){const c=s._def.args.safeParse(l,i);if(!c.success)throw new pr([o(l,c.error)]);const d=Reflect.apply(n,this,c.data),m=s._def.returns.safeParse(d,i);if(!m.success)throw new pr([r(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ll({...this._def,args:Nr.create(e).rest(qn.create())})}returns(e){return new ll({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,a,o){return new ll({args:e||Nr.create([]).rest(qn.create()),returns:a||qn.create(),typeName:at.ZodFunction,...ut(o)})}}class Ed extends ft{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}Ed.create=(t,e)=>new Ed({getter:t,typeName:at.ZodLazy,...ut(e)});class Sd extends ft{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return Fe(a,{received:a.data,code:ye.invalid_literal,expected:this._def.value}),lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sd.create=(t,e)=>new Sd({value:t,typeName:at.ZodLiteral,...ut(e)});function d5(t,e){return new en({values:t,typeName:at.ZodEnum,...ut(e)})}class en extends ft{_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),o=this._def.values;return Fe(a,{expected:Mt.joinValues(o),received:a.parsedType,code:ye.invalid_type}),lt}if(this._def.values.indexOf(e.data)===-1){const a=this._getOrReturnCtx(e),o=this._def.values;return Fe(a,{received:a.data,code:ye.invalid_enum_value,options:o}),lt}return Wa(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e){return en.create(e)}exclude(e){return en.create(this.options.filter(a=>!e.includes(a)))}}en.create=d5;class Cd extends ft{_parse(e){const a=Mt.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==Ie.string&&o.parsedType!==Ie.number){const r=Mt.objectValues(a);return Fe(o,{expected:Mt.joinValues(r),received:o.parsedType,code:ye.invalid_type}),lt}if(a.indexOf(e.data)===-1){const r=Mt.objectValues(a);return Fe(o,{received:o.data,code:ye.invalid_enum_value,options:r}),lt}return Wa(e.data)}get enum(){return this._def.values}}Cd.create=(t,e)=>new Cd({values:t,typeName:at.ZodNativeEnum,...ut(e)});class Al extends ft{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==Ie.promise&&a.common.async===!1)return Fe(a,{code:ye.invalid_type,expected:Ie.promise,received:a.parsedType}),lt;const o=a.parsedType===Ie.promise?a.data:Promise.resolve(a.data);return Wa(o.then(r=>this._def.type.parseAsync(r,{path:a.path,errorMap:a.common.contextualErrorMap})))}}Al.create=(t,e)=>new Al({type:t,typeName:at.ZodPromise,...ut(e)});class gr extends ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:o}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:n=>{Fe(o,n),n.fatal?a.abort():a.dirty()},get path(){return o.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const n=r.transform(o.data,i);return o.common.issues.length?{status:"dirty",value:o.data}:o.common.async?Promise.resolve(n).then(s=>this._def.schema._parseAsync({data:s,path:o.path,parent:o})):this._def.schema._parseSync({data:n,path:o.path,parent:o})}if(r.type==="refinement"){const n=s=>{const l=r.refinement(s,i);if(o.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(o.common.async===!1){const s=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?lt:(s.status==="dirty"&&a.dirty(),n(s.value),{status:a.value,value:s.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(s=>s.status==="aborted"?lt:(s.status==="dirty"&&a.dirty(),n(s.value).then(()=>({status:a.value,value:s.value}))))}if(r.type==="transform")if(o.common.async===!1){const n=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!vd(n))return n;const s=r.transform(n.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:s}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(n=>vd(n)?Promise.resolve(r.transform(n.value,i)).then(s=>({status:a.value,value:s})):n);Mt.assertNever(r)}}gr.create=(t,e,a)=>new gr({schema:t,typeName:at.ZodEffects,effect:e,...ut(a)});gr.createWithPreprocess=(t,e,a)=>new gr({schema:e,effect:{type:"preprocess",transform:t},typeName:at.ZodEffects,...ut(a)});class ii extends ft{_parse(e){return this._getType(e)===Ie.undefined?Wa(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ii.create=(t,e)=>new ii({innerType:t,typeName:at.ZodOptional,...ut(e)});class as extends ft{_parse(e){return this._getType(e)===Ie.null?Wa(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}as.create=(t,e)=>new as({innerType:t,typeName:at.ZodNullable,...ut(e)});class Ad extends ft{_parse(e){const{ctx:a}=this._processInputParams(e);let o=a.data;return a.parsedType===Ie.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}Ad.create=(t,e)=>new Ad({innerType:t,typeName:at.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ut(e)});class ip extends ft{_parse(e){const{ctx:a}=this._processInputParams(e),o={...a,common:{...a.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return tp(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pr(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new pr(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}ip.create=(t,e)=>new ip({innerType:t,typeName:at.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ut(e)});class np extends ft{_parse(e){if(this._getType(e)!==Ie.nan){const o=this._getOrReturnCtx(e);return Fe(o,{code:ye.invalid_type,expected:Ie.nan,received:o.parsedType}),lt}return{status:"valid",value:e.data}}}np.create=t=>new np({typeName:at.ZodNaN,...ut(t)});const Xz=Symbol("zod_brand");class u5 extends ft{_parse(e){const{ctx:a}=this._processInputParams(e),o=a.data;return this._def.type._parse({data:o,path:a.path,parent:a})}unwrap(){return this._def.type}}class Bd extends ft{_parse(e){const{status:a,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?lt:i.status==="dirty"?(a.dirty(),c5(i.value)):this._def.out._parseAsync({data:i.value,path:o.path,parent:o})})();{const r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?lt:r.status==="dirty"?(a.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(e,a){return new Bd({in:e,out:a,typeName:at.ZodPipeline})}}class sp extends ft{_parse(e){const a=this._def.innerType._parse(e);return vd(a)&&(a.value=Object.freeze(a.value)),a}}sp.create=(t,e)=>new sp({innerType:t,typeName:at.ZodReadonly,...ut(e)});const m5=(t,e={},a)=>t?Cl.create().superRefine((o,r)=>{var i,n;if(!t(o)){const s=typeof e=="function"?e(o):typeof e=="string"?{message:e}:e,l=(n=(i=s.fatal)!==null&&i!==void 0?i:a)!==null&&n!==void 0?n:!0,c=typeof s=="string"?{message:s}:s;r.addIssue({code:"custom",...c,fatal:l})}}):Cl.create(),Yz={object:Yt.lazycreate};var at;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(at||(at={}));const Kz=(t,e={message:`Input not instance of ${t.name}`})=>m5(a=>a instanceof t,e),p5=lr.create,f5=Qi.create,Qz=np.create,Jz=Ji.create,h5=gd.create,eN=es.create,tN=ap.create,aN=yd.create,oN=xd.create,rN=Cl.create,iN=qn.create,nN=ui.create,sN=op.create,lN=fr.create,cN=Yt.create,dN=Yt.strictCreate,uN=bd.create,mN=Tf.create,pN=_d.create,fN=Nr.create,hN=wd.create,vN=rp.create,gN=ts.create,yN=ll.create,xN=Ed.create,bN=Sd.create,_N=en.create,wN=Cd.create,EN=Al.create,Mx=gr.create,SN=ii.create,CN=as.create,AN=gr.createWithPreprocess,MN=Bd.create,RN=()=>p5().optional(),TN=()=>f5().optional(),PN=()=>h5().optional(),LN={string:t=>lr.create({...t,coerce:!0}),number:t=>Qi.create({...t,coerce:!0}),boolean:t=>gd.create({...t,coerce:!0}),bigint:t=>Ji.create({...t,coerce:!0}),date:t=>es.create({...t,coerce:!0})},DN=lt;var st=Object.freeze({__proto__:null,defaultErrorMap:hd,setErrorMap:zz,getErrorMap:Jm,makeIssue:ep,EMPTY_PATH:Nz,addIssueToContext:Fe,ParseStatus:ja,INVALID:lt,DIRTY:c5,OK:Wa,isAborted:Rg,isDirty:Tg,isValid:vd,isAsync:tp,get util(){return Mt},get objectUtil(){return Mg},ZodParsedType:Ie,getParsedType:ki,ZodType:ft,ZodString:lr,ZodNumber:Qi,ZodBigInt:Ji,ZodBoolean:gd,ZodDate:es,ZodSymbol:ap,ZodUndefined:yd,ZodNull:xd,ZodAny:Cl,ZodUnknown:qn,ZodNever:ui,ZodVoid:op,ZodArray:fr,ZodObject:Yt,ZodUnion:bd,ZodDiscriminatedUnion:Tf,ZodIntersection:_d,ZodTuple:Nr,ZodRecord:wd,ZodMap:rp,ZodSet:ts,ZodFunction:ll,ZodLazy:Ed,ZodLiteral:Sd,ZodEnum:en,ZodNativeEnum:Cd,ZodPromise:Al,ZodEffects:gr,ZodTransformer:gr,ZodOptional:ii,ZodNullable:as,ZodDefault:Ad,ZodCatch:ip,ZodNaN:np,BRAND:Xz,ZodBranded:u5,ZodPipeline:Bd,ZodReadonly:sp,custom:m5,Schema:ft,ZodSchema:ft,late:Yz,get ZodFirstPartyTypeKind(){return at},coerce:LN,any:rN,array:lN,bigint:Jz,boolean:h5,date:eN,discriminatedUnion:mN,effect:Mx,enum:_N,function:yN,instanceof:Kz,intersection:pN,lazy:xN,literal:bN,map:vN,nan:Qz,nativeEnum:wN,never:nN,null:oN,nullable:CN,number:f5,object:cN,oboolean:PN,onumber:TN,optional:SN,ostring:RN,pipeline:MN,preprocess:AN,promise:EN,record:hN,set:gN,strictObject:dN,string:p5,symbol:tN,transformer:Mx,tuple:fN,undefined:aN,union:uN,unknown:iN,void:sN,NEVER:DN,ZodIssueCode:ye,quotelessJson:kz,ZodError:pr});const v5=st.object({id:st.string()}),$d=v5.extend({nome:st.string(),descricao:st.optional(st.string()).default("")});var g5=(t=>(t.ARMADURA="armadura",t.CAVALO="cavalo",t.ELMO="elmo",t.PROFESSOR="professor",t.PROIBIDO="proibido",t.NORMAL="normal",t))(g5||{}),y5=(t=>(t.CARPINTARIA="Carpintaria",t))(y5||{});const Rx=$d.extend({valor:st.string(),idAtributo:st.nativeEnum(y5),modificador:st.optional(st.nativeEnum(g5))});var x1=(t=>(t.FORCA="Força",t))(x1||{});$d.extend({idAtributo:st.nativeEnum(x1),valor:st.string()});var Bo=(t=>(t.ANAO="anao",t.ELFO_DOURADO="elfo_dourado",t.ELFO_FLORESTAL="elfo_florestal",t.HUMANO="humano",t.MEIO_ELFO="meio_elfo",t.PEQUENINO="pequenino",t))(Bo||{});const IN=$d.extend({racaId:st.nativeEnum(Bo),aura:st.number(),peso:st.number(),modificadores:st.array(st.object({idAtributo:st.nativeEnum(x1),valor:st.number()}))});var Mr=(t=>(t.BARDO="bardo",t.GUERREIRO="guerreiro",t.LADINO="ladino",t.MAGO="mago",t.RASTREADOR="rastreador",t.SACERDOTE="sacerdote",t))(Mr||{});$d.extend({ehBasica:st.boolean(),habilidadeIdAperfeicoada:Rx,racasNaoPermitidas:st.array(IN),pontosAquisicaoHabilidade:st.number(),cdTipoHabilidadePenalizada:st.optional(st.array(Rx))});const ON=[{id:"asdf",nome:"Nome 1",profissao:Mr.BARDO,descricao:"",narrador:"narrador fulano",nivel:2,xp:20,raca:Bo.ELFO_DOURADO,criacao:new Date,atributos:new Map,habilidades:new Map},{id:"asdf2",nome:"Nome 2",profissao:Mr.MAGO,descricao:"",narrador:"narrador cicrano",nivel:3,xp:30,raca:Bo.HUMANO,criacao:new Date,atributos:new Map,habilidades:new Map,isFavorito:!0},{id:"asdf3",nome:"Nome 3",profissao:Mr.GUERREIRO,descricao:"",narrador:"narrador beltrano",nivel:4,xp:40,raca:Bo.ANAO,criacao:new Date,atributos:new Map,habilidades:new Map}],x5=Sz({name:"fichas",initialState:{list:ON},reducers:t=>({create:t.reducer((e,a)=>{e.list.push(a.payload)}),update:t.reducer((e,a)=>{for(const o of a.payload){const r=e.list.findIndex(i=>i.id===o.id);r>-1&&(e.list[r]=o)}}),delete_:t.reducer((e,a)=>{for(const o of a.payload){const r=e.list.findIndex(i=>i.id===o);r>-1&&e.list.splice(r,1)}})})}),kN=x5.reducer,{create:zN,update:NN,delete_:FN}=x5.actions,b5=()=>{const t=Tk(),{list:e}=Pk(n=>n.fichas);function a(n){t(zN(n))}function o(n){const s=xh(n);return e.filter(l=>s.findIndex(c=>l.id===c)!==-1)}function r(n){t(NN(xh(n)))}function i(n){t(FN(xh(n)))}return{list:e,read:o,update:r,delete_:i,create:a}},ar=({children:t})=>M.jsx(ao,{variant:"body2",children:t}),qN=()=>{const{list:t}=b5();return M.jsxs(d1,{children:[M.jsx(mm,{children:M.jsx(xg,{primary:"Tagmar"})}),M.jsx(gg,{}),M.jsxs(mm,{children:[M.jsx(vg,{children:"F"}),M.jsx(xg,{primary:"Fulano de tal"})]}),M.jsx(mm,{children:M.jsx(I4,{children:M.jsxs(ar,{children:["fulano@gmail.com - ",t.length," fichas"]})})})]})},jN=Qa(M.jsx("path",{d:"m20 7 .94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06-2.06.94 2.06.94.94 2.06.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38-2.83-2.83c-.2-.19-.45-.29-.71-.29-.26 0-.51.1-.71.29L2.29 17.46c-.39.39-.39 1.02 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42m-3.54-.7 1.41 1.41L14.41 11 13 9.59zM5.83 19.59l-1.41-1.41L11.59 11 13 12.41z"}),"AutoFixHighOutlined"),BN=Qa(M.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino"),$N=Qa(M.jsx("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined"),UN=Qa(M.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),VN=Qa(M.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),HN=Qa(M.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),WN=Qa(M.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M10 5.47l4 1.4v11.66l-4-1.4zm-5 .99 3-1.01v11.7l-3 1.16zm14 11.08-3 1.01V6.86l3-1.16z"}),"MapOutlined"),GN=Qa(M.jsx("path",{d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 0c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m6 5H3v-.99C3.2 16.29 6.3 15 9 15s5.8 1.29 6 2z"}),"PeopleAltOutlined"),ZN=Qa(M.jsx("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonOutlined"),XN=Qa(M.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchOutlined"),YN=Qa(M.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),KN=Qa(M.jsx("path",{d:"M18.93 8C16.72 4.18 11.82 2.87 8 5.07c-1.41.82-2.48 2-3.16 3.37-.13-2.2.22-4.4 1.02-6.44H3.74C2.2 6.49 2.52 11.58 5.07 16c1.1 1.91 2.88 3.19 4.86 3.72 1.98.53 4.16.31 6.07-.79 1.41-.82 2.48-2 3.16-3.37.13 2.2-.21 4.4-1.01 6.44h2.11c1.53-4.49 1.22-9.58-1.33-14M15 17.2c-2.87 1.65-6.54.67-8.2-2.2-.11-.2-.21-.4-.3-.6-1.2-2.76-.17-6.06 2.5-7.6 2.86-1.65 6.54-.67 8.2 2.2.11.2.21.4.3.6 1.2 2.76.17 6.06-2.5 7.6M12 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"StormOutlined");var lp;(t=>{t.gameMenu=[{text:"Fichas",icon:GN,path:Xt.FICHAS},{text:"Ficha atual",icon:ZN,path:Xt.FICHA},{text:"Dado",icon:BN,path:Xt.DADO},{text:"Magias",icon:jN,path:Xt.MAGIAS},{text:"Habilidades",icon:KN,path:Xt.HABILIDADES},{text:"Mapas",icon:WN,path:Xt.MAPAS}],t.appMenu=[{text:"Configurações",icon:YN,path:Xt.CONFIGURACOES},{text:"Sobre",icon:HN,path:Xt.SOBRE}]})(lp||(lp={}));const Tx=({list:t})=>{const{pathname:e}=ss(),a=e;return M.jsx(d1,{children:t.map(({text:o,icon:r,path:i})=>M.jsx(mm,{children:M.jsxs(I4,{component:Aw,to:i,disabled:i===a,children:[M.jsx(zI,{children:M.jsx(r,{})}),M.jsx(xg,{primary:o})]})},o))})},Px=()=>M.jsxs(M.Fragment,{children:[M.jsx(qN,{}),M.jsx(gg,{}),M.jsx(Tx,{list:lp.gameMenu}),M.jsx(gg,{}),M.jsx(Tx,{list:lp.appMenu})]}),QN={width:{sm:Eo.DRAWER_WIDTH},flexShrink:{sm:0}},_5={boxSizing:"border-box",width:Eo.DRAWER_WIDTH},JN={display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":_5},eF={display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":_5},tF=()=>{const[t,e]=C.useState(!1),[a,o]=C.useState(!1),r=()=>{e(!0),o(!1)},i=()=>{e(!1)},n=()=>{t||o(!a)};return M.jsxs(Ta,{onClick:n,children:[M.jsx(YP,{}),M.jsx(Rk,{onMenu:n}),M.jsxs(Ta,{sx:QN,children:[M.jsx(Qy,{variant:"temporary",open:a,onTransitionEnd:i,onClose:r,ModalProps:{keepMounted:!0},sx:JN,children:M.jsx(Px,{})}),M.jsx(Qy,{variant:"permanent",sx:eF,open:!0,children:M.jsx(Px,{})})]})]})},aF={flexGrow:1,width:{sm:`calc(100% - ${Eo.DRAWER_WIDTH}px)`}};function oF(){return M.jsx(Ta,{sx:{display:"flex",flexFlow:"column"},children:M.jsxs(Ta,{sx:{display:"flex"},children:[M.jsx(tF,{}),M.jsxs(Ta,{sx:aF,height:"100vh",display:"flex",component:"main",flexDirection:"column",children:[M.jsx(U4,{}),M.jsx(Ta,{sx:{flex:1,display:"flex"},children:M.jsx(fM,{})})]})]})})}var b1={},rF=sn;Object.defineProperty(b1,"__esModule",{value:!0});var w5=b1.default=void 0,iF=rF(ln()),nF=M;w5=b1.default=(0,iF.default)((0,nF.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");function sF(t){const{children:e}=t,a=H4({target:window??void 0,disableHysteresis:!0,threshold:100}),o=r=>{const i=(r.target.ownerDocument||document).querySelector("#back-to-top-anchor");i&&i.scrollIntoView({block:"center"})};return M.jsx(g4,{in:a,children:M.jsx(Ta,{onClick:o,role:"presentation",sx:{position:"fixed",bottom:16,right:16},children:e})})}const yr=({children:t,bg:e})=>M.jsxs(Ta,{sx:{flex:1,display:"flex",backgroundImage:e,flexDirection:"column",backgroundSize:"cover",padding:Eo.CSS.padding.page,backgroundRepeat:"no-repeat"},children:[M.jsx("div",{id:"back-to-top-anchor"}),t,M.jsx(sF,{children:M.jsx(RL,{size:"small","aria-label":"scroll back to top",color:"primary",children:M.jsx(w5,{})})})]});var B3,$3;const Lx={backgroundColor:($3=(B3=jd.palette)==null?void 0:B3.background)==null?void 0:$3.paper,borderRadius:10,justifyContent:"space-between",paddingLeft:"16px"},lF=()=>{const[t,e]=C.useState({magiaExata:!0,agruparMagias:!1}),a=o=>{e({...t,[o.target.name]:o.target.checked})};return M.jsx(yr,{children:M.jsxs(c1,{component:"fieldset",variant:"standard",children:[M.jsx(A4,{component:"legend",children:"Ainda não funcional"}),M.jsxs(QL,{sx:{maxWidth:400,gap:"10px",paddingTop:"20px"},children:[M.jsx(ex,{sx:Lx,labelPlacement:"start",control:M.jsx(fx,{checked:t.magiaExata,onChange:a,name:"magiaExata"}),label:"Buscar magias pelo nome exato"}),M.jsx(ex,{sx:Lx,labelPlacement:"start",control:M.jsx(fx,{checked:t.agruparMagias,onChange:a,name:"agruparMagias"}),label:"Agrupar magias"})]})]})})};var cF=Object.defineProperty,dF=(t,e,a)=>e in t?cF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,uF=(t,e,a)=>(dF(t,typeof e!="symbol"?e+"":e,a),a);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _1="143",Qr="srgb",Pn="srgb-linear",Dx="300 es";class Ol{addEventListener(e,a){this._listeners===void 0&&(this._listeners={});const o=this._listeners;o[e]===void 0&&(o[e]=[]),o[e].indexOf(a)===-1&&o[e].push(a)}hasEventListener(e,a){if(this._listeners===void 0)return!1;const o=this._listeners;return o[e]!==void 0&&o[e].indexOf(a)!==-1}removeEventListener(e,a){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const r=o.indexOf(a);r!==-1&&o.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const a=this._listeners[e.type];if(a!==void 0){e.target=this;const o=a.slice(0);for(let r=0,i=o.length;r<i;r++)o[r].call(this,e);e.target=null}}}const Oa=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Sh=Math.PI/180,Lg=180/Math.PI;function Ud(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,a=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return(Oa[t&255]+Oa[t>>8&255]+Oa[t>>16&255]+Oa[t>>24&255]+"-"+Oa[e&255]+Oa[e>>8&255]+"-"+Oa[e>>16&15|64]+Oa[e>>24&255]+"-"+Oa[a&63|128]+Oa[a>>8&255]+"-"+Oa[a>>16&255]+Oa[a>>24&255]+Oa[o&255]+Oa[o>>8&255]+Oa[o>>16&255]+Oa[o>>24&255]).toLowerCase()}function vo(t,e,a){return Math.max(e,Math.min(a,t))}function mF(t,e){return(t%e+e)%e}function Ch(t,e,a){return(1-a)*t+a*e}function Ix(t){return(t&t-1)===0&&t!==0}function Dg(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}class St{constructor(e=0,a=0){St.prototype.isVector2=!0,this.x=e,this.y=a}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,a){return this.x=e,this.y=a,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const a=this.x,o=this.y,r=e.elements;return this.x=r[0]*a+r[3]*o+r[6],this.y=r[1]*a+r[4]*o+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,a){return this.x=Math.max(e.x,Math.min(a.x,this.x)),this.y=Math.max(e.y,Math.min(a.y,this.y)),this}clampScalar(e,a){return this.x=Math.max(e,Math.min(a,this.x)),this.y=Math.max(e,Math.min(a,this.y)),this}clampLength(e,a){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(a,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const a=this.x-e.x,o=this.y-e.y;return a*a+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this}lerpVectors(e,a,o){return this.x=e.x+(a.x-e.x)*o,this.y=e.y+(a.y-e.y)*o,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this}rotateAround(e,a){const o=Math.cos(a),r=Math.sin(a),i=this.x-e.x,n=this.y-e.y;return this.x=i*o-n*r+e.x,this.y=i*r+n*o+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Vo{constructor(){Vo.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,a,o,r,i,n,s,l,c){const d=this.elements;return d[0]=e,d[1]=r,d[2]=s,d[3]=a,d[4]=i,d[5]=l,d[6]=o,d[7]=n,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const a=this.elements,o=e.elements;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],this}extractBasis(e,a,o){return e.setFromMatrix3Column(this,0),a.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const a=e.elements;return this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,a){const o=e.elements,r=a.elements,i=this.elements,n=o[0],s=o[3],l=o[6],c=o[1],d=o[4],m=o[7],u=o[2],v=o[5],h=o[8],p=r[0],f=r[3],g=r[6],y=r[1],x=r[4],b=r[7],w=r[2],_=r[5],S=r[8];return i[0]=n*p+s*y+l*w,i[3]=n*f+s*x+l*_,i[6]=n*g+s*b+l*S,i[1]=c*p+d*y+m*w,i[4]=c*f+d*x+m*_,i[7]=c*g+d*b+m*S,i[2]=u*p+v*y+h*w,i[5]=u*f+v*x+h*_,i[8]=u*g+v*b+h*S,this}multiplyScalar(e){const a=this.elements;return a[0]*=e,a[3]*=e,a[6]*=e,a[1]*=e,a[4]*=e,a[7]*=e,a[2]*=e,a[5]*=e,a[8]*=e,this}determinant(){const e=this.elements,a=e[0],o=e[1],r=e[2],i=e[3],n=e[4],s=e[5],l=e[6],c=e[7],d=e[8];return a*n*d-a*s*c-o*i*d+o*s*l+r*i*c-r*n*l}invert(){const e=this.elements,a=e[0],o=e[1],r=e[2],i=e[3],n=e[4],s=e[5],l=e[6],c=e[7],d=e[8],m=d*n-s*c,u=s*l-d*i,v=c*i-n*l,h=a*m+o*u+r*v;if(h===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/h;return e[0]=m*p,e[1]=(r*c-d*o)*p,e[2]=(s*o-r*n)*p,e[3]=u*p,e[4]=(d*a-r*l)*p,e[5]=(r*i-s*a)*p,e[6]=v*p,e[7]=(o*l-c*a)*p,e[8]=(n*a-o*i)*p,this}transpose(){let e;const a=this.elements;return e=a[1],a[1]=a[3],a[3]=e,e=a[2],a[2]=a[6],a[6]=e,e=a[5],a[5]=a[7],a[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const a=this.elements;return e[0]=a[0],e[1]=a[3],e[2]=a[6],e[3]=a[1],e[4]=a[4],e[5]=a[7],e[6]=a[2],e[7]=a[5],e[8]=a[8],this}setUvTransform(e,a,o,r,i,n,s){const l=Math.cos(i),c=Math.sin(i);return this.set(o*l,o*c,-o*(l*n+c*s)+n+e,-r*c,r*l,-r*(-c*n+l*s)+s+a,0,0,1),this}scale(e,a){const o=this.elements;return o[0]*=e,o[3]*=e,o[6]*=e,o[1]*=a,o[4]*=a,o[7]*=a,this}rotate(e){const a=Math.cos(e),o=Math.sin(e),r=this.elements,i=r[0],n=r[3],s=r[6],l=r[1],c=r[4],d=r[7];return r[0]=a*i+o*l,r[3]=a*n+o*c,r[6]=a*s+o*d,r[1]=-o*i+a*l,r[4]=-o*n+a*c,r[7]=-o*s+a*d,this}translate(e,a){const o=this.elements;return o[0]+=e*o[2],o[3]+=e*o[5],o[6]+=e*o[8],o[1]+=a*o[2],o[4]+=a*o[5],o[7]+=a*o[8],this}equals(e){const a=this.elements,o=e.elements;for(let r=0;r<9;r++)if(a[r]!==o[r])return!1;return!0}fromArray(e,a=0){for(let o=0;o<9;o++)this.elements[o]=e[o+a];return this}toArray(e=[],a=0){const o=this.elements;return e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2],e[a+3]=o[3],e[a+4]=o[4],e[a+5]=o[5],e[a+6]=o[6],e[a+7]=o[7],e[a+8]=o[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function E5(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function cp(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function jn(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function fm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const Ah={[Qr]:{[Pn]:jn},[Pn]:{[Qr]:fm}},Ko={legacyMode:!0,get workingColorSpace(){return Pn},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,a){if(this.legacyMode||e===a||!e||!a)return t;if(Ah[e]&&Ah[e][a]!==void 0){const o=Ah[e][a];return t.r=o(t.r),t.g=o(t.g),t.b=o(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},S5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},va={r:0,g:0,b:0},Qo={h:0,s:0,l:0},_u={h:0,s:0,l:0};function Mh(t,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(e-t)*6*a:a<1/2?e:a<2/3?t+(e-t)*6*(2/3-a):t}function wu(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class Et{constructor(e,a,o){return this.isColor=!0,this.r=1,this.g=1,this.b=1,a===void 0&&o===void 0?this.set(e):this.setRGB(e,a,o)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,a=Qr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ko.toWorkingColorSpace(this,a),this}setRGB(e,a,o,r=Pn){return this.r=e,this.g=a,this.b=o,Ko.toWorkingColorSpace(this,r),this}setHSL(e,a,o,r=Pn){if(e=mF(e,1),a=vo(a,0,1),o=vo(o,0,1),a===0)this.r=this.g=this.b=o;else{const i=o<=.5?o*(1+a):o+a-o*a,n=2*o-i;this.r=Mh(n,i,e+1/3),this.g=Mh(n,i,e),this.b=Mh(n,i,e-1/3)}return Ko.toWorkingColorSpace(this,r),this}setStyle(e,a=Qr){function o(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i;const n=r[1],s=r[2];switch(n){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,Ko.toWorkingColorSpace(this,a),o(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,Ko.toWorkingColorSpace(this,a),o(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const l=parseFloat(i[1])/360,c=parseInt(i[2],10)/100,d=parseInt(i[3],10)/100;return o(i[4]),this.setHSL(l,c,d,a)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const i=r[1],n=i.length;if(n===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,Ko.toWorkingColorSpace(this,a),this;if(n===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,Ko.toWorkingColorSpace(this,a),this}return e&&e.length>0?this.setColorName(e,a):this}setColorName(e,a=Qr){const o=S5[e.toLowerCase()];return o!==void 0?this.setHex(o,a):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=jn(e.r),this.g=jn(e.g),this.b=jn(e.b),this}copyLinearToSRGB(e){return this.r=fm(e.r),this.g=fm(e.g),this.b=fm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Qr){return Ko.fromWorkingColorSpace(wu(this,va),e),vo(va.r*255,0,255)<<16^vo(va.g*255,0,255)<<8^vo(va.b*255,0,255)<<0}getHexString(e=Qr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,a=Pn){Ko.fromWorkingColorSpace(wu(this,va),a);const o=va.r,r=va.g,i=va.b,n=Math.max(o,r,i),s=Math.min(o,r,i);let l,c;const d=(s+n)/2;if(s===n)l=0,c=0;else{const m=n-s;switch(c=d<=.5?m/(n+s):m/(2-n-s),n){case o:l=(r-i)/m+(r<i?6:0);break;case r:l=(i-o)/m+2;break;case i:l=(o-r)/m+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,a=Pn){return Ko.fromWorkingColorSpace(wu(this,va),a),e.r=va.r,e.g=va.g,e.b=va.b,e}getStyle(e=Qr){return Ko.fromWorkingColorSpace(wu(this,va),e),e!==Qr?`color(${e} ${va.r} ${va.g} ${va.b})`:`rgb(${va.r*255|0},${va.g*255|0},${va.b*255|0})`}offsetHSL(e,a,o){return this.getHSL(Qo),Qo.h+=e,Qo.s+=a,Qo.l+=o,this.setHSL(Qo.h,Qo.s,Qo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,a){return this.r=e.r+a.r,this.g=e.g+a.g,this.b=e.b+a.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,a){return this.r+=(e.r-this.r)*a,this.g+=(e.g-this.g)*a,this.b+=(e.b-this.b)*a,this}lerpColors(e,a,o){return this.r=e.r+(a.r-e.r)*o,this.g=e.g+(a.g-e.g)*o,this.b=e.b+(a.b-e.b)*o,this}lerpHSL(e,a){this.getHSL(Qo),e.getHSL(_u);const o=Ch(Qo.h,_u.h,a),r=Ch(Qo.s,_u.s,a),i=Ch(Qo.l,_u.l,a);return this.setHSL(o,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,a=0){return this.r=e[a],this.g=e[a+1],this.b=e[a+2],this}toArray(e=[],a=0){return e[a]=this.r,e[a+1]=this.g,e[a+2]=this.b,e}fromBufferAttribute(e,a){return this.r=e.getX(a),this.g=e.getY(a),this.b=e.getZ(a),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Et.NAMES=S5;let gs;class C5{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let a;if(e instanceof HTMLCanvasElement)a=e;else{gs===void 0&&(gs=cp("canvas")),gs.width=e.width,gs.height=e.height;const o=gs.getContext("2d");e instanceof ImageData?o.putImageData(e,0,0):o.drawImage(e,0,0,e.width,e.height),a=gs}return a.width>2048||a.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),a.toDataURL("image/jpeg",.6)):a.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const a=cp("canvas");a.width=e.width,a.height=e.height;const o=a.getContext("2d");o.drawImage(e,0,0,e.width,e.height);const r=o.getImageData(0,0,e.width,e.height),i=r.data;for(let n=0;n<i.length;n++)i[n]=jn(i[n]/255)*255;return o.putImageData(r,0,0),a}else if(e.data){const a=e.data.slice(0);for(let o=0;o<a.length;o++)a instanceof Uint8Array||a instanceof Uint8ClampedArray?a[o]=Math.floor(jn(a[o]/255)*255):a[o]=jn(a[o]);return{data:a,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class A5{constructor(e=null){this.isSource=!0,this.uuid=Ud(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const a=e===void 0||typeof e=="string";if(!a&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const o={uuid:this.uuid,url:""},r=this.data;if(r!==null){let i;if(Array.isArray(r)){i=[];for(let n=0,s=r.length;n<s;n++)r[n].isDataTexture?i.push(Rh(r[n].image)):i.push(Rh(r[n]))}else i=Rh(r);o.url=i}return a||(e.images[this.uuid]=o),o}}function Rh(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?C5.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let pF=0;class Mo extends Ol{constructor(e=Mo.DEFAULT_IMAGE,a=Mo.DEFAULT_MAPPING,o=1001,r=1001,i=1006,n=1008,s=1023,l=1009,c=1,d=3e3){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pF++}),this.uuid=Ud(),this.name="",this.source=new A5(e),this.mipmaps=[],this.mapping=a,this.wrapS=o,this.wrapT=r,this.magFilter=i,this.minFilter=n,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new St(0,0),this.repeat=new St(1,1),this.center=new St(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Vo,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const a=e===void 0||typeof e=="string";if(!a&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const o={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData),a||(e.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Mo.DEFAULT_IMAGE=null;Mo.DEFAULT_MAPPING=300;class ba{constructor(e=0,a=0,o=0,r=1){ba.prototype.isVector4=!0,this.x=e,this.y=a,this.z=o,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,a,o,r){return this.x=e,this.y=a,this.z=o,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;case 3:this.w=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this.z=e.z+a.z,this.w=e.w+a.w,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this.z+=e.z*a,this.w+=e.w*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this.z=e.z-a.z,this.w=e.w-a.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const a=this.x,o=this.y,r=this.z,i=this.w,n=e.elements;return this.x=n[0]*a+n[4]*o+n[8]*r+n[12]*i,this.y=n[1]*a+n[5]*o+n[9]*r+n[13]*i,this.z=n[2]*a+n[6]*o+n[10]*r+n[14]*i,this.w=n[3]*a+n[7]*o+n[11]*r+n[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const a=Math.sqrt(1-e.w*e.w);return a<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/a,this.y=e.y/a,this.z=e.z/a),this}setAxisAngleFromRotationMatrix(e){let a,o,r,i;const n=e.elements,s=n[0],l=n[4],c=n[8],d=n[1],m=n[5],u=n[9],v=n[2],h=n[6],p=n[10];if(Math.abs(l-d)<.01&&Math.abs(c-v)<.01&&Math.abs(u-h)<.01){if(Math.abs(l+d)<.1&&Math.abs(c+v)<.1&&Math.abs(u+h)<.1&&Math.abs(s+m+p-3)<.1)return this.set(1,0,0,0),this;a=Math.PI;const g=(s+1)/2,y=(m+1)/2,x=(p+1)/2,b=(l+d)/4,w=(c+v)/4,_=(u+h)/4;return g>y&&g>x?g<.01?(o=0,r=.707106781,i=.707106781):(o=Math.sqrt(g),r=b/o,i=w/o):y>x?y<.01?(o=.707106781,r=0,i=.707106781):(r=Math.sqrt(y),o=b/r,i=_/r):x<.01?(o=.707106781,r=.707106781,i=0):(i=Math.sqrt(x),o=w/i,r=_/i),this.set(o,r,i,a),this}let f=Math.sqrt((h-u)*(h-u)+(c-v)*(c-v)+(d-l)*(d-l));return Math.abs(f)<.001&&(f=1),this.x=(h-u)/f,this.y=(c-v)/f,this.z=(d-l)/f,this.w=Math.acos((s+m+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,a){return this.x=Math.max(e.x,Math.min(a.x,this.x)),this.y=Math.max(e.y,Math.min(a.y,this.y)),this.z=Math.max(e.z,Math.min(a.z,this.z)),this.w=Math.max(e.w,Math.min(a.w,this.w)),this}clampScalar(e,a){return this.x=Math.max(e,Math.min(a,this.x)),this.y=Math.max(e,Math.min(a,this.y)),this.z=Math.max(e,Math.min(a,this.z)),this.w=Math.max(e,Math.min(a,this.w)),this}clampLength(e,a){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(a,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this.z+=(e.z-this.z)*a,this.w+=(e.w-this.w)*a,this}lerpVectors(e,a,o){return this.x=e.x+(a.x-e.x)*o,this.y=e.y+(a.y-e.y)*o,this.z=e.z+(a.z-e.z)*o,this.w=e.w+(a.w-e.w)*o,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this.z=e[a+2],this.w=e[a+3],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e[a+2]=this.z,e[a+3]=this.w,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this.z=e.getZ(a),this.w=e.getW(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class os extends Ol{constructor(e,a,o={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=a,this.depth=1,this.scissor=new ba(0,0,e,a),this.scissorTest=!1,this.viewport=new ba(0,0,e,a);const r={width:e,height:a,depth:1};this.texture=new Mo(r,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.internalFormat=o.internalFormat!==void 0?o.internalFormat:null,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:1006,this.depthBuffer=o.depthBuffer!==void 0?o.depthBuffer:!0,this.stencilBuffer=o.stencilBuffer!==void 0?o.stencilBuffer:!1,this.depthTexture=o.depthTexture!==void 0?o.depthTexture:null,this.samples=o.samples!==void 0?o.samples:0}setSize(e,a,o=1){(this.width!==e||this.height!==a||this.depth!==o)&&(this.width=e,this.height=a,this.depth=o,this.texture.image.width=e,this.texture.image.height=a,this.texture.image.depth=o,this.dispose()),this.viewport.set(0,0,e,a),this.scissor.set(0,0,e,a)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const a=Object.assign({},e.texture.image);return this.texture.source=new A5(a),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class M5 extends Mo{constructor(e=null,a=1,o=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:a,height:o,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fF extends Mo{constructor(e=null,a=1,o=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:a,height:o,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vd{constructor(e=0,a=0,o=0,r=1){this.isQuaternion=!0,this._x=e,this._y=a,this._z=o,this._w=r}static slerpFlat(e,a,o,r,i,n,s){let l=o[r+0],c=o[r+1],d=o[r+2],m=o[r+3];const u=i[n+0],v=i[n+1],h=i[n+2],p=i[n+3];if(s===0){e[a+0]=l,e[a+1]=c,e[a+2]=d,e[a+3]=m;return}if(s===1){e[a+0]=u,e[a+1]=v,e[a+2]=h,e[a+3]=p;return}if(m!==p||l!==u||c!==v||d!==h){let f=1-s;const g=l*u+c*v+d*h+m*p,y=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){const w=Math.sqrt(x),_=Math.atan2(w,g*y);f=Math.sin(f*_)/w,s=Math.sin(s*_)/w}const b=s*y;if(l=l*f+u*b,c=c*f+v*b,d=d*f+h*b,m=m*f+p*b,f===1-s){const w=1/Math.sqrt(l*l+c*c+d*d+m*m);l*=w,c*=w,d*=w,m*=w}}e[a]=l,e[a+1]=c,e[a+2]=d,e[a+3]=m}static multiplyQuaternionsFlat(e,a,o,r,i,n){const s=o[r],l=o[r+1],c=o[r+2],d=o[r+3],m=i[n],u=i[n+1],v=i[n+2],h=i[n+3];return e[a]=s*h+d*m+l*v-c*u,e[a+1]=l*h+d*u+c*m-s*v,e[a+2]=c*h+d*v+s*u-l*m,e[a+3]=d*h-s*m-l*u-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,a,o,r){return this._x=e,this._y=a,this._z=o,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,a){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const o=e._x,r=e._y,i=e._z,n=e._order,s=Math.cos,l=Math.sin,c=s(o/2),d=s(r/2),m=s(i/2),u=l(o/2),v=l(r/2),h=l(i/2);switch(n){case"XYZ":this._x=u*d*m+c*v*h,this._y=c*v*m-u*d*h,this._z=c*d*h+u*v*m,this._w=c*d*m-u*v*h;break;case"YXZ":this._x=u*d*m+c*v*h,this._y=c*v*m-u*d*h,this._z=c*d*h-u*v*m,this._w=c*d*m+u*v*h;break;case"ZXY":this._x=u*d*m-c*v*h,this._y=c*v*m+u*d*h,this._z=c*d*h+u*v*m,this._w=c*d*m-u*v*h;break;case"ZYX":this._x=u*d*m-c*v*h,this._y=c*v*m+u*d*h,this._z=c*d*h-u*v*m,this._w=c*d*m+u*v*h;break;case"YZX":this._x=u*d*m+c*v*h,this._y=c*v*m+u*d*h,this._z=c*d*h-u*v*m,this._w=c*d*m-u*v*h;break;case"XZY":this._x=u*d*m-c*v*h,this._y=c*v*m-u*d*h,this._z=c*d*h+u*v*m,this._w=c*d*m+u*v*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+n)}return a!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,a){const o=a/2,r=Math.sin(o);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(e){const a=e.elements,o=a[0],r=a[4],i=a[8],n=a[1],s=a[5],l=a[9],c=a[2],d=a[6],m=a[10],u=o+s+m;if(u>0){const v=.5/Math.sqrt(u+1);this._w=.25/v,this._x=(d-l)*v,this._y=(i-c)*v,this._z=(n-r)*v}else if(o>s&&o>m){const v=2*Math.sqrt(1+o-s-m);this._w=(d-l)/v,this._x=.25*v,this._y=(r+n)/v,this._z=(i+c)/v}else if(s>m){const v=2*Math.sqrt(1+s-o-m);this._w=(i-c)/v,this._x=(r+n)/v,this._y=.25*v,this._z=(l+d)/v}else{const v=2*Math.sqrt(1+m-o-s);this._w=(n-r)/v,this._x=(i+c)/v,this._y=(l+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,a){let o=e.dot(a)+1;return o<Number.EPSILON?(o=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=o):(this._x=0,this._y=-e.z,this._z=e.y,this._w=o)):(this._x=e.y*a.z-e.z*a.y,this._y=e.z*a.x-e.x*a.z,this._z=e.x*a.y-e.y*a.x,this._w=o),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(vo(this.dot(e),-1,1)))}rotateTowards(e,a){const o=this.angleTo(e);if(o===0)return this;const r=Math.min(1,a/o);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,a){const o=e._x,r=e._y,i=e._z,n=e._w,s=a._x,l=a._y,c=a._z,d=a._w;return this._x=o*d+n*s+r*c-i*l,this._y=r*d+n*l+i*s-o*c,this._z=i*d+n*c+o*l-r*s,this._w=n*d-o*s-r*l-i*c,this._onChangeCallback(),this}slerp(e,a){if(a===0)return this;if(a===1)return this.copy(e);const o=this._x,r=this._y,i=this._z,n=this._w;let s=n*e._w+o*e._x+r*e._y+i*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=n,this._x=o,this._y=r,this._z=i,this;const l=1-s*s;if(l<=Number.EPSILON){const v=1-a;return this._w=v*n+a*this._w,this._x=v*o+a*this._x,this._y=v*r+a*this._y,this._z=v*i+a*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,s),m=Math.sin((1-a)*d)/c,u=Math.sin(a*d)/c;return this._w=n*m+this._w*u,this._x=o*m+this._x*u,this._y=r*m+this._y*u,this._z=i*m+this._z*u,this._onChangeCallback(),this}slerpQuaternions(e,a,o){return this.copy(e).slerp(a,o)}random(){const e=Math.random(),a=Math.sqrt(1-e),o=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(a*Math.cos(r),o*Math.sin(i),o*Math.cos(i),a*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,a=0){return this._x=e[a],this._y=e[a+1],this._z=e[a+2],this._w=e[a+3],this._onChangeCallback(),this}toArray(e=[],a=0){return e[a]=this._x,e[a+1]=this._y,e[a+2]=this._z,e[a+3]=this._w,e}fromBufferAttribute(e,a){return this._x=e.getX(a),this._y=e.getY(a),this._z=e.getZ(a),this._w=e.getW(a),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,a=0,o=0){J.prototype.isVector3=!0,this.x=e,this.y=a,this.z=o}set(e,a,o){return o===void 0&&(o=this.z),this.x=e,this.y=a,this.z=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,a){switch(e){case 0:this.x=a;break;case 1:this.y=a;break;case 2:this.z=a;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,a){return this.x=e.x+a.x,this.y=e.y+a.y,this.z=e.z+a.z,this}addScaledVector(e,a){return this.x+=e.x*a,this.y+=e.y*a,this.z+=e.z*a,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,a){return this.x=e.x-a.x,this.y=e.y-a.y,this.z=e.z-a.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,a){return this.x=e.x*a.x,this.y=e.y*a.y,this.z=e.z*a.z,this}applyEuler(e){return this.applyQuaternion(Ox.setFromEuler(e))}applyAxisAngle(e,a){return this.applyQuaternion(Ox.setFromAxisAngle(e,a))}applyMatrix3(e){const a=this.x,o=this.y,r=this.z,i=e.elements;return this.x=i[0]*a+i[3]*o+i[6]*r,this.y=i[1]*a+i[4]*o+i[7]*r,this.z=i[2]*a+i[5]*o+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const a=this.x,o=this.y,r=this.z,i=e.elements,n=1/(i[3]*a+i[7]*o+i[11]*r+i[15]);return this.x=(i[0]*a+i[4]*o+i[8]*r+i[12])*n,this.y=(i[1]*a+i[5]*o+i[9]*r+i[13])*n,this.z=(i[2]*a+i[6]*o+i[10]*r+i[14])*n,this}applyQuaternion(e){const a=this.x,o=this.y,r=this.z,i=e.x,n=e.y,s=e.z,l=e.w,c=l*a+n*r-s*o,d=l*o+s*a-i*r,m=l*r+i*o-n*a,u=-i*a-n*o-s*r;return this.x=c*l+u*-i+d*-s-m*-n,this.y=d*l+u*-n+m*-i-c*-s,this.z=m*l+u*-s+c*-n-d*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const a=this.x,o=this.y,r=this.z,i=e.elements;return this.x=i[0]*a+i[4]*o+i[8]*r,this.y=i[1]*a+i[5]*o+i[9]*r,this.z=i[2]*a+i[6]*o+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,a){return this.x=Math.max(e.x,Math.min(a.x,this.x)),this.y=Math.max(e.y,Math.min(a.y,this.y)),this.z=Math.max(e.z,Math.min(a.z,this.z)),this}clampScalar(e,a){return this.x=Math.max(e,Math.min(a,this.x)),this.y=Math.max(e,Math.min(a,this.y)),this.z=Math.max(e,Math.min(a,this.z)),this}clampLength(e,a){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(e,Math.min(a,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,a){return this.x+=(e.x-this.x)*a,this.y+=(e.y-this.y)*a,this.z+=(e.z-this.z)*a,this}lerpVectors(e,a,o){return this.x=e.x+(a.x-e.x)*o,this.y=e.y+(a.y-e.y)*o,this.z=e.z+(a.z-e.z)*o,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,a){const o=e.x,r=e.y,i=e.z,n=a.x,s=a.y,l=a.z;return this.x=r*l-i*s,this.y=i*n-o*l,this.z=o*s-r*n,this}projectOnVector(e){const a=e.lengthSq();if(a===0)return this.set(0,0,0);const o=e.dot(this)/a;return this.copy(e).multiplyScalar(o)}projectOnPlane(e){return Th.copy(this).projectOnVector(e),this.sub(Th)}reflect(e){return this.sub(Th.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const a=Math.sqrt(this.lengthSq()*e.lengthSq());if(a===0)return Math.PI/2;const o=this.dot(e)/a;return Math.acos(vo(o,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const a=this.x-e.x,o=this.y-e.y,r=this.z-e.z;return a*a+o*o+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,a,o){const r=Math.sin(a)*e;return this.x=r*Math.sin(o),this.y=Math.cos(a)*e,this.z=r*Math.cos(o),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,a,o){return this.x=e*Math.sin(a),this.y=o,this.z=e*Math.cos(a),this}setFromMatrixPosition(e){const a=e.elements;return this.x=a[12],this.y=a[13],this.z=a[14],this}setFromMatrixScale(e){const a=this.setFromMatrixColumn(e,0).length(),o=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=a,this.y=o,this.z=r,this}setFromMatrixColumn(e,a){return this.fromArray(e.elements,a*4)}setFromMatrix3Column(e,a){return this.fromArray(e.elements,a*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,a=0){return this.x=e[a],this.y=e[a+1],this.z=e[a+2],this}toArray(e=[],a=0){return e[a]=this.x,e[a+1]=this.y,e[a+2]=this.z,e}fromBufferAttribute(e,a){return this.x=e.getX(a),this.y=e.getY(a),this.z=e.getZ(a),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,a=Math.random()*Math.PI*2,o=Math.sqrt(1-e**2);return this.x=o*Math.cos(a),this.y=o*Math.sin(a),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Th=new J,Ox=new Vd;class Hd{constructor(e=new J(1/0,1/0,1/0),a=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=a}set(e,a){return this.min.copy(e),this.max.copy(a),this}setFromArray(e){let a=1/0,o=1/0,r=1/0,i=-1/0,n=-1/0,s=-1/0;for(let l=0,c=e.length;l<c;l+=3){const d=e[l],m=e[l+1],u=e[l+2];d<a&&(a=d),m<o&&(o=m),u<r&&(r=u),d>i&&(i=d),m>n&&(n=m),u>s&&(s=u)}return this.min.set(a,o,r),this.max.set(i,n,s),this}setFromBufferAttribute(e){let a=1/0,o=1/0,r=1/0,i=-1/0,n=-1/0,s=-1/0;for(let l=0,c=e.count;l<c;l++){const d=e.getX(l),m=e.getY(l),u=e.getZ(l);d<a&&(a=d),m<o&&(o=m),u<r&&(r=u),d>i&&(i=d),m>n&&(n=m),u>s&&(s=u)}return this.min.set(a,o,r),this.max.set(i,n,s),this}setFromPoints(e){this.makeEmpty();for(let a=0,o=e.length;a<o;a++)this.expandByPoint(e[a]);return this}setFromCenterAndSize(e,a){const o=dn.copy(a).multiplyScalar(.5);return this.min.copy(e).sub(o),this.max.copy(e).add(o),this}setFromObject(e,a=!1){return this.makeEmpty(),this.expandByObject(e,a)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,a=!1){e.updateWorldMatrix(!1,!1);const o=e.geometry;if(o!==void 0)if(a&&o.attributes!=null&&o.attributes.position!==void 0){const i=o.attributes.position;for(let n=0,s=i.count;n<s;n++)dn.fromBufferAttribute(i,n).applyMatrix4(e.matrixWorld),this.expandByPoint(dn)}else o.boundingBox===null&&o.computeBoundingBox(),Ph.copy(o.boundingBox),Ph.applyMatrix4(e.matrixWorld),this.union(Ph);const r=e.children;for(let i=0,n=r.length;i<n;i++)this.expandByObject(r[i],a);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,a){return a.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,dn),dn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let a,o;return e.normal.x>0?(a=e.normal.x*this.min.x,o=e.normal.x*this.max.x):(a=e.normal.x*this.max.x,o=e.normal.x*this.min.x),e.normal.y>0?(a+=e.normal.y*this.min.y,o+=e.normal.y*this.max.y):(a+=e.normal.y*this.max.y,o+=e.normal.y*this.min.y),e.normal.z>0?(a+=e.normal.z*this.min.z,o+=e.normal.z*this.max.z):(a+=e.normal.z*this.max.z,o+=e.normal.z*this.min.z),a<=-e.constant&&o>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(nc),Eu.subVectors(this.max,nc),ys.subVectors(e.a,nc),xs.subVectors(e.b,nc),bs.subVectors(e.c,nc),_i.subVectors(xs,ys),wi.subVectors(bs,xs),un.subVectors(ys,bs);let a=[0,-_i.z,_i.y,0,-wi.z,wi.y,0,-un.z,un.y,_i.z,0,-_i.x,wi.z,0,-wi.x,un.z,0,-un.x,-_i.y,_i.x,0,-wi.y,wi.x,0,-un.y,un.x,0];return!Lh(a,ys,xs,bs,Eu)||(a=[1,0,0,0,1,0,0,0,1],!Lh(a,ys,xs,bs,Eu))?!1:(Su.crossVectors(_i,wi),a=[Su.x,Su.y,Su.z],Lh(a,ys,xs,bs,Eu))}clampPoint(e,a){return a.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return dn.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(dn).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Br[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Br[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Br[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Br[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Br[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Br[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Br[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Br[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Br),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Br=[new J,new J,new J,new J,new J,new J,new J,new J],dn=new J,Ph=new Hd,ys=new J,xs=new J,bs=new J,_i=new J,wi=new J,un=new J,nc=new J,Eu=new J,Su=new J,mn=new J;function Lh(t,e,a,o,r){for(let i=0,n=t.length-3;i<=n;i+=3){mn.fromArray(t,i);const s=r.x*Math.abs(mn.x)+r.y*Math.abs(mn.y)+r.z*Math.abs(mn.z),l=e.dot(mn),c=a.dot(mn),d=o.dot(mn);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>s)return!1}return!0}const hF=new Hd,kx=new J,Cu=new J,Dh=new J;class Md{constructor(e=new J,a=-1){this.center=e,this.radius=a}set(e,a){return this.center.copy(e),this.radius=a,this}setFromPoints(e,a){const o=this.center;a!==void 0?o.copy(a):hF.setFromPoints(e).getCenter(o);let r=0;for(let i=0,n=e.length;i<n;i++)r=Math.max(r,o.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const a=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=a*a}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,a){const o=this.center.distanceToSquared(e);return a.copy(e),o>this.radius*this.radius&&(a.sub(this.center).normalize(),a.multiplyScalar(this.radius).add(this.center)),a}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Dh.subVectors(e,this.center);const a=Dh.lengthSq();if(a>this.radius*this.radius){const o=Math.sqrt(a),r=(o-this.radius)*.5;this.center.add(Dh.multiplyScalar(r/o)),this.radius+=r}return this}union(e){return this.center.equals(e.center)===!0?Cu.set(0,0,1).multiplyScalar(e.radius):Cu.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(kx.copy(e.center).add(Cu)),this.expandByPoint(kx.copy(e.center).sub(Cu)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const $r=new J,Ih=new J,Au=new J,Ei=new J,Oh=new J,Mu=new J,kh=new J;class vF{constructor(e=new J,a=new J(0,0,-1)){this.origin=e,this.direction=a}set(e,a){return this.origin.copy(e),this.direction.copy(a),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,a){return a.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,$r)),this}closestPointToPoint(e,a){a.subVectors(e,this.origin);const o=a.dot(this.direction);return o<0?a.copy(this.origin):a.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const a=$r.subVectors(e,this.origin).dot(this.direction);return a<0?this.origin.distanceToSquared(e):($r.copy(this.direction).multiplyScalar(a).add(this.origin),$r.distanceToSquared(e))}distanceSqToSegment(e,a,o,r){Ih.copy(e).add(a).multiplyScalar(.5),Au.copy(a).sub(e).normalize(),Ei.copy(this.origin).sub(Ih);const i=e.distanceTo(a)*.5,n=-this.direction.dot(Au),s=Ei.dot(this.direction),l=-Ei.dot(Au),c=Ei.lengthSq(),d=Math.abs(1-n*n);let m,u,v,h;if(d>0)if(m=n*l-s,u=n*s-l,h=i*d,m>=0)if(u>=-h)if(u<=h){const p=1/d;m*=p,u*=p,v=m*(m+n*u+2*s)+u*(n*m+u+2*l)+c}else u=i,m=Math.max(0,-(n*u+s)),v=-m*m+u*(u+2*l)+c;else u=-i,m=Math.max(0,-(n*u+s)),v=-m*m+u*(u+2*l)+c;else u<=-h?(m=Math.max(0,-(-n*i+s)),u=m>0?-i:Math.min(Math.max(-i,-l),i),v=-m*m+u*(u+2*l)+c):u<=h?(m=0,u=Math.min(Math.max(-i,-l),i),v=u*(u+2*l)+c):(m=Math.max(0,-(n*i+s)),u=m>0?i:Math.min(Math.max(-i,-l),i),v=-m*m+u*(u+2*l)+c);else u=n>0?-i:i,m=Math.max(0,-(n*u+s)),v=-m*m+u*(u+2*l)+c;return o&&o.copy(this.direction).multiplyScalar(m).add(this.origin),r&&r.copy(Au).multiplyScalar(u).add(Ih),v}intersectSphere(e,a){$r.subVectors(e.center,this.origin);const o=$r.dot(this.direction),r=$r.dot($r)-o*o,i=e.radius*e.radius;if(r>i)return null;const n=Math.sqrt(i-r),s=o-n,l=o+n;return s<0&&l<0?null:s<0?this.at(l,a):this.at(s,a)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const a=e.normal.dot(this.direction);if(a===0)return e.distanceToPoint(this.origin)===0?0:null;const o=-(this.origin.dot(e.normal)+e.constant)/a;return o>=0?o:null}intersectPlane(e,a){const o=this.distanceToPlane(e);return o===null?null:this.at(o,a)}intersectsPlane(e){const a=e.distanceToPoint(this.origin);return a===0||e.normal.dot(this.direction)*a<0}intersectBox(e,a){let o,r,i,n,s,l;const c=1/this.direction.x,d=1/this.direction.y,m=1/this.direction.z,u=this.origin;return c>=0?(o=(e.min.x-u.x)*c,r=(e.max.x-u.x)*c):(o=(e.max.x-u.x)*c,r=(e.min.x-u.x)*c),d>=0?(i=(e.min.y-u.y)*d,n=(e.max.y-u.y)*d):(i=(e.max.y-u.y)*d,n=(e.min.y-u.y)*d),o>n||i>r||((i>o||o!==o)&&(o=i),(n<r||r!==r)&&(r=n),m>=0?(s=(e.min.z-u.z)*m,l=(e.max.z-u.z)*m):(s=(e.max.z-u.z)*m,l=(e.min.z-u.z)*m),o>l||s>r)||((s>o||o!==o)&&(o=s),(l<r||r!==r)&&(r=l),r<0)?null:this.at(o>=0?o:r,a)}intersectsBox(e){return this.intersectBox(e,$r)!==null}intersectTriangle(e,a,o,r,i){Oh.subVectors(a,e),Mu.subVectors(o,e),kh.crossVectors(Oh,Mu);let n=this.direction.dot(kh),s;if(n>0){if(r)return null;s=1}else if(n<0)s=-1,n=-n;else return null;Ei.subVectors(this.origin,e);const l=s*this.direction.dot(Mu.crossVectors(Ei,Mu));if(l<0)return null;const c=s*this.direction.dot(Oh.cross(Ei));if(c<0||l+c>n)return null;const d=-s*Ei.dot(kh);return d<0?null:this.at(d/n,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _a{constructor(){_a.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,a,o,r,i,n,s,l,c,d,m,u,v,h,p,f){const g=this.elements;return g[0]=e,g[4]=a,g[8]=o,g[12]=r,g[1]=i,g[5]=n,g[9]=s,g[13]=l,g[2]=c,g[6]=d,g[10]=m,g[14]=u,g[3]=v,g[7]=h,g[11]=p,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _a().fromArray(this.elements)}copy(e){const a=this.elements,o=e.elements;return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],this}copyPosition(e){const a=this.elements,o=e.elements;return a[12]=o[12],a[13]=o[13],a[14]=o[14],this}setFromMatrix3(e){const a=e.elements;return this.set(a[0],a[3],a[6],0,a[1],a[4],a[7],0,a[2],a[5],a[8],0,0,0,0,1),this}extractBasis(e,a,o){return e.setFromMatrixColumn(this,0),a.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(e,a,o){return this.set(e.x,a.x,o.x,0,e.y,a.y,o.y,0,e.z,a.z,o.z,0,0,0,0,1),this}extractRotation(e){const a=this.elements,o=e.elements,r=1/_s.setFromMatrixColumn(e,0).length(),i=1/_s.setFromMatrixColumn(e,1).length(),n=1/_s.setFromMatrixColumn(e,2).length();return a[0]=o[0]*r,a[1]=o[1]*r,a[2]=o[2]*r,a[3]=0,a[4]=o[4]*i,a[5]=o[5]*i,a[6]=o[6]*i,a[7]=0,a[8]=o[8]*n,a[9]=o[9]*n,a[10]=o[10]*n,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromEuler(e){const a=this.elements,o=e.x,r=e.y,i=e.z,n=Math.cos(o),s=Math.sin(o),l=Math.cos(r),c=Math.sin(r),d=Math.cos(i),m=Math.sin(i);if(e.order==="XYZ"){const u=n*d,v=n*m,h=s*d,p=s*m;a[0]=l*d,a[4]=-l*m,a[8]=c,a[1]=v+h*c,a[5]=u-p*c,a[9]=-s*l,a[2]=p-u*c,a[6]=h+v*c,a[10]=n*l}else if(e.order==="YXZ"){const u=l*d,v=l*m,h=c*d,p=c*m;a[0]=u+p*s,a[4]=h*s-v,a[8]=n*c,a[1]=n*m,a[5]=n*d,a[9]=-s,a[2]=v*s-h,a[6]=p+u*s,a[10]=n*l}else if(e.order==="ZXY"){const u=l*d,v=l*m,h=c*d,p=c*m;a[0]=u-p*s,a[4]=-n*m,a[8]=h+v*s,a[1]=v+h*s,a[5]=n*d,a[9]=p-u*s,a[2]=-n*c,a[6]=s,a[10]=n*l}else if(e.order==="ZYX"){const u=n*d,v=n*m,h=s*d,p=s*m;a[0]=l*d,a[4]=h*c-v,a[8]=u*c+p,a[1]=l*m,a[5]=p*c+u,a[9]=v*c-h,a[2]=-c,a[6]=s*l,a[10]=n*l}else if(e.order==="YZX"){const u=n*l,v=n*c,h=s*l,p=s*c;a[0]=l*d,a[4]=p-u*m,a[8]=h*m+v,a[1]=m,a[5]=n*d,a[9]=-s*d,a[2]=-c*d,a[6]=v*m+h,a[10]=u-p*m}else if(e.order==="XZY"){const u=n*l,v=n*c,h=s*l,p=s*c;a[0]=l*d,a[4]=-m,a[8]=c*d,a[1]=u*m+p,a[5]=n*d,a[9]=v*m-h,a[2]=h*m-v,a[6]=s*d,a[10]=p*m+u}return a[3]=0,a[7]=0,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,this}makeRotationFromQuaternion(e){return this.compose(gF,e,yF)}lookAt(e,a,o){const r=this.elements;return po.subVectors(e,a),po.lengthSq()===0&&(po.z=1),po.normalize(),Si.crossVectors(o,po),Si.lengthSq()===0&&(Math.abs(o.z)===1?po.x+=1e-4:po.z+=1e-4,po.normalize(),Si.crossVectors(o,po)),Si.normalize(),Ru.crossVectors(po,Si),r[0]=Si.x,r[4]=Ru.x,r[8]=po.x,r[1]=Si.y,r[5]=Ru.y,r[9]=po.y,r[2]=Si.z,r[6]=Ru.z,r[10]=po.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,a){const o=e.elements,r=a.elements,i=this.elements,n=o[0],s=o[4],l=o[8],c=o[12],d=o[1],m=o[5],u=o[9],v=o[13],h=o[2],p=o[6],f=o[10],g=o[14],y=o[3],x=o[7],b=o[11],w=o[15],_=r[0],S=r[4],E=r[8],A=r[12],T=r[1],O=r[5],B=r[9],N=r[13],D=r[2],q=r[6],j=r[10],V=r[14],z=r[3],F=r[7],H=r[11],oe=r[15];return i[0]=n*_+s*T+l*D+c*z,i[4]=n*S+s*O+l*q+c*F,i[8]=n*E+s*B+l*j+c*H,i[12]=n*A+s*N+l*V+c*oe,i[1]=d*_+m*T+u*D+v*z,i[5]=d*S+m*O+u*q+v*F,i[9]=d*E+m*B+u*j+v*H,i[13]=d*A+m*N+u*V+v*oe,i[2]=h*_+p*T+f*D+g*z,i[6]=h*S+p*O+f*q+g*F,i[10]=h*E+p*B+f*j+g*H,i[14]=h*A+p*N+f*V+g*oe,i[3]=y*_+x*T+b*D+w*z,i[7]=y*S+x*O+b*q+w*F,i[11]=y*E+x*B+b*j+w*H,i[15]=y*A+x*N+b*V+w*oe,this}multiplyScalar(e){const a=this.elements;return a[0]*=e,a[4]*=e,a[8]*=e,a[12]*=e,a[1]*=e,a[5]*=e,a[9]*=e,a[13]*=e,a[2]*=e,a[6]*=e,a[10]*=e,a[14]*=e,a[3]*=e,a[7]*=e,a[11]*=e,a[15]*=e,this}determinant(){const e=this.elements,a=e[0],o=e[4],r=e[8],i=e[12],n=e[1],s=e[5],l=e[9],c=e[13],d=e[2],m=e[6],u=e[10],v=e[14],h=e[3],p=e[7],f=e[11],g=e[15];return h*(+i*l*m-r*c*m-i*s*u+o*c*u+r*s*v-o*l*v)+p*(+a*l*v-a*c*u+i*n*u-r*n*v+r*c*d-i*l*d)+f*(+a*c*m-a*s*v-i*n*m+o*n*v+i*s*d-o*c*d)+g*(-r*s*d-a*l*m+a*s*u+r*n*m-o*n*u+o*l*d)}transpose(){const e=this.elements;let a;return a=e[1],e[1]=e[4],e[4]=a,a=e[2],e[2]=e[8],e[8]=a,a=e[6],e[6]=e[9],e[9]=a,a=e[3],e[3]=e[12],e[12]=a,a=e[7],e[7]=e[13],e[13]=a,a=e[11],e[11]=e[14],e[14]=a,this}setPosition(e,a,o){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=a,r[14]=o),this}invert(){const e=this.elements,a=e[0],o=e[1],r=e[2],i=e[3],n=e[4],s=e[5],l=e[6],c=e[7],d=e[8],m=e[9],u=e[10],v=e[11],h=e[12],p=e[13],f=e[14],g=e[15],y=m*f*c-p*u*c+p*l*v-s*f*v-m*l*g+s*u*g,x=h*u*c-d*f*c-h*l*v+n*f*v+d*l*g-n*u*g,b=d*p*c-h*m*c+h*s*v-n*p*v-d*s*g+n*m*g,w=h*m*l-d*p*l-h*s*u+n*p*u+d*s*f-n*m*f,_=a*y+o*x+r*b+i*w;if(_===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=y*S,e[1]=(p*u*i-m*f*i-p*r*v+o*f*v+m*r*g-o*u*g)*S,e[2]=(s*f*i-p*l*i+p*r*c-o*f*c-s*r*g+o*l*g)*S,e[3]=(m*l*i-s*u*i-m*r*c+o*u*c+s*r*v-o*l*v)*S,e[4]=x*S,e[5]=(d*f*i-h*u*i+h*r*v-a*f*v-d*r*g+a*u*g)*S,e[6]=(h*l*i-n*f*i-h*r*c+a*f*c+n*r*g-a*l*g)*S,e[7]=(n*u*i-d*l*i+d*r*c-a*u*c-n*r*v+a*l*v)*S,e[8]=b*S,e[9]=(h*m*i-d*p*i-h*o*v+a*p*v+d*o*g-a*m*g)*S,e[10]=(n*p*i-h*s*i+h*o*c-a*p*c-n*o*g+a*s*g)*S,e[11]=(d*s*i-n*m*i-d*o*c+a*m*c+n*o*v-a*s*v)*S,e[12]=w*S,e[13]=(d*p*r-h*m*r+h*o*u-a*p*u-d*o*f+a*m*f)*S,e[14]=(h*s*r-n*p*r-h*o*l+a*p*l+n*o*f-a*s*f)*S,e[15]=(n*m*r-d*s*r+d*o*l-a*m*l-n*o*u+a*s*u)*S,this}scale(e){const a=this.elements,o=e.x,r=e.y,i=e.z;return a[0]*=o,a[4]*=r,a[8]*=i,a[1]*=o,a[5]*=r,a[9]*=i,a[2]*=o,a[6]*=r,a[10]*=i,a[3]*=o,a[7]*=r,a[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],o=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(a,o,r))}makeTranslation(e,a,o){return this.set(1,0,0,e,0,1,0,a,0,0,1,o,0,0,0,1),this}makeRotationX(e){const a=Math.cos(e),o=Math.sin(e);return this.set(1,0,0,0,0,a,-o,0,0,o,a,0,0,0,0,1),this}makeRotationY(e){const a=Math.cos(e),o=Math.sin(e);return this.set(a,0,o,0,0,1,0,0,-o,0,a,0,0,0,0,1),this}makeRotationZ(e){const a=Math.cos(e),o=Math.sin(e);return this.set(a,-o,0,0,o,a,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,a){const o=Math.cos(a),r=Math.sin(a),i=1-o,n=e.x,s=e.y,l=e.z,c=i*n,d=i*s;return this.set(c*n+o,c*s-r*l,c*l+r*s,0,c*s+r*l,d*s+o,d*l-r*n,0,c*l-r*s,d*l+r*n,i*l*l+o,0,0,0,0,1),this}makeScale(e,a,o){return this.set(e,0,0,0,0,a,0,0,0,0,o,0,0,0,0,1),this}makeShear(e,a,o,r,i,n){return this.set(1,o,i,0,e,1,n,0,a,r,1,0,0,0,0,1),this}compose(e,a,o){const r=this.elements,i=a._x,n=a._y,s=a._z,l=a._w,c=i+i,d=n+n,m=s+s,u=i*c,v=i*d,h=i*m,p=n*d,f=n*m,g=s*m,y=l*c,x=l*d,b=l*m,w=o.x,_=o.y,S=o.z;return r[0]=(1-(p+g))*w,r[1]=(v+b)*w,r[2]=(h-x)*w,r[3]=0,r[4]=(v-b)*_,r[5]=(1-(u+g))*_,r[6]=(f+y)*_,r[7]=0,r[8]=(h+x)*S,r[9]=(f-y)*S,r[10]=(1-(u+p))*S,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,a,o){const r=this.elements;let i=_s.set(r[0],r[1],r[2]).length();const n=_s.set(r[4],r[5],r[6]).length(),s=_s.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Jo.copy(this);const l=1/i,c=1/n,d=1/s;return Jo.elements[0]*=l,Jo.elements[1]*=l,Jo.elements[2]*=l,Jo.elements[4]*=c,Jo.elements[5]*=c,Jo.elements[6]*=c,Jo.elements[8]*=d,Jo.elements[9]*=d,Jo.elements[10]*=d,a.setFromRotationMatrix(Jo),o.x=i,o.y=n,o.z=s,this}makePerspective(e,a,o,r,i,n){const s=this.elements,l=2*i/(a-e),c=2*i/(o-r),d=(a+e)/(a-e),m=(o+r)/(o-r),u=-(n+i)/(n-i),v=-2*n*i/(n-i);return s[0]=l,s[4]=0,s[8]=d,s[12]=0,s[1]=0,s[5]=c,s[9]=m,s[13]=0,s[2]=0,s[6]=0,s[10]=u,s[14]=v,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,a,o,r,i,n){const s=this.elements,l=1/(a-e),c=1/(o-r),d=1/(n-i),m=(a+e)*l,u=(o+r)*c,v=(n+i)*d;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-m,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-u,s[2]=0,s[6]=0,s[10]=-2*d,s[14]=-v,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const a=this.elements,o=e.elements;for(let r=0;r<16;r++)if(a[r]!==o[r])return!1;return!0}fromArray(e,a=0){for(let o=0;o<16;o++)this.elements[o]=e[o+a];return this}toArray(e=[],a=0){const o=this.elements;return e[a]=o[0],e[a+1]=o[1],e[a+2]=o[2],e[a+3]=o[3],e[a+4]=o[4],e[a+5]=o[5],e[a+6]=o[6],e[a+7]=o[7],e[a+8]=o[8],e[a+9]=o[9],e[a+10]=o[10],e[a+11]=o[11],e[a+12]=o[12],e[a+13]=o[13],e[a+14]=o[14],e[a+15]=o[15],e}}const _s=new J,Jo=new _a,gF=new J(0,0,0),yF=new J(1,1,1),Si=new J,Ru=new J,po=new J,zx=new _a,Nx=new Vd;class Wd{constructor(e=0,a=0,o=0,r=Wd.DefaultOrder){this.isEuler=!0,this._x=e,this._y=a,this._z=o,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,a,o,r=this._order){return this._x=e,this._y=a,this._z=o,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,a=this._order,o=!0){const r=e.elements,i=r[0],n=r[4],s=r[8],l=r[1],c=r[5],d=r[9],m=r[2],u=r[6],v=r[10];switch(a){case"XYZ":this._y=Math.asin(vo(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-n,i)):(this._x=Math.atan2(u,c),this._z=0);break;case"YXZ":this._x=Math.asin(-vo(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(s,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-m,i),this._z=0);break;case"ZXY":this._x=Math.asin(vo(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-m,v),this._z=Math.atan2(-n,c)):(this._y=0,this._z=Math.atan2(l,i));break;case"ZYX":this._y=Math.asin(-vo(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(u,v),this._z=Math.atan2(l,i)):(this._x=0,this._z=Math.atan2(-n,c));break;case"YZX":this._z=Math.asin(vo(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-m,i)):(this._x=0,this._y=Math.atan2(s,v));break;case"XZY":this._z=Math.asin(-vo(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(u,c),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+a)}return this._order=a,o===!0&&this._onChangeCallback(),this}setFromQuaternion(e,a,o){return zx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zx,a,o)}setFromVector3(e,a=this._order){return this.set(e.x,e.y,e.z,a)}reorder(e){return Nx.setFromEuler(this),this.setFromQuaternion(Nx,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],a=0){return e[a]=this._x,e[a+1]=this._y,e[a+2]=this._z,e[a+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Wd.DefaultOrder="XYZ";Wd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class R5{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xF=0;const Fx=new J,ws=new Vd,Ur=new _a,Tu=new J,sc=new J,bF=new J,_F=new Vd,qx=new J(1,0,0),jx=new J(0,1,0),Bx=new J(0,0,1),wF={type:"added"},$x={type:"removed"};class Ga extends Ol{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xF++}),this.uuid=Ud(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ga.DefaultUp.clone();const e=new J,a=new Wd,o=new Vd,r=new J(1,1,1);function i(){o.setFromEuler(a,!1)}function n(){a.setFromQuaternion(o,void 0,!1)}a._onChange(i),o._onChange(n),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new _a},normalMatrix:{value:new Vo}}),this.matrix=new _a,this.matrixWorld=new _a,this.matrixAutoUpdate=Ga.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new R5,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,a){this.quaternion.setFromAxisAngle(e,a)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,a){return ws.setFromAxisAngle(e,a),this.quaternion.multiply(ws),this}rotateOnWorldAxis(e,a){return ws.setFromAxisAngle(e,a),this.quaternion.premultiply(ws),this}rotateX(e){return this.rotateOnAxis(qx,e)}rotateY(e){return this.rotateOnAxis(jx,e)}rotateZ(e){return this.rotateOnAxis(Bx,e)}translateOnAxis(e,a){return Fx.copy(e).applyQuaternion(this.quaternion),this.position.add(Fx.multiplyScalar(a)),this}translateX(e){return this.translateOnAxis(qx,e)}translateY(e){return this.translateOnAxis(jx,e)}translateZ(e){return this.translateOnAxis(Bx,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ur.copy(this.matrixWorld).invert())}lookAt(e,a,o){e.isVector3?Tu.copy(e):Tu.set(e,a,o);const r=this.parent;this.updateWorldMatrix(!0,!1),sc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ur.lookAt(sc,Tu,this.up):Ur.lookAt(Tu,sc,this.up),this.quaternion.setFromRotationMatrix(Ur),r&&(Ur.extractRotation(r.matrixWorld),ws.setFromRotationMatrix(Ur),this.quaternion.premultiply(ws.invert()))}add(e){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wF)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const a=this.children.indexOf(e);return a!==-1&&(e.parent=null,this.children.splice(a,1),e.dispatchEvent($x)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const a=this.children[e];a.parent=null,a.dispatchEvent($x)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ur.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ur.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ur),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,a){if(this[e]===a)return this;for(let o=0,r=this.children.length;o<r;o++){const i=this.children[o].getObjectByProperty(e,a);if(i!==void 0)return i}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sc,e,bF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sc,_F,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return e.set(a[8],a[9],a[10]).normalize()}raycast(){}traverse(e){e(this);const a=this.children;for(let o=0,r=a.length;o<r;o++)a[o].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const a=this.children;for(let o=0,r=a.length;o<r;o++)a[o].traverseVisible(e)}traverseAncestors(e){const a=this.parent;a!==null&&(e(a),a.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const a=this.children;for(let o=0,r=a.length;o<r;o++)a[o].updateMatrixWorld(e)}updateWorldMatrix(e,a){const o=this.parent;if(e===!0&&o!==null&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),a===!0){const r=this.children;for(let i=0,n=r.length;i<n;i++)r[i].updateWorldMatrix(!1,!0)}}toJSON(e){const a=e===void 0||typeof e=="string",o={};a&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},o.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function i(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const m=l[c];i(e.shapes,m)}else i(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(i(e.materials,this.material[l]));r.material=s}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];r.animations.push(i(e.animations,l))}}if(a){const s=n(e.geometries),l=n(e.materials),c=n(e.textures),d=n(e.images),m=n(e.shapes),u=n(e.skeletons),v=n(e.animations),h=n(e.nodes);s.length>0&&(o.geometries=s),l.length>0&&(o.materials=l),c.length>0&&(o.textures=c),d.length>0&&(o.images=d),m.length>0&&(o.shapes=m),u.length>0&&(o.skeletons=u),v.length>0&&(o.animations=v),h.length>0&&(o.nodes=h)}return o.object=r,o;function n(s){const l=[];for(const c in s){const d=s[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,a=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),a===!0)for(let o=0;o<e.children.length;o++){const r=e.children[o];this.add(r.clone())}return this}}Ga.DefaultUp=new J(0,1,0);Ga.DefaultMatrixAutoUpdate=!0;const er=new J,Vr=new J,zh=new J,Hr=new J,Es=new J,Ss=new J,Ux=new J,Nh=new J,Fh=new J,qh=new J;class ei{constructor(e=new J,a=new J,o=new J){this.a=e,this.b=a,this.c=o}static getNormal(e,a,o,r){r.subVectors(o,a),er.subVectors(e,a),r.cross(er);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,a,o,r,i){er.subVectors(r,a),Vr.subVectors(o,a),zh.subVectors(e,a);const n=er.dot(er),s=er.dot(Vr),l=er.dot(zh),c=Vr.dot(Vr),d=Vr.dot(zh),m=n*c-s*s;if(m===0)return i.set(-2,-1,-1);const u=1/m,v=(c*l-s*d)*u,h=(n*d-s*l)*u;return i.set(1-v-h,h,v)}static containsPoint(e,a,o,r){return this.getBarycoord(e,a,o,r,Hr),Hr.x>=0&&Hr.y>=0&&Hr.x+Hr.y<=1}static getUV(e,a,o,r,i,n,s,l){return this.getBarycoord(e,a,o,r,Hr),l.set(0,0),l.addScaledVector(i,Hr.x),l.addScaledVector(n,Hr.y),l.addScaledVector(s,Hr.z),l}static isFrontFacing(e,a,o,r){return er.subVectors(o,a),Vr.subVectors(e,a),er.cross(Vr).dot(r)<0}set(e,a,o){return this.a.copy(e),this.b.copy(a),this.c.copy(o),this}setFromPointsAndIndices(e,a,o,r){return this.a.copy(e[a]),this.b.copy(e[o]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,a,o,r){return this.a.fromBufferAttribute(e,a),this.b.fromBufferAttribute(e,o),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return er.subVectors(this.c,this.b),Vr.subVectors(this.a,this.b),er.cross(Vr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ei.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,a){return ei.getBarycoord(e,this.a,this.b,this.c,a)}getUV(e,a,o,r,i){return ei.getUV(e,this.a,this.b,this.c,a,o,r,i)}containsPoint(e){return ei.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ei.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,a){const o=this.a,r=this.b,i=this.c;let n,s;Es.subVectors(r,o),Ss.subVectors(i,o),Nh.subVectors(e,o);const l=Es.dot(Nh),c=Ss.dot(Nh);if(l<=0&&c<=0)return a.copy(o);Fh.subVectors(e,r);const d=Es.dot(Fh),m=Ss.dot(Fh);if(d>=0&&m<=d)return a.copy(r);const u=l*m-d*c;if(u<=0&&l>=0&&d<=0)return n=l/(l-d),a.copy(o).addScaledVector(Es,n);qh.subVectors(e,i);const v=Es.dot(qh),h=Ss.dot(qh);if(h>=0&&v<=h)return a.copy(i);const p=v*c-l*h;if(p<=0&&c>=0&&h<=0)return s=c/(c-h),a.copy(o).addScaledVector(Ss,s);const f=d*h-v*m;if(f<=0&&m-d>=0&&v-h>=0)return Ux.subVectors(i,r),s=(m-d)/(m-d+(v-h)),a.copy(r).addScaledVector(Ux,s);const g=1/(f+p+u);return n=p*g,s=u*g,a.copy(o).addScaledVector(Es,n).addScaledVector(Ss,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let EF=0;class cs extends Ol{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EF++}),this.uuid=Ud(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const a in e){const o=e[a];if(o===void 0){console.warn("THREE.Material: '"+a+"' parameter is undefined.");continue}if(a==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=o===1;continue}const r=this[a];if(r===void 0){console.warn("THREE."+this.type+": '"+a+"' is not a property of this material.");continue}r&&r.isColor?r.set(o):r&&r.isVector3&&o&&o.isVector3?r.copy(o):this[a]=o}}toJSON(e){const a=e===void 0||typeof e=="string";a&&(e={textures:{},images:{}});const o={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),this.roughness!==void 0&&(o.roughness=this.roughness),this.metalness!==void 0&&(o.metalness=this.metalness),this.sheen!==void 0&&(o.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(o.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(o.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(o.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(o.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(o.shininess=this.shininess),this.clearcoat!==void 0&&(o.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(o.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(o.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(o.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(o.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(e).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(e).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(e).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(e).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(e).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(o.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(o.combine=this.combine)),this.envMapIntensity!==void 0&&(o.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(o.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(o.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(o.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(o.size=this.size),this.shadowSide!==null&&(o.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(o.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(o.blending=this.blending),this.side!==0&&(o.side=this.side),this.vertexColors&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.transparent===!0&&(o.transparent=this.transparent),o.depthFunc=this.depthFunc,o.depthTest=this.depthTest,o.depthWrite=this.depthWrite,o.colorWrite=this.colorWrite,o.stencilWrite=this.stencilWrite,o.stencilWriteMask=this.stencilWriteMask,o.stencilFunc=this.stencilFunc,o.stencilRef=this.stencilRef,o.stencilFuncMask=this.stencilFuncMask,o.stencilFail=this.stencilFail,o.stencilZFail=this.stencilZFail,o.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(o.rotation=this.rotation),this.polygonOffset===!0&&(o.polygonOffset=!0),this.polygonOffsetFactor!==0&&(o.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(o.linewidth=this.linewidth),this.dashSize!==void 0&&(o.dashSize=this.dashSize),this.gapSize!==void 0&&(o.gapSize=this.gapSize),this.scale!==void 0&&(o.scale=this.scale),this.dithering===!0&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(o.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(o.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(o.wireframe=this.wireframe),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(o.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(o.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(o.flatShading=this.flatShading),this.visible===!1&&(o.visible=!1),this.toneMapped===!1&&(o.toneMapped=!1),this.fog===!1&&(o.fog=!1),JSON.stringify(this.userData)!=="{}"&&(o.userData=this.userData);function r(i){const n=[];for(const s in i){const l=i[s];delete l.metadata,n.push(l)}return n}if(a){const i=r(e.textures),n=r(e.images);i.length>0&&(o.textures=i),n.length>0&&(o.images=n)}return o}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const a=e.clippingPlanes;let o=null;if(a!==null){const r=a.length;o=new Array(r);for(let i=0;i!==r;++i)o[i]=a[i].clone()}return this.clippingPlanes=o,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class T5 extends cs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ua=new J,Pu=new St;class Or{constructor(e,a,o){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=a,this.count=e!==void 0?e.length/a:0,this.normalized=o===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,a,o){e*=this.itemSize,o*=a.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=a.array[o+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let n=e[r];n===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),n=new Et),a[o++]=n.r,a[o++]=n.g,a[o++]=n.b}return this}copyVector2sArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let n=e[r];n===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),n=new St),a[o++]=n.x,a[o++]=n.y}return this}copyVector3sArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let n=e[r];n===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),n=new J),a[o++]=n.x,a[o++]=n.y,a[o++]=n.z}return this}copyVector4sArray(e){const a=this.array;let o=0;for(let r=0,i=e.length;r<i;r++){let n=e[r];n===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),n=new ba),a[o++]=n.x,a[o++]=n.y,a[o++]=n.z,a[o++]=n.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let a=0,o=this.count;a<o;a++)Pu.fromBufferAttribute(this,a),Pu.applyMatrix3(e),this.setXY(a,Pu.x,Pu.y);else if(this.itemSize===3)for(let a=0,o=this.count;a<o;a++)ua.fromBufferAttribute(this,a),ua.applyMatrix3(e),this.setXYZ(a,ua.x,ua.y,ua.z);return this}applyMatrix4(e){for(let a=0,o=this.count;a<o;a++)ua.fromBufferAttribute(this,a),ua.applyMatrix4(e),this.setXYZ(a,ua.x,ua.y,ua.z);return this}applyNormalMatrix(e){for(let a=0,o=this.count;a<o;a++)ua.fromBufferAttribute(this,a),ua.applyNormalMatrix(e),this.setXYZ(a,ua.x,ua.y,ua.z);return this}transformDirection(e){for(let a=0,o=this.count;a<o;a++)ua.fromBufferAttribute(this,a),ua.transformDirection(e),this.setXYZ(a,ua.x,ua.y,ua.z);return this}set(e,a=0){return this.array.set(e,a),this}getX(e){return this.array[e*this.itemSize]}setX(e,a){return this.array[e*this.itemSize]=a,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,a){return this.array[e*this.itemSize+1]=a,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,a){return this.array[e*this.itemSize+2]=a,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,a){return this.array[e*this.itemSize+3]=a,this}setXY(e,a,o){return e*=this.itemSize,this.array[e+0]=a,this.array[e+1]=o,this}setXYZ(e,a,o,r){return e*=this.itemSize,this.array[e+0]=a,this.array[e+1]=o,this.array[e+2]=r,this}setXYZW(e,a,o,r,i){return e*=this.itemSize,this.array[e+0]=a,this.array[e+1]=o,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==35044&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class P5 extends Or{constructor(e,a,o){super(new Uint16Array(e),a,o)}}class L5 extends Or{constructor(e,a,o){super(new Uint32Array(e),a,o)}}class Fa extends Or{constructor(e,a,o){super(new Float32Array(e),a,o)}}let SF=0;const Oo=new _a,jh=new Ga,Cs=new J,fo=new Hd,lc=new Hd,wa=new J;class Fr extends Ol{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:SF++}),this.uuid=Ud(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(E5(e)?L5:P5)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,a){return this.attributes[e]=a,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,a,o=0){this.groups.push({start:e,count:a,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(e,a){this.drawRange.start=e,this.drawRange.count=a}applyMatrix4(e){const a=this.attributes.position;a!==void 0&&(a.applyMatrix4(e),a.needsUpdate=!0);const o=this.attributes.normal;if(o!==void 0){const i=new Vo().getNormalMatrix(e);o.applyNormalMatrix(i),o.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Oo.makeRotationFromQuaternion(e),this.applyMatrix4(Oo),this}rotateX(e){return Oo.makeRotationX(e),this.applyMatrix4(Oo),this}rotateY(e){return Oo.makeRotationY(e),this.applyMatrix4(Oo),this}rotateZ(e){return Oo.makeRotationZ(e),this.applyMatrix4(Oo),this}translate(e,a,o){return Oo.makeTranslation(e,a,o),this.applyMatrix4(Oo),this}scale(e,a,o){return Oo.makeScale(e,a,o),this.applyMatrix4(Oo),this}lookAt(e){return jh.lookAt(e),jh.updateMatrix(),this.applyMatrix4(jh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cs).negate(),this.translate(Cs.x,Cs.y,Cs.z),this}setFromPoints(e){const a=[];for(let o=0,r=e.length;o<r;o++){const i=e[o];a.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Fa(a,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hd);const e=this.attributes.position,a=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),a)for(let o=0,r=a.length;o<r;o++){const i=a[o];fo.setFromBufferAttribute(i),this.morphTargetsRelative?(wa.addVectors(this.boundingBox.min,fo.min),this.boundingBox.expandByPoint(wa),wa.addVectors(this.boundingBox.max,fo.max),this.boundingBox.expandByPoint(wa)):(this.boundingBox.expandByPoint(fo.min),this.boundingBox.expandByPoint(fo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Md);const e=this.attributes.position,a=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const o=this.boundingSphere.center;if(fo.setFromBufferAttribute(e),a)for(let i=0,n=a.length;i<n;i++){const s=a[i];lc.setFromBufferAttribute(s),this.morphTargetsRelative?(wa.addVectors(fo.min,lc.min),fo.expandByPoint(wa),wa.addVectors(fo.max,lc.max),fo.expandByPoint(wa)):(fo.expandByPoint(lc.min),fo.expandByPoint(lc.max))}fo.getCenter(o);let r=0;for(let i=0,n=e.count;i<n;i++)wa.fromBufferAttribute(e,i),r=Math.max(r,o.distanceToSquared(wa));if(a)for(let i=0,n=a.length;i<n;i++){const s=a[i],l=this.morphTargetsRelative;for(let c=0,d=s.count;c<d;c++)wa.fromBufferAttribute(s,c),l&&(Cs.fromBufferAttribute(e,c),wa.add(Cs)),r=Math.max(r,o.distanceToSquared(wa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,a=this.attributes;if(e===null||a.position===void 0||a.normal===void 0||a.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const o=e.array,r=a.position.array,i=a.normal.array,n=a.uv.array,s=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Or(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let T=0;T<s;T++)c[T]=new J,d[T]=new J;const m=new J,u=new J,v=new J,h=new St,p=new St,f=new St,g=new J,y=new J;function x(T,O,B){m.fromArray(r,T*3),u.fromArray(r,O*3),v.fromArray(r,B*3),h.fromArray(n,T*2),p.fromArray(n,O*2),f.fromArray(n,B*2),u.sub(m),v.sub(m),p.sub(h),f.sub(h);const N=1/(p.x*f.y-f.x*p.y);!isFinite(N)||(g.copy(u).multiplyScalar(f.y).addScaledVector(v,-p.y).multiplyScalar(N),y.copy(v).multiplyScalar(p.x).addScaledVector(u,-f.x).multiplyScalar(N),c[T].add(g),c[O].add(g),c[B].add(g),d[T].add(y),d[O].add(y),d[B].add(y))}let b=this.groups;b.length===0&&(b=[{start:0,count:o.length}]);for(let T=0,O=b.length;T<O;++T){const B=b[T],N=B.start,D=B.count;for(let q=N,j=N+D;q<j;q+=3)x(o[q+0],o[q+1],o[q+2])}const w=new J,_=new J,S=new J,E=new J;function A(T){S.fromArray(i,T*3),E.copy(S);const O=c[T];w.copy(O),w.sub(S.multiplyScalar(S.dot(O))).normalize(),_.crossVectors(E,O);const B=_.dot(d[T])<0?-1:1;l[T*4]=w.x,l[T*4+1]=w.y,l[T*4+2]=w.z,l[T*4+3]=B}for(let T=0,O=b.length;T<O;++T){const B=b[T],N=B.start,D=B.count;for(let q=N,j=N+D;q<j;q+=3)A(o[q+0]),A(o[q+1]),A(o[q+2])}}computeVertexNormals(){const e=this.index,a=this.getAttribute("position");if(a!==void 0){let o=this.getAttribute("normal");if(o===void 0)o=new Or(new Float32Array(a.count*3),3),this.setAttribute("normal",o);else for(let u=0,v=o.count;u<v;u++)o.setXYZ(u,0,0,0);const r=new J,i=new J,n=new J,s=new J,l=new J,c=new J,d=new J,m=new J;if(e)for(let u=0,v=e.count;u<v;u+=3){const h=e.getX(u+0),p=e.getX(u+1),f=e.getX(u+2);r.fromBufferAttribute(a,h),i.fromBufferAttribute(a,p),n.fromBufferAttribute(a,f),d.subVectors(n,i),m.subVectors(r,i),d.cross(m),s.fromBufferAttribute(o,h),l.fromBufferAttribute(o,p),c.fromBufferAttribute(o,f),s.add(d),l.add(d),c.add(d),o.setXYZ(h,s.x,s.y,s.z),o.setXYZ(p,l.x,l.y,l.z),o.setXYZ(f,c.x,c.y,c.z)}else for(let u=0,v=a.count;u<v;u+=3)r.fromBufferAttribute(a,u+0),i.fromBufferAttribute(a,u+1),n.fromBufferAttribute(a,u+2),d.subVectors(n,i),m.subVectors(r,i),d.cross(m),o.setXYZ(u+0,d.x,d.y,d.z),o.setXYZ(u+1,d.x,d.y,d.z),o.setXYZ(u+2,d.x,d.y,d.z);this.normalizeNormals(),o.needsUpdate=!0}}merge(e,a){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}a===void 0&&(a=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const o=this.attributes;for(const r in o){if(e.attributes[r]===void 0)continue;const i=o[r].array,n=e.attributes[r],s=n.array,l=n.itemSize*a,c=Math.min(s.length,i.length-l);for(let d=0,m=l;d<c;d++,m++)i[m]=s[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let a=0,o=e.count;a<o;a++)wa.fromBufferAttribute(e,a),wa.normalize(),e.setXYZ(a,wa.x,wa.y,wa.z)}toNonIndexed(){function e(s,l){const c=s.array,d=s.itemSize,m=s.normalized,u=new c.constructor(l.length*d);let v=0,h=0;for(let p=0,f=l.length;p<f;p++){s.isInterleavedBufferAttribute?v=l[p]*s.data.stride+s.offset:v=l[p]*d;for(let g=0;g<d;g++)u[h++]=c[v++]}return new Or(u,d,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const a=new Fr,o=this.index.array,r=this.attributes;for(const s in r){const l=r[s],c=e(l,o);a.setAttribute(s,c)}const i=this.morphAttributes;for(const s in i){const l=[],c=i[s];for(let d=0,m=c.length;d<m;d++){const u=c[d],v=e(u,o);l.push(v)}a.morphAttributes[s]=l}a.morphTargetsRelative=this.morphTargetsRelative;const n=this.groups;for(let s=0,l=n.length;s<l;s++){const c=n[s];a.addGroup(c.start,c.count,c.materialIndex)}return a}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const a=this.index;a!==null&&(e.data.index={type:a.array.constructor.name,array:Array.prototype.slice.call(a.array)});const o=this.attributes;for(const l in o){const c=o[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let i=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let m=0,u=c.length;m<u;m++){const v=c[m];d.push(v.toJSON(e.data))}d.length>0&&(r[l]=d,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const n=this.groups;n.length>0&&(e.data.groups=JSON.parse(JSON.stringify(n)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const a={};this.name=e.name;const o=e.index;o!==null&&this.setIndex(o.clone(a));const r=e.attributes;for(const c in r){const d=r[c];this.setAttribute(c,d.clone(a))}const i=e.morphAttributes;for(const c in i){const d=[],m=i[c];for(let u=0,v=m.length;u<v;u++)d.push(m[u].clone(a));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const n=e.groups;for(let c=0,d=n.length;c<d;c++){const m=n[c];this.addGroup(m.start,m.count,m.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Vx=new _a,As=new vF,Bh=new Md,Ci=new J,Ai=new J,Mi=new J,$h=new J,Uh=new J,Vh=new J,Lu=new J,Du=new J,Iu=new J,Ou=new St,ku=new St,zu=new St,Hh=new J,Nu=new J;class Pr extends Ga{constructor(e=new Fr,a=new T5){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=a,this.updateMorphTargets()}copy(e,a){return super.copy(e,a),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,a=Object.keys(e);if(a.length>0){const o=e[a[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,i=o.length;r<i;r++){const n=o[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=r}}}}raycast(e,a){const o=this.geometry,r=this.material,i=this.matrixWorld;if(r===void 0||(o.boundingSphere===null&&o.computeBoundingSphere(),Bh.copy(o.boundingSphere),Bh.applyMatrix4(i),e.ray.intersectsSphere(Bh)===!1)||(Vx.copy(i).invert(),As.copy(e.ray).applyMatrix4(Vx),o.boundingBox!==null&&As.intersectsBox(o.boundingBox)===!1))return;let n;const s=o.index,l=o.attributes.position,c=o.morphAttributes.position,d=o.morphTargetsRelative,m=o.attributes.uv,u=o.attributes.uv2,v=o.groups,h=o.drawRange;if(s!==null)if(Array.isArray(r))for(let p=0,f=v.length;p<f;p++){const g=v[p],y=r[g.materialIndex],x=Math.max(g.start,h.start),b=Math.min(s.count,Math.min(g.start+g.count,h.start+h.count));for(let w=x,_=b;w<_;w+=3){const S=s.getX(w),E=s.getX(w+1),A=s.getX(w+2);n=Fu(this,y,e,As,l,c,d,m,u,S,E,A),n&&(n.faceIndex=Math.floor(w/3),n.face.materialIndex=g.materialIndex,a.push(n))}}else{const p=Math.max(0,h.start),f=Math.min(s.count,h.start+h.count);for(let g=p,y=f;g<y;g+=3){const x=s.getX(g),b=s.getX(g+1),w=s.getX(g+2);n=Fu(this,r,e,As,l,c,d,m,u,x,b,w),n&&(n.faceIndex=Math.floor(g/3),a.push(n))}}else if(l!==void 0)if(Array.isArray(r))for(let p=0,f=v.length;p<f;p++){const g=v[p],y=r[g.materialIndex],x=Math.max(g.start,h.start),b=Math.min(l.count,Math.min(g.start+g.count,h.start+h.count));for(let w=x,_=b;w<_;w+=3){const S=w,E=w+1,A=w+2;n=Fu(this,y,e,As,l,c,d,m,u,S,E,A),n&&(n.faceIndex=Math.floor(w/3),n.face.materialIndex=g.materialIndex,a.push(n))}}else{const p=Math.max(0,h.start),f=Math.min(l.count,h.start+h.count);for(let g=p,y=f;g<y;g+=3){const x=g,b=g+1,w=g+2;n=Fu(this,r,e,As,l,c,d,m,u,x,b,w),n&&(n.faceIndex=Math.floor(g/3),a.push(n))}}}}function CF(t,e,a,o,r,i,n,s){let l;if(e.side===1?l=o.intersectTriangle(n,i,r,!0,s):l=o.intersectTriangle(r,i,n,e.side!==2,s),l===null)return null;Nu.copy(s),Nu.applyMatrix4(t.matrixWorld);const c=a.ray.origin.distanceTo(Nu);return c<a.near||c>a.far?null:{distance:c,point:Nu.clone(),object:t}}function Fu(t,e,a,o,r,i,n,s,l,c,d,m){Ci.fromBufferAttribute(r,c),Ai.fromBufferAttribute(r,d),Mi.fromBufferAttribute(r,m);const u=t.morphTargetInfluences;if(i&&u){Lu.set(0,0,0),Du.set(0,0,0),Iu.set(0,0,0);for(let h=0,p=i.length;h<p;h++){const f=u[h],g=i[h];f!==0&&($h.fromBufferAttribute(g,c),Uh.fromBufferAttribute(g,d),Vh.fromBufferAttribute(g,m),n?(Lu.addScaledVector($h,f),Du.addScaledVector(Uh,f),Iu.addScaledVector(Vh,f)):(Lu.addScaledVector($h.sub(Ci),f),Du.addScaledVector(Uh.sub(Ai),f),Iu.addScaledVector(Vh.sub(Mi),f)))}Ci.add(Lu),Ai.add(Du),Mi.add(Iu)}t.isSkinnedMesh&&(t.boneTransform(c,Ci),t.boneTransform(d,Ai),t.boneTransform(m,Mi));const v=CF(t,e,a,o,Ci,Ai,Mi,Hh);if(v){s&&(Ou.fromBufferAttribute(s,c),ku.fromBufferAttribute(s,d),zu.fromBufferAttribute(s,m),v.uv=ei.getUV(Hh,Ci,Ai,Mi,Ou,ku,zu,new St)),l&&(Ou.fromBufferAttribute(l,c),ku.fromBufferAttribute(l,d),zu.fromBufferAttribute(l,m),v.uv2=ei.getUV(Hh,Ci,Ai,Mi,Ou,ku,zu,new St));const h={a:c,b:d,c:m,normal:new J,materialIndex:0};ei.getNormal(Ci,Ai,Mi,h.normal),v.face=h}return v}class Gd extends Fr{constructor(e=1,a=1,o=1,r=1,i=1,n=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:a,depth:o,widthSegments:r,heightSegments:i,depthSegments:n};const s=this;r=Math.floor(r),i=Math.floor(i),n=Math.floor(n);const l=[],c=[],d=[],m=[];let u=0,v=0;h("z","y","x",-1,-1,o,a,e,n,i,0),h("z","y","x",1,-1,o,a,-e,n,i,1),h("x","z","y",1,1,e,o,a,r,n,2),h("x","z","y",1,-1,e,o,-a,r,n,3),h("x","y","z",1,-1,e,a,o,r,i,4),h("x","y","z",-1,-1,e,a,-o,r,i,5),this.setIndex(l),this.setAttribute("position",new Fa(c,3)),this.setAttribute("normal",new Fa(d,3)),this.setAttribute("uv",new Fa(m,2));function h(p,f,g,y,x,b,w,_,S,E,A){const T=b/S,O=w/E,B=b/2,N=w/2,D=_/2,q=S+1,j=E+1;let V=0,z=0;const F=new J;for(let H=0;H<j;H++){const oe=H*O-N;for(let W=0;W<q;W++){const ie=W*T-B;F[p]=ie*y,F[f]=oe*x,F[g]=D,c.push(F.x,F.y,F.z),F[p]=0,F[f]=0,F[g]=_>0?1:-1,d.push(F.x,F.y,F.z),m.push(W/S),m.push(1-H/E),V+=1}}for(let H=0;H<E;H++)for(let oe=0;oe<S;oe++){const W=u+oe+q*H,ie=u+oe+q*(H+1),le=u+(oe+1)+q*(H+1),Ce=u+(oe+1)+q*H;l.push(W,ie,Ce),l.push(ie,le,Ce),z+=6}s.addGroup(v,z,A),v+=z,u+=V}}static fromJSON(e){return new Gd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ml(t){const e={};for(const a in t){e[a]={};for(const o in t[a]){const r=t[a][o];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[a][o]=r.clone():Array.isArray(r)?e[a][o]=r.slice():e[a][o]=r}}return e}function za(t){const e={};for(let a=0;a<t.length;a++){const o=Ml(t[a]);for(const r in o)e[r]=o[r]}return e}function AF(t){const e=[];for(let a=0;a<t.length;a++)e.push(t[a].clone());return e}const MF={clone:Ml,merge:za};var RF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,TF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class rs extends cs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=RF,this.fragmentShader=TF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ml(e.uniforms),this.uniformsGroups=AF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const a=super.toJSON(e);a.glslVersion=this.glslVersion,a.uniforms={};for(const r in this.uniforms){const i=this.uniforms[r].value;i&&i.isTexture?a.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?a.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?a.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?a.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?a.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?a.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?a.uniforms[r]={type:"m4",value:i.toArray()}:a.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(a.defines=this.defines),a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader;const o={};for(const r in this.extensions)this.extensions[r]===!0&&(o[r]=!0);return Object.keys(o).length>0&&(a.extensions=o),a}}class D5 extends Ga{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _a,this.projectionMatrix=new _a,this.projectionMatrixInverse=new _a}copy(e,a){return super.copy(e,a),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const a=this.matrixWorld.elements;return e.set(-a[8],-a[9],-a[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,a){super.updateWorldMatrix(e,a),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class go extends D5{constructor(e=50,a=1,o=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=o,this.far=r,this.focus=10,this.aspect=a,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,a){return super.copy(e,a),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const a=.5*this.getFilmHeight()/e;this.fov=Lg*2*Math.atan(a),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Sh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Lg*2*Math.atan(Math.tan(Sh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,a,o,r,i,n){this.aspect=e/a,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=a,this.view.offsetX=o,this.view.offsetY=r,this.view.width=i,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let a=e*Math.tan(Sh*.5*this.fov)/this.zoom,o=2*a,r=this.aspect*o,i=-.5*r;const n=this.view;if(this.view!==null&&this.view.enabled){const l=n.fullWidth,c=n.fullHeight;i+=n.offsetX*r/l,a-=n.offsetY*o/c,r*=n.width/l,o*=n.height/c}const s=this.filmOffset;s!==0&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,a,a-o,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const a=super.toJSON(e);return a.object.fov=this.fov,a.object.zoom=this.zoom,a.object.near=this.near,a.object.far=this.far,a.object.focus=this.focus,a.object.aspect=this.aspect,this.view!==null&&(a.object.view=Object.assign({},this.view)),a.object.filmGauge=this.filmGauge,a.object.filmOffset=this.filmOffset,a}}const Ms=90,Rs=1;class PF extends Ga{constructor(e,a,o){if(super(),this.type="CubeCamera",o.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=o;const r=new go(Ms,Rs,e,a);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new J(1,0,0)),this.add(r);const i=new go(Ms,Rs,e,a);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new J(-1,0,0)),this.add(i);const n=new go(Ms,Rs,e,a);n.layers=this.layers,n.up.set(0,0,1),n.lookAt(new J(0,1,0)),this.add(n);const s=new go(Ms,Rs,e,a);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new J(0,-1,0)),this.add(s);const l=new go(Ms,Rs,e,a);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new J(0,0,1)),this.add(l);const c=new go(Ms,Rs,e,a);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new J(0,0,-1)),this.add(c)}update(e,a){this.parent===null&&this.updateMatrixWorld();const o=this.renderTarget,[r,i,n,s,l,c]=this.children,d=e.getRenderTarget(),m=e.toneMapping,u=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const v=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,e.setRenderTarget(o,0),e.render(a,r),e.setRenderTarget(o,1),e.render(a,i),e.setRenderTarget(o,2),e.render(a,n),e.setRenderTarget(o,3),e.render(a,s),e.setRenderTarget(o,4),e.render(a,l),o.texture.generateMipmaps=v,e.setRenderTarget(o,5),e.render(a,c),e.setRenderTarget(d),e.toneMapping=m,e.xr.enabled=u,o.texture.needsPMREMUpdate=!0}}class I5 extends Mo{constructor(e,a,o,r,i,n,s,l,c,d){e=e!==void 0?e:[],a=a!==void 0?a:301,super(e,a,o,r,i,n,s,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class LF extends os{constructor(e,a={}){super(e,e,a),this.isWebGLCubeRenderTarget=!0;const o={width:e,height:e,depth:1},r=[o,o,o,o,o,o];this.texture=new I5(r,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=a.generateMipmaps!==void 0?a.generateMipmaps:!1,this.texture.minFilter=a.minFilter!==void 0?a.minFilter:1006}fromEquirectangularTexture(e,a){this.texture.type=a.type,this.texture.encoding=a.encoding,this.texture.generateMipmaps=a.generateMipmaps,this.texture.minFilter=a.minFilter,this.texture.magFilter=a.magFilter;const o={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Gd(5,5,5),i=new rs({name:"CubemapFromEquirect",uniforms:Ml(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=a;const n=new Pr(r,i),s=a.minFilter;return a.minFilter===1008&&(a.minFilter=1006),new PF(1,10,this).update(e,n),a.minFilter=s,n.geometry.dispose(),n.material.dispose(),this}clear(e,a,o,r){const i=e.getRenderTarget();for(let n=0;n<6;n++)e.setRenderTarget(this,n),e.clear(a,o,r);e.setRenderTarget(i)}}const Wh=new J,DF=new J,IF=new Vo;class xn{constructor(e=new J(1,0,0),a=0){this.isPlane=!0,this.normal=e,this.constant=a}set(e,a){return this.normal.copy(e),this.constant=a,this}setComponents(e,a,o,r){return this.normal.set(e,a,o),this.constant=r,this}setFromNormalAndCoplanarPoint(e,a){return this.normal.copy(e),this.constant=-a.dot(this.normal),this}setFromCoplanarPoints(e,a,o){const r=Wh.subVectors(o,a).cross(DF.subVectors(e,a)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,a){return a.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,a){const o=e.delta(Wh),r=this.normal.dot(o);if(r===0)return this.distanceToPoint(e.start)===0?a.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:a.copy(o).multiplyScalar(i).add(e.start)}intersectsLine(e){const a=this.distanceToPoint(e.start),o=this.distanceToPoint(e.end);return a<0&&o>0||o<0&&a>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,a){const o=a||IF.getNormalMatrix(e),r=this.coplanarPoint(Wh).applyMatrix4(e),i=this.normal.applyMatrix3(o).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ts=new Md,qu=new J;class w1{constructor(e=new xn,a=new xn,o=new xn,r=new xn,i=new xn,n=new xn){this.planes=[e,a,o,r,i,n]}set(e,a,o,r,i,n){const s=this.planes;return s[0].copy(e),s[1].copy(a),s[2].copy(o),s[3].copy(r),s[4].copy(i),s[5].copy(n),this}copy(e){const a=this.planes;for(let o=0;o<6;o++)a[o].copy(e.planes[o]);return this}setFromProjectionMatrix(e){const a=this.planes,o=e.elements,r=o[0],i=o[1],n=o[2],s=o[3],l=o[4],c=o[5],d=o[6],m=o[7],u=o[8],v=o[9],h=o[10],p=o[11],f=o[12],g=o[13],y=o[14],x=o[15];return a[0].setComponents(s-r,m-l,p-u,x-f).normalize(),a[1].setComponents(s+r,m+l,p+u,x+f).normalize(),a[2].setComponents(s+i,m+c,p+v,x+g).normalize(),a[3].setComponents(s-i,m-c,p-v,x-g).normalize(),a[4].setComponents(s-n,m-d,p-h,x-y).normalize(),a[5].setComponents(s+n,m+d,p+h,x+y).normalize(),this}intersectsObject(e){const a=e.geometry;return a.boundingSphere===null&&a.computeBoundingSphere(),Ts.copy(a.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ts)}intersectsSprite(e){return Ts.center.set(0,0,0),Ts.radius=.7071067811865476,Ts.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ts)}intersectsSphere(e){const a=this.planes,o=e.center,r=-e.radius;for(let i=0;i<6;i++)if(a[i].distanceToPoint(o)<r)return!1;return!0}intersectsBox(e){const a=this.planes;for(let o=0;o<6;o++){const r=a[o];if(qu.x=r.normal.x>0?e.max.x:e.min.x,qu.y=r.normal.y>0?e.max.y:e.min.y,qu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(qu)<0)return!1}return!0}containsPoint(e){const a=this.planes;for(let o=0;o<6;o++)if(a[o].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function O5(){let t=null,e=!1,a=null,o=null;function r(i,n){a(i,n),o=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&a!==null&&(o=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(o),e=!1},setAnimationLoop:function(i){a=i},setContext:function(i){t=i}}}function OF(t,e){const a=e.isWebGL2,o=new WeakMap;function r(c,d){const m=c.array,u=c.usage,v=t.createBuffer();t.bindBuffer(d,v),t.bufferData(d,m,u),c.onUploadCallback();let h;if(m instanceof Float32Array)h=5126;else if(m instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(a)h=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else h=5123;else if(m instanceof Int16Array)h=5122;else if(m instanceof Uint32Array)h=5125;else if(m instanceof Int32Array)h=5124;else if(m instanceof Int8Array)h=5120;else if(m instanceof Uint8Array)h=5121;else if(m instanceof Uint8ClampedArray)h=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:v,type:h,bytesPerElement:m.BYTES_PER_ELEMENT,version:c.version}}function i(c,d,m){const u=d.array,v=d.updateRange;t.bindBuffer(m,c),v.count===-1?t.bufferSubData(m,0,u):(a?t.bufferSubData(m,v.offset*u.BYTES_PER_ELEMENT,u,v.offset,v.count):t.bufferSubData(m,v.offset*u.BYTES_PER_ELEMENT,u.subarray(v.offset,v.offset+v.count)),v.count=-1)}function n(c){return c.isInterleavedBufferAttribute&&(c=c.data),o.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=o.get(c);d&&(t.deleteBuffer(d.buffer),o.delete(c))}function l(c,d){if(c.isGLBufferAttribute){const u=o.get(c);(!u||u.version<c.version)&&o.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const m=o.get(c);m===void 0?o.set(c,r(c,d)):m.version<c.version&&(i(m.buffer,c,d),m.version=c.version)}return{get:n,remove:s,update:l}}class Pf extends Fr{constructor(e=1,a=1,o=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:a,widthSegments:o,heightSegments:r};const i=e/2,n=a/2,s=Math.floor(o),l=Math.floor(r),c=s+1,d=l+1,m=e/s,u=a/l,v=[],h=[],p=[],f=[];for(let g=0;g<d;g++){const y=g*u-n;for(let x=0;x<c;x++){const b=x*m-i;h.push(b,-y,0),p.push(0,0,1),f.push(x/s),f.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<s;y++){const x=y+c*g,b=y+c*(g+1),w=y+1+c*(g+1),_=y+1+c*g;v.push(x,b,_),v.push(b,w,_)}this.setIndex(v),this.setAttribute("position",new Fa(h,3)),this.setAttribute("normal",new Fa(p,3)),this.setAttribute("uv",new Fa(f,2))}static fromJSON(e){return new Pf(e.width,e.height,e.widthSegments,e.heightSegments)}}var kF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,zF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,NF=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,FF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qF=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,jF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,BF="vec3 transformed = vec3( position );",$F=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,UF=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,VF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,HF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,WF=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,GF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ZF=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,XF=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,YF=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,KF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,QF=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,JF=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,eq=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,tq=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,aq=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oq=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,rq=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,iq=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,nq=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sq="gl_FragColor = linearToOutputTexel( gl_FragColor );",lq=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,cq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,dq=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,uq=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,mq=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,pq=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fq=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,hq=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,vq=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,gq=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,yq=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,xq=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,bq=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,_q=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,wq=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Eq=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Sq=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Cq=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Aq=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Mq=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Rq=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Tq=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Pq=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Lq=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Dq=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Iq=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Oq=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,kq=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,zq=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Nq=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Fq=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qq=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jq=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Bq=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$q=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Uq=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Vq=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Hq=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Wq=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Gq=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Zq=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Xq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Yq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Kq=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Qq=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Jq=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,ej=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,tj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,aj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,oj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,ij=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,nj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,sj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,lj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,cj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,dj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,mj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,pj=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,fj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,vj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,gj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,yj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,xj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,bj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_j=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,wj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Ej=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,Sj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,Cj=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,Aj=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,Mj=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,Rj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,Tj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Pj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,Lj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Dj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Ij=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Oj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kj=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,zj=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Nj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Fj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,qj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Bj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$j=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Uj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Vj=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Hj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Wj=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gj=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Xj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yj=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Kj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Qj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eB=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,tB=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aB=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oB=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rB=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nB=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sB=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,lB=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xt={alphamap_fragment:kF,alphamap_pars_fragment:zF,alphatest_fragment:NF,alphatest_pars_fragment:FF,aomap_fragment:qF,aomap_pars_fragment:jF,begin_vertex:BF,beginnormal_vertex:$F,bsdfs:UF,iridescence_fragment:VF,bumpmap_pars_fragment:HF,clipping_planes_fragment:WF,clipping_planes_pars_fragment:GF,clipping_planes_pars_vertex:ZF,clipping_planes_vertex:XF,color_fragment:YF,color_pars_fragment:KF,color_pars_vertex:QF,color_vertex:JF,common:eq,cube_uv_reflection_fragment:tq,defaultnormal_vertex:aq,displacementmap_pars_vertex:oq,displacementmap_vertex:rq,emissivemap_fragment:iq,emissivemap_pars_fragment:nq,encodings_fragment:sq,encodings_pars_fragment:lq,envmap_fragment:cq,envmap_common_pars_fragment:dq,envmap_pars_fragment:uq,envmap_pars_vertex:mq,envmap_physical_pars_fragment:Eq,envmap_vertex:pq,fog_vertex:fq,fog_pars_vertex:hq,fog_fragment:vq,fog_pars_fragment:gq,gradientmap_pars_fragment:yq,lightmap_fragment:xq,lightmap_pars_fragment:bq,lights_lambert_vertex:_q,lights_pars_begin:wq,lights_toon_fragment:Sq,lights_toon_pars_fragment:Cq,lights_phong_fragment:Aq,lights_phong_pars_fragment:Mq,lights_physical_fragment:Rq,lights_physical_pars_fragment:Tq,lights_fragment_begin:Pq,lights_fragment_maps:Lq,lights_fragment_end:Dq,logdepthbuf_fragment:Iq,logdepthbuf_pars_fragment:Oq,logdepthbuf_pars_vertex:kq,logdepthbuf_vertex:zq,map_fragment:Nq,map_pars_fragment:Fq,map_particle_fragment:qq,map_particle_pars_fragment:jq,metalnessmap_fragment:Bq,metalnessmap_pars_fragment:$q,morphcolor_vertex:Uq,morphnormal_vertex:Vq,morphtarget_pars_vertex:Hq,morphtarget_vertex:Wq,normal_fragment_begin:Gq,normal_fragment_maps:Zq,normal_pars_fragment:Xq,normal_pars_vertex:Yq,normal_vertex:Kq,normalmap_pars_fragment:Qq,clearcoat_normal_fragment_begin:Jq,clearcoat_normal_fragment_maps:ej,clearcoat_pars_fragment:tj,iridescence_pars_fragment:aj,output_fragment:oj,packing:rj,premultiplied_alpha_fragment:ij,project_vertex:nj,dithering_fragment:sj,dithering_pars_fragment:lj,roughnessmap_fragment:cj,roughnessmap_pars_fragment:dj,shadowmap_pars_fragment:uj,shadowmap_pars_vertex:mj,shadowmap_vertex:pj,shadowmask_pars_fragment:fj,skinbase_vertex:hj,skinning_pars_vertex:vj,skinning_vertex:gj,skinnormal_vertex:yj,specularmap_fragment:xj,specularmap_pars_fragment:bj,tonemapping_fragment:_j,tonemapping_pars_fragment:wj,transmission_fragment:Ej,transmission_pars_fragment:Sj,uv_pars_fragment:Cj,uv_pars_vertex:Aj,uv_vertex:Mj,uv2_pars_fragment:Rj,uv2_pars_vertex:Tj,uv2_vertex:Pj,worldpos_vertex:Lj,background_vert:Dj,background_frag:Ij,cube_vert:Oj,cube_frag:kj,depth_vert:zj,depth_frag:Nj,distanceRGBA_vert:Fj,distanceRGBA_frag:qj,equirect_vert:jj,equirect_frag:Bj,linedashed_vert:$j,linedashed_frag:Uj,meshbasic_vert:Vj,meshbasic_frag:Hj,meshlambert_vert:Wj,meshlambert_frag:Gj,meshmatcap_vert:Zj,meshmatcap_frag:Xj,meshnormal_vert:Yj,meshnormal_frag:Kj,meshphong_vert:Qj,meshphong_frag:Jj,meshphysical_vert:eB,meshphysical_frag:tB,meshtoon_vert:aB,meshtoon_frag:oB,points_vert:rB,points_frag:iB,shadow_vert:nB,shadow_frag:sB,sprite_vert:lB,sprite_frag:cB},Ae={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Vo},uv2Transform:{value:new Vo},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new St(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Vo}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new St(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Vo}}},Rr={basic:{uniforms:za([Ae.common,Ae.specularmap,Ae.envmap,Ae.aomap,Ae.lightmap,Ae.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:za([Ae.common,Ae.specularmap,Ae.envmap,Ae.aomap,Ae.lightmap,Ae.emissivemap,Ae.fog,Ae.lights,{emissive:{value:new Et(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:za([Ae.common,Ae.specularmap,Ae.envmap,Ae.aomap,Ae.lightmap,Ae.emissivemap,Ae.bumpmap,Ae.normalmap,Ae.displacementmap,Ae.fog,Ae.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:za([Ae.common,Ae.envmap,Ae.aomap,Ae.lightmap,Ae.emissivemap,Ae.bumpmap,Ae.normalmap,Ae.displacementmap,Ae.roughnessmap,Ae.metalnessmap,Ae.fog,Ae.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:za([Ae.common,Ae.aomap,Ae.lightmap,Ae.emissivemap,Ae.bumpmap,Ae.normalmap,Ae.displacementmap,Ae.gradientmap,Ae.fog,Ae.lights,{emissive:{value:new Et(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:za([Ae.common,Ae.bumpmap,Ae.normalmap,Ae.displacementmap,Ae.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:za([Ae.points,Ae.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:za([Ae.common,Ae.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:za([Ae.common,Ae.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:za([Ae.common,Ae.bumpmap,Ae.normalmap,Ae.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:za([Ae.sprite,Ae.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new Vo},t2D:{value:null}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},cube:{uniforms:za([Ae.envmap,{opacity:{value:1}}]),vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:za([Ae.common,Ae.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:za([Ae.lights,Ae.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};Rr.physical={uniforms:za([Rr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new St(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new St},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};function dB(t,e,a,o,r,i){const n=new Et(0);let s=r===!0?0:1,l,c,d=null,m=0,u=null;function v(p,f){let g=!1,y=f.isScene===!0?f.background:null;y&&y.isTexture&&(y=e.get(y));const x=t.xr,b=x.getSession&&x.getSession();b&&b.environmentBlendMode==="additive"&&(y=null),y===null?h(n,s):y&&y.isColor&&(h(y,1),g=!0),(t.autoClear||g)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),y&&(y.isCubeTexture||y.mapping===306)?(c===void 0&&(c=new Pr(new Gd(1,1,1),new rs({name:"BackgroundCubeMaterial",uniforms:Ml(Rr.cube.uniforms),vertexShader:Rr.cube.vertexShader,fragmentShader:Rr.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,_,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(d!==y||m!==y.version||u!==t.toneMapping)&&(c.material.needsUpdate=!0,d=y,m=y.version,u=t.toneMapping),c.layers.enableAll(),p.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(l===void 0&&(l=new Pr(new Pf(2,2),new rs({name:"BackgroundMaterial",uniforms:Ml(Rr.background.uniforms),vertexShader:Rr.background.vertexShader,fragmentShader:Rr.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(l)),l.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(d!==y||m!==y.version||u!==t.toneMapping)&&(l.material.needsUpdate=!0,d=y,m=y.version,u=t.toneMapping),l.layers.enableAll(),p.unshift(l,l.geometry,l.material,0,0,null))}function h(p,f){a.buffers.color.setClear(p.r,p.g,p.b,f,i)}return{getClearColor:function(){return n},setClearColor:function(p,f=1){n.set(p),s=f,h(n,s)},getClearAlpha:function(){return s},setClearAlpha:function(p){s=p,h(n,s)},render:v}}function uB(t,e,a,o){const r=t.getParameter(34921),i=o.isWebGL2?null:e.get("OES_vertex_array_object"),n=o.isWebGL2||i!==null,s={},l=f(null);let c=l,d=!1;function m(D,q,j,V,z){let F=!1;if(n){const H=p(V,j,q);c!==H&&(c=H,v(c.object)),F=g(D,V,j,z),F&&y(D,V,j,z)}else{const H=q.wireframe===!0;(c.geometry!==V.id||c.program!==j.id||c.wireframe!==H)&&(c.geometry=V.id,c.program=j.id,c.wireframe=H,F=!0)}z!==null&&a.update(z,34963),(F||d)&&(d=!1,E(D,q,j,V),z!==null&&t.bindBuffer(34963,a.get(z).buffer))}function u(){return o.isWebGL2?t.createVertexArray():i.createVertexArrayOES()}function v(D){return o.isWebGL2?t.bindVertexArray(D):i.bindVertexArrayOES(D)}function h(D){return o.isWebGL2?t.deleteVertexArray(D):i.deleteVertexArrayOES(D)}function p(D,q,j){const V=j.wireframe===!0;let z=s[D.id];z===void 0&&(z={},s[D.id]=z);let F=z[q.id];F===void 0&&(F={},z[q.id]=F);let H=F[V];return H===void 0&&(H=f(u()),F[V]=H),H}function f(D){const q=[],j=[],V=[];for(let z=0;z<r;z++)q[z]=0,j[z]=0,V[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:j,attributeDivisors:V,object:D,attributes:{},index:null}}function g(D,q,j,V){const z=c.attributes,F=q.attributes;let H=0;const oe=j.getAttributes();for(const W in oe)if(oe[W].location>=0){const ie=z[W];let le=F[W];if(le===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(le=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(le=D.instanceColor)),ie===void 0||ie.attribute!==le||le&&ie.data!==le.data)return!0;H++}return c.attributesNum!==H||c.index!==V}function y(D,q,j,V){const z={},F=q.attributes;let H=0;const oe=j.getAttributes();for(const W in oe)if(oe[W].location>=0){let ie=F[W];ie===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(ie=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(ie=D.instanceColor));const le={};le.attribute=ie,ie&&ie.data&&(le.data=ie.data),z[W]=le,H++}c.attributes=z,c.attributesNum=H,c.index=V}function x(){const D=c.newAttributes;for(let q=0,j=D.length;q<j;q++)D[q]=0}function b(D){w(D,0)}function w(D,q){const j=c.newAttributes,V=c.enabledAttributes,z=c.attributeDivisors;j[D]=1,V[D]===0&&(t.enableVertexAttribArray(D),V[D]=1),z[D]!==q&&((o.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](D,q),z[D]=q)}function _(){const D=c.newAttributes,q=c.enabledAttributes;for(let j=0,V=q.length;j<V;j++)q[j]!==D[j]&&(t.disableVertexAttribArray(j),q[j]=0)}function S(D,q,j,V,z,F){o.isWebGL2===!0&&(j===5124||j===5125)?t.vertexAttribIPointer(D,q,j,z,F):t.vertexAttribPointer(D,q,j,V,z,F)}function E(D,q,j,V){if(o.isWebGL2===!1&&(D.isInstancedMesh||V.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const z=V.attributes,F=j.getAttributes(),H=q.defaultAttributeValues;for(const oe in F){const W=F[oe];if(W.location>=0){let ie=z[oe];if(ie===void 0&&(oe==="instanceMatrix"&&D.instanceMatrix&&(ie=D.instanceMatrix),oe==="instanceColor"&&D.instanceColor&&(ie=D.instanceColor)),ie!==void 0){const le=ie.normalized,Ce=ie.itemSize,Z=a.get(ie);if(Z===void 0)continue;const Oe=Z.buffer,Me=Z.type,Re=Z.bytesPerElement;if(ie.isInterleavedBufferAttribute){const xe=ie.data,Te=xe.stride,Ne=ie.offset;if(xe.isInstancedInterleavedBuffer){for(let he=0;he<W.locationSize;he++)w(W.location+he,xe.meshPerAttribute);D.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let he=0;he<W.locationSize;he++)b(W.location+he);t.bindBuffer(34962,Oe);for(let he=0;he<W.locationSize;he++)S(W.location+he,Ce/W.locationSize,Me,le,Te*Re,(Ne+Ce/W.locationSize*he)*Re)}else{if(ie.isInstancedBufferAttribute){for(let xe=0;xe<W.locationSize;xe++)w(W.location+xe,ie.meshPerAttribute);D.isInstancedMesh!==!0&&V._maxInstanceCount===void 0&&(V._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let xe=0;xe<W.locationSize;xe++)b(W.location+xe);t.bindBuffer(34962,Oe);for(let xe=0;xe<W.locationSize;xe++)S(W.location+xe,Ce/W.locationSize,Me,le,Ce*Re,Ce/W.locationSize*xe*Re)}}else if(H!==void 0){const le=H[oe];if(le!==void 0)switch(le.length){case 2:t.vertexAttrib2fv(W.location,le);break;case 3:t.vertexAttrib3fv(W.location,le);break;case 4:t.vertexAttrib4fv(W.location,le);break;default:t.vertexAttrib1fv(W.location,le)}}}}_()}function A(){B();for(const D in s){const q=s[D];for(const j in q){const V=q[j];for(const z in V)h(V[z].object),delete V[z];delete q[j]}delete s[D]}}function T(D){if(s[D.id]===void 0)return;const q=s[D.id];for(const j in q){const V=q[j];for(const z in V)h(V[z].object),delete V[z];delete q[j]}delete s[D.id]}function O(D){for(const q in s){const j=s[q];if(j[D.id]===void 0)continue;const V=j[D.id];for(const z in V)h(V[z].object),delete V[z];delete j[D.id]}}function B(){N(),d=!0,c!==l&&(c=l,v(c.object))}function N(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:m,reset:B,resetDefaultState:N,dispose:A,releaseStatesOfGeometry:T,releaseStatesOfProgram:O,initAttributes:x,enableAttribute:b,disableUnusedAttributes:_}}function mB(t,e,a,o){const r=o.isWebGL2;let i;function n(c){i=c}function s(c,d){t.drawArrays(i,c,d),a.update(d,i,1)}function l(c,d,m){if(m===0)return;let u,v;if(r)u=t,v="drawArraysInstanced";else if(u=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",u===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}u[v](i,c,d,m),a.update(d,i,m)}this.setMode=n,this.render=s,this.renderInstances=l}function pB(t,e,a){let o;function r(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const S=e.get("EXT_texture_filter_anisotropic");o=t.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function i(S){if(S==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";S="mediump"}return S==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const n=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let s=a.precision!==void 0?a.precision:"highp";const l=i(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=n||e.has("WEBGL_draw_buffers"),d=a.logarithmicDepthBuffer===!0,m=t.getParameter(34930),u=t.getParameter(35660),v=t.getParameter(3379),h=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),g=t.getParameter(36348),y=t.getParameter(36349),x=u>0,b=n||e.has("OES_texture_float"),w=x&&b,_=n?t.getParameter(36183):0;return{isWebGL2:n,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:i,precision:s,logarithmicDepthBuffer:d,maxTextures:m,maxVertexTextures:u,maxTextureSize:v,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:f,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:x,floatFragmentTextures:b,floatVertexTextures:w,maxSamples:_}}function fB(t){const e=this;let a=null,o=0,r=!1,i=!1;const n=new xn,s=new Vo,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(m,u,v){const h=m.length!==0||u||o!==0||r;return r=u,a=d(m,v,0),o=m.length,h},this.beginShadows=function(){i=!0,d(null)},this.endShadows=function(){i=!1,c()},this.setState=function(m,u,v){const h=m.clippingPlanes,p=m.clipIntersection,f=m.clipShadows,g=t.get(m);if(!r||h===null||h.length===0||i&&!f)i?d(null):c();else{const y=i?0:o,x=y*4;let b=g.clippingState||null;l.value=b,b=d(h,u,x,v);for(let w=0;w!==x;++w)b[w]=a[w];g.clippingState=b,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==a&&(l.value=a,l.needsUpdate=o>0),e.numPlanes=o,e.numIntersection=0}function d(m,u,v,h){const p=m!==null?m.length:0;let f=null;if(p!==0){if(f=l.value,h!==!0||f===null){const g=v+p*4,y=u.matrixWorldInverse;s.getNormalMatrix(y),(f===null||f.length<g)&&(f=new Float32Array(g));for(let x=0,b=v;x!==p;++x,b+=4)n.copy(m[x]).applyMatrix4(y,s),n.normal.toArray(f,b),f[b+3]=n.constant}l.value=f,l.needsUpdate=!0}return e.numPlanes=p,e.numIntersection=0,f}}function hB(t){let e=new WeakMap;function a(n,s){return s===303?n.mapping=301:s===304&&(n.mapping=302),n}function o(n){if(n&&n.isTexture&&n.isRenderTargetTexture===!1){const s=n.mapping;if(s===303||s===304)if(e.has(n)){const l=e.get(n).texture;return a(l,n.mapping)}else{const l=n.image;if(l&&l.height>0){const c=new LF(l.height/2);return c.fromEquirectangularTexture(t,n),e.set(n,c),n.addEventListener("dispose",r),a(c.texture,n.mapping)}else return null}}return n}function r(n){const s=n.target;s.removeEventListener("dispose",r);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function i(){e=new WeakMap}return{get:o,dispose:i}}class vB extends D5{constructor(e=-1,a=1,o=1,r=-1,i=.1,n=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=a,this.top=o,this.bottom=r,this.near=i,this.far=n,this.updateProjectionMatrix()}copy(e,a){return super.copy(e,a),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,a,o,r,i,n){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=a,this.view.offsetX=o,this.view.offsetY=r,this.view.width=i,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),a=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=o-e,n=o+e,s=r+a,l=r-a;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=c*this.view.offsetX,n=i+c*this.view.width,s-=d*this.view.offsetY,l=s-d*this.view.height}this.projectionMatrix.makeOrthographic(i,n,s,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const a=super.toJSON(e);return a.object.zoom=this.zoom,a.object.left=this.left,a.object.right=this.right,a.object.top=this.top,a.object.bottom=this.bottom,a.object.near=this.near,a.object.far=this.far,this.view!==null&&(a.object.view=Object.assign({},this.view)),a}}const Qs=4,Hx=[.125,.215,.35,.446,.526,.582],_n=20,Gh=new vB,Wx=new Et;let Zh=null;const bn=(1+Math.sqrt(5))/2,Ps=1/bn,Gx=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,bn,Ps),new J(0,bn,-Ps),new J(Ps,0,bn),new J(-Ps,0,bn),new J(bn,Ps,0),new J(-bn,Ps,0)];class Zx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,a=0,o=.1,r=100){Zh=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,o,r,i),a>0&&this._blur(i,0,0,a),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,a=null){return this._fromTexture(e,a)}fromCubemap(e,a=null){return this._fromTexture(e,a)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Kx(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Yx(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Zh),e.scissorTest=!1,ju(e,0,0,e.width,e.height)}_fromTexture(e,a){e.mapping===301||e.mapping===302?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Zh=this._renderer.getRenderTarget();const o=a||this._allocateTargets();return this._textureToCubeUV(e,o),this._applyPMREM(o),this._cleanup(o),o}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),a=4*this._cubeSize,o={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!1},r=Xx(e,a,o);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Xx(e,a,o);const{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gB(i)),this._blurMaterial=yB(i,e,a)}return r}_compileMaterial(e){const a=new Pr(this._lodPlanes[0],e);this._renderer.compile(a,Gh)}_sceneToCubeUV(e,a,o,r){const i=new go(90,1,a,o),n=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,d=l.toneMapping;l.getClearColor(Wx),l.toneMapping=0,l.autoClear=!1;const m=new T5({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),u=new Pr(new Gd,m);let v=!1;const h=e.background;h?h.isColor&&(m.color.copy(h),e.background=null,v=!0):(m.color.copy(Wx),v=!0);for(let p=0;p<6;p++){const f=p%3;f===0?(i.up.set(0,n[p],0),i.lookAt(s[p],0,0)):f===1?(i.up.set(0,0,n[p]),i.lookAt(0,s[p],0)):(i.up.set(0,n[p],0),i.lookAt(0,0,s[p]));const g=this._cubeSize;ju(r,f*g,p>2?g:0,g,g),l.setRenderTarget(r),v&&l.render(u,i),l.render(e,i)}u.geometry.dispose(),u.material.dispose(),l.toneMapping=d,l.autoClear=c,e.background=h}_textureToCubeUV(e,a){const o=this._renderer,r=e.mapping===301||e.mapping===302;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Kx()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Yx());const i=r?this._cubemapMaterial:this._equirectMaterial,n=new Pr(this._lodPlanes[0],i),s=i.uniforms;s.envMap.value=e;const l=this._cubeSize;ju(a,0,0,3*l,2*l),o.setRenderTarget(a),o.render(n,Gh)}_applyPMREM(e){const a=this._renderer,o=a.autoClear;a.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=Gx[(r-1)%Gx.length];this._blur(e,r-1,r,i,n)}a.autoClear=o}_blur(e,a,o,r,i){const n=this._pingPongRenderTarget;this._halfBlur(e,n,a,o,r,"latitudinal",i),this._halfBlur(n,e,o,o,r,"longitudinal",i)}_halfBlur(e,a,o,r,i,n,s){const l=this._renderer,c=this._blurMaterial;n!=="latitudinal"&&n!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,m=new Pr(this._lodPlanes[r],c),u=c.uniforms,v=this._sizeLods[o]-1,h=isFinite(i)?Math.PI/(2*v):2*Math.PI/(2*_n-1),p=i/h,f=isFinite(i)?1+Math.floor(d*p):_n;f>_n&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${f} samples when the maximum is set to ${_n}`);const g=[];let y=0;for(let S=0;S<_n;++S){const E=S/p,A=Math.exp(-E*E/2);g.push(A),S===0?y+=A:S<f&&(y+=2*A)}for(let S=0;S<g.length;S++)g[S]=g[S]/y;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=g,u.latitudinal.value=n==="latitudinal",s&&(u.poleAxis.value=s);const{_lodMax:x}=this;u.dTheta.value=h,u.mipInt.value=x-o;const b=this._sizeLods[r],w=3*b*(r>x-Qs?r-x+Qs:0),_=4*(this._cubeSize-b);ju(a,w,_,3*b,2*b),l.setRenderTarget(a),l.render(m,Gh)}}function gB(t){const e=[],a=[],o=[];let r=t;const i=t-Qs+1+Hx.length;for(let n=0;n<i;n++){const s=Math.pow(2,r);a.push(s);let l=1/s;n>t-Qs?l=Hx[n-t+Qs-1]:n===0&&(l=0),o.push(l);const c=1/(s-2),d=-c,m=1+c,u=[d,d,m,d,m,m,d,d,m,m,d,m],v=6,h=6,p=3,f=2,g=1,y=new Float32Array(p*h*v),x=new Float32Array(f*h*v),b=new Float32Array(g*h*v);for(let _=0;_<v;_++){const S=_%3*2/3-1,E=_>2?0:-1,A=[S,E,0,S+2/3,E,0,S+2/3,E+1,0,S,E,0,S+2/3,E+1,0,S,E+1,0];y.set(A,p*h*_),x.set(u,f*h*_);const T=[_,_,_,_,_,_];b.set(T,g*h*_)}const w=new Fr;w.setAttribute("position",new Or(y,p)),w.setAttribute("uv",new Or(x,f)),w.setAttribute("faceIndex",new Or(b,g)),e.push(w),r>Qs&&r--}return{lodPlanes:e,sizeLods:a,sigmas:o}}function Xx(t,e,a){const o=new os(t,e,a);return o.texture.mapping=306,o.texture.name="PMREM.cubeUv",o.scissorTest=!0,o}function ju(t,e,a,o,r){t.viewport.set(e,a,o,r),t.scissor.set(e,a,o,r)}function yB(t,e,a){const o=new Float32Array(_n),r=new J(0,1,0);return new rs({name:"SphericalGaussianBlur",defines:{n:_n,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/a,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:o},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:E1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Yx(){return new rs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:E1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Kx(){return new rs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:E1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function E1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function xB(t){let e=new WeakMap,a=null;function o(s){if(s&&s.isTexture){const l=s.mapping,c=l===303||l===304,d=l===301||l===302;if(c||d)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let m=e.get(s);return a===null&&(a=new Zx(t)),m=c?a.fromEquirectangular(s,m):a.fromCubemap(s,m),e.set(s,m),m.texture}else{if(e.has(s))return e.get(s).texture;{const m=s.image;if(c&&m&&m.height>0||d&&m&&r(m)){a===null&&(a=new Zx(t));const u=c?a.fromEquirectangular(s):a.fromCubemap(s);return e.set(s,u),s.addEventListener("dispose",i),u.texture}else return null}}}return s}function r(s){let l=0;const c=6;for(let d=0;d<c;d++)s[d]!==void 0&&l++;return l===c}function i(s){const l=s.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function n(){e=new WeakMap,a!==null&&(a.dispose(),a=null)}return{get:o,dispose:n}}function bB(t){const e={};function a(o){if(e[o]!==void 0)return e[o];let r;switch(o){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(o)}return e[o]=r,r}return{has:function(o){return a(o)!==null},init:function(o){o.isWebGL2?a("EXT_color_buffer_float"):(a("WEBGL_depth_texture"),a("OES_texture_float"),a("OES_texture_half_float"),a("OES_texture_half_float_linear"),a("OES_standard_derivatives"),a("OES_element_index_uint"),a("OES_vertex_array_object"),a("ANGLE_instanced_arrays")),a("OES_texture_float_linear"),a("EXT_color_buffer_half_float"),a("WEBGL_multisampled_render_to_texture")},get:function(o){const r=a(o);return r===null&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),r}}}function _B(t,e,a,o){const r={},i=new WeakMap;function n(m){const u=m.target;u.index!==null&&e.remove(u.index);for(const h in u.attributes)e.remove(u.attributes[h]);u.removeEventListener("dispose",n),delete r[u.id];const v=i.get(u);v&&(e.remove(v),i.delete(u)),o.releaseStatesOfGeometry(u),u.isInstancedBufferGeometry===!0&&delete u._maxInstanceCount,a.memory.geometries--}function s(m,u){return r[u.id]===!0||(u.addEventListener("dispose",n),r[u.id]=!0,a.memory.geometries++),u}function l(m){const u=m.attributes;for(const h in u)e.update(u[h],34962);const v=m.morphAttributes;for(const h in v){const p=v[h];for(let f=0,g=p.length;f<g;f++)e.update(p[f],34962)}}function c(m){const u=[],v=m.index,h=m.attributes.position;let p=0;if(v!==null){const y=v.array;p=v.version;for(let x=0,b=y.length;x<b;x+=3){const w=y[x+0],_=y[x+1],S=y[x+2];u.push(w,_,_,S,S,w)}}else{const y=h.array;p=h.version;for(let x=0,b=y.length/3-1;x<b;x+=3){const w=x+0,_=x+1,S=x+2;u.push(w,_,_,S,S,w)}}const f=new(E5(u)?L5:P5)(u,1);f.version=p;const g=i.get(m);g&&e.remove(g),i.set(m,f)}function d(m){const u=i.get(m);if(u){const v=m.index;v!==null&&u.version<v.version&&c(m)}else c(m);return i.get(m)}return{get:s,update:l,getWireframeAttribute:d}}function wB(t,e,a,o){const r=o.isWebGL2;let i;function n(u){i=u}let s,l;function c(u){s=u.type,l=u.bytesPerElement}function d(u,v){t.drawElements(i,v,s,u*l),a.update(v,i,1)}function m(u,v,h){if(h===0)return;let p,f;if(r)p=t,f="drawElementsInstanced";else if(p=e.get("ANGLE_instanced_arrays"),f="drawElementsInstancedANGLE",p===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[f](i,v,s,u*l,h),a.update(v,i,h)}this.setMode=n,this.setIndex=c,this.render=d,this.renderInstances=m}function EB(t){const e={geometries:0,textures:0},a={frame:0,calls:0,triangles:0,points:0,lines:0};function o(i,n,s){switch(a.calls++,n){case 4:a.triangles+=s*(i/3);break;case 1:a.lines+=s*(i/2);break;case 3:a.lines+=s*(i-1);break;case 2:a.lines+=s*i;break;case 0:a.points+=s*i;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n);break}}function r(){a.frame++,a.calls=0,a.triangles=0,a.points=0,a.lines=0}return{memory:e,render:a,programs:null,autoReset:!0,reset:r,update:o}}function SB(t,e){return t[0]-e[0]}function CB(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Xh(t,e){let a=1;const o=e.isInterleavedBufferAttribute?e.data.array:e.array;o instanceof Int8Array?a=127:o instanceof Uint8Array?a=255:o instanceof Uint16Array?a=65535:o instanceof Int16Array?a=32767:o instanceof Int32Array?a=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",o),t.divideScalar(a)}function AB(t,e,a){const o={},r=new Float32Array(8),i=new WeakMap,n=new ba,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,d,m,u){const v=c.morphTargetInfluences;if(e.isWebGL2===!0){const h=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,p=h!==void 0?h.length:0;let f=i.get(d);if(f===void 0||f.count!==p){let x=function(){D.dispose(),i.delete(d),d.removeEventListener("dispose",x)};f!==void 0&&f.texture.dispose();const b=d.morphAttributes.position!==void 0,w=d.morphAttributes.normal!==void 0,_=d.morphAttributes.color!==void 0,S=d.morphAttributes.position||[],E=d.morphAttributes.normal||[],A=d.morphAttributes.color||[];let T=0;b===!0&&(T=1),w===!0&&(T=2),_===!0&&(T=3);let O=d.attributes.position.count*T,B=1;O>e.maxTextureSize&&(B=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const N=new Float32Array(O*B*4*p),D=new M5(N,O,B,p);D.type=1015,D.needsUpdate=!0;const q=T*4;for(let j=0;j<p;j++){const V=S[j],z=E[j],F=A[j],H=O*B*4*j;for(let oe=0;oe<V.count;oe++){const W=oe*q;b===!0&&(n.fromBufferAttribute(V,oe),V.normalized===!0&&Xh(n,V),N[H+W+0]=n.x,N[H+W+1]=n.y,N[H+W+2]=n.z,N[H+W+3]=0),w===!0&&(n.fromBufferAttribute(z,oe),z.normalized===!0&&Xh(n,z),N[H+W+4]=n.x,N[H+W+5]=n.y,N[H+W+6]=n.z,N[H+W+7]=0),_===!0&&(n.fromBufferAttribute(F,oe),F.normalized===!0&&Xh(n,F),N[H+W+8]=n.x,N[H+W+9]=n.y,N[H+W+10]=n.z,N[H+W+11]=F.itemSize===4?n.w:1)}}f={count:p,texture:D,size:new St(O,B)},i.set(d,f),d.addEventListener("dispose",x)}let g=0;for(let x=0;x<v.length;x++)g+=v[x];const y=d.morphTargetsRelative?1:1-g;u.getUniforms().setValue(t,"morphTargetBaseInfluence",y),u.getUniforms().setValue(t,"morphTargetInfluences",v),u.getUniforms().setValue(t,"morphTargetsTexture",f.texture,a),u.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}else{const h=v===void 0?0:v.length;let p=o[d.id];if(p===void 0||p.length!==h){p=[];for(let b=0;b<h;b++)p[b]=[b,0];o[d.id]=p}for(let b=0;b<h;b++){const w=p[b];w[0]=b,w[1]=v[b]}p.sort(CB);for(let b=0;b<8;b++)b<h&&p[b][1]?(s[b][0]=p[b][0],s[b][1]=p[b][1]):(s[b][0]=Number.MAX_SAFE_INTEGER,s[b][1]=0);s.sort(SB);const f=d.morphAttributes.position,g=d.morphAttributes.normal;let y=0;for(let b=0;b<8;b++){const w=s[b],_=w[0],S=w[1];_!==Number.MAX_SAFE_INTEGER&&S?(f&&d.getAttribute("morphTarget"+b)!==f[_]&&d.setAttribute("morphTarget"+b,f[_]),g&&d.getAttribute("morphNormal"+b)!==g[_]&&d.setAttribute("morphNormal"+b,g[_]),r[b]=S,y+=S):(f&&d.hasAttribute("morphTarget"+b)===!0&&d.deleteAttribute("morphTarget"+b),g&&d.hasAttribute("morphNormal"+b)===!0&&d.deleteAttribute("morphNormal"+b),r[b]=0)}const x=d.morphTargetsRelative?1:1-y;u.getUniforms().setValue(t,"morphTargetBaseInfluence",x),u.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function MB(t,e,a,o){let r=new WeakMap;function i(l){const c=o.render.frame,d=l.geometry,m=e.get(l,d);return r.get(m)!==c&&(e.update(m),r.set(m,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),a.update(l.instanceMatrix,34962),l.instanceColor!==null&&a.update(l.instanceColor,34962)),m}function n(){r=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),a.remove(c.instanceMatrix),c.instanceColor!==null&&a.remove(c.instanceColor)}return{update:i,dispose:n}}const k5=new Mo,z5=new M5,N5=new fF,F5=new I5,Qx=[],Jx=[],e3=new Float32Array(16),t3=new Float32Array(9),a3=new Float32Array(4);function kl(t,e,a){const o=t[0];if(o<=0||o>0)return t;const r=e*a;let i=Qx[r];if(i===void 0&&(i=new Float32Array(r),Qx[r]=i),e!==0){o.toArray(i,0);for(let n=1,s=0;n!==e;++n)s+=a,t[n].toArray(i,s)}return i}function Za(t,e){if(t.length!==e.length)return!1;for(let a=0,o=t.length;a<o;a++)if(t[a]!==e[a])return!1;return!0}function Xa(t,e){for(let a=0,o=e.length;a<o;a++)t[a]=e[a]}function Lf(t,e){let a=Jx[e];a===void 0&&(a=new Int32Array(e),Jx[e]=a);for(let o=0;o!==e;++o)a[o]=t.allocateTextureUnit();return a}function RB(t,e){const a=this.cache;a[0]!==e&&(t.uniform1f(this.addr,e),a[0]=e)}function TB(t,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),a[0]=e.x,a[1]=e.y);else{if(Za(a,e))return;t.uniform2fv(this.addr,e),Xa(a,e)}}function PB(t,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),a[0]=e.x,a[1]=e.y,a[2]=e.z);else if(e.r!==void 0)(a[0]!==e.r||a[1]!==e.g||a[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),a[0]=e.r,a[1]=e.g,a[2]=e.b);else{if(Za(a,e))return;t.uniform3fv(this.addr,e),Xa(a,e)}}function LB(t,e){const a=this.cache;if(e.x!==void 0)(a[0]!==e.x||a[1]!==e.y||a[2]!==e.z||a[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=e.w);else{if(Za(a,e))return;t.uniform4fv(this.addr,e),Xa(a,e)}}function DB(t,e){const a=this.cache,o=e.elements;if(o===void 0){if(Za(a,e))return;t.uniformMatrix2fv(this.addr,!1,e),Xa(a,e)}else{if(Za(a,o))return;a3.set(o),t.uniformMatrix2fv(this.addr,!1,a3),Xa(a,o)}}function IB(t,e){const a=this.cache,o=e.elements;if(o===void 0){if(Za(a,e))return;t.uniformMatrix3fv(this.addr,!1,e),Xa(a,e)}else{if(Za(a,o))return;t3.set(o),t.uniformMatrix3fv(this.addr,!1,t3),Xa(a,o)}}function OB(t,e){const a=this.cache,o=e.elements;if(o===void 0){if(Za(a,e))return;t.uniformMatrix4fv(this.addr,!1,e),Xa(a,e)}else{if(Za(a,o))return;e3.set(o),t.uniformMatrix4fv(this.addr,!1,e3),Xa(a,o)}}function kB(t,e){const a=this.cache;a[0]!==e&&(t.uniform1i(this.addr,e),a[0]=e)}function zB(t,e){const a=this.cache;Za(a,e)||(t.uniform2iv(this.addr,e),Xa(a,e))}function NB(t,e){const a=this.cache;Za(a,e)||(t.uniform3iv(this.addr,e),Xa(a,e))}function FB(t,e){const a=this.cache;Za(a,e)||(t.uniform4iv(this.addr,e),Xa(a,e))}function qB(t,e){const a=this.cache;a[0]!==e&&(t.uniform1ui(this.addr,e),a[0]=e)}function jB(t,e){const a=this.cache;Za(a,e)||(t.uniform2uiv(this.addr,e),Xa(a,e))}function BB(t,e){const a=this.cache;Za(a,e)||(t.uniform3uiv(this.addr,e),Xa(a,e))}function $B(t,e){const a=this.cache;Za(a,e)||(t.uniform4uiv(this.addr,e),Xa(a,e))}function UB(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTexture2D(e||k5,r)}function VB(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTexture3D(e||N5,r)}function HB(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTextureCube(e||F5,r)}function WB(t,e,a){const o=this.cache,r=a.allocateTextureUnit();o[0]!==r&&(t.uniform1i(this.addr,r),o[0]=r),a.setTexture2DArray(e||z5,r)}function GB(t){switch(t){case 5126:return RB;case 35664:return TB;case 35665:return PB;case 35666:return LB;case 35674:return DB;case 35675:return IB;case 35676:return OB;case 5124:case 35670:return kB;case 35667:case 35671:return zB;case 35668:case 35672:return NB;case 35669:case 35673:return FB;case 5125:return qB;case 36294:return jB;case 36295:return BB;case 36296:return $B;case 35678:case 36198:case 36298:case 36306:case 35682:return UB;case 35679:case 36299:case 36307:return VB;case 35680:case 36300:case 36308:case 36293:return HB;case 36289:case 36303:case 36311:case 36292:return WB}}function ZB(t,e){t.uniform1fv(this.addr,e)}function XB(t,e){const a=kl(e,this.size,2);t.uniform2fv(this.addr,a)}function YB(t,e){const a=kl(e,this.size,3);t.uniform3fv(this.addr,a)}function KB(t,e){const a=kl(e,this.size,4);t.uniform4fv(this.addr,a)}function QB(t,e){const a=kl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,a)}function JB(t,e){const a=kl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,a)}function e$(t,e){const a=kl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,a)}function t$(t,e){t.uniform1iv(this.addr,e)}function a$(t,e){t.uniform2iv(this.addr,e)}function o$(t,e){t.uniform3iv(this.addr,e)}function r$(t,e){t.uniform4iv(this.addr,e)}function i$(t,e){t.uniform1uiv(this.addr,e)}function n$(t,e){t.uniform2uiv(this.addr,e)}function s$(t,e){t.uniform3uiv(this.addr,e)}function l$(t,e){t.uniform4uiv(this.addr,e)}function c$(t,e,a){const o=e.length,r=Lf(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTexture2D(e[i]||k5,r[i])}function d$(t,e,a){const o=e.length,r=Lf(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTexture3D(e[i]||N5,r[i])}function u$(t,e,a){const o=e.length,r=Lf(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTextureCube(e[i]||F5,r[i])}function m$(t,e,a){const o=e.length,r=Lf(a,o);t.uniform1iv(this.addr,r);for(let i=0;i!==o;++i)a.setTexture2DArray(e[i]||z5,r[i])}function p$(t){switch(t){case 5126:return ZB;case 35664:return XB;case 35665:return YB;case 35666:return KB;case 35674:return QB;case 35675:return JB;case 35676:return e$;case 5124:case 35670:return t$;case 35667:case 35671:return a$;case 35668:case 35672:return o$;case 35669:case 35673:return r$;case 5125:return i$;case 36294:return n$;case 36295:return s$;case 36296:return l$;case 35678:case 36198:case 36298:case 36306:case 35682:return c$;case 35679:case 36299:case 36307:return d$;case 35680:case 36300:case 36308:case 36293:return u$;case 36289:case 36303:case 36311:case 36292:return m$}}class f${constructor(e,a,o){this.id=e,this.addr=o,this.cache=[],this.setValue=GB(a.type)}}class h${constructor(e,a,o){this.id=e,this.addr=o,this.cache=[],this.size=a.size,this.setValue=p$(a.type)}}class v${constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,a,o){const r=this.seq;for(let i=0,n=r.length;i!==n;++i){const s=r[i];s.setValue(e,a[s.id],o)}}}const Yh=/(\w+)(\])?(\[|\.)?/g;function o3(t,e){t.seq.push(e),t.map[e.id]=e}function g$(t,e,a){const o=t.name,r=o.length;for(Yh.lastIndex=0;;){const i=Yh.exec(o),n=Yh.lastIndex;let s=i[1];const l=i[2]==="]",c=i[3];if(l&&(s=s|0),c===void 0||c==="["&&n+2===r){o3(a,c===void 0?new f$(s,t,e):new h$(s,t,e));break}else{let d=a.map[s];d===void 0&&(d=new v$(s),o3(a,d)),a=d}}}class hm{constructor(e,a){this.seq=[],this.map={};const o=e.getProgramParameter(a,35718);for(let r=0;r<o;++r){const i=e.getActiveUniform(a,r),n=e.getUniformLocation(a,i.name);g$(i,n,this)}}setValue(e,a,o,r){const i=this.map[a];i!==void 0&&i.setValue(e,o,r)}setOptional(e,a,o){const r=a[o];r!==void 0&&this.setValue(e,o,r)}static upload(e,a,o,r){for(let i=0,n=a.length;i!==n;++i){const s=a[i],l=o[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,r)}}static seqWithValue(e,a){const o=[];for(let r=0,i=e.length;r!==i;++r){const n=e[r];n.id in a&&o.push(n)}return o}}function r3(t,e,a){const o=t.createShader(e);return t.shaderSource(o,a),t.compileShader(o),o}let y$=0;function x$(t,e){const a=t.split(`
`),o=[],r=Math.max(e-6,0),i=Math.min(e+6,a.length);for(let n=r;n<i;n++){const s=n+1;o.push(`${s===e?">":" "} ${s}: ${a[n]}`)}return o.join(`
`)}function b$(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function i3(t,e,a){const o=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(o&&r==="")return"";const i=/ERROR: 0:(\d+)/.exec(r);if(i){const n=parseInt(i[1]);return a.toUpperCase()+`

`+r+`

`+x$(t.getShaderSource(e),n)}else return r}function _$(t,e){const a=b$(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}function w$(t,e){let a;switch(e){case 1:a="Linear";break;case 2:a="Reinhard";break;case 3:a="OptimizedCineon";break;case 4:a="ACESFilmic";break;case 5:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),a="Linear"}return"vec3 "+t+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}function E$(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wc).join(`
`)}function S$(t){const e=[];for(const a in t){const o=t[a];o!==!1&&e.push("#define "+a+" "+o)}return e.join(`
`)}function C$(t,e){const a={},o=t.getProgramParameter(e,35721);for(let r=0;r<o;r++){const i=t.getActiveAttrib(e,r),n=i.name;let s=1;i.type===35674&&(s=2),i.type===35675&&(s=3),i.type===35676&&(s=4),a[n]={type:i.type,location:t.getAttribLocation(e,n),locationSize:s}}return a}function wc(t){return t!==""}function n3(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function s3(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const A$=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ig(t){return t.replace(A$,M$)}function M$(t,e){const a=xt[e];if(a===void 0)throw new Error("Can not resolve #include <"+e+">");return Ig(a)}const R$=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,T$=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function l3(t){return t.replace(T$,q5).replace(R$,P$)}function P$(t,e,a,o){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),q5(t,e,a,o)}function q5(t,e,a,o){let r="";for(let i=parseInt(e);i<parseInt(a);i++)r+=o.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return r}function c3(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function L$(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===2?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===3&&(e="SHADOWMAP_TYPE_VSM"),e}function D$(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV";break}return e}function I$(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:e="ENVMAP_MODE_REFRACTION";break}return e}function O$(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD";break}return e}function k$(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const a=Math.log2(e)-2,o=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,a),7*16)),texelHeight:o,maxMip:a}}function z$(t,e,a,o){const r=t.getContext(),i=a.defines;let n=a.vertexShader,s=a.fragmentShader;const l=L$(a),c=D$(a),d=I$(a),m=O$(a),u=k$(a),v=a.isWebGL2?"":E$(a),h=S$(i),p=r.createProgram();let f,g,y=a.glslVersion?"#version "+a.glslVersion+`
`:"";a.isRawShaderMaterial?(f=[h].filter(wc).join(`
`),f.length>0&&(f+=`
`),g=[v,h].filter(wc).join(`
`),g.length>0&&(g+=`
`)):(f=[c3(a),"#define SHADER_NAME "+a.shaderName,h,a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+d:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&a.flatShading===!1?"#define USE_MORPHNORMALS":"",a.morphColors&&a.isWebGL2?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+l:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wc).join(`
`),g=[v,c3(a),"#define SHADER_NAME "+a.shaderName,h,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+c:"",a.envMap?"#define "+d:"",a.envMap?"#define "+m:"",u?"#define CUBEUV_TEXEL_WIDTH "+u.texelWidth:"",u?"#define CUBEUV_TEXEL_HEIGHT "+u.texelHeight:"",u?"#define CUBEUV_MAX_MIP "+u.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",a.specularColorMap?"#define USE_SPECULARCOLORMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEENCOLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+l:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==0?"#define TONE_MAPPING":"",a.toneMapping!==0?xt.tonemapping_pars_fragment:"",a.toneMapping!==0?w$("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",xt.encodings_pars_fragment,_$("linearToOutputTexel",a.outputEncoding),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"",`
`].filter(wc).join(`
`)),n=Ig(n),n=n3(n,a),n=s3(n,a),s=Ig(s),s=n3(s,a),s=s3(s,a),n=l3(n),s=l3(s),a.isWebGL2&&a.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,f=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+f,g=["#define varying in",a.glslVersion===Dx?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===Dx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const x=y+f+n,b=y+g+s,w=r3(r,35633,x),_=r3(r,35632,b);if(r.attachShader(p,w),r.attachShader(p,_),a.index0AttributeName!==void 0?r.bindAttribLocation(p,0,a.index0AttributeName):a.morphTargets===!0&&r.bindAttribLocation(p,0,"position"),r.linkProgram(p),t.debug.checkShaderErrors){const A=r.getProgramInfoLog(p).trim(),T=r.getShaderInfoLog(w).trim(),O=r.getShaderInfoLog(_).trim();let B=!0,N=!0;if(r.getProgramParameter(p,35714)===!1){B=!1;const D=i3(r,w,"vertex"),q=i3(r,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(p,35715)+`

Program Info Log: `+A+`
`+D+`
`+q)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(T===""||O==="")&&(N=!1);N&&(this.diagnostics={runnable:B,programLog:A,vertexShader:{log:T,prefix:f},fragmentShader:{log:O,prefix:g}})}r.deleteShader(w),r.deleteShader(_);let S;this.getUniforms=function(){return S===void 0&&(S=new hm(r,p)),S};let E;return this.getAttributes=function(){return E===void 0&&(E=C$(r,p)),E},this.destroy=function(){o.releaseStatesOfProgram(this),r.deleteProgram(p),this.program=void 0},this.name=a.shaderName,this.id=y$++,this.cacheKey=e,this.usedTimes=1,this.program=p,this.vertexShader=w,this.fragmentShader=_,this}let N$=0;class F${constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const a=e.vertexShader,o=e.fragmentShader,r=this._getShaderStage(a),i=this._getShaderStage(o),n=this._getShaderCacheForMaterial(e);return n.has(r)===!1&&(n.add(r),r.usedTimes++),n.has(i)===!1&&(n.add(i),i.usedTimes++),this}remove(e){const a=this.materialCache.get(e);for(const o of a)o.usedTimes--,o.usedTimes===0&&this.shaderCache.delete(o.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const a=this.materialCache;return a.has(e)===!1&&a.set(e,new Set),a.get(e)}_getShaderStage(e){const a=this.shaderCache;if(a.has(e)===!1){const o=new q$(e);a.set(e,o)}return a.get(e)}}class q${constructor(e){this.id=N$++,this.code=e,this.usedTimes=0}}function j$(t,e,a,o,r,i,n){const s=new R5,l=new F$,c=[],d=r.isWebGL2,m=r.logarithmicDepthBuffer,u=r.vertexTextures;let v=r.precision;const h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function p(E,A,T,O,B){const N=O.fog,D=B.geometry,q=E.isMeshStandardMaterial?O.environment:null,j=(E.isMeshStandardMaterial?a:e).get(E.envMap||q),V=j&&j.mapping===306?j.image.height:null,z=h[E.type];E.precision!==null&&(v=r.getMaxPrecision(E.precision),v!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",v,"instead."));const F=D.morphAttributes.position||D.morphAttributes.normal||D.morphAttributes.color,H=F!==void 0?F.length:0;let oe=0;D.morphAttributes.position!==void 0&&(oe=1),D.morphAttributes.normal!==void 0&&(oe=2),D.morphAttributes.color!==void 0&&(oe=3);let W,ie,le,Ce;if(z){const xe=Rr[z];W=xe.vertexShader,ie=xe.fragmentShader}else W=E.vertexShader,ie=E.fragmentShader,l.update(E),le=l.getVertexShaderID(E),Ce=l.getFragmentShaderID(E);const Z=t.getRenderTarget(),Oe=E.alphaTest>0,Me=E.clearcoat>0,Re=E.iridescence>0;return{isWebGL2:d,shaderID:z,shaderName:E.type,vertexShader:W,fragmentShader:ie,defines:E.defines,customVertexShaderID:le,customFragmentShaderID:Ce,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:v,instancing:B.isInstancedMesh===!0,instancingColor:B.isInstancedMesh===!0&&B.instanceColor!==null,supportsVertexTextures:u,outputEncoding:Z===null?t.outputEncoding:Z.isXRRenderTarget===!0?Z.texture.encoding:3e3,map:!!E.map,matcap:!!E.matcap,envMap:!!j,envMapMode:j&&j.mapping,envMapCubeUVHeight:V,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===1,tangentSpaceNormalMap:E.normalMapType===0,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===3001,clearcoat:Me,clearcoatMap:Me&&!!E.clearcoatMap,clearcoatRoughnessMap:Me&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:Me&&!!E.clearcoatNormalMap,iridescence:Re,iridescenceMap:Re&&!!E.iridescenceMap,iridescenceThicknessMap:Re&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===1,alphaMap:!!E.alphaMap,alphaTest:Oe,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!D.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!D.attributes.color&&D.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!N,useFog:E.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:m,skinning:B.isSkinnedMesh===!0,morphTargets:D.morphAttributes.position!==void 0,morphNormals:D.morphAttributes.normal!==void 0,morphColors:D.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:oe,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numClippingPlanes:n.numPlanes,numClipIntersection:n.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&T.length>0,shadowMapType:t.shadowMap.type,toneMapping:E.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===2,flipSided:E.side===1,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||o.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function f(E){const A=[];if(E.shaderID?A.push(E.shaderID):(A.push(E.customVertexShaderID),A.push(E.customFragmentShaderID)),E.defines!==void 0)for(const T in E.defines)A.push(T),A.push(E.defines[T]);return E.isRawShaderMaterial===!1&&(g(A,E),y(A,E),A.push(t.outputEncoding)),A.push(E.customProgramCacheKey),A.join()}function g(E,A){E.push(A.precision),E.push(A.outputEncoding),E.push(A.envMapMode),E.push(A.envMapCubeUVHeight),E.push(A.combine),E.push(A.vertexUvs),E.push(A.fogExp2),E.push(A.sizeAttenuation),E.push(A.morphTargetsCount),E.push(A.morphAttributeCount),E.push(A.numDirLights),E.push(A.numPointLights),E.push(A.numSpotLights),E.push(A.numHemiLights),E.push(A.numRectAreaLights),E.push(A.numDirLightShadows),E.push(A.numPointLightShadows),E.push(A.numSpotLightShadows),E.push(A.shadowMapType),E.push(A.toneMapping),E.push(A.numClippingPlanes),E.push(A.numClipIntersection),E.push(A.depthPacking)}function y(E,A){s.disableAll(),A.isWebGL2&&s.enable(0),A.supportsVertexTextures&&s.enable(1),A.instancing&&s.enable(2),A.instancingColor&&s.enable(3),A.map&&s.enable(4),A.matcap&&s.enable(5),A.envMap&&s.enable(6),A.lightMap&&s.enable(7),A.aoMap&&s.enable(8),A.emissiveMap&&s.enable(9),A.bumpMap&&s.enable(10),A.normalMap&&s.enable(11),A.objectSpaceNormalMap&&s.enable(12),A.tangentSpaceNormalMap&&s.enable(13),A.clearcoat&&s.enable(14),A.clearcoatMap&&s.enable(15),A.clearcoatRoughnessMap&&s.enable(16),A.clearcoatNormalMap&&s.enable(17),A.iridescence&&s.enable(18),A.iridescenceMap&&s.enable(19),A.iridescenceThicknessMap&&s.enable(20),A.displacementMap&&s.enable(21),A.specularMap&&s.enable(22),A.roughnessMap&&s.enable(23),A.metalnessMap&&s.enable(24),A.gradientMap&&s.enable(25),A.alphaMap&&s.enable(26),A.alphaTest&&s.enable(27),A.vertexColors&&s.enable(28),A.vertexAlphas&&s.enable(29),A.vertexUvs&&s.enable(30),A.vertexTangents&&s.enable(31),A.uvsVertexOnly&&s.enable(32),A.fog&&s.enable(33),E.push(s.mask),s.disableAll(),A.useFog&&s.enable(0),A.flatShading&&s.enable(1),A.logarithmicDepthBuffer&&s.enable(2),A.skinning&&s.enable(3),A.morphTargets&&s.enable(4),A.morphNormals&&s.enable(5),A.morphColors&&s.enable(6),A.premultipliedAlpha&&s.enable(7),A.shadowMapEnabled&&s.enable(8),A.physicallyCorrectLights&&s.enable(9),A.doubleSided&&s.enable(10),A.flipSided&&s.enable(11),A.useDepthPacking&&s.enable(12),A.dithering&&s.enable(13),A.specularIntensityMap&&s.enable(14),A.specularColorMap&&s.enable(15),A.transmission&&s.enable(16),A.transmissionMap&&s.enable(17),A.thicknessMap&&s.enable(18),A.sheen&&s.enable(19),A.sheenColorMap&&s.enable(20),A.sheenRoughnessMap&&s.enable(21),A.decodeVideoTexture&&s.enable(22),A.opaque&&s.enable(23),E.push(s.mask)}function x(E){const A=h[E.type];let T;if(A){const O=Rr[A];T=MF.clone(O.uniforms)}else T=E.uniforms;return T}function b(E,A){let T;for(let O=0,B=c.length;O<B;O++){const N=c[O];if(N.cacheKey===A){T=N,++T.usedTimes;break}}return T===void 0&&(T=new z$(t,A,E,i),c.push(T)),T}function w(E){if(--E.usedTimes===0){const A=c.indexOf(E);c[A]=c[c.length-1],c.pop(),E.destroy()}}function _(E){l.remove(E)}function S(){l.dispose()}return{getParameters:p,getProgramCacheKey:f,getUniforms:x,acquireProgram:b,releaseProgram:w,releaseShaderCache:_,programs:c,dispose:S}}function B$(){let t=new WeakMap;function e(i){let n=t.get(i);return n===void 0&&(n={},t.set(i,n)),n}function a(i){t.delete(i)}function o(i,n,s){t.get(i)[n]=s}function r(){t=new WeakMap}return{get:e,remove:a,update:o,dispose:r}}function $$(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function d3(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function u3(){const t=[];let e=0;const a=[],o=[],r=[];function i(){e=0,a.length=0,o.length=0,r.length=0}function n(m,u,v,h,p,f){let g=t[e];return g===void 0?(g={id:m.id,object:m,geometry:u,material:v,groupOrder:h,renderOrder:m.renderOrder,z:p,group:f},t[e]=g):(g.id=m.id,g.object=m,g.geometry=u,g.material=v,g.groupOrder=h,g.renderOrder=m.renderOrder,g.z=p,g.group=f),e++,g}function s(m,u,v,h,p,f){const g=n(m,u,v,h,p,f);v.transmission>0?o.push(g):v.transparent===!0?r.push(g):a.push(g)}function l(m,u,v,h,p,f){const g=n(m,u,v,h,p,f);v.transmission>0?o.unshift(g):v.transparent===!0?r.unshift(g):a.unshift(g)}function c(m,u){a.length>1&&a.sort(m||$$),o.length>1&&o.sort(u||d3),r.length>1&&r.sort(u||d3)}function d(){for(let m=e,u=t.length;m<u;m++){const v=t[m];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:a,transmissive:o,transparent:r,init:i,push:s,unshift:l,finish:d,sort:c}}function U$(){let t=new WeakMap;function e(o,r){let i;return t.has(o)===!1?(i=new u3,t.set(o,[i])):r>=t.get(o).length?(i=new u3,t.get(o).push(i)):i=t.get(o)[r],i}function a(){t=new WeakMap}return{get:e,dispose:a}}function V$(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let a;switch(e.type){case"DirectionalLight":a={direction:new J,color:new Et};break;case"SpotLight":a={position:new J,direction:new J,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new J,color:new Et,distance:0,decay:0};break;case"HemisphereLight":a={direction:new J,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":a={color:new Et,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=a,a}}}function H$(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let a;switch(e.type){case"DirectionalLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"SpotLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"PointLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=a,a}}}let W$=0;function G$(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Z$(t,e){const a=new V$,o=H$(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)r.probe.push(new J);const i=new J,n=new _a,s=new _a;function l(d,m){let u=0,v=0,h=0;for(let A=0;A<9;A++)r.probe[A].set(0,0,0);let p=0,f=0,g=0,y=0,x=0,b=0,w=0,_=0;d.sort(G$);const S=m!==!0?Math.PI:1;for(let A=0,T=d.length;A<T;A++){const O=d[A],B=O.color,N=O.intensity,D=O.distance,q=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=B.r*N*S,v+=B.g*N*S,h+=B.b*N*S;else if(O.isLightProbe)for(let j=0;j<9;j++)r.probe[j].addScaledVector(O.sh.coefficients[j],N);else if(O.isDirectionalLight){const j=a.get(O);if(j.color.copy(O.color).multiplyScalar(O.intensity*S),O.castShadow){const V=O.shadow,z=o.get(O);z.shadowBias=V.bias,z.shadowNormalBias=V.normalBias,z.shadowRadius=V.radius,z.shadowMapSize=V.mapSize,r.directionalShadow[p]=z,r.directionalShadowMap[p]=q,r.directionalShadowMatrix[p]=O.shadow.matrix,b++}r.directional[p]=j,p++}else if(O.isSpotLight){const j=a.get(O);if(j.position.setFromMatrixPosition(O.matrixWorld),j.color.copy(B).multiplyScalar(N*S),j.distance=D,j.coneCos=Math.cos(O.angle),j.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),j.decay=O.decay,O.castShadow){const V=O.shadow,z=o.get(O);z.shadowBias=V.bias,z.shadowNormalBias=V.normalBias,z.shadowRadius=V.radius,z.shadowMapSize=V.mapSize,r.spotShadow[g]=z,r.spotShadowMap[g]=q,r.spotShadowMatrix[g]=O.shadow.matrix,_++}r.spot[g]=j,g++}else if(O.isRectAreaLight){const j=a.get(O);j.color.copy(B).multiplyScalar(N),j.halfWidth.set(O.width*.5,0,0),j.halfHeight.set(0,O.height*.5,0),r.rectArea[y]=j,y++}else if(O.isPointLight){const j=a.get(O);if(j.color.copy(O.color).multiplyScalar(O.intensity*S),j.distance=O.distance,j.decay=O.decay,O.castShadow){const V=O.shadow,z=o.get(O);z.shadowBias=V.bias,z.shadowNormalBias=V.normalBias,z.shadowRadius=V.radius,z.shadowMapSize=V.mapSize,z.shadowCameraNear=V.camera.near,z.shadowCameraFar=V.camera.far,r.pointShadow[f]=z,r.pointShadowMap[f]=q,r.pointShadowMatrix[f]=O.shadow.matrix,w++}r.point[f]=j,f++}else if(O.isHemisphereLight){const j=a.get(O);j.skyColor.copy(O.color).multiplyScalar(N*S),j.groundColor.copy(O.groundColor).multiplyScalar(N*S),r.hemi[x]=j,x++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ae.LTC_FLOAT_1,r.rectAreaLTC2=Ae.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Ae.LTC_HALF_1,r.rectAreaLTC2=Ae.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=u,r.ambient[1]=v,r.ambient[2]=h;const E=r.hash;(E.directionalLength!==p||E.pointLength!==f||E.spotLength!==g||E.rectAreaLength!==y||E.hemiLength!==x||E.numDirectionalShadows!==b||E.numPointShadows!==w||E.numSpotShadows!==_)&&(r.directional.length=p,r.spot.length=g,r.rectArea.length=y,r.point.length=f,r.hemi.length=x,r.directionalShadow.length=b,r.directionalShadowMap.length=b,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=b,r.pointShadowMatrix.length=w,r.spotShadowMatrix.length=_,E.directionalLength=p,E.pointLength=f,E.spotLength=g,E.rectAreaLength=y,E.hemiLength=x,E.numDirectionalShadows=b,E.numPointShadows=w,E.numSpotShadows=_,r.version=W$++)}function c(d,m){let u=0,v=0,h=0,p=0,f=0;const g=m.matrixWorldInverse;for(let y=0,x=d.length;y<x;y++){const b=d[y];if(b.isDirectionalLight){const w=r.directional[u];w.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(g),u++}else if(b.isSpotLight){const w=r.spot[h];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(g),w.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(g),h++}else if(b.isRectAreaLight){const w=r.rectArea[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(g),s.identity(),n.copy(b.matrixWorld),n.premultiply(g),s.extractRotation(n),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(s),w.halfHeight.applyMatrix4(s),p++}else if(b.isPointLight){const w=r.point[v];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(g),v++}else if(b.isHemisphereLight){const w=r.hemi[f];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(g),f++}}}return{setup:l,setupView:c,state:r}}function m3(t,e){const a=new Z$(t,e),o=[],r=[];function i(){o.length=0,r.length=0}function n(d){o.push(d)}function s(d){r.push(d)}function l(d){a.setup(o,d)}function c(d){a.setupView(o,d)}return{init:i,state:{lightsArray:o,shadowsArray:r,lights:a},setupLights:l,setupLightsView:c,pushLight:n,pushShadow:s}}function X$(t,e){let a=new WeakMap;function o(i,n=0){let s;return a.has(i)===!1?(s=new m3(t,e),a.set(i,[s])):n>=a.get(i).length?(s=new m3(t,e),a.get(i).push(s)):s=a.get(i)[n],s}function r(){a=new WeakMap}return{get:o,dispose:r}}class Y$ extends cs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class K$ extends cs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new J,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Q$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,J$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function eU(t,e,a){let o=new w1;const r=new St,i=new St,n=new ba,s=new Y$({depthPacking:3201}),l=new K$,c={},d=a.maxTextureSize,m={0:1,1:0,2:2},u=new rs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new St},radius:{value:4}},vertexShader:Q$,fragmentShader:J$}),v=u.clone();v.defines.HORIZONTAL_PASS=1;const h=new Fr;h.setAttribute("position",new Or(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Pr(h,u),f=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(b,w,_){if(f.enabled===!1||f.autoUpdate===!1&&f.needsUpdate===!1||b.length===0)return;const S=t.getRenderTarget(),E=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),T=t.state;T.setBlending(0),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);for(let O=0,B=b.length;O<B;O++){const N=b[O],D=N.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const q=D.getFrameExtents();if(r.multiply(q),i.copy(D.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(i.x=Math.floor(d/q.x),r.x=i.x*q.x,D.mapSize.x=i.x),r.y>d&&(i.y=Math.floor(d/q.y),r.y=i.y*q.y,D.mapSize.y=i.y)),D.map===null){const V=this.type!==3?{minFilter:1003,magFilter:1003}:{};D.map=new os(r.x,r.y,V),D.map.texture.name=N.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const j=D.getViewportCount();for(let V=0;V<j;V++){const z=D.getViewport(V);n.set(i.x*z.x,i.y*z.y,i.x*z.z,i.y*z.w),T.viewport(n),D.updateMatrices(N,V),o=D.getFrustum(),x(w,_,D.camera,N,this.type)}D.isPointLightShadow!==!0&&this.type===3&&g(D,_),D.needsUpdate=!1}f.needsUpdate=!1,t.setRenderTarget(S,E,A)};function g(b,w){const _=e.update(p);u.defines.VSM_SAMPLES!==b.blurSamples&&(u.defines.VSM_SAMPLES=b.blurSamples,v.defines.VSM_SAMPLES=b.blurSamples,u.needsUpdate=!0,v.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new os(r.x,r.y)),u.uniforms.shadow_pass.value=b.map.texture,u.uniforms.resolution.value=b.mapSize,u.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(w,null,_,u,p,null),v.uniforms.shadow_pass.value=b.mapPass.texture,v.uniforms.resolution.value=b.mapSize,v.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(w,null,_,v,p,null)}function y(b,w,_,S,E,A){let T=null;const O=_.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(O!==void 0?T=O:T=_.isPointLight===!0?l:s,t.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0){const B=T.uuid,N=w.uuid;let D=c[B];D===void 0&&(D={},c[B]=D);let q=D[N];q===void 0&&(q=T.clone(),D[N]=q),T=q}return T.visible=w.visible,T.wireframe=w.wireframe,A===3?T.side=w.shadowSide!==null?w.shadowSide:w.side:T.side=w.shadowSide!==null?w.shadowSide:m[w.side],T.alphaMap=w.alphaMap,T.alphaTest=w.alphaTest,T.clipShadows=w.clipShadows,T.clippingPlanes=w.clippingPlanes,T.clipIntersection=w.clipIntersection,T.displacementMap=w.displacementMap,T.displacementScale=w.displacementScale,T.displacementBias=w.displacementBias,T.wireframeLinewidth=w.wireframeLinewidth,T.linewidth=w.linewidth,_.isPointLight===!0&&T.isMeshDistanceMaterial===!0&&(T.referencePosition.setFromMatrixPosition(_.matrixWorld),T.nearDistance=S,T.farDistance=E),T}function x(b,w,_,S,E){if(b.visible===!1)return;if(b.layers.test(w.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&E===3)&&(!b.frustumCulled||o.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,b.matrixWorld);const T=e.update(b),O=b.material;if(Array.isArray(O)){const B=T.groups;for(let N=0,D=B.length;N<D;N++){const q=B[N],j=O[q.materialIndex];if(j&&j.visible){const V=y(b,j,S,_.near,_.far,E);t.renderBufferDirect(_,null,T,V,b,q)}}}else if(O.visible){const B=y(b,O,S,_.near,_.far,E);t.renderBufferDirect(_,null,T,B,b,null)}}const A=b.children;for(let T=0,O=A.length;T<O;T++)x(A[T],w,_,S,E)}}function tU(t,e,a){const o=a.isWebGL2;function r(){let Y=!1;const ze=new ba;let ne=null;const je=new ba(0,0,0,0);return{setMask:function(we){ne!==we&&!Y&&(t.colorMask(we,we,we,we),ne=we)},setLocked:function(we){Y=we},setClear:function(we,zt,G,K,se){se===!0&&(we*=K,zt*=K,G*=K),ze.set(we,zt,G,K),je.equals(ze)===!1&&(t.clearColor(we,zt,G,K),je.copy(ze))},reset:function(){Y=!1,ne=null,je.set(-1,0,0,0)}}}function i(){let Y=!1,ze=null,ne=null,je=null;return{setTest:function(we){we?Oe(2929):Me(2929)},setMask:function(we){ze!==we&&!Y&&(t.depthMask(we),ze=we)},setFunc:function(we){if(ne!==we){if(we)switch(we){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);ne=we}},setLocked:function(we){Y=we},setClear:function(we){je!==we&&(t.clearDepth(we),je=we)},reset:function(){Y=!1,ze=null,ne=null,je=null}}}function n(){let Y=!1,ze=null,ne=null,je=null,we=null,zt=null,G=null,K=null,se=null;return{setTest:function(pe){Y||(pe?Oe(2960):Me(2960))},setMask:function(pe){ze!==pe&&!Y&&(t.stencilMask(pe),ze=pe)},setFunc:function(pe,De,Ye){(ne!==pe||je!==De||we!==Ye)&&(t.stencilFunc(pe,De,Ye),ne=pe,je=De,we=Ye)},setOp:function(pe,De,Ye){(zt!==pe||G!==De||K!==Ye)&&(t.stencilOp(pe,De,Ye),zt=pe,G=De,K=Ye)},setLocked:function(pe){Y=pe},setClear:function(pe){se!==pe&&(t.clearStencil(pe),se=pe)},reset:function(){Y=!1,ze=null,ne=null,je=null,we=null,zt=null,G=null,K=null,se=null}}}const s=new r,l=new i,c=new n,d=new WeakMap,m=new WeakMap;let u={},v={},h=new WeakMap,p=[],f=null,g=!1,y=null,x=null,b=null,w=null,_=null,S=null,E=null,A=!1,T=null,O=null,B=null,N=null,D=null;const q=t.getParameter(35661);let j=!1,V=0;const z=t.getParameter(7938);z.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(z)[1]),j=V>=1):z.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),j=V>=2);let F=null,H={};const oe=t.getParameter(3088),W=t.getParameter(2978),ie=new ba().fromArray(oe),le=new ba().fromArray(W);function Ce(Y,ze,ne){const je=new Uint8Array(4),we=t.createTexture();t.bindTexture(Y,we),t.texParameteri(Y,10241,9728),t.texParameteri(Y,10240,9728);for(let zt=0;zt<ne;zt++)t.texImage2D(ze+zt,0,6408,1,1,0,6408,5121,je);return we}const Z={};Z[3553]=Ce(3553,3553,1),Z[34067]=Ce(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Oe(2929),l.setFunc(3),Nt(!1),jt(1),Oe(2884),ot(0);function Oe(Y){u[Y]!==!0&&(t.enable(Y),u[Y]=!0)}function Me(Y){u[Y]!==!1&&(t.disable(Y),u[Y]=!1)}function Re(Y,ze){return v[Y]!==ze?(t.bindFramebuffer(Y,ze),v[Y]=ze,o&&(Y===36009&&(v[36160]=ze),Y===36160&&(v[36009]=ze)),!0):!1}function xe(Y,ze){let ne=p,je=!1;if(Y)if(ne=h.get(ze),ne===void 0&&(ne=[],h.set(ze,ne)),Y.isWebGLMultipleRenderTargets){const we=Y.texture;if(ne.length!==we.length||ne[0]!==36064){for(let zt=0,G=we.length;zt<G;zt++)ne[zt]=36064+zt;ne.length=we.length,je=!0}}else ne[0]!==36064&&(ne[0]=36064,je=!0);else ne[0]!==1029&&(ne[0]=1029,je=!0);je&&(a.isWebGL2?t.drawBuffers(ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ne))}function Te(Y){return f!==Y?(t.useProgram(Y),f=Y,!0):!1}const Ne={100:32774,101:32778,102:32779};if(o)Ne[103]=32775,Ne[104]=32776;else{const Y=e.get("EXT_blend_minmax");Y!==null&&(Ne[103]=Y.MIN_EXT,Ne[104]=Y.MAX_EXT)}const he={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function ot(Y,ze,ne,je,we,zt,G,K){if(Y===0){g===!0&&(Me(3042),g=!1);return}if(g===!1&&(Oe(3042),g=!0),Y!==5){if(Y!==y||K!==A){if((x!==100||_!==100)&&(t.blendEquation(32774),x=100,_=100),K)switch(Y){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}else switch(Y){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Y);break}b=null,w=null,S=null,E=null,y=Y,A=K}return}we=we||ze,zt=zt||ne,G=G||je,(ze!==x||we!==_)&&(t.blendEquationSeparate(Ne[ze],Ne[we]),x=ze,_=we),(ne!==b||je!==w||zt!==S||G!==E)&&(t.blendFuncSeparate(he[ne],he[je],he[zt],he[G]),b=ne,w=je,S=zt,E=G),y=Y,A=null}function nt(Y,ze){Y.side===2?Me(2884):Oe(2884);let ne=Y.side===1;ze&&(ne=!ne),Nt(ne),Y.blending===1&&Y.transparent===!1?ot(0):ot(Y.blending,Y.blendEquation,Y.blendSrc,Y.blendDst,Y.blendEquationAlpha,Y.blendSrcAlpha,Y.blendDstAlpha,Y.premultipliedAlpha),l.setFunc(Y.depthFunc),l.setTest(Y.depthTest),l.setMask(Y.depthWrite),s.setMask(Y.colorWrite);const je=Y.stencilWrite;c.setTest(je),je&&(c.setMask(Y.stencilWriteMask),c.setFunc(Y.stencilFunc,Y.stencilRef,Y.stencilFuncMask),c.setOp(Y.stencilFail,Y.stencilZFail,Y.stencilZPass)),mt(Y.polygonOffset,Y.polygonOffsetFactor,Y.polygonOffsetUnits),Y.alphaToCoverage===!0?Oe(32926):Me(32926)}function Nt(Y){T!==Y&&(Y?t.frontFace(2304):t.frontFace(2305),T=Y)}function jt(Y){Y!==0?(Oe(2884),Y!==O&&(Y===1?t.cullFace(1029):Y===2?t.cullFace(1028):t.cullFace(1032))):Me(2884),O=Y}function At(Y){Y!==B&&(j&&t.lineWidth(Y),B=Y)}function mt(Y,ze,ne){Y?(Oe(32823),(N!==ze||D!==ne)&&(t.polygonOffset(ze,ne),N=ze,D=ne)):Me(32823)}function Ht(Y){Y?Oe(3089):Me(3089)}function pt(Y){Y===void 0&&(Y=33984+q-1),F!==Y&&(t.activeTexture(Y),F=Y)}function $(Y,ze){F===null&&pt();let ne=H[F];ne===void 0&&(ne={type:void 0,texture:void 0},H[F]=ne),(ne.type!==Y||ne.texture!==ze)&&(t.bindTexture(Y,ze||Z[Y]),ne.type=Y,ne.texture=ze)}function I(){const Y=H[F];Y!==void 0&&Y.type!==void 0&&(t.bindTexture(Y.type,null),Y.type=void 0,Y.texture=void 0)}function te(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function me(){try{t.texSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function ge(){try{t.texSubImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function be(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Pe(){try{t.texStorage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function X(){try{t.texStorage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function $e(){try{t.texImage2D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Le(){try{t.texImage3D.apply(t,arguments)}catch(Y){console.error("THREE.WebGLState:",Y)}}function Ve(Y){ie.equals(Y)===!1&&(t.scissor(Y.x,Y.y,Y.z,Y.w),ie.copy(Y))}function de(Y){le.equals(Y)===!1&&(t.viewport(Y.x,Y.y,Y.z,Y.w),le.copy(Y))}function ke(Y,ze){let ne=m.get(ze);ne===void 0&&(ne=new WeakMap,m.set(ze,ne));let je=ne.get(Y);je===void 0&&(je=t.getUniformBlockIndex(ze,Y.name),ne.set(Y,je))}function Ge(Y,ze){const ne=m.get(ze).get(Y);d.get(Y)!==ne&&(t.uniformBlockBinding(ze,ne,Y.__bindingPointIndex),d.set(Y,ne))}function Rt(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),o===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},F=null,H={},v={},h=new WeakMap,p=[],f=null,g=!1,y=null,x=null,b=null,w=null,_=null,S=null,E=null,A=!1,T=null,O=null,B=null,N=null,D=null,ie.set(0,0,t.canvas.width,t.canvas.height),le.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:Oe,disable:Me,bindFramebuffer:Re,drawBuffers:xe,useProgram:Te,setBlending:ot,setMaterial:nt,setFlipSided:Nt,setCullFace:jt,setLineWidth:At,setPolygonOffset:mt,setScissorTest:Ht,activeTexture:pt,bindTexture:$,unbindTexture:I,compressedTexImage2D:te,texImage2D:$e,texImage3D:Le,updateUBOMapping:ke,uniformBlockBinding:Ge,texStorage2D:Pe,texStorage3D:X,texSubImage2D:me,texSubImage3D:ge,compressedTexSubImage2D:be,scissor:Ve,viewport:de,reset:Rt}}function aU(t,e,a,o,r,i,n){const s=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,d=r.maxTextureSize,m=r.maxSamples,u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let p;const f=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y($,I){return g?new OffscreenCanvas($,I):cp("canvas")}function x($,I,te,me){let ge=1;if(($.width>me||$.height>me)&&(ge=me/Math.max($.width,$.height)),ge<1||I===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const be=I?Dg:Math.floor,Pe=be(ge*$.width),X=be(ge*$.height);p===void 0&&(p=y(Pe,X));const $e=te?y(Pe,X):p;return $e.width=Pe,$e.height=X,$e.getContext("2d").drawImage($,0,0,Pe,X),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+Pe+"x"+X+")."),$e}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function b($){return Ix($.width)&&Ix($.height)}function w($){return s?!1:$.wrapS!==1001||$.wrapT!==1001||$.minFilter!==1003&&$.minFilter!==1006}function _($,I){return $.generateMipmaps&&I&&$.minFilter!==1003&&$.minFilter!==1006}function S($){t.generateMipmap($)}function E($,I,te,me,ge=!1){if(s===!1)return I;if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let be=I;return I===6403&&(te===5126&&(be=33326),te===5131&&(be=33325),te===5121&&(be=33321)),I===33319&&(te===5126&&(be=33328),te===5131&&(be=33327),te===5121&&(be=33323)),I===6408&&(te===5126&&(be=34836),te===5131&&(be=34842),te===5121&&(be=me===3001&&ge===!1?35907:32856),te===32819&&(be=32854),te===32820&&(be=32855)),(be===33325||be===33326||be===33327||be===33328||be===34842||be===34836)&&e.get("EXT_color_buffer_float"),be}function A($,I,te){return _($,te)===!0||$.isFramebufferTexture&&$.minFilter!==1003&&$.minFilter!==1006?Math.log2(Math.max(I.width,I.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?I.mipmaps.length:1}function T($){return $===1003||$===1004||$===1005?9728:9729}function O($){const I=$.target;I.removeEventListener("dispose",O),N(I),I.isVideoTexture&&h.delete(I)}function B($){const I=$.target;I.removeEventListener("dispose",B),q(I)}function N($){const I=o.get($);if(I.__webglInit===void 0)return;const te=$.source,me=f.get(te);if(me){const ge=me[I.__cacheKey];ge.usedTimes--,ge.usedTimes===0&&D($),Object.keys(me).length===0&&f.delete(te)}o.remove($)}function D($){const I=o.get($);t.deleteTexture(I.__webglTexture);const te=$.source,me=f.get(te);delete me[I.__cacheKey],n.memory.textures--}function q($){const I=$.texture,te=o.get($),me=o.get(I);if(me.__webglTexture!==void 0&&(t.deleteTexture(me.__webglTexture),n.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let ge=0;ge<6;ge++)t.deleteFramebuffer(te.__webglFramebuffer[ge]),te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer[ge]);else{if(t.deleteFramebuffer(te.__webglFramebuffer),te.__webglDepthbuffer&&t.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&t.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let ge=0;ge<te.__webglColorRenderbuffer.length;ge++)te.__webglColorRenderbuffer[ge]&&t.deleteRenderbuffer(te.__webglColorRenderbuffer[ge]);te.__webglDepthRenderbuffer&&t.deleteRenderbuffer(te.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let ge=0,be=I.length;ge<be;ge++){const Pe=o.get(I[ge]);Pe.__webglTexture&&(t.deleteTexture(Pe.__webglTexture),n.memory.textures--),o.remove(I[ge])}o.remove(I),o.remove($)}let j=0;function V(){j=0}function z(){const $=j;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),j+=1,$}function F($){const I=[];return I.push($.wrapS),I.push($.wrapT),I.push($.magFilter),I.push($.minFilter),I.push($.anisotropy),I.push($.internalFormat),I.push($.format),I.push($.type),I.push($.generateMipmaps),I.push($.premultiplyAlpha),I.push($.flipY),I.push($.unpackAlignment),I.push($.encoding),I.join()}function H($,I){const te=o.get($);if($.isVideoTexture&&Ht($),$.isRenderTargetTexture===!1&&$.version>0&&te.__version!==$.version){const me=$.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Me(te,$,I);return}}a.activeTexture(33984+I),a.bindTexture(3553,te.__webglTexture)}function oe($,I){const te=o.get($);if($.version>0&&te.__version!==$.version){Me(te,$,I);return}a.activeTexture(33984+I),a.bindTexture(35866,te.__webglTexture)}function W($,I){const te=o.get($);if($.version>0&&te.__version!==$.version){Me(te,$,I);return}a.activeTexture(33984+I),a.bindTexture(32879,te.__webglTexture)}function ie($,I){const te=o.get($);if($.version>0&&te.__version!==$.version){Re(te,$,I);return}a.activeTexture(33984+I),a.bindTexture(34067,te.__webglTexture)}const le={1e3:10497,1001:33071,1002:33648},Ce={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function Z($,I,te){if(te?(t.texParameteri($,10242,le[I.wrapS]),t.texParameteri($,10243,le[I.wrapT]),($===32879||$===35866)&&t.texParameteri($,32882,le[I.wrapR]),t.texParameteri($,10240,Ce[I.magFilter]),t.texParameteri($,10241,Ce[I.minFilter])):(t.texParameteri($,10242,33071),t.texParameteri($,10243,33071),($===32879||$===35866)&&t.texParameteri($,32882,33071),(I.wrapS!==1001||I.wrapT!==1001)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri($,10240,T(I.magFilter)),t.texParameteri($,10241,T(I.minFilter)),I.minFilter!==1003&&I.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const me=e.get("EXT_texture_filter_anisotropic");if(I.type===1015&&e.has("OES_texture_float_linear")===!1||s===!1&&I.type===1016&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||o.get(I).__currentAnisotropy)&&(t.texParameterf($,me.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),o.get(I).__currentAnisotropy=I.anisotropy)}}function Oe($,I){let te=!1;$.__webglInit===void 0&&($.__webglInit=!0,I.addEventListener("dispose",O));const me=I.source;let ge=f.get(me);ge===void 0&&(ge={},f.set(me,ge));const be=F(I);if(be!==$.__cacheKey){ge[be]===void 0&&(ge[be]={texture:t.createTexture(),usedTimes:0},n.memory.textures++,te=!0),ge[be].usedTimes++;const Pe=ge[$.__cacheKey];Pe!==void 0&&(ge[$.__cacheKey].usedTimes--,Pe.usedTimes===0&&D(I)),$.__cacheKey=be,$.__webglTexture=ge[be].texture}return te}function Me($,I,te){let me=3553;I.isDataArrayTexture&&(me=35866),I.isData3DTexture&&(me=32879);const ge=Oe($,I),be=I.source;if(a.activeTexture(33984+te),a.bindTexture(me,$.__webglTexture),be.version!==be.__currentVersion||ge===!0){t.pixelStorei(37440,I.flipY),t.pixelStorei(37441,I.premultiplyAlpha),t.pixelStorei(3317,I.unpackAlignment),t.pixelStorei(37443,0);const Pe=w(I)&&b(I.image)===!1;let X=x(I.image,Pe,!1,d);X=pt(I,X);const $e=b(X)||s,Le=i.convert(I.format,I.encoding);let Ve=i.convert(I.type),de=E(I.internalFormat,Le,Ve,I.encoding,I.isVideoTexture);Z(me,I,$e);let ke;const Ge=I.mipmaps,Rt=s&&I.isVideoTexture!==!0,Y=be.__currentVersion===void 0||ge===!0,ze=A(I,X,$e);if(I.isDepthTexture)de=6402,s?I.type===1015?de=36012:I.type===1014?de=33190:I.type===1020?de=35056:de=33189:I.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===1026&&de===6402&&I.type!==1012&&I.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=1014,Ve=i.convert(I.type)),I.format===1027&&de===6402&&(de=34041,I.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=1020,Ve=i.convert(I.type))),Y&&(Rt?a.texStorage2D(3553,1,de,X.width,X.height):a.texImage2D(3553,0,de,X.width,X.height,0,Le,Ve,null));else if(I.isDataTexture)if(Ge.length>0&&$e){Rt&&Y&&a.texStorage2D(3553,ze,de,Ge[0].width,Ge[0].height);for(let ne=0,je=Ge.length;ne<je;ne++)ke=Ge[ne],Rt?a.texSubImage2D(3553,ne,0,0,ke.width,ke.height,Le,Ve,ke.data):a.texImage2D(3553,ne,de,ke.width,ke.height,0,Le,Ve,ke.data);I.generateMipmaps=!1}else Rt?(Y&&a.texStorage2D(3553,ze,de,X.width,X.height),a.texSubImage2D(3553,0,0,0,X.width,X.height,Le,Ve,X.data)):a.texImage2D(3553,0,de,X.width,X.height,0,Le,Ve,X.data);else if(I.isCompressedTexture){Rt&&Y&&a.texStorage2D(3553,ze,de,Ge[0].width,Ge[0].height);for(let ne=0,je=Ge.length;ne<je;ne++)ke=Ge[ne],I.format!==1023?Le!==null?Rt?a.compressedTexSubImage2D(3553,ne,0,0,ke.width,ke.height,Le,ke.data):a.compressedTexImage2D(3553,ne,de,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Rt?a.texSubImage2D(3553,ne,0,0,ke.width,ke.height,Le,Ve,ke.data):a.texImage2D(3553,ne,de,ke.width,ke.height,0,Le,Ve,ke.data)}else if(I.isDataArrayTexture)Rt?(Y&&a.texStorage3D(35866,ze,de,X.width,X.height,X.depth),a.texSubImage3D(35866,0,0,0,0,X.width,X.height,X.depth,Le,Ve,X.data)):a.texImage3D(35866,0,de,X.width,X.height,X.depth,0,Le,Ve,X.data);else if(I.isData3DTexture)Rt?(Y&&a.texStorage3D(32879,ze,de,X.width,X.height,X.depth),a.texSubImage3D(32879,0,0,0,0,X.width,X.height,X.depth,Le,Ve,X.data)):a.texImage3D(32879,0,de,X.width,X.height,X.depth,0,Le,Ve,X.data);else if(I.isFramebufferTexture){if(Y)if(Rt)a.texStorage2D(3553,ze,de,X.width,X.height);else{let ne=X.width,je=X.height;for(let we=0;we<ze;we++)a.texImage2D(3553,we,de,ne,je,0,Le,Ve,null),ne>>=1,je>>=1}}else if(Ge.length>0&&$e){Rt&&Y&&a.texStorage2D(3553,ze,de,Ge[0].width,Ge[0].height);for(let ne=0,je=Ge.length;ne<je;ne++)ke=Ge[ne],Rt?a.texSubImage2D(3553,ne,0,0,Le,Ve,ke):a.texImage2D(3553,ne,de,Le,Ve,ke);I.generateMipmaps=!1}else Rt?(Y&&a.texStorage2D(3553,ze,de,X.width,X.height),a.texSubImage2D(3553,0,0,0,Le,Ve,X)):a.texImage2D(3553,0,de,Le,Ve,X);_(I,$e)&&S(me),be.__currentVersion=be.version,I.onUpdate&&I.onUpdate(I)}$.__version=I.version}function Re($,I,te){if(I.image.length!==6)return;const me=Oe($,I),ge=I.source;if(a.activeTexture(33984+te),a.bindTexture(34067,$.__webglTexture),ge.version!==ge.__currentVersion||me===!0){t.pixelStorei(37440,I.flipY),t.pixelStorei(37441,I.premultiplyAlpha),t.pixelStorei(3317,I.unpackAlignment),t.pixelStorei(37443,0);const be=I.isCompressedTexture||I.image[0].isCompressedTexture,Pe=I.image[0]&&I.image[0].isDataTexture,X=[];for(let ne=0;ne<6;ne++)!be&&!Pe?X[ne]=x(I.image[ne],!1,!0,c):X[ne]=Pe?I.image[ne].image:I.image[ne],X[ne]=pt(I,X[ne]);const $e=X[0],Le=b($e)||s,Ve=i.convert(I.format,I.encoding),de=i.convert(I.type),ke=E(I.internalFormat,Ve,de,I.encoding),Ge=s&&I.isVideoTexture!==!0,Rt=ge.__currentVersion===void 0||me===!0;let Y=A(I,$e,Le);Z(34067,I,Le);let ze;if(be){Ge&&Rt&&a.texStorage2D(34067,Y,ke,$e.width,$e.height);for(let ne=0;ne<6;ne++){ze=X[ne].mipmaps;for(let je=0;je<ze.length;je++){const we=ze[je];I.format!==1023?Ve!==null?Ge?a.compressedTexSubImage2D(34069+ne,je,0,0,we.width,we.height,Ve,we.data):a.compressedTexImage2D(34069+ne,je,ke,we.width,we.height,0,we.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ge?a.texSubImage2D(34069+ne,je,0,0,we.width,we.height,Ve,de,we.data):a.texImage2D(34069+ne,je,ke,we.width,we.height,0,Ve,de,we.data)}}}else{ze=I.mipmaps,Ge&&Rt&&(ze.length>0&&Y++,a.texStorage2D(34067,Y,ke,X[0].width,X[0].height));for(let ne=0;ne<6;ne++)if(Pe){Ge?a.texSubImage2D(34069+ne,0,0,0,X[ne].width,X[ne].height,Ve,de,X[ne].data):a.texImage2D(34069+ne,0,ke,X[ne].width,X[ne].height,0,Ve,de,X[ne].data);for(let je=0;je<ze.length;je++){const we=ze[je].image[ne].image;Ge?a.texSubImage2D(34069+ne,je+1,0,0,we.width,we.height,Ve,de,we.data):a.texImage2D(34069+ne,je+1,ke,we.width,we.height,0,Ve,de,we.data)}}else{Ge?a.texSubImage2D(34069+ne,0,0,0,Ve,de,X[ne]):a.texImage2D(34069+ne,0,ke,Ve,de,X[ne]);for(let je=0;je<ze.length;je++){const we=ze[je];Ge?a.texSubImage2D(34069+ne,je+1,0,0,Ve,de,we.image[ne]):a.texImage2D(34069+ne,je+1,ke,Ve,de,we.image[ne])}}}_(I,Le)&&S(34067),ge.__currentVersion=ge.version,I.onUpdate&&I.onUpdate(I)}$.__version=I.version}function xe($,I,te,me,ge){const be=i.convert(te.format,te.encoding),Pe=i.convert(te.type),X=E(te.internalFormat,be,Pe,te.encoding);o.get(I).__hasExternalTextures||(ge===32879||ge===35866?a.texImage3D(ge,0,X,I.width,I.height,I.depth,0,be,Pe,null):a.texImage2D(ge,0,X,I.width,I.height,0,be,Pe,null)),a.bindFramebuffer(36160,$),mt(I)?u.framebufferTexture2DMultisampleEXT(36160,me,ge,o.get(te).__webglTexture,0,At(I)):t.framebufferTexture2D(36160,me,ge,o.get(te).__webglTexture,0),a.bindFramebuffer(36160,null)}function Te($,I,te){if(t.bindRenderbuffer(36161,$),I.depthBuffer&&!I.stencilBuffer){let me=33189;if(te||mt(I)){const ge=I.depthTexture;ge&&ge.isDepthTexture&&(ge.type===1015?me=36012:ge.type===1014&&(me=33190));const be=At(I);mt(I)?u.renderbufferStorageMultisampleEXT(36161,be,me,I.width,I.height):t.renderbufferStorageMultisample(36161,be,me,I.width,I.height)}else t.renderbufferStorage(36161,me,I.width,I.height);t.framebufferRenderbuffer(36160,36096,36161,$)}else if(I.depthBuffer&&I.stencilBuffer){const me=At(I);te&&mt(I)===!1?t.renderbufferStorageMultisample(36161,me,35056,I.width,I.height):mt(I)?u.renderbufferStorageMultisampleEXT(36161,me,35056,I.width,I.height):t.renderbufferStorage(36161,34041,I.width,I.height),t.framebufferRenderbuffer(36160,33306,36161,$)}else{const me=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let ge=0;ge<me.length;ge++){const be=me[ge],Pe=i.convert(be.format,be.encoding),X=i.convert(be.type),$e=E(be.internalFormat,Pe,X,be.encoding),Le=At(I);te&&mt(I)===!1?t.renderbufferStorageMultisample(36161,Le,$e,I.width,I.height):mt(I)?u.renderbufferStorageMultisampleEXT(36161,Le,$e,I.width,I.height):t.renderbufferStorage(36161,$e,I.width,I.height)}}t.bindRenderbuffer(36161,null)}function Ne($,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(36160,$),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),H(I.depthTexture,0);const te=o.get(I.depthTexture).__webglTexture,me=At(I);if(I.depthTexture.format===1026)mt(I)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,te,0,me):t.framebufferTexture2D(36160,36096,3553,te,0);else if(I.depthTexture.format===1027)mt(I)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,te,0,me):t.framebufferTexture2D(36160,33306,3553,te,0);else throw new Error("Unknown depthTexture format")}function he($){const I=o.get($),te=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!I.__autoAllocateDepthBuffer){if(te)throw new Error("target.depthTexture not supported in Cube render targets");Ne(I.__webglFramebuffer,$)}else if(te){I.__webglDepthbuffer=[];for(let me=0;me<6;me++)a.bindFramebuffer(36160,I.__webglFramebuffer[me]),I.__webglDepthbuffer[me]=t.createRenderbuffer(),Te(I.__webglDepthbuffer[me],$,!1)}else a.bindFramebuffer(36160,I.__webglFramebuffer),I.__webglDepthbuffer=t.createRenderbuffer(),Te(I.__webglDepthbuffer,$,!1);a.bindFramebuffer(36160,null)}function ot($,I,te){const me=o.get($);I!==void 0&&xe(me.__webglFramebuffer,$,$.texture,36064,3553),te!==void 0&&he($)}function nt($){const I=$.texture,te=o.get($),me=o.get(I);$.addEventListener("dispose",B),$.isWebGLMultipleRenderTargets!==!0&&(me.__webglTexture===void 0&&(me.__webglTexture=t.createTexture()),me.__version=I.version,n.memory.textures++);const ge=$.isWebGLCubeRenderTarget===!0,be=$.isWebGLMultipleRenderTargets===!0,Pe=b($)||s;if(ge){te.__webglFramebuffer=[];for(let X=0;X<6;X++)te.__webglFramebuffer[X]=t.createFramebuffer()}else{if(te.__webglFramebuffer=t.createFramebuffer(),be)if(r.drawBuffers){const X=$.texture;for(let $e=0,Le=X.length;$e<Le;$e++){const Ve=o.get(X[$e]);Ve.__webglTexture===void 0&&(Ve.__webglTexture=t.createTexture(),n.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&$.samples>0&&mt($)===!1){const X=be?I:[I];te.__webglMultisampledFramebuffer=t.createFramebuffer(),te.__webglColorRenderbuffer=[],a.bindFramebuffer(36160,te.__webglMultisampledFramebuffer);for(let $e=0;$e<X.length;$e++){const Le=X[$e];te.__webglColorRenderbuffer[$e]=t.createRenderbuffer(),t.bindRenderbuffer(36161,te.__webglColorRenderbuffer[$e]);const Ve=i.convert(Le.format,Le.encoding),de=i.convert(Le.type),ke=E(Le.internalFormat,Ve,de,Le.encoding),Ge=At($);t.renderbufferStorageMultisample(36161,Ge,ke,$.width,$.height),t.framebufferRenderbuffer(36160,36064+$e,36161,te.__webglColorRenderbuffer[$e])}t.bindRenderbuffer(36161,null),$.depthBuffer&&(te.__webglDepthRenderbuffer=t.createRenderbuffer(),Te(te.__webglDepthRenderbuffer,$,!0)),a.bindFramebuffer(36160,null)}}if(ge){a.bindTexture(34067,me.__webglTexture),Z(34067,I,Pe);for(let X=0;X<6;X++)xe(te.__webglFramebuffer[X],$,I,36064,34069+X);_(I,Pe)&&S(34067),a.unbindTexture()}else if(be){const X=$.texture;for(let $e=0,Le=X.length;$e<Le;$e++){const Ve=X[$e],de=o.get(Ve);a.bindTexture(3553,de.__webglTexture),Z(3553,Ve,Pe),xe(te.__webglFramebuffer,$,Ve,36064+$e,3553),_(Ve,Pe)&&S(3553)}a.unbindTexture()}else{let X=3553;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(s?X=$.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),a.bindTexture(X,me.__webglTexture),Z(X,I,Pe),xe(te.__webglFramebuffer,$,I,36064,X),_(I,Pe)&&S(X),a.unbindTexture()}$.depthBuffer&&he($)}function Nt($){const I=b($)||s,te=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let me=0,ge=te.length;me<ge;me++){const be=te[me];if(_(be,I)){const Pe=$.isWebGLCubeRenderTarget?34067:3553,X=o.get(be).__webglTexture;a.bindTexture(Pe,X),S(Pe),a.unbindTexture()}}}function jt($){if(s&&$.samples>0&&mt($)===!1){const I=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],te=$.width,me=$.height;let ge=16384;const be=[],Pe=$.stencilBuffer?33306:36096,X=o.get($),$e=$.isWebGLMultipleRenderTargets===!0;if($e)for(let Le=0;Le<I.length;Le++)a.bindFramebuffer(36160,X.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Le,36161,null),a.bindFramebuffer(36160,X.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Le,3553,null,0);a.bindFramebuffer(36008,X.__webglMultisampledFramebuffer),a.bindFramebuffer(36009,X.__webglFramebuffer);for(let Le=0;Le<I.length;Le++){be.push(36064+Le),$.depthBuffer&&be.push(Pe);const Ve=X.__ignoreDepthValues!==void 0?X.__ignoreDepthValues:!1;if(Ve===!1&&($.depthBuffer&&(ge|=256),$.stencilBuffer&&(ge|=1024)),$e&&t.framebufferRenderbuffer(36008,36064,36161,X.__webglColorRenderbuffer[Le]),Ve===!0&&(t.invalidateFramebuffer(36008,[Pe]),t.invalidateFramebuffer(36009,[Pe])),$e){const de=o.get(I[Le]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,de,0)}t.blitFramebuffer(0,0,te,me,0,0,te,me,ge,9728),v&&t.invalidateFramebuffer(36008,be)}if(a.bindFramebuffer(36008,null),a.bindFramebuffer(36009,null),$e)for(let Le=0;Le<I.length;Le++){a.bindFramebuffer(36160,X.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Le,36161,X.__webglColorRenderbuffer[Le]);const Ve=o.get(I[Le]).__webglTexture;a.bindFramebuffer(36160,X.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Le,3553,Ve,0)}a.bindFramebuffer(36009,X.__webglMultisampledFramebuffer)}}function At($){return Math.min(m,$.samples)}function mt($){const I=o.get($);return s&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function Ht($){const I=n.render.frame;h.get($)!==I&&(h.set($,I),$.update())}function pt($,I){const te=$.encoding,me=$.format,ge=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===1035||te!==3e3&&(te===3001?s===!1?e.has("EXT_sRGB")===!0&&me===1023?($.format=1035,$.minFilter=1006,$.generateMipmaps=!1):I=C5.sRGBToLinear(I):(me!==1023||ge!==1009)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",te)),I}this.allocateTextureUnit=z,this.resetTextureUnits=V,this.setTexture2D=H,this.setTexture2DArray=oe,this.setTexture3D=W,this.setTextureCube=ie,this.rebindTextures=ot,this.setupRenderTarget=nt,this.updateRenderTargetMipmap=Nt,this.updateMultisampleRenderTarget=jt,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=mt}function oU(t,e,a){const o=a.isWebGL2;function r(i,n=null){let s;if(i===1009)return 5121;if(i===1017)return 32819;if(i===1018)return 32820;if(i===1010)return 5120;if(i===1011)return 5122;if(i===1012)return 5123;if(i===1013)return 5124;if(i===1014)return 5125;if(i===1015)return 5126;if(i===1016)return o?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(i===1021)return 6406;if(i===1023)return 6408;if(i===1024)return 6409;if(i===1025)return 6410;if(i===1026)return 6402;if(i===1027)return 34041;if(i===1028)return 6403;if(i===1022)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(i===1035)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(i===1029)return 36244;if(i===1030)return 33319;if(i===1031)return 33320;if(i===1033)return 36249;if(i===33776||i===33777||i===33778||i===33779)if(n===3001)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===33776)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===33777)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===33778)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===33779)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===33776)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===33777)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===33778)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===33779)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===35840||i===35841||i===35842||i===35843)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===35840)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===35841)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===35842)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===35843)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===36196)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(i===37492||i===37496)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===37492)return n===3001?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===37496)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===37808||i===37809||i===37810||i===37811||i===37812||i===37813||i===37814||i===37815||i===37816||i===37817||i===37818||i===37819||i===37820||i===37821)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===37808)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===37809)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===37810)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===37811)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===37812)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===37813)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===37814)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===37815)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===37816)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===37817)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===37818)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===37819)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===37820)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===37821)return n===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===36492)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===36492)return n===3001?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return i===1020?o?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[i]!==void 0?t[i]:null}return{convert:r}}class rU extends go{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Bu extends Ga{constructor(){super(),this.isGroup=!0,this.type="Group"}}const iU={type:"move"};class Kh{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Bu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Bu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Bu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,a,o){let r=null,i=null,n=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&a.session.visibilityState!=="visible-blurred"){if(c&&e.hand){n=!0;for(const p of e.hand.values()){const f=a.getJointPose(p,o);if(c.joints[p.jointName]===void 0){const y=new Bu;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[p.jointName]=y,c.add(y)}const g=c.joints[p.jointName];f!==null&&(g.matrix.fromArray(f.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=f.radius),g.visible=f!==null}const d=c.joints["index-finger-tip"],m=c.joints["thumb-tip"],u=d.position.distanceTo(m.position),v=.02,h=.005;c.inputState.pinching&&u>v+h?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&u<=v-h&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(i=a.getPose(e.gripSpace,o),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(r=a.getPose(e.targetRaySpace,o),r===null&&i!==null&&(r=i),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(iU)))}return s!==null&&(s.visible=r!==null),l!==null&&(l.visible=i!==null),c!==null&&(c.visible=n!==null),this}}class nU extends Mo{constructor(e,a,o,r,i,n,s,l,c,d){if(d=d!==void 0?d:1026,d!==1026&&d!==1027)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&d===1026&&(o=1014),o===void 0&&d===1027&&(o=1020),super(null,r,i,n,s,l,d,o,c),this.isDepthTexture=!0,this.image={width:e,height:a},this.magFilter=s!==void 0?s:1003,this.minFilter=l!==void 0?l:1003,this.flipY=!1,this.generateMipmaps=!1}}class sU extends Ol{constructor(e,a){super();const o=this;let r=null,i=1,n=null,s="local-floor",l=null,c=null,d=null,m=null,u=null,v=null;const h=a.getContextAttributes();let p=null,f=null;const g=[],y=[],x=new go;x.layers.enable(1),x.viewport=new ba;const b=new go;b.layers.enable(2),b.viewport=new ba;const w=[x,b],_=new rU;_.layers.enable(1),_.layers.enable(2);let S=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let H=g[F];return H===void 0&&(H=new Kh,g[F]=H),H.getTargetRaySpace()},this.getControllerGrip=function(F){let H=g[F];return H===void 0&&(H=new Kh,g[F]=H),H.getGripSpace()},this.getHand=function(F){let H=g[F];return H===void 0&&(H=new Kh,g[F]=H),H.getHandSpace()};function A(F){const H=y.indexOf(F.inputSource);if(H===-1)return;const oe=g[H];oe!==void 0&&oe.dispatchEvent({type:F.type,data:F.inputSource})}function T(){r.removeEventListener("select",A),r.removeEventListener("selectstart",A),r.removeEventListener("selectend",A),r.removeEventListener("squeeze",A),r.removeEventListener("squeezestart",A),r.removeEventListener("squeezeend",A),r.removeEventListener("end",T),r.removeEventListener("inputsourceschange",O);for(let F=0;F<g.length;F++){const H=y[F];H!==null&&(y[F]=null,g[F].disconnect(H))}S=null,E=null,e.setRenderTarget(p),u=null,m=null,d=null,r=null,f=null,z.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){i=F,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){s=F,o.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||n},this.setReferenceSpace=function(F){l=F},this.getBaseLayer=function(){return m!==null?m:u},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(F){if(r=F,r!==null){if(p=e.getRenderTarget(),r.addEventListener("select",A),r.addEventListener("selectstart",A),r.addEventListener("selectend",A),r.addEventListener("squeeze",A),r.addEventListener("squeezestart",A),r.addEventListener("squeezeend",A),r.addEventListener("end",T),r.addEventListener("inputsourceschange",O),h.xrCompatible!==!0&&await a.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:r.renderState.layers===void 0?h.antialias:!0,alpha:h.alpha,depth:h.depth,stencil:h.stencil,framebufferScaleFactor:i};u=new XRWebGLLayer(r,a,H),r.updateRenderState({baseLayer:u}),f=new os(u.framebufferWidth,u.framebufferHeight,{format:1023,type:1009,encoding:e.outputEncoding})}else{let H=null,oe=null,W=null;h.depth&&(W=h.stencil?35056:33190,H=h.stencil?1027:1026,oe=h.stencil?1020:1014);const ie={colorFormat:32856,depthFormat:W,scaleFactor:i};d=new XRWebGLBinding(r,a),m=d.createProjectionLayer(ie),r.updateRenderState({layers:[m]}),f=new os(m.textureWidth,m.textureHeight,{format:1023,type:1009,depthTexture:new nU(m.textureWidth,m.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:h.stencil,encoding:e.outputEncoding,samples:h.antialias?4:0});const le=e.properties.get(f);le.__ignoreDepthValues=m.ignoreDepthValues}f.isXRRenderTarget=!0,this.setFoveation(1),l=null,n=await r.requestReferenceSpace(s),z.setContext(r),z.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}};function O(F){for(let H=0;H<F.removed.length;H++){const oe=F.removed[H],W=y.indexOf(oe);W>=0&&(y[W]=null,g[W].dispatchEvent({type:"disconnected",data:oe}))}for(let H=0;H<F.added.length;H++){const oe=F.added[H];let W=y.indexOf(oe);if(W===-1){for(let le=0;le<g.length;le++)if(le>=y.length){y.push(oe),W=le;break}else if(y[le]===null){y[le]=oe,W=le;break}if(W===-1)break}const ie=g[W];ie&&ie.dispatchEvent({type:"connected",data:oe})}}const B=new J,N=new J;function D(F,H,oe){B.setFromMatrixPosition(H.matrixWorld),N.setFromMatrixPosition(oe.matrixWorld);const W=B.distanceTo(N),ie=H.projectionMatrix.elements,le=oe.projectionMatrix.elements,Ce=ie[14]/(ie[10]-1),Z=ie[14]/(ie[10]+1),Oe=(ie[9]+1)/ie[5],Me=(ie[9]-1)/ie[5],Re=(ie[8]-1)/ie[0],xe=(le[8]+1)/le[0],Te=Ce*Re,Ne=Ce*xe,he=W/(-Re+xe),ot=he*-Re;H.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(ot),F.translateZ(he),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const nt=Ce+he,Nt=Z+he,jt=Te-ot,At=Ne+(W-ot),mt=Oe*Z/Nt*nt,Ht=Me*Z/Nt*nt;F.projectionMatrix.makePerspective(jt,At,mt,Ht,nt,Nt)}function q(F,H){H===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(H.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(r===null)return;_.near=b.near=x.near=F.near,_.far=b.far=x.far=F.far,(S!==_.near||E!==_.far)&&(r.updateRenderState({depthNear:_.near,depthFar:_.far}),S=_.near,E=_.far);const H=F.parent,oe=_.cameras;q(_,H);for(let ie=0;ie<oe.length;ie++)q(oe[ie],H);_.matrixWorld.decompose(_.position,_.quaternion,_.scale),F.position.copy(_.position),F.quaternion.copy(_.quaternion),F.scale.copy(_.scale),F.matrix.copy(_.matrix),F.matrixWorld.copy(_.matrixWorld);const W=F.children;for(let ie=0,le=W.length;ie<le;ie++)W[ie].updateMatrixWorld(!0);oe.length===2?D(_,x,b):_.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return _},this.getFoveation=function(){if(m!==null)return m.fixedFoveation;if(u!==null)return u.fixedFoveation},this.setFoveation=function(F){m!==null&&(m.fixedFoveation=F),u!==null&&u.fixedFoveation!==void 0&&(u.fixedFoveation=F)};let j=null;function V(F,H){if(c=H.getViewerPose(l||n),v=H,c!==null){const oe=c.views;u!==null&&(e.setRenderTargetFramebuffer(f,u.framebuffer),e.setRenderTarget(f));let W=!1;oe.length!==_.cameras.length&&(_.cameras.length=0,W=!0);for(let ie=0;ie<oe.length;ie++){const le=oe[ie];let Ce=null;if(u!==null)Ce=u.getViewport(le);else{const Oe=d.getViewSubImage(m,le);Ce=Oe.viewport,ie===0&&(e.setRenderTargetTextures(f,Oe.colorTexture,m.ignoreDepthValues?void 0:Oe.depthStencilTexture),e.setRenderTarget(f))}let Z=w[ie];Z===void 0&&(Z=new go,Z.layers.enable(ie),Z.viewport=new ba,w[ie]=Z),Z.matrix.fromArray(le.transform.matrix),Z.projectionMatrix.fromArray(le.projectionMatrix),Z.viewport.set(Ce.x,Ce.y,Ce.width,Ce.height),ie===0&&_.matrix.copy(Z.matrix),W===!0&&_.cameras.push(Z)}}for(let oe=0;oe<g.length;oe++){const W=y[oe],ie=g[oe];W!==null&&ie!==void 0&&ie.update(W,H,l||n)}j&&j(F,H),v=null}const z=new O5;z.setAnimationLoop(V),this.setAnimationLoop=function(F){j=F},this.dispose=function(){}}}function lU(t,e){function a(p,f){p.fogColor.value.copy(f.color),f.isFog?(p.fogNear.value=f.near,p.fogFar.value=f.far):f.isFogExp2&&(p.fogDensity.value=f.density)}function o(p,f,g,y,x){f.isMeshBasicMaterial||f.isMeshLambertMaterial?r(p,f):f.isMeshToonMaterial?(r(p,f),d(p,f)):f.isMeshPhongMaterial?(r(p,f),c(p,f)):f.isMeshStandardMaterial?(r(p,f),m(p,f),f.isMeshPhysicalMaterial&&u(p,f,x)):f.isMeshMatcapMaterial?(r(p,f),v(p,f)):f.isMeshDepthMaterial?r(p,f):f.isMeshDistanceMaterial?(r(p,f),h(p,f)):f.isMeshNormalMaterial?r(p,f):f.isLineBasicMaterial?(i(p,f),f.isLineDashedMaterial&&n(p,f)):f.isPointsMaterial?s(p,f,g,y):f.isSpriteMaterial?l(p,f):f.isShadowMaterial?(p.color.value.copy(f.color),p.opacity.value=f.opacity):f.isShaderMaterial&&(f.uniformsNeedUpdate=!1)}function r(p,f){p.opacity.value=f.opacity,f.color&&p.diffuse.value.copy(f.color),f.emissive&&p.emissive.value.copy(f.emissive).multiplyScalar(f.emissiveIntensity),f.map&&(p.map.value=f.map),f.alphaMap&&(p.alphaMap.value=f.alphaMap),f.bumpMap&&(p.bumpMap.value=f.bumpMap,p.bumpScale.value=f.bumpScale,f.side===1&&(p.bumpScale.value*=-1)),f.displacementMap&&(p.displacementMap.value=f.displacementMap,p.displacementScale.value=f.displacementScale,p.displacementBias.value=f.displacementBias),f.emissiveMap&&(p.emissiveMap.value=f.emissiveMap),f.normalMap&&(p.normalMap.value=f.normalMap,p.normalScale.value.copy(f.normalScale),f.side===1&&p.normalScale.value.negate()),f.specularMap&&(p.specularMap.value=f.specularMap),f.alphaTest>0&&(p.alphaTest.value=f.alphaTest);const g=e.get(f).envMap;if(g&&(p.envMap.value=g,p.flipEnvMap.value=g.isCubeTexture&&g.isRenderTargetTexture===!1?-1:1,p.reflectivity.value=f.reflectivity,p.ior.value=f.ior,p.refractionRatio.value=f.refractionRatio),f.lightMap){p.lightMap.value=f.lightMap;const b=t.physicallyCorrectLights!==!0?Math.PI:1;p.lightMapIntensity.value=f.lightMapIntensity*b}f.aoMap&&(p.aoMap.value=f.aoMap,p.aoMapIntensity.value=f.aoMapIntensity);let y;f.map?y=f.map:f.specularMap?y=f.specularMap:f.displacementMap?y=f.displacementMap:f.normalMap?y=f.normalMap:f.bumpMap?y=f.bumpMap:f.roughnessMap?y=f.roughnessMap:f.metalnessMap?y=f.metalnessMap:f.alphaMap?y=f.alphaMap:f.emissiveMap?y=f.emissiveMap:f.clearcoatMap?y=f.clearcoatMap:f.clearcoatNormalMap?y=f.clearcoatNormalMap:f.clearcoatRoughnessMap?y=f.clearcoatRoughnessMap:f.iridescenceMap?y=f.iridescenceMap:f.iridescenceThicknessMap?y=f.iridescenceThicknessMap:f.specularIntensityMap?y=f.specularIntensityMap:f.specularColorMap?y=f.specularColorMap:f.transmissionMap?y=f.transmissionMap:f.thicknessMap?y=f.thicknessMap:f.sheenColorMap?y=f.sheenColorMap:f.sheenRoughnessMap&&(y=f.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),p.uvTransform.value.copy(y.matrix));let x;f.aoMap?x=f.aoMap:f.lightMap&&(x=f.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),p.uv2Transform.value.copy(x.matrix))}function i(p,f){p.diffuse.value.copy(f.color),p.opacity.value=f.opacity}function n(p,f){p.dashSize.value=f.dashSize,p.totalSize.value=f.dashSize+f.gapSize,p.scale.value=f.scale}function s(p,f,g,y){p.diffuse.value.copy(f.color),p.opacity.value=f.opacity,p.size.value=f.size*g,p.scale.value=y*.5,f.map&&(p.map.value=f.map),f.alphaMap&&(p.alphaMap.value=f.alphaMap),f.alphaTest>0&&(p.alphaTest.value=f.alphaTest);let x;f.map?x=f.map:f.alphaMap&&(x=f.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),p.uvTransform.value.copy(x.matrix))}function l(p,f){p.diffuse.value.copy(f.color),p.opacity.value=f.opacity,p.rotation.value=f.rotation,f.map&&(p.map.value=f.map),f.alphaMap&&(p.alphaMap.value=f.alphaMap),f.alphaTest>0&&(p.alphaTest.value=f.alphaTest);let g;f.map?g=f.map:f.alphaMap&&(g=f.alphaMap),g!==void 0&&(g.matrixAutoUpdate===!0&&g.updateMatrix(),p.uvTransform.value.copy(g.matrix))}function c(p,f){p.specular.value.copy(f.specular),p.shininess.value=Math.max(f.shininess,1e-4)}function d(p,f){f.gradientMap&&(p.gradientMap.value=f.gradientMap)}function m(p,f){p.roughness.value=f.roughness,p.metalness.value=f.metalness,f.roughnessMap&&(p.roughnessMap.value=f.roughnessMap),f.metalnessMap&&(p.metalnessMap.value=f.metalnessMap),e.get(f).envMap&&(p.envMapIntensity.value=f.envMapIntensity)}function u(p,f,g){p.ior.value=f.ior,f.sheen>0&&(p.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),p.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(p.sheenColorMap.value=f.sheenColorMap),f.sheenRoughnessMap&&(p.sheenRoughnessMap.value=f.sheenRoughnessMap)),f.clearcoat>0&&(p.clearcoat.value=f.clearcoat,p.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(p.clearcoatMap.value=f.clearcoatMap),f.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap),f.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),p.clearcoatNormalMap.value=f.clearcoatNormalMap,f.side===1&&p.clearcoatNormalScale.value.negate())),f.iridescence>0&&(p.iridescence.value=f.iridescence,p.iridescenceIOR.value=f.iridescenceIOR,p.iridescenceThicknessMinimum.value=f.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=f.iridescenceThicknessRange[1],f.iridescenceMap&&(p.iridescenceMap.value=f.iridescenceMap),f.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=f.iridescenceThicknessMap)),f.transmission>0&&(p.transmission.value=f.transmission,p.transmissionSamplerMap.value=g.texture,p.transmissionSamplerSize.value.set(g.width,g.height),f.transmissionMap&&(p.transmissionMap.value=f.transmissionMap),p.thickness.value=f.thickness,f.thicknessMap&&(p.thicknessMap.value=f.thicknessMap),p.attenuationDistance.value=f.attenuationDistance,p.attenuationColor.value.copy(f.attenuationColor)),p.specularIntensity.value=f.specularIntensity,p.specularColor.value.copy(f.specularColor),f.specularIntensityMap&&(p.specularIntensityMap.value=f.specularIntensityMap),f.specularColorMap&&(p.specularColorMap.value=f.specularColorMap)}function v(p,f){f.matcap&&(p.matcap.value=f.matcap)}function h(p,f){p.referencePosition.value.copy(f.referencePosition),p.nearDistance.value=f.nearDistance,p.farDistance.value=f.farDistance}return{refreshFogUniforms:a,refreshMaterialUniforms:o}}function cU(t,e,a,o){let r={},i={},n=[];const s=a.isWebGL2?t.getParameter(35375):0;function l(y,x){const b=x.program;o.uniformBlockBinding(y,b)}function c(y,x){let b=r[y.id];b===void 0&&(h(y),b=d(y),r[y.id]=b,y.addEventListener("dispose",f));const w=x.program;o.updateUBOMapping(y,w);const _=e.render.frame;i[y.id]!==_&&(u(y),i[y.id]=_)}function d(y){const x=m();y.__bindingPointIndex=x;const b=t.createBuffer(),w=y.__size,_=y.usage;return t.bindBuffer(35345,b),t.bufferData(35345,w,_),t.bindBuffer(35345,null),t.bindBufferBase(35345,x,b),b}function m(){for(let y=0;y<s;y++)if(n.indexOf(y)===-1)return n.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function u(y){const x=r[y.id],b=y.uniforms,w=y.__cache;t.bindBuffer(35345,x);for(let _=0,S=b.length;_<S;_++){const E=b[_];if(v(E,_,w)===!0){const A=E.value,T=E.__offset;typeof A=="number"?(E.__data[0]=A,t.bufferSubData(35345,T,E.__data)):(E.value.isMatrix3?(E.__data[0]=E.value.elements[0],E.__data[1]=E.value.elements[1],E.__data[2]=E.value.elements[2],E.__data[3]=E.value.elements[0],E.__data[4]=E.value.elements[3],E.__data[5]=E.value.elements[4],E.__data[6]=E.value.elements[5],E.__data[7]=E.value.elements[0],E.__data[8]=E.value.elements[6],E.__data[9]=E.value.elements[7],E.__data[10]=E.value.elements[8],E.__data[11]=E.value.elements[0]):A.toArray(E.__data),t.bufferSubData(35345,T,E.__data))}}t.bindBuffer(35345,null)}function v(y,x,b){const w=y.value;if(b[x]===void 0)return typeof w=="number"?b[x]=w:b[x]=w.clone(),!0;if(typeof w=="number"){if(b[x]!==w)return b[x]=w,!0}else{const _=b[x];if(_.equals(w)===!1)return _.copy(w),!0}return!1}function h(y){const x=y.uniforms;let b=0;const w=16;let _=0;for(let S=0,E=x.length;S<E;S++){const A=x[S],T=p(A);if(A.__data=new Float32Array(T.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=b,S>0){_=b%w;const O=w-_;_!==0&&O-T.boundary<0&&(b+=w-_,A.__offset=b)}b+=T.storage}return _=b%w,_>0&&(b+=w-_),y.__size=b,y.__cache={},this}function p(y){const x=y.value,b={boundary:0,storage:0};return typeof x=="number"?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),b}function f(y){const x=y.target;x.removeEventListener("dispose",f);const b=n.indexOf(x.__bindingPointIndex);n.splice(b,1),t.deleteBuffer(r[x.id]),delete r[x.id],delete i[x.id]}function g(){for(const y in r)t.deleteBuffer(r[y]);n=[],r={},i={}}return{bind:l,update:c,dispose:g}}function dU(){const t=cp("canvas");return t.style.display="block",t}function j5(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:dU(),a=t.context!==void 0?t.context:null,o=t.depth!==void 0?t.depth:!0,r=t.stencil!==void 0?t.stencil:!0,i=t.antialias!==void 0?t.antialias:!1,n=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,s=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let d;a!==null?d=a.getContextAttributes().alpha:d=t.alpha!==void 0?t.alpha:!1;let m=null,u=null;const v=[],h=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const p=this;let f=!1,g=0,y=0,x=null,b=-1,w=null;const _=new ba,S=new ba;let E=null,A=e.width,T=e.height,O=1,B=null,N=null;const D=new ba(0,0,A,T),q=new ba(0,0,A,T);let j=!1;const V=new w1;let z=!1,F=!1,H=null;const oe=new _a,W=new St,ie=new J,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ce(){return x===null?O:1}let Z=a;function Oe(k,Q){for(let re=0;re<k.length;re++){const ee=k[re],ce=e.getContext(ee,Q);if(ce!==null)return ce}return null}try{const k={alpha:!0,depth:o,stencil:r,antialias:i,premultipliedAlpha:n,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${_1}`),e.addEventListener("webglcontextlost",ke,!1),e.addEventListener("webglcontextrestored",Ge,!1),e.addEventListener("webglcontextcreationerror",Rt,!1),Z===null){const Q=["webgl2","webgl","experimental-webgl"];if(p.isWebGL1Renderer===!0&&Q.shift(),Z=Oe(Q,k),Z===null)throw Oe(Q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let Me,Re,xe,Te,Ne,he,ot,nt,Nt,jt,At,mt,Ht,pt,$,I,te,me,ge,be,Pe,X,$e,Le;function Ve(){Me=new bB(Z),Re=new pB(Z,Me,t),Me.init(Re),X=new oU(Z,Me,Re),xe=new tU(Z,Me,Re),Te=new EB,Ne=new B$,he=new aU(Z,Me,xe,Ne,Re,X,Te),ot=new hB(p),nt=new xB(p),Nt=new OF(Z,Re),$e=new uB(Z,Me,Nt,Re),jt=new _B(Z,Nt,Te,$e),At=new MB(Z,jt,Nt,Te),ge=new AB(Z,Re,he),I=new fB(Ne),mt=new j$(p,ot,nt,Me,Re,$e,I),Ht=new lU(p,Ne),pt=new U$,$=new X$(Me,Re),me=new dB(p,ot,xe,At,d,n),te=new eU(p,At,Re),Le=new cU(Z,Te,Re,xe),be=new mB(Z,Me,Te,Re),Pe=new wB(Z,Me,Te,Re),Te.programs=mt.programs,p.capabilities=Re,p.extensions=Me,p.properties=Ne,p.renderLists=pt,p.shadowMap=te,p.state=xe,p.info=Te}Ve();const de=new sU(p,Z);this.xr=de,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const k=Me.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Me.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(k){k!==void 0&&(O=k,this.setSize(A,T,!1))},this.getSize=function(k){return k.set(A,T)},this.setSize=function(k,Q,re){if(de.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=k,T=Q,e.width=Math.floor(k*O),e.height=Math.floor(Q*O),re!==!1&&(e.style.width=k+"px",e.style.height=Q+"px"),this.setViewport(0,0,k,Q)},this.getDrawingBufferSize=function(k){return k.set(A*O,T*O).floor()},this.setDrawingBufferSize=function(k,Q,re){A=k,T=Q,O=re,e.width=Math.floor(k*re),e.height=Math.floor(Q*re),this.setViewport(0,0,k,Q)},this.getCurrentViewport=function(k){return k.copy(_)},this.getViewport=function(k){return k.copy(D)},this.setViewport=function(k,Q,re,ee){k.isVector4?D.set(k.x,k.y,k.z,k.w):D.set(k,Q,re,ee),xe.viewport(_.copy(D).multiplyScalar(O).floor())},this.getScissor=function(k){return k.copy(q)},this.setScissor=function(k,Q,re,ee){k.isVector4?q.set(k.x,k.y,k.z,k.w):q.set(k,Q,re,ee),xe.scissor(S.copy(q).multiplyScalar(O).floor())},this.getScissorTest=function(){return j},this.setScissorTest=function(k){xe.setScissorTest(j=k)},this.setOpaqueSort=function(k){B=k},this.setTransparentSort=function(k){N=k},this.getClearColor=function(k){return k.copy(me.getClearColor())},this.setClearColor=function(){me.setClearColor.apply(me,arguments)},this.getClearAlpha=function(){return me.getClearAlpha()},this.setClearAlpha=function(){me.setClearAlpha.apply(me,arguments)},this.clear=function(k=!0,Q=!0,re=!0){let ee=0;k&&(ee|=16384),Q&&(ee|=256),re&&(ee|=1024),Z.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ke,!1),e.removeEventListener("webglcontextrestored",Ge,!1),e.removeEventListener("webglcontextcreationerror",Rt,!1),pt.dispose(),$.dispose(),Ne.dispose(),ot.dispose(),nt.dispose(),At.dispose(),$e.dispose(),Le.dispose(),mt.dispose(),de.dispose(),de.removeEventListener("sessionstart",zt),de.removeEventListener("sessionend",G),H&&(H.dispose(),H=null),K.stop()};function ke(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),f=!0}function Ge(){console.log("THREE.WebGLRenderer: Context Restored."),f=!1;const k=Te.autoReset,Q=te.enabled,re=te.autoUpdate,ee=te.needsUpdate,ce=te.type;Ve(),Te.autoReset=k,te.enabled=Q,te.autoUpdate=re,te.needsUpdate=ee,te.type=ce}function Rt(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function Y(k){const Q=k.target;Q.removeEventListener("dispose",Y),ze(Q)}function ze(k){ne(k),Ne.remove(k)}function ne(k){const Q=Ne.get(k).programs;Q!==void 0&&(Q.forEach(function(re){mt.releaseProgram(re)}),k.isShaderMaterial&&mt.releaseShaderCache(k))}this.renderBufferDirect=function(k,Q,re,ee,ce,We){Q===null&&(Q=le);const it=ce.isMesh&&ce.matrixWorld.determinant()<0,Je=gt(k,Q,re,ee,ce);xe.setMaterial(ee,it);let dt=re.index;const Ft=re.attributes.position;if(dt===null){if(Ft===void 0||Ft.count===0)return}else if(dt.count===0)return;let ht=1;ee.wireframe===!0&&(dt=jt.getWireframeAttribute(re),ht=2),$e.setup(ce,ee,Je,re,dt);let yt,Bt=be;dt!==null&&(yt=Nt.get(dt),Bt=Pe,Bt.setIndex(yt));const Do=dt!==null?dt.count:Ft.count,wt=re.drawRange.start*ht,Tt=re.drawRange.count*ht,na=We!==null?We.start*ht:0,_t=We!==null?We.count*ht:1/0,vi=Math.max(wt,na),zl=Math.min(Do,wt+Tt,na+_t)-1,Io=Math.max(0,zl-vi+1);if(Io!==0){if(ce.isMesh)ee.wireframe===!0?(xe.setLineWidth(ee.wireframeLinewidth*Ce()),Bt.setMode(1)):Bt.setMode(4);else if(ce.isLine){let gi=ee.linewidth;gi===void 0&&(gi=1),xe.setLineWidth(gi*Ce()),ce.isLineSegments?Bt.setMode(1):ce.isLineLoop?Bt.setMode(2):Bt.setMode(3)}else ce.isPoints?Bt.setMode(0):ce.isSprite&&Bt.setMode(4);if(ce.isInstancedMesh)Bt.renderInstances(vi,Io,ce.count);else if(re.isInstancedBufferGeometry){const gi=Math.min(re.instanceCount,re._maxInstanceCount);Bt.renderInstances(vi,Io,gi)}else Bt.render(vi,Io)}},this.compile=function(k,Q){u=$.get(k),u.init(),h.push(u),k.traverseVisible(function(re){re.isLight&&re.layers.test(Q.layers)&&(u.pushLight(re),re.castShadow&&u.pushShadow(re))}),u.setupLights(p.physicallyCorrectLights),k.traverse(function(re){const ee=re.material;if(ee)if(Array.isArray(ee))for(let ce=0;ce<ee.length;ce++){const We=ee[ce];Xe(We,k,re)}else Xe(ee,k,re)}),h.pop(),u=null};let je=null;function we(k){je&&je(k)}function zt(){K.stop()}function G(){K.start()}const K=new O5;K.setAnimationLoop(we),typeof self<"u"&&K.setContext(self),this.setAnimationLoop=function(k){je=k,de.setAnimationLoop(k),k===null?K.stop():K.start()},de.addEventListener("sessionstart",zt),de.addEventListener("sessionend",G),this.render=function(k,Q){if(Q!==void 0&&Q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(f===!0)return;k.autoUpdate===!0&&k.updateMatrixWorld(),Q.parent===null&&Q.updateMatrixWorld(),de.enabled===!0&&de.isPresenting===!0&&(de.cameraAutoUpdate===!0&&de.updateCamera(Q),Q=de.getCamera()),k.isScene===!0&&k.onBeforeRender(p,k,Q,x),u=$.get(k,h.length),u.init(),h.push(u),oe.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),V.setFromProjectionMatrix(oe),F=this.localClippingEnabled,z=I.init(this.clippingPlanes,F,Q),m=pt.get(k,v.length),m.init(),v.push(m),se(k,Q,0,p.sortObjects),m.finish(),p.sortObjects===!0&&m.sort(B,N),z===!0&&I.beginShadows();const re=u.state.shadowsArray;if(te.render(re,k,Q),z===!0&&I.endShadows(),this.info.autoReset===!0&&this.info.reset(),me.render(m,k),u.setupLights(p.physicallyCorrectLights),Q.isArrayCamera){const ee=Q.cameras;for(let ce=0,We=ee.length;ce<We;ce++){const it=ee[ce];pe(m,k,it,it.viewport)}}else pe(m,k,Q);x!==null&&(he.updateMultisampleRenderTarget(x),he.updateRenderTargetMipmap(x)),k.isScene===!0&&k.onAfterRender(p,k,Q),$e.resetDefaultState(),b=-1,w=null,h.pop(),h.length>0?u=h[h.length-1]:u=null,v.pop(),v.length>0?m=v[v.length-1]:m=null};function se(k,Q,re,ee){if(k.visible===!1)return;if(k.layers.test(Q.layers)){if(k.isGroup)re=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(Q);else if(k.isLight)u.pushLight(k),k.castShadow&&u.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||V.intersectsSprite(k)){ee&&ie.setFromMatrixPosition(k.matrixWorld).applyMatrix4(oe);const We=At.update(k),it=k.material;it.visible&&m.push(k,We,it,re,ie.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(k.isSkinnedMesh&&k.skeleton.frame!==Te.render.frame&&(k.skeleton.update(),k.skeleton.frame=Te.render.frame),!k.frustumCulled||V.intersectsObject(k))){ee&&ie.setFromMatrixPosition(k.matrixWorld).applyMatrix4(oe);const We=At.update(k),it=k.material;if(Array.isArray(it)){const Je=We.groups;for(let dt=0,Ft=Je.length;dt<Ft;dt++){const ht=Je[dt],yt=it[ht.materialIndex];yt&&yt.visible&&m.push(k,We,yt,re,ie.z,ht)}}else it.visible&&m.push(k,We,it,re,ie.z,null)}}const ce=k.children;for(let We=0,it=ce.length;We<it;We++)se(ce[We],Q,re,ee)}function pe(k,Q,re,ee){const ce=k.opaque,We=k.transmissive,it=k.transparent;u.setupLightsView(re),We.length>0&&De(ce,Q,re),ee&&xe.viewport(_.copy(ee)),ce.length>0&&Ye(ce,Q,re),We.length>0&&Ye(We,Q,re),it.length>0&&Ye(it,Q,re),xe.buffers.depth.setTest(!0),xe.buffers.depth.setMask(!0),xe.buffers.color.setMask(!0),xe.setPolygonOffset(!1)}function De(k,Q,re){const ee=Re.isWebGL2;H===null&&(H=new os(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:ee&&i===!0?4:0})),p.getDrawingBufferSize(W),ee?H.setSize(W.x,W.y):H.setSize(Dg(W.x),Dg(W.y));const ce=p.getRenderTarget();p.setRenderTarget(H),p.clear();const We=p.toneMapping;p.toneMapping=0,Ye(k,Q,re),p.toneMapping=We,he.updateMultisampleRenderTarget(H),he.updateRenderTargetMipmap(H),p.setRenderTarget(ce)}function Ye(k,Q,re){const ee=Q.isScene===!0?Q.overrideMaterial:null;for(let ce=0,We=k.length;ce<We;ce++){const it=k[ce],Je=it.object,dt=it.geometry,Ft=ee===null?it.material:ee,ht=it.group;Je.layers.test(re.layers)&&rt(Je,Q,re,dt,Ft,ht)}}function rt(k,Q,re,ee,ce,We){k.onBeforeRender(p,Q,re,ee,ce,We),k.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),ce.onBeforeRender(p,Q,re,ee,k,We),ce.transparent===!0&&ce.side===2?(ce.side=1,ce.needsUpdate=!0,p.renderBufferDirect(re,Q,ee,ce,k,We),ce.side=0,ce.needsUpdate=!0,p.renderBufferDirect(re,Q,ee,ce,k,We),ce.side=2):p.renderBufferDirect(re,Q,ee,ce,k,We),k.onAfterRender(p,Q,re,ee,ce,We)}function Xe(k,Q,re){Q.isScene!==!0&&(Q=le);const ee=Ne.get(k),ce=u.state.lights,We=u.state.shadowsArray,it=ce.state.version,Je=mt.getParameters(k,ce.state,We,Q,re),dt=mt.getProgramCacheKey(Je);let Ft=ee.programs;ee.environment=k.isMeshStandardMaterial?Q.environment:null,ee.fog=Q.fog,ee.envMap=(k.isMeshStandardMaterial?nt:ot).get(k.envMap||ee.environment),Ft===void 0&&(k.addEventListener("dispose",Y),Ft=new Map,ee.programs=Ft);let ht=Ft.get(dt);if(ht!==void 0){if(ee.currentProgram===ht&&ee.lightsStateVersion===it)return He(k,Je),ht}else Je.uniforms=mt.getUniforms(k),k.onBuild(re,Je,p),k.onBeforeCompile(Je,p),ht=mt.acquireProgram(Je,dt),Ft.set(dt,ht),ee.uniforms=Je.uniforms;const yt=ee.uniforms;(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(yt.clippingPlanes=I.uniform),He(k,Je),ee.needsLights=ct(k),ee.lightsStateVersion=it,ee.needsLights&&(yt.ambientLightColor.value=ce.state.ambient,yt.lightProbe.value=ce.state.probe,yt.directionalLights.value=ce.state.directional,yt.directionalLightShadows.value=ce.state.directionalShadow,yt.spotLights.value=ce.state.spot,yt.spotLightShadows.value=ce.state.spotShadow,yt.rectAreaLights.value=ce.state.rectArea,yt.ltc_1.value=ce.state.rectAreaLTC1,yt.ltc_2.value=ce.state.rectAreaLTC2,yt.pointLights.value=ce.state.point,yt.pointLightShadows.value=ce.state.pointShadow,yt.hemisphereLights.value=ce.state.hemi,yt.directionalShadowMap.value=ce.state.directionalShadowMap,yt.directionalShadowMatrix.value=ce.state.directionalShadowMatrix,yt.spotShadowMap.value=ce.state.spotShadowMap,yt.spotShadowMatrix.value=ce.state.spotShadowMatrix,yt.pointShadowMap.value=ce.state.pointShadowMap,yt.pointShadowMatrix.value=ce.state.pointShadowMatrix);const Bt=ht.getUniforms(),Do=hm.seqWithValue(Bt.seq,yt);return ee.currentProgram=ht,ee.uniformsList=Do,ht}function He(k,Q){const re=Ne.get(k);re.outputEncoding=Q.outputEncoding,re.instancing=Q.instancing,re.skinning=Q.skinning,re.morphTargets=Q.morphTargets,re.morphNormals=Q.morphNormals,re.morphColors=Q.morphColors,re.morphTargetsCount=Q.morphTargetsCount,re.numClippingPlanes=Q.numClippingPlanes,re.numIntersection=Q.numClipIntersection,re.vertexAlphas=Q.vertexAlphas,re.vertexTangents=Q.vertexTangents,re.toneMapping=Q.toneMapping}function gt(k,Q,re,ee,ce){Q.isScene!==!0&&(Q=le),he.resetTextureUnits();const We=Q.fog,it=ee.isMeshStandardMaterial?Q.environment:null,Je=x===null?p.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:3e3,dt=(ee.isMeshStandardMaterial?nt:ot).get(ee.envMap||it),Ft=ee.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,ht=!!ee.normalMap&&!!re.attributes.tangent,yt=!!re.morphAttributes.position,Bt=!!re.morphAttributes.normal,Do=!!re.morphAttributes.color,wt=ee.toneMapped?p.toneMapping:0,Tt=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,na=Tt!==void 0?Tt.length:0,_t=Ne.get(ee),vi=u.state.lights;if(z===!0&&(F===!0||k!==w)){const mo=k===w&&ee.id===b;I.setState(ee,k,mo)}let zl=!1;ee.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==vi.state.version||_t.outputEncoding!==Je||ce.isInstancedMesh&&_t.instancing===!1||!ce.isInstancedMesh&&_t.instancing===!0||ce.isSkinnedMesh&&_t.skinning===!1||!ce.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==dt||ee.fog===!0&&_t.fog!==We||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==I.numPlanes||_t.numIntersection!==I.numIntersection)||_t.vertexAlphas!==Ft||_t.vertexTangents!==ht||_t.morphTargets!==yt||_t.morphNormals!==Bt||_t.morphColors!==Do||_t.toneMapping!==wt||Re.isWebGL2===!0&&_t.morphTargetsCount!==na)&&(zl=!0):(zl=!0,_t.__version=ee.version);let Io=_t.currentProgram;zl===!0&&(Io=Xe(ee,Q,ce));let gi=!1,Nl=!1,Df=!1;const $a=Io.getUniforms(),Fl=_t.uniforms;if(xe.useProgram(Io.program)&&(gi=!0,Nl=!0,Df=!0),ee.id!==b&&(b=ee.id,Nl=!0),gi||w!==k){if($a.setValue(Z,"projectionMatrix",k.projectionMatrix),Re.logarithmicDepthBuffer&&$a.setValue(Z,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),w!==k&&(w=k,Nl=!0,Df=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const mo=$a.map.cameraPosition;mo!==void 0&&mo.setValue(Z,ie.setFromMatrixPosition(k.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&$a.setValue(Z,"isOrthographic",k.isOrthographicCamera===!0),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||ce.isSkinnedMesh)&&$a.setValue(Z,"viewMatrix",k.matrixWorldInverse)}if(ce.isSkinnedMesh){$a.setOptional(Z,ce,"bindMatrix"),$a.setOptional(Z,ce,"bindMatrixInverse");const mo=ce.skeleton;mo&&(Re.floatVertexTextures?(mo.boneTexture===null&&mo.computeBoneTexture(),$a.setValue(Z,"boneTexture",mo.boneTexture,he),$a.setValue(Z,"boneTextureSize",mo.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const If=re.morphAttributes;if((If.position!==void 0||If.normal!==void 0||If.color!==void 0&&Re.isWebGL2===!0)&&ge.update(ce,re,ee,Io),(Nl||_t.receiveShadow!==ce.receiveShadow)&&(_t.receiveShadow=ce.receiveShadow,$a.setValue(Z,"receiveShadow",ce.receiveShadow)),Nl&&($a.setValue(Z,"toneMappingExposure",p.toneMappingExposure),_t.needsLights&&da(Fl,Df),We&&ee.fog===!0&&Ht.refreshFogUniforms(Fl,We),Ht.refreshMaterialUniforms(Fl,ee,O,T,H),hm.upload(Z,_t.uniformsList,Fl,he)),ee.isShaderMaterial&&ee.uniformsNeedUpdate===!0&&(hm.upload(Z,_t.uniformsList,Fl,he),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&$a.setValue(Z,"center",ce.center),$a.setValue(Z,"modelViewMatrix",ce.modelViewMatrix),$a.setValue(Z,"normalMatrix",ce.normalMatrix),$a.setValue(Z,"modelMatrix",ce.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const mo=ee.uniformsGroups;for(let Of=0,cE=mo.length;Of<cE;Of++)if(Re.isWebGL2){const k1=mo[Of];Le.update(k1,Io),Le.bind(k1,Io)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Io}function da(k,Q){k.ambientLightColor.needsUpdate=Q,k.lightProbe.needsUpdate=Q,k.directionalLights.needsUpdate=Q,k.directionalLightShadows.needsUpdate=Q,k.pointLights.needsUpdate=Q,k.pointLightShadows.needsUpdate=Q,k.spotLights.needsUpdate=Q,k.spotLightShadows.needsUpdate=Q,k.rectAreaLights.needsUpdate=Q,k.hemisphereLights.needsUpdate=Q}function ct(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(k,Q,re){Ne.get(k.texture).__webglTexture=Q,Ne.get(k.depthTexture).__webglTexture=re;const ee=Ne.get(k);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=re===void 0,ee.__autoAllocateDepthBuffer||Me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,Q){const re=Ne.get(k);re.__webglFramebuffer=Q,re.__useDefaultFramebuffer=Q===void 0},this.setRenderTarget=function(k,Q=0,re=0){x=k,g=Q,y=re;let ee=!0;if(k){const Je=Ne.get(k);Je.__useDefaultFramebuffer!==void 0?(xe.bindFramebuffer(36160,null),ee=!1):Je.__webglFramebuffer===void 0?he.setupRenderTarget(k):Je.__hasExternalTextures&&he.rebindTextures(k,Ne.get(k.texture).__webglTexture,Ne.get(k.depthTexture).__webglTexture)}let ce=null,We=!1,it=!1;if(k){const Je=k.texture;(Je.isData3DTexture||Je.isDataArrayTexture)&&(it=!0);const dt=Ne.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(ce=dt[Q],We=!0):Re.isWebGL2&&k.samples>0&&he.useMultisampledRTT(k)===!1?ce=Ne.get(k).__webglMultisampledFramebuffer:ce=dt,_.copy(k.viewport),S.copy(k.scissor),E=k.scissorTest}else _.copy(D).multiplyScalar(O).floor(),S.copy(q).multiplyScalar(O).floor(),E=j;if(xe.bindFramebuffer(36160,ce)&&Re.drawBuffers&&ee&&xe.drawBuffers(k,ce),xe.viewport(_),xe.scissor(S),xe.setScissorTest(E),We){const Je=Ne.get(k.texture);Z.framebufferTexture2D(36160,36064,34069+Q,Je.__webglTexture,re)}else if(it){const Je=Ne.get(k.texture),dt=Q||0;Z.framebufferTextureLayer(36160,36064,Je.__webglTexture,re||0,dt)}b=-1},this.readRenderTargetPixels=function(k,Q,re,ee,ce,We,it){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Je=Ne.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&it!==void 0&&(Je=Je[it]),Je){xe.bindFramebuffer(36160,Je);try{const dt=k.texture,Ft=dt.format,ht=dt.type;if(Ft!==1023&&X.convert(Ft)!==Z.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const yt=ht===1016&&(Me.has("EXT_color_buffer_half_float")||Re.isWebGL2&&Me.has("EXT_color_buffer_float"));if(ht!==1009&&X.convert(ht)!==Z.getParameter(35738)&&!(ht===1015&&(Re.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float")))&&!yt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Q>=0&&Q<=k.width-ee&&re>=0&&re<=k.height-ce&&Z.readPixels(Q,re,ee,ce,X.convert(Ft),X.convert(ht),We)}finally{const dt=x!==null?Ne.get(x).__webglFramebuffer:null;xe.bindFramebuffer(36160,dt)}}},this.copyFramebufferToTexture=function(k,Q,re=0){const ee=Math.pow(2,-re),ce=Math.floor(Q.image.width*ee),We=Math.floor(Q.image.height*ee);he.setTexture2D(Q,0),Z.copyTexSubImage2D(3553,re,0,0,k.x,k.y,ce,We),xe.unbindTexture()},this.copyTextureToTexture=function(k,Q,re,ee=0){const ce=Q.image.width,We=Q.image.height,it=X.convert(re.format),Je=X.convert(re.type);he.setTexture2D(re,0),Z.pixelStorei(37440,re.flipY),Z.pixelStorei(37441,re.premultiplyAlpha),Z.pixelStorei(3317,re.unpackAlignment),Q.isDataTexture?Z.texSubImage2D(3553,ee,k.x,k.y,ce,We,it,Je,Q.image.data):Q.isCompressedTexture?Z.compressedTexSubImage2D(3553,ee,k.x,k.y,Q.mipmaps[0].width,Q.mipmaps[0].height,it,Q.mipmaps[0].data):Z.texSubImage2D(3553,ee,k.x,k.y,it,Je,Q.image),ee===0&&re.generateMipmaps&&Z.generateMipmap(3553),xe.unbindTexture()},this.copyTextureToTexture3D=function(k,Q,re,ee,ce=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const We=k.max.x-k.min.x+1,it=k.max.y-k.min.y+1,Je=k.max.z-k.min.z+1,dt=X.convert(ee.format),Ft=X.convert(ee.type);let ht;if(ee.isData3DTexture)he.setTexture3D(ee,0),ht=32879;else if(ee.isDataArrayTexture)he.setTexture2DArray(ee,0),ht=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(37440,ee.flipY),Z.pixelStorei(37441,ee.premultiplyAlpha),Z.pixelStorei(3317,ee.unpackAlignment);const yt=Z.getParameter(3314),Bt=Z.getParameter(32878),Do=Z.getParameter(3316),wt=Z.getParameter(3315),Tt=Z.getParameter(32877),na=re.isCompressedTexture?re.mipmaps[0]:re.image;Z.pixelStorei(3314,na.width),Z.pixelStorei(32878,na.height),Z.pixelStorei(3316,k.min.x),Z.pixelStorei(3315,k.min.y),Z.pixelStorei(32877,k.min.z),re.isDataTexture||re.isData3DTexture?Z.texSubImage3D(ht,ce,Q.x,Q.y,Q.z,We,it,Je,dt,Ft,na.data):re.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D(ht,ce,Q.x,Q.y,Q.z,We,it,Je,dt,na.data)):Z.texSubImage3D(ht,ce,Q.x,Q.y,Q.z,We,it,Je,dt,Ft,na),Z.pixelStorei(3314,yt),Z.pixelStorei(32878,Bt),Z.pixelStorei(3316,Do),Z.pixelStorei(3315,wt),Z.pixelStorei(32877,Tt),ce===0&&ee.generateMipmaps&&Z.generateMipmap(ht),xe.unbindTexture()},this.initTexture=function(k){k.isCubeTexture?he.setTextureCube(k,0):k.isData3DTexture?he.setTexture3D(k,0):k.isDataArrayTexture?he.setTexture2DArray(k,0):he.setTexture2D(k,0),xe.unbindTexture()},this.resetState=function(){g=0,y=0,x=null,xe.reset(),$e.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class uU extends j5{}uU.prototype.isWebGL1Renderer=!0;class mU extends Ga{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,a){return super.copy(e,a),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const a=super.toJSON(e);return this.fog!==null&&(a.object.fog=this.fog.toJSON()),a}}class p3 extends Mo{constructor(e,a,o,r,i,n,s,l,c){super(e,a,o,r,i,n,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class S1 extends Fr{constructor(e=1,a=1,o=1,r=8,i=1,n=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:a,height:o,radialSegments:r,heightSegments:i,openEnded:n,thetaStart:s,thetaLength:l};const c=this;r=Math.floor(r),i=Math.floor(i);const d=[],m=[],u=[],v=[];let h=0;const p=[],f=o/2;let g=0;y(),n===!1&&(e>0&&x(!0),a>0&&x(!1)),this.setIndex(d),this.setAttribute("position",new Fa(m,3)),this.setAttribute("normal",new Fa(u,3)),this.setAttribute("uv",new Fa(v,2));function y(){const b=new J,w=new J;let _=0;const S=(a-e)/o;for(let E=0;E<=i;E++){const A=[],T=E/i,O=T*(a-e)+e;for(let B=0;B<=r;B++){const N=B/r,D=N*l+s,q=Math.sin(D),j=Math.cos(D);w.x=O*q,w.y=-T*o+f,w.z=O*j,m.push(w.x,w.y,w.z),b.set(q,S,j).normalize(),u.push(b.x,b.y,b.z),v.push(N,1-T),A.push(h++)}p.push(A)}for(let E=0;E<r;E++)for(let A=0;A<i;A++){const T=p[A][E],O=p[A+1][E],B=p[A+1][E+1],N=p[A][E+1];d.push(T,O,N),d.push(O,B,N),_+=6}c.addGroup(g,_,0),g+=_}function x(b){const w=h,_=new St,S=new J;let E=0;const A=b===!0?e:a,T=b===!0?1:-1;for(let B=1;B<=r;B++)m.push(0,f*T,0),u.push(0,T,0),v.push(.5,.5),h++;const O=h;for(let B=0;B<=r;B++){const N=B/r*l+s,D=Math.cos(N),q=Math.sin(N);S.x=A*q,S.y=f*T,S.z=A*D,m.push(S.x,S.y,S.z),u.push(0,T,0),_.x=D*.5+.5,_.y=q*.5*T+.5,v.push(_.x,_.y),h++}for(let B=0;B<r;B++){const N=w+B,D=O+B;b===!0?d.push(D,D+1,N):d.push(D+1,D,N),E+=3}c.addGroup(g,E,b===!0?1:2),g+=E}}static fromJSON(e){return new S1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class pU extends cs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class fU extends cs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hU extends cs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Et(16777215),this.specular=new Et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class B5 extends Ga{constructor(e,a=1){super(),this.isLight=!0,this.type="Light",this.color=new Et(e),this.intensity=a}dispose(){}copy(e,a){return super.copy(e,a),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const a=super.toJSON(e);return a.object.color=this.color.getHex(),a.object.intensity=this.intensity,this.groundColor!==void 0&&(a.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(a.object.distance=this.distance),this.angle!==void 0&&(a.object.angle=this.angle),this.decay!==void 0&&(a.object.decay=this.decay),this.penumbra!==void 0&&(a.object.penumbra=this.penumbra),this.shadow!==void 0&&(a.object.shadow=this.shadow.toJSON()),a}}class vU extends B5{constructor(e,a,o){super(e,o),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ga.DefaultUp),this.updateMatrix(),this.groundColor=new Et(a)}copy(e,a){return super.copy(e,a),this.groundColor.copy(e.groundColor),this}}const f3=new _a,h3=new J,v3=new J;class gU{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new St(512,512),this.map=null,this.mapPass=null,this.matrix=new _a,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new w1,this._frameExtents=new St(1,1),this._viewportCount=1,this._viewports=[new ba(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const a=this.camera,o=this.matrix;h3.setFromMatrixPosition(e.matrixWorld),a.position.copy(h3),v3.setFromMatrixPosition(e.target.matrixWorld),a.lookAt(v3),a.updateMatrixWorld(),f3.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f3),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(a.projectionMatrix),o.multiply(a.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class yU extends gU{constructor(){super(new go(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const a=this.camera,o=Lg*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||a.far;(o!==a.fov||r!==a.aspect||i!==a.far)&&(a.fov=o,a.aspect=r,a.far=i,a.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class xU extends B5{constructor(e,a,o=0,r=Math.PI/3,i=0,n=1){super(e,a),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ga.DefaultUp),this.updateMatrix(),this.target=new Ga,this.distance=o,this.angle=r,this.penumbra=i,this.decay=n,this.shadow=new yU}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,a){return super.copy(e,a),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_1);class cr{constructor(e){e===void 0&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const a=this.elements;a[0]=e.x,a[4]=e.y,a[8]=e.z}getTrace(e){e===void 0&&(e=new R);const a=this.elements;return e.x=a[0],e.y=a[4],e.z=a[8],e}vmult(e,a){a===void 0&&(a=new R);const o=this.elements,r=e.x,i=e.y,n=e.z;return a.x=o[0]*r+o[1]*i+o[2]*n,a.y=o[3]*r+o[4]*i+o[5]*n,a.z=o[6]*r+o[7]*i+o[8]*n,a}smult(e){for(let a=0;a<this.elements.length;a++)this.elements[a]*=e}mmult(e,a){a===void 0&&(a=new cr);const o=this.elements,r=e.elements,i=a.elements,n=o[0],s=o[1],l=o[2],c=o[3],d=o[4],m=o[5],u=o[6],v=o[7],h=o[8],p=r[0],f=r[1],g=r[2],y=r[3],x=r[4],b=r[5],w=r[6],_=r[7],S=r[8];return i[0]=n*p+s*y+l*w,i[1]=n*f+s*x+l*_,i[2]=n*g+s*b+l*S,i[3]=c*p+d*y+m*w,i[4]=c*f+d*x+m*_,i[5]=c*g+d*b+m*S,i[6]=u*p+v*y+h*w,i[7]=u*f+v*x+h*_,i[8]=u*g+v*b+h*S,a}scale(e,a){a===void 0&&(a=new cr);const o=this.elements,r=a.elements;for(let i=0;i!==3;i++)r[3*i+0]=e.x*o[3*i+0],r[3*i+1]=e.y*o[3*i+1],r[3*i+2]=e.z*o[3*i+2];return a}solve(e,a){a===void 0&&(a=new R);const o=3,r=4,i=[];let n,s;for(n=0;n<o*r;n++)i.push(0);for(n=0;n<3;n++)for(s=0;s<3;s++)i[n+r*s]=this.elements[n+3*s];i[3+4*0]=e.x,i[3+4*1]=e.y,i[3+4*2]=e.z;let l=3;const c=l;let d;const m=4;let u;do{if(n=c-l,i[n+r*n]===0){for(s=n+1;s<c;s++)if(i[n+r*s]!==0){d=m;do u=m-d,i[u+r*n]+=i[u+r*s];while(--d);break}}if(i[n+r*n]!==0)for(s=n+1;s<c;s++){const v=i[n+r*s]/i[n+r*n];d=m;do u=m-d,i[u+r*s]=u<=n?0:i[u+r*s]-i[u+r*n]*v;while(--d)}}while(--l);if(a.z=i[2*r+3]/i[2*r+2],a.y=(i[1*r+3]-i[1*r+2]*a.z)/i[1*r+1],a.x=(i[0*r+3]-i[0*r+2]*a.z-i[0*r+1]*a.y)/i[0*r+0],isNaN(a.x)||isNaN(a.y)||isNaN(a.z)||a.x===1/0||a.y===1/0||a.z===1/0)throw`Could not solve equation! Got x=[${a.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return a}e(e,a,o){if(o===void 0)return this.elements[a+3*e];this.elements[a+3*e]=o}copy(e){for(let a=0;a<e.elements.length;a++)this.elements[a]=e.elements[a];return this}toString(){let e="";const a=",";for(let o=0;o<9;o++)e+=this.elements[o]+a;return e}reverse(e){e===void 0&&(e=new cr);const a=3,o=6,r=bU;let i,n;for(i=0;i<3;i++)for(n=0;n<3;n++)r[i+o*n]=this.elements[i+3*n];r[3+6*0]=1,r[3+6*1]=0,r[3+6*2]=0,r[4+6*0]=0,r[4+6*1]=1,r[4+6*2]=0,r[5+6*0]=0,r[5+6*1]=0,r[5+6*2]=1;let s=3;const l=s;let c;const d=o;let m;do{if(i=l-s,r[i+o*i]===0){for(n=i+1;n<l;n++)if(r[i+o*n]!==0){c=d;do m=d-c,r[m+o*i]+=r[m+o*n];while(--c);break}}if(r[i+o*i]!==0)for(n=i+1;n<l;n++){const u=r[i+o*n]/r[i+o*i];c=d;do m=d-c,r[m+o*n]=m<=i?0:r[m+o*n]-r[m+o*i]*u;while(--c)}}while(--s);i=2;do{n=i-1;do{const u=r[i+o*n]/r[i+o*i];c=o;do m=o-c,r[m+o*n]=r[m+o*n]-r[m+o*i]*u;while(--c)}while(n--)}while(--i);i=2;do{const u=1/r[i+o*i];c=o;do m=o-c,r[m+o*i]=r[m+o*i]*u;while(--c)}while(i--);i=2;do{n=2;do{if(m=r[a+n+o*i],isNaN(m)||m===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(i,n,m)}while(n--)}while(i--);return e}setRotationFromQuaternion(e){const a=e.x,o=e.y,r=e.z,i=e.w,n=a+a,s=o+o,l=r+r,c=a*n,d=a*s,m=a*l,u=o*s,v=o*l,h=r*l,p=i*n,f=i*s,g=i*l,y=this.elements;return y[3*0+0]=1-(u+h),y[3*0+1]=d-g,y[3*0+2]=m+f,y[3*1+0]=d+g,y[3*1+1]=1-(c+h),y[3*1+2]=v-p,y[3*2+0]=m-f,y[3*2+1]=v+p,y[3*2+2]=1-(c+u),this}transpose(e){e===void 0&&(e=new cr);const a=this.elements,o=e.elements;let r;return o[0]=a[0],o[4]=a[4],o[8]=a[8],r=a[1],o[1]=a[3],o[3]=r,r=a[2],o[2]=a[6],o[6]=r,r=a[5],o[5]=a[7],o[7]=r,e}}const bU=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class R{constructor(e,a,o){e===void 0&&(e=0),a===void 0&&(a=0),o===void 0&&(o=0),this.x=e,this.y=a,this.z=o}cross(e,a){a===void 0&&(a=new R);const o=e.x,r=e.y,i=e.z,n=this.x,s=this.y,l=this.z;return a.x=s*i-l*r,a.y=l*o-n*i,a.z=n*r-s*o,a}set(e,a,o){return this.x=e,this.y=a,this.z=o,this}setZero(){this.x=this.y=this.z=0}vadd(e,a){if(a)a.x=e.x+this.x,a.y=e.y+this.y,a.z=e.z+this.z;else return new R(this.x+e.x,this.y+e.y,this.z+e.z)}vsub(e,a){if(a)a.x=this.x-e.x,a.y=this.y-e.y,a.z=this.z-e.z;else return new R(this.x-e.x,this.y-e.y,this.z-e.z)}crossmat(){return new cr([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,a=this.y,o=this.z,r=Math.sqrt(e*e+a*a+o*o);if(r>0){const i=1/r;this.x*=i,this.y*=i,this.z*=i}else this.x=0,this.y=0,this.z=0;return r}unit(e){e===void 0&&(e=new R);const a=this.x,o=this.y,r=this.z;let i=Math.sqrt(a*a+o*o+r*r);return i>0?(i=1/i,e.x=a*i,e.y=o*i,e.z=r*i):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,a=this.y,o=this.z;return Math.sqrt(e*e+a*a+o*o)}lengthSquared(){return this.dot(this)}distanceTo(e){const a=this.x,o=this.y,r=this.z,i=e.x,n=e.y,s=e.z;return Math.sqrt((i-a)*(i-a)+(n-o)*(n-o)+(s-r)*(s-r))}distanceSquared(e){const a=this.x,o=this.y,r=this.z,i=e.x,n=e.y,s=e.z;return(i-a)*(i-a)+(n-o)*(n-o)+(s-r)*(s-r)}scale(e,a){a===void 0&&(a=new R);const o=this.x,r=this.y,i=this.z;return a.x=e*o,a.y=e*r,a.z=e*i,a}vmul(e,a){return a===void 0&&(a=new R),a.x=e.x*this.x,a.y=e.y*this.y,a.z=e.z*this.z,a}addScaledVector(e,a,o){return o===void 0&&(o=new R),o.x=this.x+e*a.x,o.y=this.y+e*a.y,o.z=this.z+e*a.z,o}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return this.x===0&&this.y===0&&this.z===0}negate(e){return e===void 0&&(e=new R),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,a){const o=this.length();if(o>0){const r=_U,i=1/o;r.set(this.x*i,this.y*i,this.z*i);const n=wU;Math.abs(r.x)<.9?(n.set(1,0,0),r.cross(n,e)):(n.set(0,1,0),r.cross(n,e)),r.cross(e,a)}else e.set(1,0,0),a.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,a,o){const r=this.x,i=this.y,n=this.z;o.x=r+(e.x-r)*a,o.y=i+(e.y-i)*a,o.z=n+(e.z-n)*a}almostEquals(e,a){return a===void 0&&(a=1e-6),!(Math.abs(this.x-e.x)>a||Math.abs(this.y-e.y)>a||Math.abs(this.z-e.z)>a)}almostZero(e){return e===void 0&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,a){return this.negate(g3),g3.almostEquals(e,a)}clone(){return new R(this.x,this.y,this.z)}}R.ZERO=new R(0,0,0);R.UNIT_X=new R(1,0,0);R.UNIT_Y=new R(0,1,0);R.UNIT_Z=new R(0,0,1);const _U=new R,wU=new R,g3=new R;class Lo{constructor(e){e===void 0&&(e={}),this.lowerBound=new R,this.upperBound=new R,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,a,o,r){const i=this.lowerBound,n=this.upperBound,s=o;i.copy(e[0]),s&&s.vmult(i,i),n.copy(i);for(let l=1;l<e.length;l++){let c=e[l];s&&(s.vmult(c,y3),c=y3),c.x>n.x&&(n.x=c.x),c.x<i.x&&(i.x=c.x),c.y>n.y&&(n.y=c.y),c.y<i.y&&(i.y=c.y),c.z>n.z&&(n.z=c.z),c.z<i.z&&(i.z=c.z)}return a&&(a.vadd(i,i),a.vadd(n,n)),r&&(i.x-=r,i.y-=r,i.z-=r,n.x+=r,n.y+=r,n.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return new Lo().copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const a=this.lowerBound,o=this.upperBound,r=e.lowerBound,i=e.upperBound,n=r.x<=o.x&&o.x<=i.x||a.x<=i.x&&i.x<=o.x,s=r.y<=o.y&&o.y<=i.y||a.y<=i.y&&i.y<=o.y,l=r.z<=o.z&&o.z<=i.z||a.z<=i.z&&i.z<=o.z;return n&&s&&l}volume(){const e=this.lowerBound,a=this.upperBound;return(a.x-e.x)*(a.y-e.y)*(a.z-e.z)}contains(e){const a=this.lowerBound,o=this.upperBound,r=e.lowerBound,i=e.upperBound;return a.x<=r.x&&o.x>=i.x&&a.y<=r.y&&o.y>=i.y&&a.z<=r.z&&o.z>=i.z}getCorners(e,a,o,r,i,n,s,l){const c=this.lowerBound,d=this.upperBound;e.copy(c),a.set(d.x,c.y,c.z),o.set(d.x,d.y,c.z),r.set(c.x,d.y,d.z),i.set(d.x,c.y,d.z),n.set(c.x,d.y,c.z),s.set(c.x,c.y,d.z),l.copy(d)}toLocalFrame(e,a){const o=x3,r=o[0],i=o[1],n=o[2],s=o[3],l=o[4],c=o[5],d=o[6],m=o[7];this.getCorners(r,i,n,s,l,c,d,m);for(let u=0;u!==8;u++){const v=o[u];e.pointToLocal(v,v)}return a.setFromPoints(o)}toWorldFrame(e,a){const o=x3,r=o[0],i=o[1],n=o[2],s=o[3],l=o[4],c=o[5],d=o[6],m=o[7];this.getCorners(r,i,n,s,l,c,d,m);for(let u=0;u!==8;u++){const v=o[u];e.pointToWorld(v,v)}return a.setFromPoints(o)}overlapsRay(e){const{direction:a,from:o}=e,r=1/a.x,i=1/a.y,n=1/a.z,s=(this.lowerBound.x-o.x)*r,l=(this.upperBound.x-o.x)*r,c=(this.lowerBound.y-o.y)*i,d=(this.upperBound.y-o.y)*i,m=(this.lowerBound.z-o.z)*n,u=(this.upperBound.z-o.z)*n,v=Math.max(Math.max(Math.min(s,l),Math.min(c,d)),Math.min(m,u)),h=Math.min(Math.min(Math.max(s,l),Math.max(c,d)),Math.max(m,u));return!(h<0||v>h)}}const y3=new R,x3=[new R,new R,new R,new R,new R,new R,new R,new R];class b3{constructor(){this.matrix=[]}get(e,a){let{index:o}=e,{index:r}=a;if(r>o){const i=r;r=o,o=i}return this.matrix[(o*(o+1)>>1)+r-1]}set(e,a,o){let{index:r}=e,{index:i}=a;if(i>r){const n=i;i=r,r=n}this.matrix[(r*(r+1)>>1)+i-1]=o?1:0}reset(){for(let e=0,a=this.matrix.length;e!==a;e++)this.matrix[e]=0}setNumObjects(e){this.matrix.length=e*(e-1)>>1}}class $5{addEventListener(e,a){this._listeners===void 0&&(this._listeners={});const o=this._listeners;return o[e]===void 0&&(o[e]=[]),o[e].includes(a)||o[e].push(a),this}hasEventListener(e,a){if(this._listeners===void 0)return!1;const o=this._listeners;return!!(o[e]!==void 0&&o[e].includes(a))}hasAnyEventListener(e){return this._listeners===void 0?!1:this._listeners[e]!==void 0}removeEventListener(e,a){if(this._listeners===void 0)return this;const o=this._listeners;if(o[e]===void 0)return this;const r=o[e].indexOf(a);return r!==-1&&o[e].splice(r,1),this}dispatchEvent(e){if(this._listeners===void 0)return this;const a=this._listeners[e.type];if(a!==void 0){e.target=this;for(let o=0,r=a.length;o<r;o++)a[o].call(this,e)}return this}}class fa{constructor(e,a,o,r){e===void 0&&(e=0),a===void 0&&(a=0),o===void 0&&(o=0),r===void 0&&(r=1),this.x=e,this.y=a,this.z=o,this.w=r}set(e,a,o,r){return this.x=e,this.y=a,this.z=o,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,a){const o=Math.sin(a*.5);return this.x=e.x*o,this.y=e.y*o,this.z=e.z*o,this.w=Math.cos(a*.5),this}toAxisAngle(e){e===void 0&&(e=new R),this.normalize();const a=2*Math.acos(this.w),o=Math.sqrt(1-this.w*this.w);return o<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/o,e.y=this.y/o,e.z=this.z/o),[e,a]}setFromVectors(e,a){if(e.isAntiparallelTo(a)){const o=EU,r=SU;e.tangents(o,r),this.setFromAxisAngle(o,Math.PI)}else{const o=e.cross(a);this.x=o.x,this.y=o.y,this.z=o.z,this.w=Math.sqrt(e.length()**2*a.length()**2)+e.dot(a),this.normalize()}return this}mult(e,a){a===void 0&&(a=new fa);const o=this.x,r=this.y,i=this.z,n=this.w,s=e.x,l=e.y,c=e.z,d=e.w;return a.x=o*d+n*s+r*c-i*l,a.y=r*d+n*l+i*s-o*c,a.z=i*d+n*c+o*l-r*s,a.w=n*d-o*s-r*l-i*c,a}inverse(e){e===void 0&&(e=new fa);const a=this.x,o=this.y,r=this.z,i=this.w;this.conjugate(e);const n=1/(a*a+o*o+r*r+i*i);return e.x*=n,e.y*=n,e.z*=n,e.w*=n,e}conjugate(e){return e===void 0&&(e=new fa),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,a){a===void 0&&(a=new R);const o=e.x,r=e.y,i=e.z,n=this.x,s=this.y,l=this.z,c=this.w,d=c*o+s*i-l*r,m=c*r+l*o-n*i,u=c*i+n*r-s*o,v=-n*o-s*r-l*i;return a.x=d*c+v*-n+m*-l-u*-s,a.y=m*c+v*-s+u*-n-d*-l,a.z=u*c+v*-l+d*-s-m*-n,a}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,a){a===void 0&&(a="YZX");let o,r,i;const n=this.x,s=this.y,l=this.z,c=this.w;switch(a){case"YZX":const d=n*s+l*c;if(d>.499&&(o=2*Math.atan2(n,c),r=Math.PI/2,i=0),d<-.499&&(o=-2*Math.atan2(n,c),r=-Math.PI/2,i=0),o===void 0){const m=n*n,u=s*s,v=l*l;o=Math.atan2(2*s*c-2*n*l,1-2*u-2*v),r=Math.asin(2*d),i=Math.atan2(2*n*c-2*s*l,1-2*m-2*v)}break;default:throw new Error(`Euler order ${a} not supported yet.`)}e.y=o,e.z=r,e.x=i}setFromEuler(e,a,o,r){r===void 0&&(r="XYZ");const i=Math.cos(e/2),n=Math.cos(a/2),s=Math.cos(o/2),l=Math.sin(e/2),c=Math.sin(a/2),d=Math.sin(o/2);return r==="XYZ"?(this.x=l*n*s+i*c*d,this.y=i*c*s-l*n*d,this.z=i*n*d+l*c*s,this.w=i*n*s-l*c*d):r==="YXZ"?(this.x=l*n*s+i*c*d,this.y=i*c*s-l*n*d,this.z=i*n*d-l*c*s,this.w=i*n*s+l*c*d):r==="ZXY"?(this.x=l*n*s-i*c*d,this.y=i*c*s+l*n*d,this.z=i*n*d+l*c*s,this.w=i*n*s-l*c*d):r==="ZYX"?(this.x=l*n*s-i*c*d,this.y=i*c*s+l*n*d,this.z=i*n*d-l*c*s,this.w=i*n*s+l*c*d):r==="YZX"?(this.x=l*n*s+i*c*d,this.y=i*c*s+l*n*d,this.z=i*n*d-l*c*s,this.w=i*n*s-l*c*d):r==="XZY"&&(this.x=l*n*s-i*c*d,this.y=i*c*s-l*n*d,this.z=i*n*d+l*c*s,this.w=i*n*s+l*c*d),this}clone(){return new fa(this.x,this.y,this.z,this.w)}slerp(e,a,o){o===void 0&&(o=new fa);const r=this.x,i=this.y,n=this.z,s=this.w;let l=e.x,c=e.y,d=e.z,m=e.w,u,v,h,p,f;return v=r*l+i*c+n*d+s*m,v<0&&(v=-v,l=-l,c=-c,d=-d,m=-m),1-v>1e-6?(u=Math.acos(v),h=Math.sin(u),p=Math.sin((1-a)*u)/h,f=Math.sin(a*u)/h):(p=1-a,f=a),o.x=p*r+f*l,o.y=p*i+f*c,o.z=p*n+f*d,o.w=p*s+f*m,o}integrate(e,a,o,r){r===void 0&&(r=new fa);const i=e.x*o.x,n=e.y*o.y,s=e.z*o.z,l=this.x,c=this.y,d=this.z,m=this.w,u=a*.5;return r.x+=u*(i*m+n*d-s*c),r.y+=u*(n*m+s*l-i*d),r.z+=u*(s*m+i*c-n*l),r.w+=u*(-i*l-n*c-s*d),r}}const EU=new R,SU=new R,CU={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};class Be{constructor(e){e===void 0&&(e={}),this.id=Be.idCounter++,this.type=e.type||0,this.boundingSphereRadius=0,this.collisionResponse=e.collisionResponse?e.collisionResponse:!0,this.collisionFilterGroup=e.collisionFilterGroup!==void 0?e.collisionFilterGroup:1,this.collisionFilterMask=e.collisionFilterMask!==void 0?e.collisionFilterMask:-1,this.material=e.material?e.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(e,a){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(e,a,o,r){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}Be.idCounter=0;Be.types=CU;class Dt{constructor(e){e===void 0&&(e={}),this.position=new R,this.quaternion=new fa,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,a){return Dt.pointToLocalFrame(this.position,this.quaternion,e,a)}pointToWorld(e,a){return Dt.pointToWorldFrame(this.position,this.quaternion,e,a)}vectorToWorldFrame(e,a){return a===void 0&&(a=new R),this.quaternion.vmult(e,a),a}static pointToLocalFrame(e,a,o,r){return r===void 0&&(r=new R),o.vsub(e,r),a.conjugate(_3),_3.vmult(r,r),r}static pointToWorldFrame(e,a,o,r){return r===void 0&&(r=new R),a.vmult(o,r),r.vadd(e,r),r}static vectorToWorldFrame(e,a,o){return o===void 0&&(o=new R),e.vmult(a,o),o}static vectorToLocalFrame(e,a,o,r){return r===void 0&&(r=new R),a.w*=-1,a.vmult(o,r),a.w*=-1,r}}const _3=new fa;class Bn extends Be{constructor(e){e===void 0&&(e={});const{vertices:a=[],faces:o=[],normals:r=[],axes:i,boundingSphereRadius:n}=e;super({type:Be.types.CONVEXPOLYHEDRON}),this.vertices=a,this.faces=o,this.faceNormals=r,this.faceNormals.length===0&&this.computeNormals(),n?this.boundingSphereRadius=n:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=i?i.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,a=this.vertices,o=this.uniqueEdges;o.length=0;const r=new R;for(let i=0;i!==e.length;i++){const n=e[i],s=n.length;for(let l=0;l!==s;l++){const c=(l+1)%s;a[n[l]].vsub(a[n[c]],r),r.normalize();let d=!1;for(let m=0;m!==o.length;m++)if(o[m].almostEquals(r)||o[m].almostEquals(r)){d=!0;break}d||o.push(r.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let r=0;r<this.faces[e].length;r++)if(!this.vertices[this.faces[e][r]])throw new Error(`Vertex ${this.faces[e][r]} not found!`);const a=this.faceNormals[e]||new R;this.getFaceNormal(e,a),a.negate(a),this.faceNormals[e]=a;const o=this.vertices[this.faces[e][0]];if(a.dot(o)<0){console.error(`.faceNormals[${e}] = Vec3(${a.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let r=0;r<this.faces[e].length;r++)console.warn(`.vertices[${this.faces[e][r]}] = Vec3(${this.vertices[this.faces[e][r]].toString()})`)}}}getFaceNormal(e,a){const o=this.faces[e],r=this.vertices[o[0]],i=this.vertices[o[1]],n=this.vertices[o[2]];Bn.computeNormal(r,i,n,a)}static computeNormal(e,a,o,r){const i=new R,n=new R;a.vsub(e,n),o.vsub(a,i),i.cross(n,r),r.isZero()||r.normalize()}clipAgainstHull(e,a,o,r,i,n,s,l,c){const d=new R;let m=-1,u=-Number.MAX_VALUE;for(let h=0;h<o.faces.length;h++){d.copy(o.faceNormals[h]),i.vmult(d,d);const p=d.dot(n);p>u&&(u=p,m=h)}const v=[];for(let h=0;h<o.faces[m].length;h++){const p=o.vertices[o.faces[m][h]],f=new R;f.copy(p),i.vmult(f,f),r.vadd(f,f),v.push(f)}m>=0&&this.clipFaceAgainstHull(n,e,a,v,s,l,c)}findSeparatingAxis(e,a,o,r,i,n,s,l){const c=new R,d=new R,m=new R,u=new R,v=new R,h=new R;let p=Number.MAX_VALUE;const f=this;if(f.uniqueAxes)for(let g=0;g!==f.uniqueAxes.length;g++){o.vmult(f.uniqueAxes[g],c);const y=f.testSepAxis(c,e,a,o,r,i);if(y===!1)return!1;y<p&&(p=y,n.copy(c))}else{const g=s?s.length:f.faces.length;for(let y=0;y<g;y++){const x=s?s[y]:y;c.copy(f.faceNormals[x]),o.vmult(c,c);const b=f.testSepAxis(c,e,a,o,r,i);if(b===!1)return!1;b<p&&(p=b,n.copy(c))}}if(e.uniqueAxes)for(let g=0;g!==e.uniqueAxes.length;g++){i.vmult(e.uniqueAxes[g],d);const y=f.testSepAxis(d,e,a,o,r,i);if(y===!1)return!1;y<p&&(p=y,n.copy(d))}else{const g=l?l.length:e.faces.length;for(let y=0;y<g;y++){const x=l?l[y]:y;d.copy(e.faceNormals[x]),i.vmult(d,d);const b=f.testSepAxis(d,e,a,o,r,i);if(b===!1)return!1;b<p&&(p=b,n.copy(d))}}for(let g=0;g!==f.uniqueEdges.length;g++){o.vmult(f.uniqueEdges[g],u);for(let y=0;y!==e.uniqueEdges.length;y++)if(i.vmult(e.uniqueEdges[y],v),u.cross(v,h),!h.almostZero()){h.normalize();const x=f.testSepAxis(h,e,a,o,r,i);if(x===!1)return!1;x<p&&(p=x,n.copy(h))}}return r.vsub(a,m),m.dot(n)>0&&n.negate(n),!0}testSepAxis(e,a,o,r,i,n){const s=this;Bn.project(s,e,o,r,Qh),Bn.project(a,e,i,n,Jh);const l=Qh[0],c=Qh[1],d=Jh[0],m=Jh[1];if(l<m||d<c)return!1;const u=l-m,v=d-c;return u<v?u:v}calculateLocalInertia(e,a){const o=new R,r=new R;this.computeLocalAABB(r,o);const i=o.x-r.x,n=o.y-r.y,s=o.z-r.z;a.x=1/12*e*(2*n*2*n+2*s*2*s),a.y=1/12*e*(2*i*2*i+2*s*2*s),a.z=1/12*e*(2*n*2*n+2*i*2*i)}getPlaneConstantOfFace(e){const a=this.faces[e],o=this.faceNormals[e],r=this.vertices[a[0]];return-o.dot(r)}clipFaceAgainstHull(e,a,o,r,i,n,s){const l=new R,c=new R,d=new R,m=new R,u=new R,v=new R,h=new R,p=new R,f=this,g=[],y=r,x=g;let b=-1,w=Number.MAX_VALUE;for(let T=0;T<f.faces.length;T++){l.copy(f.faceNormals[T]),o.vmult(l,l);const O=l.dot(e);O<w&&(w=O,b=T)}if(b<0)return;const _=f.faces[b];_.connectedFaces=[];for(let T=0;T<f.faces.length;T++)for(let O=0;O<f.faces[T].length;O++)_.indexOf(f.faces[T][O])!==-1&&T!==b&&_.connectedFaces.indexOf(T)===-1&&_.connectedFaces.push(T);const S=_.length;for(let T=0;T<S;T++){const O=f.vertices[_[T]],B=f.vertices[_[(T+1)%S]];O.vsub(B,c),d.copy(c),o.vmult(d,d),a.vadd(d,d),m.copy(this.faceNormals[b]),o.vmult(m,m),a.vadd(m,m),d.cross(m,u),u.negate(u),v.copy(O),o.vmult(v,v),a.vadd(v,v);const N=_.connectedFaces[T];h.copy(this.faceNormals[N]);const D=this.getPlaneConstantOfFace(N);p.copy(h),o.vmult(p,p);const q=D-p.dot(a);for(this.clipFaceAgainstPlane(y,x,p,q);y.length;)y.shift();for(;x.length;)y.push(x.shift())}h.copy(this.faceNormals[b]);const E=this.getPlaneConstantOfFace(b);p.copy(h),o.vmult(p,p);const A=E-p.dot(a);for(let T=0;T<y.length;T++){let O=p.dot(y[T])+A;if(O<=i&&(O=i),O<=n){const B=y[T];if(O<=1e-6){const N={point:B,normal:p,depth:O};s.push(N)}}}}clipFaceAgainstPlane(e,a,o,r){let i,n;const s=e.length;if(s<2)return a;let l=e[e.length-1],c=e[0];i=o.dot(l)+r;for(let d=0;d<s;d++){if(c=e[d],n=o.dot(c)+r,i<0)if(n<0){const m=new R;m.copy(c),a.push(m)}else{const m=new R;l.lerp(c,i/(i-n),m),a.push(m)}else if(n<0){const m=new R;l.lerp(c,i/(i-n),m),a.push(m),a.push(c)}l=c,i=n}return a}computeWorldVertices(e,a){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new R);const o=this.vertices,r=this.worldVertices;for(let i=0;i!==this.vertices.length;i++)a.vmult(o[i],r[i]),e.vadd(r[i],r[i]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,a){const o=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),a.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let r=0;r<this.vertices.length;r++){const i=o[r];i.x<e.x?e.x=i.x:i.x>a.x&&(a.x=i.x),i.y<e.y?e.y=i.y:i.y>a.y&&(a.y=i.y),i.z<e.z?e.z=i.z:i.z>a.z&&(a.z=i.z)}}computeWorldFaceNormals(e){const a=this.faceNormals.length;for(;this.worldFaceNormals.length<a;)this.worldFaceNormals.push(new R);const o=this.faceNormals,r=this.worldFaceNormals;for(let i=0;i!==a;i++)e.vmult(o[i],r[i]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const a=this.vertices;for(let o=0;o!==a.length;o++){const r=a[o].lengthSquared();r>e&&(e=r)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,a,o,r){const i=this.vertices;let n,s,l,c,d,m,u=new R;for(let v=0;v<i.length;v++){u.copy(i[v]),a.vmult(u,u),e.vadd(u,u);const h=u;(n===void 0||h.x<n)&&(n=h.x),(c===void 0||h.x>c)&&(c=h.x),(s===void 0||h.y<s)&&(s=h.y),(d===void 0||h.y>d)&&(d=h.y),(l===void 0||h.z<l)&&(l=h.z),(m===void 0||h.z>m)&&(m=h.z)}o.set(n,s,l),r.set(c,d,m)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){e===void 0&&(e=new R);const a=this.vertices;for(let o=0;o<a.length;o++)e.vadd(a[o],e);return e.scale(1/a.length,e),e}transformAllPoints(e,a){const o=this.vertices.length,r=this.vertices;if(a){for(let i=0;i<o;i++){const n=r[i];a.vmult(n,n)}for(let i=0;i<this.faceNormals.length;i++){const n=this.faceNormals[i];a.vmult(n,n)}}if(e)for(let i=0;i<o;i++){const n=r[i];n.vadd(e,n)}}pointIsInside(e){const a=this.vertices,o=this.faces,r=this.faceNormals,i=null,n=new R;this.getAveragePointLocal(n);for(let s=0;s<this.faces.length;s++){let l=r[s];const c=a[o[s][0]],d=new R;e.vsub(c,d);const m=l.dot(d),u=new R;n.vsub(c,u);const v=l.dot(u);if(m<0&&v>0||m>0&&v<0)return!1}return i?1:-1}static project(e,a,o,r,i){const n=e.vertices.length,s=AU;let l=0,c=0;const d=MU,m=e.vertices;d.setZero(),Dt.vectorToLocalFrame(o,r,a,s),Dt.pointToLocalFrame(o,r,d,d);const u=d.dot(s);c=l=m[0].dot(s);for(let v=1;v<n;v++){const h=m[v].dot(s);h>l&&(l=h),h<c&&(c=h)}if(c-=u,l-=u,c>l){const v=c;c=l,l=v}i[0]=l,i[1]=c}}const Qh=[],Jh=[];new R;const AU=new R,MU=new R;class C1 extends Be{constructor(e){super({type:Be.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,a=this.halfExtents.y,o=this.halfExtents.z,r=R,i=[new r(-e,-a,-o),new r(e,-a,-o),new r(e,a,-o),new r(-e,a,-o),new r(-e,-a,o),new r(e,-a,o),new r(e,a,o),new r(-e,a,o)],n=[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],s=[new r(0,0,1),new r(0,1,0),new r(1,0,0)],l=new Bn({vertices:i,faces:n,axes:s});this.convexPolyhedronRepresentation=l,l.material=this.material}calculateLocalInertia(e,a){return a===void 0&&(a=new R),C1.calculateInertia(this.halfExtents,e,a),a}static calculateInertia(e,a,o){const r=e;o.x=1/12*a*(2*r.y*2*r.y+2*r.z*2*r.z),o.y=1/12*a*(2*r.x*2*r.x+2*r.z*2*r.z),o.z=1/12*a*(2*r.y*2*r.y+2*r.x*2*r.x)}getSideNormals(e,a){const o=e,r=this.halfExtents;if(o[0].set(r.x,0,0),o[1].set(0,r.y,0),o[2].set(0,0,r.z),o[3].set(-r.x,0,0),o[4].set(0,-r.y,0),o[5].set(0,0,-r.z),a!==void 0)for(let i=0;i!==o.length;i++)a.vmult(o[i],o[i]);return o}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,a,o){const r=this.halfExtents,i=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]];for(let n=0;n<i.length;n++)Ri.set(i[n][0],i[n][1],i[n][2]),a.vmult(Ri,Ri),e.vadd(Ri,Ri),o(Ri.x,Ri.y,Ri.z)}calculateWorldAABB(e,a,o,r){const i=this.halfExtents;_r[0].set(i.x,i.y,i.z),_r[1].set(-i.x,i.y,i.z),_r[2].set(-i.x,-i.y,i.z),_r[3].set(-i.x,-i.y,-i.z),_r[4].set(i.x,-i.y,-i.z),_r[5].set(i.x,i.y,-i.z),_r[6].set(-i.x,i.y,-i.z),_r[7].set(i.x,-i.y,i.z);const n=_r[0];a.vmult(n,n),e.vadd(n,n),r.copy(n),o.copy(n);for(let s=1;s<8;s++){const l=_r[s];a.vmult(l,l),e.vadd(l,l);const c=l.x,d=l.y,m=l.z;c>r.x&&(r.x=c),d>r.y&&(r.y=d),m>r.z&&(r.z=m),c<o.x&&(o.x=c),d<o.y&&(o.y=d),m<o.z&&(o.z=m)}}}const Ri=new R,_r=[new R,new R,new R,new R,new R,new R,new R,new R],A1={DYNAMIC:1,STATIC:2,KINEMATIC:4},M1={AWAKE:0,SLEEPY:1,SLEEPING:2};class Ee extends $5{constructor(e){e===void 0&&(e={}),super(),this.id=Ee.idCounter++,this.index=-1,this.world=null,this.vlambda=new R,this.collisionFilterGroup=typeof e.collisionFilterGroup=="number"?e.collisionFilterGroup:1,this.collisionFilterMask=typeof e.collisionFilterMask=="number"?e.collisionFilterMask:-1,this.collisionResponse=typeof e.collisionResponse=="boolean"?e.collisionResponse:!0,this.position=new R,this.previousPosition=new R,this.interpolatedPosition=new R,this.initPosition=new R,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new R,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new R,this.force=new R;const a=typeof e.mass=="number"?e.mass:0;this.mass=a,this.invMass=a>0?1/a:0,this.material=e.material||null,this.linearDamping=typeof e.linearDamping=="number"?e.linearDamping:.01,this.type=a<=0?Ee.STATIC:Ee.DYNAMIC,typeof e.type==typeof Ee.STATIC&&(this.type=e.type),this.allowSleep=typeof e.allowSleep<"u"?e.allowSleep:!0,this.sleepState=Ee.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new R,this.quaternion=new fa,this.initQuaternion=new fa,this.previousQuaternion=new fa,this.interpolatedQuaternion=new fa,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new R,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new R,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new R,this.invInertia=new R,this.invInertiaWorld=new cr,this.invMassSolve=0,this.invInertiaSolve=new R,this.invInertiaWorldSolve=new cr,this.fixedRotation=typeof e.fixedRotation<"u"?e.fixedRotation:!1,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new R(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new R(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new Lo,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new R,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=Ee.AWAKE,this.wakeUpAfterNarrowphase=!1,e===Ee.SLEEPING&&this.dispatchEvent(Ee.wakeupEvent)}sleep(){this.sleepState=Ee.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const a=this.sleepState,o=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),r=this.sleepSpeedLimit**2;a===Ee.AWAKE&&o<r?(this.sleepState=Ee.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(Ee.sleepyEvent)):a===Ee.SLEEPY&&o>r?this.wakeUp():a===Ee.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(Ee.sleepEvent))}}updateSolveMassProperties(){this.sleepState===Ee.SLEEPING||this.type===Ee.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,a){return a===void 0&&(a=new R),e.vsub(this.position,a),this.quaternion.conjugate().vmult(a,a),a}vectorToLocalFrame(e,a){return a===void 0&&(a=new R),this.quaternion.conjugate().vmult(e,a),a}pointToWorldFrame(e,a){return a===void 0&&(a=new R),this.quaternion.vmult(e,a),a.vadd(this.position,a),a}vectorToWorldFrame(e,a){return a===void 0&&(a=new R),this.quaternion.vmult(e,a),a}addShape(e,a,o){const r=new R,i=new fa;return a&&r.copy(a),o&&i.copy(o),this.shapes.push(e),this.shapeOffsets.push(r),this.shapeOrientations.push(i),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const a=this.shapes.indexOf(e);return a===-1?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(a,1),this.shapeOffsets.splice(a,1),this.shapeOrientations.splice(a,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,a=this.shapeOffsets,o=e.length;let r=0;for(let i=0;i!==o;i++){const n=e[i];n.updateBoundingSphereRadius();const s=a[i].length(),l=n.boundingSphereRadius;s+l>r&&(r=s+l)}this.boundingRadius=r}updateAABB(){const e=this.shapes,a=this.shapeOffsets,o=this.shapeOrientations,r=e.length,i=RU,n=TU,s=this.quaternion,l=this.aabb,c=PU;for(let d=0;d!==r;d++){const m=e[d];s.vmult(a[d],i),i.vadd(this.position,i),s.mult(o[d],n),m.calculateWorldAABB(i,n,c.lowerBound,c.upperBound),d===0?l.copy(c):l.extend(c)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const a=this.invInertia;if(!(a.x===a.y&&a.y===a.z&&!e)){const o=LU,r=DU;o.setRotationFromQuaternion(this.quaternion),o.transpose(r),o.scale(a,o),o.mmult(r,this.invInertiaWorld)}}applyForce(e,a){if(a===void 0&&(a=new R),this.type!==Ee.DYNAMIC)return;this.sleepState===Ee.SLEEPING&&this.wakeUp();const o=IU;a.cross(e,o),this.force.vadd(e,this.force),this.torque.vadd(o,this.torque)}applyLocalForce(e,a){if(a===void 0&&(a=new R),this.type!==Ee.DYNAMIC)return;const o=OU,r=kU;this.vectorToWorldFrame(e,o),this.vectorToWorldFrame(a,r),this.applyForce(o,r)}applyTorque(e){this.type===Ee.DYNAMIC&&(this.sleepState===Ee.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,a){if(a===void 0&&(a=new R),this.type!==Ee.DYNAMIC)return;this.sleepState===Ee.SLEEPING&&this.wakeUp();const o=a,r=zU;r.copy(e),r.scale(this.invMass,r),this.velocity.vadd(r,this.velocity);const i=NU;o.cross(e,i),this.invInertiaWorld.vmult(i,i),this.angularVelocity.vadd(i,this.angularVelocity)}applyLocalImpulse(e,a){if(a===void 0&&(a=new R),this.type!==Ee.DYNAMIC)return;const o=FU,r=qU;this.vectorToWorldFrame(e,o),this.vectorToWorldFrame(a,r),this.applyImpulse(o,r)}updateMassProperties(){const e=jU;this.invMass=this.mass>0?1/this.mass:0;const a=this.inertia,o=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),C1.calculateInertia(e,this.mass,a),this.invInertia.set(a.x>0&&!o?1/a.x:0,a.y>0&&!o?1/a.y:0,a.z>0&&!o?1/a.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,a){const o=new R;return e.vsub(this.position,o),this.angularVelocity.cross(o,a),this.velocity.vadd(a,a),a}integrate(e,a,o){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),!(this.type===Ee.DYNAMIC||this.type===Ee.KINEMATIC)||this.sleepState===Ee.SLEEPING)return;const r=this.velocity,i=this.angularVelocity,n=this.position,s=this.force,l=this.torque,c=this.quaternion,d=this.invMass,m=this.invInertiaWorld,u=this.linearFactor,v=d*e;r.x+=s.x*v*u.x,r.y+=s.y*v*u.y,r.z+=s.z*v*u.z;const h=m.elements,p=this.angularFactor,f=l.x*p.x,g=l.y*p.y,y=l.z*p.z;i.x+=e*(h[0]*f+h[1]*g+h[2]*y),i.y+=e*(h[3]*f+h[4]*g+h[5]*y),i.z+=e*(h[6]*f+h[7]*g+h[8]*y),n.x+=r.x*e,n.y+=r.y*e,n.z+=r.z*e,c.integrate(this.angularVelocity,e,this.angularFactor,c),a&&(o?c.normalizeFast():c.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}Ee.idCounter=0;Ee.COLLIDE_EVENT_NAME="collide";Ee.DYNAMIC=A1.DYNAMIC;Ee.STATIC=A1.STATIC;Ee.KINEMATIC=A1.KINEMATIC;Ee.AWAKE=M1.AWAKE;Ee.SLEEPY=M1.SLEEPY;Ee.SLEEPING=M1.SLEEPING;Ee.wakeupEvent={type:"wakeup"};Ee.sleepyEvent={type:"sleepy"};Ee.sleepEvent={type:"sleep"};const RU=new R,TU=new fa,PU=new Lo,LU=new cr,DU=new cr;new cr;const IU=new R,OU=new R,kU=new R,zU=new R,NU=new R,FU=new R,qU=new R,jU=new R;class BU{constructor(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}collisionPairs(e,a,o){throw new Error("collisionPairs not implemented for this BroadPhase class!")}needBroadphaseCollision(e,a){return!(!(e.collisionFilterGroup&a.collisionFilterMask)||!(a.collisionFilterGroup&e.collisionFilterMask)||(e.type&Ee.STATIC||e.sleepState===Ee.SLEEPING)&&(a.type&Ee.STATIC||a.sleepState===Ee.SLEEPING))}intersectionTest(e,a,o,r){this.useBoundingBoxes?this.doBoundingBoxBroadphase(e,a,o,r):this.doBoundingSphereBroadphase(e,a,o,r)}doBoundingSphereBroadphase(e,a,o,r){const i=$U;a.position.vsub(e.position,i);const n=(e.boundingRadius+a.boundingRadius)**2;i.lengthSquared()<n&&(o.push(e),r.push(a))}doBoundingBoxBroadphase(e,a,o,r){e.aabbNeedsUpdate&&e.updateAABB(),a.aabbNeedsUpdate&&a.updateAABB(),e.aabb.overlaps(a.aabb)&&(o.push(e),r.push(a))}makePairsUnique(e,a){const o=UU,r=VU,i=HU,n=e.length;for(let s=0;s!==n;s++)r[s]=e[s],i[s]=a[s];e.length=0,a.length=0;for(let s=0;s!==n;s++){const l=r[s].id,c=i[s].id,d=l<c?`${l},${c}`:`${c},${l}`;o[d]=s,o.keys.push(d)}for(let s=0;s!==o.keys.length;s++){const l=o.keys.pop(),c=o[l];e.push(r[c]),a.push(i[c]),delete o[l]}}setWorld(e){}static boundingSphereCheck(e,a){const o=new R;e.position.vsub(a.position,o);const r=e.shapes[0],i=a.shapes[0];return Math.pow(r.boundingSphereRadius+i.boundingSphereRadius,2)>o.lengthSquared()}aabbQuery(e,a,o){return console.warn(".aabbQuery is not implemented in this Broadphase subclass."),[]}}const $U=new R;new R;new fa;new R;const UU={keys:[]},VU=[],HU=[];new R;new R;new R;class U5 extends BU{constructor(){super()}collisionPairs(e,a,o){const r=e.bodies,i=r.length;let n,s;for(let l=0;l!==i;l++)for(let c=0;c!==l;c++)n=r[l],s=r[c],this.needBroadphaseCollision(n,s)&&this.intersectionTest(n,s,a,o)}aabbQuery(e,a,o){o===void 0&&(o=[]);for(let r=0;r<e.bodies.length;r++){const i=e.bodies[r];i.aabbNeedsUpdate&&i.updateAABB(),i.aabb.overlaps(a)&&o.push(i)}return o}}class dp{constructor(){this.rayFromWorld=new R,this.rayToWorld=new R,this.hitNormalWorld=new R,this.hitPointWorld=new R,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,a,o,r,i,n,s){this.rayFromWorld.copy(e),this.rayToWorld.copy(a),this.hitNormalWorld.copy(o),this.hitPointWorld.copy(r),this.shape=i,this.body=n,this.distance=s}}let V5,H5,W5,G5,Z5,X5,Y5;const R1={CLOSEST:1,ANY:2,ALL:4};V5=Be.types.SPHERE;H5=Be.types.PLANE;W5=Be.types.BOX;G5=Be.types.CYLINDER;Z5=Be.types.CONVEXPOLYHEDRON;X5=Be.types.HEIGHTFIELD;Y5=Be.types.TRIMESH;class ma{get[V5](){return this._intersectSphere}get[H5](){return this._intersectPlane}get[W5](){return this._intersectBox}get[G5](){return this._intersectConvex}get[Z5](){return this._intersectConvex}get[X5](){return this._intersectHeightfield}get[Y5](){return this._intersectTrimesh}constructor(e,a){e===void 0&&(e=new R),a===void 0&&(a=new R),this.from=e.clone(),this.to=a.clone(),this.direction=new R,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=ma.ANY,this.result=new dp,this.hasHit=!1,this.callback=o=>{}}intersectWorld(e,a){return this.mode=a.mode||ma.ANY,this.result=a.result||new dp,this.skipBackfaces=!!a.skipBackfaces,this.collisionFilterMask=typeof a.collisionFilterMask<"u"?a.collisionFilterMask:-1,this.collisionFilterGroup=typeof a.collisionFilterGroup<"u"?a.collisionFilterGroup:-1,this.checkCollisionResponse=typeof a.checkCollisionResponse<"u"?a.checkCollisionResponse:!0,a.from&&this.from.copy(a.from),a.to&&this.to.copy(a.to),this.callback=a.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(w3),ev.length=0,e.broadphase.aabbQuery(e,w3,ev),this.intersectBodies(ev),this.hasHit}intersectBody(e,a){a&&(this.result=a,this.updateDirection());const o=this.checkCollisionResponse;if(o&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=WU,i=GU;for(let n=0,s=e.shapes.length;n<s;n++){const l=e.shapes[n];if(!(o&&!l.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[n],i),e.quaternion.vmult(e.shapeOffsets[n],r),r.vadd(e.position,r),this.intersectShape(l,i,r,e),this.result.shouldStop))break}}intersectBodies(e,a){a&&(this.result=a,this.updateDirection());for(let o=0,r=e.length;!this.result.shouldStop&&o<r;o++)this.intersectBody(e[o])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,a,o,r){const i=this.from;if(sV(i,this.direction,o)>e.boundingSphereRadius)return;const n=this[e.type];n&&n.call(this,e,a,o,r,e)}_intersectBox(e,a,o,r,i){return this._intersectConvex(e.convexPolyhedronRepresentation,a,o,r,i)}_intersectPlane(e,a,o,r,i){const n=this.from,s=this.to,l=this.direction,c=new R(0,0,1);a.vmult(c,c);const d=new R;n.vsub(o,d);const m=d.dot(c);s.vsub(o,d);const u=d.dot(c);if(m*u>0||n.distanceTo(s)<m)return;const v=c.dot(l);if(Math.abs(v)<this.precision)return;const h=new R,p=new R,f=new R;n.vsub(o,h);const g=-c.dot(h)/v;l.scale(g,p),n.vadd(p,f),this.reportIntersection(c,f,i,r,-1)}getAABB(e){const{lowerBound:a,upperBound:o}=e,r=this.to,i=this.from;a.x=Math.min(r.x,i.x),a.y=Math.min(r.y,i.y),a.z=Math.min(r.z,i.z),o.x=Math.max(r.x,i.x),o.y=Math.max(r.y,i.y),o.z=Math.max(r.z,i.z)}_intersectHeightfield(e,a,o,r,i){e.data,e.elementSize;const n=ZU;n.from.copy(this.from),n.to.copy(this.to),Dt.pointToLocalFrame(o,a,n.from,n.from),Dt.pointToLocalFrame(o,a,n.to,n.to),n.updateDirection();const s=XU;let l,c,d,m;l=c=0,d=m=e.data.length-1;const u=new Lo;n.getAABB(u),e.getIndexOfPosition(u.lowerBound.x,u.lowerBound.y,s,!0),l=Math.max(l,s[0]),c=Math.max(c,s[1]),e.getIndexOfPosition(u.upperBound.x,u.upperBound.y,s,!0),d=Math.min(d,s[0]+1),m=Math.min(m,s[1]+1);for(let v=l;v<d;v++)for(let h=c;h<m;h++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(v,h,u),!!u.overlapsRay(n)){if(e.getConvexTrianglePillar(v,h,!1),Dt.pointToWorldFrame(o,a,e.pillarOffset,$u),this._intersectConvex(e.pillarConvex,a,$u,r,i,E3),this.result.shouldStop)return;e.getConvexTrianglePillar(v,h,!0),Dt.pointToWorldFrame(o,a,e.pillarOffset,$u),this._intersectConvex(e.pillarConvex,a,$u,r,i,E3)}}}_intersectSphere(e,a,o,r,i){const n=this.from,s=this.to,l=e.radius,c=(s.x-n.x)**2+(s.y-n.y)**2+(s.z-n.z)**2,d=2*((s.x-n.x)*(n.x-o.x)+(s.y-n.y)*(n.y-o.y)+(s.z-n.z)*(n.z-o.z)),m=(n.x-o.x)**2+(n.y-o.y)**2+(n.z-o.z)**2-l**2,u=d**2-4*c*m,v=YU,h=KU;if(!(u<0))if(u===0)n.lerp(s,u,v),v.vsub(o,h),h.normalize(),this.reportIntersection(h,v,i,r,-1);else{const p=(-d-Math.sqrt(u))/(2*c),f=(-d+Math.sqrt(u))/(2*c);if(p>=0&&p<=1&&(n.lerp(s,p,v),v.vsub(o,h),h.normalize(),this.reportIntersection(h,v,i,r,-1)),this.result.shouldStop)return;f>=0&&f<=1&&(n.lerp(s,f,v),v.vsub(o,h),h.normalize(),this.reportIntersection(h,v,i,r,-1))}}_intersectConvex(e,a,o,r,i,n){const s=QU,l=S3,c=n&&n.faceList||null,d=e.faces,m=e.vertices,u=e.faceNormals,v=this.direction,h=this.from,p=this.to,f=h.distanceTo(p),g=c?c.length:d.length,y=this.result;for(let x=0;!y.shouldStop&&x<g;x++){const b=c?c[x]:x,w=d[b],_=u[b],S=a,E=o;l.copy(m[w[0]]),S.vmult(l,l),l.vadd(E,l),l.vsub(h,l),S.vmult(_,s);const A=v.dot(s);if(Math.abs(A)<this.precision)continue;const T=s.dot(l)/A;if(!(T<0)){v.scale(T,Ja),Ja.vadd(h,Ja),tr.copy(m[w[0]]),S.vmult(tr,tr),E.vadd(tr,tr);for(let O=1;!y.shouldStop&&O<w.length-1;O++){wr.copy(m[w[O]]),Er.copy(m[w[O+1]]),S.vmult(wr,wr),S.vmult(Er,Er),E.vadd(wr,wr),E.vadd(Er,Er);const B=Ja.distanceTo(h);!(ma.pointInTriangle(Ja,tr,wr,Er)||ma.pointInTriangle(Ja,wr,tr,Er))||B>f||this.reportIntersection(s,Ja,i,r,b)}}}}_intersectTrimesh(e,a,o,r,i,n){const s=JU,l=iV,c=nV,d=S3,m=eV,u=tV,v=aV,h=rV,p=oV,f=e.indices;e.vertices;const g=this.from,y=this.to,x=this.direction;c.position.copy(o),c.quaternion.copy(a),Dt.vectorToLocalFrame(o,a,x,m),Dt.pointToLocalFrame(o,a,g,u),Dt.pointToLocalFrame(o,a,y,v),v.x*=e.scale.x,v.y*=e.scale.y,v.z*=e.scale.z,u.x*=e.scale.x,u.y*=e.scale.y,u.z*=e.scale.z,v.vsub(u,m),m.normalize();const b=u.distanceSquared(v);e.tree.rayQuery(this,c,l);for(let w=0,_=l.length;!this.result.shouldStop&&w!==_;w++){const S=l[w];e.getNormal(S,s),e.getVertex(f[S*3],tr),tr.vsub(u,d);const E=m.dot(s),A=s.dot(d)/E;if(A<0)continue;m.scale(A,Ja),Ja.vadd(u,Ja),e.getVertex(f[S*3+1],wr),e.getVertex(f[S*3+2],Er);const T=Ja.distanceSquared(u);!(ma.pointInTriangle(Ja,wr,tr,Er)||ma.pointInTriangle(Ja,tr,wr,Er))||T>b||(Dt.vectorToWorldFrame(a,s,p),Dt.pointToWorldFrame(o,a,Ja,h),this.reportIntersection(p,h,i,r,S))}l.length=0}reportIntersection(e,a,o,r,i){const n=this.from,s=this.to,l=n.distanceTo(a),c=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(c.hitFaceIndex=typeof i<"u"?i:-1,this.mode){case ma.ALL:this.hasHit=!0,c.set(n,s,e,a,o,r,l),c.hasHit=!0,this.callback(c);break;case ma.CLOSEST:(l<c.distance||!c.hasHit)&&(this.hasHit=!0,c.hasHit=!0,c.set(n,s,e,a,o,r,l));break;case ma.ANY:this.hasHit=!0,c.hasHit=!0,c.set(n,s,e,a,o,r,l),c.shouldStop=!0;break}}static pointInTriangle(e,a,o,r){r.vsub(a,wn),o.vsub(a,cc),e.vsub(a,tv);const i=wn.dot(wn),n=wn.dot(cc),s=wn.dot(tv),l=cc.dot(cc),c=cc.dot(tv);let d,m;return(d=l*s-n*c)>=0&&(m=i*c-n*s)>=0&&d+m<i*l-n*n}}ma.CLOSEST=R1.CLOSEST;ma.ANY=R1.ANY;ma.ALL=R1.ALL;const w3=new Lo,ev=[],cc=new R,tv=new R,WU=new R,GU=new fa,Ja=new R,tr=new R,wr=new R,Er=new R;new R;new dp;const E3={faceList:[0]},$u=new R,ZU=new ma,XU=[],YU=new R,KU=new R,QU=new R;new R;new R;const S3=new R,JU=new R,eV=new R,tV=new R,aV=new R,oV=new R,rV=new R;new Lo;const iV=[],nV=new Dt,wn=new R,Uu=new R;function sV(t,e,a){a.vsub(t,wn);const o=wn.dot(e);return e.scale(o,Uu),Uu.vadd(t,Uu),a.distanceTo(Uu)}class lV{static defaults(e,a){e===void 0&&(e={});for(let o in a)o in e||(e[o]=a[o]);return e}}class C3{constructor(){this.spatial=new R,this.rotational=new R}multiplyElement(e){return e.spatial.dot(this.spatial)+e.rotational.dot(this.rotational)}multiplyVectors(e,a){return e.dot(this.spatial)+a.dot(this.rotational)}}class Zd{constructor(e,a,o,r){o===void 0&&(o=-1e6),r===void 0&&(r=1e6),this.id=Zd.idCounter++,this.minForce=o,this.maxForce=r,this.bi=e,this.bj=a,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new C3,this.jacobianElementB=new C3,this.enabled=!0,this.multiplier=0,this.setSpookParams(1e7,4,1/60)}setSpookParams(e,a,o){const r=a,i=e,n=o;this.a=4/(n*(1+4*r)),this.b=4*r/(1+4*r),this.eps=4/(n*n*i*(1+4*r))}computeB(e,a,o){const r=this.computeGW(),i=this.computeGq(),n=this.computeGiMf();return-i*e-r*a-n*o}computeGq(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.position,n=r.position;return e.spatial.dot(i)+a.spatial.dot(n)}computeGW(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.velocity,n=r.velocity,s=o.angularVelocity,l=r.angularVelocity;return e.multiplyVectors(i,s)+a.multiplyVectors(n,l)}computeGWlambda(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.vlambda,n=r.vlambda,s=o.wlambda,l=r.wlambda;return e.multiplyVectors(i,s)+a.multiplyVectors(n,l)}computeGiMf(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.force,n=o.torque,s=r.force,l=r.torque,c=o.invMassSolve,d=r.invMassSolve;return i.scale(c,A3),s.scale(d,M3),o.invInertiaWorldSolve.vmult(n,R3),r.invInertiaWorldSolve.vmult(l,T3),e.multiplyVectors(A3,R3)+a.multiplyVectors(M3,T3)}computeGiMGt(){const e=this.jacobianElementA,a=this.jacobianElementB,o=this.bi,r=this.bj,i=o.invMassSolve,n=r.invMassSolve,s=o.invInertiaWorldSolve,l=r.invInertiaWorldSolve;let c=i+n;return s.vmult(e.rotational,Vu),c+=Vu.dot(e.rotational),l.vmult(a.rotational,Vu),c+=Vu.dot(a.rotational),c}addToWlambda(e){const a=this.jacobianElementA,o=this.jacobianElementB,r=this.bi,i=this.bj,n=cV;r.vlambda.addScaledVector(r.invMassSolve*e,a.spatial,r.vlambda),i.vlambda.addScaledVector(i.invMassSolve*e,o.spatial,i.vlambda),r.invInertiaWorldSolve.vmult(a.rotational,n),r.wlambda.addScaledVector(e,n,r.wlambda),i.invInertiaWorldSolve.vmult(o.rotational,n),i.wlambda.addScaledVector(e,n,i.wlambda)}computeC(){return this.computeGiMGt()+this.eps}}Zd.idCounter=0;const A3=new R,M3=new R,R3=new R,T3=new R,Vu=new R,cV=new R;class dV extends Zd{constructor(e,a,o){o===void 0&&(o=1e6),super(e,a,0,o),this.restitution=0,this.ri=new R,this.rj=new R,this.ni=new R}computeB(e){const a=this.a,o=this.b,r=this.bi,i=this.bj,n=this.ri,s=this.rj,l=uV,c=mV,d=r.velocity,m=r.angularVelocity;r.force,r.torque;const u=i.velocity,v=i.angularVelocity;i.force,i.torque;const h=pV,p=this.jacobianElementA,f=this.jacobianElementB,g=this.ni;n.cross(g,l),s.cross(g,c),g.negate(p.spatial),l.negate(p.rotational),f.spatial.copy(g),f.rotational.copy(c),h.copy(i.position),h.vadd(s,h),h.vsub(r.position,h),h.vsub(n,h);const y=g.dot(h),x=this.restitution+1,b=x*u.dot(g)-x*d.dot(g)+v.dot(c)-m.dot(l),w=this.computeGiMf();return-y*a-b*o-e*w}getImpactVelocityAlongNormal(){const e=fV,a=hV,o=vV,r=gV,i=yV;return this.bi.position.vadd(this.ri,o),this.bj.position.vadd(this.rj,r),this.bi.getVelocityAtWorldPoint(o,e),this.bj.getVelocityAtWorldPoint(r,a),e.vsub(a,i),this.ni.dot(i)}}const uV=new R,mV=new R,pV=new R,fV=new R,hV=new R,vV=new R,gV=new R,yV=new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;class P3 extends Zd{constructor(e,a,o){super(e,a,-o,o),this.ri=new R,this.rj=new R,this.t=new R}computeB(e){this.a;const a=this.b;this.bi,this.bj;const o=this.ri,r=this.rj,i=xV,n=bV,s=this.t;o.cross(s,i),r.cross(s,n);const l=this.jacobianElementA,c=this.jacobianElementB;s.negate(l.spatial),i.negate(l.rotational),c.spatial.copy(s),c.rotational.copy(n);const d=this.computeGW(),m=this.computeGiMf();return-d*a-e*m}}const xV=new R,bV=new R;class $n{constructor(e,a,o){o=lV.defaults(o,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=$n.idCounter++,this.materials=[e,a],this.friction=o.friction,this.restitution=o.restitution,this.contactEquationStiffness=o.contactEquationStiffness,this.contactEquationRelaxation=o.contactEquationRelaxation,this.frictionEquationStiffness=o.frictionEquationStiffness,this.frictionEquationRelaxation=o.frictionEquationRelaxation}}$n.idCounter=0;class Un{constructor(e){e===void 0&&(e={});let a="";typeof e=="string"&&(a=e,e={}),this.name=a,this.id=Un.idCounter++,this.friction=typeof e.friction<"u"?e.friction:-1,this.restitution=typeof e.restitution<"u"?e.restitution:-1}}Un.idCounter=0;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new ma;new R;new R;new R;new R(1,0,0),new R(0,1,0),new R(0,0,1);new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;class _V extends Bn{constructor(e,a,o,r){if(e===void 0&&(e=1),a===void 0&&(a=1),o===void 0&&(o=1),r===void 0&&(r=8),e<0)throw new Error("The cylinder radiusTop cannot be negative.");if(a<0)throw new Error("The cylinder radiusBottom cannot be negative.");const i=r,n=[],s=[],l=[],c=[],d=[],m=Math.cos,u=Math.sin;n.push(new R(-a*u(0),-o*.5,a*m(0))),c.push(0),n.push(new R(-e*u(0),o*.5,e*m(0))),d.push(1);for(let h=0;h<i;h++){const p=2*Math.PI/i*(h+1),f=2*Math.PI/i*(h+.5);h<i-1?(n.push(new R(-a*u(p),-o*.5,a*m(p))),c.push(2*h+2),n.push(new R(-e*u(p),o*.5,e*m(p))),d.push(2*h+3),l.push([2*h,2*h+1,2*h+3,2*h+2])):l.push([2*h,2*h+1,1,0]),(i%2===1||h<i/2)&&s.push(new R(-u(f),0,m(f)))}l.push(c),s.push(new R(0,1,0));const v=[];for(let h=0;h<d.length;h++)v.push(d[d.length-h-1]);l.push(v),super({vertices:n,faces:l,axes:s}),this.type=Be.types.CYLINDER,this.radiusTop=e,this.radiusBottom=a,this.height=o,this.numSegments=r}}class dc extends Be{constructor(){super({type:Be.types.PLANE}),this.worldNormal=new R,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}computeWorldNormal(e){const a=this.worldNormal;a.set(0,0,1),e.vmult(a,a),this.worldNormalNeedsUpdate=!1}calculateLocalInertia(e,a){return a===void 0&&(a=new R),a}volume(){return Number.MAX_VALUE}calculateWorldAABB(e,a,o,r){Wr.set(0,0,1),a.vmult(Wr,Wr);const i=Number.MAX_VALUE;o.set(-i,-i,-i),r.set(i,i,i),Wr.x===1?r.x=e.x:Wr.x===-1&&(o.x=e.x),Wr.y===1?r.y=e.y:Wr.y===-1&&(o.y=e.y),Wr.z===1?r.z=e.z:Wr.z===-1&&(o.z=e.z)}updateBoundingSphereRadius(){this.boundingSphereRadius=Number.MAX_VALUE}}const Wr=new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new R;new Lo;new R;new Lo;new R;new R;new R;new R;new R;new R;new R;new Lo;new R;new Dt;new Lo;class wV{constructor(){this.equations=[]}solve(e,a){return 0}addEquation(e){e.enabled&&!e.bi.isTrigger&&!e.bj.isTrigger&&this.equations.push(e)}removeEquation(e){const a=this.equations,o=a.indexOf(e);o!==-1&&a.splice(o,1)}removeAllEquations(){this.equations.length=0}}class EV extends wV{constructor(){super(),this.iterations=10,this.tolerance=1e-7}solve(e,a){let o=0;const r=this.iterations,i=this.tolerance*this.tolerance,n=this.equations,s=n.length,l=a.bodies,c=l.length,d=e;let m,u,v,h,p,f;if(s!==0)for(let b=0;b!==c;b++)l[b].updateSolveMassProperties();const g=CV,y=AV,x=SV;g.length=s,y.length=s,x.length=s;for(let b=0;b!==s;b++){const w=n[b];x[b]=0,y[b]=w.computeB(d),g[b]=1/w.computeC()}if(s!==0){for(let _=0;_!==c;_++){const S=l[_],E=S.vlambda,A=S.wlambda;E.set(0,0,0),A.set(0,0,0)}for(o=0;o!==r;o++){h=0;for(let _=0;_!==s;_++){const S=n[_];m=y[_],u=g[_],f=x[_],p=S.computeGWlambda(),v=u*(m-p-S.eps*f),f+v<S.minForce?v=S.minForce-f:f+v>S.maxForce&&(v=S.maxForce-f),x[_]+=v,h+=v>0?v:-v,S.addToWlambda(v)}if(h*h<i)break}for(let _=0;_!==c;_++){const S=l[_],E=S.velocity,A=S.angularVelocity;S.vlambda.vmul(S.linearFactor,S.vlambda),E.vadd(S.vlambda,E),S.wlambda.vmul(S.angularFactor,S.wlambda),A.vadd(S.wlambda,A)}let b=n.length;const w=1/d;for(;b--;)n[b].multiplier=x[b]*w}return o}}const SV=[],CV=[],AV=[];Ee.STATIC;class MV{constructor(){this.objects=[],this.type=Object}release(){const e=arguments.length;for(let a=0;a!==e;a++)this.objects.push(a<0||arguments.length<=a?void 0:arguments[a]);return this}get(){return this.objects.length===0?this.constructObject():this.objects.pop()}constructObject(){throw new Error("constructObject() not implemented in this Pool subclass yet!")}resize(e){const a=this.objects;for(;a.length>e;)a.pop();for(;a.length<e;)a.push(this.constructObject());return this}}class RV extends MV{constructor(){super(...arguments),this.type=R}constructObject(){return new R}}const $t={sphereSphere:Be.types.SPHERE,spherePlane:Be.types.SPHERE|Be.types.PLANE,boxBox:Be.types.BOX|Be.types.BOX,sphereBox:Be.types.SPHERE|Be.types.BOX,planeBox:Be.types.PLANE|Be.types.BOX,convexConvex:Be.types.CONVEXPOLYHEDRON,sphereConvex:Be.types.SPHERE|Be.types.CONVEXPOLYHEDRON,planeConvex:Be.types.PLANE|Be.types.CONVEXPOLYHEDRON,boxConvex:Be.types.BOX|Be.types.CONVEXPOLYHEDRON,sphereHeightfield:Be.types.SPHERE|Be.types.HEIGHTFIELD,boxHeightfield:Be.types.BOX|Be.types.HEIGHTFIELD,convexHeightfield:Be.types.CONVEXPOLYHEDRON|Be.types.HEIGHTFIELD,sphereParticle:Be.types.PARTICLE|Be.types.SPHERE,planeParticle:Be.types.PLANE|Be.types.PARTICLE,boxParticle:Be.types.BOX|Be.types.PARTICLE,convexParticle:Be.types.PARTICLE|Be.types.CONVEXPOLYHEDRON,cylinderCylinder:Be.types.CYLINDER,sphereCylinder:Be.types.SPHERE|Be.types.CYLINDER,planeCylinder:Be.types.PLANE|Be.types.CYLINDER,boxCylinder:Be.types.BOX|Be.types.CYLINDER,convexCylinder:Be.types.CONVEXPOLYHEDRON|Be.types.CYLINDER,heightfieldCylinder:Be.types.HEIGHTFIELD|Be.types.CYLINDER,particleCylinder:Be.types.PARTICLE|Be.types.CYLINDER,sphereTrimesh:Be.types.SPHERE|Be.types.TRIMESH,planeTrimesh:Be.types.PLANE|Be.types.TRIMESH};class TV{get[$t.sphereSphere](){return this.sphereSphere}get[$t.spherePlane](){return this.spherePlane}get[$t.boxBox](){return this.boxBox}get[$t.sphereBox](){return this.sphereBox}get[$t.planeBox](){return this.planeBox}get[$t.convexConvex](){return this.convexConvex}get[$t.sphereConvex](){return this.sphereConvex}get[$t.planeConvex](){return this.planeConvex}get[$t.boxConvex](){return this.boxConvex}get[$t.sphereHeightfield](){return this.sphereHeightfield}get[$t.boxHeightfield](){return this.boxHeightfield}get[$t.convexHeightfield](){return this.convexHeightfield}get[$t.sphereParticle](){return this.sphereParticle}get[$t.planeParticle](){return this.planeParticle}get[$t.boxParticle](){return this.boxParticle}get[$t.convexParticle](){return this.convexParticle}get[$t.cylinderCylinder](){return this.convexConvex}get[$t.sphereCylinder](){return this.sphereConvex}get[$t.planeCylinder](){return this.planeConvex}get[$t.boxCylinder](){return this.boxConvex}get[$t.convexCylinder](){return this.convexConvex}get[$t.heightfieldCylinder](){return this.heightfieldCylinder}get[$t.particleCylinder](){return this.particleCylinder}get[$t.sphereTrimesh](){return this.sphereTrimesh}get[$t.planeTrimesh](){return this.planeTrimesh}constructor(e){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new RV,this.world=e,this.currentContactMaterial=e.defaultContactMaterial,this.enableFrictionReduction=!1}createContactEquation(e,a,o,r,i,n){let s;this.contactPointPool.length?(s=this.contactPointPool.pop(),s.bi=e,s.bj=a):s=new dV(e,a),s.enabled=e.collisionResponse&&a.collisionResponse&&o.collisionResponse&&r.collisionResponse;const l=this.currentContactMaterial;s.restitution=l.restitution,s.setSpookParams(l.contactEquationStiffness,l.contactEquationRelaxation,this.world.dt);const c=o.material||e.material,d=r.material||a.material;return c&&d&&c.restitution>=0&&d.restitution>=0&&(s.restitution=c.restitution*d.restitution),s.si=i||o,s.sj=n||r,s}createFrictionEquationsFromContact(e,a){const o=e.bi,r=e.bj,i=e.si,n=e.sj,s=this.world,l=this.currentContactMaterial;let c=l.friction;const d=i.material||o.material,m=n.material||r.material;if(d&&m&&d.friction>=0&&m.friction>=0&&(c=d.friction*m.friction),c>0){const u=c*(s.frictionGravity||s.gravity).length();let v=o.invMass+r.invMass;v>0&&(v=1/v);const h=this.frictionEquationPool,p=h.length?h.pop():new P3(o,r,u*v),f=h.length?h.pop():new P3(o,r,u*v);return p.bi=f.bi=o,p.bj=f.bj=r,p.minForce=f.minForce=-u*v,p.maxForce=f.maxForce=u*v,p.ri.copy(e.ri),p.rj.copy(e.rj),f.ri.copy(e.ri),f.rj.copy(e.rj),e.ni.tangents(p.t,f.t),p.setSpookParams(l.frictionEquationStiffness,l.frictionEquationRelaxation,s.dt),f.setSpookParams(l.frictionEquationStiffness,l.frictionEquationRelaxation,s.dt),p.enabled=f.enabled=e.enabled,a.push(p,f),!0}return!1}createFrictionFromAverage(e){let a=this.result[this.result.length-1];if(!this.createFrictionEquationsFromContact(a,this.frictionResult)||e===1)return;const o=this.frictionResult[this.frictionResult.length-2],r=this.frictionResult[this.frictionResult.length-1];pn.setZero(),Ls.setZero(),Ds.setZero();const i=a.bi;a.bj;for(let s=0;s!==e;s++)a=this.result[this.result.length-1-s],a.bi!==i?(pn.vadd(a.ni,pn),Ls.vadd(a.ri,Ls),Ds.vadd(a.rj,Ds)):(pn.vsub(a.ni,pn),Ls.vadd(a.rj,Ls),Ds.vadd(a.ri,Ds));const n=1/e;Ls.scale(n,o.ri),Ds.scale(n,o.rj),r.ri.copy(o.ri),r.rj.copy(o.rj),pn.normalize(),pn.tangents(o.t,r.t)}getContacts(e,a,o,r,i,n,s){this.contactPointPool=i,this.frictionEquationPool=s,this.result=r,this.frictionResult=n;const l=DV,c=IV,d=PV,m=LV;for(let u=0,v=e.length;u!==v;u++){const h=e[u],p=a[u];let f=null;h.material&&p.material&&(f=o.getContactMaterial(h.material,p.material)||null);const g=h.type&Ee.KINEMATIC&&p.type&Ee.STATIC||h.type&Ee.STATIC&&p.type&Ee.KINEMATIC||h.type&Ee.KINEMATIC&&p.type&Ee.KINEMATIC;for(let y=0;y<h.shapes.length;y++){h.quaternion.mult(h.shapeOrientations[y],l),h.quaternion.vmult(h.shapeOffsets[y],d),d.vadd(h.position,d);const x=h.shapes[y];for(let b=0;b<p.shapes.length;b++){p.quaternion.mult(p.shapeOrientations[b],c),p.quaternion.vmult(p.shapeOffsets[b],m),m.vadd(p.position,m);const w=p.shapes[b];if(!(x.collisionFilterMask&w.collisionFilterGroup&&w.collisionFilterMask&x.collisionFilterGroup)||d.distanceTo(m)>x.boundingSphereRadius+w.boundingSphereRadius)continue;let _=null;x.material&&w.material&&(_=o.getContactMaterial(x.material,w.material)||null),this.currentContactMaterial=_||f||o.defaultContactMaterial;const S=x.type|w.type,E=this[S];if(E){let A=!1;x.type<w.type?A=E.call(this,x,w,d,m,l,c,h,p,x,w,g):A=E.call(this,w,x,m,d,c,l,p,h,x,w,g),A&&g&&(o.shapeOverlapKeeper.set(x.id,w.id),o.bodyOverlapKeeper.set(h.id,p.id))}}}}}sphereSphere(e,a,o,r,i,n,s,l,c,d,m){if(m)return o.distanceSquared(r)<(e.radius+a.radius)**2;const u=this.createContactEquation(s,l,e,a,c,d);r.vsub(o,u.ni),u.ni.normalize(),u.ri.copy(u.ni),u.rj.copy(u.ni),u.ri.scale(e.radius,u.ri),u.rj.scale(-a.radius,u.rj),u.ri.vadd(o,u.ri),u.ri.vsub(s.position,u.ri),u.rj.vadd(r,u.rj),u.rj.vsub(l.position,u.rj),this.result.push(u),this.createFrictionEquationsFromContact(u,this.frictionResult)}spherePlane(e,a,o,r,i,n,s,l,c,d,m){const u=this.createContactEquation(s,l,e,a,c,d);if(u.ni.set(0,0,1),n.vmult(u.ni,u.ni),u.ni.negate(u.ni),u.ni.normalize(),u.ni.scale(e.radius,u.ri),o.vsub(r,Hu),u.ni.scale(u.ni.dot(Hu),L3),Hu.vsub(L3,u.rj),-Hu.dot(u.ni)<=e.radius){if(m)return!0;const v=u.ri,h=u.rj;v.vadd(o,v),v.vsub(s.position,v),h.vadd(r,h),h.vsub(l.position,h),this.result.push(u),this.createFrictionEquationsFromContact(u,this.frictionResult)}}boxBox(e,a,o,r,i,n,s,l,c,d,m){return e.convexPolyhedronRepresentation.material=e.material,a.convexPolyhedronRepresentation.material=a.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,a.convexPolyhedronRepresentation.collisionResponse=a.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,a.convexPolyhedronRepresentation,o,r,i,n,s,l,e,a,m)}sphereBox(e,a,o,r,i,n,s,l,c,d,m){const u=this.v3pool,v=iH;o.vsub(r,Wu),a.getSideNormals(v,n);const h=e.radius;let p=!1;const f=sH,g=lH,y=cH;let x=null,b=0,w=0,_=0,S=null;for(let j=0,V=v.length;j!==V&&p===!1;j++){const z=aH;z.copy(v[j]);const F=z.length();z.normalize();const H=Wu.dot(z);if(H<F+h&&H>0){const oe=oH,W=rH;oe.copy(v[(j+1)%3]),W.copy(v[(j+2)%3]);const ie=oe.length(),le=W.length();oe.normalize(),W.normalize();const Ce=Wu.dot(oe),Z=Wu.dot(W);if(Ce<ie&&Ce>-ie&&Z<le&&Z>-le){const Oe=Math.abs(H-F-h);if((S===null||Oe<S)&&(S=Oe,w=Ce,_=Z,x=F,f.copy(z),g.copy(oe),y.copy(W),b++,m))return!0}}}if(b){p=!0;const j=this.createContactEquation(s,l,e,a,c,d);f.scale(-h,j.ri),j.ni.copy(f),j.ni.negate(j.ni),f.scale(x,f),g.scale(w,g),f.vadd(g,f),y.scale(_,y),f.vadd(y,j.rj),j.ri.vadd(o,j.ri),j.ri.vsub(s.position,j.ri),j.rj.vadd(r,j.rj),j.rj.vsub(l.position,j.rj),this.result.push(j),this.createFrictionEquationsFromContact(j,this.frictionResult)}let E=u.get();const A=nH;for(let j=0;j!==2&&!p;j++)for(let V=0;V!==2&&!p;V++)for(let z=0;z!==2&&!p;z++)if(E.set(0,0,0),j?E.vadd(v[0],E):E.vsub(v[0],E),V?E.vadd(v[1],E):E.vsub(v[1],E),z?E.vadd(v[2],E):E.vsub(v[2],E),r.vadd(E,A),A.vsub(o,A),A.lengthSquared()<h*h){if(m)return!0;p=!0;const F=this.createContactEquation(s,l,e,a,c,d);F.ri.copy(A),F.ri.normalize(),F.ni.copy(F.ri),F.ri.scale(h,F.ri),F.rj.copy(E),F.ri.vadd(o,F.ri),F.ri.vsub(s.position,F.ri),F.rj.vadd(r,F.rj),F.rj.vsub(l.position,F.rj),this.result.push(F),this.createFrictionEquationsFromContact(F,this.frictionResult)}u.release(E),E=null;const T=u.get(),O=u.get(),B=u.get(),N=u.get(),D=u.get(),q=v.length;for(let j=0;j!==q&&!p;j++)for(let V=0;V!==q&&!p;V++)if(j%3!==V%3){v[V].cross(v[j],T),T.normalize(),v[j].vadd(v[V],O),B.copy(o),B.vsub(O,B),B.vsub(r,B);const z=B.dot(T);T.scale(z,N);let F=0;for(;F===j%3||F===V%3;)F++;D.copy(o),D.vsub(N,D),D.vsub(O,D),D.vsub(r,D);const H=Math.abs(z),oe=D.length();if(H<v[F].length()&&oe<h){if(m)return!0;p=!0;const W=this.createContactEquation(s,l,e,a,c,d);O.vadd(N,W.rj),W.rj.copy(W.rj),D.negate(W.ni),W.ni.normalize(),W.ri.copy(W.rj),W.ri.vadd(r,W.ri),W.ri.vsub(o,W.ri),W.ri.normalize(),W.ri.scale(h,W.ri),W.ri.vadd(o,W.ri),W.ri.vsub(s.position,W.ri),W.rj.vadd(r,W.rj),W.rj.vsub(l.position,W.rj),this.result.push(W),this.createFrictionEquationsFromContact(W,this.frictionResult)}}u.release(T,O,B,N,D)}planeBox(e,a,o,r,i,n,s,l,c,d,m){return a.convexPolyhedronRepresentation.material=a.material,a.convexPolyhedronRepresentation.collisionResponse=a.collisionResponse,a.convexPolyhedronRepresentation.id=a.id,this.planeConvex(e,a.convexPolyhedronRepresentation,o,r,i,n,s,l,e,a,m)}convexConvex(e,a,o,r,i,n,s,l,c,d,m,u,v){const h=SH;if(!(o.distanceTo(r)>e.boundingSphereRadius+a.boundingSphereRadius)&&e.findSeparatingAxis(a,o,i,r,n,h,u,v)){const p=[],f=CH;e.clipAgainstHull(o,i,a,r,n,h,-100,100,p);let g=0;for(let y=0;y!==p.length;y++){if(m)return!0;const x=this.createContactEquation(s,l,e,a,c,d),b=x.ri,w=x.rj;h.negate(x.ni),p[y].normal.negate(f),f.scale(p[y].depth,f),p[y].point.vadd(f,b),w.copy(p[y].point),b.vsub(o,b),w.vsub(r,w),b.vadd(o,b),b.vsub(s.position,b),w.vadd(r,w),w.vsub(l.position,w),this.result.push(x),g++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(x,this.frictionResult)}this.enableFrictionReduction&&g&&this.createFrictionFromAverage(g)}}sphereConvex(e,a,o,r,i,n,s,l,c,d,m){const u=this.v3pool;o.vsub(r,dH);const v=a.faceNormals,h=a.faces,p=a.vertices,f=e.radius;let g=!1;for(let y=0;y!==p.length;y++){const x=p[y],b=fH;n.vmult(x,b),r.vadd(b,b);const w=pH;if(b.vsub(o,w),w.lengthSquared()<f*f){if(m)return!0;g=!0;const _=this.createContactEquation(s,l,e,a,c,d);_.ri.copy(w),_.ri.normalize(),_.ni.copy(_.ri),_.ri.scale(f,_.ri),b.vsub(r,_.rj),_.ri.vadd(o,_.ri),_.ri.vsub(s.position,_.ri),_.rj.vadd(r,_.rj),_.rj.vsub(l.position,_.rj),this.result.push(_),this.createFrictionEquationsFromContact(_,this.frictionResult);return}}for(let y=0,x=h.length;y!==x&&g===!1;y++){const b=v[y],w=h[y],_=hH;n.vmult(b,_);const S=vH;n.vmult(p[w[0]],S),S.vadd(r,S);const E=gH;_.scale(-f,E),o.vadd(E,E);const A=yH;E.vsub(S,A);const T=A.dot(_),O=xH;if(o.vsub(S,O),T<0&&O.dot(_)>0){const B=[];for(let N=0,D=w.length;N!==D;N++){const q=u.get();n.vmult(p[w[N]],q),r.vadd(q,q),B.push(q)}if(tH(B,_,o)){if(m)return!0;g=!0;const N=this.createContactEquation(s,l,e,a,c,d);_.scale(-f,N.ri),_.negate(N.ni);const D=u.get();_.scale(-T,D);const q=u.get();_.scale(-f,q),o.vsub(r,N.rj),N.rj.vadd(q,N.rj),N.rj.vadd(D,N.rj),N.rj.vadd(r,N.rj),N.rj.vsub(l.position,N.rj),N.ri.vadd(o,N.ri),N.ri.vsub(s.position,N.ri),u.release(D),u.release(q),this.result.push(N),this.createFrictionEquationsFromContact(N,this.frictionResult);for(let j=0,V=B.length;j!==V;j++)u.release(B[j]);return}else for(let N=0;N!==w.length;N++){const D=u.get(),q=u.get();n.vmult(p[w[(N+1)%w.length]],D),n.vmult(p[w[(N+2)%w.length]],q),r.vadd(D,D),r.vadd(q,q);const j=uH;q.vsub(D,j);const V=mH;j.unit(V);const z=u.get(),F=u.get();o.vsub(D,F);const H=F.dot(V);V.scale(H,z),z.vadd(D,z);const oe=u.get();if(z.vsub(o,oe),H>0&&H*H<j.lengthSquared()&&oe.lengthSquared()<f*f){if(m)return!0;const W=this.createContactEquation(s,l,e,a,c,d);z.vsub(r,W.rj),z.vsub(o,W.ni),W.ni.normalize(),W.ni.scale(f,W.ri),W.rj.vadd(r,W.rj),W.rj.vsub(l.position,W.rj),W.ri.vadd(o,W.ri),W.ri.vsub(s.position,W.ri),this.result.push(W),this.createFrictionEquationsFromContact(W,this.frictionResult);for(let ie=0,le=B.length;ie!==le;ie++)u.release(B[ie]);u.release(D),u.release(q),u.release(z),u.release(oe),u.release(F);return}u.release(D),u.release(q),u.release(z),u.release(oe),u.release(F)}for(let N=0,D=B.length;N!==D;N++)u.release(B[N])}}}planeConvex(e,a,o,r,i,n,s,l,c,d,m){const u=bH,v=_H;v.set(0,0,1),i.vmult(v,v);let h=0;const p=wH;for(let f=0;f!==a.vertices.length;f++)if(u.copy(a.vertices[f]),n.vmult(u,u),r.vadd(u,u),u.vsub(o,p),v.dot(p)<=0){if(m)return!0;const g=this.createContactEquation(s,l,e,a,c,d),y=EH;v.scale(v.dot(p),y),u.vsub(y,y),y.vsub(o,g.ri),g.ni.copy(v),u.vsub(r,g.rj),g.ri.vadd(o,g.ri),g.ri.vsub(s.position,g.ri),g.rj.vadd(r,g.rj),g.rj.vsub(l.position,g.rj),this.result.push(g),h++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(g,this.frictionResult)}this.enableFrictionReduction&&h&&this.createFrictionFromAverage(h)}boxConvex(e,a,o,r,i,n,s,l,c,d,m){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,a,o,r,i,n,s,l,e,a,m)}sphereHeightfield(e,a,o,r,i,n,s,l,c,d,m){const u=a.data,v=e.radius,h=a.elementSize,p=NH,f=zH;Dt.pointToLocalFrame(r,n,o,f);let g=Math.floor((f.x-v)/h)-1,y=Math.ceil((f.x+v)/h)+1,x=Math.floor((f.y-v)/h)-1,b=Math.ceil((f.y+v)/h)+1;if(y<0||b<0||g>u.length||x>u[0].length)return;g<0&&(g=0),y<0&&(y=0),x<0&&(x=0),b<0&&(b=0),g>=u.length&&(g=u.length-1),y>=u.length&&(y=u.length-1),b>=u[0].length&&(b=u[0].length-1),x>=u[0].length&&(x=u[0].length-1);const w=[];a.getRectMinMax(g,x,y,b,w);const _=w[0],S=w[1];if(f.z-v>S||f.z+v<_)return;const E=this.result;for(let A=g;A<y;A++)for(let T=x;T<b;T++){const O=E.length;let B=!1;if(a.getConvexTrianglePillar(A,T,!1),Dt.pointToWorldFrame(r,n,a.pillarOffset,p),o.distanceTo(p)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(B=this.sphereConvex(e,a.pillarConvex,o,p,i,n,s,l,e,a,m)),m&&B||(a.getConvexTrianglePillar(A,T,!0),Dt.pointToWorldFrame(r,n,a.pillarOffset,p),o.distanceTo(p)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(B=this.sphereConvex(e,a.pillarConvex,o,p,i,n,s,l,e,a,m)),m&&B))return!0;if(E.length-O>2)return}}boxHeightfield(e,a,o,r,i,n,s,l,c,d,m){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexHeightfield(e.convexPolyhedronRepresentation,a,o,r,i,n,s,l,e,a,m)}convexHeightfield(e,a,o,r,i,n,s,l,c,d,m){const u=a.data,v=a.elementSize,h=e.boundingSphereRadius,p=OH,f=kH,g=IH;Dt.pointToLocalFrame(r,n,o,g);let y=Math.floor((g.x-h)/v)-1,x=Math.ceil((g.x+h)/v)+1,b=Math.floor((g.y-h)/v)-1,w=Math.ceil((g.y+h)/v)+1;if(x<0||w<0||y>u.length||b>u[0].length)return;y<0&&(y=0),x<0&&(x=0),b<0&&(b=0),w<0&&(w=0),y>=u.length&&(y=u.length-1),x>=u.length&&(x=u.length-1),w>=u[0].length&&(w=u[0].length-1),b>=u[0].length&&(b=u[0].length-1);const _=[];a.getRectMinMax(y,b,x,w,_);const S=_[0],E=_[1];if(!(g.z-h>E||g.z+h<S))for(let A=y;A<x;A++)for(let T=b;T<w;T++){let O=!1;if(a.getConvexTrianglePillar(A,T,!1),Dt.pointToWorldFrame(r,n,a.pillarOffset,p),o.distanceTo(p)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(O=this.convexConvex(e,a.pillarConvex,o,p,i,n,s,l,null,null,m,f,null)),m&&O||(a.getConvexTrianglePillar(A,T,!0),Dt.pointToWorldFrame(r,n,a.pillarOffset,p),o.distanceTo(p)<a.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(O=this.convexConvex(e,a.pillarConvex,o,p,i,n,s,l,null,null,m,f,null)),m&&O))return!0}}sphereParticle(e,a,o,r,i,n,s,l,c,d,m){const u=TH;if(u.set(0,0,1),r.vsub(o,u),u.lengthSquared()<=e.radius*e.radius){if(m)return!0;const v=this.createContactEquation(l,s,a,e,c,d);u.normalize(),v.rj.copy(u),v.rj.scale(e.radius,v.rj),v.ni.copy(u),v.ni.negate(v.ni),v.ri.set(0,0,0),this.result.push(v),this.createFrictionEquationsFromContact(v,this.frictionResult)}}planeParticle(e,a,o,r,i,n,s,l,c,d,m){const u=AH;u.set(0,0,1),s.quaternion.vmult(u,u);const v=MH;if(r.vsub(s.position,v),u.dot(v)<=0){if(m)return!0;const h=this.createContactEquation(l,s,a,e,c,d);h.ni.copy(u),h.ni.negate(h.ni),h.ri.set(0,0,0);const p=RH;u.scale(u.dot(r),p),r.vsub(p,p),h.rj.copy(p),this.result.push(h),this.createFrictionEquationsFromContact(h,this.frictionResult)}}boxParticle(e,a,o,r,i,n,s,l,c,d,m){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexParticle(e.convexPolyhedronRepresentation,a,o,r,i,n,s,l,e,a,m)}convexParticle(e,a,o,r,i,n,s,l,c,d,m){let u=-1;const v=LH,h=DH;let p=null;const f=PH;if(f.copy(r),f.vsub(o,f),i.conjugate(D3),D3.vmult(f,f),e.pointIsInside(f)){e.worldVerticesNeedsUpdate&&e.computeWorldVertices(o,i),e.worldFaceNormalsNeedsUpdate&&e.computeWorldFaceNormals(i);for(let g=0,y=e.faces.length;g!==y;g++){const x=[e.worldVertices[e.faces[g][0]]],b=e.worldFaceNormals[g];r.vsub(x[0],I3);const w=-b.dot(I3);if(p===null||Math.abs(w)<Math.abs(p)){if(m)return!0;p=w,u=g,v.copy(b)}}if(u!==-1){const g=this.createContactEquation(l,s,a,e,c,d);v.scale(p,h),h.vadd(r,h),h.vsub(o,h),g.rj.copy(h),v.negate(g.ni),g.ri.set(0,0,0);const y=g.ri,x=g.rj;y.vadd(r,y),y.vsub(l.position,y),x.vadd(o,x),x.vsub(s.position,x),this.result.push(g),this.createFrictionEquationsFromContact(g,this.frictionResult)}else console.warn("Point found inside convex, but did not find penetrating face!")}}heightfieldCylinder(e,a,o,r,i,n,s,l,c,d,m){return this.convexHeightfield(a,e,r,o,n,i,l,s,c,d,m)}particleCylinder(e,a,o,r,i,n,s,l,c,d,m){return this.convexParticle(a,e,r,o,n,i,l,s,c,d,m)}sphereTrimesh(e,a,o,r,i,n,s,l,c,d,m){const u=BV,v=$V,h=UV,p=VV,f=HV,g=WV,y=YV,x=jV,b=FV,w=KV;Dt.pointToLocalFrame(r,n,o,f);const _=e.radius;y.lowerBound.set(f.x-_,f.y-_,f.z-_),y.upperBound.set(f.x+_,f.y+_,f.z+_),a.getTrianglesInAABB(y,w);const S=qV,E=e.radius*e.radius;for(let N=0;N<w.length;N++)for(let D=0;D<3;D++)if(a.getVertex(a.indices[w[N]*3+D],S),S.vsub(f,b),b.lengthSquared()<=E){if(x.copy(S),Dt.pointToWorldFrame(r,n,x,S),S.vsub(o,b),m)return!0;let q=this.createContactEquation(s,l,e,a,c,d);q.ni.copy(b),q.ni.normalize(),q.ri.copy(q.ni),q.ri.scale(e.radius,q.ri),q.ri.vadd(o,q.ri),q.ri.vsub(s.position,q.ri),q.rj.copy(S),q.rj.vsub(l.position,q.rj),this.result.push(q),this.createFrictionEquationsFromContact(q,this.frictionResult)}for(let N=0;N<w.length;N++)for(let D=0;D<3;D++){a.getVertex(a.indices[w[N]*3+D],u),a.getVertex(a.indices[w[N]*3+(D+1)%3],v),v.vsub(u,h),f.vsub(v,g);const q=g.dot(h);f.vsub(u,g);let j=g.dot(h);if(j>0&&q<0&&(f.vsub(u,g),p.copy(h),p.normalize(),j=g.dot(p),p.scale(j,g),g.vadd(u,g),g.distanceTo(f)<e.radius)){if(m)return!0;const V=this.createContactEquation(s,l,e,a,c,d);g.vsub(f,V.ni),V.ni.normalize(),V.ni.scale(e.radius,V.ri),V.ri.vadd(o,V.ri),V.ri.vsub(s.position,V.ri),Dt.pointToWorldFrame(r,n,g,g),g.vsub(l.position,V.rj),Dt.vectorToWorldFrame(n,V.ni,V.ni),Dt.vectorToWorldFrame(n,V.ri,V.ri),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult)}}const A=GV,T=ZV,O=XV,B=NV;for(let N=0,D=w.length;N!==D;N++){a.getTriangleVertices(w[N],A,T,O),a.getNormal(w[N],B),f.vsub(A,g);let q=g.dot(B);if(B.scale(q,g),f.vsub(g,g),q=g.distanceTo(f),ma.pointInTriangle(g,A,T,O)&&q<e.radius){if(m)return!0;let j=this.createContactEquation(s,l,e,a,c,d);g.vsub(f,j.ni),j.ni.normalize(),j.ni.scale(e.radius,j.ri),j.ri.vadd(o,j.ri),j.ri.vsub(s.position,j.ri),Dt.pointToWorldFrame(r,n,g,g),g.vsub(l.position,j.rj),Dt.vectorToWorldFrame(n,j.ni,j.ni),Dt.vectorToWorldFrame(n,j.ri,j.ri),this.result.push(j),this.createFrictionEquationsFromContact(j,this.frictionResult)}}w.length=0}planeTrimesh(e,a,o,r,i,n,s,l,c,d,m){const u=new R,v=OV;v.set(0,0,1),i.vmult(v,v);for(let h=0;h<a.vertices.length/3;h++){a.getVertex(h,u);const p=new R;p.copy(u),Dt.pointToWorldFrame(r,n,p,u);const f=kV;if(u.vsub(o,f),v.dot(f)<=0){if(m)return!0;const g=this.createContactEquation(s,l,e,a,c,d);g.ni.copy(v);const y=zV;v.scale(f.dot(v),y),u.vsub(y,y),g.ri.copy(y),g.ri.vsub(s.position,g.ri),g.rj.copy(u),g.rj.vsub(l.position,g.rj),this.result.push(g),this.createFrictionEquationsFromContact(g,this.frictionResult)}}}}const pn=new R,Ls=new R,Ds=new R,PV=new R,LV=new R,DV=new fa,IV=new fa,OV=new R,kV=new R,zV=new R,NV=new R,FV=new R;new R;const qV=new R,jV=new R,BV=new R,$V=new R,UV=new R,VV=new R,HV=new R,WV=new R,GV=new R,ZV=new R,XV=new R,YV=new Lo,KV=[],Hu=new R,L3=new R,QV=new R,JV=new R,eH=new R;function tH(t,e,a){let o=null;const r=t.length;for(let i=0;i!==r;i++){const n=t[i],s=QV;t[(i+1)%r].vsub(n,s);const l=JV;s.cross(e,l);const c=eH;a.vsub(n,c);const d=l.dot(c);if(o===null||d>0&&o===!0||d<=0&&o===!1){o===null&&(o=d>0);continue}else return!1}return!0}const Wu=new R,aH=new R,oH=new R,rH=new R,iH=[new R,new R,new R,new R,new R,new R],nH=new R,sH=new R,lH=new R,cH=new R,dH=new R,uH=new R,mH=new R,pH=new R,fH=new R,hH=new R,vH=new R,gH=new R,yH=new R,xH=new R;new R;new R;const bH=new R,_H=new R,wH=new R,EH=new R,SH=new R,CH=new R,AH=new R,MH=new R,RH=new R,TH=new R,D3=new fa,PH=new R;new R;const LH=new R,I3=new R,DH=new R,IH=new R,OH=new R,kH=[0],zH=new R,NH=new R;class O3{constructor(){this.current=[],this.previous=[]}getKey(e,a){if(a<e){const o=a;a=e,e=o}return e<<16|a}set(e,a){const o=this.getKey(e,a),r=this.current;let i=0;for(;o>r[i];)i++;if(o!==r[i]){for(let n=r.length-1;n>=i;n--)r[n+1]=r[n];r[i]=o}}tick(){const e=this.current;this.current=this.previous,this.previous=e,this.current.length=0}getDiff(e,a){const o=this.current,r=this.previous,i=o.length,n=r.length;let s=0;for(let l=0;l<i;l++){let c=!1;const d=o[l];for(;d>r[s];)s++;c=d===r[s],c||k3(e,d)}s=0;for(let l=0;l<n;l++){let c=!1;const d=r[l];for(;d>o[s];)s++;c=o[s]===d,c||k3(a,d)}}}function k3(t,e){t.push((e&4294901760)>>16,e&65535)}const av=(t,e)=>t<e?`${t}-${e}`:`${e}-${t}`;class FH{constructor(){this.data={keys:[]}}get(e,a){const o=av(e,a);return this.data[o]}set(e,a,o){const r=av(e,a);this.get(e,a)||this.data.keys.push(r),this.data[r]=o}delete(e,a){const o=av(e,a),r=this.data.keys.indexOf(o);r!==-1&&this.data.keys.splice(r,1),delete this.data[o]}reset(){const e=this.data,a=e.keys;for(;a.length>0;){const o=a.pop();delete e[o]}}}class qH extends $5{constructor(e){e===void 0&&(e={}),super(),this.dt=-1,this.allowSleep=!!e.allowSleep,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=e.quatNormalizeSkip!==void 0?e.quatNormalizeSkip:0,this.quatNormalizeFast=e.quatNormalizeFast!==void 0?e.quatNormalizeFast:!1,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new R,e.gravity&&this.gravity.copy(e.gravity),e.frictionGravity&&(this.frictionGravity=new R,this.frictionGravity.copy(e.frictionGravity)),this.broadphase=e.broadphase!==void 0?e.broadphase:new U5,this.bodies=[],this.hasActiveBodies=!1,this.solver=e.solver!==void 0?e.solver:new EV,this.constraints=[],this.narrowphase=new TV(this),this.collisionMatrix=new b3,this.collisionMatrixPrevious=new b3,this.bodyOverlapKeeper=new O3,this.shapeOverlapKeeper=new O3,this.contactmaterials=[],this.contactMaterialTable=new FH,this.defaultMaterial=new Un("default"),this.defaultContactMaterial=new $n(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.accumulator=0,this.subsystems=[],this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.idToBodyMap={},this.broadphase.setWorld(this)}getContactMaterial(e,a){return this.contactMaterialTable.get(e.id,a.id)}collisionMatrixTick(){const e=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=e,this.collisionMatrix.reset(),this.bodyOverlapKeeper.tick(),this.shapeOverlapKeeper.tick()}addConstraint(e){this.constraints.push(e)}removeConstraint(e){const a=this.constraints.indexOf(e);a!==-1&&this.constraints.splice(a,1)}rayTest(e,a,o){o instanceof dp?this.raycastClosest(e,a,{skipBackfaces:!0},o):this.raycastAll(e,a,{skipBackfaces:!0},o)}raycastAll(e,a,o,r){return o===void 0&&(o={}),o.mode=ma.ALL,o.from=e,o.to=a,o.callback=r,ov.intersectWorld(this,o)}raycastAny(e,a,o,r){return o===void 0&&(o={}),o.mode=ma.ANY,o.from=e,o.to=a,o.result=r,ov.intersectWorld(this,o)}raycastClosest(e,a,o,r){return o===void 0&&(o={}),o.mode=ma.CLOSEST,o.from=e,o.to=a,o.result=r,ov.intersectWorld(this,o)}addBody(e){this.bodies.includes(e)||(e.index=this.bodies.length,this.bodies.push(e),e.world=this,e.initPosition.copy(e.position),e.initVelocity.copy(e.velocity),e.timeLastSleepy=this.time,e instanceof Ee&&(e.initAngularVelocity.copy(e.angularVelocity),e.initQuaternion.copy(e.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=e,this.idToBodyMap[e.id]=e,this.dispatchEvent(this.addBodyEvent))}removeBody(e){e.world=null;const a=this.bodies.length-1,o=this.bodies,r=o.indexOf(e);if(r!==-1){o.splice(r,1);for(let i=0;i!==o.length;i++)o[i].index=i;this.collisionMatrix.setNumObjects(a),this.removeBodyEvent.body=e,delete this.idToBodyMap[e.id],this.dispatchEvent(this.removeBodyEvent)}}getBodyById(e){return this.idToBodyMap[e]}getShapeById(e){const a=this.bodies;for(let o=0;o<a.length;o++){const r=a[o].shapes;for(let i=0;i<r.length;i++){const n=r[i];if(n.id===e)return n}}return null}addContactMaterial(e){this.contactmaterials.push(e),this.contactMaterialTable.set(e.materials[0].id,e.materials[1].id,e)}removeContactMaterial(e){const a=this.contactmaterials.indexOf(e);a!==-1&&(this.contactmaterials.splice(a,1),this.contactMaterialTable.delete(e.materials[0].id,e.materials[1].id))}fixedStep(e,a){e===void 0&&(e=1/60),a===void 0&&(a=10);const o=ga.now()/1e3;if(!this.lastCallTime)this.step(e,void 0,a);else{const r=o-this.lastCallTime;this.step(e,r,a)}this.lastCallTime=o}step(e,a,o){if(o===void 0&&(o=10),a===void 0)this.internalStep(e),this.time+=e;else{this.accumulator+=a;const r=ga.now();let i=0;for(;this.accumulator>=e&&i<o&&(this.internalStep(e),this.accumulator-=e,i++,!(ga.now()-r>e*1e3)););this.accumulator=this.accumulator%e;const n=this.accumulator/e;for(let s=0;s!==this.bodies.length;s++){const l=this.bodies[s];l.previousPosition.lerp(l.position,n,l.interpolatedPosition),l.previousQuaternion.slerp(l.quaternion,n,l.interpolatedQuaternion),l.previousQuaternion.normalize()}this.time+=a}}internalStep(e){this.dt=e;const a=this.contacts,o=VH,r=HH,i=this.bodies.length,n=this.bodies,s=this.solver,l=this.gravity,c=this.doProfiling,d=this.profile,m=Ee.DYNAMIC;let u=-1/0;const v=this.constraints,h=UH;l.length();const p=l.x,f=l.y,g=l.z;let y=0;for(c&&(u=ga.now()),y=0;y!==i;y++){const B=n[y];if(B.type===m){const N=B.force,D=B.mass;N.x+=D*p,N.y+=D*f,N.z+=D*g}}for(let B=0,N=this.subsystems.length;B!==N;B++)this.subsystems[B].update();c&&(u=ga.now()),o.length=0,r.length=0,this.broadphase.collisionPairs(this,o,r),c&&(d.broadphase=ga.now()-u);let x=v.length;for(y=0;y!==x;y++){const B=v[y];if(!B.collideConnected)for(let N=o.length-1;N>=0;N-=1)(B.bodyA===o[N]&&B.bodyB===r[N]||B.bodyB===o[N]&&B.bodyA===r[N])&&(o.splice(N,1),r.splice(N,1))}this.collisionMatrixTick(),c&&(u=ga.now());const b=$H,w=a.length;for(y=0;y!==w;y++)b.push(a[y]);a.length=0;const _=this.frictionEquations.length;for(y=0;y!==_;y++)h.push(this.frictionEquations[y]);for(this.frictionEquations.length=0,this.narrowphase.getContacts(o,r,this,a,b,this.frictionEquations,h),c&&(d.narrowphase=ga.now()-u),c&&(u=ga.now()),y=0;y<this.frictionEquations.length;y++)s.addEquation(this.frictionEquations[y]);const S=a.length;for(let B=0;B!==S;B++){const N=a[B],D=N.bi,q=N.bj,j=N.si,V=N.sj;let z;if(D.material&&q.material?z=this.getContactMaterial(D.material,q.material)||this.defaultContactMaterial:z=this.defaultContactMaterial,z.friction,D.material&&q.material&&(D.material.friction>=0&&q.material.friction>=0&&D.material.friction*q.material.friction,D.material.restitution>=0&&q.material.restitution>=0&&(N.restitution=D.material.restitution*q.material.restitution)),s.addEquation(N),D.allowSleep&&D.type===Ee.DYNAMIC&&D.sleepState===Ee.SLEEPING&&q.sleepState===Ee.AWAKE&&q.type!==Ee.STATIC){const F=q.velocity.lengthSquared()+q.angularVelocity.lengthSquared(),H=q.sleepSpeedLimit**2;F>=H*2&&(D.wakeUpAfterNarrowphase=!0)}if(q.allowSleep&&q.type===Ee.DYNAMIC&&q.sleepState===Ee.SLEEPING&&D.sleepState===Ee.AWAKE&&D.type!==Ee.STATIC){const F=D.velocity.lengthSquared()+D.angularVelocity.lengthSquared(),H=D.sleepSpeedLimit**2;F>=H*2&&(q.wakeUpAfterNarrowphase=!0)}this.collisionMatrix.set(D,q,!0),this.collisionMatrixPrevious.get(D,q)||(uc.body=q,uc.contact=N,D.dispatchEvent(uc),uc.body=D,q.dispatchEvent(uc)),this.bodyOverlapKeeper.set(D.id,q.id),this.shapeOverlapKeeper.set(j.id,V.id)}for(this.emitContactEvents(),c&&(d.makeContactConstraints=ga.now()-u,u=ga.now()),y=0;y!==i;y++){const B=n[y];B.wakeUpAfterNarrowphase&&(B.wakeUp(),B.wakeUpAfterNarrowphase=!1)}for(x=v.length,y=0;y!==x;y++){const B=v[y];B.update();for(let N=0,D=B.equations.length;N!==D;N++){const q=B.equations[N];s.addEquation(q)}}s.solve(e,this),c&&(d.solve=ga.now()-u),s.removeAllEquations();const E=Math.pow;for(y=0;y!==i;y++){const B=n[y];if(B.type&m){const N=E(1-B.linearDamping,e),D=B.velocity;D.scale(N,D);const q=B.angularVelocity;if(q){const j=E(1-B.angularDamping,e);q.scale(j,q)}}}this.dispatchEvent(BH),c&&(u=ga.now());const A=this.stepnumber%(this.quatNormalizeSkip+1)===0,T=this.quatNormalizeFast;for(y=0;y!==i;y++)n[y].integrate(e,A,T);this.clearForces(),this.broadphase.dirty=!0,c&&(d.integrate=ga.now()-u),this.stepnumber+=1,this.dispatchEvent(jH);let O=!0;if(this.allowSleep)for(O=!1,y=0;y!==i;y++){const B=n[y];B.sleepTick(this.time),B.sleepState!==Ee.SLEEPING&&(O=!0)}this.hasActiveBodies=O}emitContactEvents(){const e=this.hasAnyEventListener("beginContact"),a=this.hasAnyEventListener("endContact");if((e||a)&&this.bodyOverlapKeeper.getDiff(Gr,Zr),e){for(let i=0,n=Gr.length;i<n;i+=2)mc.bodyA=this.getBodyById(Gr[i]),mc.bodyB=this.getBodyById(Gr[i+1]),this.dispatchEvent(mc);mc.bodyA=mc.bodyB=null}if(a){for(let i=0,n=Zr.length;i<n;i+=2)pc.bodyA=this.getBodyById(Zr[i]),pc.bodyB=this.getBodyById(Zr[i+1]),this.dispatchEvent(pc);pc.bodyA=pc.bodyB=null}Gr.length=Zr.length=0;const o=this.hasAnyEventListener("beginShapeContact"),r=this.hasAnyEventListener("endShapeContact");if((o||r)&&this.shapeOverlapKeeper.getDiff(Gr,Zr),o){for(let i=0,n=Gr.length;i<n;i+=2){const s=this.getShapeById(Gr[i]),l=this.getShapeById(Gr[i+1]);Xr.shapeA=s,Xr.shapeB=l,s&&(Xr.bodyA=s.body),l&&(Xr.bodyB=l.body),this.dispatchEvent(Xr)}Xr.bodyA=Xr.bodyB=Xr.shapeA=Xr.shapeB=null}if(r){for(let i=0,n=Zr.length;i<n;i+=2){const s=this.getShapeById(Zr[i]),l=this.getShapeById(Zr[i+1]);Yr.shapeA=s,Yr.shapeB=l,s&&(Yr.bodyA=s.body),l&&(Yr.bodyB=l.body),this.dispatchEvent(Yr)}Yr.bodyA=Yr.bodyB=Yr.shapeA=Yr.shapeB=null}}clearForces(){const e=this.bodies,a=e.length;for(let o=0;o!==a;o++){const r=e[o];r.force,r.torque,r.force.set(0,0,0),r.torque.set(0,0,0)}}}new Lo;const ov=new ma,ga=globalThis.performance||{};if(!ga.now){let t=Date.now();ga.timing&&ga.timing.navigationStart&&(t=ga.timing.navigationStart),ga.now=()=>Date.now()-t}new R;const jH={type:"postStep"},BH={type:"preStep"},uc={type:Ee.COLLIDE_EVENT_NAME,body:null,contact:null},$H=[],UH=[],VH=[],HH=[],Gr=[],Zr=[],mc={type:"beginContact",bodyA:null,bodyB:null},pc={type:"endContact",bodyA:null,bodyB:null},Xr={type:"beginShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null},Yr={type:"endShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null};class z3{constructor(e){typeof e=="object"&&(e=e.notation),this.set=[],this.setkeys=[],this.setid=0,this.groups=[],this.totalDice=0,this.op="",this.constant=null,this.result=[],this.error=!1,this.boost=1,this.notation="",this.vectors=[],(!e||e=="0")&&(this.error=!0),this.parseNotation(e)}parseNotation(e){if(e){let u=e.split("!").length-1||0;u>0&&(this.boost=Math.min(Math.max(u,0),3)*4),e=e.split("!").join(""),e=e.split(" ").join("");let v=e.split("(").length-1,h=e.split(")").length-1;v!=h&&(this.error=!0)}const a=this.notation.length>0?"+":"";this.notation+=a+e;let o=e.split("@"),r=o[0],i=new RegExp(/(\+|\-|\*|\/|\%|\^|){0,1}()(\d*)([a-z]+\d+|[a-z]+|)(?:\{([a-z]+)(.*?|)\}|)()/,"i"),n=new RegExp(/(\b)*(\-\d+|\d+)(\b)*/,"gi"),s,l=0,c=30,d=0,m=0;for(;!this.error&&r.length>0&&(s=i.exec(r))!==null&&l<c;){l++,r=r.substring(s[0].length);let u=s[1],v=s[2]&&s[2].length>0,h=s[3],p=s[4],f=s[5]||"",g=s[6]||"",y=s[7]&&s[7].length>0,x=!0;v&&(d+=s[2].length),g=g.split(","),(!g||g.length<1)&&(g=""),g.shift(),l==1&&r.length==0&&!p&&u&&h?(p="d20",this.op=u,this.constant=parseInt(h),h=1):l>1&&r.length==0&&!p&&(this.op=u,this.constant=parseInt(h),x=!1),x&&this.addSet(h,p,m,d,f,g,u),y&&(d-=s[7].length,m+=s[7].length)}!this.error&&o[1]&&(s=o[1].match(n))!==null&&this.result.push(...s)}stringify(e=!0){let a="";if(this.set.length<1)return a;for(let o=0;o<this.set.length;o++){let r=this.set[o];a+=o>0&&r.op?r.op:"",a+=r.num+r.type,r.func&&(a+="{",a+=r.func?r.func:"",a+=r.args?","+(Array.isArray(r.args)?r.args.join(","):r.args):"",a+="}")}return a+=this.constant?this.op+""+Math.abs(this.constant):"",e&&this.result&&this.result.length>0&&(a+="@"+this.result.join(",")),this.boost>1&&(a+="!".repeat(this.boost/4)),a}addSet(e,a,o=0,r=0,i="",n="",s="+"){e=Math.abs(parseInt(e||1));let l=s+""+a+o+r+i+n,c=this.setkeys[l]!=null,d={};c&&(d=this.set[this.setkeys[l]-1]),e>0&&(d.num=c?e+d.num:e,d.type=a,d.sid=this.setid,d.gid=o,d.glvl=r,i&&(d.func=i),n&&(d.args=n),s&&(d.op=s),c?this.set[this.setkeys[l]-1]=d:this.setkeys[l]=this.set.push(d)),c||++this.setid}static mergeNotation(e,a){return{...e,constant:e.constant+a.constant,notation:e.notation+"+"+a.notation,set:[...e.set,...a.set],totalDice:e.vectors.length+a.vectors.length,vectors:[...e.vectors,...a.vectors]}}}const rv={d2:{name:"d2",labels:["1","2"],values:[1,2],inertia:8,mass:400,scale:.9,system:"dweird"},dc:{type:"d2",name:"Coin",labels:["textures/silvercoin/tail.png","textures/silvercoin/heads.png"],setBumpMaps:["textures/silvercoin/tail_bump.png","textures/silvercoin/heads_bump.png"],values:[0,1],inertia:8,mass:400,scale:.9,colorset:"coin_silver"},d1:{name:"One-sided Dice",type:"d6",labels:["1"],values:[1,1],scale:.9,system:"dweird"},d3:{name:"Three-Sided Dice",type:"d6",labels:["1","2","3"],values:[1,3],scale:.9,system:"dweird"},df:{name:"Fudge Dice",type:"d6",labels:["-","0","+"],values:[-1,1],scale:.9,system:"dweird"},d4:{name:"Four-Sided Dice",labels:["1","2","3","4"],values:[1,4],inertia:5,scale:1.2},d6:{name:"Six-Sided Dice (Numbers)",labels:["1","2","3","4","5","6"],values:[1,6],scale:.9},dpip:{name:"Six-Sided Dice (Pips)",type:"d6",labels:[`   
 ⬤ 
   `,`⬤  
   
  ⬤`,`⬤  
 ⬤ 
  ⬤`,`⬤ ⬤
   
⬤ ⬤`,`⬤ ⬤
 ⬤ 
⬤ ⬤`,`⬤ ⬤
⬤ ⬤
⬤ ⬤`],values:[1,6],scale:.9,font:"monospace"},dsex:{name:"Sex-Sided Emoji Dice",type:"d6",labels:["🍆","🍑","👌","💦","🙏","💥"],values:[1,6],scale:.9,display:"labels",system:"dweird"},dpoker:{name:"Poker Dice (9-Ace)",type:"d6",labels:["A","9","10","J","Q","K"],values:[1,6],scale:.9,display:"labels",system:"dweird",font:"Times New Roman"},dspanpoker:{name:"Spanish Poker Dice (7-Ace)",type:"d8",labels:["A","7","8","9","10","J","Q","K"],values:[1,8],display:"labels",system:"dweird",font:"Times New Roman"},disotope:{name:"Radioactive Twelve-Sided Dice",type:"d12",labels:["","","","","","","","","","","","☢️"],values:[0,0,0,0,0,0,0,0,0,0,0,1],mass:350,inertia:8,scale:.9,system:"dweird"},dsuit:{name:"Four-Suited Dice",type:"d4",labels:["♠️","♥️","♦️","♣️"],values:[1,4],inertia:5,scale:1.2,display:"labels",system:"dweird"},d8:{name:"Eight-Sided Dice",labels:["1","2","3","4","5","6","7","8"],values:[1,8]},d10:{name:"Ten-Sided Dice (Single Digit)",labels:["1","2","3","4","5","6","7","8","9","0"],values:[1,10],mass:350,inertia:9,scale:.9},d100:{name:"Ten-Sided Dice (Tens Digit)",type:"d10",labels:["10","20","30","40","50","60","70","80","90","00"],values:[10,100,10],mass:350,inertia:9,scale:.9},d12:{name:"Twelve-Sided Dice",labels:["1","2","3","4","5","6","7","8","9","10","11","12"],values:[1,12],mass:350,inertia:8,scale:.9},d20:{name:"Twenty-Sided Dice",labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],values:[1,20],mass:400,inertia:6},dabi:{name:"Star Wars RPG: Ability Dice",type:"d8",labels:["s","a",`s
a`,`s
s`,"a","s",`a
a`,""],values:[1,8],font:"SWRPG-Symbol-Regular",color:"#00FF00",colorset:"swrpg_abi",display:"labels",system:"swrpg"},ddif:{name:"Star Wars RPG: Difficulty Dice",type:"d8",labels:["t","f",`f
t`,"t","",`t
t`,`f
f`,"t"],values:[1,8],font:"SWRPG-Symbol-Regular",color:"#8000FC",colorset:"swrpg_dif",display:"labels",system:"swrpg"},dpro:{name:"Star Wars RPG: Proficiency Dice",type:"d12",labels:[`a
a`,"a",`a
a`,"x","s",`s
a`,"s",`s
a`,`s
s`,`s
a`,`s
s`,""],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FFFF00",colorset:"swrpg_pro",display:"labels",system:"swrpg"},dcha:{name:"Star Wars RPG: Challenge Dice",type:"d12",labels:[`t
t`,"t",`t
t`,"t",`t
f`,"f",`t
f`,"f",`f
f`,"y",`f
f`,""],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FF0000",colorset:"swrpg_cha",display:"labels",system:"swrpg"},dfor:{name:"Star Wars RPG: Force Dice",type:"d12",labels:["z",`Z
Z`,"z",`Z
Z`,"z",`Z
Z`,"z","Z","z","Z","z",`z
z`],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FFFFFF",colorset:"swrpg_for",display:"labels",system:"swrpg"},dboo:{name:"Star Wars RPG: Boost Dice",type:"d6",labels:[`s  
  a`,`a  
  a`,"s","a","",""],values:[1,6],scale:.9,font:"SWRPG-Symbol-Regular",color:"#00FFFF",colorset:"swrpg_boo",display:"labels",system:"swrpg"},dset:{name:"Star Wars RPG: Setback Dice",type:"d6",labels:["","t","f"],values:[1,3],scale:.9,font:"SWRPG-Symbol-Regular",color:"#111111",colorset:"swrpg_set",display:"labels",system:"swrpg"},swar:{name:"Star Wars Armada: Red Attack Dice",type:"d8",labels:["F","F",`F
F`,"E","E","G","",""],values:[1,8],font:"Armada-Symbol-Regular",color:"#FF0000",colorset:"swa_red",display:"labels",system:"swarmada"},swab:{name:"Star Wars Armada: Blue Attack Dice",type:"d8",labels:["F","F","F","F","E","E","G","G"],values:[1,8],font:"Armada-Symbol-Regular",color:"#0000FF",colorset:"swa_blue",display:"labels",system:"swarmada"},swak:{name:"Star Wars Armada: Black Attack Dice",type:"d8",labels:["F","F","F","F",`F
E`,`F
E`,"",""],values:[1,8],font:"Armada-Symbol-Regular",color:"#111111",colorset:"swa_black",display:"labels",system:"swarmada"},xwatk:{name:"Star Wars X-Wing: Red Attack Dice",type:"d8",labels:["c","d","d","d","f","f","",""],values:[1,8],font:"XWing-Symbol-Regular",color:"#FF0000",colorset:"xwing_red",display:"labels",system:"xwing"},xwdef:{name:"Star Wars X-Wing: Green Defense Dice",type:"d8",labels:["e","e","e","f","f","","",""],values:[1,8],font:"XWing-Symbol-Regular",color:"#00FF00",colorset:"xwing_green",display:"labels",system:"xwing"},swlar:{name:"Star Wars Legion: Red Attack Dice",type:"d8",labels:["h","h","h","h","h","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#FF0000",colorset:"swl_atkred",display:"labels",system:"legion"},swlab:{name:"Star Wars Legion: Black Attack Dice",type:"d8",labels:["h","h","h","","","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#111111",colorset:"swl_atkblack",display:"labels",system:"legion"},swlaw:{name:"Star Wars Legion: White Attack Dice",type:"d8",labels:["h","","","","","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#FFFFFF",colorset:"swl_atkwhite",display:"labels",system:"legion"},swldr:{name:"Star Wars Legion: Red Defense Dice",type:"d6",labels:["s","s","s","d","",""],values:[1,6],scale:.9,font:"Legion-Symbol-Regular",color:"#FF0000",colorset:"swl_defred",display:"labels",system:"legion"},swldw:{name:"Star Wars Legion: White Defense Dice",type:"d6",labels:["s","","","d","",""],values:[1,6],scale:.9,font:"Legion-Symbol-Regular",color:"#FFFFFF",colorset:"swl_defwhite",display:"labels",system:"legion"}},ko={d4:{vertices:[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],faces:[[1,0,2,1],[0,1,3,2],[0,3,2,3],[1,2,3,4]]},d6:{vertices:[[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],faces:[[0,3,2,1,1],[1,2,6,5,2],[0,1,5,4,3],[3,7,6,2,4],[0,4,7,3,5],[4,5,6,7,6]]},d8:{vertices:[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],faces:[[0,2,4,1],[0,4,3,2],[0,3,5,3],[0,5,2,4],[1,3,4,5],[1,4,2,6],[1,2,5,7],[1,5,3,8]]},d10:{vertices:[[1,0,-.105],[.809,.5877,.105],[.309,.951,-.105],[-.309,.951,.105],[-.809,.5877,-.105],[-1,0,.105],[-.809,-.587,-.105],[-.309,-.951,.105],[.309,-.951,-.105],[.809,-.5877,.105],[0,0,-1],[0,0,1]],faces:[[5,6,7,11,0],[4,3,2,10,1],[1,2,3,11,2],[0,9,8,10,3],[7,8,9,11,4],[8,7,6,10,5],[9,0,1,11,6],[2,1,0,10,7],[3,4,5,11,8],[6,5,4,10,9]]},d12:{vertices:[[0,.618,1.618],[0,.618,-1.618],[0,-.618,1.618],[0,-.618,-1.618],[1.618,0,.618],[1.618,0,-.618],[-1.618,0,.618],[-1.618,0,-.618],[.618,1.618,0],[.618,-1.618,0],[-.618,1.618,0],[-.618,-1.618,0],[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]],faces:[[2,14,4,12,0,1],[15,9,11,19,3,2],[16,10,17,7,6,3],[6,7,19,11,18,4],[6,18,2,0,16,5],[18,11,9,14,2,6],[1,17,10,8,13,7],[1,13,5,15,3,8],[13,8,12,4,5,9],[5,4,14,9,15,10],[0,12,8,10,16,11],[3,19,7,17,1,12]]},d20:{vertices:[[-1,1.618,0],[1,1.618,0],[-1,-1.618,0],[1,-1.618,0],[0,-1,1.618],[0,1,1.618],[0,-1,-1.618],[0,1,-1.618],[1.618,0,-1],[1.618,0,1],[-1.618,0,-1],[-1.618,0,1]],faces:[[0,11,5,1],[0,5,1,2],[0,1,7,3],[0,7,10,4],[0,10,11,5],[1,5,9,6],[5,11,4,7],[11,10,2,8],[10,7,6,9],[7,1,8,10],[3,9,4,11],[3,4,2,12],[3,2,6,13],[3,6,8,14],[3,8,9,15],[4,9,5,16],[2,4,11,17],[6,2,10,18],[8,6,7,19],[9,8,1,20]]}},WH={name:"",scale:1,font:"Arial",color:"",labels:[],valueMap:[],values:[],normals:[],mass:300,inertia:13,geometry:null,display:"values",system:"d20"};class GH{constructor(e){if(!rv.hasOwnProperty(e))return console.error("dice type unavailable");Object.assign(this,WH,rv[e]),this.shape=rv[e].type||e,this.type=e,this.setLabels(this.labels),this.setValues(this.values[0],this.values[1],this.values[2]),this.setValueMap(this.valueMap),this.bumpMaps&&this.setBumpMaps(this.bumpMaps)}setValues(e=1,a=20,o=1){this.values=this.range(e,a,o)}setValueMap(e){for(let a=0;a<this.values.length;a++){let o=this.values[a];e[o]!=null&&(this.valueMap[o]=e[o])}}registerFaces(e,a="labels"){let o;if(a=="labels"?o=this.labels:o=this.normals,o.unshift(""),["d2","d10"].includes(this.shape)||o.unshift(""),this.shape=="d4"){let r=e[0],i=e[1],n=e[2],s=e[3];this.labels=[[[],[0,0,0],[i,s,n],[r,n,s],[i,r,s],[r,i,n]],[[],[0,0,0],[i,n,s],[n,r,s],[i,s,r],[n,i,r]],[[],[0,0,0],[s,n,i],[n,s,r],[s,i,r],[n,r,i]],[[],[0,0,0],[s,i,n],[r,s,n],[s,r,i],[r,n,i]]]}else Array.prototype.push.apply(o,e)}setLabels(e){this.loadTextures(e,this.registerFaces.bind(this),"labels")}setBumpMaps(e){this.loadTextures(e,this.registerFaces.bind(this),"bump")}loadTextures(e,a,o){let r=0,i=e.length,n=/\.(PNG|JPG|GIF|WEBP)$/i,s=Array(e.length),l=!1;for(let c=0;c<i;c++){if(e[c]==""||!e[c].match(n)){s[c]=e[c],++r;continue}l=!0,s[c]=new Image,s[c].onload=function(){++r>=i&&a(s,o)},s[c].src=e[c]}l||a(s,o)}range(e,a,o=1){for(var r=[e],i=e;i<a;)r.push(i+=o||1);return r}}const ZH={none:{name:"Plastic"},perfectmetal:{name:"Perfect Metal",color:14540253,roughness:0,metalness:1,envMapIntensity:1},metal:{name:"Metal",color:14540253,roughness:.5,metalness:.6,envMapIntensity:1},wood:{name:"Wood",color:14540253,roughness:.9,metalness:0,envMapIntensity:1},glass:{name:"Glass",color:14540253,roughness:.1,metalness:0,envMapIntensity:1}},XH={baseScale:100,bumpMapping:!0},Ec=class{constructor(t){this.geometries={},this.materials_cache={},this.cache_hits=0,this.cache_misses=0,this.label_color="",this.dice_color="",this.edge_color="",this.label_outline="",this.dice_texture="",this.dice_material="",this.material_options={specular:16777215,color:11908533,shininess:5,flatShading:!0},Object.assign(this,XH,t)}updateConfig(t={}){Object.assign(this,t),t.scale&&this.scaleGeometry()}setBumpMapping(t){this.bumpMapping=t,this.materials_cache={}}create(t){let e=this.get(t);if(!e)return null;let a=this.geometries[t];if(a||(a=this.createGeometry(e.shape,e.scale*this.baseScale),this.geometries[t]=a),!a)return null;this.setMaterialInfo();let o=new Pr(a,this.createMaterials(e,this.baseScale/2,1));switch(o.result=[],o.shape=e.shape,o.rerolls=0,o.resultReason="natural",o.mass=e.mass,o.getFaceValue=function(){let r=this.resultReason,i=new J(0,0,this.shape=="d4"?-1:1),n,s=Math.PI*2,l=this.geometry.getAttribute("normal").array;for(let h=0,p=this.geometry.groups.length;h<p;++h){let f=this.geometry.groups[h];if(f.materialIndex==0)continue;let g=h*9,y=new J(l[g],l[g+1],l[g+2]).clone().applyQuaternion(this.body.quaternion).angleTo(i);y<s&&(s=y,n=f)}let c=n.materialIndex-1,d=2;const m=Ec.dice[this.notation.type];if(this.shape=="d4"){let h=c-1==0?5:c;return{value:c,label:m.labels[c-1][h][0],reason:r}}["d10","d2"].includes(this.shape)&&(c+=1,d-=1);let u=m.values[(c-1)%m.values.length],v=m.labels[(c-1)%(m.labels.length-2)+d];return{value:u,label:v,reason:r}},o.storeRolledValue=function(r){this.resultReason=r||this.resultReason,this.result.push(this.getFaceValue())},o.getLastValue=function(){return!this.result||this.result.length<1?{value:void 0,label:"",reason:""}:this.result[this.result.length-1]},o.ignoreLastValue=function(r){let i=this.getLastValue();i.value!==void 0&&(i.ignore=r,this.setLastValue(i))},o.setLastValue=function(r){if(!(!this.result||this.result.length<1)&&!(!r||r.length<1))return this.result[this.result.length-1]=r},e.color&&(o.material[0].color=new Et(e.color),o.material[0].emissive=new Et(e.color),o.material[0].emissiveIntensity=1,o.material[0].needsUpdate=!0),e.values.length){case 1:return this.fixmaterials(o,1);case 2:return this.fixmaterials(o,2);case 3:return this.fixmaterials(o,3);default:return o}}get(t){let e;return Ec.dice.hasOwnProperty(t)?e=Ec.dice[t]:(e=new GH(t),Ec.dice[t]=e),e}getGeometry(t){return this.geometries[t]}scaleGeometry(){}createMaterials(t,e,a,o=!0,r=0){let i=[],n=t.labels;t.shape=="d4"&&(n=t.labels[r],e=this.baseScale/2,a=this.baseScale*2);for(var s=0;s<n.length;++s){var l;this.dice_material!="none"?(l=new fU(ZH[this.dice_material]),l.envMapIntensity=0):l=new hU(this.material_options);let c;if(s==0){let d={name:"none"};this.dice_texture_rand.composite!="source-over"&&(d=this.dice_texture_rand),c=this.createTextMaterial(t,n,s,e,a,d,this.label_color_rand,this.label_outline_rand,this.edge_color_rand,o),l.map=c.composite}else if(c=this.createTextMaterial(t,n,s,e,a,this.dice_texture_rand,this.label_color_rand,this.label_outline_rand,this.dice_color_rand,o),l.map=c.composite,this.bumpMapping){{let d=.75;e>35&&(d=1),e>40&&(d=2.5),e>45&&(d=4),l.bumpScale=d}c.bump&&(l.bumpMap=c.bump),t.shape!="d4"&&t.normals[s]&&(l.bumpMap=new Mo(t.normals[s]),l.bumpScale=4,l.bumpMap.needsUpdate=!0)}l.opacity=1,l.transparent=!0,l.depthTest=!1,l.needUpdate=!0,i.push(l)}return i}createTextMaterial(t,e,a,o,r,i,n,s,l,c){if(e[a]===void 0)return null;i=i||this.dice_texture_rand,n=n||this.label_color_rand,s=s||this.label_outline_rand,l=l||this.dice_color_rand,c=c??!0;let d=e[a],m=!1,u=d;d instanceof HTMLImageElement?u=d.src:d instanceof Array&&d.forEach(S=>{u+=S.src});let v=t.type+u+a+i.name+n+s+l;if(t.shape=="d4"&&(v=t.type+u+i.name+n+s+l),c&&this.materials_cache[v]!=null)return this.cache_hits++,this.materials_cache[v];let h=document.createElement("canvas"),p=h.getContext("2d",{alpha:!0});p.globalAlpha=0,p.clearRect(0,0,h.width,h.height);let f=document.createElement("canvas"),g=f.getContext("2d",{alpha:!0});g.globalAlpha=0,g.clearRect(0,0,f.width,f.height);let y;if(t.shape=="d4"?y=this.calc_texture_size(o+r)*4:y=this.calc_texture_size(o+o*2*r)*4,h.width=h.height=y,f.width=f.height=y,p.fillStyle=l,p.fillRect(0,0,h.width,h.height),g.fillStyle="#FFFFFF",g.fillRect(0,0,f.width,f.height),i.texture&&i.name!=""&&i.name!="none"?(p.globalCompositeOperation=i.composite||"source-over",p.drawImage(i.texture,0,0,h.width,h.height),p.globalCompositeOperation="source-over",i.bump&&(g.globalCompositeOperation="source-over",g.drawImage(i.bump,0,0,h.width,h.height))):p.globalCompositeOperation="source-over",p.globalCompositeOperation="source-over",p.textAlign="center",p.textBaseline="middle",g.textAlign="center",g.textBaseline="middle",t.shape!="d4"){let S={d8:{even:-7.5,odd:-127.5},d10:{all:-6},d12:{all:5},d20:{all:-7.5}}[t.shape];if(S){let E;if(S.hasOwnProperty("all")?E=S.all:a>0&&a%2!=0?E=S.odd:E=S.even,E&&E!=0){var x=h.width/2,b=h.height/2;p.translate(x,b),p.rotate(E*(Math.PI/180)),p.translate(-x,-b),g.translate(x,b),g.rotate(E*(Math.PI/180)),g.translate(-x,-b)}}if(d instanceof HTMLImageElement)m=!0,p.drawImage(d,0,0,d.width,d.height,0,0,h.width,h.height);else{let E=y/(1+2*r),A=h.height/2+10,T=h.width/2;t.shape=="d10"?(E=E*.75,A=A*1.15-10):t.shape=="d20"&&(T=T*.98),p.font=E+"pt "+t.font,g.font=E+"pt "+t.font;let O=p.measureText("M").width*1.4,B=d.split(`
`);B.length>1&&(E=E/B.length,p.font=E+"pt "+t.font,g.font=E+"pt "+t.font,O=p.measureText("M").width*1.2,A-=O*B.length/2);for(let N=0,D=B.length;N<D;N++){let q=B[N].trim();s!="none"&&s!=l&&(p.strokeStyle=s,p.lineWidth=5,p.strokeText(B[N],T,A),g.strokeStyle="#000000",g.lineWidth=5,g.strokeText(B[N],T,A),(q=="6"||q=="9")&&(p.strokeText("  .",T,A),g.strokeText("  .",T,A))),p.fillStyle=n,p.fillText(B[N],T,A),g.fillStyle="#000000",g.fillText(B[N],T,A),(q=="6"||q=="9")&&(p.fillText("  .",T,A),g.fillText("  .",T,A)),A+=O*1.5}}}else{var x=h.width/2,b=h.height/2;p.font=y/128*24+"pt "+t.font,g.font=y/128*24+"pt "+t.font;for(let A=0;A<d.length;A++){if(d[A]instanceof HTMLImageElement){let T=d[A].width/h.width;p.drawImage(d[A],0,0,d[A].width,d[A].height,100/T,25/T,60/T,60/T)}else s!="none"&&s!=l&&(p.strokeStyle=s,p.lineWidth=5,p.strokeText(d[A],x,b-y*.3),g.strokeStyle="#000000",g.lineWidth=5,g.strokeText(d[A],x,b-y*.3)),p.fillStyle=n,p.fillText(d[A],x,b-y*.3),g.fillStyle="#000000",g.fillText(d[A],x,b-y*.3);p.translate(x,b),p.rotate(Math.PI*2/3),p.translate(-x,-b),g.translate(x,b),g.rotate(Math.PI*2/3),g.translate(-x,-b)}}var w=new p3(h),_;return m?_=null:_=new p3(f),c&&(this.cache_misses++,this.materials_cache[v]={composite:w,bump:_}),{composite:w,bump:_}}applyColorSet(t){var e;this.colordata=t,this.label_color=t.foreground,this.dice_color=t.background,this.label_outline=t.outline,this.dice_texture=t.texture,this.dice_material=((e=t==null?void 0:t.texture)==null?void 0:e.material)||"none",this.edge_color=t.hasOwnProperty("edge")?t.edge:t.background}setMaterialInfo(t=""){let e=this.colordata,a=this.dice_texture,o=this.dice_material;if(this.dice_color_rand="",this.label_color_rand="",this.label_outline_rand="",this.dice_texture_rand="",this.dice_material_rand="",this.edge_color_rand="",Array.isArray(this.dice_color)){var r=Math.floor(Math.random()*this.dice_color.length);Array.isArray(this.label_color)&&this.label_color.length==this.dice_color.length&&(this.label_color_rand=this.label_color[r],Array.isArray(this.label_outline)&&this.label_outline.length==this.label_color.length&&(this.label_outline_rand=this.label_outline[r])),Array.isArray(this.dice_texture)&&this.dice_texture.length==this.dice_color.length&&(this.dice_texture_rand=this.dice_texture[r],this.dice_material_rand=this.dice_texture_rand.material),Array.isArray(this.edge_color)&&this.edge_color.length==this.dice_color.length&&(this.edge_color_rand=this.edge_color[r]),this.dice_color_rand=this.dice_color[r]}else this.dice_color_rand=this.dice_color;if(this.edge_color_rand=="")if(Array.isArray(this.edge_color)){var r=Math.floor(Math.random()*this.edge_color.length);this.edge_color_rand=this.edge_color[r]}else this.edge_color_rand=this.edge_color;if(this.label_color_rand==""&&Array.isArray(this.label_color)){var r=this.label_color[Math.floor(Math.random()*this.label_color.length)];Array.isArray(this.label_outline)&&this.label_outline.length==this.label_color.length&&(this.label_outline_rand=this.label_outline[r]),this.label_color_rand=this.label_color[r]}else this.label_color_rand==""&&(this.label_color_rand=this.label_color);if(this.label_outline_rand==""&&Array.isArray(this.label_outline)){var r=this.label_outline[Math.floor(Math.random()*this.label_outline.length)];this.label_outline_rand=this.label_outline[r]}else this.label_outline_rand==""&&(this.label_outline_rand=this.label_outline);this.dice_texture_rand==""&&Array.isArray(this.dice_texture)?(this.dice_texture_rand=this.dice_texture[Math.floor(Math.random()*this.dice_texture.length)],this.dice_material_rand=this.dice_texture_rand.material||this.dice_material):this.dice_texture_rand==""&&(this.dice_texture_rand=this.dice_texture,this.dice_material_rand=this.dice_texture_rand.material||this.dice_material),this.dice_material_rand==""&&Array.isArray(this.dice_material)?this.dice_material_rand=this.dice_material[Math.floor(Math.random()*this.dice_material.length)]:this.dice_material_rand==""&&(this.dice_material_rand=this.dice_material),this.colordata&&this.colordata.id!=e.id&&this.applyColorSet(e,a,o)}calc_texture_size(t){return Math.pow(2,Math.floor(Math.log(t)/Math.log(2)))}createGeometry(t,e,a=!1){const o=a?"create_shape":"create_geom";switch(t){case"d2":var r=new S1(1*e,1*e,.1*e,32);return r.cannon_shape=new _V(1*e,1*e,.1*e,8),r;case"d4":return this[o](ko.d4.vertices,ko.d4.faces,e,-.1,Math.PI*7/6,.96);case"d6":return this[o](ko.d6.vertices,ko.d6.faces,e,.1,Math.PI/4,.96);case"d8":return this[o](ko.d8.vertices,ko.d8.faces,e,0,-Math.PI/4/2,.965);case"d10":return this[o](ko.d10.vertices,ko.d10.faces,e,.3,Math.PI,.945);case"d12":return this[o](ko.d12.vertices,ko.d12.faces,e,.2,-Math.PI/4/2,.968);case"d20":return this[o](ko.d20.vertices,ko.d20.faces,e,-.2,-Math.PI/4/2,.955);default:return console.error(`Geometry for ${t} is not available`),null}}fixmaterials(t,e){for(let o=0,r=t.geometry.groups.length;o<r;++o){var a=t.geometry.groups[o].materialIndex-2;if(a<e)continue;let i=a%e;t.geometry.groups[o].materialIndex=i+2}return t.geometry.elementsNeedUpdate=!0,t}create_shape(t,e,a){for(var o=new Array(t.length),r=0;r<t.length;++r)o[r]=new J().fromArray(t[r]).normalize();for(var i=new Array(t.length),n=new Array(e.length),r=0;r<o.length;++r){var s=o[r];i[r]=new R(s.x*a,s.y*a,s.z*a)}for(var r=0;r<e.length;++r)n[r]=e[r].slice(0,e[r].length-1);return new Bn({vertices:i,faces:n})}make_geom(t,e,a,o,r){let i=new Fr;for(let v=0;v<t.length;++v)t[v]=t[v].multiplyScalar(a);let n=[];const s=[],l=[],c=new J,d=new J;let m,u=0;for(let v=0;v<e.length;++v){let h=e[v],p=h.length-1,f=Math.PI*2/p;m=h[p]+1;for(let y=0;y<p-2;++y)n.push(...t[h[0]].toArray()),n.push(...t[h[y+1]].toArray()),n.push(...t[h[y+2]].toArray()),c.subVectors(t[h[y+2]],t[h[y+1]]),d.subVectors(t[h[0]],t[h[y+1]]),c.cross(d),c.normalize(),s.push(...c.toArray()),s.push(...c.toArray()),s.push(...c.toArray()),l.push((Math.cos(r)+1+o)/2/(1+o),(Math.sin(r)+1+o)/2/(1+o)),l.push((Math.cos(f*(y+1)+r)+1+o)/2/(1+o),(Math.sin(f*(y+1)+r)+1+o)/2/(1+o)),l.push((Math.cos(f*(y+2)+r)+1+o)/2/(1+o),(Math.sin(f*(y+2)+r)+1+o)/2/(1+o));let g=(p-2)*3;for(let y=0;y<g/3;y++)i.addGroup(u,3,m),u+=3}return i.setAttribute("position",new Fa(n,3)),i.setAttribute("normal",new Fa(s,3)),i.setAttribute("uv",new Fa(l,2)),i.boundingSphere=new Md(new J,a),i}make_d10_geom(t,e,a,o,r){let i=new Fr;for(let y=0;y<t.length;++y)t[y]=t[y].multiplyScalar(a);let n=[];const s=[],l=[],c=new J,d=new J;let m,u=0;for(let y=0;y<e.length;++y){let x=e[y],b=x.length-1,w=Math.PI*2/b;m=x[b]+1;var v=.65,h=.85,p=1-1*h,f=1-.895/1.105*h,g=1;for(let S=0;S<b-2;++S)n.push(...t[x[0]].toArray()),n.push(...t[x[S+1]].toArray()),n.push(...t[x[S+2]].toArray()),c.subVectors(t[x[S+2]],t[x[S+1]]),d.subVectors(t[x[0]],t[x[S+1]]),c.cross(d),c.normalize(),s.push(...c.toArray()),s.push(...c.toArray()),s.push(...c.toArray()),e[y][e[y].length-1]==-1||S>=2?(l.push((Math.cos(r)+1+o)/2/(1+o),(Math.sin(r)+1+o)/2/(1+o)),l.push((Math.cos(w*(S+1)+r)+1+o)/2/(1+o),(Math.sin(w*(S+1)+r)+1+o)/2/(1+o)),l.push((Math.cos(w*(S+2)+r)+1+o)/2/(1+o),(Math.sin(w*(S+2)+r)+1+o)/2/(1+o))):S==0?(l.push(.5-v/2,f),l.push(.5,p),l.push(.5+v/2,f)):S==1&&(l.push(.5-v/2,f),l.push(.5+v/2,f),l.push(.5,g));let _=(b-2)*3;for(let S=0;S<_/3;S++)i.addGroup(u,3,m),u+=3}return i.setAttribute("position",new Fa(n,3)),i.setAttribute("normal",new Fa(s,3)),i.setAttribute("uv",new Fa(l,2)),i.boundingSphere=new Md(new J,a),i}chamfer_geom(t,e,a){for(var o=[],r=[],i=new Array(t.length),n=0;n<t.length;++n)i[n]=[];for(var n=0;n<e.length;++n){for(var s=e[n],l=s.length-1,c=new J,d=new Array(l),m=0;m<l;++m){var u=t[s[m]].clone();c.add(u),i[s[m]].push(d[m]=o.push(u)-1)}c.divideScalar(l);for(var m=0;m<l;++m){var u=o[d[m]];u.subVectors(u,c).multiplyScalar(a).addVectors(u,c)}d.push(s[l]),r.push(d)}for(var n=0;n<e.length-1;++n)for(var m=n+1;m<e.length;++m){for(var v=[],h=-1,p=0;p<e[n].length-1;++p){var f=e[m].indexOf(e[n][p]);f>=0&&f<e[m].length-1&&(h>=0&&p!=h+1?v.unshift([n,p],[m,f]):v.push([n,p],[m,f]),h=p)}v.length==4&&r.push([r[v[0][0]][v[0][1]],r[v[1][0]][v[1][1]],r[v[3][0]][v[3][1]],r[v[2][0]][v[2][1]],-1])}for(var n=0;n<i.length;++n){for(var g=i[n],d=[g[0]],y=g.length-1;y;){for(var p=e.length;p<r.length;++p){var x=r[p].indexOf(d[d.length-1]);if(x>=0&&x<4){--x==-1&&(x=3);var b=r[p][x];if(g.indexOf(b)>=0){d.push(b);break}}}--y}d.push(-1),r.push(d)}return{vectors:o,faces:r}}create_geom(t,e,a,o,r,i){for(var n=new Array(t.length),s=0;s<t.length;++s)n[s]=new J().fromArray(t[s]).normalize();var l=this.chamfer_geom(n,e,i);if(e.length!=10)var c=this.make_geom(l.vectors,l.faces,a,o,r);else var c=this.make_d10_geom(l.vectors,l.faces,a,o,r);return c.cannon_shape=this.create_shape(t,e,a),c.name="d"+e.length,c}};let K5=Ec;uF(K5,"dice",{});const iv={cloudy:{name:"Clouds (Transparent)",composite:"destination-in",source:"textures/cloudy.webp",source_bump:"textures/cloudy.alt.webp"},cloudy_2:{name:"Clouds",composite:"multiply",source:"textures/cloudy.alt.webp",source_bump:"textures/cloudy.alt.webp"},fire:{name:"Fire",composite:"multiply",source:"textures/fire.webp",source_bump:"textures/fire.webp",material:"metal"},marble:{name:"Marble",composite:"multiply",source:"textures/marble.webp",source_bump:"",material:"glass"},water:{name:"Water",composite:"destination-in",source:"textures/water.webp",source_bump:"textures/water.webp",material:"glass"},ice:{name:"Ice",composite:"destination-in",source:"textures/ice.webp",source_bump:"textures/ice.webp",material:"glass"},paper:{name:"Paper",composite:"multiply",source:"textures/paper.webp",source_bump:"textures/paper-bump.webp",material:"wood"},speckles:{name:"Speckles",composite:"multiply",source:"textures/speckles.webp",source_bump:"textures/speckles.webp",material:"none"},glitter:{name:"Glitter",composite:"multiply",source:"textures/glitter.webp",source_bump:"textures/glitter-bump.webp",material:"none"},glitter_2:{name:"Glitter (Transparent)",composite:"destination-in",source:"textures/glitter-alpha.webp",source_bump:"",material:"none"},stars:{name:"Stars",composite:"multiply",source:"textures/stars.webp",source_bump:"textures/stars.webp",material:"none"},stainedglass:{name:"Stained Glass",composite:"multiply",source:"textures/stainedglass.webp",source_bump:"textures/stainedglass-bump.webp",material:"glass"},wood:{name:"Wood",composite:"multiply",source:"textures/wood.webp",source_bump:"textures/wood.webp",material:"wood"},metal:{name:"Stainless Steel",composite:"multiply",source:"textures/metal.webp",source_bump:"textures/metal-bump.webp",material:"metal"},skulls:{name:"Skulls",composite:"multiply",source:"textures/skulls.webp",source_bump:"textures/skulls.webp"},leopard:{name:"Leopard",composite:"multiply",source:"textures/leopard.webp",source_bump:"textures/leopard.webp",material:"wood"},tiger:{name:"Tiger",composite:"multiply",source:"textures/tiger.webp",source_bump:"textures/tiger.webp",material:"wood"},cheetah:{name:"Cheetah",composite:"multiply",source:"textures/cheetah.webp",source_bump:"textures/cheetah.webp",material:"wood"},dragon:{name:"Dragon",composite:"multiply",source:"textures/dragon.webp",source_bump:"textures/dragon-bump.webp",material:"none"},lizard:{name:"Lizard",composite:"multiply",source:"textures/lizard.webp",source_bump:"textures/lizard.webp",material:"none"},bird:{name:"Bird",composite:"multiply",source:"textures/feather.webp",source_bump:"textures/feather-bump.webp",material:"wood"},astral:{name:"Astral Sea",composite:"multiply",source:"textures/astral.webp",source_bump:"textures/stars.webp",material:"none"},acleaf:{name:"AC Leaf",composite:"multiply",source:"textures/acleaf.webp",source_bump:"textures/acleaf.webp",material:"none"},thecage:{name:"Nicholas Cage",composite:"multiply",source:"textures/thecage.webp",source_bump:"",material:"metal"},isabelle:{name:"Isabelle",composite:"source-over",source:"textures/isabelle.webp",source_bump:"",material:"none"},bronze01:{name:"bronze01",composite:"difference",source:"textures/bronze01.webp",source_bump:"",material:"metal"},bronze02:{name:"bronze02",composite:"difference",source:"textures/bronze02.webp",source_bump:"",material:"metal"},bronze03:{name:"bronze03",composite:"difference",source:"textures/bronze03.webp",source_bump:"",material:"metal"},bronze03a:{name:"bronze03a",composite:"difference",source:"textures/bronze03a.webp",source_bump:"",material:"metal"},bronze03b:{name:"bronze03b",composite:"difference",source:"textures/bronze03b.webp",source_bump:"",material:"metal"},bronze04:{name:"bronze04",composite:"difference",source:"textures/bronze04.webp",source_bump:"",material:"metal"},none:{name:"none",composite:"source-over",source:"",source_bump:"",material:""},"":{name:"~ Preset ~",composite:"source-over",source:"",source_bump:"",material:""}},N3={coin_default:{name:"Gold Coin",description:"Gold Dragonhead Coin",category:"Other",foreground:"#f6c928",background:"#f6c928",outline:"none",texture:"metal"},coin_silver:{name:"Silver Coin",description:"Gold Dragonhead Coin",category:"Other",foreground:"#f6c928",background:"#f6c928",outline:"none",texture:"metal"},radiant:{name:"Radiant",category:"Damage Types",foreground:"#F9B333",background:"#FFFFFF",outline:"",texture:"paper",description:"Radiant"},fire:{name:"Fire",category:"Damage Types",foreground:"#f8d84f",background:["#f8d84f","#f9b02d","#f43c04","#910200","#4c1009"],outline:"black",texture:"fire",description:"Fire"},ice:{name:"Ice",category:"Damage Types",foreground:"#60E9FF",background:["#214fa3","#3c6ac1","#253f70","#0b56e2","#09317a"],outline:"black",texture:"ice",description:"Ice"},poison:{name:"Poison",category:"Damage Types",foreground:"#D6A8FF",background:["#313866","#504099","#66409e","#934fc3","#c949fc"],outline:"black",texture:"cloudy",description:"Poison"},acid:{name:"Acid",category:"Damage Types",foreground:"#A9FF70",background:["#a6ff00","#83b625","#5ace04","#69f006","#b0f006","#93bc25"],outline:"black",texture:"marble",description:"Acid"},thunder:{name:"Thunder",category:"Damage Types",foreground:"#FFC500",background:"#7D7D7D",outline:"black",texture:"cloudy",description:"Thunder"},lightning:{name:"Lightning",category:"Damage Types",foreground:"#FFC500",background:["#f17105","#f3ca40","#eddea4","#df9a57","#dea54b"],outline:"#7D7D7D",texture:"ice",description:"Lightning"},air:{name:"Air",category:"Damage Types",foreground:"#ffffff",background:["#d0e5ea","#c3dee5","#a4ccd6","#8dafb7","#80a4ad"],outline:"black",texture:"cloudy",description:"Air"},water:{name:"Water",category:"Damage Types",foreground:"#60E9FF",background:["#87b8c4","#77a6b2","#6b98a3","#5b8691","#4b757f"],outline:"black",texture:"water",description:"Water"},earth:{name:"Earth",category:"Damage Types",foreground:"#6C9943",background:["#346804","#184200","#527f22","#3a1d04","#56341a","#331c17","#5a352a","#302210"],outline:"black",texture:"speckles",description:"Earth"},force:{name:"Force",category:"Damage Types",foreground:"white",background:["#FF97FF","#FF68FF","#C651C6"],outline:"#570000",texture:"stars",description:"Force"},psychic:{name:"Psychic",category:"Damage Types",foreground:"#D6A8FF",background:["#313866","#504099","#66409E","#934FC3","#C949FC","#313866"],outline:"black",texture:"speckles",description:"Psychic"},necrotic:{name:"Necrotic",category:"Damage Types",foreground:"#ffffff",background:"#6F0000",outline:"black",texture:"skulls",description:"Necrotic"},breebaby:{name:"Pastel Sunset",category:"Custom Sets",foreground:["#5E175E","#564A5E","#45455E","#3D5A5E","#1E595E","#5E3F3D","#5E1E29","#283C5E","#25295E"],background:["#FE89CF","#DFD4F2","#C2C2E8","#CCE7FA","#A1D9FC","#F3C3C2","#EB8993","#8EA1D2","#7477AD"],outline:"white",texture:"marble",description:"Pastel Sunset, for Breyanna"},pinkdreams:{name:"Pink Dreams",category:"Custom Sets",foreground:"white",background:["#ff007c","#df73ff","#f400a1","#df00ff","#ff33cc"],outline:"#570000",texture:"skulls",description:"Pink Dreams, for Ethan"},inspired:{name:"Inspired",category:"Custom Sets",foreground:"#FFD800",background:"#C4C4B6",outline:"#8E8E86",texture:"none",description:"Inspired, for Austin"},bloodmoon:{name:"Blood Moon",category:"Custom Sets",foreground:"#CDB800",background:"#6F0000",outline:"black",texture:"marble",description:"Blood Moon, for Jared"},starynight:{name:"Stary Night",category:"Custom Sets",foreground:"#4F708F",background:["#091636","#233660","#4F708F","#8597AD","#E2E2E2"],outline:"white",texture:"speckles",description:"Stary Night, for Mai"},glitterparty:{name:"Glitter Party",category:"Custom Sets",foreground:"white",background:["#FFB5F5","#7FC9FF","#A17FFF"],outline:"none",texture:"glitter",description:"Glitter Party, for Austin"},astralsea:{name:"Astral Sea",category:"Custom Sets",foreground:"#565656",background:"white",outline:"none",texture:"astral",description:"The Astral Sea, for Austin"},bronze:{name:"Thylean Bronze",description:"Thylean Bronze by @SpencerThayer",category:"Custom Sets",foreground:["#FF9159","#FFB066","#FFBF59","#FFD059"],background:["#705206","#7A4E06","#643100","#7A2D06"],outline:["#3D2D03","#472D04","#301700","#471A04"],edge:["#FF5D0D","#FF7B00","#FFA20D","#FFBA0D"],texture:["bronze01","bronze02","bronze03","bronze03a","bronze03b","bronze04"]},dragons:{name:"Here be Dragons",category:"Custom Sets",foreground:"#FFFFFF",background:["#B80000","#4D5A5A","#5BB8FF","#7E934E","#FFFFFF","#F6ED7C","#7797A3","#A78437","#862C1A","#FFDF8A"],outline:"black",texture:["dragon","lizard"],description:"Here be Dragons"},birdup:{name:"Bird Up",category:"Custom Sets",foreground:"#FFFFFF",background:["#F11602","#FFC000","#6EC832","#0094BC","#05608D","#FEABB3","#F75680","#F3F0DF","#C7A57F"],outline:"black",texture:"bird",description:"Bird Up!"},tigerking:{name:"Tiger King",category:"Other",foreground:"#ffffff",background:"#FFCC40",outline:"black",texture:["leopard","tiger","cheetah"],description:"Leopard Print"},covid:{name:"COViD",category:"Other",foreground:"#A9FF70",background:["#a6ff00","#83b625","#5ace04","#69f006","#b0f006","#93bc25"],outline:"black",texture:"fire",description:"Covid-19"},acleaf:{name:"Animal Crossing",category:"Other",foreground:"#00FF00",background:"#07540A",outline:"black",texture:"acleaf",description:"Animal Crossing Leaf"},isabelle:{name:"Isabelle",category:"Other",foreground:"white",background:"#FEE5CC",outline:"black",texture:"isabelle",description:"Isabelle"},thecage:{name:"Nicholas Cage",category:"Other",foreground:"#ffffff",background:"#ffffff",outline:"black",texture:"thecage",description:"Nicholas Cage"},test:{name:"Test",category:"Colors",foreground:["#00FF00","#0000FF","#FF0000"],background:["#FF0000","#00FF00","#0000FF"],outline:"black",texture:"none",description:"Test"},rainbow:{name:"Rainblow",category:"Colors",foreground:["#FF5959","#FFA74F","#FFFF56","#59FF59","#2374FF","#00FFFF","#FF59FF"],background:["#900000","#CE3900","#BCBC00","#00B500","#00008E","#008282","#A500A5"],outline:"black",texture:"none",description:"Rainblow"},black:{name:"Black",category:"Colors",foreground:"#ffffff",background:"#000000",outline:"black",texture:"none",description:"Black"},white:{name:"White",category:"Colors",foreground:"#000000",background:"#FFFFFF",outline:"#FFFFFF",texture:"none",description:"White"},swrpg_abi:{name:"Star Wars RPG - Ability",category:"Star Wars™ RPG",foreground:"#00FF00",background:["#3D9238","#52B848","#5EAC56","#9ECB9A"],outline:"#000000",texture:"cloudy_2",description:"Star Wars™ RPG Ability Dice"},swrpg_pro:{name:"Star Wars RPG - Proficiency",category:"Star Wars™ RPG",foreground:"#FFFF00",background:["#CABB1C","#F9E33B","#FFE900","#F0E49D"],outline:"#000000",texture:"paper",description:"Star Wars™ RPG Proficiency Dice"},swrpg_dif:{name:"Star Wars RPG - Difficulty",category:"Star Wars™ RPG",foreground:"#8000FC",background:["#39165F","#664B84","#50247E","#745F88"],outline:"#000000",texture:"cloudy_2",description:"Star Wars™ RPG Difficulty Dice"},swrpg_cha:{name:"Star Wars RPG - Challenge",category:"Star Wars™ RPG",foreground:"#FF0000",background:["#A91F32","#EB4254","#E51836","#BA3645"],outline:"#000000",texture:"paper",description:"Star Wars™ RPG Challenge Dice"},swrpg_boo:{name:"Star Wars RPG - Boost",category:"Star Wars™ RPG",foreground:"#00FFFF",background:["#4B9DC6","#689FC4","#85CFF2","#8FC0D8"],outline:"#000000",texture:"glitter",description:"Star Wars™ RPG Boost Dice"},swrpg_set:{name:"Star Wars RPG - Setback",category:"Star Wars™ RPG",foreground:"#111111",background:["#252223","#241F21","#282828","#111111"],outline:"#ffffff",texture:"glitter",description:"Star Wars™ RPG Setback Dice"},swrpg_for:{name:"Star Wars RPG - Force",category:"Star Wars™ RPG",foreground:"#000000",background:["#F3F3F3","#D3D3D3","#BABABA","#FFFFFF"],outline:"#FFFFFF",texture:"stars",description:"Star Wars™ RPG Force Dice"},swa_red:{name:"Armada Attack - Red",category:"Star Wars™ Armada",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"stainedglass",description:"Star Wars™ Armada Red Attack Dice"},swa_blue:{name:"Armada Attack - Blue",category:"Star Wars™ Armada",foreground:"#ffffff",background:["#212642","#28286E","#2B348C","#3D4BB5","#5D64AB"],outline:"none",texture:"stainedglass",description:"Star Wars™ Armada Blue Attack Dice"},swa_black:{name:"Armada Attack - Black",category:"Star Wars™ Armada",foreground:"#ffffff",background:["#252223","#241F21","#282828","#111111"],outline:"none",texture:"stainedglass",description:"Star Wars™ Armada Black Attack Dice"},xwing_red:{name:"X-Wing Attack - Red",category:"Star Wars™ X-Wing",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"stars",description:"Star Wars™ X-Wing Red Attack Dice"},xwing_green:{name:"X-Wing Attack - Green",category:"Star Wars™ X-Wing",foreground:"#ffffff",background:["#3D9238","#52B848","#5EAC56","#9ECB9A"],outline:"none",texture:"stars",description:"Star Wars™ X-Wing Green Attack Dice"},swl_atkred:{name:"Legion Attack - Red",category:"Star Wars™ Legion",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"fire",description:"Star Wars™ Legion Red Attack Dice"},swl_atkblack:{name:"Legion Attack - Black",category:"Star Wars™ Legion",foreground:"#ffffff",background:["#252223","#241F21","#282828","#111111"],outline:"none",texture:"fire",description:"Star Wars™ Legion Black Attack Dice"},swl_atkwhite:{name:"Legion Attack - White",category:"Star Wars™ Legion",foreground:"#000000",background:["#ffffff","#DFF4FA","#BCBCBC","#F1EDE2","#F2ECE0"],outline:"none",texture:"fire",description:"Star Wars™ Legion White Attack Dice"},swl_defred:{name:"Legion Defense - Red",category:"Star Wars™ Legion",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"fire",description:"Star Wars™ Legion Red Defense Dice"},swl_defwhite:{name:"Legion Defense - White",category:"Star Wars™ Legion",foreground:"#000000",background:["#ffffff","#DFF4FA","#BCBCBC","#F1EDE2","#F2ECE0"],outline:"none",texture:"fire",description:"Star Wars™ Legion White Defense Dice"}};class YH{constructor(e={}){this.colorsets=[],this.assetPath=e.assetPath}async ImageLoader(e){if(Array.isArray(e)){for(let a=0,o=e.length;a<o;a++)e[a]=await this.ImageLoader(e[a]);return e}return e.source&&e.source!=""&&(e.texture=await this.loadImage(e.source)),e.source_bump&&e.source_bump!=""&&(e.bump=await this.loadImage(e.source_bump)),e}loadImage(e){return new Promise((a,o)=>{let r=new Image;r.onload=()=>a(r),r.crossOrigin="anonymous",r.src=this.assetPath+e,r.onerror=i=>o(i)}).catch(a=>{console.error("Unable to load image texture")})}async getColorSet(e){let a,o;if(typeof e=="string"&&(a=e),typeof e=="object"&&(a=e.colorset),this.colorsets.hasOwnProperty(a))return this.colorsets[a];let r=N3[a];return o=e.texture||r.texture,r.texture=this.getTexture(o),r.texture=await this.ImageLoader(r.texture),e.material&&(r.texture.material=e.material),this.colorsets[a]=r,r}async makeColorSet(e={}){if(this.colorsets.hasOwnProperty(e.name))return this.colorsets[e.name];let a=N3.white,o=Object.assign({},a,e),r=this.getTexture(o.texture);return o.texture=await this.ImageLoader(r),e.material&&(o.texture.material=e.material),o.name.toLowerCase()==="white"&&(o.name=`${Date.now()}`),this.colorsets[o.name]=o,o}getTexture(e){if(Array.isArray(e)){let a=[];for(let o=0,r=e.length;o<r;o++)a.push(this.getTexture(e[o]));return a}return iv.hasOwnProperty(e)?iv[e]:iv.none}}const KH={default:{name:"Solid Color",author:"MajorVictory",showColorPicker:!0,surface:"wood_tray",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"blue-felt":{name:"Blue Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"red-felt":{name:"Red Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#ff9494",bg:"#4d1e1e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"green-felt":{name:"Green Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#97ff94",bg:"#244d1e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},taverntable:{name:"Old Tavern Table",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},mahogany:{name:"(Mah-Hog-Any)",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},stainless:{name:"Stainless Steel",author:"MajorVictory",showColorPicker:!0,surface:"metal",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},cyberpunk:{name:"Neo-New-Future-City",author:"MajorVictory",showColorPicker:!0,surface:"metal",colors:{fg:"#3494A6",bg:"#440B28"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},cagetown:{name:"Cage Town",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#D7A866",bg:"#282811"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]}},QH=t=>{let e;return function(){let a=this,o=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(function(){t.apply(a,o)})}},JH={assetPath:"./",framerate:1/60,sounds:!1,volume:100,color_spotlight:15720405,shadows:!0,theme_surface:"green-felt",sound_dieMaterial:"plastic",theme_customColorset:null,theme_colorset:"white",theme_texture:"",theme_material:"glass",gravity_multiplier:400,light_intensity:.7,baseScale:100,strength:1,iterationLimit:1e3,onRollComplete:()=>{},onRerollComplete:()=>{},onAddDiceComplete:()=>{},onRemoveDiceComplete:()=>{}};class eW{constructor(e,a={}){this.initialized=!1,this.container=document.querySelector(e),this.dimensions=new St(this.container.clientWidth,this.container.clientHeight),this.adaptive_timestep=!1,this.last_time=0,this.running=!1,this.rolling=!1,this.threadid,this.display={currentWidth:null,currentHeight:null,containerWidth:null,containerHeight:null,aspect:null,scale:null},this.cameraHeight={max:null,close:null,medium:null,far:null},this.scene=new mU,this.world=new qH,this.dice_body_material=new Un,this.sounds_table={},this.sounds_dice=[],this.lastSoundType="",this.lastSoundStep=0,this.lastSound=0,this.iteration,this.renderer,this.barrier,this.camera,this.light,this.light_amb,this.desk,this.box_body={},this.bodies=[],this.meshes=[],this.diceList=[],this.notationVectors=null,this.dieIndex=0,this.soundDelay=10,this.animstate="",this.selector={animate:!0,rotate:!0,intersected:null,dice:[]},Object.assign(this,JH,a),this.DiceColors=new YH({assetPath:this.assetPath}),this.DiceFactory=new K5({baseScale:this.baseScale}),this.DiceFactory.setBumpMapping(!0),this.surface=KH[this.theme_surface].surface}enableShadows(){this.shadows=!0,this.renderer&&(this.renderer.shadowMap.enabled=this.shadows),this.light&&(this.light.castShadow=this.shadows),this.desk&&(this.desk.receiveShadow=this.shadows)}disableShadows(){this.shadows=!1,this.renderer&&(this.renderer.shadowMap.enabled=this.shadows),this.light&&(this.light.castShadow=this.shadows),this.desk&&(this.desk.receiveShadow=this.shadows)}async initialize(){this.renderer=new j5({antialias:!0,alpha:!0}),this.container.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=this.shadows,this.renderer.shadowMap.type=2,this.renderer.setClearColor(0,0),this.setDimensions(this.dimensions),this.world.gravity.set(0,0,-9.8*this.gravity_multiplier),this.world.broadphase=new U5,this.world.solver.iterations=14,this.world.allowSleep=!0,this.makeWorldBox(),this.resizeWorld(),await this.loadTheme({colorset:this.theme_colorset,texture:this.theme_texture,material:this.theme_material}).catch(e=>{throw new Error("Unable to load theme")}),this.sounds&&await this.loadSounds().catch(e=>{throw new Error("Unable to load sounds")}),this.initialized=!0,this.renderer.render(this.scene,this.camera)}makeWorldBox(){Object.keys(this.box_body).length&&(this.world.removeBody(this.box_body.desk),this.world.removeBody(this.box_body.topWall),this.world.removeBody(this.box_body.bottomWall),this.world.removeBody(this.box_body.leftWall),this.world.removeBody(this.box_body.rightWall));const e=new Un,a=new Un;this.world.addContactMaterial(new $n(e,this.dice_body_material,{mass:0,friction:.6,restitution:.5})),this.world.addContactMaterial(new $n(a,this.dice_body_material,{mass:0,friction:.6,restitution:1})),this.world.addContactMaterial(new $n(this.dice_body_material,this.dice_body_material,{mass:0,friction:.6,restitution:.5})),this.box_body.desk=new Ee({allowSleep:!1,mass:0,shape:new dc,material:e}),this.world.addBody(this.box_body.desk),this.box_body.topWall=new Ee({allowSleep:!1,mass:0,shape:new dc,material:a}),this.box_body.topWall.quaternion.setFromAxisAngle(new R(1,0,0),Math.PI/2),this.box_body.topWall.position.set(0,this.display.containerHeight*.93,0),this.world.addBody(this.box_body.topWall),this.box_body.bottomWall=new Ee({allowSleep:!1,mass:0,shape:new dc,material:a}),this.box_body.bottomWall.quaternion.setFromAxisAngle(new R(1,0,0),-Math.PI/2),this.box_body.bottomWall.position.set(0,-this.display.containerHeight*.93,0),this.world.addBody(this.box_body.bottomWall),this.box_body.leftWall=new Ee({allowSleep:!1,mass:0,shape:new dc,material:a}),this.box_body.leftWall.quaternion.setFromAxisAngle(new R(0,1,0),-Math.PI/2),this.box_body.leftWall.position.set(this.display.containerWidth*.93,0,0),this.world.addBody(this.box_body.leftWall),this.box_body.rightWall=new Ee({allowSleep:!1,mass:0,shape:new dc,material:a}),this.box_body.rightWall.quaternion.setFromAxisAngle(new R(0,1,0),Math.PI/2),this.box_body.rightWall.position.set(-this.display.containerWidth*.93,0,0),this.world.addBody(this.box_body.rightWall)}async loadTheme(e){let a;this.theme_customColorset?a=await this.DiceColors.makeColorSet(this.theme_customColorset):a=await this.DiceColors.getColorSet(e),this.DiceFactory.applyColorSet(a),this.colorData=a}async loadSounds(){let e={felt:7,wood_table:7,wood_tray:7,metal:9},a={coin:6,metal:12,plastic:15,wood:12};const o=this.colorData.texture.material.match(/wood|metal/g);if(this.sound_dieMaterial=o?this.colorData.texture.material:"plastic",!this.sounds_table.hasOwnProperty(this.surface)){this.sounds_table[this.surface]=[];let r=e[this.surface];for(let i=1;i<=r;++i){const n=await this.loadAudio(this.assetPath+"sounds/surfaces/surface_"+this.surface+i+".mp3");this.sounds_table[this.surface].push(n)}}if(!this.sounds_dice.hasOwnProperty("coin")){this.sounds_dice.coin=[];let r=a.coin;for(let i=1;i<=r;++i){const n=await this.loadAudio(this.assetPath+"sounds/dicehit/dicehit_coin"+i+".mp3");this.sounds_dice.coin.push(n)}}if(!this.sounds_dice.hasOwnProperty(this.sound_dieMaterial)){this.sounds_dice[this.sound_dieMaterial]=[];let r=a[this.sound_dieMaterial];for(let i=1;i<=r;++i){const n=await this.loadAudio(this.assetPath+"sounds/dicehit/dicehit_"+this.sound_dieMaterial+i+".mp3");this.sounds_dice[this.sound_dieMaterial].push(n)}}}loadAudio(e){return new Promise((a,o)=>{let r=new Audio;r.oncanplaythrough=()=>a(r),r.crossOrigin="anonymous",r.src=e,r.onerror=i=>o(i)}).catch(a=>{console.error("Unable to load audio")})}async updateConfig(e={}){Object.apply(this,e),this.theme_customColorset=e.theme_customColorset?e.theme_customColorset:null,e.theme_colorset&&(this.theme_colorset=e.theme_colorset),e.theme_texture&&(this.theme_texture=e.theme_texture),e.theme_material&&(this.theme_material=e.theme_material),(e.theme_colorset||e.theme_texture||e.theme_material||e.theme_customColorset)&&await this.loadTheme({colorset:this.theme_colorset,texture:this.theme_texture,material:this.theme_material})}setDimensions(e){switch(this.display.currentWidth=this.container.clientWidth/2,this.display.currentHeight=this.container.clientHeight/2,e?(this.display.containerWidth=e.x,this.display.containerHeight=e.y):(this.display.containerWidth=this.display.currentWidth,this.display.containerHeight=this.display.currentHeight),this.display.aspect=Math.min(this.display.currentWidth/this.display.containerWidth,this.display.currentHeight/this.display.containerHeight),this.display.scale=Math.sqrt(this.display.containerWidth*this.display.containerWidth+this.display.containerHeight*this.display.containerHeight)/13,this.makeWorldBox(),this.renderer.setSize(this.display.currentWidth*2,this.display.currentHeight*2),this.cameraHeight.max=this.display.currentHeight/this.display.aspect/Math.tan(10*Math.PI/180),this.cameraHeight.medium=this.cameraHeight.max/1.5,this.cameraHeight.far=this.cameraHeight.max,this.cameraHeight.close=this.cameraHeight.max/2,this.camera&&this.scene.remove(this.camera),this.camera=new go(20,this.display.currentWidth/this.display.currentHeight,1,this.cameraHeight.max*1.3),this.animstate){case"selector":this.camera.position.z=this.selector.dice.length>9?this.cameraHeight.far:this.selector.dice.length<6?this.cameraHeight.close:this.cameraHeight.medium;break;case"throw":case"afterthrow":default:this.camera.position.z=this.cameraHeight.far}this.camera.lookAt(new J(0,0,0));const a=Math.max(this.display.containerWidth,this.display.containerHeight);this.light&&this.scene.remove(this.light),this.light_amb&&this.scene.remove(this.light_amb),this.light=new xU(this.color_spotlight,this.light_intensity),this.light.position.set(-a/2,a/2,a*3),this.light.target.position.set(0,0,0),this.light.distance=a*5,this.light.angle=Math.PI/4,this.light.castShadow=this.shadows,this.light.shadow.camera.near=a/10,this.light.shadow.camera.far=a*5,this.light.shadow.camera.fov=50,this.light.shadow.bias=.001,this.light.shadow.mapSize.width=1024,this.light.shadow.mapSize.height=1024,this.scene.add(this.light),this.light_amb=new vU(16777147,6776689,this.light_intensity),this.scene.add(this.light_amb),this.desk&&this.scene.remove(this.desk);let o=new pU;o.opacity=.5,this.desk=new Pr(new Pf(this.display.containerWidth*6,this.display.containerHeight*6,1,1),o),this.desk.receiveShadow=this.shadows,this.scene.add(this.desk),this.renderer.render(this.scene,this.camera)}resizeWorld(){const e=QH(()=>{const a=this.renderer.domElement,o=this.container.clientWidth,r=this.container.clientHeight,i=a.width!==o||a.height!==r;return i&&this.setDimensions(new St(this.container.clientWidth,this.container.clientHeight)),i});window.addEventListener("resize",e)}vectorRand({x:e,y:a}){let o=Math.random()*Math.PI/5-Math.PI/5/2,r={x:e*Math.cos(o)-a*Math.sin(o),y:e*Math.sin(o)+a*Math.cos(o)};return r.x==0&&(r.x=.01),r.y==0&&(r.y=.01),r}getNotationVectors(e,a,o,r){let i=new z3(e);for(let n in i.set){const s=this.DiceFactory.get(i.set[n].type);let l=i.set[n].num,c=i.set[n].op,d=i.set[n].sid,m=i.set[n].gid,u=i.set[n].glvl,v=i.set[n].func,h=i.set[n].args;for(let p=0;p<l;p++){let f=this.vectorRand(a);f.x/=r,f.y/=r;let g={x:this.display.containerWidth*(f.x>0?-1:1)*.9,y:this.display.containerHeight*(f.y>0?-1:1)*.9,z:Math.random()*200+200},y=Math.abs(f.x/f.y);y>1?g.y/=y:g.x*=y;let x=this.vectorRand(a);x.x/=r,x.y/=r;let b,w,_;s.shape!="d2"?(b={x:x.x*o,y:x.y*o,z:-10},w={x:-(Math.random()*f.y*5+s.inertia*f.y),y:Math.random()*f.x*5+s.inertia*f.x,z:0},_={x:Math.random(),y:Math.random(),z:Math.random(),a:Math.random()}):(b={x:x.x*o/10,y:x.y*o/10,z:3e3},w={x:12*s.inertia,y:1*s.inertia,z:0},_={x:1,y:1,z:Math.random(),a:Math.random()}),i.vectors.push({index:this.dieIndex++,type:s.type,op:c,sid:d,gid:m,glvl:u,func:v,args:h,pos:g,velocity:b,angle:w,axis:_})}}return i}swapDiceFace(e,a){const o=this.DiceFactory.get(e.notation.type);if(e.resultReason="forced",o.shape=="d4"){this.swapDiceFace_D4(e,a);return}o.values;let r=parseInt(e.getLastValue().value);a=parseInt(a),e.notation.type=="d10"&&r==0&&(r=10),e.notation.type=="d100"&&r==0&&(r=100),e.notation.type=="d100"&&r>0&&r<10&&(r*=10),e.notation.type=="d10"&&a==0&&(a=10),e.notation.type=="d100"&&a==0&&(a=100),e.notation.type=="d100"&&a>0&&a<10&&(a*=10);let i=o.values.indexOf(r),n=o.values.indexOf(a);if(i<0||n<0||i==n)return;let s=e.geometry.clone(),l=[],c=[],d=2;o.shape=="d10"&&(d=1);let m,u=n+d;o.shape!="d2"?(m=i+d,u=n+d):(m=i+1,u=n+1);for(var v=0,h=s.groups.length;v<h;++v){const p=s.groups[v].materialIndex;if(p==m){l.push(v);continue}if(p==u){c.push(v);continue}}if(!(l.length<=0||c.length<=0)){for(let p=0,f=c.length;p<f;p++)s.groups[c[p]].materialIndex=m;for(let p=0,f=l.length;p<f;p++)s.groups[l[p]].materialIndex=u;e.geometry=s,e.result=[]}}swapDiceFace_D4(e,a){const o=this.DiceFactory.get(e.notation.type);let r=parseInt(e.getLastValue().value);if(a=parseInt(a),!(r>=1&&r<=4))return;let i=a-r,n=e.geometry.clone();for(let s=0,l=n.groups.length;s<l;++s){const c=n.groups[s];let d=c.materialIndex;if(d!=0){for(d+=i-1;d>4;)d-=4;for(;d<1;)d+=4;c.materialIndex=d+1}}i!=0&&(i<0&&(i+=4),e.material=this.DiceFactory.createMaterials(o,0,0,!1,i)),e.geometry=n}spawnDice(e,a=!1){const{pos:o,axis:r,angle:i,velocity:n}=e;let s;if(a)s=a,s.stopped=0,this.world.removeBody(s.body);else{if(s=this.DiceFactory.create(e.type,this.colorData),!s)return;s.notation=e,s.result=[],s.stopped=0,s.castShadow=this.shadows,this.scene.add(s),this.diceList.push(s)}s.body=new Ee({allowSleep:!0,sleepSpeedLimit:75,sleepTimeLimit:.9,mass:s.mass,shape:s.geometry.cannon_shape,material:this.dice_body_material}),s.body.type=Ee.DYNAMIC,s.body.position.set(o.x,o.y,o.z),s.body.quaternion.setFromAxisAngle(new R(r.x,r.y,r.z),r.a*Math.PI*2),s.body.angularVelocity.set(i.x,i.y,i.z),s.body.velocity.set(n.x,n.y,n.z),s.body.linearDamping=.1,s.body.angularDamping=.1,s.body.diceShape=s.shape,s.body.sleepState=0,s.body.addEventListener("collide",this.eventCollide.bind(this)),this.world.addBody(s.body)}eventCollide({body:e,target:a}){if(this.animstate=="simulate"||!this.sounds||!e||this.volume<=0)return;let o=Date.now(),r=e.mass>0?"dice":"table";if(!((this.lastSoundStep==e.world.stepnumber||this.lastSound>o)&&r!="dice")&&!((this.lastSoundStep==e.world.stepnumber||this.lastSound>o)&&r=="dice"&&this.lastSoundType=="dice")){if(e.mass>0){let i=e.velocity.length();if(i<250)return;let n;e.diceShape==="d2"?n=this.sounds_dice.coin[Math.floor(Math.random()*this.sounds_dice.coin.length)]:n=this.sounds_dice[this.sound_dieMaterial][Math.floor(Math.random()*this.sounds_dice[this.sound_dieMaterial].length)],n&&(n.volume=Math.min(i/8e3,this.volume/100),n.play().catch(s=>{})),this.lastSoundType="dice"}else{let i=a.velocity.length();if(i<250)return;let n=this.surface,s=this.sounds_table[n],l=s[Math.floor(Math.random()*s.length)];l&&(l.volume=Math.min(i/8e3,this.volume/100),l.play().catch(c=>{})),this.lastSoundType="table"}this.lastSoundStep=e.world.stepnumber,this.lastSound=o+this.soundDelay}}checkForRethrow(e){let a=e.notation.func?e.notation.func.toLowerCase():"",o,r=!1;if(a!=""&&o&&o.method){a=e.notation.func.toLowerCase();let i=e.notation.args||"";r=o.method(e,i)}return r}throwFinished(){const e=this.iteration>this.iterationLimit;for(let a=0,o=this.diceList.length;a<o;++a){const r=this.diceList[a],i=Ee.SLEEPING;if(r.body.sleepState<i&&!e)return!1;if(r.body.sleepState==i||e){if(r.body.type===Ee.KINEMATIC)continue;let n=!1;if(r.result.length==0?(r.storeRolledValue(r.resultReason),n=this.checkForRethrow(r)):r.result.length>0&&r.rerolling&&(r.rerolling=!1,r.storeRolledValue("reroll"),n=this.checkForRethrow(r)),n)return r.rerolls+=1,r.rerolling=!0,r.body.wakeUp(),r.body.type=Ee.DYNAMIC,r.body.angularVelocity=new R(25,25,25),r.body.velocity=new R(0,0,3e3),!1;r.rerolling=!1,r.body.type=Ee.KINEMATIC}}return!0}simulateThrow(){for(this.animstate="simulate",this.iteration=0,this.rolling=!0;!this.throwFinished(!0);)++this.iteration,this.world.step(this.framerate)}animateThrow(e,a){this.animstate="throw";let o=Date.now();this.last_time=this.last_time||o-this.framerate*1e3;let r=(o-this.last_time)/1e3;++this.iteration;let i=Math.floor(r/this.framerate);for(let n=0;n<i;n++)this.world.step(this.framerate),++this.steps;for(let n in this.scene.children){let s=this.scene.children[n];s.body!=null&&(s.position.copy(s.body.position),s.quaternion.copy(s.body.quaternion))}if(this.renderer.render(this.scene,this.camera),this.last_time=this.last_time+i*this.framerate*1e3,this.running==e&&this.throwFinished()){this.running=!1,this.rolling=!1,a&&a.call(this,this.notationVectors),this.running=Date.now(),this.animateAfterThrow(this.running);return}this.running==e&&((n,s,l,c,d)=>{!l&&r<this.framerate?setTimeout(()=>{requestAnimationFrame(()=>{n.call(this,s,c,d)})},(this.framerate-r)*1e3):requestAnimationFrame(()=>{n.call(this,s,c,d)})}).bind(this)(this.animateThrow,e,this.adaptive_timestep,a)}animateAfterThrow(e){this.animstate="afterthrow";let a=Date.now(),o=(a-this.last_time)/1e3;o>3&&(o=this.framerate),this.running=!1,this.last_time=a,this.renderer.render(this.scene,this.camera),this.running==e&&((r,i,n)=>{!n&&o<this.framerate?setTimeout(()=>{requestAnimationFrame(()=>{r.call(this,i)})},(this.framerate-o)*1e3):requestAnimationFrame(()=>{r.call(this,i)})}).bind(this)(this.animateAfterThrow,e,this.adaptive_timestep)}startClickThrow(e){this.rolling&&(this.clearDice(),this.rolling=!1);let a={x:(Math.random()*2-.5)*this.display.currentWidth,y:-(Math.random()*2-.5)*this.display.currentHeight},o=Math.sqrt(a.x*a.x+a.y*a.y)+100,r=(Math.random()+3)*o*this.strength;return this.getNotationVectors(e,a,r,o)}clearDice(){this.running=!1;let e;for(;e=this.diceList.pop();)this.scene.remove(e),e.body&&this.world.removeBody(e.body);this.renderer.render(this.scene,this.camera),setTimeout(()=>{this.renderer.render(this.scene,this.camera)},100)}getDiceResults(e){if(e!==void 0)return{type:this.diceList[e].shape,sides:parseInt(this.diceList[e].shape.substring(1)),id:e,...this.diceList[e].result.at(-1)};let a=0;const o=this.notationVectors.constant?parseInt(`${this.notationVectors.op}${this.notationVectors.constant}`):0;let r=o;return{notation:this.notationVectors.notation,sets:this.notationVectors.set.map(i=>{const n=a+i.num-1;let s=0;const l=[];for(let d=a;d<=n;d++){if(this.diceList[a].result.at(-1).reason==="remove"){a++;continue}l.push({type:i.type,sides:parseInt(i.type.substring(1)),id:a,...this.diceList[a].result.at(-1)}),s+=this.diceList[a].result.at(-1).value,a++}const c={num:i.num,type:i.type,sides:parseInt(i.type.substring(1)),rolls:l,total:s};return r+=s,c}),modifier:o,total:r}}async roll(e){if(this.notationVectors=this.startClickThrow(e),this.notationVectors)return new Promise((a,o)=>{this.rollDice(()=>{const r=this.getDiceResults();this.onRollComplete(r);const i=new CustomEvent("rollComplete",{detail:r});document.dispatchEvent(i),a(r)})})}async reroll(e){return this.rolling=!0,this.running=Date.now(),this.iteration=0,new Promise((a,o)=>{e.forEach(r=>{const i=this.diceList[r];i.rerolls+=1,i.rerolling=!0,i.body.wakeUp(),i.body.type=Ee.DYNAMIC,i.body.angularVelocity=new R(25,25,25),i.body.velocity=new R(0,0,3e3)}),this.animateThrow(this.running,()=>{const r=e.map(n=>this.getDiceResults(n));this.onRerollComplete(r);const i=new CustomEvent("rerollComplete",{detail:r});document.dispatchEvent(i),a(r)})})}async add(e){let a=this.diceList.length;if(!a)return this.roll(e);let o=this.startClickThrow(e),r=[];for(let i=0,n=o.vectors.length;i<n;++i)this.spawnDice(o.vectors[i]);this.simulateThrow(),this.steps=0,this.iteration=0;for(let i=0,n=o.vectors.length;i<n;++i){const s=a+i;!this.diceList[s]||(this.spawnDice(o.vectors[i],this.diceList[s]),r.push(s))}if(o.result&&o.result.length>0)for(let i=0;i<o.result.length;i++){const n=a+i;let s=this.diceList[n];!s||s.getLastValue().value!=o.result[i]&&this.swapDiceFace(s,o.result[i])}return this.notationVectors=z3.mergeNotation(this.notationVectors,o),new Promise((i,n)=>{const s=()=>{const l=r.map(d=>this.getDiceResults(d));this.onAddDiceComplete(l);const c=new CustomEvent("addDiceComplete",{detail:l});document.dispatchEvent(c),i(l)};this.rolling=!0,this.running=Date.now(),this.last_time=0,this.animateThrow(this.running,s)})}async remove(e){return new Promise((a,o)=>{const r=[];e.forEach(n=>{const s=this.diceList[n];s.body&&this.world.removeBody(s.body),this.scene.remove(s),s.storeRolledValue("remove"),r.push(this.getDiceResults(n))}),this.renderer.render(this.scene,this.camera),this.onRemoveDiceComplete(r);const i=new CustomEvent("removeDiceComplete",{detail:r});document.dispatchEvent(i),a(r)})}rollDice(e){if(this.notationVectors.error){e.call(this);return}this.clearDice();for(let a=0,o=this.notationVectors.vectors.length;a<o;++a)this.spawnDice(this.notationVectors.vectors[a]);this.simulateThrow(),this.steps=0,this.iteration=0;for(let a=0,o=this.diceList.length;a<o;++a)!this.diceList[a]||this.spawnDice(this.notationVectors.vectors[a],this.diceList[a]);if(this.notationVectors.result&&this.notationVectors.result.length>0)for(let a=0;a<this.notationVectors.result.length;a++){let o=this.diceList[a];!o||o.getLastValue().value!=this.notationVectors.result[a]&&this.swapDiceFace(o,this.notationVectors.result[a])}this.rolling=!0,this.running=Date.now(),this.last_time=0,this.animateThrow(this.running,e)}}async function tW(t){const e=new eW(t,{theme_customColorset:{background:"#00ffcb",foreground:"#ffffff",texture:"marble",material:"metal"},light_intensity:1,gravity_multiplier:600,baseScale:100,strength:2,sounds:!0,onRollComplete:a=>{console.log("I've got results :>> ",a)}});return await e.initialize(),e}const F3=Array.from({length:20},(t,e)=>e+1),aW=()=>F3[Math.floor(Math.random()*F3.length)];function oW(t,e=1){t.roll(`${e}d20@${aW()}`)}const rW=({containerId:t})=>{const[e,a]=C.useState(),o=C.useCallback(async()=>{const i=await tW(t);a(i)},[t]);C.useEffect(()=>(e||o(),()=>{e&&e.clearDice()}),[e,o]);const r=C.useCallback(()=>{e&&oW(e)},[e]);return{box:e,rodar:r}},iW=["coin_default","coin_silver","radiant","fire","ice","poison","acid","thunder","lightning","air","water","earth","force","psychic","necrotic","breebaby","pinkdreams","inspired","bloodmoon","starynight","glitterparty","astralsea","bronze","dragons","birdup","tigerking","covid","isabelle","thecage","test","rainbow","black","white","swrpg_abi","swrpg_pro","swrpg_dif","swrpg_cha","swrpg_boo","swrpg_set","swrpg_for","swa_red","swa_blue","swa_black","xwing_red","xwing_green","swl_atkred","swl_atkblack","swl_atkwhite","swl_defred","swl_defwhite"],nW=({onRodar:t,box:e})=>{const[a,o]=C.useState("poison"),[r,i]=C.useState(!0),n=async l=>{const c=l.target.value;o(c),s(c)},s=C.useCallback(async l=>{i(!0),await e.updateConfig({theme_colorset:l}),i(!1)},[e]);return M.jsxs(c1,{sx:{zIndex:40},children:[M.jsx(Sf,{onClick:()=>{t()},color:"primary",disabled:r,children:"Jogar"}),M.jsx($4,{displayEmpty:!0,inputProps:{"aria-label":"Without label"},labelId:"Temas",id:"temas",value:a,label:"Age",onChange:n,children:iW.map(l=>M.jsx(yO,{value:l,children:l},l))})]})},sW={background:"#559955",position:"absolute",top:63,right:0,bottom:0,left:0,overflow:"hidden"},lW=()=>{const{box:t,rodar:e}=rW({containerId:"#box"});return M.jsx(yr,{children:M.jsxs(Ta,{children:[!!t&&M.jsx(nW,{box:t,onRodar:e}),M.jsx(Ta,{id:"box",style:sW})]})})},cW=()=>M.jsx("div",{children:M.jsx("p",{children:"Erro"})}),dW=()=>M.jsx(yr,{children:M.jsx("p",{children:"Ficha"})}),uW="/tagmar_pwa/assets/empty-gs4H6fV6.png",mW="/tagmar_pwa/assets/some-BVGN2feB.png";var T1={},pW=sn;Object.defineProperty(T1,"__esModule",{value:!0});var Q5=T1.default=void 0,fW=pW(ln()),hW=M;Q5=T1.default=(0,fW.default)((0,hW.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite");const vW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#717171"}),C.createElement("path",{d:"M17.7358 37.8992L15.1749 37.0456H13.8944H13.0408C13.0408 37.0456 11.9707 37.2416 11.3335 37.0456C10.9772 36.9359 10.7434 36.8823 10.4798 36.6187C10.2163 36.3552 10.1339 36.1289 10.053 35.7651C9.98069 35.4397 10.053 34.9114 10.053 34.9114C10.053 34.9114 9.93374 33.8601 10.053 33.2041C10.1473 32.6855 10.4798 31.9237 10.4798 31.9237L10.9067 31.07V28.5091C10.9067 28.5091 10.863 27.4671 10.9067 26.8018C10.973 25.7901 11.3335 24.2408 11.3335 24.2408C11.3335 24.2408 11.8108 22.4067 12.1871 21.2531C12.6288 19.8991 12.8593 19.1262 13.4676 17.8385C14.0416 16.6234 14.4206 15.9629 15.1749 14.8507C15.6427 14.1609 15.9706 13.8214 16.4554 13.1434C17.1545 12.1657 17.3896 11.5028 18.1627 10.5825C18.7691 9.86048 19.1278 9.45685 19.87 8.87518C20.343 8.50444 20.5616 8.1416 21.1504 8.02153C21.8238 7.88424 22.8577 8.44836 22.8577 8.44836C22.8577 8.44836 24.4774 9.40816 25.4187 10.1557C26.7109 11.1818 28.4064 13.1434 28.4064 13.1434C28.4064 13.1434 28.5119 13.6808 28.4064 13.9971C28.2573 14.4443 27.5528 14.8507 27.5528 14.8507L26.6991 15.7044L24.1382 14.4239H24.565V13.9971V13.1434H24.1382L23.7114 13.9971V14.8507L24.565 15.2775L25.8455 15.7044L26.6991 16.1312C26.6991 16.1312 27.2892 16.2945 27.5528 16.558C27.8163 16.8216 27.9796 17.4117 27.9796 17.4117C27.9796 17.4117 28.2642 18.281 27.9796 18.6921C27.6796 19.1255 26.6991 19.119 26.6991 19.119C26.6991 19.119 26.1709 19.1913 25.8455 19.119C25.4816 19.0381 24.9918 18.6921 24.9918 18.6921L23.7114 18.2653H22.8577C22.8577 18.2653 22.0597 18.1337 21.5773 18.2653C21.2177 18.3634 20.9872 18.4286 20.7236 18.6921C20.4601 18.9557 20.2968 19.5458 20.2968 19.5458C20.2968 19.5458 19.9642 20.3076 19.87 20.8262C19.7507 21.4822 19.87 21.8668 19.87 22.5335C19.87 23.2003 19.7507 23.5849 19.87 24.2408C19.9642 24.7594 20.2968 25.5213 20.2968 25.5213L20.7236 26.8018C20.7236 26.8018 21.1765 25.9692 21.5773 25.5213C22.133 24.9002 22.56 24.6527 23.2845 24.2408C24.0649 23.7972 25.4187 23.3872 25.4187 23.3872L27.126 22.9604C27.126 22.9604 28.4133 22.6072 29.2601 22.5335C29.9243 22.4758 30.3031 22.4758 30.9674 22.5335C31.8141 22.6072 33.1015 22.9604 33.1015 22.9604C33.1015 22.9604 34.1673 23.1405 34.8088 23.3872C35.7159 23.7361 36.1245 24.1433 36.9429 24.6677C37.4489 24.9919 37.7755 25.1206 38.2234 25.5213C38.8445 26.077 39.162 26.4685 39.5038 27.2286C39.8525 28.0037 39.9307 29.3627 39.9307 29.3627C39.9307 29.3627 40.0867 30.9358 39.9307 31.9237C39.7663 32.965 39.5839 33.5603 39.077 34.4846C38.6763 35.2154 38.3859 35.6026 37.7966 36.1919C36.4788 37.5097 33.5283 38.326 33.5283 38.326C33.5283 38.326 31.4738 38.9806 30.1137 39.1797C28.1346 39.4693 24.9918 39.1797 24.9918 39.1797L20.7236 38.7528L17.7358 37.8992Z",stroke:"white"}),C.createElement("path",{d:"M33.5283 31.9236C34.2156 31.2363 33.8659 30.0252 34.8088 29.7895C35.1322 29.7086 35.3643 29.6404 35.6625 29.7895C35.8733 29.8949 35.9723 30.0116 36.0893 30.2163C36.4591 30.8635 35.2356 31.9236 35.2356 31.9236C35.2356 31.9236 34.4867 32.7376 33.9552 33.2041C33.3287 33.7538 32.959 34.0499 32.2479 34.4845C31.6118 34.8732 31.2327 35.0613 30.5406 35.3382C30.0512 35.5339 29.7787 35.6707 29.2601 35.765C28.6041 35.8843 28.2147 35.8452 27.5528 35.765C26.8705 35.6823 26.5069 35.525 25.8455 35.3382C24.831 35.0516 24.214 34.9821 23.2846 34.4845C22.7547 34.2009 22.2041 34.1976 22.0041 33.6309C21.8931 33.3165 21.7684 33.013 22.0041 32.7772C22.2398 32.5415 22.8577 32.7772 22.8577 32.7772L24.565 33.6309C24.565 33.6309 25.8541 33.9672 26.6992 34.0577C27.6936 34.1642 28.2801 34.257 29.2601 34.0577C30.1397 33.8788 31.3942 33.2041 31.3942 33.2041C31.3942 33.2041 32.8411 32.6108 33.5283 31.9236Z",fill:"white",stroke:"white"})),gW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#FFCC4D"}),C.createElement("path",{d:"M31 39.0685H35L34.5 31.5685L36 32.5685V30.5685L35.5 25.5685V21.0685L34 22.5685V22.0685V17.5685L35 16.5685C35 16.5685 35.0311 15.9578 35 15.5685C34.9358 14.766 34.6953 14.3496 34.5 13.5685C34.3047 12.7875 34.3939 12.2707 34 11.5685C33.5947 10.846 32.5 10.0685 32.5 10.0685C32.5 10.0685 31.9229 9.42373 31.5 9.0685C30.9609 8.61568 30 8.0685 30 8.0685L29 7.5685V6.5685C29 6.5685 28.7485 5.92749 28.5 5.5685C28.1856 5.11442 27.5 4.5685 27.5 4.5685C27.5 4.5685 26.9212 4.18338 26.5 4.0685C25.9349 3.91437 25 4.0685 25 4.0685C25 4.0685 24.3875 4.02006 24 4.0685C23.3873 4.14509 22.999 4.20482 22.5 4.5685C21.931 4.98316 21.8038 5.43337 21.5 6.0685C21.2336 6.62555 21 7.5685 21 7.5685L19 8.5685L17.5 9.5685C17.5 9.5685 16.8144 10.1144 16.5 10.5685C16.2515 10.9275 16 11.5685 16 11.5685C16 11.5685 15.1894 12.7161 15 13.5685C14.8306 14.331 15 15.5685 15 15.5685V17.0685L16 18.0685V22.5685L14.5 21.0685L14 32.5685L15.5 31.5685L15 39.0685H19L18 31.0685H20.5V28.0685C20.5 28.0685 19.904 27.1451 19.5 26.5685C18.9397 25.769 18.4053 25.4567 18 24.5685C17.5069 23.488 17.5884 22.7529 17.5 21.5685C17.4273 20.5949 17.5 19.0685 17.5 19.0685C17.5 19.0685 17.262 17.8124 17.5 17.0685C17.7146 16.398 18.0022 16.0663 18.5 15.5685C18.9978 15.0707 19.337 14.8053 20 14.5685C20.9194 14.2401 21.5325 14.4378 22.5 14.5685C23.2978 14.6763 23.7008 14.9716 24.5 15.0685C25.2754 15.1625 25.7316 15.2082 26.5 15.0685C27.1075 14.958 27.3925 14.679 28 14.5685C28.7684 14.4288 30 14.5685 30 14.5685C30 14.5685 31.001 14.7048 31.5 15.0685C32.069 15.4832 32.5 16.5685 32.5 16.5685V19.5685C32.5 19.5685 32.6827 21.4113 32.5 22.5685C32.3074 23.7883 32.089 24.483 31.5 25.5685C30.9037 26.6674 29.5 28.0685 29.5 28.0685V31.0685H32V32.0685L31 39.0685Z",fill:"white",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M39 39.0684H35.5L34.5 32.0684L36 33.0684L37 33.5684L38.5 36.0684L39 39.0684Z",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M19 39.0684H30.5L32 31.5684H29L27.5 33.5684L25 38.0684L22.5 33.5684L20.5 31.0684H18L19 39.0684Z",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M11 39.0684H14.5L15 32.0684L12.5 33.5684L11.5 35.5684L11 39.0684Z",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M36 20.0684L34 22.0684V18.0684L34.5 17.5684C34.5 17.5684 35.0341 16.8649 35.5 16.5684C36.0209 16.2369 36.4325 16.3116 37 16.0684C37.4013 15.8964 38 15.5684 38 15.5684C38 15.5684 38.0484 16.1809 38 16.5684C37.9234 17.1811 37.7664 17.5113 37.5 18.0684C37.0788 18.9491 36 20.0684 36 20.0684Z",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M16.0001 18.0684V22.0684C16.0001 22.0684 14.7202 20.906 14.0001 20.0684C13.3637 19.328 12.5001 18.0684 12.5001 18.0684C12.5001 18.0684 12.115 17.4896 12.0001 17.0684C11.846 16.5032 12.0001 15.5684 12.0001 15.5684C12.0001 15.5684 12.9431 15.8019 13.5001 16.0684C14.1353 16.3721 15.0001 17.0684 15.0001 17.0684L16.0001 18.0684Z",stroke:"white",strokeWidth:.8})),yW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#74B564"}),C.createElement("path",{d:"M16.0358 35.5977V40.5977H34.0358V35.5977L31.5358 37.5977L29.5358 35.5977L27.0358 37.5977L25.0358 35.5977L22.5358 37.5977L20.5358 35.5977L18.5358 37.5977L16.0358 35.5977Z",fill:"white"}),C.createElement("path",{d:"M34 24C34 24 34.3305 23.218 34.5 23C34.7681 22.6554 35.0358 22.0977 35.0358 22.0977L35.5358 20.5977L36.0358 19.5977C36.0358 19.5977 36.543 18.947 36.3683 18.5977C36.2449 18.3507 36 18 36 18L35.0358 18.5977C35.0358 18.5977 34.4371 18.9257 34.0358 19.0977C33.4682 19.3409 32.5358 19.5977 32.5358 19.5977C32.5358 19.5977 32.3038 18.9423 32.0358 18.5977C31.7677 18.253 31.8544 17.2676 31.5 16.5C31.0908 15.6136 30 14.5 30 14.5C30 14.5 29.2225 13.4053 28.5 13C27.7978 12.6061 26.5 12.5 26.5 12.5L25.0358 12L24 11.5L22.5 12.5L20.0358 13L19 13.5L18.0358 15C17.8469 15.5879 17.5358 16.5 17.5358 16.5L17.0358 19.0977C16.9975 19.2891 17.0358 19.5977 17.0358 19.5977L16.0358 19.0977L15.0358 18.5977L14.0358 18.0977C14.0358 18.0977 14.0358 18.7071 14.0358 19.0977C14.0358 19.4882 13.9873 19.7101 14.0358 20.0977C14.1123 20.7104 14.5358 21.5977 14.5358 21.5977L15.0358 22.5977C15.0358 22.5977 15.227 23.2889 15.5358 23.5977C15.8445 23.9064 16.1035 24.0359 16.5358 24.0977C16.7291 24.1253 17.0358 24.0977 17.0358 24.0977L17.5358 25.0977L18.0358 26.0977C18.0358 26.0977 18.5829 27.0586 19.0358 27.5977C19.391 28.0205 20.0358 28.5977 20.0358 28.5977L21.0358 29.5977V30.5977V31.5977C21.0358 31.5977 20.1215 31.5977 19.5358 31.5977C18.7547 31.5977 18.3042 31.4579 17.5358 31.5977C16.9282 31.7081 16.6215 31.9024 16.0358 32.0977C15.45 32.2929 15.0719 32.2913 14.5358 32.5977C13.8165 33.0087 13.52 32.9528 13 33.5977C12.558 34.1457 12.1808 34.9087 12.0358 35.5977C11.9553 35.9798 12.0358 36.5977 12.0358 36.5977V38.5977V40.0977V40.5977H16.0358M16.0358 40.5977V35.5977L18.5358 37.5977L20.5358 35.5977L22.5358 37.5977L25.0358 35.5977L27.0358 37.5977L29.5358 35.5977L31.5358 37.5977L34.0358 35.5977V40.5977H16.0358Z",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M34 40.5977H37.5C37.5 40.5977 38.6668 36.901 37.5 35.0977C37.05 34.4021 37.0858 34.1834 36.5 33.5977C35.9142 33.0119 35.2193 32.5087 34.5 32.0977C33.6355 31.6037 32 31.5977 32 31.5977C32 31.5977 30.1867 31.1461 29 31.0977C28.6098 31.0817 28 31.0977 28 31.0977V29.0977C28 29.0977 28.9536 28.2203 29.5 27.5977C30.144 26.8638 30.4397 26.3972 31 25.5977C31.404 25.0211 32 24.0977 32 24.0977L32.5 23.5",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M18 30L20 28.5L18 27L17 24.5H16.5L15 23.5L13.9998 20.0977V24.0977C13.9998 24.0977 13.6566 27.6126 14.4998 29.5977L15.5 30.5C16.3284 31.0523 18 30 18 30Z",fill:"white",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M20.6711 7.60392C19.4514 7.90283 18.6792 7.94439 17.6193 8.61426L15.9975 10.5561L14.9987 12.0802C14.9987 12.0802 14.1179 13.3319 14.0589 13.6659C14 14 14.0589 16.1918 14.0589 16.1918V18.2125L16.497 19.1924L17.6193 15.1283L18.4947 13.0962L21.4913 12.0802L22.9896 11.5722L25.4867 11.6453L28.4833 13.0962L30.9804 15.1283L32.4787 19.1924L34.5 18.5C34.5 18.5 35 18.3083 35 17.5V17C35 17 34.6902 15.6412 34.4041 14.6763C34.1018 13.6572 33.3868 12.1504 33.3868 12.1504C33.3868 12.1504 32.317 10.4478 31.3523 9.62459C30.4738 8.87491 28.8092 8.10909 28.8092 8.10909C28.8092 8.10909 27.3178 7.2922 26.266 7.09875C25.2895 6.91914 24.7133 7.02534 23.7229 7.09875C22.518 7.18806 21.8441 7.31644 20.6711 7.60392Z",fill:"white"}),C.createElement("path",{d:"M34.9127 27.2255L34.4764 23.2566L33.4776 24.7806L32.4787 24.2726V24.7806L31.4799 25.7966L30 27.5L27.8809 29.8608L29 29.5C29 29.5 30.6854 29.6635 31.4799 29.8608C32.2744 30.0581 32.8671 30.0078 33.6666 29.8313C34.1002 29.7356 34.5 29 34.5 29C34.5 29 34.8287 28.4353 34.9127 28C34.9918 27.5899 34.9127 27.2255 34.9127 27.2255Z",fill:"white"}),C.createElement("path",{d:"M27.7919 29.8313L27.8809 29.8608M27.8809 29.8608L29 29.5C29 29.5 30.6854 29.6635 31.4799 29.8608C32.2744 30.0581 32.8671 30.0078 33.6666 29.8313C34.1002 29.7356 34.5 29 34.5 29C34.5 29 34.8287 28.4353 34.9127 28C34.9918 27.5899 34.9127 27.2255 34.9127 27.2255L34.4764 23.2566L33.4776 24.7806L32.4787 24.2726V24.7806L31.4799 25.7966L30 27.5L27.8809 29.8608ZM17.6193 8.61426C18.6792 7.94439 19.4514 7.90283 20.6711 7.60392C21.8441 7.31644 22.518 7.18806 23.7229 7.09875C24.7133 7.02534 25.2895 6.91914 26.266 7.09875C27.3178 7.2922 28.8092 8.10909 28.8092 8.10909C28.8092 8.10909 30.4738 8.87491 31.3523 9.62459C32.317 10.4478 33.3868 12.1504 33.3868 12.1504C33.3868 12.1504 34.1018 13.6572 34.4041 14.6763C34.6902 15.6412 35 17 35 17V17.5C35 18.3083 34.5 18.5 34.5 18.5L32.4787 19.1924L30.9804 15.1283L28.4833 13.0962L25.4867 11.6453L22.9896 11.5722L21.4913 12.0802L18.4947 13.0962L17.6193 15.1283L16.497 19.1924L14.0589 18.2125V16.1918C14.0589 16.1918 14 14 14.0589 13.6659C14.1179 13.3319 14.9987 12.0802 14.9987 12.0802L15.9975 10.5561L17.6193 8.61426Z",stroke:"white",strokeWidth:.8}),C.createElement("path",{d:"M33.9999 23.5977L34.5 23.5M32 23.5L32.9999 24.0977C32.9999 24.0977 33.3152 24.1608 33.4999 24.0977C33.7519 24.0116 34.5 23.5 34.5 23.5M34.5 23.5L34.4999 23.0977",stroke:"white",strokeWidth:.8})),xW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#0D6CF2"}),C.createElement("path",{d:"M14.1459 35.0845C13.1285 33.3179 12.6459 30.0845 12.6459 30.0845C12.6459 30.0845 12.0018 29.8374 11.6459 29.5845C10.7179 28.9248 10.1459 27.0845 10.1459 27.0845C10.1459 27.0845 9.81757 25.5039 10.1459 24.5845C10.3827 23.9215 10.5902 23.5167 11.1459 23.0845C11.4906 22.8164 11.71 22.5603 12.1459 22.5845C12.8489 22.6235 13.1459 24.0845 13.1459 24.0845L13.6459 22.5845C13.6459 22.5845 14.3103 20.7729 14.6459 19.5845C14.8648 18.8097 14.7617 18.292 15.1459 17.5845C15.7427 16.4858 16.547 16.1808 17.6459 15.5845C18.7314 14.9955 19.4449 14.872 20.6459 14.5845C22.1769 14.2179 23.0717 14.0845 24.6459 14.0845C26.2202 14.0845 27.1047 14.2636 28.6459 14.5845C30.0376 14.8742 31.0275 14.7071 32.1459 15.5845C32.9141 16.187 33.2435 16.6949 33.6459 17.5845C33.9778 18.318 33.9052 18.8162 34.1459 19.5845C34.4604 20.5879 35.1459 22.0845 35.1459 22.0845L35.6459 24.0845L36.1459 23.5845C36.1459 23.5845 36.2317 22.7225 36.6459 22.5845C37.0602 22.4464 37.3292 22.784 37.6459 23.0845C38.23 23.6386 38.0381 24.2866 38.1459 25.0845C38.2767 26.052 38.3827 26.6373 38.1459 27.5845C37.9341 28.4316 37.8445 29.0605 37.1459 29.5845C36.652 29.955 35.6459 30.0845 35.6459 30.0845C35.6459 30.0845 35.7122 31.0025 35.6459 31.5845C35.4776 33.062 34.9206 33.8151 34.1459 35.0845C33.3515 36.3862 32.7862 37.0717 31.6459 38.0845C30.5932 39.0195 29.9235 39.4925 28.6459 40.0845C27.3561 40.6821 26.562 40.9604 25.1459 41.0845C23.5777 41.2219 22.6535 41.0379 21.1459 40.5845C19.2208 40.0054 18.1611 39.4058 16.6459 38.0845C15.4966 37.0821 14.9071 36.406 14.1459 35.0845Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M11.1462 18.5846C11.2045 19.9641 11.6462 22.0846 11.6462 22.0846L13.1462 22.5846L13.6462 20.5846L14.6462 17.0846L18.1462 15.0846L22.6462 13.5846L28.1462 14.0846L32.6462 15.5846L34.6462 18.5846L35.6462 22.5846L37.1462 22.0846C37.1462 22.0846 37.2638 19.6422 37.1462 18.0846C37.0423 16.7078 37.0773 15.8963 36.6462 14.5846C35.9869 12.5781 35.183 11.5335 33.6462 10.0846C32.3059 8.82088 31.3765 8.21672 29.6462 7.58458C27.4377 6.77771 25.9966 7.01989 23.6462 7.08458C21.8787 7.13323 20.8375 7.0688 19.1462 7.58458C17.2233 8.171 16.1909 8.79791 14.6462 10.0846C13.263 11.2368 12.3765 11.9391 11.6462 13.5846C10.8502 15.3782 11.0634 16.624 11.1462 18.5846Z",fill:"white",stroke:"white",strokeLinecap:"round"})),bW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#7B61FF"}),C.createElement("path",{d:"M16.3564 39.2326C15.8482 38.6981 15.6226 38.2894 15.461 37.5698C15.3297 36.985 15.3889 36.63 15.461 36.0349C15.5354 35.4216 15.6272 35.0783 15.8447 34.5001C16.0414 33.9774 16.2345 33.7205 16.4843 33.221C16.734 32.7215 16.9757 32.4804 17.1238 31.9419C17.2438 31.5058 17.2468 31.243 17.2517 30.7907C17.2572 30.2888 17.1238 29.5117 17.1238 29.5117C17.1238 29.5117 17.1031 28.8875 17.1238 28.4884C17.1473 28.0367 17.3282 27.7831 17.2517 27.3372C17.1874 26.9623 17.0251 26.7884 16.868 26.4419C16.4251 25.4651 15.9438 25.0237 15.5889 24.0117C15.2518 23.0502 15.1686 22.4682 15.0773 21.4535C15.0012 20.6078 14.9504 20.1187 15.0773 19.2791C15.186 18.56 15.3189 18.1637 15.5889 17.4884C16.0471 16.3429 16.4356 15.7275 17.2517 14.8023C18.1705 13.7609 18.968 13.4786 20.0657 12.6279C21.4162 11.5813 22.1967 11.0237 23.5192 9.94187C24.534 9.1117 24.9884 8.49782 26.0773 7.76744C26.5611 7.44295 27.3564 7 27.3564 7C27.3564 7 28.343 7.38214 28.8913 7.76744C30.0602 8.58883 30.3684 9.46239 31.0657 10.7093C31.6996 11.8428 32.3448 13.7791 32.3448 13.7791L33.4959 17.4884C33.4959 17.4884 33.9324 19.2666 34.0076 20.4303C34.1274 22.2853 33.918 23.3524 33.4959 25.1628C33.1809 26.5142 32.8846 27.2591 32.3822 28.5223L32.3448 28.6163C31.8987 29.738 31.7109 30.4101 31.0657 31.4303C30.4777 32.36 30.0302 32.8049 29.275 33.6047C28.5714 34.3499 28.1475 34.7439 27.3564 35.3954C26.6392 35.9861 25.4378 36.8024 25.4378 36.8024C25.4378 36.8024 24.3665 37.598 23.775 38.2094C23.2814 38.7196 23.1673 39.1596 22.6238 39.6163C21.9397 40.1912 21.4587 40.4927 20.5773 40.6396C19.6296 40.7976 18.1471 40.2559 18.1471 40.2559C18.1471 40.2559 16.9114 39.8163 16.3564 39.2326Z",stroke:"white"}),C.createElement("path",{d:"M25.182 34.3723C25.182 34.3723 26.4286 33.6069 27.1006 32.9653C27.7946 32.3027 28.6355 31.0467 28.6355 31.0467C28.6355 31.0467 29.5909 29.6964 30.0424 28.7444C30.496 27.788 30.7119 27.2203 30.9378 26.1862C31.152 25.2054 31.1463 24.631 31.1936 23.6281C31.2359 22.73 31.2528 22.2229 31.1936 21.3258C31.1103 20.0638 30.9322 19.3677 30.682 18.1281C30.4686 17.0711 30.4218 16.4514 30.0424 15.442C29.7281 14.6056 29.5144 14.1393 29.0192 13.3955C28.6257 12.8046 27.868 11.9885 27.868 11.9885C27.868 11.9885 27.3886 12.2011 27.1006 12.3722C26.5506 12.699 26.3528 13.0392 25.8215 13.3955C25.209 13.8063 24.1587 14.2909 24.1587 14.2909L21.8564 15.442C21.8564 15.442 20.986 15.9683 20.4494 16.3374C19.832 16.7619 19.4146 16.9306 18.9145 17.4885C18.377 18.0884 18.1927 18.5323 17.8912 19.2792C17.5829 20.0432 17.3522 20.5024 17.3796 21.3258C17.4038 22.0526 17.6507 22.4301 17.8912 23.1165C18.0692 23.6242 18.1245 23.9352 18.4029 24.3955C18.7141 24.9102 19.4261 25.5467 19.4261 25.5467C19.4261 25.5467 20.2484 26.1552 20.8331 26.442C21.5422 26.7899 21 28.5 21 28.5",stroke:"white",strokeLinecap:"round"})),_W=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#C1694F"}),C.createElement("path",{d:"M39.1509 17.8596C39.1509 17.8596 40.0268 15.6734 40.0656 14.2012C40.0702 14.0226 40.0908 13.9207 40.0656 13.7439C40.0091 13.3485 39.8534 13.1445 39.6082 12.8292C39.2129 12.321 38.8221 12.1819 38.2363 11.9146C37.5664 11.6089 37.089 11.7351 36.4071 11.4573C36.0373 11.3066 35.9498 11 35.4925 11H33.6632H31.3767H30.0047C29.5474 11 29.5474 12.3719 29.5474 12.3719C29.5474 12.3719 29.7026 14.0555 29.5474 15.1158C29.4408 15.8444 29.2535 16.227 29.0901 16.945C28.8881 17.833 29.0064 18.4011 28.6328 19.2316C28.2665 20.0459 27.2609 21.0608 27.2609 21.0608L25.889 22.4327C25.889 22.4327 25.0979 23.0695 24.517 23.3474C24.0076 23.591 23.1451 23.8047 23.1451 23.8047C23.1451 23.8047 22.0483 24.1862 21.3159 24.262C20.7829 24.3171 19.9439 24.262 19.9439 24.262H18.572H17.2001H16.7428C16.7428 24.262 16.1476 24.1022 15.8282 24.262C15.6023 24.3749 15.3709 24.7193 15.3709 24.7193L14.9135 25.6339H14.4562C14.4562 25.6339 14.1684 25.5774 13.9989 25.6339C13.6201 25.7602 13.5416 26.5485 13.5416 26.5485C13.5416 26.5485 13.2594 26.5135 13.0843 26.5485C12.589 26.6476 12.1697 27.4631 12.1697 27.4631L11.7124 28.3778C11.7124 28.3778 11.1464 28.3003 10.7978 28.3778C10.4079 28.4644 10.1227 28.5156 9.88314 28.8351C9.56168 29.2637 9.88314 30.207 9.88314 30.207C9.88314 30.207 9.28374 30.4191 8.96852 30.6643C8.46025 31.0596 8.18254 31.4053 8.05391 32.0362C7.9068 32.7577 8.06127 33.2826 8.51121 33.8655C8.99925 34.4977 9.56562 34.5864 10.3405 34.7801C11.2067 34.9967 12.627 34.7801 12.627 34.7801L13.9989 34.3228C13.9989 34.3228 14.8171 34.6693 15.3709 34.7801C16.2465 34.9552 16.7669 34.7136 17.6574 34.7801C18.7407 34.8609 19.3149 35.2374 20.4013 35.2374C21.4876 35.2374 23.1451 34.7801 23.1451 34.7801C23.1451 34.7801 25.036 33.773 26.3463 33.4082C27.3928 33.1168 28.0044 32.9158 29.0901 32.9509C30.0003 32.9802 31.3767 33.4082 31.3767 33.4082C31.3767 33.4082 33.0239 34.0522 34.1205 34.3228C35.1752 34.583 35.7995 34.9947 36.8644 34.7801C37.6473 34.6223 38.037 34.3201 38.6936 33.8655C39.5243 33.2904 40.0602 32.9343 40.5229 32.0362C40.9399 31.2267 40.9297 30.6589 40.9802 29.7497C41.0502 28.4888 40.9432 27.7394 40.5229 26.5485C40.257 25.7954 39.6082 24.7193 39.6082 24.7193C39.6082 24.7193 38.8646 23.4989 38.6936 22.6219C38.5428 21.8482 38.6936 20.6035 38.6936 20.6035L39.1509 17.8596Z",stroke:"white",strokeWidth:1.5}),C.createElement("path",{d:"M12.1701 30.2069H10.3408C10.3408 30.2069 11.2554 29.2921 11.7127 29.2922C12.1701 29.2923 12.6274 29.2922 12.6274 29.2922H14.4566C14.4566 29.2922 14.9139 29.497 14.9139 29.7495C14.9139 30.0021 14.4566 30.2069 14.4566 30.2069H13.542H12.1701Z",fill:"white",stroke:"white",strokeWidth:.5}),C.createElement("path",{d:"M14.4565 26.5483H15.8285H16.2858",stroke:"white",strokeWidth:.5,strokeLinecap:"round"}),C.createElement("path",{d:"M15.8281 25.6338H16.7427",stroke:"white",strokeWidth:.5,strokeLinecap:"round"}),C.createElement("path",{d:"M14.4562 28.3776H12.627C12.627 28.3776 13.1517 28.0069 13.5416 27.9203C13.8902 27.8428 14.4562 27.9203 14.4562 27.9203C14.4562 27.9203 15.2111 27.6008 15.3708 27.9203C15.4507 28.08 15.3708 28.3776 15.3708 28.3776H14.4562Z",fill:"white",stroke:"white",strokeWidth:.5})),wW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),C.createElement("path",{d:"M15.1706 27.9876C15.8469 28.1645 16.7718 28.7871 16.7718 28.7871L17.1721 29.1868V13.1978C17.1721 13.1978 17.5723 11.9992 18.373 11.9986C19.1737 11.998 36.3868 9.99961 37.1873 10C37.9878 10.0004 37.9879 11.1992 37.9879 11.1992V29.5865C37.9879 29.5865 38.1086 31.8697 37.5876 33.184C37.1727 34.2307 36.8907 34.9103 35.9864 35.5824C34.9522 36.3509 34.0709 36.3069 32.7839 36.3818C31.5257 36.455 30.7353 36.4886 29.5815 35.9821C28.4638 35.4914 27.8375 35.0106 27.1797 33.9835C26.647 33.1518 26.3728 32.5724 26.3791 31.5851C26.3867 30.3963 26.8848 29.7522 27.58 28.7871C28.0964 28.0702 28.4351 27.6622 29.1812 27.1882C30.2688 26.4971 31.0983 26.29 32.3836 26.3887C33.3694 26.4644 34.7855 27.1882 34.7855 27.1882V16.7953L20.3745 18.3942C20.3745 18.3942 20.6935 32.8667 20.3745 33.9835C20.0555 35.1003 19.4406 35.965 18.373 36.7816C17.3126 37.5926 16.5032 37.891 15.1706 37.9807C13.5422 38.0903 12.4891 37.7379 11.1675 36.7816C10.1789 36.0661 9.51759 35.5508 9.16601 34.3832C8.80309 33.178 9.07975 32.3464 9.56632 31.1854C10.1227 29.8578 10.6814 29.0358 11.9681 28.3873C13.0933 27.8203 13.9513 27.6687 15.1706 27.9876Z",fill:"white",stroke:"white",strokeLinecap:"round"})),EW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),C.createElement("path",{d:"M34.1666 10L16.4443 27.7222L18.861 29.9192L20.8749 31.75L38.1943 14.4306V10H34.1666Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M15.639 25.7084C16.111 26.1532 16.0418 27.3195 16.0418 27.3195L20.8752 32.1528C20.8752 32.1528 22.3405 31.9705 22.8891 32.5556C23.5345 33.2441 23.5032 34.2557 22.8891 34.9723C22.1725 35.8083 20.7862 35.8083 20.0696 34.9723C19.6475 34.4799 19.6668 33.3612 19.6668 33.3612L14.8335 28.9306C14.8335 28.9306 13.6906 28.9765 13.2224 28.5278C12.541 27.8748 12.6165 26.8348 13.2224 26.1112C13.8366 25.3775 14.9428 25.0522 15.639 25.7084Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M13.2222 33.7639L15.6388 30.1389L18.4583 32.5556L14.8333 35.375L13.2222 33.7639Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M11.6113 33.3611L15.2363 36.9861",stroke:"white",strokeLinecap:"round"}),C.createElement("circle",{cx:12.4167,cy:36.1806,r:1.91667,fill:"white",stroke:"white"}),C.createElement("path",{d:"M33.3613 28.1251L30.9447 30.322L28.9308 32.1528M11.6113 10.4028H15.6391L24.5002 19.2639M11.6113 10.4028V14.8334L20.4724 23.6945M11.6113 10.4028L22.4863 21.6806",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M24.9028 28.125L28.9306 31.75",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M29.3335 23.2917L33.3613 27.7223",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M27.3193 26.1111L30.9443 29.7361",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M34.1666 26.1112C33.6946 26.556 33.7638 27.7223 33.7638 27.7223L28.9305 32.5557C28.9305 32.5557 27.4652 32.3733 26.9166 32.9584C26.2711 33.6469 26.3024 34.6585 26.9166 35.3751C27.6332 36.2111 29.0195 36.2111 29.7361 35.3751C30.1581 34.8827 30.1388 33.764 30.1388 33.764L34.9722 29.3334C34.9722 29.3334 36.115 29.3794 36.5833 28.9307C37.2647 28.2777 37.1891 27.2376 36.5833 26.514C35.9691 25.7804 34.8629 25.455 34.1666 26.1112Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M36.5835 34.1667L34.1668 30.5417L31.3474 32.9584L34.9724 35.7779L36.5835 34.1667Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M38.1943 33.7639L34.5693 37.3889",stroke:"white",strokeLinecap:"round"}),C.createElement("circle",{cx:2.41667,cy:2.41667,r:1.91667,transform:"matrix(-1 0 0 1 39.8057 34.1667)",fill:"white",stroke:"white"}),C.createElement("path",{d:"M37.7919 10.4028L18.8613 29.3334",stroke:"white",strokeLinecap:"round"})),SW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),C.createElement("path",{d:"M13.2139 23.9795L20.0975 14.3425H29.2755C29.2755 14.3425 31.2485 16.8481 32.4879 18.4727C33.5749 19.8975 34.3696 20.5781 35.2413 22.1439C35.9052 23.3364 36.1878 24.061 36.618 25.3562C37.1388 26.9243 37.5358 29.4864 37.5358 29.4864C37.5358 29.4864 38.1276 30.016 38.4536 30.4042C38.8692 30.8989 39.1541 31.1724 39.3714 31.7809C39.6728 32.6247 39.5922 33.207 39.3714 34.0754C39.1139 35.0882 38.7062 35.6045 37.9947 36.3699C37.3847 37.0262 36.7566 37.0789 36.1591 37.7466C35.7282 38.2282 35.6847 38.6533 35.2413 39.1234C34.5243 39.8835 32.9468 40.5001 32.9468 40.5001H16.4262C16.4262 40.5001 14.8424 40.2352 14.1317 39.5823C13.6559 39.1451 13.6125 38.7141 13.2139 38.2055C12.5885 37.4076 11.8425 37.2712 11.3783 36.3699C10.9598 35.5576 10.8759 34.9882 10.9194 34.0754C10.9545 33.3373 11.3783 32.2398 11.3783 32.2398L10.4605 30.4042C10.4605 30.4042 10.0185 29.3073 10.0016 28.5686C9.97561 27.4354 10.2728 26.746 10.9194 25.8151C11.574 24.8727 13.2139 23.9795 13.2139 23.9795Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M19.965 13.8835C19.965 13.8835 19.1792 13.3664 19.1792 12.9657C19.1792 12.5649 19.965 12.0479 19.965 12.0479H29.2737C29.2737 12.0479 30.154 12.4603 30.1929 12.9657C30.2236 13.3652 29.2751 13.8835 29.2751 13.8835H19.965Z",fill:"white",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M18.2617 9.29452C18.4505 10.3223 19.6384 11.589 19.6384 11.589H29.2754C29.2754 11.589 30.1952 11.1281 30.6521 10.6712C31.109 10.2143 31.5699 9.94068 31.5699 9.29452C31.5699 8.64836 31.1743 8.29839 30.6521 7.91781C30.1941 7.58402 29.8392 7.4017 29.2754 7.4589C28.6326 7.52412 28.5431 8.42387 27.8987 8.37671C27.499 8.34747 27.3492 8.07566 26.9809 7.91781C26.46 7.69457 26.1599 7.57005 25.6042 7.4589C24.7255 7.28317 24.1535 7.15752 23.3097 7.4589C22.7011 7.67623 22.5774 8.42387 21.933 8.37671C21.5333 8.34747 21.3646 8.11387 21.0151 7.91781C20.4516 7.60167 20.2846 7 19.6384 7C18.9923 7 18.5383 7.33385 18.2617 7.91781C18.0316 8.40369 18.1646 8.76573 18.2617 9.29452Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M29.2741 21.2261C29.5753 21.7061 29.8899 22.0582 29.733 22.6028C29.5541 23.2237 29.0001 23.4648 28.3563 23.5206C27.4636 23.5979 27.3371 22.5132 26.5207 22.1439C25.8475 21.8393 25.4207 21.6154 24.6851 21.685C23.8872 21.7605 23.3303 21.9616 22.8495 22.6028C22.5094 23.0562 22.3224 23.4169 22.3906 23.9795C22.5163 25.0169 23.759 24.8721 24.6851 25.3562C25.8946 25.9885 27.8974 26.7329 27.8974 26.7329C27.8974 26.7329 29.7568 27.5067 30.1919 28.5685C30.5317 29.3977 30.4518 30.0055 30.1919 30.8631C29.8591 31.9613 29.2932 32.495 28.3563 33.1576C27.5683 33.7148 26.0618 34.0754 26.0618 34.0754C26.0618 34.0754 26.4174 35.2886 26.0618 35.911C25.7412 36.472 25.3312 36.8288 24.6851 36.8288C24.0389 36.8288 23.629 36.472 23.3084 35.911C22.9527 35.2886 23.3084 34.0754 23.3084 34.0754C23.3084 34.0754 22.7471 34.112 22.3906 34.0754C21.4305 33.9769 20.096 33.1576 20.096 33.1576C20.096 33.1576 18.8269 32.5336 18.7193 31.7809C18.6392 31.2199 18.7182 30.7351 19.1782 30.4042C19.7781 29.9727 20.4914 30.3405 21.0138 30.8631C21.4727 31.322 22.0084 31.9308 22.8495 32.2398C23.8588 32.6106 24.5655 32.5227 25.6029 32.2398C26.3761 32.0289 26.9576 31.9631 27.4385 31.322C27.7785 30.8686 28.1509 30.4521 27.8974 29.9453C27.4384 29.0275 26.5206 29.0275 25.6029 28.5685C24.3106 27.9223 22.3906 26.7329 22.3906 26.7329C22.3906 26.7329 20.6437 25.9057 20.096 24.8973C19.7434 24.248 19.5575 23.7963 19.6371 23.0617C19.7608 21.9209 20.5529 21.4533 21.4727 20.7672C22.1152 20.288 23.3084 19.8494 23.3084 19.8494C23.3084 19.8494 22.9527 18.6362 23.3084 18.0138C23.629 17.4527 24.0389 17.0959 24.6851 17.0959C25.3312 17.0959 25.7412 17.4527 26.0618 18.0138C26.4174 18.6362 26.0618 19.8494 26.0618 19.8494C26.0618 19.8494 28.5487 20.07 29.2741 21.2261Z",fill:"white",stroke:"white",strokeLinecap:"round"})),CW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),C.createElement("path",{d:"M27.2792 9C25.8598 9 23.4942 20.355 23.4942 20.355C23.4942 20.355 13.0854 23.1937 13.0854 24.14C13.0854 25.0862 23.4942 28.3981 23.4942 28.3981C23.4954 28.4034 26.3332 40.6994 27.2792 40.6994C28.2254 40.6994 31.5373 28.3981 31.5373 28.3981C31.5373 28.3981 40.9998 25.5594 40.9998 24.6131C40.9998 23.6669 31.5373 20.355 31.5373 20.355C31.5373 20.355 28.6986 9 27.2792 9Z",fill:"white",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M12.6128 9.47314C12.1397 9.47312 11.1934 12.785 11.1934 12.785C11.1934 12.785 8.82776 13.2581 8.35469 13.7313C7.88161 14.2044 7.88193 14.6775 8.35469 15.1506C8.82745 15.6238 11.1934 16.0969 11.1934 16.0969L12.6128 18.9356C12.6128 18.9356 13.0862 19.8819 13.5591 18.9356C14.0319 17.9894 14.5053 16.0969 14.5053 16.0969C14.5053 16.0969 16.8709 15.1506 17.3441 14.6775C17.8172 14.2044 17.8172 14.2044 17.3441 13.7313C16.8709 13.2581 14.5053 12.785 14.5053 12.785C14.5053 12.785 13.5591 9.47308 13.0859 9.47314H12.6128Z",fill:"white",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M16.8702 28.8713C16.3971 28.8713 15.3324 32.6563 15.3324 32.6563C15.3324 32.6563 12.7697 33.6026 12.2966 34.0757C11.8235 34.5488 11.8239 34.366 12.2967 34.8391C12.7694 35.3123 15.3324 35.9682 15.3324 35.9682L16.3971 40.2263C16.3971 40.2263 16.8705 41.1726 17.3433 40.2263C17.8161 39.2801 18.6443 35.9682 18.6443 35.9682C18.6443 35.9682 21.0099 35.3123 21.483 34.8391C21.9561 34.366 22.0746 34.5488 21.6014 34.0757C21.1283 33.6026 18.6443 32.6563 18.6443 32.6563C18.6443 32.6563 17.3433 28.8713 16.8702 28.8713Z",fill:"white"}),C.createElement("path",{d:"M16.8702 28.8713C16.3971 28.8713 15.3324 32.6563 15.3324 32.6563C15.3324 32.6563 12.7697 33.6026 12.2966 34.0757C11.8235 34.5488 11.8239 34.366 12.2967 34.8391C12.7694 35.3123 15.3324 35.9682 15.3324 35.9682L16.3971 40.2263C16.3971 40.2263 16.8705 41.1726 17.3433 40.2263C17.8161 39.2801 18.6443 35.9682 18.6443 35.9682C18.6443 35.9682 21.0099 35.3123 21.483 34.8391C21.9561 34.366 22.0746 34.5488 21.6014 34.0757C21.1283 33.6026 18.6443 32.6563 18.6443 32.6563C18.6443 32.6563 17.3433 28.8713 16.8702 28.8713ZM16.8702 28.8713C17.3433 28.8714 16.3971 28.8714 16.8702 28.8713Z",stroke:"white",strokeLinecap:"round"})),AW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),C.createElement("mask",{id:"path-2-inside-1_313_4698",fill:"white"},C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2323 31.4647C27.4358 31.4647 32.4647 26.4358 32.4647 20.2323C32.4647 14.0289 27.4358 9 21.2323 9C15.0289 9 10 14.0289 10 20.2323C10 26.4358 15.0289 31.4647 21.2323 31.4647ZM21.2324 28.1366C25.5978 28.1366 29.1366 24.5978 29.1366 20.2324C29.1366 15.867 25.5978 12.3281 21.2324 12.3281C16.867 12.3281 13.3281 15.867 13.3281 20.2324C13.3281 24.5978 16.867 28.1366 21.2324 28.1366Z"})),C.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2323 31.4647C27.4358 31.4647 32.4647 26.4358 32.4647 20.2323C32.4647 14.0289 27.4358 9 21.2323 9C15.0289 9 10 14.0289 10 20.2323C10 26.4358 15.0289 31.4647 21.2323 31.4647ZM21.2324 28.1366C25.5978 28.1366 29.1366 24.5978 29.1366 20.2324C29.1366 15.867 25.5978 12.3281 21.2324 12.3281C16.867 12.3281 13.3281 15.867 13.3281 20.2324C13.3281 24.5978 16.867 28.1366 21.2324 28.1366Z",fill:"white"}),C.createElement("path",{d:"M31.4647 20.2323C31.4647 25.8835 26.8835 30.4647 21.2323 30.4647V32.4647C27.9881 32.4647 33.4647 26.9881 33.4647 20.2323H31.4647ZM21.2323 10C26.8835 10 31.4647 14.5812 31.4647 20.2323H33.4647C33.4647 13.4766 27.9881 8 21.2323 8V10ZM11 20.2323C11 14.5812 15.5812 10 21.2323 10V8C14.4766 8 9 13.4766 9 20.2323H11ZM21.2323 30.4647C15.5812 30.4647 11 25.8835 11 20.2323H9C9 26.9881 14.4766 32.4647 21.2323 32.4647V30.4647ZM28.1366 20.2324C28.1366 24.0455 25.0455 27.1366 21.2324 27.1366V29.1366C26.15 29.1366 30.1366 25.15 30.1366 20.2324H28.1366ZM21.2324 13.3281C25.0455 13.3281 28.1366 16.4193 28.1366 20.2324H30.1366C30.1366 15.3147 26.15 11.3281 21.2324 11.3281V13.3281ZM14.3281 20.2324C14.3281 16.4193 17.4193 13.3281 21.2324 13.3281V11.3281C16.3147 11.3281 12.3281 15.3147 12.3281 20.2324H14.3281ZM21.2324 27.1366C17.4193 27.1366 14.3281 24.0455 14.3281 20.2324H12.3281C12.3281 25.15 16.3147 29.1366 21.2324 29.1366V27.1366Z",fill:"white",mask:"url(#path-2-inside-1_313_4698)"}),C.createElement("path",{d:"M29.1367 30.6325L27.8887 29.3845L30.3847 26.8884L31.6328 28.1365L29.1367 30.6325Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M28.7205 32.2966C28.7205 32.2966 28.3045 31.4646 28.7205 31.0486L32.0486 27.7204C32.0486 27.7204 32.8808 27.3042 33.2967 27.7203C33.7127 28.1364 39.1209 33.5445 39.1209 33.5445C39.1209 33.5445 39.8403 34.4907 39.9529 35.2085C40.0813 36.0269 39.9479 36.5693 39.5369 37.2886C39.1949 37.887 38.8873 38.1946 38.2889 38.5366C37.5696 38.9476 37.0272 39.081 36.2088 38.9526C35.491 38.84 34.5448 38.1206 34.5448 38.1206L28.7205 32.2966Z",stroke:"white",strokeLinecap:"round"})),MW=t=>C.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},C.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),C.createElement("path",{d:"M33.146 33.5406C32.5627 34.4474 31.4213 35.6966 31.4213 35.6966L27.9718 33.1094C27.9718 33.1094 27.1489 32.9274 26.6783 32.6783C25.8364 32.2326 25.2578 31.6892 24.9537 30.7151C24.7305 30.0003 24.9537 28.7976 24.9537 28.7976V21.2291V13.8989C24.9537 13.8989 24.8364 11.8312 24.9537 11.3118C25.071 10.7924 25.0849 10.202 25.4615 9.82544C25.838 9.44891 26.5823 9.31895 27.1094 9.39425C27.4822 9.4475 27.7056 9.55919 27.9718 9.82544C28.3483 10.202 28.403 11.119 28.403 11.119L28.8342 15.4308L29.6966 18.8803L30.1277 20.6051L30.5589 23.1922V24.4857L35.302 28.7976C35.302 28.7976 34.8073 30.1246 34.4396 30.9535C33.9815 31.9861 33.7572 32.5906 33.146 33.5406Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M13.7432 28.7975L18.4862 24.4856C18.4862 24.4856 18.3286 22.8965 18.4862 21.8985C18.6523 20.8465 19.3486 19.3114 19.3486 19.3114L19.7798 16.7243L20.2109 11.9812C20.2109 11.9812 20.2694 10.8422 20.6421 10.2565C20.8978 9.85468 21.0667 9.58173 21.5045 9.39412C21.9688 9.19512 22.3337 9.19512 22.7981 9.39412C23.2358 9.58173 23.4291 9.84015 23.6604 10.2565C24.0693 10.9925 24.0916 11.3322 24.0916 12.1741C24.0916 18.6655 24.0916 28.7975 24.0916 28.7975C24.0916 28.7975 23.9978 29.3785 24.0916 29.6598C24.1981 29.9793 24.1323 29.2001 24.0629 29.5296C23.9378 30.1237 23.2292 31.8158 23.2292 31.8158C23.2292 31.8158 22.6134 32.8834 21.9357 33.1093C21.4564 33.2691 20.6421 33.1093 20.6421 33.1093L17.6238 35.6964C17.6238 35.6964 16.16 34.5094 15.4679 33.5405C14.8113 32.6213 14.5214 32.0283 14.1743 30.9534C13.9106 30.1363 13.7432 28.7975 13.7432 28.7975Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M20.6421 8.53199C20.5092 9.01936 20.6421 9.82555 20.6421 9.82555L21.5045 8.96318H22.798L24.0916 10.2567V19.5044V28.7977L24.5227 29.2289L24.9539 28.7977V20.3667V10.2567L25.385 9.82544L26.6787 8.96318L27.9722 9.39436C27.9722 9.39436 28.0416 8.86154 27.9722 8.53199C27.8472 7.93788 27.6585 7.49834 27.1099 7.23843C26.6533 7.02218 26.2806 7.03944 25.8163 7.23843C25.3785 7.42605 25.2096 7.69899 24.9539 8.1008C24.6681 8.55005 24.5227 9.39436 24.5227 9.39436L24.0916 8.1008C24.0916 8.1008 23.6552 7.45143 23.2292 7.23843C22.6267 6.93721 22.0893 6.90426 21.5045 7.23843C20.9773 7.53966 20.8018 7.94625 20.6421 8.53199Z",fill:"white",stroke:"white",strokeWidth:.8,strokeLinecap:"round"}),C.createElement("path",{d:"M9 38.2836V29.6599L12.0183 27.0728C12.0183 27.0728 12.7261 26.3701 13.3119 26.2104C13.7992 26.0775 14.1411 26.0114 14.6054 26.2104C15.0432 26.398 15.4678 27.0728 15.4678 27.0728L13.743 28.7975C13.743 28.7975 13.9104 30.1363 14.1742 30.9534C14.5213 32.0284 14.8579 32.5898 15.4678 33.5405C16.1779 34.6475 17.6237 36.1277 17.6237 36.1277L20.2108 33.9717C20.2108 33.9717 20.2628 34.7628 20.2108 35.2653C20.1394 35.9559 20.0679 36.3584 19.7796 36.99C19.5276 37.5424 18.9173 38.2836 18.9173 38.2836H9Z",stroke:"white",strokeLinecap:"round"}),C.createElement("path",{d:"M40.1565 29.7057V38.3294H31.9639H30.2392C30.2392 38.3294 29.211 37.6991 28.9457 37.0358C28.6955 36.4104 28.9457 35.3111 28.9457 35.3111V34.0175L31.5328 35.7423L32.8263 34.4487C33.3315 33.9436 33.6404 33.1496 34.1199 32.2928C34.8553 30.9784 35.8446 28.8433 35.8446 28.8433L33.6887 26.6874C33.6887 26.6874 34.1835 26.3379 34.5511 26.2562C34.8798 26.1831 35.08 26.2086 35.4134 26.2562C36.1589 26.3627 37.1382 27.1186 37.1382 27.1186L40.1565 29.7057Z",stroke:"white",strokeLinecap:"round"})),RW=t=>{switch(t){case Bo.ANAO:return vW;case Bo.ELFO_DOURADO:return gW;case Bo.ELFO_FLORESTAL:return yW;case Bo.HUMANO:return xW;case Bo.MEIO_ELFO:return bW;case Bo.PEQUENINO:return _W}},TW=t=>{switch(t){case Mr.BARDO:return wW;case Mr.GUERREIRO:return EW;case Mr.LADINO:return SW;case Mr.MAGO:return CW;case Mr.RASTREADOR:return AW;case Mr.SACERDOTE:return MW}},q3=t=>Object.values(Bo).includes(t)?RW(t):TW(t),PW=({ficha:t})=>{const e=q3(t.raca),a=q3(t.profissao);return M.jsxs(xP,{sx:{backgroundColor:Lk(jd.palette.background.default,.8)},children:[M.jsx(MP,{children:M.jsx(qP,{children:M.jsxs(Ta,{sx:{display:"flex",flex:1},children:[M.jsx(vg,{alt:t.raca,children:M.jsx(e,{})}),M.jsxs(Ta,{sx:{flex:1,display:"flex",alignItems:"center",flexDirection:"column"},children:[M.jsx(ao,{variant:"h5",children:t.nome}),M.jsxs(ar,{children:[t.narrador," - ",t.nivel]})]}),M.jsx(vg,{alt:t.profissao,children:M.jsx(a,{})})]})})}),M.jsxs(IP,{sx:{display:"flex",justifyContent:"space-around"},children:[M.jsx(Fn,{"aria-label":"Favorito",children:t.isFavorito?M.jsx(Q5,{color:"primary"}):M.jsx(VN,{color:"primary"})}),M.jsx(Fn,{"aria-label":"Editar",children:M.jsx(UN,{color:"primary"})}),M.jsx(Fn,{"aria-label":"Apagar",children:M.jsx($N,{color:"primary"})})]})]})},LW=()=>{const{list:t}=b5(),e=`url(${t.length>0?mW:uW})`;return M.jsxs(yr,{bg:e,children:[M.jsx(Ta,{sx:{flexGrow:1},children:M.jsx(Gm,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:3},children:t.map(a=>M.jsx(Gm,{item:!0,xs:12,md:6,lg:4,children:M.jsx(PW,{ficha:a})},a.id))})}),M.jsx(Ta,{sx:{display:"flex",flexDirection:"column"},children:M.jsx(Sf,{variant:"contained",children:"Adicionar Ficha"})})]})},DW=()=>M.jsx(LW,{}),IW=()=>M.jsx(yr,{children:M.jsx("p",{children:"Habilidade"})}),OW=()=>M.jsxs(yr,{children:[M.jsx(V4,{label:"Nome da habilidade",variant:"outlined",InputProps:{endAdornment:M.jsx(L4,{position:"start",children:M.jsx(XN,{})})}}),M.jsxs("div",{style:{display:"flex",gap:10},children:[M.jsx("p",{children:"a"}),M.jsx("p",{children:"b"}),M.jsx("p",{children:"c"}),M.jsx("p",{children:"d"}),M.jsx("p",{children:"e"}),M.jsx("p",{children:"..."}),M.jsx("p",{children:"z"})]}),M.jsxs("div",{children:[M.jsx("p",{children:"Habilidade"}),M.jsx("p",{children:"Habilidade"}),M.jsx("p",{children:"Habilidade"}),M.jsx("p",{children:"Habilidade"}),M.jsx("p",{children:"Habilidade"}),M.jsx("p",{children:"Habilidade"})]})]});var P1={},kW=sn;Object.defineProperty(P1,"__esModule",{value:!0});var up=P1.default=void 0,zW=kW(ln()),NW=M;up=P1.default=(0,zW.default)((0,NW.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var nv=FW,sv=[{base:" ",chars:" "},{base:"0",chars:"߀"},{base:"A",chars:"ⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",chars:"Ꜳ"},{base:"AE",chars:"ÆǼǢ"},{base:"AO",chars:"Ꜵ"},{base:"AU",chars:"Ꜷ"},{base:"AV",chars:"ꜸꜺ"},{base:"AY",chars:"Ꜽ"},{base:"B",chars:"ⒷＢḂḄḆɃƁ"},{base:"C",chars:"ⒸＣꜾḈĆCĈĊČÇƇȻ"},{base:"D",chars:"ⒹＤḊĎḌḐḒḎĐƊƉᴅꝹ"},{base:"Dh",chars:"Ð"},{base:"DZ",chars:"ǱǄ"},{base:"Dz",chars:"ǲǅ"},{base:"E",chars:"ɛⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎᴇ"},{base:"F",chars:"ꝼⒻＦḞƑꝻ"},{base:"G",chars:"ⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾɢ"},{base:"H",chars:"ⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",chars:"ⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",chars:"ⒿＪĴɈȷ"},{base:"K",chars:"ⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",chars:"ⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",chars:"Ǉ"},{base:"Lj",chars:"ǈ"},{base:"M",chars:"ⓂＭḾṀṂⱮƜϻ"},{base:"N",chars:"ꞤȠⓃＮǸŃÑṄŇṆŅṊṈƝꞐᴎ"},{base:"NJ",chars:"Ǌ"},{base:"Nj",chars:"ǋ"},{base:"O",chars:"ⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OE",chars:"Œ"},{base:"OI",chars:"Ƣ"},{base:"OO",chars:"Ꝏ"},{base:"OU",chars:"Ȣ"},{base:"P",chars:"ⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",chars:"ⓆＱꝖꝘɊ"},{base:"R",chars:"ⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",chars:"ⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",chars:"ⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"Th",chars:"Þ"},{base:"TZ",chars:"Ꜩ"},{base:"U",chars:"ⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",chars:"ⓋＶṼṾƲꝞɅ"},{base:"VY",chars:"Ꝡ"},{base:"W",chars:"ⓌＷẀẂŴẆẄẈⱲ"},{base:"X",chars:"ⓍＸẊẌ"},{base:"Y",chars:"ⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",chars:"ⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",chars:"ⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑ"},{base:"aa",chars:"ꜳ"},{base:"ae",chars:"æǽǣ"},{base:"ao",chars:"ꜵ"},{base:"au",chars:"ꜷ"},{base:"av",chars:"ꜹꜻ"},{base:"ay",chars:"ꜽ"},{base:"b",chars:"ⓑｂḃḅḇƀƃɓƂ"},{base:"c",chars:"ｃⓒćĉċčçḉƈȼꜿↄ"},{base:"d",chars:"ⓓｄḋďḍḑḓḏđƌɖɗƋᏧԁꞪ"},{base:"dh",chars:"ð"},{base:"dz",chars:"ǳǆ"},{base:"e",chars:"ⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇǝ"},{base:"f",chars:"ⓕｆḟƒ"},{base:"ff",chars:"ﬀ"},{base:"fi",chars:"ﬁ"},{base:"fl",chars:"ﬂ"},{base:"ffi",chars:"ﬃ"},{base:"ffl",chars:"ﬄ"},{base:"g",chars:"ⓖｇǵĝḡğġǧģǥɠꞡꝿᵹ"},{base:"h",chars:"ⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",chars:"ƕ"},{base:"i",chars:"ⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",chars:"ⓙｊĵǰɉ"},{base:"k",chars:"ⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",chars:"ⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇɭ"},{base:"lj",chars:"ǉ"},{base:"m",chars:"ⓜｍḿṁṃɱɯ"},{base:"n",chars:"ⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥлԉ"},{base:"nj",chars:"ǌ"},{base:"o",chars:"ⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿꝋꝍɵɔᴑ"},{base:"oe",chars:"œ"},{base:"oi",chars:"ƣ"},{base:"oo",chars:"ꝏ"},{base:"ou",chars:"ȣ"},{base:"p",chars:"ⓟｐṕṗƥᵽꝑꝓꝕρ"},{base:"q",chars:"ⓠｑɋꝗꝙ"},{base:"r",chars:"ⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",chars:"ⓢｓśṥŝṡšṧṣṩșşȿꞩꞅẛʂ"},{base:"ss",chars:"ß"},{base:"t",chars:"ⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"th",chars:"þ"},{base:"tz",chars:"ꜩ"},{base:"u",chars:"ⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",chars:"ⓥｖṽṿʋꝟʌ"},{base:"vy",chars:"ꝡ"},{base:"w",chars:"ⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",chars:"ⓧｘẋẍ"},{base:"y",chars:"ⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",chars:"ⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],J5={};for(var Gu=0;Gu<sv.length;Gu+=1)for(var j3=sv[Gu].chars,lv=0;lv<j3.length;lv+=1)J5[j3[lv]]=sv[Gu].base;function FW(t){return t.replace(/[^\u0000-\u007e]/g,function(e){return J5[e]||e})}var Rd;(t=>{t.getPlural=r=>r>0?"s":"",t.extractFirstChar=r=>nv(r.trim().charAt(0).toLowerCase());const e=(r,i)=>{if(r.localeCompare(i)===0)return 1;const n=r.length,s=i.length,l=Math.floor(Math.max(n,s)/2)-1;let c=0;const d=Array(n).fill(0),m=Array(s).fill(0);for(let h=0;h<n;h++)for(let p=Math.max(0,h-l);p<Math.min(s,h+l+1);p++)if(r[h]===i[p]&&m[p]===0){d[h]=1,m[p]=1,c++;break}if(c===0)return 0;let u=0,v=0;for(let h=0;h<n;h++)if(d[h]===1){for(;m[v]===0;)v++;r[h]!==i[v++]&&u++}return u/=2,(c/n+c/s+(c-u)/c)/3},a=(r,i)=>{let n=e(r,i);if(n>.7){let s=0;for(let l=0;l<Math.min(r.length,i.length)&&r[l]===i[l];l++)s++;s=Math.min(4,s),n+=.1*s*(1-n)}return n},o=(r,i,n)=>{const s=nv(r).toLowerCase(),l=nv(i).toLowerCase();return l.indexOf(s)>-1||a(s,l)>=n};t.compareWordWithWordsInSentence=(r,i,n)=>r.length<3?!1:i.split(" ").some(s=>s.length<3?!1:o(r,s,n))})(Rd||(Rd={}));var U=(t=>(t.VARIAVEL="Variável",t.PESSOAL="Pessoal",t.TOQUE="Toque",t.METRO="metro",t.QUILOMETRO="quilômetro",t))(U||{});const eE=st.object({valor:st.number().min(0).optional(),tipo:st.nativeEnum(U),isRaio:st.boolean().optional(),isQuadrado:st.boolean().optional(),outraDescricao:st.string().optional()});var L=(t=>(t.USO="uso",t.ATIVACAO="ativação",t.VARIAVEL="Variável",t.INSTANTANEA="Instantânea",t.ESPECIAL="Especial",t.RITUAL="Ritual",t.SEGUNDO="segundo",t.RODADA="rodada",t.COMBATE="combate",t.CENA="cena",t.MINUTO="minuto",t.HORA="hora",t.DIA="dia",t.SEMANA="semana",t.MES="mês",t.ANO="ano",t.ANO_E_DIA="1 ano e 1 dia",t.PERMANENTE="Permanente",t))(L||{});const tE=st.object({valor:st.number().min(0).optional(),tipo:st.nativeEnum(L),outraDescricao:st.string().optional()});var ae=(t=>(t.VARIAVEL="Variável",t.INSTANTANEA="Instantânea",t.RODADA="rodada",t.MINUTO="minuto",t.HORA="hora",t.RITUAL="Ritual",t))(ae||{});const aE=st.object({valor:st.number().min(0).optional(),tipo:st.nativeEnum(ae),outraDescricao:st.string().optional()}),oE=st.object({ouro:st.number().min(0).optional(),prata:st.number().min(0).optional(),cobre:st.number().min(0).optional(),descricao:st.string().optional()}),qW=v5.extend({nivel:st.number().min(1),dinheiro:oE.optional(),alcance:eE.optional(),duracao:tE.optional(),descricao:st.string(),evocacao:aE.optional()}),rE=qW.extend({secundario:st.lazy(()=>rE.optional())});var ue=(t=>(t.abrigo="a0",t.adestramento="a1",t.aeroataque="a2",t.aeromanipulacao="a3",t.alucinacao="a4",t.amizade="a5",t.analise="a6",t.animacaoMetalica="a7",t.animacaoVegetal="a8",t.anulacaoMistica="a9",t.apelo="a10",t.aprimorarHabilidades="a11",t.areaDePaz="a12",t.armadilha="a13",t.armadilhaNatural="a14",t.armaduraElemental="a15",t.armaduraNatural="a16",t.arqueirismo="a17",t.assimilacao="a18",t.assombracao="a19",t.ataqueImpetuoso="a20",t.ataqueTermico="a21",t.atoFalho="a22",t.auraAmeacadora="a23",t.auraDivina="a24",t.auraEmocional="a25",t.auraMagica="a26",t.ausencia="a27",t.auxilioIncerto="a28",t.auxilioNatural="a29",t.avaliacao="a30",t.azar="a31",t.barreiraMistica="b0",t.bencao="b1",t.bencaoSelvagem="b2",t.biogerminacao="b3",t.bloqueio="b4",t.boato="b5",t.bolaDeFogo="b6",t.bote="b7",t.bravura="b8",t.cacadaMarcada="c0",t.campoabencoado="c1",t.camuflagem="c2",t.cancaoDoAlento="c3",t.cancaoDoAnimo="c4",t.cancaoDoSono="c5",t.cancaoDoTormento="c6",t.cataclisma="c7",t.chuvaAcida="c8",t.circuloDeProtecao="c9",t.clarividencia="c10",t.cobertura="c11",t.comandoDePaz="c12",t.comunhaoNatural="c13",t.conhecimento="c14",t.conhecimentoLinguistico="c15",t.conhecimentoNatural="c16",t.conjuracaoNatural="c17",t.conjurarObjetos="c18",t.contatosMentais="c19",t.contatosMusicais="c20",t.controle="c21",t.controleClimatico="c22",t.controleMecanico="c23",t.conversaoEnergetica="c24",t.convivencia="c25",t.convocacao="c26",t.convocacaoAnimal="c27",t.coordenacao="c28",t.corrente="c29",t.covardia="c30",t.criacao="c31",t.criptogramaMistico="c32",t.curasEspirituais="c33",t.curasFisicas="c34",t.curasHeroicas="c35",t.dadivasDaGuerra="d0",t.dardosDeGelo="d1",t.degeneracaoFisica="d2",t.desertificacao="d3",t.desintegracao="d4",t.deslocamentoNatural="d5",t.despistamento="d6",t.destrezaAnimal="d7",t.deteccaoDeMagia="d8",t.detectarIntencao="d9",t.distracao="d10",t.doencas="d11",t.dominacaoAnimal="d12",t.dominio="d13",t.dominioMental="d14",t.dominioNatural="d15",t.elementalDaAgua="e0",t.elementalDaTerra="e1",t.elementalDoAr="e2",t.elementalDoFogo="e3",t.eloAnimal="e4",t.eloEmpatico="e5",t.empatia="e6",t.encantamento="e7",t.encolhimento="e8",t.esconjuracao="e9",t.escrita="e10",t.escriturasMisticas="e11",t.escudoMistico="e12",t.escudoProtetor="e13",t.escudoTermico="e14",t.escuridao="e15",t.esplendor="e16",t.esquecimento="e17",t.explosaoMistica="e18",t.fabricacaoDivina="f0",t.faro="f1",t.fascinio="f2",t.feixesIncandescentes="f3",t.fitogenese="f4",t.fogoDivino="f5",t.forcaMutua="f6",t.forcaSagrada="f7",t.forcarDisputa="f8",t.formaDePedra="f9",t.formaFluida="f10",t.garras="g0",t.geoanimacao="g1",t.geomanipulacao="g2",t.geoprotecao="g3",t.habilidadeAnimal="h0",t.herbologia="h1",t.hidromanipulacao="h2",t.hidrotolerancia="h3",t.iconeSagrado="i0",t.identificacao="i1",t.ilusoes="i2",t.imagem="i3",t.intuicao="i4",t.invisibilidade="i5",t.iraDivina="i6",t.lagrimaDeDragao="l0",t.laminaDeLuz="l1",t.leitura="l2",t.leituraDeHabitos="l3",t.leituraLabial="l4",t.lendaViva="l5",t.lendas="l6",t.levitacao="l7",t.libertacao="l8",t.licantropiaLupina="l9",t.linguagem="l10",t.malabarismo="m0",t.maldicoes="m1",t.manipulacaoDeLuz="m2",t.manipularConfianca="m3",t.marcaArcana="m4",t.marcaDaMorte="m5",t.medo="m6",t.memorizacao="m7",t.meteoros="m8",t.mimetismoAnimal="m9",t.modificarEspirito="m10",t.motivacao="m11",t.mutacao="m12",t.mutualidade="m13",t.necroanimacao="n0",t.necroconhecimento="n1",t.necropotencia="n2",t.obstinacao="o0",t.olharDoPredador="o1",t.ondaDestrutiva="o2",t.ondaPsiquica="o3",t.ordens="o4",t.orientacao="o5",t.paralisia="p0",t.peleDeArvore="p1",t.perspicacia="p2",t.pesadelo="p3",t.piromanipulacao="p4",t.piroprotecao="p5",t.planoMistico="p6",t.possessao="p7",t.presencaIntimidadora="p8",t.previsibilidade="p9",t.primor="p10",t.prisao="p11",t.prisaoVegetal="p12",t.projecao="p13",t.projecaoSensorial="p14",t.protecaoAnimal="p15",t.protecaoDivina="p16",t.protecaoMental="p17",t.protecaoNatural="p18",t.protecaoVegetal="p19",t.pseudoconsciencia="p20",t.pseudomateria="p21",t.purificacao="p22",t.putrefacao="p23",t.quebraDeEncantos="q0",t.raioEletrico="r0",t.raizesMisticas="r1",t.rastreamento="r2",t.recuperacaoFisica="r3",t.refletir="r4",t.regeneracao="r5",t.relampagos="r6",t.replicas="r7",t.resistencia="r8",t.resistenciaElemental="r9",t.ressurreicao="r10",t.restauracao="r11",t.retencaoMagica="r12",t.retorno="r13",t.ritualDeSangue="r14",t.ruido="r15",t.runas="r16",t.sacrificio="s0",t.sagracao="s1",t.santuarioNatural="s2",t.seducao="s3",t.sentidoNatural="s4",t.serDeagua="s5",t.serenidade="s6",t.sextoSentido="s7",t.silencio="s8",t.sono="s9",t.sorte="s10",t.sosia="s11",t.sugestao="s12",t.telecinese="t0",t.tensao="t1",t.terremoto="t2",t.toqueGelido="t3",t.transformacao="t4",t.transformacaoMetalica="t5",t.transmutacao="t6",t.transporteDimensional="t7",t.unidadeNatural="u0",t.velocidade="v0",t.ventriloquismo="v1",t.vigilia="v2",t.vigor="v3",t.vinculo="v4",t.vinculoVital="v5",t.visaoAnimal="v6",t.visaoDeBatalhas="v7",t.visaoDeCena="v8",t.visaoMistica="v9",t.visaoNoturna="v10",t.visaoTermica="v11",t))(ue||{});$d.extend({extra:st.string().array().optional(),alcance:eE,duracao:tE,custo:oE.optional(),evocacao:aE.optional(),niveis:rE.array()});var Og;(t=>{t.lista=[{id:ue.abrigo,nome:"Abrigo",descricao:`Essa magia desenvolve um senso de sobrevivência no místico, possibilitando encontrar a melhor forma de se abrigar contra os rigores da natureza. O evocador será direcionado a um local seguro (abrigo) ou saberá a melhor atitude a ser tomada diante das calamidades naturais, mas todas as opções de refúgio devem estar dentro da área de 5 km (alcance da magia).

Por exemplo, caso o místico precise se proteger da noite com um abrigo físico, a magia indicará a direção onde encontrar (pode ser uma caverna, um espaço nas raízes de uma imensa árvore, etc.). Caso não possua abrigos ao alcance da magia, o evocador será informado e a magia fornecerá redução na dificuldade da habilidade Sobrevivência no tocante à construção de um abrigo, além de indicar o local menos provável de ser atacado pela fauna e flora local para construir (copa da árvore ou em cima do monte, por exemplo). O Mestre julgará o ambiente e indicará o local. Para esse efeito, a evocação é de 1 rodada.

Por outro lado, se o evocador, sem o auxílio da magia, encontrar um abrigo físico, esse encanto poderá ser usado para identificar se é seguro. A resposta virá na forma de um pressentimento e basta usar o nível de acordo com a quantidade de pessoas que o abrigo encontrado suporta. Por exemplo:

- encontrou um abrigo para até 3 pessoas: usa o nível 1.
- encontrou um abrigo até 6 pessoas ou 3 pessoas e suas montarias: usa o nível 5
- encontrou um abrigo que comporta até 10 pessoas ou 5 pessoas e suas montarias, ou mais (limitado a uma área de 20m de raio): usa o nível 9.

Mas se o evocador estiver perdido em uma tempestade de areia, por exemplo, a magia indicará a melhor atitude a ser tomada (ex.: “fique deitado” ou “corra para trás”). A mensagem virá na forma da percepção do evocador por ter analisado a situação, e o nível da magia informará a quantidade de palavras que contém a mensagem (o Mestre deve ter em mente a melhor opção para sobreviver). É preciso deixar claro que a resposta não isenta dano, doença, etc., mas será a melhor escolha que reduzirá ao máximo as consequências. Para esse efeito, a evocação é instantânea.

A partir do quinto nível, a magia tornará o abrigo camuflado, mais difícil de ser detectado. A quantidade de pessoas que pode ser abrigada varia com a dificuldade do feitiço. Este encanto pode ser usado apenas em Ambiente Natural e precisa escolher um efeito na hora de lançar a magia.
`,evocacao:{tipo:ae.VARIAVEL},alcance:{tipo:U.QUILOMETRO,valor:5},duracao:{tipo:L.USO,valor:1},niveis:[{id:"0",nivel:1,descricao:"Encontra um abrigo capaz de proteger até 3 pessoas (caso não possua abrigo ao alcance da magia, reduz em 1 nível a dificuldade da habilidade sobrevivência para construir um abrigo) ou o evocador receberá uma mensagem de até 2 palavras com a melhor atitude a ser tomada."},{id:"1",nivel:3,descricao:"Idem ao anterior, mas abriga até 4 pessoas ou 2 pessoas e suas montarias (reduz 2 níveis) ou recebe uma mensagem de até 3 palavras."},{id:"2",nivel:5,descricao:"Idem ao anterior, mas abriga até 6 pessoas ou 3 pessoas e suas montarias (reduz 3 níveis) ou recebe uma mensagem de até 4 palavras. A partir desse nível, o encanto camuflará o abrigo, o que torna mais difícil de ser encontrado, aumentando em 1 nível a dificuldade na habilidade Usar o Sentidos e/ou Seguir Trilhas para quem tentar detectá-lo."},{id:"3",nivel:7,descricao:"Idem ao anterior, mas abriga até 8 pessoas ou 4 pessoas e suas montarias (reduz 4 níveis) ou sabe automaticamente a melhor atitude a ser tomada. Aumenta em 2 níveis para detectar."},{id:"4",nivel:9,descricao:"Idem ao anterior, mas abriga até 10 pessoas ou 5 pessoas e suas montarias (reduz 5 níveis) ou sabe automaticamente a melhor atitude a ser tomada e essa atitude o livrará de sofrer dano. Aumenta em 3 níveis para detectar."}],extra:["Os abrigos encontrados serão seguros e sem perigos. Ou seja, protegerá dos perigos ambientais (chuvas, sol, terremotos, etc.) e não a ameaças naturais em seu interior (ursos, orcos, aranhas, etc.). Caso algum inimigo o encontre, não oferecerá proteção extra. Como também não identifica perigo sobrenatural."]},{id:ue.adestramento,nome:"Adestramento",niveis:[{id:"0",nivel:1,descricao:"Com este efeito pode-se ensinar um truque básico (correr, buscar objetos, saltar, sentar etc) a animais domésticos, é possível usar um animal , desde que forte o suficiente, como montaria."},{id:"1",nivel:3,descricao:"Idem ao anterior, mas permite ensinar 2 truques que agora podem ser mais complexos (levar objetos de um canto a outro, emitir som caso algo aconteça, etc) ou executar manobras montadas como saltar obstáculos e correr em grande velocidade. Além disso, pode-se ensinar truques simples a animais Selvagens."},{id:"2",nivel:5,descricao:"Com este efeito é possível ensinar 3 truques complexos a animais Selvagens e adestrar animais Predadores para que realizam tarefas básicas. É possível usar um Animal Selvagem, desde que forte o suficiente, como montaria."},{id:"3",nivel:7,descricao:"Com este efeito, o evocador será capaz de adestrar animais Predadores para que realizem tarefas mais complexas (igual ao do efeito 3) e treinar criaturas Místicas para tarefas mais simples (igual ao efeito 1). É possível usar um Animal Predador, desde que forte o suficiente, como montaria."},{id:"4",nivel:9,descricao:"Com este efeito, o evocador pode adestrar um animal Místico para realizar tarefas complexas (igual ao efeito 3). É possível usar um Animal Místico, desde que forte o suficiente, como montaria."}],alcance:{tipo:U.TOQUE},duracao:{tipo:L.DIA,valor:1},evocacao:{valor:10,tipo:ae.MINUTO},descricao:`Através deste encanto, o evocador cria uma ligação mágica temporária com uma criatura de intelecto irracional e consegue plantar um certo conhecimento/habilidade em sua mente. A complexidade do “truque” depende do nível da magia.

A criatura alvo deve ser tocada para que a magia seja evocada. Em tese, qualquer criatura irracional pode ser adestrada, porém encantar um cavalo domesticado, ou um cão doméstico é bem mais fácil que um cervo selvagem ou um lobo feroz. A criatura pode resistir à magia, se bem sucedida, não será adestrada. A criatura fica imune a novas tentativas de adestramento do mesmo evocador até o próximo dia. A critério do mestre a criatura pode não resistir à magia.

Os “truques” ensinados não devem ser suicidas, como ensinar macacos a pular do penhasco de forma consciente, o encanto será imediatamente quebrado, mas “adestrar” um rinoceronte para servir de montaria numa batalha é viável. O adestramento deve ser descrito com exatidão no momento da evocação. O animal adestrado será no mínimo amistoso ao evocador, mas sempre será obediente.

A magia adestramento não torna a criatura servil ao evocador. Um tigre selvagem se permitiria montar pelo evocador e obedeceria seus comandos quando montado, conforme seu treinamento, mas ainda atacaria o mesmo evocador se ele estivesse caído a sua frente pois este é seu instinto. Para criar uma relação de fidelidade ou servidão seria necessário convivência, uso de habilidade ou de outra magia.

Para esta magia, divide-se os animais nas seguintes categorias.

Domésticos: Animais acostumados a viver entre as raças inteligentes. Ex.: Cães, gatos, cavalos, galinhas, falcões, cabras.
Selvagens: Versões selvagens dos animais domésticos. Ex.: Cavalos Selvagens, cabras das Montanhas, Perus Selvagens.
Predadores: São animais que em condições normais seriam predadores ou pelo menos hostis ao evocador. Ex.: Búfalos selvagens, Leões, Tigres, Águias, Gorilas.
Místicos: São animais de natureza mágica que possuem uma resistência maior à magia. Ex.: Mantícoras, Hipogrifos, Pégasus.

O Mestre deve usar o bom senso para julgar se o animal possui “inteligência” para executar a tarefa/truque.
    `},{id:ue.aeroataque,nome:"Aeroataque",niveis:[{id:"0",nivel:1,descricao:"Carrega até 20 kg, é preciso Força -1 para se segurar e derruba até 60 kg, não afetando criaturas e objetos a partir daí."},{id:"1",nivel:3,descricao:"Carrega até 40 kg, é preciso Força 0 para se segurar e derruba até 120 kg, não afetando criaturas e objetos a partir daí."},{id:"2",nivel:5,descricao:"Carrega até 60 kg, é preciso Força 1 para se segurar e derruba até 180 kg, não afetando criaturas e objetos a partir daí."},{id:"3",nivel:7,descricao:"Carrega até 90 kg, é preciso Força 2 para se segurar e derruba até 270 kg, não afetando criaturas e objetos a partir daí."},{id:"4",nivel:10,descricao:"Carrega até 150 kg, é preciso Força 3 para se segurar e derruba até 450 kg, não afetando criaturas e objetos a partir daí."}],alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.RODADA,valor:1},evocacao:{tipo:ae.INSTANTANEA},descricao:`Cria ventanias de grande força, mas pouca precisão (para precisão, veja o encanto Aeromanipulação). Os fortes ventos criados têm a capacidade de carregar, derrubar e/ou arrastar criaturas e objetos até certo peso.

O vento se desloca na direção que o evocador apontar, na forma de uma faixa de 3 metros de largura, começando no místico e chegando até o alcance máximo. Para se tentar afetar alguém com este vento é preciso primeiro se obter um resultado de 50% ou mais em um ataque físico.

Criaturas e objetos que estejam na área de efeito se enquadram em 3 categorias: aqueles que podem ser carregados, aqueles que podem ser derrubados e os que não podem ser afetados. A categoria a qual um objeto ou criatura pertence é determinada pelo seu peso e pela Dificuldade do Efeito que está sendo usado contra ele(a).

A força do vento tem a capacidade de carregar coisas de peso relativamente pequeno, a não ser que haja um ponto de apoio fixo e força para se segurar. Criaturas nesta categoria que consigam se segurar não poderão fazer nenhuma ação enquanto este feitiço estiver em operação (isto é, além de se agarrar ao seu apoio). Objetos que estejam firmemente presos (por exemplo, cimentados ao chão) não são afetados.

Objetos e criaturas que sejam carregados são arremessados cerca de 15 metros para trás e, no caso das criaturas, precisam gastar duas rodadas se recuperando e levantando. Caso haja uma superfície sólida na trajetória da queda de 15 metros citada acima (por exemplo, uma parede) o objeto ou criatura é tratado como se tivesse caído de 7 metros de altura. O Mestre do Jogo saberá como cuidar disto.

Os que possuem um peso intermediário não podem ser carregados, embora possam ser derrubadas, não sofrendo nenhum dano (mas sendo levados para trás cerca de 3 metros) e, no caso das criaturas, as mesmas devem gastar uma rodada se recuperando e se levantando. Caso encontrem um ponto de apoio, elas não são derrubadas, mas não podem avançar contra o vento enquanto o feitiço estiver em ação.

Seres que possuam uma grande massa não serão afetados por este encanto, não sofrendo qualquer efeito prático.
    `},{id:ue.aeromanipulacao,nome:"Aeromanipulação",niveis:[{id:"0",descricao:"Permite dar formas especificas a gases dentro da área de efeito.",nivel:1},{id:"1",descricao:"Forma uma barreira de vento em volta do evocador que impede ataques com projeteis não mágicos e dá penalidade -2 em combates corpo a corpo, afetando inclusive o evocador caso este queira atacar ultrapassando a barreira de vento com armas de mão. Entretanto os ataques mágicos a distância não recebem qualquer penalidade.",nivel:3},{id:"2",descricao:"Cria fortes ventos saindo do evocador em todas as direções. A força dos ventos repele objetos e criaturas como explicado na descrição da magia. Além disso, a força do vento impede ataques com projeteis não mágicos e concede um ajuste de -5 para todos os outros ataques que exijam proximidade, mágicos ou não (ex: tanto a espada mágica quanto a espada comum sofrerão a penalidade de -5 pontos}, observa-se que esta penalidade se aplicará inclusive aos seus aliados, entretanto inaplicáveis ao evocador.",nivel:5},{id:"3",descricao:"Cria fortes ventos saindo a partir de um circulo de 6 metros de raio do evocador. A força dos ventos repele objetos e criaturas como explicado na descrição da magia. Além disso, a força do vento impede ataques com projeteis não mágicos e concede um ajuste de -5 para todos os outros ataques, mágicos ou não, observa-se que os aliados do evocador não serão afetados caso estejam dentro do raio de proteção da magia.",nivel:7},{id:"4",descricao:"Permite que o evocador use o vento para carregar, manipular e lançar objetos como forma de atacar o oponente. Este efeito tem grande precisão e permite que o evocador manipule até 4 objetos de até 2 quilos e dano máximo de 8 pontos por objeto atirado",nivel:10}],descricao:`A magia Aeromanipulação permite o controle de substâncias gasosas que estejam a uma distância do evocador menor do que o alcance do feitiço.

Este encanto pode ser usado para criar ventos dentro da área de efeito, podendo estes sair desta área. Neste caso, eles perderão a força gradualmente até pararem totalmente (da mesma forma que o vento causado por um ventilador diminui gradualmente, até parar). Além disso, o evocador perderá o controle sobre eles se estiverem além do Alcance.

A força do vento permanece relativamente constante em todos os efeitos deste encanto. Um controle cada vez maior sobre o vento permite que o evocador crie uma série de efeitos muito interessantes. O vento tem a capacidade de mover até 30 quilogramas e de impedir que objetos ou criaturas que pesem até 100 quilogramas se movam velozmente contra ele (no máximo, se arrastam vagarosamente).`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.RODADA,valor:30},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.alucinacao,nome:"Alucinação",niveis:[{id:"0",duracao:{tipo:L.RODADA,valor:3},descricao:"Cria uma alucinação, afetando 1 sentido.",nivel:1},{id:"1",duracao:{tipo:L.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 1 sentido.",nivel:2},{id:"2",duracao:{tipo:L.RODADA,valor:3},descricao:"Cria uma alucinação, afetando 2 sentidos.",nivel:4},{id:"3",duracao:{tipo:L.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 2 sentidos.",nivel:5},{id:"4",duracao:{tipo:L.RODADA,valor:3},descricao:"Cria uma alucinação, afetando 3 sentidos.",nivel:6},{id:"5",duracao:{tipo:L.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 3 sentidos.",nivel:7},{id:"6",duracao:{tipo:L.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 4 sentidos.",nivel:8},{id:"7",duracao:{tipo:L.RODADA,valor:8},descricao:"Cria uma alucinação, afetando 4 sentidos.",nivel:9},{id:"8",duracao:{tipo:L.RODADA,valor:5},descricao:"Cria uma alucinação, afetando 5 sentidos.",nivel:10}],descricao:`Esta magia afeta um ou mais sentidos de uma pessoa, fazendo com que ela sofra uma alucinação por algum tempo caso falhe na sua Resistência à Magia. A duração da alucinação e o número de sentidos afetados (tato, audição, visão, etc) dependem da dificuldade do efeito usado.

Caso a vítima deste feitiço obtenha sucesso em sua Resistência à Magia ela não sofrerá nenhum efeito. Algumas vezes as alucinações causadas podem dar chance a vitima de perceber que o que ela está sentindo não é normal. Quando isto acontecer, a vítima tem direito a tentar uma Percepção difícil. Caso obtenha sucesso, saberá que não pode confiar em seus sentidos, mas continuará sob o efeito da magia. A evocação deste feitiço é muito discreta e, por isto, não pode ser percebida normalmente.

A alucinação pode afetar o(s) sentido(s) escolhido(s) pelo evocador e tomará qualquer forma escolhida pelo mesmo, o evocador deverá apenas escolher o que ele deseja que a vítima perceba. Caso a vítima tenha falhado na sua Resistência à Magia, ela perceberá apenas aquilo que o evocador deseja que ela perceba.

Enquanto a magia permanecer em operação, o evocador pode mudar o que ele deseja que os sentidos da vítima captem, desde que a vítima esteja dentro do alcance da magia e no campo de visão do evocador. Caso este se afaste da vítima além do alcance do feitiço ou perca a vítima de vista, esta continua percebendo (ou não percebendo) o que o evocador determinou até o fim da duração.

O evocador pode desejar, por exemplo, que a vítima veja um terreno plano no lugar do abismo que se encontra à sua frente, que seus amigos são monstros, que não veja nem ouça o evocador e seu grupo passarem à sua frente, etc.

Note que, como este encanto afeta a mente da vítima e não ondas de luz, etc, apenas a vítima perceberá a alucinação, devendo agir conforme as informações que lhe chegam.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.amizade,nome:"Amizade",niveis:[{id:"0",duracao:{tipo:L.ESPECIAL,outraDescricao:"Até o favor ser feito"},descricao:"Torna uma criatura inteligente mais simpática em relação ao evocador. Este pode pedir um pequeno favor à vítima, desde que seja algo razoável.",nivel:1},{id:"1",duracao:{tipo:L.HORA,valor:1},descricao:"A vítima passa a considerar o evocador um bom amigo e atenderá seus desejos, desde que não contrariem sua índole, seus deveres ou o prejudiquem muito.",nivel:2},{id:"2",duracao:{tipo:L.HORA,valor:1},descricao:"Idem ao anterior, mas a vítima pode fazer algo que a prejudique (mas não a mate).",nivel:4},{id:"3",duracao:{tipo:L.SEMANA,valor:1},descricao:"Idem ao anterior.",nivel:6},{id:"4",duracao:{tipo:L.SEMANA,valor:1},descricao:"Idem ao anterior, mas a vítima desprezará seus deveres para ajudar o evocador.",nivel:8},{id:"5",duracao:{tipo:L.MES,valor:1},descricao:"Idem ao anterior.",nivel:10}],descricao:`Esse encanto torna a vítima mais receptiva a idéias do evocador, caso ela falhe em sua Resistência à Magia.

Conforme o poder do efeito, mais subserviente se torna a vítima, até o ponto em que sua personalidade se anula. Muitas vezes se falará sobre a índole do alvo da magia. Esta pode ser definida como o padrão de conduta. Fora da sua índole está tudo aquilo que ele não faria nem por um amigo. Se o evocador pedir a uma vítima desta magia, que roube algo ou mate alguém, ela somente atenderá o pedido se isso não contrariar sua índole. Sendo assim, mesmo que uma vítima que tenha boa índole considere o evocador como seu melhor amigo jamais matará alguém ou fará algo muito grave pelo evocador. Isso porque sua índole não permite fazer essas coisas nem mesmo por seu melhor amigo.

Note que ao final do efeito a vítima se lembrará de tudo que fez e sentiu, por isso, existirão situações em que a vítima poderá perceber que foi enfeitiçada. Para perceber basta realizar um teste de percepção com nível de dificuldade determinado pelo mestre do jogo de acordo com a situação. Considera-se que quanto mais incomum for o comportamento da vítima durante o tempo em que esteve enfeitiçada, mais fácil será o teste para saber se foi enfeitiçada.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.analise,nome:"Análise",niveis:[{id:"0",descricao:"Analisa propriedades mágicas de nível 1.",nivel:1},{id:"1",descricao:"Analisa propriedades mágicas de nível máximo 2.",nivel:2},{id:"2",descricao:"Analisa propriedades mágicas de nível máximo 3.",nivel:3},{id:"3",descricao:"Analisa propriedades mágicas de nível máximo 4.",nivel:4},{id:"4",descricao:"Analisa propriedades mágicas de nível máximo 5.",nivel:5},{id:"5",descricao:"Analisa propriedades mágicas de nível máximo 6.",nivel:6},{id:"6",descricao:"Analisa propriedades mágicas de nível máximo 7.",nivel:7},{id:"7",descricao:"Analisa propriedades mágicas de nível máximo 8.",nivel:8},{id:"8",descricao:"Analisa propriedades mágicas de nível máximo 9.",nivel:9},{id:"9",descricao:"Analisa propriedades mágicas de nível máximo 10.",nivel:10}],descricao:`Esta magia permite que o evocador analise a aura de um objeto e descubra as propriedades mágicas que ele possui. Caso o evocador use esta magia em um objeto que não seja mágico, ele descobre imediatamente que o objeto não é mágico (mas ainda assim desperdiça o dinheiro do ritual).

Embora esta magia seja muito útil, ela requer muito treinamento, pois o evocador só é capaz de descobrir propriedades mágicas de poder equivalente ao seu conhecimento em Análise. Para a maioria das propriedades mágicas vale a relação abaixo:

Propriedades de nível 1: Magias de nível 1; focus +2; absorção +1.

Propriedades de nível 2: Magias de nível 2; focus +4; absorção +2; armas +1.

Propriedades de nível 3: Magias de nível 3; focus +6; absorção +3; defesa +1.

Propriedades de nível 4: Magias de nível 4; focus +8; absorção +4; armas +2.

Propriedades de nível 5: Magias de nível 5; focus +10; absorção +5.

Propriedades de nível 6: Magias de nível 6; focus +12; absorção +6; armas +3; defesa +2.

Propriedades de nível 7: Magias de nível 7; focus +14; absorção +7.

Propriedades de nível 8: Magias de nível 8; focus +16; absorção +8; armas +4.

Propriedades de nível 9: Magias de nível 9; focus +18; absorção +9.

Propriedades de nível 10: Magias de nível 10; focus +20; absorção +10; armas +5; defesa +3.

Propriedades específicas que não se enquadrem na relação acima como por exemplo os itens descritos no Livro de Artefatos, terão seu nível determinado pelo mestre do jogo.

Caso um item tenha mais de uma propriedade, o evocador deve primeiro descobrir as propriedades de menor nível para depois ser capaz de analisar as de nível mais alto, em uma escala crescente. Sempre se analisa apenas uma propriedade de cada vez.

Após o último poder ser descoberto, a leitura seguinte dirá que não existe mais nenhuma propriedade a ser lida. Note que não há nenhuma maneira de se saber que uma determinada propriedade é a última, a não ser usar novamente o encanto.

Se um ritual de Análise de baixo nível for realizado em um item com propriedades de nível mais alto, o evocador não será capaz de descobrir a propriedade, mas saberá qual nível deve ser usado, se possuir o nível necessário. Caso o evocador não possua o nível necessário ele apenas saberá que a análise daquela propriedade está além de suas capacidades.

Este ritual exige o uso de materiais raros, de modo que eles custam 5 moedas de prata por dificuldade do efeito que se deseja usar.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.USO,valor:1},evocacao:{tipo:ae.RITUAL}},{id:ue.animacaoMetalica,nome:"Animação Metálica",niveis:[{id:"0",dinheiro:{ouro:1},descricao:"Grupo de Armas igual a 1 em uma arma média que cause dano máximo 16, Concede defesa P1 e 10 pontos de EH.",nivel:1},{id:"1",dinheiro:{ouro:2},descricao:"Grupo de Armas igual a 3 em uma arma média que cause dano máximo 20, Concede defesa P1 e 20 pontos de EH.",nivel:2},{id:"2",dinheiro:{ouro:4},descricao:"Grupo de Armas igual a 6 em duas armas médias que causem dano máximo 20, Concede defesa P2 e 30 pontos de EH.",nivel:4},{id:"3",dinheiro:{ouro:6},descricao:"Grupo de Armas igual a 9 em uma arma média que cause 20 de dano e uma arma pesada que cause 20 de dano. Concede defesa P3 e 40 pontos de EH.",nivel:6},{id:"4",dinheiro:{ouro:8},descricao:"Grupo de Armas igual a 12 em uma arma média que cause 20 de dano e uma arma pesada que cause 24 de dano. Concede defesa P4 e 50 pontos de EH.",nivel:8},{id:"5",dinheiro:{ouro:10},descricao:"Grupo de Armas igual a 15 em três armas a escolha do evocador. Concede defesa P5 e 60 pontos de EH.",nivel:10}],descricao:`Com esta magia o mago alquímico é capaz de animar armaduras. Estas devem ser couraças parciais com elmos fechados, de onde ela obterá toda a sua Energia Física.

A armadura, elmo, escudo e/ou arma que compõem o ser animado devem ser virgens, isto é, não podem ter sido utilizados.

Durante o ritual de encantamento, o mago deverá escolher a(s) arma(s) que o ser será capaz de utilizar, de acordo com o nível da magia (o dano da arma utilizada pela armadura não sofre ajuste de força). Após o ritual, a armadura será capaz de utilizar apenas a(s) arma(s) e/ou escudo que foram encantadas com ela no ritual.

Após o ritual de encantamento a armadura se tornará um servo fiel ao evocador, executando qualquer missão desde de que esta não contenha mais de 25 palavras, não envolva qualquer tipo de avaliação por parte da armadura, nem envolva critérios que não possam ser captados pelo sentido da visão ou sejam subjetivos.

As armaduras são imunes a toda e qualquer ilusão ou ataque de origem mental.

Caso a armadura venha a receber algum dano em sua estrutura, este será recuperado a razão de 1 ponto por hora. Caso a EF do ser seja levada à faixa de inconsciência (entre 0 e –15) a armadura cairá, se recompondo normalmente. Se a Energia Física do ser for levada à –16 ou menos, o encanto da animação metálica será desfeito. Um mesmo místico não pode ter mais de 3 armaduras animadas em um mesmo período de tempo.

O nível da magia diz os parâmetros gerais do ser, as armas que ele será capaz de utilizar, seu valor de grupo de armas e o custo do ritual.

* O parâmetro para altura das armaduras animadas será relativo ao dos humanos.

* A resistência à magia do ser será igual ao nível da magia “Animação Metálica” usada para animar a armadura.`,alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.ANO,valor:1},evocacao:{tipo:ae.RITUAL}},{id:ue.animacaoVegetal,nome:"Animação Vegetal",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:L.DIA,valor:4},descricao:"Anima uma árvore de Porte menor.",nivel:1},{id:"1",dinheiro:{ouro:3},duracao:{tipo:L.SEMANA,valor:1},descricao:"Anima uma árvore de Pequeno porte.",nivel:3},{id:"2",dinheiro:{ouro:5},duracao:{tipo:L.SEMANA,valor:2},descricao:"Anima uma árvore de Médio porte.",nivel:5},{id:"3",dinheiro:{ouro:7},duracao:{tipo:L.SEMANA,valor:3},descricao:"Anima uma árvore de Médio porte.",nivel:7},{id:"4",dinheiro:{ouro:9},duracao:{tipo:L.MES,valor:1},descricao:"Anima uma árvore de Grande porte.",nivel:9}],descricao:`Este ritual transforma árvores em seres de aparência vagamente humanóide (semelhante a um Enida) sob controle do evocador. Na verdade este ritual transforma árvores comuns em Árvores Animadas (veja os detalhes delas no Livro de Criaturas).

O custo do ritual e o poder da criatura variam com o porte da árvore e a dificuldade do efeito usado. As árvores podem ser classificadas em porte menor (entre 2m e 3m}, pequeno porte (entre 3m e 4m}, médio porte (entre 4m e 5m) e grande porte (entre 5m e 7m). Qualquer árvore que seja de tamanho maior do que as capacidades do nível utilizado não será afetada pelo ritual, o karma e os materiais serão gastos inutilmente. O evocador só pode ter uma Árvore Animada por vez com este ritual.

A árvore animada realizará apenas comandos de baixa complexidade vindos do evocador, tais como "Empurre essa rocha" ou "Ataque aquela criatura". Caso o evocador deseje que a Árvore Animada execute tarefas mais complexas, ele precisará manter a concentração enquanto a controla. Além disso, também é requisito estar a menos de 50m da Árvore, caso contrário o ser ficará imóvel até que as condições necessárias se restabeleçam.

Sacerdotes de Sevides costumam costumam animar árvores para auxilia-los em tarefas da lavoura, das mais leves como espantar pássaros indesejados da plantação, até defender as terras de criaturas invasoras como orcos e goblins. Por outro lado, Magos naturalistas animam árvores para proteção de seus refúgios, alguns deles mudam árvores de local para criar verdadeiras fortalezas e caminhos intransponíveis.`,alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.anulacaoMistica,nome:"Anulação Mística",niveis:[{id:"0",descricao:"Cria uma área de um metro de raio.",nivel:1,evocacao:{tipo:ae.INSTANTANEA},duracao:{tipo:L.RODADA,valor:3},alcance:{tipo:U.METRO,valor:1,isRaio:!0}},{id:"1",descricao:"Cria uma área de dois metros de raio.",nivel:3,duracao:{tipo:L.RODADA,valor:5},evocacao:{tipo:ae.INSTANTANEA},alcance:{tipo:U.METRO,valor:2,isRaio:!0},secundario:{id:"0",nivel:0,descricao:"Pode ser direcionada para uma pessoa.",evocacao:{tipo:ae.INSTANTANEA}}},{id:"2",duracao:{tipo:L.RODADA,valor:10},evocacao:{tipo:ae.INSTANTANEA},alcance:{tipo:U.METRO,valor:4,isRaio:!0},descricao:"Cria uma área de quatro metros de raio.",nivel:5,secundario:{id:"0",nivel:0,descricao:"Pode ser direcionada até duas pessoas com distancia máxima de 10 metros entre os alvos.",alcance:{tipo:U.METRO,valor:10},evocacao:{tipo:ae.INSTANTANEA}}},{id:"3",alcance:{tipo:U.METRO,valor:6,isRaio:!0},duracao:{tipo:L.MES,valor:1},evocacao:{tipo:ae.RITUAL},descricao:"Cria uma área de seis metros de raio.",nivel:7,secundario:{id:"0",nivel:0,alcance:{tipo:U.METRO,valor:15},duracao:{tipo:L.RODADA,valor:10},evocacao:{tipo:ae.INSTANTANEA},descricao:"Pode ser direcionada até três pessoas com distancia máxima de 15 metros entre os alvos."}},{id:"4",alcance:{tipo:U.METRO,valor:10,isRaio:!0},evocacao:{tipo:ae.RITUAL},duracao:{tipo:L.ANO_E_DIA},descricao:"Cria uma área de dez metros de raio.",nivel:9,secundario:{id:"0",nivel:0,alcance:{tipo:U.METRO,valor:30},duracao:{tipo:L.RODADA,valor:10},evocacao:{tipo:ae.INSTANTANEA},descricao:"Pode ser direcionada até três pessoas com distancia máxima de 30 metros entre os alvos."}}],descricao:`Com este milagre, o místico pode criar um campo que impossibilita a utilização de magias de qualquer natureza ou, em seu segundo efeito, direcionar a magia para um alvo específico que terá direito há uma rolagem de Resistência à Magia.

Caso escolha o primeiro efeito – criação de um campo, a área afetada pelo encantamento anula quaisquer magias cujos níveis sejam iguais ou inferiores aos do campo de anulação mística. Assim, se for evocada anulação mística 7, um mago que evoque alguma magia nível 4, gastará seus pontos de karma e não conseguirá nenhum resultado. Caso evoque uma magia nível 8 não terá nenhum empecilho. A única exceção para essa magia é a magia Quebra de Encantos, pois é possível evocar a quebra de encantos com o mesmo nível da magia anulação mística, enquanto qualquer outra magia só terá seu efeito realizado caso o nível seja maior (e não igual) ao do campo. Itens encantados seguem a mesma regra. Se alguém desejar usar um anel com raio elétrico 4, só terá o efeito realizado caso o campo de anulação mística tenha nível menor que 4. A evocação é variável, podendo ser instantânea ou levar a um ritual que custa 2 moedas de ouro.

Se a escolha do usuário for pelo segundo efeito, o(s) alvo(s) terá(ão) direito à Resistência à Magia, caso não passe(m}, ficará(ão) sob efeito do encantamento até que este seja quebrado ou que o efeito passe.

Esse milagre costuma ser muito utilizado em masmorras de castelos, em especial as dos países em que a magia é mais presente como Calco ou Portis. As famosas celas antimágicas são criadas a partir desta magia. Só é possível criar um campo de anulação mística que esteja a uma distância maior do que 20 metros de outra área encantada com esta magia. Caso contrário, a magia falhará.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.apelo,nome:"Apelo",niveis:[{id:"0",descricao:"Conjura temporariamente um enviado menor.",nivel:1},{id:"1",descricao:"Conjura temporariamente um enviado tipo I.",nivel:3},{id:"2",evocacao:{tipo:ae.RITUAL},dinheiro:{ouro:10},descricao:"Conjura um enviado menor para servir o evocador até a morte (do enviado ou do evocador).",nivel:4},{id:"3",descricao:"Conjura temporariamente um enviado tipo II",nivel:5},{id:"4",evocacao:{tipo:ae.RITUAL},dinheiro:{ouro:30},descricao:"Conjura um enviado tipo I para servir o evocador até a morte (do enviado ou do evocador).",nivel:6},{id:"5",descricao:"Conjura temporariamente um enviado tipo III.",nivel:7},{id:"6",evocacao:{tipo:ae.RITUAL},dinheiro:{ouro:50},descricao:"Conjura um enviado tipo II para servir o evocador até a morte (do enviado ou do evocador).",nivel:9}],descricao:`Com esse milagre, o sacerdote pede ajuda ao seu deus, que responde mandando enviados para solucionar seus problemas ou ajudá-lo em suas funções.

O ser conjurado permanece com o evocador por 30 rodadas, normalmente. Os efeitos Apelo 4, 6 e 9 são rituais que fazem com que o enviado fique permanentemente ajudando o sacerdote. Apenas uma dessas criaturas pode ficar permanentemente com o sacerdote. A conjuração temporária tem evocação de uma rodada e a permanente é ritual.

Esta magia não deverá ser evocada levianamente, apenas em caso de necessidade real. Caso seja evocada em uma situação que não seja de extrema necessidade ou se for evocado por um motivo efêmero e/ou mundano, a magia falhará e o sacerdote será punido pelo seu deus, o que normalmente implicará na perda de seus poderes, ou mesmo por alguma maldição (o Mestre deverá decidir a melhor forma de punir o sacerdote).

Caso o enviado morra ou a duração chegue ao fim, ele desaparece, voltando para junto de seu o deus.`,alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.VARIAVEL}},{id:ue.aprimorarHabilidades,nome:"Aprimorar Habilidades",niveis:[{id:"0",duracao:{tipo:L.USO,valor:1},descricao:"Bônus ou Redução de 1 Nível em um rolamento.",nivel:1},{id:"1",duracao:{tipo:L.USO,valor:1},descricao:"Bônus ou Redução de 2 Níveis em um rolamento.",nivel:3},{id:"2",duracao:{tipo:L.USO,valor:2},descricao:"Bônus ou Redução de 2 Níveis em um rolamento.",nivel:5},{id:"3",duracao:{tipo:L.USO,valor:3},descricao:"Bônus ou Redução de 2 Níveis em um rolamento.",nivel:7},{id:"4",duracao:{tipo:L.USO,valor:3},descricao:"Idem ao anterior, mas agora um dos usos pode transformar um rolamento Impossível em Absurdo (Cinza).",nivel:9}],descricao:"Ao adquirir pelo menos 1 nível neste encanto, o evocador terá de escolher até 3 habilidades e ao adentrar em uma especialização, este poderá escolher mais 5 novas habilidades. As habilidades que podem ser escolhidas são: Acrobacias, Ações Furtivas, Aplicar Esforço, Carpintaria, Corrida, Escalar Superfícies, Escapar, Lidar com Animais, Manusear Armadilhas, Medicina, Montar Animais, Natação, Navegação, Seguir Trilhas, Sobrevivência, Trabalhos Manuais, Usar Sentidos e Venefício. Somente as habilidades escolhidas terão seus níveis de dificuldade diminuídos de acordo com os efeitos abaixo; uma vez escolhida a habilidade não é mais possível trocá-la. Note que, caso o místico não possua nível na habilidade que tenha escolhido, este encanto não poderá ser utilizado.",extra:["Este feitiço pode ser evocado em conjunto ao uso de uma habilidade, caso seja evocado desta maneira não gastará a ação da rodada, mas gastará 1 uso automaticamente. O encanto irá entrar em colapso se: todos os usos forem gastos, se o a duração máxima for alcançada ou se for evocado novamente. Neste último caso, o efeito mais recente torna-se o vigente. É importante ressaltar que com exceção do efeito 9, esta magia não reduz o nível de dificuldade se ela for Impossível."],alcance:{tipo:U.PESSOAL},duracao:{tipo:L.USO,outraDescricao:"Uso(s) ou 12 horas"},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.areaDePaz,nome:"Área de Paz",niveis:[{id:"0",alcance:{tipo:U.PESSOAL},duracao:{tipo:L.RODADA,valor:3},descricao:"A área de paz restringe-se apenas ao sacerdote.",nivel:1},{id:"1",duracao:{tipo:L.RODADA,valor:5},alcance:{tipo:U.METRO,valor:2,isRaio:!0},descricao:"A área de paz é de 2 metros de raio.",nivel:2},{id:"2",duracao:{tipo:L.RODADA,valor:10},alcance:{tipo:U.METRO,valor:4,isRaio:!0},descricao:"A área de paz é de 4 metros de raio.",nivel:4},{id:"3",duracao:{tipo:L.HORA,valor:1},alcance:{tipo:U.METRO,valor:10,isRaio:!0},descricao:"A área de paz é de 10 metros de raios.",nivel:6},{id:"4",duracao:{tipo:L.DIA,valor:1},alcance:{tipo:U.METRO,valor:10,isRaio:!0},descricao:"A área de paz é de 10 metros de raios.",nivel:8},{id:"5",duracao:{tipo:L.ANO_E_DIA},alcance:{tipo:U.VARIAVEL},descricao:"Neste nível, o sacerdote pode criar uma área de paz. Para tal, o sacerdote deverá fazer um ritual cujos sacrifícios valem 5 m.o para cada metro de raio que se deseje formar a área, sendo que no máximo a área poderá atingir 10 metros de raio. Milagre muito utilizado nos templos de Selimom (os maiores, que podem arcar com os custos do ritual).",nivel:10}],descricao:`Com este milagre, o sacerdote de Selimom cria ao seu redor uma área pacífica que repudia todo aquele que possui desejos violentos contra aqueles presentes na área. Na prática, qualquer um que tente atacar qualquer pessoa na área deverá fazer uma Resistência à Magia. Caso resista, poderá atacar normalmente, mas deverá fazer uma resistência à magia por rodada.

A área da magia é alterada de acordo com o nível e o sacerdote pode escolher entre colocar a área móvel consigo ou fixá-la formando um círculo imóvel, ambas as opções tem como centro o próprio sacerdote no instante da evocação do milagre.`,extra:["Esse milagre evita que qualquer um ataque pessoas dentro da área, inclusive ataques à distância como arco e flecha e magias como bola de fogo e raio elétrico. Entretanto, se qualquer pessoa protegida pelo milagre atacar ou realizar qualquer encanto, a área de paz é desfeita automaticamente."],alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.armadilha,nome:"Armadilha",niveis:[{id:"0",duracao:{tipo:L.DIA,valor:10},descricao:"Armazena até 3 pontos de Karma.",nivel:1},{id:"1",duracao:{tipo:L.DIA,valor:20},descricao:"Armazena até 6 pontos de Karma.",nivel:2},{id:"2",duracao:{tipo:L.MES,valor:1},descricao:"Armazena até 9 pontos de Karma.",nivel:3},{id:"3",duracao:{tipo:L.MES,valor:2},descricao:"Armazena até 9 pontos de Karma.",nivel:4},{id:"4",duracao:{tipo:L.MES,valor:5},descricao:"Armazena até 12 pontos de Karma.",nivel:6},{id:"5",duracao:{tipo:L.ANO_E_DIA},descricao:"Armazena até 21 pontos de Karma.",nivel:8},{id:"6",duracao:{tipo:L.PERMANENTE},descricao:"Armazena até 30 pontos de Karma.",nivel:10}],descricao:`Este encanto permite que uma ilusão seja armazenada em um local para ser liberada de acordo com uma determinada condição especificada no momento de sua evocação. O tempo que uma ilusão permanece válida após ser armazenada e a perfeição da magia que pode ser armazenada dependem da dificuldade do efeito usado pelo evocador.

Esta magia é evocada no local onde a ilusão que se deseja armazenar deve ficar (obrigatoriamente um local imóvel). Na rodada seguinte ao final da evocação deste encantamento a ilusão que se deseja armazenar deve ser evocada pelo mesmo místico que evocou a magia Armadilha. Ao final da evocação da ilusão, a condição na qual a mesma será disparada deve ser estabelecida. Esta condição é uma frase de 15 palavras ou menos. Quaisquer características que possam ser captadas pelos sentidos humanos da visão e da audição podem ser usadas, mas critérios subjetivos não são válidos.

Assim, a condição "dispare quando um orco de elmo preto entrar nesta sala e falar a palavra grokk" é válida, mas "dispare quando um homem feio entrar nesta sala" não é, pois envolve um critério subjetivo (beleza). Do mesmo modo, "dispare quando uma elfa com cheiro de flores entrar na sala" também não é válido, pois envolve um sentido que não é visão ou audição. Caso uma condição inadequada seja usada, a ilusão dispara imediatamente contra o evocador (além disso, é óbvio, do dinheiro do ritual ser perdido).

O tempo que uma magia fica armazenada e o número máximo de pontos de Karma que podem ser colocados nela dependem da dificuldade do efeito usado. Note que o número máximo de pontos de Karma inclui todos os pontos usados em uma evocação conjunta.

Quando a duração se esgota, a magia armazenada se dissipa sem efeito. Quando a Armadilha é disparada, a magia preparada se realiza e o encanto se dissipa, a não ser que o efeito de Armadilha usado tenha duração permanente. Neste caso, após a magia armazenada ser disparada o efeito fica sem atuar por 24 horas. Após este tempo a Armadilha volta a atuar normalmente.

Finalmente, este encanto não pode ser evocado a menos de 10 metros do local onde outra magia Armadilha está colocada. Caso isto aconteça, ambas as magias se dissolvem imediatamente sem fazer efeito. Os materiais usados para a evocação custam 1 moeda de ouro por Dificuldade do efeito usado. Ou seja, evocar o efeito Armadilha 3 custa 3 moedas de ouro.`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.armadilhaNatural,nome:"Armadilha Natural",niveis:[{id:"0",duracao:{tipo:L.HORA,valor:24},alcance:{tipo:U.METRO,valor:3,isRaio:!0},descricao:"A natureza auxilia o evocador fazendo uma armadilha que causa 12 pontos de dano à vítima.",nivel:1},{id:"1",duracao:{tipo:L.SEMANA,valor:1},alcance:{tipo:U.METRO,valor:5,isRaio:!0},descricao:"Idem ao anterior, porém causa 18 pontos de dano na vítima, que permanece atordoada por 5 minutos, além disso recebendo -1 em suas ações por 1 dia.",nivel:3},{id:"2",duracao:{tipo:L.SEMANA,valor:2},alcance:{tipo:U.METRO,valor:7,isRaio:!0},descricao:"Idem ao anterior, porém causa 22 pontos de dano na vítima, que permanece desmaiada por 10 minutos, além disso recebendo -2 em suas ações por 1 dia.",nivel:5},{id:"3",duracao:{tipo:L.SEMANA,valor:3},alcance:{tipo:U.METRO,valor:9,isRaio:!0},descricao:"Idem ao anterior, porém causa 26 pontos de dano na vítima, que fica presa na armadilha e atordoada por 30 minutos, além disso recebendo -4 em suas ações por 1 dia.",nivel:7},{id:"4",duracao:{tipo:L.MES,valor:1},alcance:{tipo:U.METRO,valor:12,isRaio:!0},descricao:"Idem ao anterior, porém causa 30 pontos de dano na vítima, que fica presa na armadilha desmaiada por 1 hora, além disso recebendo -8 em suas ações por 2 dias.",nivel:9}],descricao:`Com esta esta magia o evocador pede auxílio para a natureza para criar uma armadilha natural. A magia tem dependência de habitat, pois os efeitos são naturais: um galho cai na vítima, uma cobra pica a vítima, a vítima pisa em um espinho venenoso ou cai em um buraco, etc... o efeito é uma ajuda da natureza, como se o ambiente ajudasse o evocador. O dano é causado à vítima como um ataque mágico: nível da magia + aura para coluna e o dano é fracionado normalmente como em um ataque 25% 50% 75% 100%. As debilitações entram caso a vítima receba 50% de dano da armadilha ou mais, caso contrário só recebera o dano.

No efeito em que a vítima fica presa, ela poderá fazer um teste usando a habilidade mais pertinente para o momento a critério do mestre com dificuldade difícil. Exemplo: se cair em um buraco profundo, poderá tentar Escalar Superfícies, um galho grande caiu em cima da vítima ele pode Aplicar Esforço para retirar, uma rede prende a vítima fazendo assim usar Escapar e etc...

O evocador só pode manter até 3 armadilhas mágicas ao mesmo tempo. Caso faça uma quarta armadilha, a primeira será quebrada e assim por diante. Enquanto a armadilha durar, o evocador sentirá quando a armadilha for disparada de onde ele estiver. A armadilha só pode ser detectada através da magia detecção de magias.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:10}},{id:ue.armaduraElemental,nome:"Armadura Elemental",niveis:[{id:"0",descricao:"Absorve 6 de dano.",nivel:1},{id:"1",descricao:"Absorve 12 de dano.",nivel:3},{id:"2",descricao:"Absorve 20 de dano.",nivel:6},{id:"3",descricao:"Absorve 30 de dano.",nivel:8},{id:"4",descricao:"Absorve 40 de dano.",nivel:10}],descricao:`Com o uso deste encantamento o evocador forma em torno de si um campo de energia mágica que o protege de ataques de elementos naturais como fogo, gelo, eletricidade, etc. Esta magia pode ser usada fora de Ambiente Natural sem nenhum problema.

Este feitiço pode absorver certa quantidade de dano feito por ataques elementais antes de ser dissipada. A quantidade de dano que pode ser absorvida antes do feitiço entrar em colapso é determinada pela dificuldade do efeito usado como explicado abaixo. Caso a duração do feitiço se esgote, a armadura se desfaz e os pontos restantes de absorção são perdidos.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.RODADA,valor:15},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.armaduraNatural,nome:"Armadura Natural",niveis:[{id:"0",descricao:"Absorve 6 pontos de dano.",nivel:1},{id:"1",descricao:"Absorve 12 pontos de dano.",nivel:2},{id:"2",descricao:"Absorve 18 pontos de dano.",nivel:4},{id:"3",descricao:"Absorve 24 pontos de dano.",nivel:6},{id:"4",descricao:"Absorve 30 pontos de dano.",nivel:8},{id:"5",descricao:"Absorve 36 pontos de dano.",nivel:10}],descricao:`Com o uso deste encantamento, o evocador forma em torno de si um campo de energia que o protege de ataques de origem natural.

Este feitiço pode absorver certa quantidade de dano feito por magias que utilizem a força da natureza e que causem dano direto (Chuva Ácida, Feixes Incandescentes, Relâmpagos, etc.}, parando então de funcionar.

A quantidade de dano que pode ser absorvida antes do feitiço entrar em colapso é determinada pela dificuldade do efeito usado, como explicado abaixo. Caso a duração do feitiço se esgote, a armadura se desfaz e os pontos restantes de absorção são perdidos.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.MINUTO,valor:10},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.arqueirismo,nome:"Arqueirismo",niveis:[{id:"0",duracao:{tipo:L.USO,valor:1},descricao:"O tiro nunca erra o alvo (verde e branco viram amarelo) quando usada em situação fora de combate e o evocador possa se concentrar por pelo menos uma rodada.",nivel:1},{id:"1",duracao:{tipo:L.USO,valor:1},descricao:"Semelhante ao anterior, mas pode ser usada para fazer um ataque de surpresa parcial (antes de um combate ser iniciado) o que permite se usar a técnica de Ataque Oportuno, mas é necessário se concentrar por duas rodadas.",nivel:3,secundario:{id:"0",nivel:0,duracao:{tipo:L.RODADA,valor:3},descricao:"Além disto, há a opção de usar durante um combate, caso obtenha um dano no físico ou 100% na EH o oponente é desarmado ou o que estiver segurando com uma das mãos é deixado cair. O evocador pode escolher qual das mãos ele deseja afetar."}},{id:"2",duracao:{tipo:L.RODADA,valor:3,outraDescricao:"3 rodadas, mas a penalidade -2 e o efeito da perda de EF dura até a flecha ser retirada (que gasta pelo menos uma ação de combate)"},descricao:"Durante um combate, caso obtenha um dano no físico, o evocador encrava a flecha no corpo do oponente, que causará -2 de penalidade em ações (combate e habilidades) que exijam movimentação. O oponente passa a perder 1 ponto de EF por rodada.",nivel:5},{id:"3",duracao:{tipo:L.RODADA,valor:5},descricao:"O jogador faz 2 ataques (com o arco) na rodada. Os 2 ataques são normais, mas o dano do segundo terá um de redutor de 25% no dano. Para o segundo ataque, que possui o redutor de 25% no dano, caso erre o alvo (branco) este não vira falha (verde).",nivel:7},{id:"4",duracao:{tipo:L.RODADA,valor:5},descricao:"O jogador pode optar em causar o dobro do dano quando um crítico é obtido. Deve-se fazer o rolamento do crítico para saber o dano obtido, mas os efeitos especiais não devem ser contados. Este efeito deve ser usado antes de se fazer o rolamento que indica o dano do efeito crítico.",nivel:9}],descricao:`Esta magia aumenta a habilidade com arco e flecha do evocador, concedendo bônus e efeitos especiais. Esta magia deve ser evocada no início de uma rodada, antes do uso de arco e flecha, sendo que ela não conta como uma ação na rodada. Os efeitos de cada nível não são cumulativos entre si, mas o jogador pode escolher qualquer efeito do nível lançado para baixo. Esta escolha deve ser feita em cada rodada que a magia durar, logo após se lançar os dados do ataque.

Exemplo: Um rastreador evoca Arqueirismo 7. Ele faz um rolamento de dado e ele tira amarelo. Ele pode escolher os efeitos de 1 a 7, mas como tirou amarelo, decide escolher o efeito 7 que permite ele fazer um segundo ataque com 25% de redutor. Como a magia dura 3 rodadas, na segunda rodada ele faz um novo tiro e desta vez ele tira azul (100%) então ele decide usar o efeito 3 e desarma o oponente que foge do combate. Na 3ª rodada, ele decide atacar outro oponente e tira um crítico. Como ele lançou o efeito 7, então decide usar o efeito 7. O critico é resolvido normalmente e ele pode fazer um segundo ataque com 25% de redução do dano. Se ele tivesse lançado Arqueirismo 9, poderia ter escolhido o efeito de dobrar o dano.

Uma limitação desta magia, é que o Rastreador tem de fazer pelo menos uma vez um pequeno ritual de 30 minutos de purificação de seu arco e de suas flechas. Este ritual não gasta Karma e deve ser feito em ambiente natural. Somente após este ritual a magia pode ser evocada, pois é a sua ligação com a natureza que permite ele fazer estes efeitos extraordinários. O ritual não precisa ser refeito a cada evocação, mas caso o Rastreador saia do ambiente natural por mais de uma semana ligação é perdida e ele deve fazer de novo o ritual de purificação antes de poder usar novamente a magia.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.assimilacao,nome:"Assimilação",niveis:[{id:"0",duracao:{tipo:L.MINUTO,valor:10},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia da lista do Colégio Alquímico de nível 1.",nivel:1},{id:"1",duracao:{tipo:L.HORA,valor:1},descricao:"Permite fazer uma Assimilação Armazenada em qualquer magia da lista do Colégio Alquímico e da lista básica de nível máximo 2.",nivel:2},{id:"2",duracao:{tipo:L.MINUTO,valor:30},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia da lista do Colégio Alquímico e da lista básica de nível 2.",nivel:4},{id:"3",duracao:{tipo:L.HORA,valor:6},descricao:"Permite fazer uma Assimilação Armazenada de qualquer magia contida na lista de todos os Colégios de Magia e da lista básica, de nível máximo 5.",nivel:6},{id:"4",duracao:{tipo:L.HORA,valor:3},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia contida na lista de todos os Colégios de Magia e da lista básica, de nível máximo 6.",nivel:8},{id:"5",duracao:{tipo:L.HORA,valor:12},descricao:"Permite fazer uma Assimilação Armazenada de qualquer magia contida na lista de todos os Colégios de Magia, da lista básica, da lista de Bardo e Rastreador, de nível máximo 8.",nivel:9},{id:"6",duracao:{tipo:L.HORA,valor:6},descricao:"Permite fazer uma Assimilação Temporária de qualquer magia contida na lista de todos os Colégios de Magia, da lista básica, da lista de Bardo e Rastreador, de nível máximo 8.",nivel:10}],descricao:`Com este encanto o mago poderá “copiar” os feitiços de outros místicos fazendo com que seja possível utilizá-los.

Para copiar os encantos de outro místico, o evocador deverá primeiramente evocar esta magia sobre um alvo escolhido (que terá direito a resistir). Quando o alvo falhar em sua resistência á magia, o evocador estará ligado energeticamente com ele durante as próximas 7 rodadas. A partir de então, o evocador poderá “copiar” qualquer encanto que o alvo evocar dentro deste período de tempo. O evocador deverá escolher até 3 dos feitiços que o alvo evocar durante o tempo da ligação energética. Depois de escolhido(s) o(s) encanto(s}, a ligação energética será rompida e o(s) encanto(s) escolhido(s) será (ao) assimilado(s).

Exemplo: Um mago tentar copiar o encanto “Maldições” evocado por um demônio, mas a evocação da magia Maldições (3 rodadas) deve ser realizada durante o tempo da ligação energética (7 rodadas). Se a evocação da magia Maldições fosse iniciada na quinta rodada da ligação energética, o efeito da maldição seria lançado após o termino da ligação energética (8ª radada}, por isso o encanto não poderia ser Assimilado. O mesmo vale para uma situação em que a ligação energética seja feita durante o tempo da evocação de alguma magia.

A Evocação, o alcance e a duração da magia assimilada permanecem iguais aos da magia original, ou seja, o mago poderá utilizar a magia assimilada normalmente. Mas note que somente o efeito de dificuldade usado pelo alvo pode ser evocado. Se a magia assimilada for Doenças 7, o evocador não poderá utilizar os efeitos de Doenças 5, 3 e 1.

Existem duas formas de assimilação de magias: A “Assimilação Temporária” e a “Assimilação Armazenada”.

A Assimilação Temporária permite que o evocador use a magia assimilada, o quanto quiser, em um determinado período curto de tempo.

A assimilação Armazenada permite que uma magia assimilada seja “estocada” durante um período longo de tempo, no entanto ela só poderá ser evocada uma vez após a assimilação.

Note que o místico não pode manter mais de 3 magias assimiladas em um mesmo período de tempo, seja qual for o tipo de Assimilação realizada.

A origem da magia que poderá ser assimilada, o tipo de assimilação e o tempo de cada, variam com a dificuldade do efeito. (A “lista básica” descrita nos efeitos da magia refere-se apenas a lista de magias básicas dos Magos).

Não é possível assimilar magias de itens mágicos Pois somente criaturas podem ser alvos deste feitiço.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.assombracao,nome:"Assombração",niveis:[{id:"0",dinheiro:{prata:2},descricao:"Atrai até 2 estágios de mortos-vivos para o local assombrado.",nivel:1},{id:"1",dinheiro:{prata:4},descricao:"Atrai até 3 estágios de mortos-vivos para o local assombrado.",nivel:2},{id:"2",dinheiro:{prata:8},descricao:"Atrai até 6 estágios de mortos-vivos para o local assombrado.",nivel:4},{id:"3",dinheiro:{prata:12},descricao:"Atrai até 9 estágios de mortos-vivos para o local assombrado.",nivel:6},{id:"4",dinheiro:{prata:16},descricao:"Atrai até 12 estágios de mortos-vivos para o local assombrado.",nivel:8},{id:"5",dinheiro:{prata:20},descricao:"Atrai até 15 estágios de mortos-vivos para o local assombrado.",nivel:10}],descricao:`Esta magia canaliza uma quantidade de energia negativa e as vincula a um ambiente fechado (casas, torres, castelos...) fazendo com que mortos-vivos incorpóreos (Fantasmas, Assombrações, Sombras, Espectros...) sejam atraídos para o local. A quantidade e o tipo de criaturas que irão assombrar o local dependem da quantidade de estágios de mortos-vivos que o efeito indicar, assim o efeito de dificuldade 8 poderá atrair 4 sombras menores (3+3+3+3=12) ou em vez disso apenas um espectro maior (12=12). O evocador não tem controle sobre o tipo de criatura que será atraída para o local (cabe ao mestre decidir quais criaturas serão atraídas para o local, de acordo com o número de estágios indicado no efeito).

Caso uma pessoa que esteja no local assombrado morra, esta deverá fazer uma resistência à magia, em caso de falha será transformada em Assombração, e não poderá deixar o local até que o tempo de duração da magia se esgote.

O custo do ritual é de 2 moedas de prata por nível de dificuldade. A quantidade de estágios de mortos-vivos que serão atraídos para o local varia com a dificuldade do efeito. A magia só funciona uma vez e quando um morto-vivo for esconjurado ou destruído ela não atrairá mais mortos-vivos. Enquanto existir um morto-vivo esta magia não poderá ser evocada novamente no mesmo lugar.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.ANO,valor:1},evocacao:{tipo:ae.RITUAL}},{id:ue.ataqueImpetuoso,nome:"Ataque Impetuoso",niveis:[{id:"0",descricao:"Concede +1/+2/+3/+4 de dano.",nivel:1},{id:"1",descricao:"Concede +2/+4/+6/+8 de dano.",nivel:2},{id:"2",descricao:"Concede +3/+8/+12/+12 de dano.",nivel:4},{id:"3",descricao:"Concede +4/+8/+12/+16 de dano.",nivel:6},{id:"4",descricao:"Concede +5/+10/+15/+20 de dano.",nivel:8},{id:"5",descricao:"Concede +6/+12/+18/+24 de dano.",nivel:10}],descricao:`Com um grito feroz e ensurdecedor, o usuário reforça seu corpo e sua arma em um único ataque impetuoso. Esta magia deve ser lançada ao mesmo tempo em que se faz um ataque, mas não pode ser invocada mais de uma vez na mesma rodada. A magia deve ser lançada antes do dado de ataque ser resolvido e o dano final deve ser a soma do dano que a arma provocaria normalmente, somado ao dano que esta magia provoca mais o bonus de aura. O dano extra é considerado mágico, do mesmo tipo que a arma que a provocou (corte mágico no caso de um machado, por exemplo).

Nos níveis da magia apresentados abaixo, os danos estão apresentados na forma dos resultados Amarelo/Laranja/Vermelho/Azul, que ainda devem ser somados à aura. Exemplo:

Kardim sacerdote de Crezir possui Aura 3, faz um ataque com sua espada e tira laranja, como ele tem Força 2, faria 12 de dano (10+2). Como ele invocou (antes de rolar o dado) a magia Ataque Impetuoso 6 ele fará um total de 23 de dano (10 da arma, 2 da força, 8 da magia e 3 da Aura).`,extra:["A magia só concede bônus de dano. Nenhum bônus é concedido nas Colunas de Ataque."],alcance:{tipo:U.PESSOAL},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.ataqueTermico,nome:"Ataque Térmico",niveis:[{id:"0",descricao:"Afeta no máximo um ser ou objeto, alterando em 9ºC a temperatura do corpo, causando 3 pontos de dano se usado em criaturas.",nivel:1},{id:"1",descricao:"Afeta no máximo dois seres ou objetos, alterando em 9ºC a temperatura externa do corpo, causando 3 pontos de dano se usado em criaturas.",nivel:2},{id:"2",descricao:"Afeta no máximo dois seres ou objetos, alterando em 12ºC a temperatura externa do corpo, causando 5 pontos de dano se usado em criaturas.",nivel:4},{id:"3",descricao:"Afeta no máximo três seres ou objetos, alterando em 12ºC a temperatura externa do corpo, causando 5 pontos de dano se usado em criaturas.",nivel:6},{id:"4",descricao:"Afeta no máximo três seres ou objetos, alterando em 21ºC a temperatura externa do corpo, causando 7 pontos de dano se usado em criaturas.",nivel:8},{id:"5",descricao:"Afeta no máximo quatro seres ou objetos, alterando em 30ºC a temperatura externa do corpo, causando 10 pontos de dano se usado em criaturas. Se o alvo falhar em sua resistência à magia deve tentar resistência física contra força de ataque 1, em caso de falha a vítima fica inconsciente por uma hora por choque térmico.",nivel:10}],descricao:"Com essa magia o mago pode alterar a temperatura externa de objetos e/ou seres, (seres têm direito a resistir á magia.). Caso o alvo falhe na resistência levará o dano descrito na EF, sem armadura.",alcance:{tipo:U.METRO,valor:30},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.atoFalho,nome:"Ato Falho",niveis:[{id:"0",descricao:"O alvo recebe -3 Colunas de Resolução na sua próxima rodada em ações de ataque ou Teste de Habilidade.",nivel:1},{id:"1",descricao:"O alvo recebe -5 Colunas de Resolução na suas duas próximas rodadas em ações de ataque ou Teste de Habilidade. O alvo é malsucedido automaticamente num teste de dificuldade Muito Difícil ou Absurdo.",nivel:3},{id:"2",descricao:"O alvo recebe -7 Colunas de Resolução nas suas próximas três rodadas em ações de ataque ou Teste de Habilidade. O encanto também afeta a mente do alvo fazendo-o ser obrigado a responder com a verdade um questionamento de até seis palavras feito pelo sacerdote.",nivel:5},{id:"3",descricao:"O alvo recebe -9 Colunas de Resolução nas suas próximas quatro rodadas em ações de ataque ou Teste de Habilidade. O alvo é malsucedido automaticamente num teste de dificuldade Difícil, Muito Difícil ou Absurdo e encanto também afeta a mente do alvo fazendo-o ser obrigado a responder com a verdade um questionamento de até seis palavras feito pelo sacerdote.",nivel:7},{id:"4",descricao:"O alvo recebe -11 Colunas de Resolução nas suas próximas cinco rodadas em ações de ataque ou Teste de Habilidade. O encanto também afeta a mente do alvo fazendo-o se sentir compelido a delatar suas falhas morais. O alvo deve responder a um questionamento de até seis palavras feito pelo sacerdote ou (caso não haja questionamento) contar algo do qual se arrepende profundamente.",nivel:9}],descricao:`Com este milagre o sacerdote de Plandis pode canalizar o poder de seu deus e utiliza-lo para prejudicar e confundir seu inimigo, causando-lhe uma ação falha. O encanto também pode afetar a mente do alvo deixando-o inclinado a delatar suas falhas caso não obtenha êxito em uma Resistência a Magia. A evocação do encanto é discreta, só podendo ser percebida por meios mágicos ou num teste Muito Difícil de Misticismo. Quando falha na sua RM a vítima sofre uma penalidade nas suas ações na próxima rodada conforme o nível indicado. Em alguns níveis a magia obriga o alvo a falar a verdade ou a contar um de seus crimes pessoais passados, o que o alvo falará dependerá de estímulos externos na forma de uma pergunta feita pelo sacerdote após a conjuração. Caso este não pergunte nada a vítima falará algo do qual se arrepende, de acordo com sua consciência.

Note que a magia não afeta a personalidade do alvo, um assassino poderia se arrepender de não ter matado vítimas o bastante antes de ser pego, um padeiro de adicionar água ao pão antes de pesa-lo, etc.`,alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.auraAmeacadora,nome:"Aura ameaçadora",niveis:[{id:"0",descricao:"As vítimas que forem bem sucedidas em um teste de Usar os Sentidos ficarão sem ação por uma rodada e sofrerão na próxima rodada que voltarem a jogar um reajuste negativo de -1 em todos os rolamentos por 3 rodadas. Entretanto mesmo falhando no teste este obrigatoriamente perceberá a obra de arte se três pessoas de seu grupo forem bem sucedidas no teste de Usar os Sentidos.",nivel:1},{id:"1",descricao:"As vítimas que forem bem sucedidas em um teste de Usar os Sentidos ficarão sem ação por uma rodada e sofrerão na próxima rodada em que jogar reajuste de -1.",nivel:2},{id:"2",descricao:"As vítimas ficam sem ação por 4 rodadas.",nivel:4},{id:"3",descricao:"As vítimas ficam sem ação por 6 rodadas.",nivel:6},{id:"4",descricao:"As vítimas ficam sem ação por 8 rodadas.",nivel:8},{id:"5",descricao:"As vítimas ficam compenetradas na obra de arte por 5 rodadas, devendo ainda se submeter a um teste de resistência mágica, falhando receberá -6 pontos negativos em todas as habilidades nas próximas 5 rodadas.",nivel:10}],descricao:`Com o encanto Aura Ameaçadora, o evocador é capaz de imbuir uma expressividade ameaçadora em uma escultura ou pintura, na qual todo aquele que olhar para o objeto de arte se sentirá intimidado e incomodado com o objeto em questão.

Independentemente de ser uma pintura ou uma escultura, ela deverá retratar uma imagem intimidadora, mas não necessariamente malévola. Assim poderá ser uma escultura de uma gárgula ou de alguma besta, como pode ser uma estátua de um rei em sua majestade.

No caso de uma pintura, pode ser retratada uma cena violenta como uma guerra. Tal imagem necessariamente deverá ter no mínimo dois metros de comprimento e de largura. Já como escultura, as estátuas deverão ter no mínimo dois metros e meio de altura.

Tanto em um caso como em outro, o objeto de arte tem que ser muito familiar ao evocador, ou ele próprio tendo feito ou então sendo conhecedor das técnicas de escultura e/ou pintura e da história daquela obra específica para que o encanto possa ser realizado.

Atendidas essas condições, o encanto será utilizado apenas tocando na pintura ou escultura. Toda pessoa, à exceção do evocador, que olhar para aquela imagem deverá fazer um teste de Resistência à Magia. Caso passe, a pessoa se sentirá incomodada pela pintura ou pela estátua, mas não receberá nenhum outro efeito. Caso falhe, no entanto, a(s) vítima(s) não conseguirão fazer mais nada a não ser ficar olhando para a imagem ameaçadora, temerosas que tal imagem faça algo contra ela(s). Caso a vítima seja atacada neste estado, o feitiço se quebra. No entanto, este ataque é considerado como surpresa parcial.

O encantamento do objeto é de efeito permanente, e a pintura ou escultura ficará encantada passando a possuir aura imbuída. O efeito só é quebrado se for usado com sucesso a magia Quebra de Encantos.

Uma mesma pessoa não pode ser vítima duas vezes seguidas de uma só evocação. Este encanto é muitas vezes usado para proteger locais importantes, sendo a magia usada em pinturas gravadas na porta do local ou em estátuas próximas.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.PERMANENTE},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.auraDivina,nome:"Aura Divina",niveis:[{id:"0",descricao:"Todos os demônios e mortos-vivos recebem -1 coluna de ataque.",nivel:1},{id:"1",descricao:"Todos os demônios e mortos-vivos recebem -2 colunas de ataque.",nivel:2},{id:"2",descricao:"Todos os demônios e mortos-vivos recebem -3 colunas de ataque.",nivel:4},{id:"3",descricao:"Todos os demônios e mortos-vivos recebem -4 colunas de ataque.",nivel:6},{id:"4",descricao:"Todos os demônios e mortos-vivos recebem -5 colunas de ataque.",nivel:8},{id:"5",descricao:"Todos os demônios e mortos-vivos recebem -6 colunas de ataque.",nivel:10}],descricao:"Com este milagre, o sacerdote de Cruine cria ao seu redor uma aura que incomoda demônios e mortos-vivos. Para essas criaturas a aura repele sua proximidade, dificultando atacar o sacerdote e seus companheiros que estejam na área protegida. Na prática, qualquer demônio ou morto-vivo que atacar terá seus ataques penalizados, sem ter direito a resistência à magia, uma vez que a aura não ataca magicamente as criaturas e se constitui em uma espécie de empecilho ao ataque. ",extra:["Mesmo ataques à distância, inclusive magias de ataque, recebem penalidade. Entretanto, para qualquer outro ser além dos mencionados, a aura não tem qualquer efeito e é invisível e, portanto, imperceptível para seres não-místicos. Apenas o sacerdote é protegido pela aura."],alcance:{tipo:U.PESSOAL},duracao:{tipo:L.RODADA,valor:20},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.auraEmocional,nome:"Aura Emocional",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:L.DIA,valor:1},alcance:{tipo:U.METRO,valor:1,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 1 metro de raio.",nivel:1},{id:"1",dinheiro:{ouro:5},duracao:{tipo:L.MES,valor:1},alcance:{tipo:U.METRO,valor:5,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 5 metros de raio.",nivel:3},{id:"2",dinheiro:{ouro:10},duracao:{tipo:L.MES,valor:1},alcance:{tipo:U.METRO,valor:10,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 10 metros de raio. ",nivel:5},{id:"3",dinheiro:{ouro:20},duracao:{tipo:L.ANO_E_DIA},alcance:{tipo:U.METRO,valor:15,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 15 metros de raio.",nivel:7},{id:"4",dinheiro:{ouro:40},duracao:{tipo:L.ANO,valor:13},alcance:{tipo:U.METRO,valor:20,isRaio:!0},descricao:"Imbui um local com uma aura cuja área seja de até 20 metros de raio. A duração é de 13 anos e o ritual custa 40 medas de ouro.",nivel:9}],descricao:`Os grandes acontecimentos deixam marcas profundas nas pessoas, modificando suas motivações, crenças, comportamento, enfim toda sua vida. Mas não só nas pessoas as marcas são evidentes, mas também em um local. O campo onde o massacre ocorreu, a casa de interrogatório, o templo que serviu de refúgio: todos podem ter uma marca que lembre os acontecimentos passados. O encanto Aura Emocional é capaz de imbuir um local com uma aura de modo que todo aquele que dele se aproximar sentirá uma sensação que corresponda à história do local. A distância e o tempo que a aura tem efeito variam conforme o nível, assim como os materiais necessários para a evocação.

Uma vez na presença da aura, qualquer ação que vise contrariar o sentimento do local só poderá ser realizada se a pessoa passar em um teste de Resistência à Magia contra o nível da magia. Esse teste deverá ser realizado a cada rodada até que o indivíduo falhe na sua Resistência à Magia ou saia da área. Assim, se um campo onde foram mortos vários inocentes estiver imbuído de uma aura, qualquer atitude que mostre felicidade não poderá ser realizada a menos que o indivíduo passe na Resistência à Magia. Da mesma forma, se uma sala na qual houve um grande acordo de paz entre reinos, for imbuída com uma aura, toda e qualquer ação que procure desavenças só poderá ser realizada caso a pessoa passe na sua Resistência à Magia. Isso poderá render muitos benefícios, na medida em que impede as pessoas de tomarem ações indesejadas. Dessa forma, o evocador poderá se utilizar desses locais para outros fins, como por exemplo, se refugiar em um local marcado pela paz ou comover um líder autoritário ao levá-lo a um lugar marcado pela tristeza.

Para se realizar a magia é necessário que seja escolhido um ponto central no local a ser encantado. Além disso, é necessário que um evento marcante e conhecido pelo evocador tenha ocorrido envolvendo o local. Obviamente a aura imbuída necessariamente provocará um sentimento condizente com tal acontecimento.`,extra:["Caso a pessoa não passe na Resistência à Magia, ela terá uma forte sensação de que não pode fazer isso naquele lugar, a ponto de impedi-la de fazê-lo. No caso da pessoa conhecer o evento ocorrido, ela obrigatoriamente irá lembrá-lo."],alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.auraMagica,nome:"Aura Mágica",niveis:[{id:"0",duracao:{tipo:L.DIA,valor:3},alcance:{tipo:U.METRO,valor:10,isQuadrado:!0},descricao:"Imbui aura mágica a uma superfície de até 10m², que passará a ter Resistência à Magia 1.",nivel:1},{id:"1",duracao:{tipo:L.SEMANA,valor:1},alcance:{tipo:U.METRO,valor:100,isQuadrado:!0},descricao:"Imbui aura mágica a uma superfície de até 100m², que passará a ter Resistência à Magia 4.",nivel:2},{id:"2",duracao:{tipo:L.MES,valor:1},alcance:{tipo:U.METRO,valor:1e3,isQuadrado:!0},descricao:"Imbui aura mágica a uma superfície de até 1.000m², que passará a ter Resistência à Magia 7.",nivel:4},{id:"3",duracao:{tipo:L.ANO_E_DIA},alcance:{valor:1e4,isQuadrado:!0,tipo:U.METRO},descricao:"Imbui aura mágica a uma superfície de até 10.000m², que passará a ter Resistência à Magia 10.",nivel:6}],descricao:`Através desta magia, o mago imbui uma aura mágica a uma superfície de origem mineral ou vegetal, como paredes de pedra, portões de ferro, tábuas de madeira, telhas de barro, etc.

É possível imbuir auras mágicas a duas ou mais superfícies, desde que a soma de suas áreas não ultrapasse a capacidade máxima permitida pelo efeito usado.

A aura atribuída à superfície se portará exatamente como a aura de uma criatura, por isso, esta passará a ter resistência à magia (dada pelo efeito) para qualquer feitiço que aja sobre ela, como “Desintegração” e “Telecinese”, ou magias que possam ser vinculadas a ela como “Manipulação de Luz” e “Silêncio”. A superfície encantada poderá ainda anular magias como “Geomanipulação” e “Piromanipulação” que se quebram ao entrar em contato com a aura de criaturas. A aura também impede que Criaturas incorpóreas como “Espectros” atravessem as paredes encantadas.

É impossível imbuir aura mágica a criaturas, pois estas já possuem aura própria, caso isso seja feito a magia não terá nenhum efeito e os materiais serão gastos inutilmente.

A área da superfície afetada, a resistência à magia dada, e o tempo que a aura permanece em atividade variam com o efeito. O custo do ritual é de 1 moeda de ouro por nível de dificuldade do efeito.

O mago pode evocar essa magia diversas vezes para ampliar a área da superfície, mas a cada evocação, o valor do ritual deverá ser gasto novamente.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.ausencia,nome:"Ausência",niveis:[{id:"0",descricao:"Permite passar despercebido por locais onde não há a menor preocupação de reconhecimento, como uma cidade em um dia normal.",nivel:1},{id:"1",descricao:"Permite passar despercebido por locais onde há pouca preocupação de reconhecimento como em uma taverna muito movimentada.",nivel:3},{id:"2",descricao:"Permite passar despercebido por locais onde há média preocupação de reconhecimento, como uma biblioteca comum ou um templo.",nivel:5},{id:"3",descricao:"Permite passar despercebido por locais onde há alta preocupação de reconhecimento, como uma estalagem de luxo.",nivel:8}],descricao:`A normalidade gera indiferença. O que é muito comum acaba passando desapercebido, sejam lugares, objetos e até pessoas. Com o encanto Ausência o evocador é capaz de se apresentar de forma tão comum que acaba não sendo notado. Na prática é como se ele se tornasse, de fato, invisível.

Obviamente o evocador deverá sempre estar dentro dos “padrões de normalidade” para que o feitiço funcione. Assim, se no meio da cidade ele estiver vestido com roupas suntuosas não poderá passar despercebido; se ele entra em um templo de Selimom portando uma arma à mostra, será notado invariavelmente. Nesse sentido é sempre necessário que se estude antes o local pelo qual ele queira passar despercebido.

Quanto maior o nível da magia, mais fácil será passar por locais onde há atenção para a identificação das pessoas, conforme consta nos níveis descritos. Para todos os efeitos, alguém sobre o efeito de Ausência é como se estivesse invisível para as outras pessoas.`,extra:["É impossível passar despercebido por locais aonde há total preocupação em se reconhecer as pessoas, como na entrada de um castelo ou colégio de magia, no caso de pessoas que estejam procurando pelo evocador ou ainda em locais com pouco movimento."],alcance:{tipo:U.PESSOAL},duracao:{tipo:L.HORA,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.auxilioIncerto,nome:"Auxílio Incerto",niveis:[],descricao:`Com este milagre, o sacerdote de Plandis pede uma ajuda a seu deus, e é respondido de forma aleatória. A resposta poderá ser de grande ajuda ou mesmo inútil. O tipo de ajuda depende de qual contexto a magia foi evocada em situações descritas abaixo.

Preparação & Exploração - Quando os personagens estão explorando (ou se preparando) para um lugar o evocador pode rezar ao seu deus clamando por um milagre (evocação de 10 minutos). O resultado será lhe concedido no momento de maior necessidade daquele dia. Este contexto só pode ser usado uma vez ao dia. Em algum momento de descanso, o jogador precisa avisar ao mestre que seu personagem vai rezar Auxílio Incerto e sorteia o efeito. Pelas próximas 24h (dentro do jogo) ele pode decidir quando ativar o efeito sorteado.

Combate - Quando esta magia é evocada durante o combate.

Interpretação - Quando os personagens estão interagindo com outras pessoas (exemplo: conversando, negociando}, ou realizando algum trabalho.

A evocação também varia com o tipo: para o contexto de Combate e Interpretação é instantâneo, e para o efeito do contexto de Preparação & Exploração é um ritual de 10 min. Ao evocar o milagre o sacerdote faz sua oração. A resposta dessa oração depende do que será sorteada em uma das 3 listas que mais se aproxime do contexto. Então, definida a lista, joga-se um D20 para definir o efeito. A escolha do no nível do efeito é de livre decisão do jogador e pode ser entre 1 e o nível que personagem tem em Auxílio Incerto. Esta escolha deve ser feita antes do sorteio e o Karma é gasto de acordo com o nível do efeito escolhido.

Observação: caso a magia sorteada possua alguma limitação que impediria de ela ser evocada a magia é perdida. Mas é uma opção do mestre fazer que algo inusitado/improvável aconteça e que esta limitação suma, por exemplo: Relâmpagos só pode ser evocada quando tem uma nuvem em áreas a céu aberto, mas o Sacerdote está em uma grande caverna, ... uma nuvem surge temporariamente no teto para suprir a limitação!. Note que quem decide se algo inusitado/improvável vai acontecer é o Mestre que pode avaliar se o Sacerdote está ou não nas graças de Plandis. Sacerdotes que com frequência não seguem os preceitos do deus dificilmente receberão esta "ajudinha".

Combate

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Apelo

Área de Paz

Ataque Impetuoso

Auxílio Natural

Bravura

Corrente

Dádivas da Guerra

Dardos de Gelo

Degeneração Física

Feixes Incandescentes

Fogo Divino

Força Sagrada

Onda Destrutiva

Presença Intimidadora

Relâmpagos

Vigor

O mestre do jogo escolhe um efeito de qualquer (que seja favorável ao personagem).

O jogador escolhe a ajuda de sua preferência desse número para baixo.

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que será um ajuda que sempre será uma coisa inusitada (e útil) que irá acontecer (o mestre escolhe). Por exemplo uma vaca cai do céu em cima de um inimigo.

Exploração e Preparação

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Detecção de Magias

Hidromanipulação

Lendas

Orientação

Perfeição.

Persistência

Proteção Divina.

Purificação

Resistência

Resistência Elemental

Restauração

Santuário Natural

Sexto Sentido

Visão de Batalhas

Visão Mística

Visão Noturna

O jogador escolhe a ajuda de sua preferência desse número para baixo.

O mestre do jogo escolhe um efeito de qualquer (que seja favorável ao personagem).

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que será um ajuda que sempre será uma coisa inusitada (e útil) que irá acontecer (o mestre escolhe). Por exemplo, um rastreador misterioso aparece e ajuda a passar pela cena.

Interpretação

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Amizade

Ato Falho

Avaliação

Convocação

Detectar Intenção

Empatia

Esplendor

Esquecimento

Linguagem

Maldições

Proteção Mental

Modificar Espírito

Ordens

Sedução

Serenidade

Sugestão

O jogador escolhe a ajuda de sua preferência desse número para baixo.

O mestre do jogo escolhe um efeito de qualquer (que seja favorável ao personagem)

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que será um ajuda que sempre será uma coisa inusitada (e útil) que irá acontecer (o mestre escolhe). Por exemplo um pessoa com as habilidades ou informações que o grupo precisa aparece e oferece ajuda por 1 dia como força de agradecimento a Plandis.

Após sortear o dado, uma magia ou um efeito autodescritivo virá como resposta. A magia poderá ser utilizada como se o próprio sacerdote estivesse evocando e, portanto, ele escolherá os inimigos que serão as vítimas dos Relâmpagos, ou quem irá ser obrigado a cumprir Ordens, ou mesmo quem será imobilizado por Correntes. O nível da magia que virá como resposta é numericamente igual ao nível da magia utilizada pelo sacerdote (ou maior dependendo da descrição do efeito usado de Auxílio Incerto).

Exemplo: O sacerdote evoca Auxílio Incerto 3 (da lista de Combate) e rola 17 no dado, ele então evocará a magia Vigor 3. Caso o nível da magia não exista, deve-se pegar o nível da magia existente imediatamente acima. Assim a magia que sair for Fogo Divino e ele tiver evocado Auxílio Incerto 3, o efeito que sairá será o 4 já que não existe o efeito 3 na magia Fogo Divino. Nesta situação de não existir o efeito correspondente se não existir um acima, sairá então o efeito abaixo.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.VARIAVEL}},{id:ue.auxilioNatural,nome:"Auxílio Natural",niveis:[{id:"0",descricao:"Todos os inimigos devem fazer um teste de resistência à magia. Caso falhem, raízes agarrarão seus pés, animais o atrapalharão etc., fazendo com que tenham -1 em sua coluna de resolução.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas o ajuste é de -2.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas o ajuste é de -4.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas além disso, os inimigos serão atacados pela natureza (árvores jogam seus frutos em cima dos inimigos, pedras caem na cabeça dos inimigos, relâmpagos chegam próximos aos inimigos) podendo sofrer dano máximo de 4.",nivel:7},{id:"4",descricao:"Idem ao anterior mas o dano máximo é 8.",nivel:9}],descricao:`Restrição de Uso: Ambiente Natural

Com este encanto o sacerdote clama a sua divindade e pede ao ambiente que o ajude a derrotar seus inimigos.

Atendendo ao pedido do sacerdote, o ambiente o ajudará: árvores moverão seus galhos para fazer os inimigos tropeçarem, ventos fortes podem surgir em alto mar para atrapalhar os inimigos, rochas poderão desabar próximo ao inimigo; enfim, diversas são as possibilidades, mas os efeitos são sempre os descritos nos níveis. A grande vantagem deste encanto é sua área imensa, que serve até mesmo para atrapalhar um exército inteiro. Uma observação, entretanto, é que uma mesma área não pode estar sob efeito de dois Auxílios Naturais. Assim, se dois sacerdotes evocarem a magia, apenas o nível mais forte funcionará.

Uma observação especial é que esta magia é muito restrita e só deve ser usada em caso de extrema necessidade. Se for evocada por um motivo efêmero, numa situação desnecessária ou por motivos pessoais e/ou mundanos, a magia falhará e o sacerdote será punido por sua divindade.`,extra:["Cada sacerdote só poderá usar esse encanto em ambientes específicos. Sacerdotes de Vet e Nil poderão usar em planícies ou florestas, de Mon, em montanhas e cavernas, de Ganis, em alto mar, uma praia ou um lago e Sevides em qualquer lugar que seja solo fértil (campos, plantações, florestas, beiras de rios, ou mesmo um horta)."],alcance:{tipo:U.METRO,valor:500},duracao:{tipo:L.RODADA,valor:15},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.avaliacao,nome:"Avaliação",niveis:[{id:"0",descricao:"Revela se o item é mágico e qual o seu valor de mercado dos itens tocados. Reduz 1 nível de dificuldade da habilidade Negociação.",nivel:1},{id:"1",descricao:"idem ao anterior, mas revela se algum item tem algo de errado (objeto falso, defeituoso, mal feito) ou é prejudicial ao evocador (contem uma maldição, vai causar prejuízo, é roubado). A revelação apenas informa que há algo de errado, não diz exatamente o que. Reduz 2 níveis de dificuldade da habilidade Negociação.",nivel:3},{id:"2",descricao:"idem ao anterior, mas revela se algum item tem algo de errado (objeto falso, defeituoso, mal feito) ou é prejudicial ao evocador (contem uma maldição, vai causar prejuízo, é roubado). A revelação informa precisamente o que está errado. Além disto em uma negociação revela as intenções (boas, neutras ou más) das pessoas que estão envolvidas. Permite também avaliar coisas maiores como edificações pequenas e mecanismos simples. Qualquer magias de controle mental durante uma negociação é bloqueada. Reduz 3 níveis de dificuldade da habilidade Negociação.",nivel:5},{id:"3",descricao:"idem ao anterior, mas revela as essências do objetos se eles forem mágicos e revela todos os problemas dos objetos (falso, defeituoso, mal feito, contem uma maldição, vai causar prejuízo, é roubado). Ao tocar (ou se aproximar) de um item que possua qualquer encantamento que seria disparado ao tocar (ou se aproximar) este não é disparado ou não faz efeito. Permite também avaliar coisas maiores como edificações (de qualquer tamanho}, mecanismos (de qualquer complexidade}, pontes ou qualquer outra coisa construída/fabricada que se deseje saber seu valor ou problemas. Reduz 4 níveis de dificuldade da habilidade Negociação.",nivel:7},{id:"4",descricao:"idem ao anterior, mas revela precisamente os problemas do objeto e as intenções exatas de quem estiver envolvido em uma negociação. Neste nível qualquer magia de ilusão sobre o item tocado é desfeito e qualquer efeito que de alguma forma possa fazer mal é cancelado. Reduz 5 níveis de dificuldade da habilidade Negociação ou torna Muito Difícil algo que seria Impossível.",nivel:9}],descricao:"Com este encanto, o evocador é capaz de avaliar quaisquer objetos que ele toque, ajudando-o a saber os valores daqueles objetos.",extra:["Esse encanto ajuda muito pouco na descoberta de algum poder mágico que o item possa vir a ter. É possível em determinados níveis sentir as intenções dos envolvidos, mas só é pressentido as intenções com relação a uma negociação, não revelando nada que não tenha a ver com a negociação em si.","Os níveis são cumulativos nos efeitos, com exceção do bônus na habilidade Negociação, que sempre será apenas o maior. Os efeitos de cancelamento só valem para o Sacerdote enquanto ele estiver próximo ou tocando, se outra pessoa se aproximar ou tocar o feito acontecerá normalmente sobre a pessoa."],alcance:{tipo:U.TOQUE},duracao:{tipo:L.RODADA,valor:10},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.azar,nome:"Azar",niveis:[{id:"0",duracao:{tipo:L.RODADA,valor:1},descricao:"No combate o adversário perde o equilíbrio e não consegue atacar, precisando de um turno para se recompor.",nivel:1,secundario:{id:"0",nivel:0,duracao:{tipo:L.MINUTO,valor:30},descricao:"Fora de combate tudo que a vítima segurar irá cair: uma caneca, um livro, uma bolsa, etc."}},{id:"1",duracao:{tipo:L.RODADA,valor:1},descricao:"No combate o adversário atinge a si mesmo, causando 25% do dano e descontrole de 1 coluna.",nivel:3,secundario:{id:"0",nivel:0,duracao:{tipo:L.HORA,valor:1},descricao:"Fora de combate a vítima terá crises de tosses tão fortes, que durante 1 hora não terá concentração para realizar tarefa alguma."}},{id:"2",duracao:{tipo:L.RODADA,valor:2},descricao:"No combate o adversário atinge a si mesmo, causando 50% do dano e descontrole de 2 colunas.",nivel:5,secundario:{id:"0",nivel:0,duracao:{tipo:L.DIA,valor:1},descricao:"Fora de combate os afazeres da vítima terão maior probabilidade de darem errado. Ao cavalgar, irá escorregar da sela. Ao tocar um instrumento, os dedos começam a tremer; etc. Na prática, qualquer habilidade utilizada pela vítima terá um nível a mais de dificuldade."}},{id:"3",descricao:"No combate o adversário atinge a si mesmo, causando 75% do dano e descontrole de:3 colunas por três rodadas. Fora de combate eventos indesejados acontecem a vítima: cruza com um antigo inimigo, a ponte a qual iria passar despenca, o item pelo qual procurava já foi vendido, etc. Os efeitos devem ser indiretos. Muitas são as possibilidades e o Mestre (não o evocador) deverá escolher qual(is) evento(s) acontece(m) com a vítima, que de preferência se relacionem bastante com a aventura vigente. Dura 1 semana.",nivel:7},{id:"4",duracao:{tipo:L.RODADA,valor:4},descricao:"No combate o adversário atinge a si mesmo, causando 100% do dano e descontrole de 4 colunas por quatro rodadas.",nivel:9,secundario:{id:"0",nivel:0,duracao:{tipo:L.MES,valor:1},descricao:"Fora de combate a vítima será alvo direto de acontecimentos ruins, causando algum agravante físico. Tropeça e torce o pé em algum buraco na rua, cai do cavalo e se machuca, corta-se tratando alguma comida, é atacado porque o confundiram com bandido, é o primeiro a sofrer com uma possível invasão de orcos, etc. Assim como no nível anterior, muitas são as possibilidades e o Mestre (não o evocador) deverá escolher qual(is) evento(s) acontece(m) com a vítima."}}],descricao:`Conhecido como "a maldição de Plandis", o milagre Azar torna a vítima, caso falhe em sua RM, mais suscetível a eventos estranhos, incomuns e imprevisíveis. Nos níveis mais baixos a vítima é tida perante outros como uma pessoa azarada, mas nos mais altos, ela é tida como amaldiçoada ou perseguida pelos deuses.

É possível usar essa magia em duas situações: em combate ou fora de combate. Se usado em combate terá evocação instantânea, se usado fora de combate, evocação de duas rodadas. Só poderá ser direcionada a um adversário, e, caso o efeito cause dano, acontecerá como em um combate normal: primeiro atinge a EH, o que passar é perdido e, após acabar a EH, atinge a EF.

Alguns níveis têm descontrole como efeito em situação de combate. Enquanto durar o descontrole, a magia ainda está ativa, logo, só poderá ser lançada novamente nessa vítima ou em qualquer outra quando findar as rodadas de descontrole.

Na descrição de cada nível da magia, o primeiro efeito é em combate. O segundo é fora. O evocador deverá escolher um na hora de lançar a magia. O Mestre deverá adaptar os efeitos fora de combate a cada tipo de criatura. Por exemplo, caso, por algum motivo qualquer, o evocador deseje lançar a magia em um animal. Não teria lógica os dedos tremerem ao tocar um instrumento, devendo o efeito, portanto, ser adaptado.`,alcance:{tipo:U.METRO,valor:30},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.VARIAVEL}}]})(Og||(Og={}));var kg;(t=>{t.lista=[{id:ue.barreiraMistica,nome:"Barreira Mística",niveis:[{id:"0",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 2.",nivel:1},{id:"1",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 3.",nivel:2},{id:"2",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 6.",nivel:4},{id:"3",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 9.",nivel:6},{id:"4",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 12.",nivel:8},{id:"5",descricao:"Afeta um total de criaturas cujos Estágios somados não excedam 15.",nivel:10}],descricao:`Com esta magia o evocador cria uma barreira mística invisível que o protege da aproximação de qualquer ser que tenha Aura (mesmo que negativa). Aquele que tentar se aproximar a menos de 3 metros do evocador deve fazer uma resistência à magia. Aqueles que conseguirem poderão se aproximar, mas aqueles que falharem serão forçados a se manter afastados, pelo menos, 5 metros de distância. Este encantamento não impede que alguém use um ataque a distância, seja ele mágico ou não (flechas, lanças, raio elétrico, bola de fogo, etc.).

A quantidade de criaturas afetadas é determinada pelos efeitos. Quando várias criaturas/pessoas entrarem no raio de ação da magia e a quantidade exceder a do poder do efeito, o evocador pode escolher quem ele deseja que seja afetado. A quantidade de pessoas/criaturas que exceder a capacidade do efeito não será afetada, podendo se aproximar livremente. É possível evocar novamente a magia caso alguém tenha resistido, mas quando a quantidade máxima for atingida não é possível mais se evocar a magia. O evocado poderá escolher não afetar alguém a sua livre escolha e não é necessário se evocar esta magia somente quando alguém se aproxima, mas quando a duração se esgotar os efeitos terminam.

Após a evocação não é necessário manter a concentração nesta magia, podendo o evocador fazer qualquer tipo de ação.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.RODADA,valor:10},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.bencao,nome:"Bênção",niveis:[{id:"0",descricao:"Um companheiro do Sacerdote aumenta em 1 sua coluna de ataque.",nivel:1},{id:"1",descricao:"Três companheiros do Sacerdote aumentam em 1 sua coluna de ataque.",nivel:2},{id:"2",descricao:"Três companheiros do Sacerdote aumentam em 2 sua coluna de ataque.",nivel:3},{id:"3",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar um companheiro seu mais heróico e combativo. O Sacerdote perde 5 pontos de sua EH mas o alvo da magia ganha 15 pontos de EH, podendo ir além de seu máximo. Caso, ao terminar a duração do milagre, o ser abençoado ainda tenha mais EH que o seu máximo normal, esses pontos excedentes são perdidos. Além do ganho de EH, o abençoado também aumenta em 2 sua coluna de ataque.",nivel:4},{id:"4",descricao:"Três companheiros do Sacerdote aumentam em 3 sua coluna de ataque.",nivel:5},{id:"5",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar um companheiro seu mais heróico e combativo. O Sacerdote perde 5 pontos de sua EH mas o alvo da magia ganha 30 pontos de EH, podendo ir além de seu máximo. Caso, ao terminar a duração do milagre, o ser abençoado ainda tenha mais EH que o seu máximo normal, esses pontos excedentes são perdidos. Além do ganho de EH, o abençoado também aumenta em 3 sua coluna de ataque.",nivel:6},{id:"6",descricao:"Três companheiros do Sacerdote aumentam em 4 sua coluna de ataque.",nivel:7},{id:"7",descricao:"cinco companheiros do sacerdote aumentam em 5 sua coluna de ataque.",nivel:8},{id:"8",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar três companheiros seus mais heróicos e combativos. O Sacerdote perde 15 pontos de sua EH mas três de seus companheiros ganham 30 pontos de EH, podendo ir além de seu máximo. Caso, ao terminar a duração do milagre, o ser abençoado ainda tenha mais EH que o seu máximo normal, esses pontos excedentes são perdidos. Além do ganho de EH, os abençoados também aumentam em 5 sua coluna de ataque.",nivel:9},{id:"9",descricao:"sete companheiros do sacerdote aumentam em 7 sua coluna de ataque.",nivel:10}],descricao:`O Sacerdote pede a seu deus que auxilie seus companheiros na batalha causando um aumento no vigor e na coragem de todos os afetados. Inicialmente, este milagre apenas melhora a capacidade de combate, mas em determinados níveis afeta também a Energia Heróica dos abençoados.

De qualquer forma, os efeitos não são cumulativos, não se pode abençoar seguidas vezes a mesma pessoa. Note que este milagre serve para abençoar os companheiros do Sacerdote e não a ele mesmo.`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.RODADA,valor:10},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.bencaoSelvagem,nome:"Bênção Selvagem",niveis:[{id:"0",nivel:1,descricao:"Qualquer ataque realizado por animais em quem recebe a benção passa a ter redutor de -2 colunas. O redutor pela exaustão é de -2 por 15 minutos."},{id:"1",nivel:2,descricao:"Idem ao anterior, porém Técnicas de Combate também recebem o mesmo redutor de -2 colunas. O redutor pela exaustão é de -2 por 30 minutos."},{id:"2",nivel:4,descricao:"Idem ao anterior, porém o redutor é de -4. A penalidade por exaustão é de -2 por um hora."},{id:"3",nivel:6,descricao:"Idem ao anterior, porém o redutor é de -6 . A penalidade por exaustão é de -3 por duas horas."},{id:"4",nivel:8,descricao:"Idem ao anterior, porém o o redutor é de -8 . A penalidade por exaustão é de -4 por 3 horas."},{id:"5",nivel:10,descricao:"Idem ao anterior, porém o redutor é de -10. A penalidade por exaustão é de -5 por 4 horas."}],descricao:`Através deste encanto, o místico cria uma aura protetora em torno de algumas pessoas e/ou companheiros animais do evocador. Esta aura será imperceptível e protegerá os alvos da magia causando redutores para qualquer ação hostil feita por animais de qualquer porte contra eles. Note que é impossível conjurar Bênção Selvagem em quem não queira receber o encanto, ou que já esteja sobre seu efeito. A magia tem o limite de até 5 pessoas e/ou animais.

Ao término do encanto, o evocador sente uma grande exaustão e recebe um redutor conforme indicado no efeito usado. Esse redutor não pode ser recuperado de forma mágica.`,extra:["Esta magia só pode ser usada no próprio evocador se pelo menos um dos recebedores da benção seja também um de seus animais com qual ele possua Elo Animal. O redutor de exaustão se aplica às colunas de ataque (para todos os níveis de efeitos) e nas Técnicas de Combate (nos efeito 2 a 10)"],alcance:{tipo:U.TOQUE},duracao:{tipo:L.CENA,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.biogerminacao,nome:"Biogerminação",niveis:[{id:"0",duracao:{tipo:L.HORA,valor:6},descricao:"Causa um efeito plástico menor como a aparição de um pequeno galho verde (0,3 cm de diâmetro e 5cm de comprimento) em uma parte do corpo (braço, testa, etc.) não causando dores.",nivel:1},{id:"1",duracao:{tipo:L.DIA,valor:1},descricao:"Causa a aparição de folhas na superfície da pele (5% da superfície corporal) causando dores menores, mas sem efeitos para combate.",nivel:2},{id:"2",duracao:{tipo:L.DIA,valor:2},descricao:"Causa a aparição de pequenos galhos (1cm de diâmetro; 10cm de comprimento) com folhas na superfície da pele. Este efeito abrange 15% da superfície corporal. Causa dores e um ajuste de –3 para combate e magia.",nivel:4},{id:"3",duracao:{tipo:L.DIA,valor:3},descricao:"Causa a aparição de galhos médios e ramificados (2cm de diâmetro, 15cm de comprimento) com folhas e flores na superfície da pele. Este efeito abrange 30% da superfície corporal, causando dores intensas com um ajuste de –5 para combate e magia.",nivel:6},{id:"4",duracao:{tipo:L.DIA,valor:4},descricao:"Causa a aparição de galhos grandes (3 cm de diâmetro, 20 de comprimento) e espinhosos com muitas ramificações, folhas e flores. Este efeito abrange 60% da superfície corporal, causando dores horríveis, um número avançado de galhos e espinhos impede a utilização de armaduras, elmos e escudos. A Energia Heróica é reduzida à metade e a vítima recebe um ajuste de –7 para combate, magia e habilidades.",nivel:8},{id:"5",duracao:{tipo:L.DIA,valor:5},descricao:"Causa a aparição de galhos espinhosos muito grandes (4cm de diâmetro; 30 cm de comprimento) com muitas ramificações, folhas e flores. Além disso, a pele da vítima é ressecada transformando-se em casca de árvore e as ramificações espinhosas se amparam enroscando-se nos membros e impossibilitando quaisquer movimentos, caracterizando um quadro horrível. O avançado grau de comprometimento do corpo implica em um teste de Resistência Física contra força de ataque igual à quantidade de Karma usado (o rolamento deve ser secreto}, em caso de falha a vítima morre ao final do 3º dia se o encanto não for quebrado.",nivel:10}],descricao:`Esta aterrorizante magia castiga um ser (caso falhe em sua resistência à magia}, condenando-o a uma dor horrível, podendo matar em seu efeito mais poderoso.

No ser afetado será implantada uma semente que se desenvolverá e utilizará o corpo da vítima como hospedeiro até que a duração do feitiço se esgote. Os efeitos da magia acontecem imediatamente após o alvo falhar em sua resistência à magia.

O efeito plástico deste feitiço causa um quadro espantoso fazendo com que o recipiente da magia seja alvo de escárnio. O tipo de vegetal implantado e as conseqüências de sua estadia variam com a dificuldade do efeito usado. Se alguma parte da planta parasita for arrancada, outra irá crescer imediatamente substituindo esta.`,alcance:{tipo:U.METRO,valor:15},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:2}},{id:ue.bloqueio,nome:"Bloqueio",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:3,isRaio:!0},duracao:{tipo:L.DIA,valor:1},dinheiro:{ouro:2},descricao:"Impede a entrada de criaturas animadas que sejam de estágio 2 ou inferior. A área de atuação da magia é de 3m de raio.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:5,isRaio:!0},duracao:{tipo:L.SEMANA,valor:1},dinheiro:{ouro:4},descricao:"Impede a entrada de criaturas animadas que sejam de estágio 4 ou inferior. A área de atuação da magia é de 5m de raio.",nivel:2},{id:"2",alcance:{tipo:U.METRO,valor:7,isRaio:!0},duracao:{tipo:L.SEMANA,valor:2},dinheiro:{ouro:8},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 7 ou inferior. A área de atuação da magia é de 7m de raio.",nivel:4},{id:"3",alcance:{tipo:U.METRO,valor:15,isRaio:!0},duracao:{tipo:L.MES,valor:1},dinheiro:{ouro:12},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 10 ou inferior. A área de atuação da magia é de 15m de raio.",nivel:6},{id:"4",alcance:{tipo:U.METRO,valor:25,isRaio:!0},duracao:{tipo:L.MES,valor:6},dinheiro:{ouro:16},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 13 ou inferior. A área de atuação da magia é de 25m de raio.",nivel:8},{id:"5",alcance:{tipo:U.METRO,valor:50,isRaio:!0},duracao:{tipo:L.ANO_E_DIA},dinheiro:{ouro:20},descricao:"Impede a entrada de criaturas animadas e construídas que sejam de estágio 16 ou inferior. A área de atuação da magia é de 50m de raio A duração do efeito é de 1 ano e 1 dia.",nivel:10}],descricao:`Esta magia cria um campo de força mística que interfere nos encantos de animação impedindo a entrada de criaturas animadas na área de atuação da magia. Qualquer criatura animada (Armaduras Animadas, variações de Golens, Estatuas Animadas, Gárgulas, Árvores Animadas, Corpos Necroanimados etc.) que tentar entrar na área de atuação do bloqueio deverá realizar um teste de resistência à magia, caso falhe não poderá entrar na área.

A área de atuação da magia, o poder das criaturas afetadas (estágio) e a duração do encanto variam com a dificuldade do efeito.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.boato,nome:"Boato",niveis:[{id:"0",descricao:"A vítima passará a informação para 3 pessoas.",nivel:1},{id:"1",descricao:"A vítima passará a informação para 6 pessoas.",nivel:2},{id:"2",descricao:"A vítima passará a informação para 15 pessoas.",nivel:4},{id:"3",descricao:"A vítima passará a informação para 40 pessoas.",nivel:6},{id:"4",descricao:"A vítima passará a informação para 80 pessoas.",nivel:8},{id:"5",descricao:"A vítima passará a informação para 150 pessoas.",nivel:10}],descricao:`Com este poderoso feitiço, o evocador pode espalhar um boato de forma que seja tido como verdade por aqueles que o ouviram, manipulando o pensamento destas pessoas.

Isso se dá da seguinte forma: primeiramente o evocador deverá conversar por, no mínimo, 5 minutos com uma, e somente uma pessoa sobre o assunto que deverá se tornar o boato. No final da conversa o evocador deverá dizer uma frase, geralmente resumindo o que ele disse até então, de no máximo 20 palavras que será justamente o boato. A pessoa então deverá fazer um teste de Resistência à Magia e, se falhar, assimilará o boato como verdade, sentindo a necessidade de passar essa informação para outras pessoas.

O número de pessoas que ela necessariamente deverá passar a informação adiante, variará de acordo com o nível da magia. Quando a vítima espalhar o boato para o número máximo de pessoas descrito no nível, ela não sentirá mais a necessidade de passar adiante a informação, embora ela possa fazê-lo caso seja de seu desejo. O boato espalhado pela vítima necessariamente deverá ser fiel ao transmitido do evocador a ela.

Além disso, a vítima após uma hora de enfeitiçada esquecerá quem foi a pessoa que lhe passou a informação. Ela não se lembrará de seu nome nem rosto nem qualquer outro elemento que possa identificá-la, mas saberá que veio de uma fonte altamente "confiável".`,extra:["As pessoas as quais o boato for transmitido podem acreditar ou não no que a vítima disser. Isso é uma decisão particular de cada pessoa. Por conta disso, é sempre importante para o evocador escolher a pessoa certa, que tenha mais credibilidade o possível, para que passe o boato. Assim, se a vítima for uma criança, muitas pessoas possivelmente não acreditarão no que ela disser, alegando ser fruto da imaginação dela. No entanto, se a vítima for um sacerdote respeitado, as pessoas tenderão a ser muito mais receptivas ao que ele disser."],alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:20}},{id:ue.bolaDeFogo,nome:"Bola de Fogo",niveis:[{id:"0",descricao:"Causa 12 pontos de dano em uma esfera de 1 metro de raio.",nivel:1},{id:"1",descricao:"Causa 16 pontos de dano em uma esfera de 2 metros de raio.",nivel:2},{id:"2",descricao:"Causa 20 pontos de dano em uma esfera de 4 metros de raio.",nivel:3},{id:"3",descricao:"Causa 28 pontos de dano em uma esfera de 6 metros de raio.",nivel:5},{id:"4",descricao:"Causa 32 pontos de dano em uma esfera de 10 metros de raio.",nivel:7},{id:"5",descricao:"Causa 36 pontos de dano em uma esfera de 10 metros de raio.",nivel:9}],descricao:`Essa magia cria uma pequena bola de fogo que voa da mão do evocador em direção a um alvo escolhido. Ao se aproximar do alvo ela explode, causando dano na área de explosão.

Veja que o encanto não tem precisão, podendo atingir qualquer um na área de efeito da explosão. Isto é resolvido com um ataque individual em cada um que estiver na área de efeito da magia. O dano máximo é dito no efeito.`,alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.bote,nome:"Bote",niveis:[{id:"0",descricao:"O bote permite um Ataque Oportuno por uma rodada (mesmo sem obter surpresa) e caso obtenha surpresa (parcial ou completa) na próxima rodada poderá fazer mais um Ataque Oportuno.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas caso acerte 100% na EH ou acerte a EF do oponente, este deve fazer um teste de moral fácil, caso falhe fugirá do combate.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas caso obtenha surpresa (parcial ou completa) poderá fazer nas próximas duas rodadas um Ataque Oportuno (um por rodada). O teste de moral é médio.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas o teste de moral é difícil. Caso o oponente falhe no teste de moral, os companheiros dele devem fazer um teste fácil de moral, e se falharem fugirão também.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas caso obtenha surpresa (parcial ou completa) poderá fazer nas próximas três rodadas um Ataque Oportuno (um por rodada). O teste de moral é muito difícil para o oponente e médio para os companheiros deles.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas o teste de moral é absurdo para o oponente e difícil para os companheiros dele.",nivel:10}],descricao:`Com este encanto, o evocador traz sobre si o espírito de alguns animais predadores, que lhe concedem uma manobras especial: o Bote, que consiste em realizar um ataque no momento mais oportuno sobre sua vítima. Para isto, antes de poder evocar esta magia é necessário que ele possua um amuleto composto por alguma parte destes tipos de animais, como cobras, felinos, crocodilos, etc. O amuleto deve ser criado pelo próprio evocador com partes do animal morto (há no máximo um dia}, sendo que ele não pode ter matado o animal apenas para o propósito de confeccionar o amuleto.

Para realizar o bote, é necessário estar no máximo a 10 metros de distância da vítima. Caso a vítima não perceba sua presença (Surpresa parcial ou completa) ou esteja em uma situação desfavorável (caído no chão, de costas, tropeção, etc}, o efeito do bote é prolongado de acordo com nível do encanto utilizado e o bônus de Ataque oportuno pode ser usado em todos os ataques enquanto durar a magia; caso não pegue o oponente de surpresa ou em situação desfavorável, o encanto só terá efeito em um ataque, podendo usar o Ataque Oportuno mesmo quando não poderia.

Por se tratar de uma manobra impetuosa, o místico ganha automaticamente a iniciativa dos ataques enquanto o encanto estiver vigente. Os ajustes deste encanto afetarão apenas o evocador e a vítima do seu bote. Outro efeito da magia é assustar o oponente e os companheiro dele, o que poderá fazer com que fuja(m) caso falhe(m) num teste de moral.`,extra:["Esta magia só pode ser usada com armas de corpo-a-corpo, e após ser evocada deve-se realizar o ataque em no máximo 3 rodadas, senão perde o efeito. É importante ressaltar que esta magia não estende a duração do efeito de Surpresa Completa (ataque direto na EF}, assim sendo, após o primeiro ataque deve-se considerar os Ataques Oportunos extras como se fosse surpresa parcial (dano na EH) até o termino dos efeitos da magia. Este encanto só pode ser usado contra 1 oponente."],alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.bravura,nome:"Bravura",niveis:[{id:"0",descricao:"Torna alguém imune a magias que causem pavor de nível 1 e ainda ganha 4 pontos de EH, podendo ir além do máximo; ou anula os efeitos de magias que causem pavor de nível 1.",nivel:1},{id:"1",descricao:"Torna alguém imune a magias que causem pavor de nível 2 e ainda ganha 8 pontos de EH, podendo ir além do máximo; ou anula os efeitos de magias que causem pavor de nível 2.",nivel:2},{id:"2",descricao:"Torna alguém imune a magias que causem pavor de nível 4 e ainda ganha 12 pontos de EH, podendo ir além do máximo; ou anula os efeitos de magias que causem pavor de nível 4.",nivel:4},{id:"3",descricao:"Torna alguém imune a magias que causem pavor de nível 6 e ainda ganha 16 pontos de EH, podendo ir além do máximo; ou Anula os efeitos de magias que causem pavor de nível 6.",nivel:6},{id:"4",descricao:"Torna alguém imune a magias que causem pavor de nível 8 e ainda ganha 20 pontos de EH, podendo ir além do máximo; ou Anula os efeitos de magias que causem pavor de nível 8.",nivel:8},{id:"5",descricao:"Torna alguém imune a magias que causem pavor de nível 10 e ainda ganha 24 pontos de EH, podendo ir além do máximo; ou Anula os efeitos de magias que causem pavor de nível 10.",nivel:10}],descricao:`Com esse milagre o sacerdote torna alguém ou a si próprio mais bravo, fazendo com que o beneficiado se torne imune a magias que causem pavor, como Medo e Covardia e ainda ganhe uma EH extra que pode ir além do máximo.

Este milagre pode ser evocado durante o turno de combate do sacerdote sem contar como uma ação.

A imunidade a magias que causem pavor, funciona do mesmo jeito que a Magia Proteção Mental, ou seja, o nível de “Bravura” utilizado torna o personagem imune a magias que causem pavor cujo nível seja igual ou inferior ao do milagre. Assim com Bravura 4, um personagem está imune a Medo 1, 2 e 4 mas não tem qualquer efeito para Medo 6 por exemplo.

Se essa magia for lançada sobre um alvo vítima dos efeitos de fuga causados pelas magias Medo ou Covardia, esses efeitos podem ser imediatamente quebrados, dependendo da dificuldade do efeito usado.

Caso não queira receber os efeitos da Bravura, o alvo pode fazer um teste de RM. Uma criatura sob efeito Bravura estará motivada e determinada a enfrentar situações de risco. Desta forma, para fugir de uma batalha ela precisa ser bem sucedida em um teste de RM ou continuará em combate até que seus inimigos sejam derrotados.

OBS: Na rodada que esta magia é evocada não é permitido que o evocador faça outra magia. Nas rodadas subsequentes na qual a magia continua fazendo efeito esta restrição não se aplica e o evocador pode evocar outras magias normalmente`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.HORA,valor:2},evocacao:{tipo:ae.INSTANTANEA}}]})(kg||(kg={}));var zg;(t=>{t.lista=[{id:ue.cacadaMarcada,nome:"Caçada Marcada",niveis:[{id:"0",duracao:{tipo:L.SEMANA,valor:1},alcance:{valor:1,isRaio:!0,tipo:U.QUILOMETRO},descricao:"O místico sabe a direção e será guiado até o ser marcado, desde que este esteja dentro do alcance.",nivel:1},{id:"1",duracao:{tipo:L.SEMANA,valor:2},alcance:{valor:5,isRaio:!0,tipo:U.QUILOMETRO},descricao:"Idem ao anterior e saberá quando se aproximar a 100 metros ou menos da caça. Também receberá informações genéricas (longe, perto, muito perto, etc) sobre a distância entre ele e a caça.",nivel:3},{id:"2",duracao:{tipo:L.SEMANA,valor:3},alcance:{valor:10,isRaio:!0,tipo:U.QUILOMETRO},descricao:"Idem ao anterior e saberá quando se aproximar a 1 km ou menos da caça.",nivel:5},{id:"3",duracao:{tipo:L.SEMANA,valor:4},alcance:{valor:50,isRaio:!0,tipo:U.QUILOMETRO},descricao:"Idem ao anterior e saberá quando se aproximar a 5 km ou menos da caça. Também receberá informações mais precisas sobre a distância entre ele e a caça (com uma precisão de 50 metros).",nivel:7},{id:"4",duracao:{tipo:L.SEMANA,valor:5},alcance:{valor:100,isRaio:!0,tipo:U.QUILOMETRO},descricao:"idem ao anterior e saberá quando se aproximar a 10 km ou menos da caça.",nivel:9}],descricao:`Ao evocar essa magia, o místico marca a aura de uma presa para continuar a caçada caso ela fuja ou escape do combate, ou prefira caçá-la em melhores condições. A criatura a ser marcada deve estar até 5 metros do evocador e precisa falhar em um teste de RM para o encanto funcionar. A aura do ser marcado emanará um brilho tênue percebível apenas pelo evocador (à noite, se destaca a uma distância máxima de 10 metros, de dia não faz diferença).

A magia apontará a direção e guiará o evocador até o exato local onde a caça se encontra, desde que esteja dentro do raio de alcance definido pelo nível da magia. Se a presa sair dessa área, o místico só terá informações até a borda do raio, daí para frente nada mais será informado. Caso volte para a marcação antes que a duração do feitiço acabe, o encanto é retomado. É importante ressaltar que a magia não fornece informações acerca do local que se encontra a criatura, o místico só tomará conhecimento quando chegar lá. Os níveis darão informações acerca da distância entre o caçador e a caça.

Note que apenas o místico obtém informação da presa (esta não recebe informação sobre o caçador). Após a duração do encanto, a presa deixará de brilhar e o evocador não receberá mais informações, sabendo apenas a direção e distância até o momento. A magia funciona em qualquer ser que tenha aura.`,alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.campoabencoado,nome:"Campo Abençoado",niveis:[{id:"0",nivel:1,alcance:{tipo:U.METRO,valor:20,isRaio:!0},evocacao:{tipo:ae.RODADA,valor:10},descricao:"Com este efeito o sacerdote cria um campo em que todo aquele que descansar ou fizer esforço leve, sua recuperação de EH será como se estivesse dormindo, sendo 2 pontos por hora. Fazendo esforço pesado a recuperação de EH é de 1 ponto por hora."},{id:"1",alcance:{tipo:U.METRO,valor:20,isRaio:!0},evocacao:{tipo:ae.RODADA,valor:10},descricao:"Idem ao anterior, além disso, com este efeito todos aumentam em 2 sua coluna de ataque contra criaturas infernais e mortos vivos.",nivel:2},{id:"2",alcance:{tipo:U.METRO,valor:20,isRaio:!0},evocacao:{tipo:ae.RODADA,valor:10},descricao:"Idem ao anterior, mas o aumento em 2 sua coluna de ataque também afeta as raças selvagens. Além disso, com este efeito não são necessárias mais as três horas iniciais para conformação do mana, para só então passar a recuperar o karma. Todos dentro do Alcance da magia passam a recuperar 1 ponto de karma por hora.",nivel:4},{id:"3",alcance:{tipo:U.QUILOMETRO,valor:1,isRaio:!0},evocacao:{tipo:ae.RITUAL},descricao:"Idem ao anterior, mas com este efeito o Sacerdote também consegue sentir a presença das criaturas inimigas. Além disso, pelas propriedades curativas, qualquer teste de medicina realizado no campo terá -1 nível de dificuldade, e caso a EF esteja entre -11 e -15, qualquer um se estabiliza na primeira hora em que estiver dentro do Alcance da magia.",nivel:6},{id:"4",alcance:{tipo:U.QUILOMETRO,valor:10,isRaio:!0},evocacao:{tipo:ae.RITUAL},descricao:"Idem ao anterior, mas qualquer teste de medicina realizado no campo terá -2 níveis de dificuldade, e o alcance da magia passa a ser de 10 km.",nivel:8},{id:"5",alcance:{tipo:U.QUILOMETRO,valor:10,isRaio:!0},evocacao:{tipo:ae.RITUAL},descricao:"Idem ao anterior, mas com este efeito todos, incluindo a fauna e a flora, aumentam em 3 sua coluna de ataque contra qualquer um que tenha intenção de prejudicar, seja pessoa, animal ou o meio ambiente, que estejam dentro do Alcance da magia.",nivel:10}],descricao:"Com este milagre, o sacerdote de Sevides é capaz de abençoar uma determinada área de 20 metros a 10 km de raio. Nessa área, a proteção de Sevides estará sobre aquele que nela permanecer por toda sua duração. Esse milagre é muito utilizado nas aventuras, dada as propriedades de cura e proteção.",alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.HORA,valor:8},evocacao:{tipo:ae.VARIAVEL}},{id:ue.campoabencoado,nome:"Camuflagem",niveis:[{id:"0",descricao:"O ambiente deve ser no mínimo equivalente a uma vegetação muito densa, grandes declinações no terreno (ladeiras, pedras, planaltos etc.}, lugares escuros (como cavernas}, etc.",nivel:1},{id:"1",descricao:"O ambiente deve ser no mínimo equivalente a uma vegetação mediana ou médias declinações no terreno.",nivel:2},{id:"2",descricao:"O ambiente deve ser no mínimo equivalente a uma vegetação baixa ou onde haja um pequeno declínio no terreno. Os alvos da magia podem se mover lentamente (1 metro pro rodada).",nivel:4},{id:"3",descricao:"Idem ao anterior, mas agora os alvos agora podem se mover do local desde que a sua velocidade não seja superior a 2 metros por rodada.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas agora podem se mover usando metade da sua velocidade base.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas agora podem se mover metade da sua velocidade base normal e é possível se camuflar mesmo em ambientes que não sejam naturais.",nivel:10}],descricao:`Este encanto permite que o evocador use o ambiente a sua volta para camuflar a si mesmo e/ou outros seres próximos. A camuflagem dada por esta magia é adaptável ao ambiente de forma a deixar os alvos quase imperceptíveis.

Os seres e seus pertences ficam camuflados de forma idêntica ao ambiente onde estão, para vê-los é necessário um teste Azul (Muito Difícil) na habilidade Usar os Sentidos. Estes serão notados como uma espécie de forma aquosa muito parecida como a do personagem do cinema "Predador", do filme "O Predador". Note que a magia camuflagem não os impede de serem percebidos pelos sentidos que não sejam a visão. Os níveis que não possuem duração perduram até que o alvo se mova, os demais níveis ficam ativos para cada alvo por um tempo de dez minutos ou podem terminar antes caso este efetue um ataque, mova-se além da velocidade permitida ou evoque uma magia. A quantidade de alvos que a magia afeta é sempre dois, sendo o evocador e outro alvo, exceto nos níveis mais avançados onde afeta apenas o evocador e seus companheiros animais.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.cancaoDoAlento,nome:"Canção do Alento",niveis:[{id:"0",descricao:"A pessoa receberá +1 coluna em todas as suas habilidades. O evocador recebe 5 pontos de dano na EH.",nivel:1},{id:"1",descricao:"A pessoa receberá +2 colunas em todas as suas habilidades. O evocador recebe 10 pontos de dano na EH.",nivel:2},{id:"2",descricao:"A pessoa receberá +3 colunas em todas as suas habilidades. O evocador recebe 15 pontos de dano na EH.",nivel:4},{id:"3",descricao:"A pessoa receberá +4 colunas em todas as suas habilidades. O evocador recebe 20 pontos de dano na EH.",nivel:6},{id:"4",descricao:"A pessoa receberá +5 colunas em todas as suas habilidades e ainda receberá 5 EH, podendo ir além do seu máximo. O evocador recebe 25 pontos de dano na EH.",nivel:8},{id:"5",descricao:"A pessoa receberá +6 colunas em todas as suas habilidades, receberá 10 EH, podendo ir além do seu máximo, e seu brilhantismo lhe confere uma capacidade de lidar com as pessoas equivalente a da magia Amizade nível 1 até duas vezes dentro da duração da magia. O evocador recebe 30 pontos de dano na EH.",nivel:10}],descricao:`A ansiedade e a preocupação são grandes inimigos dos heróis. Uma batalha decisiva, uma disputa de honra, uma reunião diplomática ou mesmo o encontro com alguém de grande importância: tudo isso pode ser motivo de preocupação e com certeza, perturba a pessoa e a impede de ter o seu melhor desempenho. Existem aqueles, no entanto, através da música, conseguem trazer alento ao coração preocupado e paz ao ânimo inquieto.

Através de um ritual extremamente cansativo para o evocador, ele pode fazer com que a pessoa tensa consiga ter uma noite de sono com perfeita paz, repleta de sonhos com mensagens animadoras e vitoriosas. No dia seguinte, essa pessoa acordará de forma tão disposta, que tudo o que ela estava para fazer terá uma maior chance de dar certo. Para quem observa, a pessoa está radiante, com brilho, como se dissesse que aquele dia havia sido feito exatamente para aquela pessoa. É importante notar que embora possam existir outras pessoas que durmam próximas uma das outras, apenas uma delas (a que o evocador escolher) poderá ser beneficiada pelo encanto.

Para que o ritual funcione, é necessário primeiramente que a pessoa beneficiada tenha algum motivo de preocupação e ansiedade de algo que venha a ocorrer no dia seguinte da realização do ritual. Satisfeita essa condição, o evocador deverá tocar uma canção suave enquanto a pessoa ainda estiver acordada. Após algum tempo, essa pessoa acabará dormindo e o evocador deverá continuar tocando até o dia seguinte, quando a pessoa acordar. Ela irá dormir muito bem e acordará no dia seguinte com uma série de bônus. No entanto, é necessário que o tempo de sono seja de no mínimo 6 horas. Conseqüentemente, a evocação da magia será de no mínimo seis horas somados ao tempo inicial da música enquanto a pessoa ainda estava acordada.

Nesse sentido, se por algum motivo, a pessoa acordar ou o evocador parar de tocar enquanto a pessoa estiver dormindo, a magia perderá o seu efeito.

Este encanto é extremamente cansativo para o evocador, fazendo com que ele perca uma quantidade de EH ao final da evocação. Caso a EH dele chegue a zero com este encanto, ele irá desmaiar, só acordando após 8 horas de sono. A EH , no entanto, recupera normalmente com o descanso.

Os bônus recebidos duram 1 dia contado a partir do momento que a pessoa acorda. Os bônus também serão perdidos caso a pessoa decida dormir antes do tempo se esgotar.`,extra:["Caso um ou outro aconteça, é impossível retomar a evocação da magia uma vez que ela tenha sido quebrada.","A pessoa beneficiada deve ser capaz de ouvir e querer ouvir a música, não podendo, nesse sentido, a magia ser imposta."],alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.DIA,valor:1},evocacao:{tipo:ae.VARIAVEL}},{id:ue.cancaoDoAnimo,nome:"Canção do Ânimo",niveis:[{id:"0",nivel:1,descricao:"Concede +3 nos ataques para 1 pessoa."},{id:"1",nivel:3,descricao:"Concede +3 nos ataques para 3 pessoas."},{id:"2",nivel:5,descricao:"Concede +3 nos ataques para 6 pessoas."},{id:"3",nivel:6,descricao:"Concede +5 na EH e +5 nos ataques para uma pessoa."},{id:"4",nivel:8,descricao:"Concede +5 na EH e +5 nos ataques para 2 pessoas."},{id:"5",nivel:10,descricao:"Concede +10 na EH e +5 nos ataques para 6 pessoas."}],descricao:`Com o uso deste feitiço, o Bardo pode dar a um ou mais de seus companheiros ânimo e coragem para enfrentar o combate. O número de pessoas que podem ser afetadas e o efeito específico de cada uso dependem da dificuldade.

O encanto Concede ajuste na EH e no ataque do personagem que esteja sob o seu efeito. O ajuste na EH se dá como certo número de pontos que são somados à EH do beneficiado, podendo mesmo passar do máximo da pessoa. Caso um personagem ainda tenha mais pontos de EH que o seu máximo no fim da duração desta magia, estes pontos adicionais desaparecem.

O ajuste no ataque que é ganho toma a forma de um ajuste na coluna de resolução final do personagem. Assim sendo, o personagem soma o ajuste ganho com a sua coluna de resolução para obter a coluna na qual o ataque é feito.`,alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.RODADA,valor:20},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.cancaoDoSono,nome:"Canção do Sono",niveis:[{id:"0",descricao:"Torna uma vítima sonolenta, causando um ajuste de -5 para as Percepções.",nivel:1},{id:"1",descricao:"Torna três vítimas sonolentas, causando um ajuste de -5 para as Percepções.",nivel:2},{id:"2",descricao:"Faz dormir uma pessoa. Note-se o simples sacolejar da vítima poderá quebrar o efeito da magia.",nivel:3},{id:"3",descricao:"Faz dormir duas pessoas. Note-se o simples sacolejar da vítima poderá quebrar o efeito da magia.",nivel:4},{id:"4",descricao:"Faz dormir uma pessoa, sendo quebrado o encanto caso a vítima sinta dor ou incômodos maiores.",nivel:5},{id:"5",descricao:"Faz dormir duas pessoas, sendo quebrado o encanto caso as vítimas sintam dor ou incômodos maiores.",nivel:6},{id:"6",descricao:"Faz dormir três pessoas, sendo quebrado o encanto caso as vítimas sintam dor ou incômodos maiores.",nivel:7},{id:"7",descricao:"Faz uma pessoa dormir um sono profundo, mas podendo ser acordada apenas quando a magia for anulada ou sua duração se esgotar, por isso este efeito não poderá ser quebrado mesmo que sejam desferidos golpes que causem dor na vítima.",nivel:8},{id:"8",descricao:"Faz três pessoas dormirem um sono profundo, que podem ser acordadas apenas quando a magia for anulada ou sua duração se esgotar, por isso este efeito não poderá ser quebrado mesmo que sejam desferidos golpes que causem dor nas vítimas.",nivel:9},{id:"9",descricao:"Faz todas as pessoas que escutarem a música dormirem um sono profundo, os efeitos atingem inclusive os aliados do evocador que escutarem. Só acordarão quando a magia for anulada ou sua duração se esgotar. Note-se que os efeitos deste nível não serão quebrados mesmo que sejam desferidos golpes que causem dor nas vítimas.",nivel:10}],descricao:`Esta magia permite que o Bardo, toque algumas notas musicais que, combinadas com a sua mágica, podem fazer com que um ou mais seres sintam sono. Qualquer nível desta magia não atingirá o evocador que lançá-la.

A duração do feitiço, a não ser que a descrição do efeito diga o contrário, é igual a 20 rodadas ou o tempo que o evocador permanecer concentrado tocando a canção, desde que não exceda a 2 (duas) horas. Se o Bardo for impedido de continuar tocando ou as vítimas do encanto saírem do alcance da canção o feitiço permanece pelo restante da duração ou (se a duração tiver se esgotado) se quebra imediatamente (as vítimas acordam).`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.RODADA,valor:20,outraDescricao:"20 rodadas ou o tempo que o evocador permanecer concentrado tocando a canção, desde que não exceda a 2 (duas) horas"},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.cancaoDoTormento,nome:"Canção do Tormento",niveis:[{id:"0",descricao:"Afeta uma pessoa impondo um ajuste de -1 coluna.",nivel:1},{id:"1",descricao:"Afeta uma pessoa impondo um ajuste de -2 colunas e perda de 5 pontos de EH.",nivel:2},{id:"2",descricao:"Afeta uma pessoa impondo um ajuste de -3 colunas e perde de 10 pontos de EH.",nivel:4},{id:"3",descricao:"Afeta uma pessoa impondo um ajuste de -4 colunas e perda de 15 pontos de EH.",nivel:6},{id:"4",descricao:"Afeta uma pessoa impondo um ajuste de -5 colunas e perda de 20 pontos de EH.",nivel:8},{id:"5",descricao:"Afeta uma pessoa impondo um ajuste de -6 colunas e perda de 30 pontos de EH.",nivel:10}],descricao:`Canção do Tormento é um encanto utilizado em batalhas. O evocador canta uma canção ou apenas toca uma melodia ou até mesmo fala algumas coisas e a vítima deverá fazer uma resistência à magia; se falhar virá à mente da vítima uma imagem julgadora de seus atos; assim se o pai de um inimigo condenava seus atos, a imagem do pai da vítima virá à sua mente; se um grande espadachim for a vítima, a imagem do seu mestre poderá vir a mente. Diversas podem ser as imagens, mas todas elas causarão uma dificuldade na batalha. No primeiro caso a imagem do pai desconcentra o oponente, no segundo caso, a imagem do mestre faz com que o espadachim fique nervoso, pois não pode errar na frente do seu mestre. Essas imagens farão com que as vítimas lutem em piores condições, já que estão sendo submetidas a um olhar superior que as pressionam e as desconcentram.

Caso a EH da vítima chegue a zero com esse feitiço, a vítima não conseguirá fazer nada além de chorar, lamentar ou amaldiçoar a imagem que veio a sua mente por 5 rodadas. Caso ela seja atacada, no entanto, durante esse período, ela será desperta do transe. `,extra:["Até mesmo criaturas dos reinos inferiores podem ser afetadas por esse encanto: um ser inferior de baixo nível pode ficar aterrorizado com a lembrança do discurso de seu superior de quem falhar na missão. Seres irracionais não podem ser afetados por esse encanto."],alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.RODADA,valor:20},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.cataclisma,nome:"Cataclisma",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:2,isRaio:!0},descricao:"Rouba o karma de até 1 alvo, a explosão tem 2 metros de raio e causa dano máximo 12.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:3,isRaio:!0},descricao:"Rouba o karma de até 1 alvo, a explosão tem 3 metros de raio e causa dano máximo 16.",nivel:2},{id:"2",alcance:{tipo:U.METRO,valor:4,isRaio:!0},descricao:"Rouba o karma de até 2 alvos, a explosão tem 4 metros de raio e causa dano máximo 20.",nivel:4},{id:"3",alcance:{tipo:U.METRO,valor:5,isRaio:!0},descricao:"Rouba o karma de até 2 alvos, a explosão tem 5 metros de raio e causa dano máximo 24.",nivel:6},{id:"4",alcance:{tipo:U.METRO,valor:6,isRaio:!0},descricao:"Rouba o karma de até 3 alvos, a explosão tem 6 metros de raio e causa dano máximo 28.",nivel:8},{id:"5",alcance:{tipo:U.METRO,valor:7,isRaio:!0},descricao:"Rouba o karma de até 3 alvos, a explosão tem 7 metros de raio e causa dano máximo 32.",nivel:10}],descricao:`Com esta magia, o mago alquímico pode roubar a energia de outros místicos e as converter em uma quantidade de energia que se manifesta na forma de uma explosão em, forma de domo, ao redor do evocador atingindo a todos que estejam na área.

Na pratica o evocador deverá, primeiramente, escolher os alvos que terão suas energias “roubadas” (os alvos têm de estar a pelo menos 20 metros do evocador). Após a evocação, os alvos escolhidos deverão fazer uma resistência á magia e os que falharem perderão 1 ponto de karma que será imediatamente assimilado à energia do cataclisma. A cada um (1) ponto de karma roubado, aumenta-se (4) no dano básico da explosão (se um cataclisma de dano máximo 16 receber um acréscimo de 2 pontos de karma, seu dano máximo passará a ser 24) .

A área de abrangência da explosão, o número de alvos que poderão ter o karma roubado e o dano da explosão, varia com o efeito usado.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.chuvaAcida,nome:"Chuva Ácida",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:25,isRaio:!0},descricao:"Causa dano 1 por rodada de exposição em área de até 25 m de raio.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:50,isRaio:!0},descricao:"Causa dano 2 por rodada de exposição em área de até 50 m de raio.",nivel:3},{id:"2",alcance:{tipo:U.METRO,valor:125,isRaio:!0},descricao:"Causa dano 2 por rodada de exposição em área de até 125 m de raio",nivel:5},{id:"3",alcance:{tipo:U.METRO,valor:150,isRaio:!0},descricao:"Causa dano 3 por rodada de exposição em área de até 150 m de raio",nivel:7},{id:"4",alcance:{tipo:U.METRO,valor:300,isRaio:!0},descricao:"Causa dano 3 por rodada de exposição em área de até 300 m de raio",nivel:9}],descricao:`Restrição de Uso: Ar livre

Esta magia manipula as propriedades gasosas das nuvens fazendo com que produzam ácido e água.

Durante a evocação, o místico deve posicionar o foco de atuação em qualquer lugar dentro do alcance da magia. Uma vez posicionado, o foco não poderá ser mudado de posição até o final da duração da magia.

No local do foco de atuação da magia o céu é tomado por uma nuvem negra em forma de redemoinho. A tonalidade negra da nuvem se expande do centro do redemoinho para fora. Ao final da evocação a chuva ácida começará a cair da nuvem negra atingindo tudo que estiver na área de efeito. Esta magia causa dano por rodada em criaturas que estejam no foco de atuação. Qualquer estrutura que esteja na área de efeito sofrerá danos por corrosão.

Esta magia é perigosa podendo causar sérios danos á natureza, sendo por esse motivo, usada em ultima instancia pelos Naturalistas.

Esta magia não cria a chuva, apenas se utiliza dela, por isso é preciso que o tempo já esteja chuvoso antes do início de evocação da magia. Para criar chuva, leia o encanto Controle Climático. O dano por rodada de exposição e a área de atuação da chuva ácida variam com a dificuldade do efeito. A área pode ser controlada de no mínimo 25 m de raio até o máximo que o efeito permitir.`,alcance:{tipo:U.QUILOMETRO,valor:1},duracao:{tipo:L.RODADA,valor:30},evocacao:{tipo:ae.RODADA,valor:3}},{id:ue.circuloDeProtecao,nome:"Círculo de Proteção",niveis:[{id:"0",duracao:{tipo:L.HORA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 2",nivel:1},{id:"1",duracao:{tipo:L.HORA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 3.",nivel:2},{id:"2",duracao:{tipo:L.HORA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 5.",nivel:3},{id:"3",duracao:{tipo:L.DIA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 4.",nivel:4},{id:"4",duracao:{tipo:L.DIA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 7.",nivel:5},{id:"5",duracao:{tipo:L.DIA,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 9.",nivel:6},{id:"6",duracao:{tipo:L.ANO_E_DIA},descricao:"Impede a entrada de criaturas de Estágio inferior a 11 por um ano e um dia.",nivel:7},{id:"7",duracao:{tipo:L.ANO_E_DIA},descricao:"Impede a entrada de criaturas de Estágio inferior a 13 por um ano e um dia.",nivel:8},{id:"8",duracao:{tipo:L.ANO,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 15 por 13 anos.",nivel:9},{id:"9",duracao:{tipo:L.ANO,valor:13},descricao:"Impede a entrada de criaturas de Estágio inferior a 20 por 13 anos.",nivel:10}],descricao:`Esta magia permite que o evocador energize um círculo, previamente preparado no chão, que protegerá quem estiver no seu interior de mortos-vivos que estiverem fora dele. Qualquer outra criatura não será afetada pelo círculo. O poder das criaturas que podem ser contidas e o tempo pelo qual elas podem ser contidas varia com o efeito usado. A Evocação deste feitiço não inclui o tempo necessário para se preparar o círculo.

Cada morto-vivo terá direito a uma Resistência à Magia. Aqueles que falharem não poderão agir direta ou indiretamente sobre quem estiver dentro do círculo (mas quem estiver dentro do círculo poderá agir sobre eles normalmente). Caso seja obtido sucesso na Resistência, a criatura poderá ignorar a existência do círculo por uma hora, embora não possa danificá-lo. Após este tempo, uma nova Resistência à Magia será necessária.

Caso um morto-vivo esteja dentro do círculo quando o feitiço for evocado, ele não será afetado pelo encanto, podendo agir normalmente dentro do círculo e inclusive sair do mesmo. Após deixar o círculo, no entanto, a criatura será tratada como qualquer outra que esteja fora do círculo (ou seja, ela pode não conseguir entrar de novo).

O círculo de proteção pode ser desenhado ou entalhado no chão, em qualquer tamanho desejado pelo evocador (desde que ele tenha dinheiro para pagar os materiais) até o limite de 5 metros de raio. Caso o evocador deseje desenhar o círculo, o traçado do mesmo levará 2 horas por metro de raio e custará uma moeda de ouro por metro de raio. Caso o evocador deseje entalhar o círculo no chão, o entalhe custará 5 moedas de ouro por metro de raio e demorará dois dias por metro de raio, mas a Resistência à Magia da criatura é reduzida em 5 colunas.

Os círculos são bastante vulneráveis a ataques. Caso qualquer parte de um circulo desenhado seja apagada ou qualquer parte de um circulo entalhado seja desfigurada (quebrada, lascada, etc.) a integridade do círculo será comprometida, se isso acontecer, qualquer feitiço que estiver em efeito nele será destruído. Mesmo que não haja nenhum feitiço em efeito no momento do comprometimento, o circulo é, a partir, de então inútil, não podendo mais ser usado. É impossível reparar um circulo que tenha sido danificado.

Círculos podem ser reutilizados, mas a cada novo uso deve-se gastar novamente o Karma do feitiço e mais uma moeda de ouro em materiais.`,alcance:{tipo:U.METRO,valor:5,outraDescricao:"Até 5m de raio"},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.clarividencia,nome:"Clarividência",niveis:[{id:"0",duracao:{tipo:L.SEGUNDO,valor:1},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o MESTRE escolhe).",nivel:1,dinheiro:{ouro:1}},{id:"1",duracao:{tipo:L.SEGUNDO,valor:10},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o MESTRE escolhe).",nivel:3,dinheiro:{ouro:3}},{id:"2",duracao:{tipo:L.SEGUNDO,valor:1},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o JOGADOR escolhe).",nivel:5,dinheiro:{ouro:5}},{id:"3",duracao:{tipo:L.SEGUNDO,valor:10},descricao:"O evocador tem uma visão (apenas imagem) e pode ser do presente ou do futuro (o JOGADOR escolhe).",nivel:7,dinheiro:{ouro:7}},{id:"4",duracao:{tipo:L.SEGUNDO,valor:20},descricao:"O evocador tem uma visão (imagem e som) e pode ser do presente ou do futuro (o JOGADOR escolhe).",nivel:9,dinheiro:{ouro:9}}],descricao:`Com esta magia o evocador tem uma visão de lugares e de situações, sejam elas no presente ou no futuro. O que será visto é uma imagem (parada ou em movimento com ou sem som) de um lugar ou situação, e a precisão não é grande. O jogador antes de fazer a magia deve dizer ao Mestre o que pretende ver. De acordo com o efeito o Mestre, determinará o que será visto. Não há limite para a distância mas a duração da visão é dada no efeito. Note que toda visão é meio turva e mas o som é bem razoável. Toda clarividência que seja sobre o futuro não necessariamente irá acontecer.

Para este ritual precisa-se que esteja disponível um objeto apropriado para clarividência, que pode ser uma bola de cristal, um espelho, ou um pequeno lago ou poço, desde que a água esteja completamente parada.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:10}},{id:ue.cobertura,nome:"Cobertura",niveis:[{id:"0",descricao:"Os primeiros 10 pontos de dano no alvo são redirecionados para o sacerdote.",nivel:1},{id:"1",descricao:"Os primeiros 20 pontos de dano no alvo são redirecionados para o sacerdote.",nivel:2},{id:"2",descricao:"Os primeiros 30 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 2 pessoas.",nivel:4},{id:"3",descricao:"Os primeiros 40 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 2 pessoas e o dano recebido cai 25%.",nivel:6},{id:"4",descricao:"Os primeiros 50 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 3 pessoas e o dano recebido cai 25%.",nivel:8},{id:"5",descricao:"Os primeiros 60 pontos de dano no alvo são redirecionados para o sacerdote, pode proteger 3 pessoas e o dano recebido cai 50%.",nivel:10}],descricao:`Com este milagre o sacerdote cria uma corrente de energia incorpórea que protege uma pessoa até 15 metros de distância, recebendo dano em seu lugar. Após ser encantado com o milagre, o alvo pode entrar em qualquer ambiente normalmente mantendo o alcance (inclusive se houver obstáculos como paredes, portas de madeira ou ferro}, porém se ultrapassar o alcance a magia se desfaz.

Se o alvo do milagre receber dano em combate ou de outras situações, este dano é redirecionado para o Sacerdote que efetuou o milagre, seguindo as regras de se reduzir primeiro Energia Heroica e posterior a Energia Física.

Todos os danos sofridos pelo Alvo da magia é redirecionado para o Sacerdote, inclusive resultados negativos após uma rolagem crítica (20) do atacante, exceto dano que causem morte instantânea por queda ou golpe crítico (20/20).

A quantidade de dano que o sacerdote poderá receber no lugar da pessoa varia de acordo com o nível da magia. Apesar de estar protegendo o alvo da magia, o sacerdote pode continuar atacando normalmente sem qualquer penalidade.

O Sacerdote poderá cancelar o milagre a qualquer momento que desejar sem esforços, desta forma não gasta sua ação se estiver em batalha.

Se o alvo deste milagre, durante uma batalha realizar um ritual ou evocação com uma rodada ou mais e receber ataques na EF ou 100% da EH, este alvo não sofrerá penalidades ou interrupção por dano.`,alcance:{tipo:U.METRO,valor:15},duracao:{tipo:L.RODADA,valor:30},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.comandoDePaz,nome:"Comando de Paz",niveis:[{id:"0",duracao:{tipo:L.HORA,valor:1},alcance:{tipo:U.METRO,valor:7},descricao:"Permite ao evocador acalmar pessoas em discussões e desentendimentos. Permite ao evocador ou outra pessoa por ele indicada possa tentar uma persuasão para evitar uma luta. Nesse nível não é possível parar brigas físicas. Podendo afetar até 8 pessoas.",nivel:1},{id:"1",duracao:{tipo:L.HORA,valor:1},alcance:{tipo:U.METRO,valor:7},descricao:"Idem ao anterior, mas pode interromper brigas. Os afetados param de lutar e assumem uma postura defensiva. Porém afeta até 10 pessoas.",nivel:2},{id:"3",duracao:{tipo:L.HORA,valor:3},alcance:{tipo:U.METRO,valor:20},descricao:"A partir desse nível o evocador não precisa argumentar e os afetados são influenciados pela própria influência divina e sentirão uma urgência em recuar e evitar o combate. Aqueles que conseguirem resistir a esta influência sofrem um redutor de -1 na coluna de ataque. Afeta até 20 pessoas.",nivel:4},{id:"3",duracao:{tipo:L.HORA,valor:6},alcance:{tipo:U.METRO,valor:30},descricao:"Idem ao anterior mas afeta até 30 pessoas. Alvos com Resistência à Magia igual ou menor a 2 falham automaticamente.",nivel:6},{id:"4",duracao:{tipo:L.HORA,valor:12},alcance:{tipo:U.METRO,valor:50},descricao:"Idem ao anterior, mas o redutor para ataques passa a ser -2 colunas e afeta até 50 pessoas. Alvos com Resistência à Magia igual ou menor a 4 falham automaticamente.",nivel:8},{id:"5",duracao:{tipo:L.DIA,valor:1},alcance:{tipo:U.METRO,valor:100},descricao:"Idem ao anterior, mas afeta até 100 pessoas. Alvos com Resistência à Magia igual ou menor a 6 falham automaticamente. Esse efeito praticamente força uma trégua.",nivel:10}],descricao:`Esta Magia permite ao Evocador pôr fim a conflitos, retirando a vontade de lutar ou ao menos reduzindo a hostilidade.

Em níveis mais baixos pode-se impedir ou encerrar brigas em taverna e em suas versões mais poderosas batalhas podem ser interrompidas.

A evocação leva uma rodada e pode ou não envolver preces ou argumentações. A magia é resistível e quem falhar sentirá uma necessidade extrema e urgente de recuar e cessar o combate (isso não significa que irá fugir, mas sim que vai recuar e se defender). Já quem passar no teste de Resistência à Magia sentirá o corpo rígido e mesmo ofensas dirigida a seus oponentes serão difíceis de ser proferidas, a partir do nível 4 a dificuldade se reflete em redutor nos testes de ataque.

Esta magia não afeta mortos-vivos, criaturas artificiais e demônios; mas afeta criaturas irracionais como animais e todos os tipos de criaturas místicas.

Vale ressaltar que pessoas lutando por sua vida não serão afetadas por este milagre, exemplo pessoas lutando contra feras famintas, ou fugindo de captores.

Outro detalhe importante é que só será afetado quem estiver na área de feito no momento do lançamento da magia.

Usar essa magia para forçar um recuo do oponente e propiciar um ataque ou emboscada é considerado contra as regras da magia que é instantaneamente quebrada caso ocorra tal transgressão. Caso o evocador seja um Sacerdote outras punições podem vir da divindade.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.comunhaoNatural,nome:"Comunhão Natural",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:50},descricao:"O evocador tem conhecimento total em uma área de 50 m de distância do sacerdote.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:100},descricao:"Idem ao anterior, mas a área é de 100m de distância do sacerdote.",nivel:2},{id:"2",alcance:{tipo:U.METRO,valor:300},descricao:"Idem ao anterior mas a área é de 300m de distância do sacerdote.",nivel:4},{id:"3",alcance:{tipo:U.METRO,valor:300},descricao:"Idem ao anterior, mas o evocador também pode neste nível projetar sua voz através de uma árvore, pedra, água (que se modifica formando algo próximo do rosto do evocador; a voz assim como a imagem também é um pouco distorcida) em algum ponto escolhido dentro da área.",nivel:6},{id:"4",alcance:{tipo:U.METRO,valor:500},descricao:"Idem ao anterior mas a área é de 500m de distância do sacerdote.",nivel:8},{id:"5",alcance:{tipo:U.METRO,valor:500},descricao:"Idem ao anterior, mas agora o sacerdote pode projetar sua voz em quantos lugares ele quiser ao mesmo tempo. Entretanto, a mensagem transmitida é a mesma.",nivel:10}],descricao:"Com este milagre, o sacerdote poderá ver através da natureza e saber tudo o que acontece em uma área que varia de acordo com o nível da magia. Da mesma forma que em Auxílio Natural, cada sacerdote só poderá utilizar esse encanto em ambientes específicos de acordo com a sua divindade. Na prática essa magia concede a capacidade de ver, ouvir e cheirar em qualquer ponto da área da magia",alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.HORA,valor:1},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.conhecimento,nome:"Conhecimento",niveis:[{id:"0",descricao:"Concede +1 coluna no teste.",nivel:1},{id:"1",descricao:"Concede +2 colunas no teste.",nivel:2},{id:"2",descricao:"Concede +4 colunas no teste.",nivel:4},{id:"3",descricao:"Concede +6 colunas no teste.",nivel:6},{id:"4",descricao:"Concede +8 colunas no teste.",nivel:8},{id:"5",descricao:"Concede +10 colunas no teste.",nivel:10}],descricao:"Uma vez usado o encanto Conhecimento, toda e qualquer habilidade que envolva conhecimento deverá ser jogada com colunas extras, que variarão conforme o nível.",extra:["As habilidades que envolvem conhecimento não se reduzem apenas ao grupo de habilidades Conhecimento, mas sim toda e qualquer habilidade que de alguma forma possa ser usada para obter uma informação. Assim, se o personagem quer saber de onde tal tecido poderia ter vindo, ele deverá fazer um teste de Trabalhos Manuais. Como se trata de informação, os bônus se aplicarão a essa habilidade. Mas se, por exemplo, o personagem resolver reparar uma roupa, o encanto de nada lhe adiantaria, já que não lida especificamente com um conhecimento geral, mas sim técnico."],alcance:{tipo:U.PESSOAL},duracao:{tipo:L.ATIVACAO,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.conhecimentoLinguistico,nome:"Conhecimento Linguístico",niveis:[{id:"0",descricao:"É capaz de falar e ler em uma língua a sua escolha como se fosse secundaria além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 1 nível em Línguas, Escrita e Códigos.",nivel:1},{id:"1",descricao:"É capaz de falar e ler em uma língua a sua escolha como se fosse primaria além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 2 níveis em Línguas, Escrita e Códigos.",nivel:2},{id:"2",descricao:"É capaz de falar e ler em três língua a sua escolha como se fossem primarias além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 3 níveis em Línguas, Escrita e Códigos.",nivel:4},{id:"3",descricao:"É capaz de falar e ler em seis língua a sua escolha como se fossem primarias além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 4 níveis em Línguas, Escrita e Códigos. Ler, escrever e decifrar são 2 vezes mais rápido.",nivel:6},{id:"4",descricao:"É capaz de falar e ler em dez língua a sua escolha como se fossem primarias além de ser capaz de usar a Habilidade Códigos sem nível ou recebe bônus de 5 níveis em Línguas, Escrita e Códigos. Ler, escrever e decifrar são 4 vezes mais rápido.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas agora consegue falar e ler em qualquer língua e torna uma tarefa de dificuldade Impossível em uma Absurda, além de ler, escrever e decifrar 10 vezes mais rápido.",nivel:10}],descricao:"Com este feitiço o evocador é capaz de compreender línguas e códigos que não teria capacidade de entender e se expressar. Caso o evocador tenha a habilidade Escrita ele será capaz de escrever na(s) língua(s) escolhida(s) se não só poderá compreender a escrita e nunca escrever na mesma.",alcance:{tipo:U.PESSOAL},duracao:{tipo:L.HORA,valor:1},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.conhecimentoNatural,nome:"Conhecimento Natural",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:500,isRaio:!0},descricao:"O evocador saberá se o ar é respirável, se existe massa líquida (rio, lago, etc.}, se o tipo de solo sofrerá alteração, as principais espécies de animais e plantas, tudo dentro do alcance. Elimina o Verde na tabela de resoluções para habilidade Navegação (menor resultado: branco).",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:500,isRaio:!0},descricao:"Idem ao anterior, mas saberá se a água é potável, e a localização e a distância das principais espécies de plantas e animais comuns. Também elimina o Branco (menor resultado: amarelo).",nivel:2},{id:"2",alcance:{tipo:U.QUILOMETRO,valor:2,isRaio:!0},descricao:"Idem ao anterior, mas saberá quais os tipos de solo existem no ambiente, se existem cavernas e sua localização, o principal minério, e se existem trilhas na área. Também elimina o Amarelo (menor resultado: Laranja).",nivel:4},{id:"3",alcance:{tipo:U.QUILOMETRO,valor:4,isRaio:!0},descricao:"Idem ao anterior, mas saberá os principais animais gigantes que existem no ambiente. Também elimina o Laranja (menor resultado: Vermelho).",nivel:6},{id:"4",alcance:{tipo:U.QUILOMETRO,valor:7,isRaio:!0},descricao:"Idem ao anterior, mas saberá a localização e a distância dos principais animais gigantes, as principais espécies de animais místicos. Também elimina o Vermelho (menor resultado: Azul).",nivel:8},{id:"5",alcance:{tipo:U.QUILOMETRO,valor:10,isRaio:!0},descricao:"o Místico entra em sintonia com o ambiente, tendo pleno conhecimento, localização e a distância das plantas e animais (comum, gigante e místico) do local; conhecimento do relevo, incluindo solo e minérios; massa d'água; caminhos, trilhas e qualquer formação natural relevante. Também elimina o Azul, ou seja, o sucesso é automático com exceção do Cinza (o nível Absurdo necessita jogar dado) e transforma algo Impossível em Absurdo.",nivel:10}],descricao:`Esse encanto concede ao Místico a capacidade de ler o ambiente, e com isso, obter informações relevantes sobre os seguintes elementos da área: ar, água, solo, fauna e flora. Caso haja alguma construção artificial ao alcance da magia, uma perturbação será sentida, mas não conseguirá definir o que é e nem a localização (mas não interrompe a magia). A quantidade de informações e o tamanho do local compreendido variam de acordo com o nível da magia.

Por ampliar o conhecimento do terreno, a magia também melhora a performance na habilidade Navegação (mas somente para uma área que pertença dentro do alcance da magia). De acordo com o nível do encanto, elimina-se uma cor na tabela de resoluções. Por exemplo, no nível 1 elimina-se o verde. Logo, o menor resultado é branco (caso tire verde, o resultado é considerado o primeiro posterior, ou seja, branco). Esse efeito vale apenas por 1 uso.`,extra:["Animais Místicos oferecem RM para serem identificados e/ou localizados. Caso passem no teste de RM, o Místico saberá apenas que existem Animais Místicos na área, mas não conseguirá determinar a espécie e a localização. Esta magia só pode ser evocada em ambientes naturais."],alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.RODADA,valor:20}},{id:ue.conjuracaoNatural,nome:"Conjuração Natural",niveis:[{id:"0",descricao:"Conjura um Plantor Mensageiro",nivel:1,dinheiro:{ouro:3}},{id:"1",descricao:"Conjura um Plantor Soldado",nivel:3,dinheiro:{ouro:6}},{id:"2",descricao:"Conjura um Plantor Conselheiro",nivel:5,dinheiro:{ouro:15}},{id:"3",descricao:"Conjura um Plantor Líder",nivel:7,dinheiro:{ouro:21}}],descricao:`Através deste ritual o evocador entra em sintonia com o Plano Astral para trazer entidades deste, temporariamente à terra.

O evocador imbui um corpo vegetal ao espírito Natural para que este possa habitar nosso plano físico (ver descrição de Plantores). Devido à origem mágica da incorporação, o tempo em que a mesma permanece sob operação não pode exceder o limite permitido pela magia.

O poder do Plantor conjurado varia com a dificuldade do efeito usado.

Esta magia não oferece nenhuma forma de dominar o ser conjurado, para isso leia o encanto Domínio Natural.`,extra:["Esta magia só pode ser invocada em ambientes naturais"],alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.ANO,valor:1},evocacao:{tipo:ae.RITUAL}},{id:ue.conjurarObjetos,nome:"Conjurar objetos",niveis:[{id:"0",nivel:1,duracao:{tipo:L.MINUTO,valor:5},descricao:"Conjura um objeto inanimado de até 1 kg para a mão do evocador. O objeto pode ser entregue a outra pessoa ou ser largado no chão, mas terá uma aparência levemente translúcida que indica que não é um objeto comum."},{id:"1",nivel:3,duracao:{tipo:L.MINUTO,valor:15},alcance:{tipo:U.METRO,valor:5},descricao:"Idem anterior, mas o objeto pode pesar até 5 kg e pode ser conjurado para a mão do evocador ou para um lugar que ele aponte."},{id:"2",nivel:5,duracao:{tipo:L.MINUTO,valor:30},alcance:{tipo:U.METRO,valor:10},descricao:"Idem anterior, mas o objeto pode pesar até 10 kg."},{id:"3",nivel:7,duracao:{tipo:L.HORA,valor:1},alcance:{tipo:U.METRO,valor:15},descricao:"Idem anterior, mas o objeto pode pesar até 20 kg."},{id:"4",nivel:9,duracao:{tipo:L.HORA,valor:6},alcance:{tipo:U.METRO,valor:20},descricao:"Idem anterior, mas o objeto pode pesar até 40 kg."}],descricao:`O feiticeiro estende suas mãos e faz um objeto aparecer. O objeto tem a duração variável conforme os efeitos abaixo. Nos efeitos 3 em diante, o evocador pode escolher onde o objeto vai surgir, caso ele escolha que o objeto irá surgir tocando uma criatura ou imediatamente a sua frente, a criatura pode fazer um teste de RM para resistir ao efeito. Armaduras criadas com esta magia não podem ser utilizadas. A proximidade com a aura do possível usuário torna o feitiço instável e ela se desfaz em alguns instantes. Armas e escudos podem ser utilizados normalmente.

Este feitiço não é capaz de criar objetos muito específicos, tal como a chave de uma determinada cela ou reproduzir fielmente uma obra de arte. Seus efeitos são limitados a objetos comuns do tipo desejado pelo usuário, com detalhes específicos toscos ou faltantes, dependendo da precisão com a que foi imaginado (representada pela descrição oferecida pelo jogador).

As armas criadas com esta magia causam dano não mágico.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.contatosMentais,nome:"Contatos Mentais",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.RODADA,valor:1},descricao:"O evocador consegue transmitir seus pensamentos a uma pessoa que queira recebê-los voluntariamente.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.RODADA,valor:5},descricao:"Permite uma comunicação mental entre várias pessoas. A comunicação tem de ser voluntária.",nivel:3},{id:"2",alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.RODADA,valor:10},descricao:"Idem ao anterior.",nivel:5},{id:"3",alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.RODADA,valor:5},descricao:"Este encanto permite que o evocador leia a mente de um indivíduo. A vítima tem direito a resistir a esse efeito.",nivel:7},{id:"4",alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.RODADA,valor:5},descricao:"Idem ao anterior e, além disso, implanta na mente da vítima uma sugestão. A sugestão tem que ser algo que não ponha a vítima em perigo (pelo menos não claramente).",nivel:9}],descricao:"Este feitiço permite uma insinuação do evocador na mente da vítima; inicialmente o encanto possibilita apenas uma comunicação entre os indivíduos; os efeitos mais fortes, porém, permitem entrar na mente alheia e até implantar sugestões nela.",alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.contatosMusicais,nome:"Contatos Musicais",niveis:[{id:"0",descricao:"Permite transmitir uma mensagem de até 1 palavra a uma pessoa.",nivel:1},{id:"1",descricao:"Permite transmitir uma mensagem de até 3 palavras a até 2 pessoas.",nivel:2},{id:"2",descricao:"Permite transmitir uma frase curta com no máximo 10 palavras para 2 pessoas.",nivel:4},{id:"3",descricao:"Permite transmitir uma frase longa com no máximo 25 palavras para 3 pessoas.",nivel:6},{id:"4",descricao:"Permite transmitir um pequeno discurso com no máximo 100 palavras para 4 pessoas.",nivel:8},{id:"5",descricao:"Permite transmitir um discurso com no máximo 1000 palavras para uma pessoa.",nivel:10}],descricao:`Contatos musicais é uma magia que permite a utilização de música instrumental ou vocal desliterada para transmitir informações a pessoas específicas. A música é tão melodiosa e instigante que em si carrega uma mensagem que a vítima do encanto percebe claramente. Não é possível saber de onde o encanto veio.

Embora se assemelhe com ventrioloquismo, Contatos Musicais têm características próprias. A primeira delas, diferentemente de ventrioloquismo, que desloca o som e que, portanto é audível a todos os que estão próximos, é que o contato musical não pode ser entendido por nenhuma pessoa (a música tocada é audível mas a mensagem é inaudível). Assim o evocador pode fazer com que no meio de uma multidão uma pessoa específica ouça o que ele está dizendo enquanto todos os outros não podem, desde que a pessoa seja capaz de ouvir a melodia. A segunda delas é que é necessária que se faça um teste de resistência à magia para a pessoa cuja mensagem está direcionada e ela deverá falhar neste teste para que possa ouvir a mensagem, a não ser que voluntariamente ela queira escutar a mensagem.

O alcance da magia é variável, pois depende do meio de execução e o ambiente no qual está inserido. Assim se o instrumento estiver sendo tocado em meio a muito barulho, é impossível a mensagem chegar a seu(s) destinatário(s). Fica a cargo do Mestre determinar se o som do instrumento chegará ou não até a(s) pessoa(s}, levando em consideração a sua intensidade e a quantidade de outras fontes sonoras que atrapalham a mensagem.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.controle,nome:"Controle",niveis:[{id:"0",descricao:"Domina morto-vivos de Estágio máximo 1.",nivel:1},{id:"1",descricao:"Domina morto-vivos de Estágio máximo 2",nivel:2},{id:"2",descricao:"Domina morto-vivos de Estágio máximo 3.",nivel:3},{id:"3",descricao:"Domina morto-vivos de Estágio máximo 4.",nivel:4},{id:"4",descricao:"Domina morto-vivos de Estágio máximo 5.",nivel:5},{id:"5",descricao:"Domina morto-vivos de Estágio máximo 6.",nivel:6},{id:"6",descricao:"Domina morto-vivos de Estágio máximo 7.",nivel:7},{id:"7",descricao:"Domina morto-vivos de Estágio máximo 8.",nivel:8},{id:"8",descricao:"Domina morto-vivos de Estágio máximo 9.",nivel:9},{id:"9",descricao:"domina morto-vivos de Estágio máximo 10.",nivel:10}],descricao:`Concede ao evocador a capacidade de escravizar mortos-vivos à sua vontade. A quantidade, o Estágio máximo dos mortos-vivos controlados e o preço dos materiais necessários à evocação do feitiço são determinados pelo efeito usado.

Cada vez que o evocador desejar controlar um morto-vivo ele deve evocar este feitiço sobre o mesmo. Caso o morto-vivo tenha sido criado pelo próprio evocador, o sucesso do controle é automático. Caso contrário, o morto-vivo terá direito a fazer uma Resistência à Magia, caso tenha sucesso ele não será controlado e tentará destruir o evocador. Caso falhe na Resistência, ele será controlado.

Um morto-vivo controlado passa a ser um escravo completo do evocador, sempre procurando servir o seu mestre com o melhor de suas capacidades e de seu entendimento. Ele não pode ser convencido a agir contra o seu mestre sem uso de mágica. Jogar esta magia sobre um morto-vivo que já esteja controlado é inútil pois a segunda vez não tem nenhum efeito.

Entretanto o necromante não tem capacidade para dominar mortos-vivos infinitamente, mas quanto maior seu conhecimento sobre a magia Controle maior será essa capacidade. Em termos de regras um necromante pode controlar um número máximo de mortos-vivos até 5 vezes seu total na magia Controle. Assim, um necromante com total 6 em Controle pode dominar no máximo 30 mortos vivos.

Note também que o evocador poderá dominar apenas mortos-vivos até um determinado Estágio. Considera-se que mortos vivos acima deste Estágio não podem ser controlados por este evocador até que ele aprimore seus conhecimentos em Controle.

O evocador não possui nenhuma forma especial de comunicação com o morto-vivo, devendo usar comandos verbais que possam ser entendidos por ele.

Caso o evocador seja morto, os mortos-vivos cumprirão suas últimas instruções e então ficarão livres. O custo da evocação deste feitiço é de cinco peças de cobre por dificuldade. Lembre-se que o encanto só pode ser usado em um morto-vivo de cada vez.`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.PERMANENTE},evocacao:{tipo:ae.RODADA,valor:10}},{id:ue.controleClimatico,nome:"Controle Climático",niveis:[{id:"0",descricao:"Muda em um passo a condição de um clima local.",nivel:1},{id:"1",descricao:"Altera em dois passos a condição de um clima local.",nivel:2},{id:"2",descricao:"Altera em três passos a condição de um clima local.",nivel:4},{id:"3",descricao:"Altera em quatro passos a condição de um clima local.",nivel:6},{id:"4",descricao:"Altera em cinco passos a condição de um clima local.",nivel:8},{id:"5",descricao:"Altera em seis passos a condição de um clima local.",nivel:10}],descricao:`Esta magia permite ao evocador (quando estiver em ar livre) mudar as condições climáticas de uma região de 10 km de raio em poucas rodadas e gerar outros fenômenos naturais para tomar proveito. O evocador é capaz de alterar e controlar o clima podendo manipular diversos elementos relacionados, bem como causar mudanças de precipitação, umidade, temperatura e ventos. A mudança pode ser em um sentido ou em outro, acalmando um Temporal ou o transformando em uma Tempestade. O poder do efeito diz quantos passos desta cadeia o evocador pode alterar.

ÁGUA: Desértico - Árido - Muito Seco - Seco - ideal - Garoa - Chuva Fina - Chuva Forte - Temporal - Tempestade

VENTO: Sem vento - Brisa - Ventos Leves - Ventania - Vendaval - Tornado

TEMPERATURA: Nevasca - Granizo - Neve - Inverno - Frio - Ideal - Quente - Verão - Mormaço - Calor Seco - Calor Escaldante

Outro efeito desta magia é do evocador se beneficiar dos extremos de cada condição climática, isso ocorre quando o Karma utilizado para evocar a magia se mistura com a natureza, dando origem a diversos fenômenos naturais (como Tempestades, Tornados, Nevascas..}, que a cada três rodadas atingem seus inimigos que estejam até 20 metros de distância do evocador, o tipo do dano depende da condição climática, Ex: Tempestade irá gerar um Relâmpago, Tornado um Aeroataque.

Esse novo efeito é integralmente NATURAL, ou seja o evocador não tem controle sobre esse segundo efeito, é simplesmente a natureza mostrando sua força contra seus inimigos e o ataque é aleatório se houver mais de um adversário. O inimigo para ser atingido deve atender o pré-requisito que está destacado em cada efeito máximo do tipo de clima.

Abaixo segue a lista de efeitos práticos que vão acontecer em determinadas situações climática.

Tempestade - Atrai aleatoriamente um Relâmpago por turno, que atinge um inimigo que esteja a menos de 20 metros do evocador e que preferencialmente esteja utilizando armamentos de metal e armaduras pesadas. Ver efeitos de Relâmpagos mesmo nível da magia para calcular dano.

Tornado - Cria uma lufada de vento por turno, que atinge um inimigo que esteja a menos de 20 metros do evocador e que preferencialmente esteja utilizando armaduras leves e medias, e armas de madeira. Ver efeitos de Aeroataque no mesmo nível da magia.

Nevasca - Forma um dardo de gelo por turno, que atinge um inimigo que esteja a menos de 20 metros do evocador e atinge preferencialmente inimigos que estejam usando roupas inadequadas para o frio. Ver efeitos de Dardos de Gelo no mesmo nível da magia para calcular dano.

Calor Escaldante - Molda a energia solar em formas de um feixe extremamente quente, que atinge um inimigo que esteja a menos de 20 metros do evocador e atinge preferencialmente inimigos que estejam usando roupas inadequadas para o calor. Ver efeitos de Feixes Incandescentes no mesmo nível da magia para calcular dano.

Após o término da duração, as condições climáticas ficam livres para voltar às suas tendências antigas e este encanto só pode ser aplicado uma vez por dia no mesmo local.

Outro ponto importante é que o Evocador não controla o resultado que a condição climática irá oferecer, ou seja, será atingido juntamente com seu grupo de amigos indiretamente afetando as condições de sobrevivência, por exemplo: a exposição prolongada ao Calor Escaldante poderá causar desidratação; a Nevasca irá causar problemas na visibilidade, movimentação e possivelmente hipotermia; o Tornado irá dificultar ataques a distância, etc.

OBS* Cada condição climática causa penalidades no movimento e no combate, para isso o Mestre deverá ler o capítulo Combate -> Penalidades Aplicadas ao Movimento - Penalidades Especiais - Clima e Terreno. Para condições climáticas que não estejam descritas o Mestre usará o bom senso.

Tempestade, Nevasca e Calor Escaldante apenas irão gerar um Relâmpago, um Dardo de Gelo e um Feixe Incandescente respectivamente, mesmo que na magia diga que são mais de 1.`,alcance:{tipo:U.QUILOMETRO,valor:10},duracao:{tipo:L.HORA,valor:1},evocacao:{tipo:ae.RODADA,valor:3}},{id:ue.controleMecanico,nome:"Controle Mecânico ",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.MINUTO,valor:10},descricao:"Permite controlar um mecanismo que seria operado com uma mão com uma força normal (Força = 0}, tais como alavancas e fechaduras. Requer concentração.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.HORA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por uma pessoa e que exige as duas mãos e com uma força média (Força = 2}, tais como lemes de direção, roda para içar uma pequena âncora. Requer concentração.",nivel:3},{id:"2",alcance:{tipo:U.METRO,valor:30},duracao:{tipo:L.HORA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por até duas pessoas normais ou por uma pessoa de grande força (Força = 3}, tais como controle de um barco, uma roda para içar uma ancora. Não requer concentração.",nivel:5},{id:"3",alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.DIA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por até 3 pessoas ou com uma força de um boi (Força = 4}, tais como um pequeno moinho, uma roda para içar uma grande ancora de um navio, uma grande roda para levantar um portão de um castelo. Não requer concentração.",nivel:7},{id:"4",alcance:{tipo:U.METRO,valor:100},duracao:{tipo:L.DIA,valor:1},descricao:"Permite controlar um mecanismo que seria operado por grandes animais tais como Elefantes ou criaturas gigantes (Força = 6). Não requer concentração.",nivel:9}],descricao:`Com esta magia é possível o evocador controlar um dispositivo mecânico que seria operado por uma ou mais pessoas ou criaturas. Assim é possível se mover uma alavanca, uma roda ou até mesmo um dispositivo tracionado por animais ou criaturas, tais como um moinho tracionado por bois, uma ponte levadiça, portão levadiço, leme de um barco, uma roda de tortura...

A limitação da magia é que tem de ser um e somente um dispositivo mecânico que esteja dentro do alcance e dentro da força necessária. Mecanismos complexos exigem que o evocador saiba operá-lo ou mesmo exige que saiba a habilidade correspondente. Não é possível se operar mecanismos automáticos tais como moinhos d´água e relógios. A magia apenas permite se operar o mecanismo se este estiver operacional e sem impedimentos. Desta forma, pode-se destrancar uma porta, mas apenas se a chave já se encontrar dentro da fechadura.

A magia funciona como se o evocador estivesse operando diretamente o mecanismo o que requer concentração durante a operação nos níveis mais baixos, mas a partir do nível 5 não é necessário concentração. O alcance da magia varia com o efeito. Caso o mecanismo já esteja sendo operado por alguém, é possível se sobrepor à operação do mecanismo, mas é necessário fazer um teste usando as "Regras para Teste de Atributo" que está no capítulo 2 do Livro de Regras. Note que se a disputa for feita sobre um mecanismo frágil este pode se quebrar, mas isto deve ser decidido pelo Mestre de acordo com a situação.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.conversaoEnergetica,nome:"Conversão Energética",niveis:[{id:"0",duracao:{tipo:L.RODADA,valor:5},descricao:"Converte 1 ponto de karma das magias evocadas contra o mago. A duração do encanto é de 5 rodadas.",nivel:1},{id:"1",duracao:{tipo:L.RODADA,valor:7},descricao:"Converte até 2 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 7 rodadas.",nivel:3},{id:"2",duracao:{tipo:L.RODADA,valor:30},descricao:"Converte até 2 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 30 rodadas.",nivel:5},{id:"3",duracao:{tipo:L.RODADA,valor:30},descricao:"Converte até 3 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 30 rodadas.",nivel:7},{id:"4",duracao:{tipo:L.MINUTO,valor:30},descricao:"Converte até 3 pontos de karma das magias evocadas contra o mago. A duração do encanto é de 30 minutos.",nivel:9}],descricao:`Esta magia cria um campo de força mística em torno do mago, que converte a energia das magias evocadas por outros místicos, em karma para o evocador.

Após o término da evocação do feitiço, uma aura esverdeada tomará todo o corpo do evocador. A partir de então qualquer magia direta ou indireta que seja evocada contra o evocador será convertida em um numero de pontos karma para o mesmo. Note que este feitiço só age sobre a energia de magias de ataque direto (“Sono”, “Corrente”, “Covardia”, etc) ou indireto (“Bola de fogo”, “Dardos de Gelo”, “Raio Elétrico”, etc}, magias como “Apelo”, “Piromanipulação”, “Sombras”, não são direcionadas contra o evocador, logo não podem ser convertidas. Magias que possam ser vinculadas ao evocador (Escuridão, Manipulação de luz, Silencio, etc) também podem ser afetadas, desde que estas sejam evocadas contra o evocador na forma de um ataque direto.

Em quanto esta magia estiver ativada, qualquer dano de ataques indiretos causados por magia, que o mago receba (na EH ou EF}, será convertida em karma para o evocador. Caso o evocador receba um ataque causado por magia direta, é preciso que este resista á magia, caso contrário nenhum ponto de karma é convertido.

Em cada efeito da magia está descrito o numero de pontos de karma que o mago poderá converter. Caso o efeito consiga absorver uma quantidade de karma superior à usada em uma magia contra o evocador, apenas o valor correspondente ao karma gasto para evocá-la poderá ser convertido.

Note que o mago não fica imune ao dano causado pela magia, este será aplicado normalmente.

Caso o mago converta mais pontos de karma do que sua capacidade máxima, os pontos excedentes desaparecerão quando o efeito da magia “Conversão Energética” entrar em colapso. O tempo de duração da magia e a quantidade de pontos de karma que poderão ser convertidos variam com a dificuldade do efeito.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:2}},{id:ue.convivencia,nome:"Convivência",niveis:[{id:"0",descricao:"O evocador obtém as principais informações de uma vila.",nivel:1},{id:"1",descricao:"O evocador obtém as principais informações de uma cidade pequena.",nivel:3},{id:"2",descricao:"O evocador obtém as principais informações de uma cidade média.",nivel:5},{id:"3",descricao:"O evocador obtém as principais informações de uma cidade grande.",nivel:7},{id:"4",descricao:"O evocador obtém as principais informações de uma capital.",nivel:9}],descricao:`Através do encanto Convivência o evocador consegue se adaptar rapidamente aos locais pelos quais circula, podendo conhecer tudo acerca de uma vila ou cidade de forma muito mais rápida do que uma pessoa normal. Depois de evocada a magia, o místico terá um dia para conversar com as pessoas da localidade para que possa obter as informações da região.

Na prática, ao final da duração da magia, o evocador saberá as principais características do local como: regime legal, deuses mais influentes, padrão de comércio, principais lendas e canções, comidas típicas, pessoas mais importantes, as festividades; enfim, o evocador passa a ter conhecimento de todas as principais informações existentes na localidade. Ao critério do Mestre é possível ainda que informações mais sigilosas sejam obtidas. Nesse caso o jogador poderá fazer um ou mais testes de Persuasão de dificuldade determinada pela Mestre, mas influenciada pela interpretação do jogador.

De acordo com o nível, o alcance da magia aumenta, ou seja, o tamanho da localidade vai se tornando maior.`,extra:["Todo o conhecimento não vem instantaneamente na mente do místico ao final da evocação, ele irá adquirir esse conhecimento aos poucos e, ao final da evocação, o que ele não pôde ouvir diretamente das pessoas poderá deduzir devido ao seu grande conhecimento já adquirido. Isso significa também que necessariamente o místico deverá estar se comunicando com as pessoas, sendo impossível usar esse feitiço em uma prisão ou em um local aonde as pessoas não são simpáticas ao evocador.","Uma outra observação é que ao final da evocação o conhecimento não fica memorizado na mente do evocador, o que significa que ele poderá esquecer as informações obtidas. Por isso, muitos místicos capazes de usar essa magia costumam carregar consigo muitos pergaminhos para que possam registrar essas informações."],alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.DIA,valor:1},evocacao:{tipo:ae.RODADA,valor:10}},{id:ue.convocacao,nome:"Convocação",niveis:[{id:"0",evocacao:{tipo:ae.INSTANTANEA},duracao:{tipo:L.INSTANTANEA},alcance:{tipo:U.METRO,valor:10},descricao:"O evocador se mostra intimamente a todos os fiéis que estejam dentro do alcance. A magia faz as pessoas verem com clareza a sua causa, suas motivações. Pessoas com estas mesmas motivações terão grande simpatia pelo evocador, facilitando qualquer persuasão. A evocação é imperceptível.",nivel:1},{id:"1",evocacao:{tipo:ae.INSTANTANEA},duracao:{tipo:L.DIA,valor:1},alcance:{tipo:U.METRO,valor:5},descricao:"Permite ao evocador pedir pequenos favores aos fiéis (refeição, moradia, pequenos serviços, etc) sem ter que pagar por isso.",nivel:2},{id:"2",evocacao:{tipo:ae.RODADA,valor:10},duracao:{tipo:L.DIA,valor:1},alcance:{tipo:U.QUILOMETRO,valor:1},descricao:"Convoca 5 pessoas, em boas condições físicas e dispostas a lutar por sua causa, que estejam dentro do alcance da magia. Esta magia atinge primeiro as pessoas comuns (sem EH) e, na falta destas, completa o número necessário com indivíduos especiais (com EH).",nivel:4},{id:"3",evocacao:{tipo:ae.RODADA,valor:20},duracao:{tipo:L.DIA,valor:3},alcance:{tipo:U.QUILOMETRO,valor:2},descricao:"Idem à anterior, mas convoca até 10 pessoas.",nivel:6},{id:"4",evocacao:{tipo:ae.MINUTO,valor:10},duracao:{tipo:L.SEMANA,valor:1},alcance:{tipo:U.QUILOMETRO,valor:5},descricao:"Idem à anterior, mas convoca até 20 pessoas.",nivel:8},{id:"5",alcance:{tipo:U.QUILOMETRO,valor:10},evocacao:{tipo:ae.HORA,valor:1},duracao:{tipo:L.MES,valor:1},descricao:"Idem à anterior, mas convoca até 50 pessoas.",nivel:10}],descricao:`Este milagre permite ao evocador incitar magicamente criaturas de sua mesma religião a tomarem atitudes em favor da Igreja ou de seus Sacerdotes.

Inicialmente, só é possível se distinguir os fiéis da religião ou pedir pequenos favores, mas com os efeitos mais poderosos é possível se montar uma verdadeira guerra santa! Os indivíduos só são convocados caso não estejam fazendo nada essencial (médicos curando, guerreiros no meio da batalha, etc). Ao se completar o encanto, as pessoas convocadas se aproximam instintivamente do local onde está o Sacerdote. Embora a magia possa ser resistida, normalmente os fiéis não tentam resisti-Ia.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.VARIAVEL}},{id:ue.convocacaoAnimal,nome:"Convocação Animal",niveis:[{id:"0",descricao:"Convoca animais totalizando 6 estágios, mas o estágio máximo de cada animal é 2 ou pede um favor a um animal de estágio máximo 2.",nivel:1},{id:"1",descricao:"Convoca animais totalizando 12 estágios, mas o estágio máximo de cada animal é 4; ou pede um favor a um animal de estágio máximo 4.",nivel:2},{id:"2",descricao:"Convoca animais totalizando 18 estágios de animais, mas o estágio máximo de cada animal e 6; ou pede um favor a um animal de estágio máximo 6.",nivel:4},{id:"3",descricao:"Convoca animais totalizando 24 estágios de animais, mas o estágio máximo de cada animal é 8; ou pede um favor a um animal de estágio máximo 8.",nivel:6},{id:"4",descricao:"Convoca animais totalizando 30 estágios de animais, mas o estágio máximo de cada animal é 10; ou pede um favor a um animal de estágio máximo 10.",nivel:8},{id:"5",descricao:"Convoca animais totalizando 36 estágios de animais, mas o estágio máximo de cada animal é 12; ou pede um favor a um animal de estágio máximo 12.",nivel:10}],descricao:`Esse encanto possui dois efeitos. No primeiro o místico entra em comunhão com a natureza e convoca um grupo de animais, que ficarão à sua disposição para realizar uma tarefa especial (sempre algo demorado e/ou complexo). Esse efeito não pode ser evocado por um motivo simples sob pena de perder sua harmonia com a natureza, ficando assim, impossibilitado de usar encantos até redimir o seu erro. Também não pode sujeitar os animais a risco de vida, sob pena de mesma punição. O Mestre irá julgar se o motivo é digno e/ou se os animais estão em perigo. Caso julgue afirmativo, definirá a missão de retratação (só após cumprir essa missão, poderá evocar magia novamente).

São exemplos de tarefas para esse efeito:

- Ajudar o místico a encontrar sobreviventes após o terremoto;

- Ajudar na remoção dos feridos no incêndio;

- Encontrar a planta rara cujo chá cura a praga que assola a vila, etc.

O primeiro efeito desta magia tem evocação de 5 minutos e não dá direito à RM. O nível informará a quantidade de animais convocados de acordo com os estágios. A espécie convocada é de acordo com a região, e o Mestre dirá quais animais apareceram. É possível escolher a espécie que se queira convocar, mas é preciso que o místico tenha conhecimento que ela exista na redondeza (pode ser através de outra magia ou através de observação prévia do local). Caso o místico tenha solicitado espécies que não tenham ao alcance da magia, o Karma será gasto e os animais não aparecerão.

O segundo efeito desta magia tem evocação de 1 rodada e funciona como um favor que o animal presta ao evocador (uma tarefa simples e rápida). Assim que prestar o favor, o encanto acaba. Só convoca um animal e este tem direito a RM. A critério do Mestre, essa RM pode ser dispensada caso seja oferecido um agrado ao animal (troca de favores). Igual ao efeito anterior, não pode oferecer risco ao animal, e a espécie convocada deve existir na área da magia, caso contrário, o Karma é gasto e o animal não aparece.

Por exemplo: o místico está na beira de um rio e sua espada cai no fundo desse rio. Ele usa esse efeito e convoca um boto para buscá-la. A critério do Mestre, antes de evocar a magia, o evocador pode informar que oferecerá um peixe (alimento) para o boto trazer a espada, dispensando a RM. Mas caso não cumpra com o prometido, o Mestre deverá puni-lo com a perda dos poderes, precisando efetuar uma missão de redenção para recuperá-los (o Mestre dirá qual será).

Deverá ser escolhido apenas um efeito na hora de lançar a magia. Esta magia só pode ser evocada em ambiente natural.`,alcance:{tipo:U.QUILOMETRO,valor:7,isRaio:!0},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.VARIAVEL}},{id:ue.coordenacao,nome:"Coordenação",niveis:[{id:"0",descricao:"Concede +1 coluna de resolução para o sacerdote e seu grupo.",nivel:1},{id:"1",descricao:"Concede +1 coluna de resolução para o sacerdote e seu grupo e –1 coluna para todos os que os atacam.",nivel:2},{id:"2",descricao:"Concede +2 colunas de resolução para o sacerdote e seu grupo e –1 coluna para todos os que os atacam.",nivel:4},{id:"3",descricao:"Concede +2 colunas de resolução para o sacerdote e seu grupo e –2 colunas para todos os que os atacam.",nivel:6},{id:"4",descricao:"Concede +3 colunas de resolução para o sacerdote e seu grupo e –2 colunas para todos os que os atacam.",nivel:8},{id:"5",descricao:"Concede +3 colunas de resolução para o sacerdote e seu grupo e –3 colunas para todos os que os atacam.",nivel:10}],descricao:"Com este milagre, o sacerdote de Crisagom percebe rapidamente diversas condições que afetam a batalha como o aspecto geográfico e as condições climáticas que afetam a batalha, obtendo vantagem através disso, coordenando até 4 de seus companheiros, para um melhor posicionamento que torna o grupo como um todo mais poderoso ao passo que prejudicando o outro grupo. Esse milagre concede bônus nas colunas de resolução para o próprio sacerdote e para até mais 4 pessoas e prejudica todas aquelas que os atacam, sem direito a Resistência a Magia.",alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.RODADA,valor:15},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.corrente,nome:"Corrente",niveis:[{id:"0",duracao:{tipo:L.RODADA,valor:1},descricao:"Paralisa 1 ser.",nivel:1},{id:"1",duracao:{tipo:L.RODADA,valor:3},descricao:"Paralisa 1 ser",nivel:2},{id:"2",duracao:{tipo:L.RODADA,valor:6},descricao:"Paralisa 1 ser.",nivel:4},{id:"3",duracao:{tipo:L.RODADA,valor:6},descricao:"Paralisa 2 seres.",nivel:6},{id:"4",duracao:{tipo:L.RODADA,valor:10},descricao:"Paralisa 2 seres.",nivel:8},{id:"5",duracao:{tipo:L.RODADA,valor:10},descricao:"Paralisa 3 seres.",nivel:10}],descricao:`Com este milagre, o evocador cria uma força em forma de correntes mágicas que prendem a vítima, caso esta falhe em sua Resistência à Magia.

A magia prenderá o ser na posição que este estiver, permitindo apenas movimentos mínimos que seriam como se ele realmente estivesse acorrentado. A vítima da magia não pode lançar magias, usar habilidades que necessitem de movimentação de qualquer tipo ou atacar. Apesar disso, ele não está paralisado e continua consciente do que se passa à sua volta, portanto tem direito ao uso de sua Energia Heróica para resistir a golpes.`,extra:["Atacar alguém que esteja imobilizado pela Magia Correntes, ou deixar por omissão alguém faça isto, é um ato de covardia e é desaprovados por todos os deuses. Neste caso o sacerdote será punido por seu deus. O Mestre deve ficar atendo a este detalhe."],alcance:{tipo:U.METRO,valor:15},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.covardia,nome:"Covardia",niveis:[{id:"0",descricao:"Causa a perda de 4 pontos de EH.",nivel:1},{id:"1",descricao:"Causa a perda de 10 pontos de EH.",nivel:2},{id:"2",descricao:"Causa a perda de 20 pontos de EH.",nivel:3},{id:"3",descricao:"Causa a perda de 50 pontos de E.H.",nivel:5},{id:"4",descricao:"Causa a perda de 65 pontos de EH.",nivel:8},{id:"5",descricao:"Causa a perda de 85 pontos de EH.",nivel:10}],descricao:`Através dessa magia, o evocador tira o ânimo, a coragem e o heroísmo da vítima.

A pessoa atacada deve fazer sua Resistência à Magia, ou perder o número de pontos de EH indicado nos efeitos abaixo. Caso a vítima seja levada a 0 de EH por essa magia, ela fugirá apavorada por 5 rodadas. Caso a vítima não tenha EH, ela apenas correrá apavorada caso falhe em sua Resistência.`,alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.criacao,nome:"Criação",niveis:[{id:"0",dinheiro:{prata:3},descricao:"Cria 1 morto-vivo de estágio 1.",nivel:1},{id:"1",dinheiro:{prata:6},descricao:"Cria 1 morto-vivo de estágio 2.",nivel:2},{id:"2",dinheiro:{prata:9},descricao:"Cria 1 morto-vivo de estágio 3.",nivel:3},{id:"3",dinheiro:{prata:12},descricao:"Cria 1 morto-vivo de estágio 4.",nivel:4},{id:"4",dinheiro:{prata:15},descricao:"Cria 1 morto-vivo de estágio 5.",nivel:5},{id:"5",dinheiro:{ouro:2},descricao:"Cria 1 morto-vivo de estágio até 6.",nivel:6},{id:"6",dinheiro:{ouro:3},descricao:"Cria 1 morto-vivo de estágio até 7.",nivel:7},{id:"7",dinheiro:{ouro:4},descricao:"Cria 1 morto-vivo de estágio até 8.",nivel:8},{id:"8",dinheiro:{ouro:5},descricao:"Cria 1 morto-vivo de estágio até 9.",nivel:9},{id:"9",dinheiro:{ouro:7},descricao:"Cria 1 morto-vivo de estágio até 10.",nivel:10}],descricao:`Este encanto permite que o evocador crie um morto-vivo por meio de um complexo ritual. O tipo de morto-vivo criado depende da dificuldade do efeito usado. Para evocar este efeito, o necromante deve dispor de um corpo morto, que deverá ser de acordo com o tipo de morto-vivo que se deseja criar (ver descrição das criaturas mortos-vivos).

O nível da magia usada diz qual o estágio do morto-vivo a ser criado, assim, para criar um esqueleto, que possui nível 1, deve-se usar Criação 1. Caso o mago use Criação acima do necessário ele gastará os recursos do nível usado mas o morto-vivo não será mais poderoso.

O morto-vivo criado é completamente independente do seu criador e agirá de acordo com a sua natureza, o que geralmente implica em atacar o evocador. Se desejar dominar o morto-vivo, a magia Controle deve ser usada. Este feitiço pode ser evocado conjuntamente com Controle.`,alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.PERMANENTE},evocacao:{tipo:ae.RITUAL}},{id:ue.criptogramaMistico,nome:"Criptograma Místico ",niveis:[{id:"0",evocacao:{tipo:ae.RODADA,valor:3},descricao:"Faz um texto ou desenho em uma folha ficar invisível a olhos não treinados. Mesmo textos já escritos podem ser afetados por esta magia. Qualquer mago capaz de usar este nível sentirá, caso toque um material encantado por Criptograma Místico 1, que a magia está sendo usada. Para ler é preciso usar o mesmo.",nivel:1},{id:"1",evocacao:{tipo:ae.HORA,valor:1},dinheiro:{descricao:"1 moeda de ouro por pena"},descricao:"Com este nível é possível criar uma ou mais penas e tinta. O texto escrito com esse material poderá ser visto somente por aqueles que participaram do ritual, ninguém mais.",nivel:2},{id:"2",evocacao:{tipo:ae.VARIAVEL,outraDescricao:"Varia de 1 minuto para desenhos simples a 10 minutos para desenhos complexos"},descricao:"O mago consegue transmitir para o papel com perfeição qualquer imagem visualizada por ele. O usuário entra num estado de transe e seus dedos “desenham” na superfície do papel a imagem. Os detalhes, a cor e a nitidez do desenho vão depender do quão bem a imagem ficou gravada na memória do usuário.",nivel:4},{id:"3",evocacao:{tipo:ae.VARIAVEL,outraDescricao:"Varia de 1 minuto para desenhos simples a 10 minutos para desenhos complexos"},descricao:"Idem ao anterior mas o mago pode fazer um desenho extraído do subconsciente de outro ser, fazendo com que ele pense na figura que o evocador quer extrair. Para isso o mago toca com uma das mãos a cabeça do alvo e com a outra começa o desenho. O alvo pode resistir com um teste se resistência à magia se assim desejar e, caso falhe (ou concorde}, ambos entram em estado de transe e a mente do alvo ficará fixada nesta imagem até que o mago acabe o desenho.",nivel:6},{id:"4",dinheiro:{ouro:6},descricao:"Esse interessante ritual deve ser usado em um livro ou pergaminho que após confeccionado pode ao desejo do mago gravar magicamente, em suas folhas, toda a conversação realizada próxima a ele por um máximo de uma hora. Após este período o livro deverá ser encantado novamente. O livro capta palavras num raio de até 25 metros. As palavras serão escritas com a letra do conjurador e no sentido em que o mesmo entenderia essa conversa se estivesse presente. Existe uma cor para cada timbre de voz, sendo fácil uma visualização de quem diz cada frase.",nivel:8},{id:"5",dinheiro:{ouro:6},descricao:"Esse nível é um ritual conhecido como folhas gêmeas. Este nível permite encantar duas folhas de modo que, após o encantamento ao escrever em um deles, a outra ficará escritas da mesma forma, independente da distância que as duas folhas estiverem. Note que qualquer acidente com uma das folhas (fogo, água, tempo, sangue}, serão assimilados pelas outras.",nivel:10}],descricao:`Com este encanto os magos são capazes de criar ou enfeitiçar pergaminhos para enviar e receber informações com mais segurança.

Os Magos geralmente usam este feitiço para guardar os segredos de uma forma mais segura ou, em certos níveis, para espionar ou descobrir espiões. Alguns usam Criptograma Místico para escrever livros que somente ele e seus companheiros possam ler.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.ANO,valor:1},evocacao:{tipo:ae.VARIAVEL}},{id:ue.curasEspirituais,nome:"Curas Espirituais ",niveis:[{id:"0",descricao:"Cura 6 pontos de EH.",nivel:1},{id:"1",descricao:"Cura 14 pontos de EH.",nivel:2},{id:"2",descricao:"Cura 30 pontos de EH.",nivel:4},{id:"3",descricao:"Cura 50 pontos de EH.",nivel:6},{id:"4",descricao:"A força dessa magia não somente cura o heroísmo, como também expulsa espíritos estranhos do corpo do ser tocado. O espírito que esteja possuindo o corpo deve fazer uma Resistência a essa magia, se falhar será expulso. Além disso, está magia cura 75 pontos de EH.",nivel:8},{id:"5",descricao:"A força dessa magia não somente cura o heroísmo, como também expulsa espíritos estranhos do corpo do ser tocado. O espírito que esteja possuindo o corpo deve fazer uma Resistência a essa magia, se falhar será violentamente expulso, recebendo 50 pontos de dano. Além disso, esta magia Cura 100 pontos de EH do ser tocado.",nivel:10}],descricao:`Lutas mortais, fúria, medo, ferimentos... Diversas situações podem afetar o espírito dos aventureiros de maneira a aproximá-los da morte. Curas Espirituais é um bálsamo para a alma destes heróis cansados, renovando-os para a batalha.

Esse milagre recupera imediatamente a EH do ser tocado. Uma cura, que levaria horas ou dias se faz em um instante. O processo, ainda assim, é apenas uma recuperação, pontos de cura que levem a EH acima do máximo da criatura curada são perdidos.

Nos níveis mais altos este milagre é capaz de se afetar espíritos estranhos no corpo do ser tocado, ou seja, agem como um exorcismo. O espírito que esteja possuindo o corpo deve fazer uma Resistência a magia contra o nível usado, se falhar será expulso ou destruído.

Como o alcance da magia é o toque, se faz necessário que o sacerdote e a pessoa a ser curada permaneçam completamente imóveis durante as duas rodadas de evocação do milagre.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.RODADA,valor:2}},{id:ue.curasFisicas,nome:"Curas Físicas ",niveis:[{id:"0",descricao:"Cura 2 pontos de dano na EF.",nivel:1},{id:"1",descricao:"Cura 7 pontos de dano na EF.",nivel:3},{id:"2",descricao:"Cura 12 pontos de dano na EF.",nivel:5},{id:"3",descricao:"Cura 25 pontos de dano na EF.",nivel:7},{id:"4",descricao:"Cura 45 pontos de dano na EF.",nivel:9}],descricao:`Esta magia cura instantaneamente ferimentos, reparando total ou parcialmente qualquer dano na EF do favorecido com o milagre. A quantidade de dano que é restaurada depende do Efeito utilizado.

Note que a EF de uma criatura não pode ultrapassar o máximo que esta pessoa tem.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.PERMANENTE},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.curasHeroicas,nome:"Curas Heróicas ",niveis:[{id:"0",nivel:1,descricao:"Cura um valor máximo de 16 pontos de EH."},{id:"1",nivel:2,descricao:"Cura um valor máximo de 24 pontos de EH."},{id:"2",nivel:4,descricao:"Cura um valor máximo de 36 pontos de EH."},{id:"3",nivel:6,descricao:"Cura um valor máximo de 48 pontos de EH."},{id:"4",nivel:8,descricao:"Cura um valor máximo de 64 pontos de EH."},{id:"5",nivel:10,descricao:"Cura um valor máximo de 80 pontos de EH."}],descricao:`Durante os combates, o heroísmo dos lutadores é facilmente abatido. O cansaço e a perda de confiança são mortais em certos casos.

Esse milagre recupera imediatamente a EH do ser tocado. Uma cura, que levaria horas ou dias, se faz em um instante. O processo, ainda assim, é apenas uma recuperação. Pontos de cura que levem a EH acima do máximo da criatura curada são perdidos.

Para efetuar a cura, o sacerdote deverá fazer uma rolagem na coluna do nível que possuir na magia. De acordo com o resultado obtido na rolagem, certa quantia de EH será curada. A quantidade recuperada será dada pela fração conseguida na rolagem (exatamente como são aplicados os danos}, ou seja, se um efeito é capaz de curar um valor máximo de 24 pontos de EH, isso quer dizer que as frações de recuperação de acordo com a rolagem serão as seguintes: 100% = 24, 75% = 18, 50% = 12 e 25% = 6. Caso o alvo não queira ser curado joga-se resistência à magia e usam-se os resultados da tabela normalmente. Um resultado crítico (cor cinza) será contado como critico de magia podendo curar mais que o descrito no efeito. Em caso de erro ou falha (branco e verde) nenhum ponto de EH é recuperado.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}}]})(zg||(zg={}));var Ng;(t=>{t.lista=[{id:ue.dadivasDaGuerra,nome:"Dádivas da Guerra",niveis:[{id:"0",descricao:"Idem ao anterior, mas também pode escolher: Combate com Escudo, Mira ou Golpe Letal.",nivel:2},{id:"1",descricao:"Idem ao anterior, mas a duração é de um combate e pode ser escolhido: Leitura da Batalha, Escolta ou Dano Agravado.",nivel:4},{id:"2",descricao:"Idem ao anterior, mas também o sacerdote pode usar um aprimoramento na técnica escolhida ou usar um aprimoramento para uma técnica que já possua. A partir desse nível, é possível escolher a intervenção divina: o sacerdote pede ajuda ao Deus, e apenas ele será beneficiado.",nivel:6},{id:"3",descricao:"Idem ao anterior, mas a duração é de 1 hora OU o sacerdote pede ajuda ao Deus que beneficiará ele e um companheiro.",nivel:8},{id:"4",descricao:"Idem ao anterior, mas a duração é de 1 dia OU o sacerdote pede ajuda ao Deus que beneficiará o grupo todo.",nivel:10}],descricao:`Este encanto permite que sacerdotes de Blator, Crisagom e Crezir recebam de seus respectivos Deuses dádivas para usar em combate. Nos níveis mais baixos, as dádivas são autorizações temporárias para usar técnicas de combate permitidas apenas a Guerreiros e Ladinos. Nos níveis mais altos, o Deus também concede um auxílio direto ao sacerdote (intervenção divina).

O efeito de utilizar as técnicas de combate pode ser usado normalmente como qualquer milagre. Mas o efeito de intervenção divina somente pode ser evocado em situações críticas de combate, desfavorável ao sacerdote. A ajuda direta do Deus será específica para o momento, não poderá ferir diretamente os adversários, não garante vitória e só pode ser evocada 1 vez por dia (o efeito de usar técnicas de combate pode ser evocadas quantas vezes quiser por dia). O Mestre é quem irá definir como será essa ajuda e se o momento permite a evocação. Assim que a crise terminar, todas as alterações feitas pela magia retrocederão. Exemplos de momentos críticos e assistência divina:

- o sacerdote enfrenta um dragão, evoca a magia, e o Deus concede uma proteção extra na armadura contra fogo;

- o sacerdote enfrenta uma horda de mortos-vivos, evoca a magia, e o Deus concede um dano maior na arma usada contra as criaturas;

- o grupo do sacerdote está encurralado por gigantes e mais gigantes se aproximam pela ponte. Evoca a magia, e o Deus envia um raio para destruir a ponte.

Após evocar três vezes o efeito da intervenção divina, independente do intervalo de dias, será necessário recompensar a assistência (evocar o efeito de usar as técnicas de combate não requer retribuição, é livre, apenas a ajuda direta do Deus que precisa). O Deus mandará um enviado menor até o sacerdote para explicar como será. O Mestre deverá usar esse gancho para uma próxima aventura ou incluir essa história durante a campanha. Caso não faça, o sacerdote fica impossibilitado de usar a magia novamente, inclusive para o efeito das técnicas de combate. Prolongando-se o não pagamento da dívida, o sacerdote pode ser considerado desertor da Ordem e a divindade pode inibir o direito de o sacerdote usar magia. São exemplos de retribuições:

- Fazer a arrecadação e escoltar as doações da Igreja até a Ordem;

- Encontrar o objeto sagrado roubado do templo;

- Encontrar o assassino que está matando os fiéis;

- Mediar a paz junto a algum grupo em conflito com o rebanho, etc.

Enfim, o Mestre deverá usar de criatividade para criar e incluir a aventura. Lembrando que não são tarefas simples: o sacerdote tem que ser merecedor da dádiva divina, logo, a aventura tem que estar à altura.

A partir do nível 6, o evocador escolherá apenas um efeito na hora de lançar a magia.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA},extra:["Por se tratar de magia, as restrições de Imperícia e Intermitência não se aplicam. É possível escolher técnicas com aprimoramentos a partir do nível 6 em diante porque a magia permite.","O total na técnica de combate será igual a Força de Ataque (FA) da magia."]},{id:ue.dardosDeGelo,nome:"Dardos de Gelo",niveis:[{id:"0",descricao:"Cada dardo tem 8 de dano máximo;",nivel:1},{id:"1",descricao:"Cada dardo tem 16 de dano máximo;",nivel:3},{id:"2",descricao:"Cada dardo tem 20 de dano máximo;",nivel:5},{id:"3",descricao:"Cada dardo tem 24 de dano máximo;",nivel:7},{id:"4",descricao:"Cada dardo tem 32 de dano máximo;",nivel:9}],descricao:`Este feitiço cria 3 dardos pontiagudos de gelo no ar, os quais imediatamente se lançam às vítimas escolhidas pelo evocador. Caso mais de um dardo seja direcionado contra o mesmo alvo, o dano máximo é aumentado em 4 pontos por dardo.

Por exemplo, se um mago evocar o efeito 1, ele pode laçar 3 dardos com dano máximo 8 contra três alvos, ou dois dardos contra dois alvos onde um dardo tem dano máximo 8 e outro tem dano máximo 12, ou 1 único dardo com dano máximo 16. O dano máximo de cada dardo é determinado pelo efeito que está sendo usado.

Após atingir (ou não) o inimigo o dardo se fragmenta, derrete rapidamente e em seguida toda a água desaparece. Todo esse processo demora uma rodada (daí a Duração do feitiço).`,alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.RODADA,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.degeneracaoFisica,nome:"Degeneração Física",niveis:[{id:"0",descricao:"Causa um efeito menor (como tremores, tosses, irritações, coceiras, etc) sem efeito prático, mas que impressiona o homem comum. A duração é de 10 rodadas.",nivel:1},{id:"1",descricao:"Uma dor profunda impede que a vitima aja durante a primeira rodada do efeito. Depois disso, ela passa a ter um ajuste de -2 colunas (como já foi dito antes) por um dia.",nivel:3},{id:"2",descricao:"Idem à anterior, mas o ajuste é de -4 colunas e a duração é de 5 dias.",nivel:5},{id:"3",descricao:"Idem à anterior, mas o ajuste é de -7 colunas e a duração é de uma semana.",nivel:7},{id:"4",descricao:"A vítima é duramente castigada por este efeito; antes de mais nada, ela fica sem ação por uma rodada, além de receber 5 pontos de dano na EF. Logo depois, vem o ajuste de -7 colunas. Por fim, a vítima deve permanecer em repouso total durante uma semana para se curar, caso contrário a duração é de um mês.",nivel:9}],descricao:`Esta praga é usada normalmente para punições exemplares. A dor causada por esta magia impede a vítima de agir normalmente até o final da duração (normalmente longa).

Caso a vítima do feitiço falhe em sua Resistência à Magia, ela sentirá dores tão fortes que terá penalidades para todas as Habilidades e para o combate.`,alcance:{tipo:U.METRO,valor:15},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.desertificacao,nome:"Desertificação",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:15,isRaio:!0},descricao:"Reduz a vida vegetal em 25% da área.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:35,isRaio:!0},descricao:"Reduz a vida vegetal em 50%, fazendo com que desapareçam todos os frutos e raízes comestíveis da área.",nivel:3},{id:"2",alcance:{tipo:U.METRO,valor:75,isRaio:!0},descricao:"Destrói todas as árvores frutíferas e raízes comestíveis, deixando somente as plantas resistentes como cactos e outras semelhantes da área.",nivel:5},{id:"3",alcance:{tipo:U.METRO,valor:150,isRaio:!0},descricao:"Destrói toda a vida vegetal na área de efeito.",nivel:7},{id:"4",alcance:{tipo:U.METRO,valor:300,isRaio:!0},descricao:"Idem ao anterior, mas além disso destrói o solo deixando-o infértil e arenoso..",nivel:9}],descricao:`Esta magia cria uma energia degenerativa que destrói a vida vegetal de uma área tornando-a deserta. A ação desta magia é imediata, após a evocação ser concretizada a vida vegetal começa a morrer em um ritmo muito acelerado se estendendo até o alcance máximo da magia. Quanto mais poderosa a magia, maior será a área do efeito e mais catastrófica será a desertificação.

Esta magia é perigosa podendo causar sérios danos á natureza, sendo por esse motivo, usada em ultima instancia pelos Naturalistas.

È possível diminuir o raio de abrangência da desertificação conforme a vontade do evocador.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.PERMANENTE},evocacao:{tipo:ae.RODADA,valor:10}},{id:ue.desintegracao,nome:"Desintegração",niveis:[{id:"0",alcance:{tipo:U.METRO,valor:5},descricao:"Afeta minerais cujas dimensões máximas sejam 10cm x 10cm x 10cm.",nivel:1},{id:"1",alcance:{tipo:U.METRO,valor:10},descricao:"Afeta minerais cujas dimensões máximas sejam 50cm x 50cm x 50cm.",nivel:2},{id:"2",alcance:{tipo:U.METRO,valor:20},descricao:"Afeta minerais cujas dimensões máximas sejam 1m x 1m x 1m, e vegetais cujas dimensões máximas sejam 10cm x 10cm x 10cm. O mago pode afetar até 2 objetos e/ou criaturas diferentes.",nivel:4},{id:"3",alcance:{tipo:U.METRO,valor:30},descricao:"Afeta minerais cujas dimensões máximas sejam 2m x 2m x 2m, e vegetais cujas dimensões máximas sejam 50cm x 50cm x 50cm. A partir deste nível o usuário tem um controle melhor sobre sua magia, ele pode “desenhar” com sua desintegração, como se estivesse desenhando com as mãos. (usa-se o nível na habilidade “Arte” em desenho). O mago pode afetar até 3 objetos e/ou criaturas diferentes.",nivel:6},{id:"4",alcance:{tipo:U.METRO,valor:40},descricao:"Afeta minerais cujas dimensões máximas sejam 3m x 3m x 3m, vegetais cujas dimensões máximas sejam 1m x 1m x 1m e animais cujas dimensões máximas sejam 20cm x 20cm x 20cm. O mago pode afetar 4 objetos/criaturas diferentes.",nivel:8},{id:"5",alcance:{tipo:U.METRO,valor:50},descricao:"Afeta minerais, cujas dimensões máximas sejam 4m x 4m x 4m, vegetais cujas dimensões máximas sejam 2m x 2m x 2m, e animais cujas dimensões máximas sejam 60cm x 60cm x60cm. O mago pode afetar 5 objetos/criaturas diferentes.",nivel:10}],descricao:`Esta magia destrói as forças de coesão da matéria transformando objetos ou criaturas em uma tênue nuvem (a matéria dispersada).

Este encanto é muito eficiente contra objetos, mas qualquer ser com aura é dificilmente atingido por ele. Mesmo os vegetais, têm mana suficiente para atrapalhar o encanto. Qualquer criatura viva tem o direito a um teste de Resistência à Magia para escapar de seus efeitos. Minerais e vegetais mortos (madeira) não têm esse direito.

Uma criatura só pode ser atingida por este encanto, se toda a sua aura for ameaçada, ou seja, o efeito deve ser grande o suficiente para atingir todo o corpo da vítima, ou a magia falha.

Objetos, porém, podem ser desintegrados parcialmente (uma parede pode ser destruída aos poucos).

Os efeitos indicam o tipo de material que pode ser atingido, as dimensões e volumes, a quantidade de alvos afetados de uma vez e seu alcance.

Alguns efeitos desta magia permitem que o mago desintegre vários objetos e/ou criaturas com apenas uma evocação, basta que a soma dos volumes (dimensões}, e a quantidade de objetos afetados não ultrapasse o total que o nível da magia suporta. Outra limitação é que o(s) objeto(s) afetado(s) deve(m) estar no campo de visão do mago.

Ex: Um mago deseja fugir de determinado local e para isso quer desintegrar duas tochas presas à parede que iluminam a sala onde está. Ele opta por usar o nível 6 do feitiço Desintegração e as tochas se desfazem imediatamente.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.deslocamentoNatural,nome:"Deslocamento Natural",niveis:[{id:"0",duracao:{tipo:L.MINUTO,valor:10},descricao:"Elimina as penalidades para terrenos pouco acidentados como chão pedregoso, matas mediamente fechadas, areia da orla de uma praia ou ladeiras com inclinação de até 20 graus.",nivel:1},{id:"1",duracao:{tipo:L.HORA,valor:2},descricao:"Idem ao anterior.",nivel:3},{id:"2",duracao:{tipo:L.HORA,valor:2},descricao:"Elimina as penalidades para terrenos muito acidentados (mas possível a travessia) como pântanos, dunas de um deserto, matas muito fechadas, mangues ou ladeiras com inclinação de até 40 graus.",nivel:5},{id:"3",duracao:{tipo:L.HORA,valor:6},descricao:"Idem ao anterior, mas permite andar em neve muito fofa.",nivel:7},{id:"4",duracao:{tipo:L.HORA,valor:12},descricao:"Elimina as penalidades para terrenos absurdamente acidentados e de acesso quase impossível como se deslocar durante um terremoto forte, areias movediças ou ladeiras com inclinação de até 60 graus.",nivel:9}],descricao:`Esse encanto permite ao místico sobrepujar as adversidades de terrenos naturais possibilitando se locomover normalmente em ambiente de difícil acesso como pântanos, areia fofa, matas fechadas, etc.

Funciona inibindo as penalidades de movimentação de tais áreas. Assim, o evocador se deslocará como se estivesse caminhando normalmente. A duração e o tipo de terreno irão depender do nível utilizado.

A inibição da penalidade do terreno também se estenderá caso o místico necessite entrar em combate. Lembrando que essa magia é de uso pessoal, e não se aplica a deslocamento montado ou combate montado.

Note que os efeitos desse encanto se aplicam somente enquanto o evocador estiver “se deslocando” e, durante esse deslocamento, necessite lutar. A critério do Mestre, ele poderá estender a outras situações julgadas no momento, como o uso de alguma habilidade, por exemplo. Mas de antemão, essa magia atua apenas para as duas situações iniciais.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA},extra:['Para a correta aplicação das penalidades do terreno, recomenda-se que o Mestre consulte o capítulo 4 do Livro de Regras (Combate}, em específico os sub tópicos "Ataques em Situações Vantajosas" e "Clima e Terreno". Esta magia não esconde o rastro deixado. Esta magia só funciona em ambientes naturais.']},{id:ue.despistamento,nome:"Despistamento",niveis:[{id:"0",duracao:{tipo:L.HORA,valor:1},descricao:"Para perceber que a trilha é falsa é preciso atingir 1 nível de dificuldade a mais que seria necessário para detectar a trilha verdadeira; mas apenas se perceber que a trilha é falsa, poderá fazer um novo teste para rastrear a verdadeira.",nivel:1},{id:"1",duracao:{tipo:L.HORA,valor:1},descricao:"Idem anterior, mas aumenta em 2 níveis de dificuldade para detectar que a trilha é falsa.",nivel:2},{id:"2",duracao:{tipo:L.HORA,valor:3},descricao:"Idem anterior, mas aumenta em 3 níveis de dificuldade para detectar que a trilha é falsa.",nivel:4},{id:"3",duracao:{tipo:L.HORA,valor:6},descricao:"Idem anterior, mas, mesmo que a trilha falsa seja detectada, aumenta em 1 nível a dificuldade de rastreamento da trilha verdadeira. Concede um redutor de 1 nível de dificuldade em Manusear Armadilha.",nivel:6},{id:"4",duracao:{tipo:L.HORA,valor:12},descricao:"Idem anterior, mas aumenta em 4 níveis de dificuldade para detectar que a trilha é falsa. Se ela for percebida mesmo assim, dificulta em 2 níveis para se rastrear a trilha verdadeira. Concede um redutor de 2 níveis de dificuldade em Manusear Armadilha.",nivel:8},{id:"5",duracao:{tipo:L.HORA,valor:24},descricao:"Idem anterior, mas o efeito aumenta em 5 níveis de dificuldade para detectar se a trilha é falsa, se ela for percebida mesmo assim, dificulta em 3 níveis para se rastrear a trilha verdadeira. Concede um redutor de 3 níveis de dificuldade em Manusear Armadilha.",nivel:10}],descricao:`Essa magia cria uma trilha falsa a partir do ponto que o evocador conjurar a magia. A direção apontada será decidida pelo místico no momento da criação, e não poderá mais ser alterada. Esta magia tem como restrição o uso em ambientes naturais ou em terrenos de terra mesmo que sejam não naturais (como ruas em cidades).

A magia não terá efeito caso o perseguidor esteja fazendo contato visual com o evocador (note que o encanto não faz com que o místico fique invisível, apenas cria uma trilha falsa). O tempo em que o perseguidor gastará seguindo a trilha falsa varia de acordo com o nível da magia.

A trilha criada é exatamente igual à que o evocador produziria mesmo estando acompanhado, não importando quantos estejam com ele, e sempre parecerá que foi feita a pouco tempo. O perseguidor deve conseguir passar no teste de seguir trilhas indicado em cada efeito para encontrar qualquer pista. Após a duração do efeito, o perseguidor terá chegado no fim da trilha e perceberá que foi enganado.

A partir do nível 6, caso o evocador tenha tempo para preparar e queira capturar o perseguidor, a magia possibilitará redução na dificuldade da habilidade Manusear Armadilhas.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1},extra:["Esta magia só tem efeito em ambientes naturais."]},{id:ue.destrezaAnimal,nome:"Destreza Animal",niveis:[{id:"0",duracao:{tipo:L.RODADA,valor:2},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, com - 4 colunas e reduzindo 2 níveis.",nivel:1},{id:"1",duracao:{tipo:L.RODADA,valor:4},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo -2 colunas e reduzindo 2 níveis.",nivel:3},{id:"2",duracao:{tipo:L.RODADA,valor:6},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo 2 níveis.",nivel:5},{id:"3",duracao:{tipo:L.RODADA,valor:8},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, com -4 colunas reduzindo 1 nível.",nivel:7},{id:"4",duracao:{tipo:L.RODADA,valor:10},descricao:"O usuário pode realizar um segundo golpe no mesmo ataque, reduzindo 1 nível.",nivel:9}],descricao:`Esta magia imbui no corpo do evocador a agilidade comum em animais, podendo então realizar um segundo ataque seguido do primeiro na mesma rodada. Esta magia pode ser evocada durante o combate sem contar como uma ação, mas deve ser declarada antes do rolamento dos dados do primeiro ataque. Este segundo ataque só pode ser usado se estiver usando armas de corpo-a-corpo.

O primeiro golpe é rolado normalmente, o segundo golpe realizado com a mesma arma é veloz porém menos potente, reduzindo assim colunas e níveis do resultado obtido. Resultado mínimo sempre é Branco, mesmo que a redução seja maior ou mesmo que seja falha (neste segundo ataque}, mas caso o primeiro ataque seja uma Falha Crítica a magia é perdida e o segundo ataque não acontece.

Devido a ligação da magia com a natureza, caso o evocador esteja a mais de uma semana fora de ambientes naturais, esta magia não poderá mais ser evocada. Será necessário se passar 1 dia em um ambiente natural para que esta magia possa ser evocada novamente.

Exemplo: O personagem ataca um oponente na coluna 10. Ao usar Destreza Animal 3, o segundo golpe se dá na coluna 8 (Destreza Animal 3 reduz duas colunas no ataque). Ao rolar o dado ele tira vermelho (75%}, mas como o efeito reduz 2 níveis, ele obtêm 25% de dano no segundo ataque.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA},extra:["Na rodada que esta magia é evocada não é permitido que o personagem evoque ou tenha evocado outra magia. Nas rodadas subsequentes na qual a magia continua fazendo efeito esta restrição não se aplica e o personagem pode evocar outras magias normalmente."]},{id:ue.deteccaoDeMagia,nome:"Detecção de Magia",niveis:[{id:"0",descricao:"Detecta magia em 1 local, objeto ou ser tocado pelo evocador. Se for mágico indica o nível de detecção que deve ser usado de acordo com o que se deseja saber.",nivel:1},{id:"1",descricao:"Detecta magia em 1 local, objeto ou ser a até 2,5 metros do evocador ou revela o menor poder de um objeto (de nível 2 ou menor) e tudo que é necessário para fazer uso deste.",nivel:2},{id:"2",descricao:"Detecta magia em tudo que estiver em 1 área de 5 metros do evocador ou revela dois poderes (de nível 4 ou menor) de um objeto e tudo que é necessário para fazer uso destes.",nivel:4},{id:"3",descricao:"Idem ao 4, mas permite saber a natureza da magia (arcana, divina, demoníaca, natural, profana, sagrada, titânica). No caso de seres, é possível também saber se este foi vítima do encanto ou se a ligação é de uma fonte como um item mágico (observe que neste caso os focus normais são incluídos como itens mágicos). A opção de revelação de poderes é para até 3 poderes de nível 6 ou menor.",nivel:6},{id:"4",descricao:"Detecta todas as magias ao alcance de visão do evocador e permite saber qual especialização fez a magia e a força da magia (nível dela) ou revela todos os poderes (de nível 8 ou menor) de um objeto e tudo que é necessário para fazer uso destes.",nivel:8},{id:"5",descricao:"Detecta todos os poderes de um objeto e tudo que é necessário para fazer uso destes.",nivel:10}],descricao:`Este encanto permite ao evocador detectar e fazer uma leitura da presença de magias ou auras mágicas que estejam em locais, objetos e/ou seres. Além disso, dependendo do nível, é possível revelar como os objetos encantados e/ou mágicos funcionam e quais são as suas propriedades.

Ao utilizar este encanto, uma luz é emanada e sinaliza onde existe a presença de magia e/ou auras mágicas em operação, desde que esta esteja até 5 metros do místico. Nos níveis mais avançados o evocador começa a detectar informações mais profundas ao invés de simplesmente a presença.

Caso a magia entre em contato com um ser de aura própria, este tem direito a efetuar um teste de RM, caso passe, a magia não conseguirá detectar a presença de auras agindo sobre o ser e nem a de qualquer objeto encantado ou mágico que este esteja portando.

As informações obtidas serão sempre a do encanto mais forte (de maior nível) sobre cada alvo. Outro ponto importante de se ressaltar é que cada aura brilha de uma forma diferente, assim sendo, se uma sala tem magia em toda ela e um objeto mágico no meio, a sala brilhará em um tom e o objeto em outro, possibilitando assim identificar os alvos que possuem magia.

Os efeitos de detectar possuem evocação instantânea, mas caso o evocador opte pelo efeito de revelar a evocação é ritual.`,alcance:{tipo:U.METRO,valor:5},duracao:{tipo:L.RODADA,valor:1},evocacao:{tipo:ae.VARIAVEL},extra:["Caso o evocador use a magia com o mesmo efeito mais de uma vez sobre um objeto, a mesma detecção ou revelação será obtida, mesmo que o objeto possua outras informações."]},{id:ue.detectarIntencao,nome:"Detectar Intenção",niveis:[{id:"0",descricao:"Permite saber se a vítima tem alguma intenção em relação ao evocador.",nivel:1},{id:"1",descricao:`Permite saber, caso a vítima tenha alguma intenção no evocador, de saber algo a respeito da intenção. Poderão ser 5 as respostas da magia:
Muito ruim - desfavorece muito o evocador. Exemplo: coloca em perigo a vida do evocador
Ruim - desfavorece o evocador. Exemplo: deseja o mau e/ou tenta manipular
Neutra - não desfavorece nem favorece o evocador. Exemplo: um jogo político que favorece os dois lados, troca de favores
Boa - favorece o evocador . Exemplo: deseja o bem do evocador / oferece favor sem receber nada em troca
Não aplicável - algo que não favorece nem desfavorece necessariamente um ou outro. Exemplo: A pessoa está apaixonada pelo evocador`,nivel:2},{id:"2",descricao:"Idem ao anterior, mas vale para todos aqueles acompanhados pelo evocador.",nivel:4},{id:"3",descricao:"Permite saber se a vítima tem alguma intenção sobre alguém mencionado pelo evocador.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas permite saber alguns detalhes da intenção (o Mestre decide o que revelar).",nivel:8},{id:"5",descricao:"Permite saber com precisão qual é a intenção da vítima sobre qualquer pessoa citada pelo evocador ou próxima a ele no espaço físico, incluindo o próprio.",nivel:10}],descricao:`Com este encanto, o evocador pode detectar fortes intenções que uma pessoa possa ter em relação ao evocador, nos níveis iniciais, ou alguma pessoa mencionada pelo evocador. Essa magia só pode ser evocada em uma conversa entre a vítima e o evocador da magia. A evocação é totalmente discreta e imperceptível por meios normais.

Intenções fracas não são podem ser detectadas (exemplo de fraca intenção: vou ficar perto do taverneiro pra ver se eu consigo um pouco de vinho).

Muito ruim - desfavorece muito o evocador. Exemplo: coloca em perigo a vida do evocador

Ruim - desfavorece o evocador. Exemplo: deseja o mau e/ou tenta manipular

Neutra - não desfavorece nem favorece o evocador. Exemplo: um jogo político que favorece os dois lados, troca de favores

Boa - favorece o evocador . Exemplo deseja o bem do evocador / oferece favor sem receber nada em troca

Não aplicável - algo que não favorece nem desfavorece necessariamente um ou outro. Exemplo: A pessoa está apaixonada pelo evocador`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.RODADA,valor:3},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.distracao,nome:"Distração",niveis:[{id:"0",descricao:"Permite atrair a atenção das pessoas em locais muito movimentados como festivais e celebrações.",nivel:1},{id:"1",descricao:"Permite atrair a atenção das pessoas em locais bem movimentados, como um porto durante o dia.",nivel:3},{id:"2",descricao:"Permite atrair a atenção das pessoas em locais de mediana movimentação, como uma cidade pequena ou vila.",nivel:5},{id:"3",descricao:"Permite atrair a atenção das pessoas em locais de pouca movimentação, como uma cidade ou vila à noite.",nivel:7},{id:"4",descricao:"Permite atrair a atenção das pessoas em locais onde quase não há movimentação, como um deserto.",nivel:9}],descricao:`Com a magia distração, o evocador é capaz de chamar rapidamente a atenção das pessoas em sua volta para onde quer que queira, de forma a ganhar tempo para fazer uma ação. Nos níveis iniciais apenas se consegue atrair para locais aonde há maior facilidade de dispersão, mas conforme o nível aumenta, as possibilidades se ampliam.

Ao evocar a magia, o evocador escolhe alguma coisa para atrair a atenção das pessoas; caso as pessoas não passem na Resistência à Magia elas irão obrigatoriamente olhar para o objeto indicado pelo evocador. Caso passem, elas não serão obrigadas a olhar, mas mesmo assim ficarão curiosas para ver. O efeito prático disso é que o evocador ganhará a iniciativa para que possa tomar alguma ação, como esconder, correr, furtar entre outras possibilidades. Quanto mais movimentado for o local, mais fácil será para tirar a atenção de si (um festival oferece bem mais oportunidades de distração do que um deserto).`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.doencas,nome:"Doenças",niveis:[{id:"0",descricao:"Conjuntivite. Esta doença afeta os olhos, embaçando a visão e causando um pouco de dor. Causa um Ajuste de -2 colunas de resolução para Percepções que envolvam visão e para ataques com armas de lançamento (arcos, atirar facas, etc). O tempo de cura é de 3 dias.",nivel:1},{id:"1",descricao:"Gripe. Esta virose causa dores pelo corpo e impede esforço prolongado. A vítima recebe um Ajuste de -3 para combate ou habilidades que exijam esforço físico. O tempo de cura é de 7 dias.",nivel:3},{id:"2",descricao:"Hemofilia. O sangue da vítima perde a sua capacidade de coagulação. Caso o doente receba dano na EF, ele perderá 2 pontos de EF por hora até estar morto ou o sangramento ser estancado com o uso de Curas Físicas. O tempo de cura é de 10 dias.",nivel:5},{id:"3",descricao:"Febre. A vitima é acometida de febre alta e perda de coordenação motora. Isto implica em um Ajuste de -7 para o uso de combates, habilidades e feitiços. O tempo de cura é de 7 dias.",nivel:7},{id:"4",descricao:"Febre amarela. Causa febre, tremores e coloração amarela pela pele. Isto implica em um Ajuste de -7 para o uso de combates, habilidades e feitiços. A cada rodada a penalidade aumenta 2 pontos (-9, -11,-13..). Após 5 rodadas o doente fica impedido de realizar qualquer esforço físico e não pode realizar qualquer tarefa delicada. O tempo de cura é de duas semanas. Caso a doença não seja tratada até 2 dias após a contaminação (com ou sem o uso de magia) a doença se agrava e vitima faz (a cada hora) uma Resistência Física contra uma força de ataque 10. Em caso de falha, a vítima morre.",nivel:10}],descricao:`Este feitiço, infecta um adversário com uma doença. A magia está apenas no modo em que a doença contamina a vítima. Ou seja, a doença não pode ser retirada quebrando-se o encanto. A vítima tem direito a uma Resistência a Magia. Caso passe, o encanto não tem nenhum Efeito.

Os tempos de cura das doenças são indicados nos efeitos (o uso de magia pode abreviá-los). Note que a doença infecta a vítima imediatamente como se ela já estivesse em estágio avançado. Por isso, o tempo de cura contará corno o tempo que a doença leva para se curar a partir do momento da falha na Resistência à Magia. Todos os ajustes causados pelas doenças são recebidos imediatamente.`,alcance:{tipo:U.METRO,valor:30},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.dominacaoAnimal,nome:"Dominação Animal",niveis:[{id:"0",descricao:"Acalma ou espanta até 1 animal de estágio 3 ou menor.",nivel:1},{id:"1",descricao:"Acalma ou espanta até 2 animais de estágio 5 ou menor.",nivel:2},{id:"2",descricao:"Acalma ou espanta até 3 animais de estágio 7 ou menor OU 1 Animal Gigante de estágio 3 ou menor.",nivel:4},{id:"3",descricao:"Acalma ou espanta até 4 animais de estágio 9 ou menor OU até 2 Animais Gigantes ou Místicos Irracionais de estágio 5 ou menor.",nivel:6},{id:"4",descricao:"Acalma ou espanta até 5 animais de estágio 11 ou menor OU até 3 Animais Gigantes ou Místicos Irracionais de estágio 7 ou menor.",nivel:8},{id:"5",descricao:"Acalma ou espanta até 6 animais de estágio 14 ou menor OU até 4 Animais Gigantes ou Místicos Irracionais de estágio 9 ou menor.",nivel:10}],descricao:`DominaçãoAnimal

Com esta magia o rastreador é capaz de acalmar ou espantar animais que falharem no teste de Resistência a Magia e que possam ouvir ou ver os movimentos de dominação do místico. O nível utilizado vai definir o tipo e a quantidade de animais afetados. Enquanto durar o efeito, a dificuldade nos testes de habilidade do evocador em lidar com aquele(s) animal(is) será reduzida em 1. É importante notar que qualquer ataque a um animal dominado resultará na quebra da magia e um provável castigo de Nil.`,alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.HORA,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:ue.dominio,nome:"Domínio",niveis:[{id:"0",descricao:"Afeta até 4 Estágios de Elementais Menores.",nivel:1,duracao:{tipo:L.DIA,valor:1}},{id:"1",descricao:"Afeta até 8 Estágios de Elementais Fracos ou menos.",nivel:3,duracao:{tipo:L.DIA,valor:3}},{id:"2",descricao:"Afeta até 16 Estágios de Elementais Médios ou menos.",nivel:5,duracao:{tipo:L.DIA,valor:5}},{id:"3",descricao:"Afeta até 26 Estágios de Elementais Médios ou menos.",nivel:7,duracao:{tipo:L.DIA,valor:7}},{id:"4",descricao:"Afeta até 36 Estágios de Elementais Fortes ou menos.",nivel:9,duracao:{tipo:L.DIA,valor:10}}],descricao:`A magia Domínio põe sob o controle de seu evocador um ou mais elementais, caso os mesmos falhem em suas Resistências à Magia. A quantidade de elementais e qual o tipo mais poderoso passível de ser afetado dependem do Efeito utilizado.

Cada Efeito desta magia pode afetar apenas um número máximo de Estágios. Caso exista elementais dentro do alcance (de um tipo que possa ser afetado - ver abaixo) cuja soma dos Estágios seja superior ao número de Estágios que o Efeito usado tem condições de afetar, os mais fracos são afetados primeiro.

Além disso cada Efeito pode afetar apenas elementais de certo tipo ou menos. Elementais de tipo superior ao que o efeito pode afetar ignoram o feitiço (em compensação, eles não contam para o número máximo de Estágios que podem ser afetados).

Esta magia afetará elementais de qualquer origem (fogo, ar, água ou terra}, desde que estes possam ser afetados pelo efeito utilizado.

Cada Elemental que o evocador tenta dominar recebe uma Resistência à Magia. Os que obtiverem sucesso não serão afetados. Além disso, eles geralmente passam a ver o evocador como uma ameaça e atacarão o mesmo em preferência a todos os outros adversários.

Elementais que falhem em suas Resistências à Magia passam a servir o evocador com o melhor de suas capacidades pela Duração do efeito. Eles obedecerão todos os comandos do evocador fielmente. O evocador não precisa se concentrar para que os elementais o obedeçam.

Ao final do tempo de dominação o Elemental adquirirá imunidade a magia “Domínio” do evocador que o dominou, por isso, este mesmo Elemental não poderá ser dominado novamente por este evocador até retornar a seu plano. O tempo em que os elementais permanecem dominados, varia com o efeito usado.`,alcance:{tipo:U.METRO,valor:30},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.dominioMental,nome:"Domínio Mental",niveis:[{id:"0",descricao:"Permite controlar uma criatura de até 2º estágio, o alvo pode se afastar no máximo 20 metros do evocador.",nivel:1,duracao:{tipo:L.RODADA,valor:5}},{id:"1",descricao:"Permite controlar uma criatura de até 3º estágio, os alvos podem se afastar no máximo 20 metros do evocador.",nivel:2,duracao:{tipo:L.RODADA,valor:10}},{id:"2",descricao:"Permite controlar duas criaturas até um total de 5 estágios, os alvos podem se afastar no máximo 50 metros do evocador.",nivel:3,duracao:{tipo:L.RODADA,valor:15}},{id:"3",descricao:"Permite controlar duas criaturas até um total de 7 estágios, os alvos podem se afastar no máximo 100 metros do evocador.",nivel:5,duracao:{tipo:L.RODADA,valor:20}},{id:"4",descricao:"Permite controlar duas criaturas até um total de 10 estágios, os alvos podem se afastar no máximo 200 metros do evocador.",nivel:7,duracao:{tipo:L.RODADA,valor:20}},{id:"5",descricao:"Permite controlar três criaturas até um total de 12 estágios, os alvos podem se afastar no máximo 500 metros do evocador.",nivel:9,duracao:{tipo:L.MINUTO,valor:30}},{id:"6",descricao:"Permite controlar três criaturas até um total de 15 estágios, os alvos podem se afastar no máximo 1 km do evocador.",nivel:10,duracao:{tipo:L.HORA,valor:1}}],descricao:`Com este encanto o mago é capaz de controlar a vontade de seres inteligentes que tenham falhado no seu teste de Resistência a Magia. Os seres controlados obedecerão a todas as ordens dadas pelo evocador com o máximo de suas capacidades, desde que estas não sejam postas em perigo (pelo menos não claramente) ou que sejam ordenados a fazerem coisas contra sua índole. Caso isto ocorra a vítima terá direito a um segundo teste de resistência para não cumprir esta ordem. Esta magia não afeta mortos-vivos e criaturas de outros planos (demônios, enviados, plantores, etc).

O mago tem que falar a mesma língua do ser enfeitiçado, se não ele não saberá como obedecer, pois não entenderá as ordens. Veja que esta magia domina a mente, mas não é possível ter acesso as memórias da vítima, ou seja, o ser enfeitiçado obedecerá a qualquer ordem, para fazer algo, que pode ser uma ação simples (andar, pegar um objeto, ficar parada, ect}, combater e até mesmo fazer uma magia (que o mago saiba que ela sabe fazer). Domínio mental anula a consciência da pessoa, impedindo que se peça para que ela revele qualquer informação que ela saiba.

Ao contrário da magia Amizade, após o termino da magia a vítima sempre terá consciência de que foi enfeitiçada, o que normalmente fará que ela odeie o mago. Caso seja forçada a fazer algo contra sua índole ela passará a ter um ódio mortal contra o mago, passando então a fazer de tudo para matar o mago.

A quantidade de seres e de estágios afetados, a duração do domínio e o alcance dependem do nível de encanto utilizado.`,alcance:{tipo:U.METRO,valor:3},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.dominioNatural,nome:"Domínio Natural",niveis:[{id:"0",descricao:"Obriga um Plantor Soldado ou mais fraco a realizar uma missão para o evocador.",nivel:1},{id:"1",descricao:"Obriga um Plantor Mensageiro à servidão.",nivel:2},{id:"2",descricao:"Obriga um Plantor Conselheiro a realizar uma missão para o evocador.",nivel:3},{id:"3",descricao:"Obriga um Plantor Soldado à servidão.",nivel:5},{id:"4",descricao:"Obriga um Plantor Líder a realizar uma missão para o evocador.",nivel:7},{id:"5",descricao:"Obriga um Plantor Conselheiro à servidão.",nivel:9}],descricao:`Esta magia obriga um (1) Plantor à servidão ou a prestar um serviço para o evocador. O poder do Plantor dominado e o tempo que ele permanece a serviço do evocador variam com a dificuldade do Efeito usado.

Cada vez que o evocador desejar controlar um Plantor, ele deverá evocar este feitiço sobre o mesmo. Caso o ser resista à magia não será dominado e se possível irá atacar o evocador. Caso falhe será dominado.

Existem dois tipos de dominação: a servidão e o serviço. A servidão transforma o Plantor em um servo do evocador até que seu tempo de estadia no mundo físico se esgote. Durante este tempo, o Plantor sempre obedecerá o evocador servindo-o com o melhor de suas capacidades. Um evocador pode ter no máximo dois Plantares servindo-o ao mesmo tempo, sob quaisquer circunstâncias.

O serviço obriga o Plantor a realizar uma tarefa e então ficará livre para viver no mundo físico até que seu tempo de estadia neste se esgote. O evocador deve dar instruções ao Plantor sobre como realizar a Missão, e o ser vai então cumpri-la. Caso a missão demore mais de uma semana o Plantor fica livre após este período. Um evocador pode ter no máximo cinco Plantores prestando serviços para si ao mesmo tempo.

Um mesmo Plantor não pode ser dominado duas vezes pelo mesmo evocador, em outras palavras ele ganha imunidade ao encanto deste mago. Mas nada impede que outro evocador domine este mesmo Plantor.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}}]})(Ng||(Ng={}));var Fg;(t=>{t.lista=[{id:ue.elementalDaAgua,nome:"Elemental da Água",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura Elemental Menor da Água.",nivel:1},{id:"1",dinheiro:{ouro:3},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura Elemental da Água fraco.",nivel:3},{id:"2",dinheiro:{ouro:5},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura Elemental da Água médio.",nivel:5},{id:"3",dinheiro:{ouro:7},duracao:{tipo:L.DIA,valor:5},descricao:"Conjura Elemental da Água médio.",nivel:7},{id:"4",dinheiro:{ouro:9},duracao:{tipo:L.DIA,valor:5},descricao:"Conjura Elemental da Água forte.",nivel:9}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental da água. A execução do feitiço exige que haja a menos de 5 metros do evocador uma quantidade de água proporcional à força do Elemental conjurado (uma poça d'água para um Elemental menor, um caldeirão de água para um Elemental fraco, etc).

O Elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador. Quando a Duração do encanto chegar ao fim, este fica livre e volta imediatamente para o Plano Elemental da Água. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades, é claro). Ao terminar as suas missões, ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e que no local haja a quantidade necessária de água. No momento em que a criatura aparece o evocador escolhe se haverá ou não sacrifício. O sacrifício toma a forma de um rubi cujo valor varia com a força do elemental (sem pechinchas). Caso o evocador resolva fazer o sacrifício, ele então deve rolar uma Persuasão Rotineira. Caso obtenha sucesso, o elemental realizará duas missões para o místico. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício ele ainda pode tentar forçar o elemental a servi-lo. O Elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o místico). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.elementalDaTerra,nome:"Elemental da Terra",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura um Elemental. Menor da Terra.",nivel:1},{id:"1",dinheiro:{ouro:3},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura um Elemental da Terra fraco.",nivel:3},{id:"2",dinheiro:{ouro:5},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura um Elemental da Terra médio.",nivel:5},{id:"3",dinheiro:{ouro:7},duracao:{tipo:L.DIA,valor:5},descricao:"Conjura um Elemental da Terra médio.",nivel:7}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental da Terra. Este feitiço pode ser conjurado apenas em terra firme. A evocação desta magia em lugares fechados pode provocar dano nas estruturas do local.

O elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador. Quando a Duração do encanto chega ao fim, o elemental fica livre e volta imediatamente para o Plano Elemental da Terra. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades, é claro). Ao terminar as suas missões ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e que no local haja a quantidade necessária de terra. No momento em que a criatura aparece, o evocador escolhe se haverá ou não sacrifício. O sacrifício toma a forma de um rubi cujo valor varia com a força do elemental (sem pechinchas). Caso o evocador resolva fazer o sacrifício ele deve rolar uma Persuasão Rotineira. Caso obtenha sucesso, o elemental realizará duas missões para o místico. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício, ele ainda pode tentar forçar o elemental a servi-lo. O elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o evocador). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.

Elemental, da Terra 9: Conjura um Elemental da Terra forte por 5 dias. O rubi custa 9 moedas de ouro.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.elementalDoAr,nome:"Elemental do Ar",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura Elemental Menor do Ar.",nivel:1},{id:"1",dinheiro:{ouro:3},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura Elemental do Ar fraco.",nivel:3},{id:"2",dinheiro:{ouro:5},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura Elemental do Ar médio.",nivel:5},{id:"3",dinheiro:{ouro:7},duracao:{tipo:L.DIA,valor:5},descricao:"Conjura Elemental do Ar médio.",nivel:7},{id:"4",dinheiro:{ouro:9},duracao:{tipo:L.DIA,valor:5},descricao:"Conjura Elemental do Ar forte.",nivel:9}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental do ar. O ritual necessário à evocação deste feitiço pode ser executado apenas ao ar livre.

O elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador. Quando a Duração do encanto chega ao fim, o elemental fica livre e volta imediatamente para o Plano Elemental do Ar. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades). Ao terminar as suas missões, ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e seja ao ar livre. No momento em que a criatura aparece, o evocador escolhe se haverá ou não sacrifício. O sacrifício torna a forma de um diamante transparente cujo valor varia com a força do elemental (sem pechinchas). Se o evocador resolver fazer o sacrifício, ele deve então tentar uma Persuasão Rotineira. Caso obtenha sucesso, o elemental realizará duas missões para o mesmo. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício ele ainda pode tentar forçar o elemental a servi-lo. O Elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o evocador). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.elementalDoFogo,nome:"Elemental do Fogo",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura um Elemental Menor do Fogo.",nivel:1},{id:"1",dinheiro:{ouro:3},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura um Elemental do Fogo fraco.",nivel:3},{id:"2",dinheiro:{ouro:5},duracao:{tipo:L.DIA,valor:1},descricao:"Conjura um Elemental do Fogo médio por 1 dia. O rubi custa 5 moedas de ouro.",nivel:5},{id:"3",dinheiro:{ouro:7},duracao:{tipo:L.DIA,valor:5},descricao:"Conjura um Elemental do Fogo médio.",nivel:7},{id:"4",dinheiro:{ouro:9},duracao:{tipo:L.DIA,valor:5},descricao:"Conjura um Elemental do Fogo forte.",nivel:9}],descricao:`Este encanto permite que o evocador conjure e tente obter a servidão de uma criatura oriunda do plano elemental do fogo. A execução do feitiço exige que haja a menos de 5 metros de evocador uma quantidade de fogo proporcional à força do Elemental conjurado (um braseiro para um Elemental menor, uma pequena fogueira para um Elemental fraco, etc).

O Elemental pode ser convencido ou forçado a cumprir uma ou mais missões para o evocador, Quando a Duração do encanto chega ao fim, o Elemental fica livre e volta imediatamente para o Plano Elemental do Fogo. A criatura dará o máximo de si e irá até onde for necessário para cumprir a sua missão (dentro das suas possibilidades). Ao terminar as suas missões ele retoma imediatamente ao seu plano.

O ser conjurado aparece no local escolhido pelo evocador desde que este local esteja a menos de 5 metros do mesmo e que no local haja a quantidade necessária de fogo. No momento em, que a criatura aparece, o evocador escolhe se haverá ou não sacrifício. O sacrifício torna a forma de um rubi cujo valor varia com a força do elemental (sem pechinchas). Caso o místico resolva fazer o sacrifício, ele deve rolar uma Persuasão Rotineira. Caso obtenha sucesso o elemental realizará duas missões para o místico. Se o evocador falhar em sua Persuasão ou decidir não fazer sacrifício ele ainda pode tentar forçar o elemental a servi-lo. O elemental faz uma Resistência à Magia e, caso falhe, é obrigado a aceitar uma missão imposta pelo evocador. Caso resista, ele volta para casa após 5 rodadas (as quais ele gasta tentando matar o evocador). Os materiais necessários à evocação deste feitiço custam 5 moedas de prata.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:ue.eloAnimal,nome:"Elo Animal",niveis:[{id:"0",duracao:{tipo:L.DIA,valor:1},descricao:"Cria um elo temporário ou permanente com um animal de Estágio 3 ou menos. O elo temporário tem duração de 1 dia.",nivel:1},{id:"1",duracao:{tipo:L.MINUTO,valor:30},alcance:{tipo:U.METRO,valor:15},descricao:"Permite que o evocador se comunique e peça um favor para 1 animal. O animal obedecerá com a melhor de suas capacidades, mas não correrá nenhum risco de vida pelo evocador.",nivel:2},{id:"2",duracao:{tipo:L.DIA,valor:3},descricao:"Cria um elo temporário ou permanente com até 2 animais de Estágio 7 ou menos. O elo temporário tem duração de 3 dias.",nivel:4},{id:"3",duracao:{tipo:L.DIA,valor:5},descricao:"Cria um elo temporário ou permanente com até 3 animais de Estágio 11 ou menos. O elo temporário tem duração de 5 dias.",nivel:6},{id:"4",duracao:{tipo:L.DIA,valor:7},descricao:"Cria um elo temporário ou permanente com até 3 animais de Estágio 15 ou menos. O elo temporário tem duração de 7 dias.",nivel:8},{id:"5",evocacao:{tipo:ae.RITUAL},alcance:{tipo:U.QUILOMETRO,valor:5},descricao:"Permite comunicar-se com todos os animais de pequeno porte de um ambiente natural. Este feitiço dura enquanto o evocador tenha a posse do talismã (ver texto) e esteja em ambientes naturais. Nenhuma Resistência à Magia é necessária (o sucesso é automático).",nivel:10}],descricao:`Este encanto permite que o místico se comunique com os animais, podendo também transmitir suas emoções, de maneira que construa um elo empático entre si mesmo e um ser de inteligência animal.

O animal submetido a este feitiço tem direito a uma Resistência à Magia; caso obtenha sucesso, recusará a aliança. Esta magia não mais poderá ser usada nesse animal durante o período de um dia. Os animais que não passarem no teste de Resistência à Magia ficarão dóceis em relação ao evocador.

Conforme o efeito usado, o místico pode pedir um favor, um elo temporário (1 rodada de evocação) ou um elo permanente (ritual curto de uma hora, mas que custa 1 M.O por nível do efeito). Qualquer que seja o caso, deverá haver ajuda e proteção mútua; portanto, causar problemas ao animal com que se firmou um pacto para tirar proveito disso (por exemplo: mandar o animal na frente para que as armadilhas caiam nele, mandar o animal para a morte para poder arranjar alianças com animais melhores etc.}, é uma ofensa gravíssima que deverá ser punida com extremo rigor pelo Mestre.

Os efeitos deste feitiço permitem que o místico receba informações do animal e transmita ordens, mesmo à distância (desde que o animal não esteja a mais de 5 Km de distância). O animal obedecerá às ordens do místico com o máximo de suas capacidades. É importante lembrar que a inteligência do animal é pequena, tornando a comunicação muito limitada. As conversas devem se restringir a conceitos muito simples (4 palavras ou menos) e sensações muito rudimentares como: Imagens, impressões táteis, odores, sabores e/ou sons, podendo ser tanto transmitidos quanto recebidas; contudo, para isso, o místico deve manter-se em concentração absoluta.

Caso o evocador use este encanto para criar um elo com Duração permanente em um animal, este elo perdurará até que um dos dois morra (ou seja, este efeito não pode ser dissolvido). O evocador pode criar até 3 elos permanentes com animais. Note que se o animal morrer por culpa exclusiva do evocador, este ficará atordoado por 3 horas e perderá seus poderes, recuperando-os somente quando tiver cumprido uma missão para se redimir.

O último nível deste encanto é um ritual que permite ao místico se comunicar com todos os animais de pequeno porte de uma área natural de 5 km ao seu redor. Animais de pequeno porte são aqueles que são pequenos demais sequer para terem Estágio (esquilos, passarinhos etc.). Os animais passam a se comunicar com o místico contando-o tudo que acontece e existe na área, o efeito disso é que o místico não pode ser pego desprevenido e passa a ter total compreensão do território, podendo até mesmo encontrar locais secretos. O místico por sua vez se sente na obrigação de retribuir a ajuda, fazendo tudo o possível para proteger os animais e a natureza. O ritual deve ser feito em ambiente natural e é necessário que o evocador confeccione um talismã antes do ritual. O talismã servirá para ativar o efeito. O evocador poderá carregá-lo e usá-lo quando estiver em ambientes naturais, seu efeito ficará ativo enquanto ele estiver em tais ambientes. Se o talismã for roubado e o evocador não conseguir recuperá-lo, poderá fazer outro ritual que anulará o primeiro.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.VARIAVEL}},{id:ue.eloEmpatico,nome:"Elo Empático",niveis:[{id:"0",dinheiro:{prata:5},descricao:"A magia cria um elo entre duas pessoas. as partes saberão se uma das partes envolvidas estão em grande perigo ou em grande sofrimento.",nivel:1},{id:"1",dinheiro:{ouro:1},descricao:"As partes saberão a distância que os separa, obtendo as seguintes respostas: muito perto (até 1km}, perto (de 1 a 10 km}, médio (de 10 a 100km}, longe (de 100 a 1.000km}, muito longe (mais que 1.000km}, além de saber a direção nos pontos cardeais: Norte, Sul, Leste ou Oeste, a magia pode criar um elo com até 4 pessoas.",nivel:2},{id:"2",dinheiro:{ouro:2},descricao:"Uma vez por semana, todas as partes terão um sonho em comum, onde poderão conversar normalmente, nenhuma delas terá como prever quando será o sonho. Obviamente para que o sonho possa ocorrer é necessário que as partes estejam dormindo ao mesmo tempo, a magia pode criar um elo com até 6 pessoas.",nivel:4},{id:"3",dinheiro:{ouro:4},descricao:"Uma vez por dia, as partes poderão por 30 minutos verem uns aos outros, nesse caso eles podem escolher quando farão isso. Eles terão uma imagem dinâmica um do outro, olhando por cima, como se estivessem a uns 10 metros de distância acima, apenas as partes afetadas pela magia podem ver a imagem. Nenhum deles tem como saber se o outro está observando. Os 30 minutos devem ser utilizados uma única vez (ou seja, não se pode ver a imagem durante 20 minutos e depois ver mais 10 minutos) e aquele que convocar essa imagem, deverá estar em estado de meditação, longe de grandes barulhos e completamente alheio ao que acontece ao seu redor. Qualquer coisa que desperte sua atenção, fará com que a imagem se perca, a magia pode criar um elo com até 8 pessoas.",nivel:6},{id:"4",dinheiro:{ouro:8},descricao:"Idem ao anterior, mas os 30 minutos para ver a outra parte não precisa ser utilizado de uma única vez, podendo ser divididos em várias vezes, desde que cada uma delas tenham um mínimo de 1 minuto, a magia pode criar um elo com até 10 pessoas.",nivel:8},{id:"5",descricao:"As partes poderão, durante 5 minutos por dia, entrar em contato com quem desejar. Para que isso funcione, o que deseja entrar em contato deve adentrar em estado de meditação profunda e depois de 5 minutos nesse estado, o evocador consegue enviar uma projeção sua para perto de quem deseja contatar ou para um grupo que esteja sobre o efeito da magia. O corpo do evocador fica em estado de animação suspensa, completamente indefeso e vulnerável, sem ter nenhuma ideia do que está acontecendo com o seu corpo real, e projetado para perto da(s) outra(s) parte(s}, poderá ver, ouvir e cheirar tudo o que acontece próximo ao(s) outro(s). Para o(s) que recebe(m}, este lhe parecerá como uma imagem translúcida, sendo que apenas ele(s) poderá(ão) ver, ouvir e cheirar a projeção, nenhuma outra pessoa poderá ver. Sob essa forma, eles podem conversar livremente, mas não há como um tocar no outro. O que evocou a projeção poderá se manter assim em até 5 minutos, depois disso a projeção simplesmente desaparece. Observe que os 5 minutos valem para ambos; ou seja, não pode uma pessoa enviar sua projeção e depois no mesmo dia a outra parte enviar; apenas um enviará e se manterá assim por 5 minutos. Caso a projeção seja atacada, ela irá se desfazer e aquele que enviou deverá fazer uma Resistência à Magia contra força de Ataque 5: caso passe nada lhe ocorrerá, mas caso não passe sofrerá o golpe em sua forma espiritual que resultara o dano na Energia Heroica. A magia pode criar um elo com até 12 pessoas.",nivel:10}],descricao:`Conhecido como a benção de Lena, o milagre Elo Empático é utilizado em pessoas que mantenham relações sexuais, ou entre um empregador e seus subordinados que firmem um contrato de trabalho, seja fixo como trabalhar no exército do reino; ou temporário, uma missão até uma caverna matar um dragão e resgatar a princesa. O milagre faz com que haja uma elo sobrenatural entre as partes, que permite saber coisas acerca das pessoas mesmo à maior distância.

Este é um milagre que também é utilizado em cavaleiros reais e suas esposas, uma vez que estando sempre longe um do outro, através desse milagre é possível saber algo sobre o outro.

Para que o milagre funcione é necessário que cada uma das partes possua algum objeto imbuído com a aura do outro, ou algo que tenha vindo diretamente do corpo dele como cabelos e unhas. São necessários sacrifícios para esse ritual com o valor mostrado nos níveis. Observe que os efeitos são cumulativos, assim as partes com Elo Empático 4 terá os efeitos do nível 4, do nível 2 e do nível 1.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.ANO,valor:1},evocacao:{tipo:ae.RITUAL}},{id:ue.empatia,nome:"Empatia",niveis:[{id:"0",descricao:"Permite perceber os sentimentos de 1 pessoa.",nivel:1},{id:"1",descricao:"Permite perceber os sentimentos de 3 pessoas.",nivel:3},{id:"2",descricao:"Permite perceber e influenciar os sentimentos de pessoa.",nivel:5},{id:"3",descricao:"Permite perceber e influenciar os sentimentos de 3 pessoas.",nivel:7},{id:"4",descricao:"Permite perceber e influenciar os sentimentos de 7 pessoas.",nivel:9}],descricao:`Este encantamento permite que o evocador crie um elo empático com o ser em quem o feitiço for usado, podendo assim perceber quais os sentimentos deste ser e, caso possua o efeito adequado, criar ou reduzir certos sentimentos nesta pessoa.

Caso a vítima faça a sua Resistência à Magia, o evocador não só não pode perceber nem influenciar os sentimentos da criatura, como o ser também fica extremamente mal disposto em relação ao místico, dando +2 Níveis de Dificuldade para quaisquer tentativas de Empatia, Persuasão e Negociação e impossibilitando o uso da Habilidade Liderança por uma semana.

Caso o evocador possa perceber os sentimentos da vítima, ele pode manipulá-la muito mais facilmente. Os usos das Habilidades Empatia, Persuasão e Negociação serão 1 Nível de Dificuldade menores. Ou seja, Absurdo vira Muito Difícil, Fácil se toma Rotineiro, etc. Além disso, ele ganhará um ajuste de +5 para o seu total na Habilidade Liderança enquanto o feitiço durar.

Se, além de perceber os sentimentos da vítima, o evocador também puder manipulá-los magicamente, fica extremamente fácil influenciar esta criatura. Os usos das Habilidades Empatia, Persuasão e Negociação serão 2 Níveis de Dificuldade menores. Ou seja, Absurdo vira Difícil, Fácil se torna Rotineiro, etc. Além disso, ele ganhará um ajuste de +10 para o seu total na Habilidade Liderança enquanto o feitiço durar.

Note que, após o elo empático ser criado, ele permanece em efeito durante a duração total da magia. O evocador, no entanto, só pode perceber ou alterar os sentimentos da vítima quando esta estiver dentro do alcance. Também é conveniente notar que a vítima é escolhida no momento em que o feitiço é evocado e não pode ser mudada depois. Em outras palavras, depois que a(s) vítima(s) foi escolhida, o evocador pode afetar apenas esta vítima(s) (a não ser, é claro, que ele evoque a magia novamente em vítimas diferentes).`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.HORA,valor:1},evocacao:{tipo:ae.RODADA,valor:1}},{id:ue.encantamento,nome:"Encantamento",niveis:[{id:"0",duracao:{tipo:L.DIA,valor:3},descricao:"Encanta um objeto comum com 1 magia de nível 1 que só poderá ser evocada 1 vez por dia.",nivel:1},{id:"1",descricao:"Encanta um objeto comum com 1 magia de nível máximo 2 que poderá ser evocada até 2 vezes por dia, a duração do encantamento é de 1 semana.",nivel:2},{id:"2",descricao:"Encanta um objeto comum com 1 magia de nível máximo 3 que poderá ser evocada até 3 vezes por dia, a duração do encantamento é de 2 semanas.",nivel:4},{id:"3",descricao:"Encanta um cetro menor com 1 magia de nível máximo 4, a duração do encantamento é de 1 mês.",nivel:6},{id:"4",descricao:"Encanta um cetro maior com 2 magias de nível máximo 6, a duração do encantamento é de 6 meses.",nivel:8},{id:"5",descricao:"Encanta um cajado comum com 3 magias de nível máximo 8, a duração do encantamento é de 1 ano e 1 dia.",nivel:10}],descricao:`Com esta magia o mago alquímico poderá imbuir uma ou mais magias á um “objeto comum”, “Cetros” ou “Cajados”. Dentre os objetos que podem ser encantados os que mais se familiarizam com essa recepção são os cetros e cajados, sendo também os mais difíceis de serem encantados.

Este ritual não tem a capacidade de transformar objetos comuns em mágicos, ele apenas encanta um objeto fazendo com que este seja capaz de portar uma ou mais magias a escolha do evocador. Os “objetos comuns” são mais fácies de serem encantados, mas as magias atribuídas a eles são de pouco poder e além disso impõem um limite de vezes por dia (dado pelo efeito) para serem usados.

Os “objetos comuns” podem ser qualquer coisa, no entanto os magos alquímicos dão preferência a jóias (anéis, colares, brincos) ou a itens comuns no dia a dia de aventuras como (armas, armaduras, instrumentos musicais etc.)

Os cetros e cajados usados nesta magia devem ser feitos por encomenda, pois é necessário que eles portem gemas que serão recipientes de magias. O numero de gemas dos cetros e cajados serão iguais ao numero de matrizes de poder destes objetos. O valor mínimo de cada gema está em torno de 3 moedas de ouro e devem ser pagas separadamente. Os parâmetros de uso dos cetros e cajados encantados por esta magia serão os mesmos dos usados nos cetros e cajados mágicos, assim como o número de matrizes de poder (ver capítulo 8 do Manual de Regras).

Qualquer “objeto comum” encantado por esta magia portará somente uma magia, enquanto que os cetros e cajados poderão conter duas e três magias, respectivamente.

O mago só poderá encantar objetos com magias que ele conheça, ou magias que estejam assimilas através do encanto “Assimilação”. Para encantar um objeto com um efeito assimilado, é preciso que o tempo da assimilação dure até o final da duração do ritual de Encantamento.

Note que é impossível encantar objetos com magias cujo tempo de evocação seja “ritual”. O tipo de objeto que poderá ser encantado, o tempo de duração do encantamento, e o nível da magia que poderá ser colocada, variam com o nível.

Os materiais necessários para a evocação desta magia são de 15 moedas de prata por nível de dificuldade. Um mesmo mago não pode manter mais de três itens encantados em um mesmo período de tempo com este ritual.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:"101",nome:"Encolhimento",niveis:[{id:"0",descricao:"Diminui para 90% do tamanho original, objetos cujas dimensões máximas sejam 50cm x 50cm x 50cm. A duração da magia é de 30 minutos.",nivel:1},{id:"1",descricao:"Diminui para 75% do tamanho original, objetos cujas dimensões máximas sejam 1m x 1m x 1m, ou criaturas cujas dimensões máximas sejam 10cm x 10cm x 10cm. A duração da magia é de 1 hora.",nivel:3},{id:"2",descricao:"Diminui para 50% do tamanho original, objetos cujas dimensões máximas sejam 2m x 2m x 2m, ou criaturas cujas dimensões máximas sejam 50cm x 50cm x 50cm. A duração da magia é de 6 horas.",nivel:5},{id:"3",descricao:"Diminui para 10% do tamanho original, objetos cujas dimensões máximas sejam 4m x 4m x 4m, ou criaturas cujas dimensões máximas sejam 1m x 1m x 1m. A duração da magia é de 12 horas.",nivel:7},{id:"4",descricao:"Diminui para 1% do tamanho original, objetos cujas dimensões máximas sejam 8m x 8m x 8m, ou criaturas cujas dimensões máximas sejam 2m x 2m x 2m. A duração da magia é de 1 dia.",nivel:9}],descricao:`Com esta magia o mago alquímico poderá encolher um objeto ou criatura desde que estes correspondam aos requisitos da magia.

Objetos tendem a ser mais fácies de serem encolhidos por possuírem uma composição mais simples do que os corpos dos animais. Cada efeito da magia poderá encolher um objeto ou criatura até certo valor. Não é possível usar o mesmo efeito desta magia mais de uma vez sobre um objeto ou criatura para reduzi-los a um tamanho menor do que o normal. Caso isso seja feito o karma será gasto e nenhum efeito será conseguido.

Caso o mago utilize um efeito mais poderoso da magia sobre um objeto ou criatura que já esteja diminuído, o encanto mais fraco será quebrado e o efeito mais poderoso prevalecerá. Note que o efeito mais poderoso diminuirá o objeto ou criatura, tomando como base o tamanho real da criatura, e não o seu tamanho já reduzido. Ou seja, se uma espada que esteja sobre o efeito da magia Encolhimento 1, for alvo do efeito de Encolhimento 5. Esta será reduzida a metade de seu tamanho original e não do tamanho que tinha quando estava sobre o efeito de Encolhimento 1.

A criatura que for Encolhida por esta magia, terá a EF reduzida na mesma proporção da diminuição de seu corpo (a critério do mestre do jogo) considerando, no entanto, o valor mínimo como (1). “Um guerreiro de energia física 18 que tenha sido encolhido para 1% do tamanho original, terá energia física 1.”

No entanto sua EH permanece intacta e sua VB só pode ser reduzida no máximo até a metade.

Para que seja possível encolher um objeto ou criatura, é necessário que seu tamanho original caiba dentro das dimensões indicadas no efeito usado.

O efeito indica o volume, o tipo de composição do alvo a ser Encolhido e a duração da magia.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}},{id:"102",nome:"Esconjuração",niveis:[{id:"0",descricao:"Expulsa 4 Estágios,",nivel:1},{id:"1",descricao:"Expulsa 8 Estágios.",nivel:2},{id:"2",descricao:"Expulsa 12 Estágios.",nivel:3},{id:"3",descricao:"Expulsa 16 Estágios.",nivel:4},{id:"4",descricao:"Expulsa 20 Estágios.",nivel:5},{id:"5",descricao:"Expulsa 24 Estágios. Caso sejam criaturas de Estágio 1 ou menos, elas não são expulsas, mas sim destruídas.",nivel:6},{id:"6",descricao:"Expulsa 28 Estágios. Caso sejam criaturas de Estágio 1 ou menos, elas não são expulsas, mas sim destruídas.",nivel:7},{id:"7",descricao:"Expulsa 32 Estágios. Caso sejam criaturas de Estágio 2 ou menos, elas não são expulsas, mas sim destruídas.",nivel:8},{id:"8",descricao:"Expulsa 36 Estágios. Caso sejam criaturas de Estágio 2 ou menos, elas não são expulsas, mas sim destruídas.",nivel:9},{id:"9",descricao:"Expulsa 40 Estágios. Caso sejam criaturas de Estágio 3 ou menos, elas não são expulsas, mas sim destruídas.",nivel:10}],descricao:`Esse feitiço canaliza forças positivas para derrotar mortos-vivos e Demônios. Caso um destes falhe em resistir a essa magia, ele será imediatamente forçado a fugir do evocador por um dia, como que possuído por um pânico terrível. Se o efeito usado for muito poderoso, é possível até mesmo destruir o corpo físico da criatura.

A magia afeta criaturas que estejam dentro do alcance (a menos de 20 metros do evocador) até certo número total de Estágios. Isto significa que somam-se os Estágios dos oponentes até atingir o limite da magia. Se uma vítima tem mais Estágios que o que ""sobrou"" do poder da magia, ela está a salvo, pois não pode ser parcialmente afetada. Ela começa afetando os seres mais fracos primeiro (menor Estágio) para então atingir os mais fortes.

Note que todo ser afetado por Esconjuração deixa imediatamente de ser controlado (se estava antes}, sendo liberto de magias como Controle ou Controle Demoníaco.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.DIA,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:"103",nome:"Escrita",niveis:[{id:"0",descricao:"Reduz em 1 o nível de dificuldade da habilidade escrita.",nivel:1},{id:"1",descricao:"Reduz em 2 o nível de dificuldade da habilidade escrita.",nivel:3},{id:"2",descricao:"Reduz em 3 o nível de dificuldade da habilidade escrita.",nivel:5},{id:"3",descricao:"Reduz em 4 o nível de dificuldade da habilidade escrita.",nivel:7},{id:"4",descricao:"Reduz em 5 o nível de dificuldade da habilidade escrita ou torna Muito Difícil algo que seria Impossível.",nivel:9}],descricao:"Utilizando-se inúmeras vezes de cartas, sejam de amor, repletas de poesias, ou mensagens, com inúmeros termos formais, algumas pessoas podem desenvolver sua técnica da escrita, conseguindo escrever e ler textos mais rebuscados ou poesias de maior densidade e com maior clareza. Na prática, ao utilizar a magia escrita, o evocador poderá reduzir os níveis de dificuldade da habilidade escrita. Observe que a magia afeta unicamente uma única língua escolhida pelo evocador.",alcance:{tipo:U.PESSOAL},duracao:{tipo:L.USO,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:"104",nome:"Escrituras Místicas",niveis:[{id:"0",descricao:"Retêm uma magia de nível 1 que poderá ser liberada apenas 1 vez após o ritual. A duração do encanto é de 1 dia.",nivel:1},{id:"1",descricao:"Retêm uma magia de nível máximo 3 que poderá ser liberada até 1 vez após o ritual. A duração do encanto é de 1 semana.",nivel:3},{id:"2",descricao:"Retêm uma magia de nível máximo 5 que poderá ser liberada até 2 vezes após o ritual. A duração do encanto é de 1 mês.",nivel:5},{id:"3",descricao:"Retêm uma magia de nível máximo 7 que poderá ser liberada até 2 vezes após o ritual. A duração do encanto é de 1 ano e um dia.",nivel:7},{id:"4",descricao:"Retêm uma magia de nível máximo 9 que poderá ser liberada até 3 vezes após o ritual. A duração do encanto é de 13 anos.",nivel:9}],descricao:`Esta magia encanta um pergaminho com escrituras místicas que guardarão um encanto a escolha do evocador. A magia retida no pergaminho será liberada quando alguém pronunciar as palavras das Escrituras Místicas.

Note que é impossível reter magias cujo tempo de evocação seja “ritual”.

O evocador poderá reter no pergaminho, qualquer magia que ele saiba evocar, ou que esteja assimilada com o encanto “Assimilação”. Para reter uma magia assimilada, será preciso que o tempo da assimilação dure até o final do ritual da magia “Escrituras Místicas”. O tempo de evocação das magias escritas será igual ao tempo normal de sua evocação.

O pergaminho deve ser conseguido a parte e é preciso que este nunca tenha sido usado, caso contrário, a magia falhará e os materiais serão gastos inutilmente.

Os níveis indicam o poder da magia retida, o tempo de duração do encanto e o número de vezes que a magia poderá ser liberada do pergaminho até que as escrituras místicas fiquem obsoletas. O custo do ritual é de 8 moedas de prata por nível de dificuldade usado.

Não é possível para um mesmo mago manter mais de 3 pergaminhos encantados em um mesmo período de tempo, com este ritual.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:"105",nome:"Escudo Místico",niveis:[{id:"0",descricao:"Possui raio de base 1 metro, defesa L1 e pode absorver até 13 pontos de dano. A duração do encanto é de 2 rodadas.",nivel:1},{id:"1",descricao:"Possui raio de base 2 metros, defesa L3 e pode absorver até 18 pontos de dano. A duração do encanto é de 4 rodadas.",nivel:2},{id:"2",descricao:"Possui raio de base 4 metros, defesa M1 e pode absorver até 23 pontos de dano. A duração do encanto é de 8 rodadas.",nivel:4},{id:"3",descricao:"Possui raio de base 6 metros, defesa M3 e pode absorver até 28 pontos de dano. A duração do encanto é de 10 rodadas.",nivel:6},{id:"4",descricao:"Possui raio de base 8 metros, defesa P1 e pode absorver até 33 pontos de dano. A duração do encanto é de 20 rodadas.",nivel:8},{id:"5",descricao:"Possui raio de base 10 metros, defesa P3 e pode absorver até 38 pontos de dano. A duração do encanto é de 10 minutos.",nivel:10}],descricao:`Com esta magia o mago cria ao seu redor um domo de energia que tem a capacidade de absorver danos. Para manter o domo o mago deve permanecer imóvel e é necessário ao mago manter-se concentrado. Nenhum ataque físico poderá ser infligido atravessando-se as paredes do domo, tanto de fora para dentro, como de dentro para fora. O domo protegerá a todos que estiverem dentro a área de proteção no momento da evocação. O domo tem uma capacidade sofrer uma quantidade limitada de dano. O dano sofrido não é cumulativo, ou seja, para quebrar a barreira é preciso causar um dano maior que a absorção do escudo místico de uma só vez.

No início da evocação, o mago poderá reduzir o tamanho do raio de base do domo de acordo com a sua vontade, mas depois de evocada a magia o evocador não poderá mais alterar o tamanho do raio da base. A defesa do domo é dada de acordo com o poder do Escudo Místico criado. Esta magia não impede que alguém atravesse domo, mas o domo oferecerá uma dificuldade a passagem o que forçará aquele que tentar a atravessá-lo a fazê-lo devagar. Caso alguém tente atravessar o domo em velocidade, ele se comportará como uma parede sólida.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:"106",nome:"Escudo Protetor",niveis:[{id:"0",descricao:"Possui raio de 1 metro, defesa L1 e pode absorver até 10 pontos de dano. A duração do milagre é de 4 rodadas.",nivel:1},{id:"1",descricao:"Possui raio de 2 metros, defesa L3 e pode absorver até 20 pontos de dano. A duração do milagre é de 6 rodadas.",nivel:2},{id:"2",descricao:"Possui raio de 4 metros, defesa M1 e pode absorver até 40 pontos de dano. A duração do milagre é de 8 rodadas. O escudo também pode proteger contra deslizamentos, parando todas as rochas que caírem contra a área.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas possui raio de 6 metros, defesa M3 e pode absorver até 60 pontos de dano. Um teste de RM permite defletir magias de ataque físico. A duração do milagre é de 12 rodadas. O escudo também serve para proteger contra quedas, envolvendo todos os protegidos em uma esfera que descerá verticalmente até o chão. Após o uso deste efeito de amortecimento de queda o milagre se encerra. Este efeito não dá a capacidade de voar, e muito menos poder controlar onde irá descer.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas possui raio de 8 metros, defesa P1 e pode absorver até 80 pontos de dano. Um teste de RM permite defletir magias de ataque físico. A duração do milagre é de 20 rodadas. O escudo também protege contra gases tóxicos formando uma bolha perfeitamente isolada do ar que pode ser movida com todos dentro a uma velocidade de até 10 metros por rodada.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas possui raio de 10 metros, defesa P3 e pode absorver até 100 pontos de dano. Um teste de RM permite defletir magias de ataque físico. A duração do milagre é de 10 minutos. O escudo também protege contra inundação, formando uma bolha perfeitamente isolada da água que pode ser movida verticalmente com todos dentro a uma velocidade de 5m por rodada até a superfície, mas neste caso não é possível fazer ataques de dentro para fora. Ao chegar à superfície o Escudo Protetor ficará imóvel e permanecerá assim até que a magia se encerre ou seja encerrada.",nivel:10}],descricao:`Esta magia é uma dádiva exclusiva de Selimom a seus Sacerdotes. Ela cria ao seu redor um escudo de proteção que tem a capacidade de absorver danos. Para manter o escudo o Sacerdote deve manter-se concentrado, e é permitido o sacerdote se mover, mas não pode ser mais que metade de sua VB por rodada. Nenhum ataque físico poderá ser infligido atravessando-se as paredes do escudo de fora para dentro, protegendo a todos que estiverem dentro da área de proteção a partir do ponto onde o Sacerdote estiver. Ataques feitos de dentro para fora não possuem restrições. O escudo tem uma capacidade para sofrer uma quantidade limitada de dano. O dano sofrido é cumulativo, ou seja, para quebrar a barreira é preciso que a soma do dano causado seja maior que a absorção do escudo. No momento da quebra do encanto todo dano que exceder não será repassado a quem estiver dentro.

No início da evocação, o Sacerdote poderá reduzir o tamanho do raio de atuação do escudo de acordo com a sua vontade, mas depois de evocada a magia o Sacerdote não poderá mais alterar o tamanho do raio da proteção.

A defesa do Escudo é dada de acordo com o poder do Escudo Protetor criado. Esta magia não impede que alguém atravesse o escudo, mas o escudo oferecerá uma dificuldade a passagem o que forçará aquele que tentar a atravessá-lo a fazê-lo devagar. Caso alguém tente atravessar o escudo em velocidade, ele se comportará como uma parede sólida.

O escudo normalmente não pode ser visto, a não ser que seja usada alguma magia de detecção ou quando ele sofre algum dano, neste caso por 1 segundo será visto brilhando. A partir do efeito 6, caso uma magia de ataque físico que cause dano e não seja em área (como raio elétrico, dardos de gelo, relâmpagos etc.) for lançada contra o escudo, o sacerdote poderá fazer um teste de Resistência a Magia contra a Força do Ataque (FA) da magia agressora. Caso passe no teste de RM, a magia será defletida em direção ao evocador, que deverá fazer o ataque em si mesmo ou em que estiver perto. O Mestre deve sortear para quem a magia foi defletida. Só podem ser defletidas magias de efeito igual ou menor que nível que o evocador possui em Escudo Protetor. Após a segunda tentativa (com sucesso ou não) de defletir magias, o Escudo Protetor se encerra.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:"107",nome:"Escudo Térmico",niveis:[{id:"0",descricao:"Protege por 10 rodadas",nivel:1},{id:"1",descricao:"Protege por 30 minutos",nivel:3},{id:"2",descricao:"Protege por 6 horas",nivel:5},{id:"3",descricao:"Protege por 24 horas",nivel:7}],descricao:"Esta magia torna o Evocador imune (por 1 uso) das mudanças bruscas de temperatura de origem mágica ou natural, como congelamentos, super aquecimentos, as magias Ataque Térmico, Piromanipulação, etc. Este encanto não protege contra hálitos encantados, nem magias de efeitos eminentemente destrutivos como Bola de Fogo, Dardos de Gelo e etc.",alcance:{tipo:U.PESSOAL},duracao:{tipo:L.USO,valor:1},evocacao:{tipo:ae.RODADA,valor:3}},{id:"108",nome:"Escuridão",niveis:[{id:"0",descricao:"Cria escuridão parcial com raio máximo de 1 metro. A escuridão perdura por até 10 rodadas.",nivel:1},{id:"1",descricao:"Cria escuridão parcial com raio máximo de 3 metros. A escuridão perdura por até 30 rodadas.",nivel:3},{id:"2",descricao:"Cria escuridão total com raio máximo de 1 metro. A escuridão perdura por até 10 rodadas.",nivel:4},{id:"3",descricao:"Cria escuridão parcial com raio máximo de 10 metros. A escuridão perdura por até 10 minutos.",nivel:5},{id:"4",descricao:"Cria escuridão total com raio máximo de 3 metros. A escuridão perdura por até 30 rodadas.",nivel:6},{id:"5",descricao:"Cria escuridão parcial com raio máximo de 50 metros. A escuridão perdura por até 1 hora.",nivel:7},{id:"6",descricao:"Cria escuridão total com raio máximo de 10 metros. A escuridão perdura por até 10 minutos.",nivel:8},{id:"7",descricao:"Cria escuridão parcial com raio máximo de 300 metros. A escuridão perdura por até 10 horas.",nivel:9},{id:"8",descricao:"Cria escuridão total com raio máximo de 30 metros. A escuridão perdura por até 1 hora.",nivel:10}],descricao:`Este encantamento concede ao evocador a capacidade de impedir a criação e a propagação da luz em certas áreas, criando escuridão parcial ou mesmo total nestas áreas. A escuridão criada não poderá ser penetrada por nenhum tipo de visão sem o auxilio de magia.

Esta magia pode criar dois tipos de escuridão: a parcial e a total. A escuridão parcial concede a qualquer criatura que esteja em sua área os ajustes recebidos por cegueira parcial. Do mesmo modo a escuridão total faz com que o Ajuste por cegueira total seja recebido. Mesmo as criaturas que têm a capacidade de ver no escuro, como por exemplo os anões e os orcos, são afetados normalmente por esta escuridão mágica.

O feitiço afeta um volume esférico, cujo raio máximo é determinado pela Dificuldade do Efeito usado. O evocador pode determinar qualquer raio para o volume de escuridão, desde poucos centímetros até o raio máximo (indicado na descrição do efeito).

O evocador pode jogar esta magia sobre uma área ou sobre uma criatura. Ao lançar o feitiço sobre uma área, o evocador cria um volume imóvel de escuridão, e todos os que estiverem na área receberão as penalidades apropriadas. Não existe Resistência à Magia, pois o feitiço não foi lançado especificamente contra ninguém.

Lançar este encantamento sobre uma criatura tem vantagens e desvantagens. Caso a criatura falhe na sua Resistência à Magia, o volume de escuridão ficará vinculado a ela, acompanhando seus movimentos. Isto normalmente faz que a vítima receba os ajustes apropriados.`,alcance:{tipo:U.METRO,valor:30},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:"109",nome:"Esplendor",niveis:[{id:"0",descricao:"Os alvos terão uma primeira impressão boa em relação ao evocador. A duração é de 5 minutos.",nivel:1},{id:"1",descricao:"Os alvos terão a melhor reação imaginável na primeira impressão em relação ao evocador. Este pode pedir um pequeno favor, desde que seja algo razoável. A duração é de 30 minutos.",nivel:3},{id:"2",descricao:"Os alvos passarão a considerar o evocador alguém com alguma importância e atenderão à seus desejos, desde que não contrariem sua índole, seus deveres ou o prejudiquem de alguma forma. A duração é de uma hora.",nivel:5},{id:"3",descricao:"Os alvos passarão a considerar como verdade tudo o evocador disser e procurarão atender à seus desejos, desde que não contrariem sua índole ou o prejudiquem muito. A duração é de 8 horas",nivel:7},{id:"4",descricao:"Os alvos passarão a considerar como absoluta verdade o que o evocador disser e atenderão da melhor forma possível seus desejos, mesmo que contrariem sua índole ou o prejudiquem. A duração é de 1 dia.",nivel:9}],descricao:`Com este encanto, o sacerdote evoca sobre si a benção de Lena fazendo que todo o esplendor da deusa se revele no mundo material. Todos os seres inteligentes que olharem para o sacerdote devem fazer um teste de RM. Os que não passarem no teste são afetados imediatamente e por pelo menos uma rodada ficarão fascinados pela a beleza e perfeição do evocador. Este fascínio fará que eles passem a ter admiração pelo sacerdote e tudo aquilo que ele falar ou fazer parecerá correto. Além deste fascínio uma serie de efeitos extras passam a afetar aqueles que falharam na magia conforme o nível do efeito evocado.

Esta magia deve ser evocada fora de combate. A cada minuto um novo teste de RM deve ser refeito pelos que tiverem resistido, mas para isso o Sacerdote deve ser o mais calmo e cordial possível. Ações de agressão a qualquer um, ou um combate sendo iniciado fará que automaticamente a magia se encerre. Esta magia é similar a magia Amizade, mas no lugar de considerar o Sacerdote um amigo ele será considerado como uma pessoa importante e que deve ser respeitada, além disto esta magia é extremamente discreta e só um teste de Misticismo (Muito difícil) indicará que ela foi feita. Após o termino da magia os que foram afetados pela magia não perceberão o que aconteceu.

Atenção: Para que esta magia funcione é necessário que seja haja interpretação e o jogador deve dizer em voz alta a fala de seu personagem. Isto será decisivo para que o mestre possa avaliar o que é razoável ou não de acordo com o efeito evocado.

OBS: para as regras de primeira impressão consulto o tópico Primeira Impressão no capítulo de Regras Complementares do Livro de Regras.`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA}},{id:"110",nome:"Esquecimento",niveis:[{id:"0",descricao:"Permite ao evocador apagar os fatos dos últimos 5 minutos da memória da vítima. A duração é de 1 dia.",nivel:1},{id:"1",descricao:"Permite ao evocador apagar os fatos da última hora da memória da vítima. A vítima fica atordoada por uma rodada. A duração é de uma semana.",nivel:2},{id:"2",descricao:"Permite ao evocador apagar os fatos das últimas 24 horas da memória da vítima. A vítima fica atordoada por 2 rodadas. A duração é de 1 mês.",nivel:4},{id:"3",descricao:"Este nível permite ao evocador apagar os fatos dos últimos 7 dias da memória. A vítima fica atordoada por 5 rodadas. A duração é de 6 meses.",nivel:6},{id:"4",descricao:"Este nível permite ao evocador apagar os fatos dos últimos 30 dias da memória da vítima. A vítima fica atordoada por 10 rodadas. A duração é de 1 ano e 1 dia",nivel:8},{id:"5",descricao:"Neste nível o mago é capaz de causar amnésia total em um indivíduo. O ser afetado perde a capacidade de lançar magias e usar habilidades que não sejam eminentemente físicas. As vítimas não se lembram nem mesmo do próprio nome, possuindo apenas a capacidade de falar em sua língua nativa. A duração é de 13 anos.",nivel:10}],descricao:`Com este encanto o mago pode manipular a memória de suas vítimas, apagando fatos recentes de suas vidas caso falhem em um teste de resistência a magia. Em níveis altos Esquecimento pode até mesmo causar amnésia total sendo, por isso, uma magia muito temida.

Note que embora esta magia não seja discreta, a vítima não saberá que foi enfeitiçada caso falhe na sua resistência, pois não se lembrará do período em que o mago evocou a magia Esquecimento.

Caso uma quebra de encanto seja feito sobre a vítima ela recuperará sua memória. Em alguns efeitos após a magia ser evocada e a vítima falhe em sua resistência ela ficará atordoada, sem saber bem o que está acontecendo ao seu redor, impedindo ela de fazer ações durante este período.`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:2}},{id:"111",nome:"Explosão Mística",niveis:[{id:"0",descricao:"Causa dano máximo 4 em apenas uma vítima.",nivel:1},{id:"1",descricao:"Causa dano máximo 8 em apenas uma vítima.",nivel:3},{id:"2",descricao:"Causa dano máximo 8 em até duas vítimas.",nivel:4},{id:"3",descricao:"Causa dano máximo 12 em até duas vítimas.",nivel:6},{id:"4",descricao:"Causa dano máximo 12 em até três vítimas.",nivel:8},{id:"5",descricao:"Causa dano máximo 16 em até três vítimas.",nivel:10}],descricao:`Com esta magia, o mago alquímico ataca a vítima, procurando ferí-la magicamente. Na prática este ataque ao invés de acertar a EH ou a EF da vítima, acerta o seu karma. Não é nem necessário dizer que esta magia é o terror de qualquer mago. Explosão mística funciona exatamente como as outras magias de ataques físicos, como “Meteoros” e “Dardos de Gelo”, no entanto se o resultado for crítico, conta-se como um ataque de maior porcentagem possível, e a vítima ficará impedida de realizar qualquer feitiço na rodada seguinte. Depois poderá agir normalmente. Após evocar o encanto, uma grande explosão ocorre ao redor da vítima, como se formasse um anel de fogo ao seu redor, que se desfaz rapidamente. A explosão não afeta nenhuma outra pessoa a não ser a vítima escolhida pelo mago, ainda que esteja próxima da mesma. A falha segue normalmente, só devendo atentar que caso saia à falha em que o próprio desafortunado se fere, no caso desta magia o mago será ferido no seu próprio karma. Observe que com esse encanto não é possível causar dano em itens que possuam focus. Assim embora possa destruir o karma de um mago, não pode fazer o mesmo com seu medalhão que lhe concede focus +5, por exemplo. O karma que este mago perdeu pode ser recuperado normalmente.

Em alguns níveis desta magia é possível acertar mais de uma criatura com apenas uma evocação.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}}]})(Fg||(Fg={}));var qg;(t=>{t.lista=[{id:"112",nome:"Fabricação Divina",niveis:[{id:"0",descricao:"Recebe bônus de 1 nível na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser reduzido pela metade. O material e ferramentas deve ser providenciado normalmente pelo sacerdote.",nivel:1},{id:"1",descricao:"Recebe bônus de 2 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser 1/4 do original. O material e ferramentas deve ser providenciado normalmente pelo sacerdote.",nivel:2},{id:"2",descricao:"Recebe bônus de 3 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser 1/6 do original. O material deve ser providenciado normalmente pelo sacerdote. Ferramentas pequenas podem ser providenciadas pelo deus, mas ferramentas grandes (um forja por exemplo) deve ser providenciadas pelo Sacerdote.",nivel:4},{id:"3",descricao:"Recebe bônus de 4 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais. Adicionalmente o tempo exigido pela habilidade passa a ser 1/8 do original. Metade do material deve ser providenciado normalmente pelo sacerdote. A outra metade do material e ferramentas pequenas podem ser providenciadas pelo deus, mas ferramentas grandes (um forja por exemplo) deve ser providenciadas pelo Sacerdote.",nivel:6},{id:"4",descricao:"Recebe bônus de 5 níveis na sua rolagem de carpintaria, trabalho em metal ou trabalhos manuais ou torna Muito Difícil algo que seria Impossível. Adicionalmente o tempo exigido pela habilidade passa a ser 1/10 do original. Todo o material pode ser providenciado pelo Deus. Ferramentas pequenas podem ser providenciadas pelo deus, mas ferramentas grandes (um forja por exemplo) deve ser providenciadas pelo Sacerdote.",nivel:8},{id:"5",descricao:"Se o resultado obtido não for uma falha (Verde}, o objeto criado é uma obra prima. Adicionalmente o tempo exigido pela habilidade passa a ser 1/10 do original. Todo o material e as ferramentas podem ser providenciadas pelo deus.",nivel:10}],descricao:`Com este encanto o sacerdote consegue aprimorar seu uso das habilidades carpintaria, trabalho em metal ou trabalhos manuais. Nos níveis mais baixos é necessário ter o material para fabricação e as ferramentais apropriadas. A partir do efeito 4 o Sacerdote pode rogar ao seu deus pela ajuda de matérias e ferramentas conforme descrito nos efeitos. O Sacerdote só deve rogar ao deus se material ou ferramentas não estiverem disponíveis. Se a motivação for fútil, como por exemplo quer tirar proveito financeiro, o pedido de ajuda divina pode irritar o deus e a magia falhará, podendo inclusive ser punido por ele. Esta decisão de ser uma causa fútil (ou não) é de exclusiva decisão do Mestre. Há também uma limitação de materiais/ferramentas que o deus pode providenciar. Normalmente o deus só enviará uma quantidade limitada que seja adequada ao uso pessoal do sacerdote. Como regra geral o Sacerdote não tem nenhum controle sobre o que será providenciado, e esta decisão da quantidade e de quais itens o deus enviará fica a cargo de Mestre de acordo com cada situação.

A duração do encanto será de acordo com a duração da habilidade usada. No momento em que o místico realizar qualquer outra ação que não esteja relacionada ao uso da habilidade a magia será encerrada. Todo material que sobrar e as ferramenta sumirão depois que a fabricação tiver sido concluída.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:"113",nome:"Faro",niveis:[{id:"0",descricao:"Pode farejar uma característica de plantas, animais e objetos que; recebe menos 1 nível de dificuldade para Usar Sentidos aplicado a faro. O efeito dura 15 mim e a distância máxima é de 1 km.",nivel:1},{id:"1",descricao:"Pode farejar até duas características de plantas, animais e objetos; recebe menos 2 níveis de dificuldade para Usar Sentidos aplicado a faro. O efeito dura 30 minutos e a distância máxima é de 2 km.",nivel:3},{id:"2",descricao:"Pode farejar até 4 características de plantas, animais, seres e objetos com um bom grau de precisão; pode sentir odores que já passaram no locar até 5 dias, recebe menos 3 níveis de dificuldade para Usar Sentidos aplicado a faro. Poderá perceber se vai chover em breve. O efeito dura uma hora e a distância máxima é de 3 km.",nivel:5},{id:"3",descricao:"Pode farejar até 6 características de todo tipo de odor com um ótimo grau de precisão, e pode sentir odores que já passaram no locar até 10 dias, recebe menos 4 níveis de dificuldade para Usar Sentidos aplicado a faro. Poderá perceber pelo cheiro que alguém se aproxima usando uma rolagem de Usar Sentidos em quanto a magia estiver ativa ou até mesmo que vai chover em breve. O efeito dura duas horas e a distância máxima é de 4 km.",nivel:7},{id:"4",descricao:"Pode farejar até 10 características todo tipo de odor com um grau de precisão incrível, e pode sentir odores que já passaram no locar até 15 dias, recebe menos 5 níveis de dificuldade para Usar Sentidos aplicado a faro e torna rolamento impossíveis em muito difíceis. Poderá perceber pelo cheiro que alguém se aproxima usando a rolagem de Usar Sentidos enquanto a magia estiver ativa ou até mesmo que vai chover em breve. O efeito dura 3 horas e a distância máxima é de 5 km.",nivel:9}],descricao:`Com esse feitiço o evocador pode mudar seu poder olfativo chegando próximo ou até mesmo superando os lobos e os cães. A diferença entre o olfato humano para o canino, é que um humano consegue saber que um javali está sendo assado, já o canino consegue dizer quais os temperos foram usados com exatidão e até mesmo saber se exagerou no sal, podendo assim dividir os cheiros para ser assertivo no que busca. Caso tenha alguma amostra do que está procurando (como por exemplo uma peça de roupa de uma pessoa) poderá até mesmo isolar esse odor dos demais, tornando assim extremamente efetivo, dependendo do nível da magia.

Caso o que procura tenha vários cheiros, isso tornara mais difícil farejar em efeitos mais baixos, mas em níveis mais altos ajuda a ser mais seletivo. Em um certo nível o evocador pode até dizer se alguém esteve ali quantos dias e pode seguir seu rasto se ainda estiver dentro do tempo estipulado na magia. O evocador precisa conhecer o odor do que vai procurar ou estar de alguma forma no ambiente em que está iniciando sua busca. Se no local ele perceber um odor desconhecido ele pode farejar para saber de quem ou do que se trata.

Essa magia tem dependência de habitat e só pode ser utilizado em ambientes naturais. Nos níveis 7 e 9 onde pode-se sentir o odor de alguém que se aproxime, a criatura deve ter o "vento do ponto da criatura em direção ao evocador" assim ele pode sentir o odor até 100 metros de distância, caso contrário ele o percebera quando a criatura estiver a 20 metros do evocador usando um "usar sentido" fácil.

Exemplos de características de odor pode ser madeira específica, penas de aves especificas, pelos e couro de animais específicos, minérios, plantas especificas e em níveis maiores podendo ter um conjunto de odores, se existir odor, ele pode ser farejado. Para melhor entendimento, abaixo temos alguns exemplos:

Um rastreador evoca o efeito 1 e por 15 minutos pode farejar uma característica só até 1 km de distância, como por exemplo um pelo de urso, uma planta específica etc. assim que a duração da magia acabar ele deve refazer a magia ou não conseguira continuar a farejá-lo.

Um rastreador evoca o efeito 9 e por 3 horas ele pode farejar coisas mais especificas até 5 km de distância, um humano, com armadura de metal, uma capa de couro, carrega ração de viagem, fuma tabaco, está ferido, usando um emplastro de ervas etc. Quanto mais dados tiver da criatura mais específica é sua busca!`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.INSTANTANEA}},{id:"114",nome:"Fascínio",niveis:[{id:"0",descricao:"Afeta até 3 pessoas.",nivel:1},{id:"1",descricao:"Afeta até 10 pessoas.",nivel:2},{id:"2",descricao:"Afeta até 25 pessoas.",nivel:4},{id:"3",descricao:"Afeta até 60 pessoas.",nivel:6},{id:"4",descricao:"Afeta até 100 pessoas.",nivel:8},{id:"5",descricao:"Afeta até 200 pessoas.",nivel:10}],descricao:`Com esta magia, o evocador consegue atrair a atenção das pessoas, de forma que as mesmas passam a esquecer tudo o que acontece à sua volta, devotando sua atenção unicamente a ele. Ele então começará a tocar, a cantar, a contar uma história, entre outras possibilidades, e, após 10 rodadas, todas as pessoas afetadas pela magia, cujo número varia de acordo com o nível do efeito, deverão fazer um teste de Resistência à Magia. Caso não passe, uma pessoa ficará com toda sua atenção voltada para o evocador. Caso a pessoa passe no teste, ela deverá fazer uma nova resistência à magia por rodada, até que falhe ou ela saia do alcance da magia. Caso alguma pessoa entre no alcance após ter começado a apresentação, ela deverá fazer um teste de resistência à magia após 10 rodadas de apreciação da música e, conforme o outro caso, fazer uma resistência por rodada caso tenha sucesso no teste inicial.

A magia acaba quando o evocador pára de tocar o seu instrumento, cantar ou discursar ou até mesmo de fazer malabarismo; ou seja, quando for de seu interesse. Entretanto, o místico não pode fazer nenhuma outra ação a não ser fazer sua apresentação enquanto produz o encanto. Quando parar de tocar, as pessoas despertarão do encanto, tendo a sensação de terem ido a uma ótima apresentação. As pessoas não têm nenhuma noção de que foram enfeitiçadas. Caso alguém ataque qualquer uma das pessoas sob o efeito, a magia se quebrará sob todas as pessoas. Neste caso, as pessoas percebem que foram enfeitiçadas. A pessoa atacada, entretanto, sofrerá uma surpresa parcial.`,alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:10}},{id:"115",nome:"Feixes Incandescentes",niveis:[{id:"0",descricao:"1 feixe de dano 16.",nivel:1},{id:"1",descricao:"2 feixes de dano 20.",nivel:3},{id:"2",descricao:"2 feixes de dano 28.",nivel:5},{id:"3",descricao:"2 feixes de dano 32.",nivel:7},{id:"4",descricao:"3 feixes de dano 40.",nivel:9}],descricao:`Restrição de Uso: Ar Livre

Está magia do Colégio Naturalista canaliza certa quantidade de energia solar, moldado-as em feixes que caem do céu em direção aos alvos escolhidos pelo evocador. Só é possível atacar um alvo por feixe. O som do fogo rasgando o ar e de seu potente impacto na terra fazem desta magia um evento magnífico.

Este feitiço só pode ser evocado em ambiente aberto, durante o dia e o céu deve estar limpo, sem nuvens. O numero de feixes e o dano de cada, variam com a dificuldade do efeito.

Embora esta magia seja de origem energética, sua matéria prima é o fogo, se submetendo portanto, á magias como Piroproteção e Armadura Elemental.`,alcance:{tipo:U.METRO,valor:50},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:"116",nome:"Fitogênese",niveis:[{id:"0",descricao:"cria uma área de 7 m de raio de clareira e uma árvore de porte menor. O tempo de duração dos vegetais é de 2 dias.",nivel:2},{id:"1",descricao:"Cria uma área de 20m de raio com uma razoável diversidade de plantas e flores com árvores de médio porte ou menores. O tempo de duração dos vegetais é de 7 dias.",nivel:6},{id:"2",descricao:"Cria uma área de 30 de raio com uma grande diversidade de plantas, flores e a presença de raízes comestíveis. O tempo de duração dos vegetais é de 15 dias.",nivel:8},{id:"3",descricao:"Cria uma área de 50 de raio com vasta diversidade de plantas, flores, raízes comestíveis e árvores frutíferas de porte maior, ou menores. O tempo de duração dos vegetais é de um mês.",nivel:9},{id:"4",descricao:"Idem ao anterior, mas a área pode se estender até 100 m de raio. O tempo de duração dos vegetais é permanente, e a evocação é um ritual que custa 5 moedas de ouro para cada 10m de raio.",nivel:10}],descricao:`Restrição de Uso: Ambiente Natural

Com esta magia o mago induz a criação de vegetais em uma área. Os tipos de vegetais criados, a área da vegetação e o tempo em que os vegetais perduram no local, variam com a dificuldade do efeito.

O aparecimento dos vegetais é imediato, surgindo do solo imediatamente após o termino da evocação. Os magos naturalistas costumam evocar esta magia para obter os vegetais necessários a evocação de outros feitiços.

Esta magia só pode ser efetuada em contato direto como o solo, caso contrário, a magia falhará.

Com exceção do Nível de dificuldade 10, evocação dos efeitos desta magia é de 10 rodadas.

Para identificar o tamanho exato dos vegetais citados, verifique a descrição da magia (Animação Vegetal).

Fitogênese1: Cria uma área de 2 m de raio de vegetação rasteira sem presença de arvores. O tempo de duração dos vegetais é de 12 horas.

Filogênese 4: Cria uma área de 10 m de raio com uma pequena diversidade de plantas e árvores de Pequeno porte ou menores. O tempo de duração dos vegetais é de 4 dias.`,alcance:{tipo:U.VARIAVEL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.VARIAVEL}},{id:"117",nome:"Fogo Divino",niveis:[{id:"0",descricao:"Causa 12 pontos de dano em uma área de 1 metro de raio.",nivel:1},{id:"1",descricao:"Causa 16 pontos de dano em uma área de 2 metros de raio.",nivel:2},{id:"2",descricao:"Causa 24 pontos de dano em uma área de 2 metros de raio.",nivel:4},{id:"3",descricao:"Causa 28 pontos de dano em uma área de 4 metros de raio.",nivel:6},{id:"4",descricao:"Causa 32 pontos de dano em uma área de 6 metros de raio.",nivel:8},{id:"5",descricao:"Causa 40 pontos de dano em uma área de 6 metros de raio.",nivel:10}],descricao:`Restrição de Uso: Ar Livre

Conhecido como o milagre mais poderoso de Palier, o fogo divino é sempre relembrado por suas características peculiares. Por ser divino, nem mesmo os demônios e os elementais de fogo resistem ao poder de Palier, podendo ser afetados normalmente por este fogo. Entretanto, para se utilizar este encanto, é necessário que o evocador esteja ao ar livre e que o tempo esteja sem nuvens, chovendo ou mesmo nublado (exatamente o oposto da magia Relâmpago). Caso as condições estejam satisfeitas, o sacerdote poderá clamar por seu deus e uma grande coluna de fogo rasgando o céu virá como resposta ao seu apelo.

Os sacerdotes que dominam este milagre não devem usá-lo levianamente, apenas em caso de extrema necessidade. Caso seja evocado em uma situação que não seja de extrema necessidade ou se for evocado por um motivo efêmero e/ou mundano, a magia falhará e o sacerdote será punido pelo seu deus (o Mestre decide qual será a punição).`,alcance:{tipo:U.METRO,valor:100},duracao:{tipo:L.INSTANTANEA},evocacao:{tipo:ae.INSTANTANEA}},{id:"118",nome:"Força Mútua",niveis:[{id:"0",descricao:"Concede +2 na coluna de ataque do evocador e de até 1 de seus companheiros animais. Os companheiros animais ganham +5 na EH. A penalidade pela quebra do laço de coragem é de 1 dia;",nivel:1},{id:"1",descricao:"Concede +4 na coluna de ataque do evocador e de até 2 de seus companheiros animais. Os companheiros animais ganham +10 na EH. A penalidade pela quebra do laço de coragem é de 3 dias;",nivel:3},{id:"2",descricao:"Concede +6 na coluna de ataque do evocador e de até 3 de seus companheiros animais. Os companheiros animais ganham +15 na EH. A penalidade pela quebra do laço de coragem é de 7 dias;",nivel:5},{id:"3",descricao:"Concede +8 na coluna de ataque do evocador e de até 4 de seus companheiros animais. Os companheiros animais ganham +20 na EH. A penalidade pela quebra do laço de coragem é de 15 dias;",nivel:7},{id:"4",descricao:"Concede +10 na coluna de ataque do evocador e de todos seus companheiros animais. Os companheiros animais ganham +25 na EH. A penalidade pela quebra do laço de coragem é de 1 mês.",nivel:9}],descricao:`Com esta magia, o evocador cria um laço de coragem e determinação entre si e seus companheiros animais, fazendo com que todos aumentem suas capacidades para o combate desde que o evocador e seus companheiros estejam engajados no combate. Esta magia não funcionará no caso de não haver nenhum companheiro animal. Caso todos os seus companheiros saiam do combate a magia se encerrará. Devido a ligação da magia com a natureza, caso o evocador esteja mais de uma semana fora de ambientes naturais, esta magia não poderá mais ser evocada. Será necessário passar um dia em um ambiente natural para que esta magia possa ser evocada novamente.

O número de colunas de ataque atribuído ao evocador e aos animais variam de acordo com a dificuldade do efeito. Esta magia só afeta animais que estejam sob efeito das magias: Elo Animal ou Convocação Animal. O Rastreador deve ter cuidado com o uso desta magia, pois caso algum de seus companheiros animais seja morto em decorrência do combate, a quebra do laço de coragem causa um efeito negativo no Rastreador, assim o bônus nas colunas se torna penalidade, que perdura por um tempo muito maior que a própria duração da magia.`,alcance:{tipo:U.METRO,valor:10},duracao:{tipo:L.RODADA,valor:15},evocacao:{tipo:ae.RODADA,valor:1}},{id:"119",nome:"Força Sagrada",niveis:[{id:"0",descricao:"Concede + 1 de ajuste de força ao sacerdote.",nivel:1},{id:"1",descricao:"Concede + 2 de ajuste de força ao sacerdote.",nivel:3},{id:"2",descricao:"Concede + 3 de ajuste de força ao sacerdote.",nivel:5},{id:"3",descricao:"Concede + 4 de ajuste de força ao sacerdote.",nivel:7},{id:"4",descricao:"Concede + 5 de ajuste de força ao sacerdote.",nivel:9}],descricao:"Com este encanto, o sacerdote de Blator clama a seu deus, e recebe em resposta uma força divina para ajuda-lo intensamente na batalha. Na prática o sacerdote receberá um ajuste de força extra que deverá ser somado ao dano. Assim se o sacerdote tinha força 2, e usou o nível 7 que concede + 4 de ajuste, o sacerdote passará a ter força 6. Essa magia não só se aplica ao dano mas também ajuda o sacerdote a realizar outras tarefas que exijam uma força absurda. Ao esgotar a duração da magia, a força do sacerdote volta a seu estado normal.",alcance:{tipo:U.PESSOAL},duracao:{tipo:L.RODADA,valor:10},evocacao:{tipo:ae.RODADA,valor:1}},{id:"120",nome:"Forçar Disputa",niveis:[{id:"0",descricao:"O evocador recebe +2 colunas de ataque em qualquer ação contra o oponente.",nivel:1},{id:"1",descricao:"O evocador recebe +3 colunas de ataque em qualquer ação contra o oponente e temporariamente mais 5 de EH (podendo ir além do máximo).",nivel:3},{id:"2",descricao:"O evocador recebe +4 colunas de ataque em qualquer ação contra o oponente e temporariamente mais 10 de EH (podendo ir além do máximo).",nivel:5},{id:"3",descricao:"Idem ao anterior, mas quando sua EH acabar, ela automaticamente se cura para 20 pontos.",nivel:7},{id:"4",descricao:"Idem ao anterior, mas o primeiro crítico causado pelo oponente é cancelado e vira um ataque normal de 100% na EF.",nivel:9}],descricao:`Esta magia é utilizada de forma estratégica para atrair a atenção um determinado oponente e forçá-lo a combater com o evocador. Para que a magia funcione é necessário que o jogador interprete o que deve ser dito com palavras e/ou gestos e faça algo que acerte o ego ou instinto adversário. O oponente tem direito a um teste de RM, e caso tenha sucesso não será forçado a lutar contra o evocador.

Caso falhe na RM, o oponente será forçado a lutar contra o evocador, mas não é obrigado a fazê-lo de perto, podendo usar ataques a distância. Quando o oponente perder toda a EH ou o evocador fizer o seu primeiro acerto na EF este deve oferecer a rendição. Caso o oponente se recuse o combate prossegue normalmente. Caso aceite a rendição, o evocador não poderá mais atacar o oponente sob pena de receber uma maldição divina (sem teste de RM). Se o oponente rendido for desleal e voltar a combater ou se resolver fugir é este que receberá uma maldição divina (sem teste de RM). Caso o oponente passe no teste de RM não será forçado a combater, podendo inclusive fugir sem nenhuma penalidade.

Independente do oponente ter passado ou não no teste de RM o evocador recebe alguns bônus conforme o efeito. Note que os bônus de colunas e críticos só funcionam contra o oponente desafiado, mas a EH recebida funciona contra todos. Se o oponente estiver numa situação que não possa atacá-lo diretamente (protegido por algo ou alguém) o evocador poderá entrar em combate com outros desde que seja para poder chegar ao seu oponente. Caso o próprio evocador é que decida sair da disputa (mesmo que seja para ajudar um companheiro) ele receberá uma maldição divina que não tem direito a RM.

Esta magia só pode ser usada uma vez por cena de combate e ela só funciona com criaturas inteligentes, não funcionando contra criaturas irracionais. O Mestre irá avaliar se a interpretação foi satisfatória, caso ache que não foi a contento a magia falha automaticamente. Caso o oponente já estiver predisposto a atacar o evocador, isto implica que ele automaticamente aceita o desafio e é o equivalente a ter falhado no testes de RM (que não precisa ser feito).

OBS: a maldição será escolhida livremente pelo Mestre que avaliará qual o grau de punição que deve ser dado.`,alcance:{tipo:U.METRO,valor:20},duracao:{tipo:L.COMBATE,valor:1},evocacao:{tipo:ae.INSTANTANEA}},{id:"121",nome:"Forma de Pedra",niveis:[{id:"0",descricao:"Duração de dois dias.",nivel:1},{id:"1",descricao:"Duração de 1 semana.",nivel:2},{id:"2",descricao:"Duração de 1 mês.",nivel:4},{id:"3",descricao:"Duração de 1 ano.",nivel:6},{id:"4",descricao:"Duração de 13 anos.",nivel:8},{id:"5",descricao:"Duração de 100 anos.",nivel:10}],descricao:`Há séculos há uma lenda entre os anões que diz que os sacerdotes de Parom jamais morrem. A lenda diz que quando é chegada a hora do sacerdote de Parom deixar o mundo, o sacerdote assume uma forma de pedra, transformando-se em uma estátua, para que sua presença jamais possa ser extinta do mundo. Por isso o sacerdote não morre, apenas entra “em forma de pedra”.

Com o milagre forma de pedra o sacerdote pode se transformar ou transformar alguém em uma estátua. Esse milagre não pode ser usado contra a vontade de uma pessoa, sendo necessário que a pessoa declare abertamente que deseja ser transformado em estado de pedra.

No estado de pedra, a pessoa não envelhece, não pode sofrer qualquer doença nem ser alvo de qualquer magia direta (as que necessitam de resistência). Caso a pessoa entre em estado de pedra estando amaldiçoada ou doente, sua maldição e doença é suspensa até que a vítima saia do seu estado de pedra. A pessoa, entretanto, perde completamente a consciência, como se estivesse em um coma profundo. O tempo que esse estado perdura depende do nível da magia. A pedra é de uma firmeza muito grande, sendo impossível destruí-la por meios normais e imune à magias como desintegração. Com a fim da magia, seja pelo esgotamento da duração ou via quebra de encantos, a pessoa sai da forma de pedra no mesmo estado em que ela estava antes de entrar.

Esse milagre é muito utilizado por anões velhos que desejam ver seu último desejo realizado e por conta de sua idade jamais estariam vivos para isso.

Uma restrição, contudo, é que uma pessoa não pode entrar em estado de pedra pela segunda vez a não ser que ela fique em seu estado normal no mínimo o mesmo período que ficou no estado de pedra pela primeira vez.

Os materiais necessários a evocação deste milagre custam 1 moeda de ouro vezes o nível utilizado.`,alcance:{tipo:U.TOQUE},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RITUAL}},{id:"122",nome:"Forma Fluida",niveis:[],descricao:`Com esse milagre, o sacerdote de Ganis pede à Deusa que transforme momentaneamente em água seu corpo e suas vestes, incluindo armadura e elmo. Pode ser usado para se infiltrar através de rachaduras, fendas ou qualquer orifício que o Mestre julgar possível; escapar de prisões ou amarras; ou até mesmo camuflagem. Também torna o místico imune a ataques físicos (todos os golpes atravessam o corpo sem causar dano}, mas ataques elétricos (Relâmpago e Raio Elétrico, por exemplo) causam um nível a mais de dano. Ataques mágicos e que afetam a mente funcionam normalmente contra o evocador. Armas mágicas funcionam parcialmente, causando metade do dano, arredondando para cima.

A magia cria uma tensão superficial possibilitando manter o formato corpóreo ou a que o volume de água permitir (uma poça d’água, por exemplo). Sua cor será semelhante ao reflexo do místico na água. Por ser uma água divina, possuindo aura específica, a forma fluida não é afetada por magias de controle de água, como Hidromanipulação, por exemplo.

Durante o efeito, o evocador mantém os sentidos normais, fica impossibilitado de fazer ataques físicos e realizar magias, não precisa respirar e não consegue segurar objetos. A VB permanece a mesma, respeitando as penalidades para as adversidades do terreno. Armas e escudos, caso estejam empunhadas no momento da ativação da magia, cairão no chão; mas se a arma estiver guardada e o escudo nas costas, transformar-se-á em água também (não servirão para ataques ou defesa). Os danos sofridos na forma fluida serão contabilizados normalmente da EF e EH do sacerdote.

É possível usar essa magia para se camuflar em um rio, lago, etc., mas um teste de Usar os Sentidos (Muito difícil) identificará uma porção de água diferente do normal (a critério do Mestre, um teste de Misticismo Difícil pode ser usado para relacionar com a magia).

Se por algum motivo o corpo fluido estiver dividido no momento em que acabar a duração da magia, irá reaparecer onde concentrar a maior parte, mas sofrerá dano na EF na seguinte proporção:

2 pontos se apenas um quinto ou menos do corpo não conseguir se reagrupar;

4 pontos para um quarto;

6 pontos para um terço;

8 pontos para metade (o jogador escolhe em qual metade o corpo reaparecerá).

Mas caso o corpo reapareça em um local onde não há espaço para ser formado (por exemplo, numa fresta na montanha}, será morte instantânea. O Mestre julgará o quanto do corpo foi perdido e/ou se é possível o surgimento.

E por fim, a partir do sétimo nível será possível criar um prolongamento de água do braço, formando um chicote, e usar para atacar (efeito chicote).

Corpo Fluido 1: Transforma o corpo em água, mas não consegue falar. Duração de 5 rodadas.

Corpo Fluido 3: Idem ao anterior, mas consegue falar.

Corpo Fluido 5: Idem ao anterior, mas a duração é de 10 rodadas.

Corpo Fluido 7: Idem ao anterior, mas permite usar um braço como se fosse um chicote para atacar na coluna 10 e causando 23/18/13/8 de dano. A duração é de 15 rodadas e o alcance do chicote é de 2 metros.

Corpo Fluido 9: Idem ao anterior, mas causa 27/21/15/9 de dano, ataca na coluna 12 e a duração é de 20 rodadas.`,alcance:{tipo:U.PESSOAL},duracao:{tipo:L.VARIAVEL},evocacao:{tipo:ae.RODADA,valor:1}}]})(qg||(qg={}));const vm=[...Og.lista,...kg.lista,...zg.lista,...Ng.lista,...Fg.lista,...qg.lista],jW=t=>{var e;return(e=vm.filter(a=>a.id===t))==null?void 0:e[0]},cv=t=>M.jsx(h4,{disableGutters:!0,elevation:0,square:!0,...t}),BW=()=>{const{id:t}=eM(),e=jW(t??ue.abrigo);return M.jsx(yr,{children:M.jsxs(Ta,{sx:{borderRadius:Eo.CSS.caixaGrande.radius,overflow:"hidden"},children:[M.jsxs(cv,{expanded:!0,children:[M.jsx(um,{id:"panel-header",children:M.jsx(ar,{children:e.nome})}),M.jsxs(dm,{children:[M.jsx(ar,{children:"evocação"}),M.jsx(ar,{children:"alcance"}),M.jsx(ar,{children:"duração"})]})]}),M.jsxs(cv,{children:[M.jsx(um,{id:"panel-descricao",expandIcon:M.jsx(up,{color:"primary"}),children:M.jsx(ar,{children:"Descrição"})}),M.jsx(dm,{children:M.jsx(ar,{children:e.descricao})})]}),M.jsxs(cv,{children:[M.jsx(um,{id:"panel-niveis",expandIcon:M.jsx(up,{color:"primary"}),children:M.jsx(ar,{children:"Níveis"})}),M.jsx(dm,{children:e.niveis.map(a=>M.jsxs(C.Fragment,{children:[M.jsx(ar,{children:a.nivel}),M.jsx(ar,{children:a.descricao})]},a.id))})]})]})})};var L1={},$W=sn;Object.defineProperty(L1,"__esModule",{value:!0});var iE=L1.default=void 0,UW=$W(ln()),VW=M;iE=L1.default=(0,UW.default)((0,VW.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var D1={},HW=sn;Object.defineProperty(D1,"__esModule",{value:!0});var nE=D1.default=void 0,WW=HW(ln()),GW=M;nE=D1.default=(0,WW.default)((0,GW.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt");var I1={},ZW=sn;Object.defineProperty(I1,"__esModule",{value:!0});var sE=I1.default=void 0,XW=ZW(ln()),YW=M;sE=I1.default=(0,XW.default)((0,YW.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchOutlined");const KW=t=>Rd.extractFirstChar(t.nome),QW=t=>new Set(t.map(KW)),JW=t=>[...QW(t)],eG=({lista:t,onClick:e,selected:a})=>{const o=JW(t);return M.jsx(Ta,{sx:{gap:1,display:"flex"},children:o.map(r=>M.jsx(Sf,{onClick:()=>e(r),variant:"outlined",sx:{maxWidth:"10px",minWidth:"10px"},color:a!==r?"secondary":"primary",children:r},r))})};var O1={},tG=sn;Object.defineProperty(O1,"__esModule",{value:!0});var lE=O1.default=void 0,aG=tG(ln()),oG=M;lE=O1.default=(0,aG.default)((0,oG.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const rG=({lista:t,to:e})=>M.jsx(Gm,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:3},children:t.map(a=>{var o,r;return M.jsx(Gm,{item:!0,xs:12,sm:8,md:6,lg:4,xl:3,display:"flex",children:M.jsx(Sf,{variant:"contained",component:Aw,to:Dk(e,a.id),endIcon:M.jsx(lE,{color:"primary"}),sx:{flex:1,textTransform:"capitalize",justifyContent:"space-between",minWidth:Eo.CSS.caixaGrande.width,minHeight:Eo.CSS.caixaGrande.height,borderRadius:Eo.CSS.caixaGrande.radius,background:(r=(o=jd.palette)==null?void 0:o.background)==null?void 0:r.paper},children:a.nome})},a.nome)})}),iG=()=>{const[t,e]=C.useState(""),[a,o]=C.useState(vm),[r,i]=C.useState("");function n(){e(""),i("")}C.useEffect(()=>{const c=vm.filter(u=>r===""||Rd.extractFirstChar(u.nome)===r),d=t.trim().toLowerCase(),m=c.filter(u=>Rd.compareWordWithWordsInSentence(d,u.nome,Eo.MARGEM_DIFERENCA_PALAVRAS));o(d.length===0?c:m)},[t,r]);function s(c){i(d=>c===d?"":c)}const l=t.length>0||r.length>0;return M.jsx(yr,{children:M.jsxs(Ta,{sx:{display:"flex",flexDirection:"column",gap:2},children:[M.jsx(V4,{label:"Nome da magia",variant:"outlined",value:t,onChange:c=>{e(c.target.value)},InputProps:{endAdornment:M.jsxs(L4,{position:"start",children:[l&&M.jsx(Fn,{onClick:n,children:M.jsx(iE,{})}),M.jsx(Fn,{disabled:!0,children:M.jsx(nE,{})})]}),startAdornment:M.jsx(Fn,{disabled:!0,children:M.jsx(sE,{})})},placeholder:"Nome da magia"}),M.jsx(eG,{lista:vm,onClick:s,selected:r}),M.jsx(rG,{lista:a,to:Xt.MAGIA})]})})},nG=()=>M.jsx(yr,{children:M.jsx("p",{children:"Mapa"})}),sG=()=>M.jsx(yr,{children:M.jsx("p",{children:"Mapas"})}),lG=[{id:"tagmar",title:"Tagmar",info:[{text:"Site oficial",url:"https://tagmar.com.br"}]},{id:"tagmar licence",title:"Licença do RPG Tagmar",info:[{text:"Atribuição-NãoComercial-CompartilhaIgual 3.0 Brasil",url:"https://www.tagmar.com.br/LicenciamentoUsado.aspx"}]},{id:"app license",title:"Licença desse Site/Aplicativo",info:[{text:"GNU General Public License v3.0",url:"https://github.com/iagows/tagmar_pwa/blob/main/LICENSE"}]},{id:"bug",title:"Bugs e sugestões",info:[{text:"Encontrou um erro ou tem uma sugestão?",url:"https://github.com/iagows/tagmar_pwa/issues"}]},{id:"forum",title:"Fórum oficial",info:[{text:"Conheça o fórum oficial",url:"https://www.tagmar.com.br/forum/default.aspx?g=active"}]},{id:"app",title:"Sobre o App",info:[{text:"Código-fonte",url:"https://github.com/iagows/tagmar_pwa/"}]},{id:"testers",title:"Testadores",info:[{text:"Álvaro"},{text:"Breno"},{text:"Edilton"},{text:"Marcelo"},{text:"Petrus"},{text:"Rodolfo"},{text:"Sérgio"}]}],cG=()=>{const[t,e]=C.useState("tagmar"),a=o=>(r,i)=>{i&&e(o)};return M.jsxs(yr,{children:[M.jsx(ao,{children:"Os links aqui contidos levarão para fora do aplicativo. Clique/toque com cautela."}),lG.map(o=>M.jsxs(h4,{expanded:t===o.id,onChange:a(o.id),children:[M.jsx(um,{expandIcon:M.jsx(up,{color:"primary"}),children:M.jsx(ao,{children:o.title})}),M.jsx(dm,{children:o.info.map(r=>M.jsx(ao,{children:r.url?M.jsx(aI,{href:r.url,target:"_blank",children:r.text}):r.text}))})]},o.id))]})},dG="/tagmar_pwa",uG=wM([{path:Xt.ROOT,element:M.jsx(oF,{}),errorElement:M.jsx(cW,{}),children:[{path:Xt.FICHAS,element:M.jsx(DW,{})},{path:Xt.FICHA,element:M.jsx(dW,{})},{path:Xt.DADO,element:M.jsx(lW,{})},{path:Xt.MAGIAS,element:M.jsx(iG,{})},{path:Xt.MAGIA,element:M.jsx(BW,{})},{path:Xt.HABILIDADES,element:M.jsx(OW,{})},{path:Xt.HABILIDADE,element:M.jsx(IW,{})},{path:Xt.MAPAS,element:M.jsx(sG,{})},{path:Xt.MAPA,element:M.jsx(nG,{})},{path:Xt.CONFIGURACOES,element:M.jsx(lF,{})},{path:Xt.SOBRE,element:M.jsx(cG,{})},{index:!0,element:M.jsx(pM,{to:Xt.FICHAS,replace:!0})}]}],{basename:dG}),mG=hz({reducer:{fichas:kN}}),pG=qM({onNeedRefresh(){confirm("Novo conteúdo disponível. Recarregar?")&&pG(!0)}});dv.createRoot(document.getElementById("root")).render(M.jsx($o.StrictMode,{children:M.jsx(aA,{store:mG,children:M.jsx(Ak,{children:M.jsx(LM,{router:uG})})})}));
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
