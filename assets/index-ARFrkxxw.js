var bv=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var ma=(t,e,r)=>(bv(t,e,"read from private field"),r?r.call(t):e.get(t)),Il=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},vi=(t,e,r,n)=>(bv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);function M3(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function A3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function US(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var T3={exports:{}},ih={},R3={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=Symbol.for("react.element"),qS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),HS=Symbol.for("react.strict_mode"),WS=Symbol.for("react.profiler"),GS=Symbol.for("react.provider"),ZS=Symbol.for("react.context"),XS=Symbol.for("react.forward_ref"),YS=Symbol.for("react.suspense"),KS=Symbol.for("react.memo"),QS=Symbol.for("react.lazy"),_v=Symbol.iterator;function JS(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var P3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L3=Object.assign,k3={};function Sl(t,e,r){this.props=t,this.context=e,this.refs=k3,this.updater=r||P3}Sl.prototype.isReactComponent={};Sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D3(){}D3.prototype=Sl.prototype;function Ag(t,e,r){this.props=t,this.context=e,this.refs=k3,this.updater=r||P3}var Tg=Ag.prototype=new D3;Tg.constructor=Ag;L3(Tg,Sl.prototype);Tg.isPureReactComponent=!0;var wv=Array.isArray,I3=Object.prototype.hasOwnProperty,Rg={current:null},F3={key:!0,ref:!0,__self:!0,__source:!0};function N3(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)I3.call(e,n)&&!F3.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Eu,type:t,key:a,ref:o,props:i,_owner:Rg.current}}function e5(t,e){return{$$typeof:Eu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eu}function t5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Sv=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t5(""+t.key):e.toString(36)}function Hd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Eu:case qS:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Tf(o,0):n,wv(i)?(r="",t!=null&&(r=t.replace(Sv,"$&/")+"/"),Hd(i,e,r,"",function(c){return c})):i!=null&&(Pg(i)&&(i=e5(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",wv(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+Tf(a,s);o+=Hd(a,e,r,l,i)}else if(l=JS(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+Tf(a,s++),o+=Hd(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wu(t,e,r){if(t==null)return t;var n=[],i=0;return Hd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function r5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xr={current:null},Wd={transition:null},n5={ReactCurrentDispatcher:Xr,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:Rg};bt.Children={map:Wu,forEach:function(t,e,r){Wu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!Pg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=Sl;bt.Fragment=VS;bt.Profiler=WS;bt.PureComponent=Ag;bt.StrictMode=HS;bt.Suspense=YS;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n5;bt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=L3({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Rg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)I3.call(e,l)&&!F3.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:Eu,type:t.type,key:i,ref:a,props:n,_owner:o}};bt.createContext=function(t){return t={$$typeof:ZS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GS,_context:t},t.Consumer=t};bt.createElement=N3;bt.createFactory=function(t){var e=N3.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:XS,render:t}};bt.isValidElement=Pg;bt.lazy=function(t){return{$$typeof:QS,_payload:{_status:-1,_result:t},_init:r5}};bt.memo=function(t,e){return{$$typeof:KS,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};bt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};bt.useCallback=function(t,e){return Xr.current.useCallback(t,e)};bt.useContext=function(t){return Xr.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return Xr.current.useDeferredValue(t)};bt.useEffect=function(t,e){return Xr.current.useEffect(t,e)};bt.useId=function(){return Xr.current.useId()};bt.useImperativeHandle=function(t,e,r){return Xr.current.useImperativeHandle(t,e,r)};bt.useInsertionEffect=function(t,e){return Xr.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return Xr.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return Xr.current.useMemo(t,e)};bt.useReducer=function(t,e,r){return Xr.current.useReducer(t,e,r)};bt.useRef=function(t){return Xr.current.useRef(t)};bt.useState=function(t){return Xr.current.useState(t)};bt.useSyncExternalStore=function(t,e,r){return Xr.current.useSyncExternalStore(t,e,r)};bt.useTransition=function(){return Xr.current.useTransition()};bt.version="18.2.0";R3.exports=bt;var E=R3.exports;const $n=A3(E),il=M3({__proto__:null,default:$n},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i5=E,a5=Symbol.for("react.element"),o5=Symbol.for("react.fragment"),s5=Object.prototype.hasOwnProperty,l5=i5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c5={key:!0,ref:!0,__self:!0,__source:!0};function z3(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)s5.call(e,n)&&!c5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:a5,type:t,key:a,ref:o,props:i,_owner:l5.current}}ih.Fragment=o5;ih.jsx=z3;ih.jsxs=z3;T3.exports=ih;var P=T3.exports,r0={},O3={exports:{}},An={},B3={exports:{}},j3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var q=F.length;F.push(z);e:for(;0<q;){var ee=q-1>>>1,V=F[ee];if(0<i(V,z))F[ee]=z,F[q]=V,q=ee;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var z=F[0],q=F.pop();if(q!==z){F[0]=q;e:for(var ee=0,V=F.length,ne=V>>>1;ee<ne;){var oe=2*(ee+1)-1,we=F[oe],W=oe+1,ke=F[W];if(0>i(we,q))W<V&&0>i(ke,we)?(F[ee]=ke,F[W]=q,ee=W):(F[ee]=we,F[oe]=q,ee=oe);else if(W<V&&0>i(ke,q))F[ee]=ke,F[W]=q,ee=W;else break e}}return z}function i(F,z){var q=F.sortIndex-z.sortIndex;return q!==0?q:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,p=null,d=3,g=!1,m=!1,h=!1,f=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(F){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=F)n(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=r(c)}}function b(F){if(h=!1,x(F),!m)if(r(l)!==null)m=!0,B(w);else{var z=r(c);z!==null&&U(b,z.startTime-F)}}function w(F,z){m=!1,h&&(h=!1,v(S),S=-1),g=!0;var q=d;try{for(x(z),p=r(l);p!==null&&(!(p.expirationTime>z)||F&&!D());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,d=p.priorityLevel;var V=ee(p.expirationTime<=z);z=t.unstable_now(),typeof V=="function"?p.callback=V:p===r(l)&&n(l),x(z)}else n(l);p=r(l)}if(p!==null)var ne=!0;else{var oe=r(c);oe!==null&&U(b,oe.startTime-z),ne=!1}return ne}finally{p=null,d=q,g=!1}}var _=!1,C=null,S=-1,M=5,T=-1;function D(){return!(t.unstable_now()-T<M)}function j(){if(C!==null){var F=t.unstable_now();T=F;var z=!0;try{z=C(!0,F)}finally{z?N():(_=!1,C=null)}}else _=!1}var N;if(typeof y=="function")N=function(){y(j)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=j,N=function(){O.postMessage(null)}}else N=function(){f(j,0)};function B(F){C=F,_||(_=!0,N())}function U(F,z){S=f(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,B(w))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var q=d;d=z;try{return F()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=d;d=F;try{return z()}finally{d=q}},t.unstable_scheduleCallback=function(F,z,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=q+V,F={id:u++,callback:z,priorityLevel:F,startTime:q,expirationTime:V,sortIndex:-1},q>ee?(F.sortIndex=q,e(c,F),r(l)===null&&F===r(c)&&(h?(v(S),S=-1):h=!0,U(b,q-ee))):(F.sortIndex=V,e(l,F),m||g||(m=!0,B(w))),F},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(F){var z=d;return function(){var q=d;d=z;try{return F.apply(this,arguments)}finally{d=q}}}})(j3);B3.exports=j3;var u5=B3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $3=E,Sn=u5;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U3=new Set,Nc={};function es(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(Nc[t]=e,t=0;t<e.length;t++)U3.add(e[t])}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n0=Object.prototype.hasOwnProperty,d5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},Ev={};function p5(t){return n0.call(Ev,t)?!0:n0.call(Cv,t)?!1:d5.test(t)?Ev[t]=!0:(Cv[t]=!0,!1)}function h5(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f5(t,e,r,n){if(e===null||typeof e>"u"||h5(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lg=/[\-:]([a-z])/g;function kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lg,kg);Pr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lg,kg);Pr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lg,kg);Pr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dg(t,e,r,n){var i=Pr.hasOwnProperty(e)?Pr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(f5(e,r,i,n)&&(r=null),n||i===null?p5(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ca=$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gu=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),i0=Symbol.for("react.profiler"),q3=Symbol.for("react.provider"),V3=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),o0=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),Aa=Symbol.for("react.lazy"),H3=Symbol.for("react.offscreen"),Mv=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,Rf;function cc(t){if(Rf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rf=e&&e[1]||""}return`
`+Rf+t}var Pf=!1;function Lf(t,e){if(!t||Pf)return"";Pf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Pf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cc(t):""}function m5(t){switch(t.tag){case 5:return cc(t.type);case 16:return cc("Lazy");case 13:return cc("Suspense");case 19:return cc("SuspenseList");case 0:case 2:case 15:return t=Lf(t.type,!1),t;case 11:return t=Lf(t.type.render,!1),t;case 1:return t=Lf(t.type,!0),t;default:return""}}function s0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case ks:return"Portal";case i0:return"Profiler";case Ig:return"StrictMode";case a0:return"Suspense";case o0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V3:return(t.displayName||"Context")+".Consumer";case q3:return(t._context.displayName||"Context")+".Provider";case Fg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ng:return e=t.displayName||null,e!==null?e:s0(t.type)||"Memo";case Aa:e=t._payload,t=t._init;try{return s0(t(e))}catch{}}return null}function g5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s0(e);case 8:return e===Ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v5(t){var e=W3(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=v5(t))}function G3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=W3(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function dp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function l0(t,e){var r=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Av(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z3(t,e){e=e.checked,e!=null&&Dg(t,"checked",e,!1)}function c0(t,e){Z3(t,e);var r=qa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?u0(t,e.type,r):e.hasOwnProperty("defaultValue")&&u0(t,e.type,qa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Tv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function u0(t,e,r){(e!=="number"||dp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var uc=Array.isArray;function Zs(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function d0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rv(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(de(92));if(uc(r)){if(1<r.length)throw Error(de(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qa(r)}}function X3(t,e){var r=qa(e.value),n=qa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Pv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Y3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Y3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xu,K3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xu=Xu||document.createElement("div"),Xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var xc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y5=["Webkit","ms","Moz","O"];Object.keys(xc).forEach(function(t){y5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xc[e]=xc[t]})});function Q3(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||xc.hasOwnProperty(t)&&xc[t]?(""+e).trim():e+"px"}function J3(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Q3(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var x5=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h0(t,e){if(e){if(x5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function f0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var m0=null;function zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var g0=null,Xs=null,Ys=null;function Lv(t){if(t=Tu(t)){if(typeof g0!="function")throw Error(de(280));var e=t.stateNode;e&&(e=ch(e),g0(t.stateNode,t.type,e))}}function eb(t){Xs?Ys?Ys.push(t):Ys=[t]:Xs=t}function tb(){if(Xs){var t=Xs,e=Ys;if(Ys=Xs=null,Lv(t),e)for(t=0;t<e.length;t++)Lv(e[t])}}function rb(t,e){return t(e)}function nb(){}var kf=!1;function ib(t,e,r){if(kf)return t(e,r);kf=!0;try{return rb(t,e,r)}finally{kf=!1,(Xs!==null||Ys!==null)&&(nb(),tb())}}function Oc(t,e){var r=t.stateNode;if(r===null)return null;var n=ch(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(de(231,e,typeof r));return r}var v0=!1;if(na)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){v0=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{v0=!1}function b5(t,e,r,n,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(u){this.onError(u)}}var bc=!1,pp=null,hp=!1,y0=null,_5={onError:function(t){bc=!0,pp=t}};function w5(t,e,r,n,i,a,o,s,l){bc=!1,pp=null,b5.apply(_5,arguments)}function S5(t,e,r,n,i,a,o,s,l){if(w5.apply(this,arguments),bc){if(bc){var c=pp;bc=!1,pp=null}else throw Error(de(198));hp||(hp=!0,y0=c)}}function ts(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ab(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kv(t){if(ts(t)!==t)throw Error(de(188))}function C5(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(de(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return kv(i),t;if(a===n)return kv(i),e;a=a.sibling}throw Error(de(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?t:e}function ob(t){return t=C5(t),t!==null?sb(t):null}function sb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sb(t);if(e!==null)return e;t=t.sibling}return null}var lb=Sn.unstable_scheduleCallback,Dv=Sn.unstable_cancelCallback,E5=Sn.unstable_shouldYield,M5=Sn.unstable_requestPaint,lr=Sn.unstable_now,A5=Sn.unstable_getCurrentPriorityLevel,Og=Sn.unstable_ImmediatePriority,cb=Sn.unstable_UserBlockingPriority,fp=Sn.unstable_NormalPriority,T5=Sn.unstable_LowPriority,ub=Sn.unstable_IdlePriority,ah=null,Ri=null;function R5(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(ah,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:k5,P5=Math.log,L5=Math.LN2;function k5(t){return t>>>=0,t===0?32:31-(P5(t)/L5|0)|0}var Yu=64,Ku=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=dc(s):(a&=o,a!==0&&(n=dc(a)))}else o=r&~i,o!==0?n=dc(o):a!==0&&(n=dc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-li(e),i=1<<r,n|=t[r],e&=~i;return n}function D5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-li(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=D5(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function x0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function db(){var t=Yu;return Yu<<=1,!(Yu&4194240)&&(Yu=64),t}function Df(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Mu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=r}function F5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-li(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Bg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-li(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Dt=0;function pb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hb,jg,fb,mb,gb,b0=!1,Qu=[],Fa=null,Na=null,za=null,Bc=new Map,jc=new Map,Ra=[],N5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iv(t,e){switch(t){case"focusin":case"focusout":Fa=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(e.pointerId)}}function zl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Tu(e),e!==null&&jg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function z5(t,e,r,n,i){switch(e){case"focusin":return Fa=zl(Fa,t,e,r,n,i),!0;case"dragenter":return Na=zl(Na,t,e,r,n,i),!0;case"mouseover":return za=zl(za,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Bc.set(a,zl(Bc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,jc.set(a,zl(jc.get(a)||null,t,e,r,n,i)),!0}return!1}function vb(t){var e=xo(t.target);if(e!==null){var r=ts(e);if(r!==null){if(e=r.tag,e===13){if(e=ab(r),e!==null){t.blockedOn=e,gb(t.priority,function(){fb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=_0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);m0=n,r.target.dispatchEvent(n),m0=null}else return e=Tu(r),e!==null&&jg(e),t.blockedOn=r,!1;e.shift()}return!0}function Fv(t,e,r){Gd(t)&&r.delete(e)}function O5(){b0=!1,Fa!==null&&Gd(Fa)&&(Fa=null),Na!==null&&Gd(Na)&&(Na=null),za!==null&&Gd(za)&&(za=null),Bc.forEach(Fv),jc.forEach(Fv)}function Ol(t,e){t.blockedOn===e&&(t.blockedOn=null,b0||(b0=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,O5)))}function $c(t){function e(i){return Ol(i,t)}if(0<Qu.length){Ol(Qu[0],t);for(var r=1;r<Qu.length;r++){var n=Qu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fa!==null&&Ol(Fa,t),Na!==null&&Ol(Na,t),za!==null&&Ol(za,t),Bc.forEach(e),jc.forEach(e),r=0;r<Ra.length;r++)n=Ra[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ra.length&&(r=Ra[0],r.blockedOn===null);)vb(r),r.blockedOn===null&&Ra.shift()}var Ks=ca.ReactCurrentBatchConfig,gp=!0;function B5(t,e,r,n){var i=Dt,a=Ks.transition;Ks.transition=null;try{Dt=1,$g(t,e,r,n)}finally{Dt=i,Ks.transition=a}}function j5(t,e,r,n){var i=Dt,a=Ks.transition;Ks.transition=null;try{Dt=4,$g(t,e,r,n)}finally{Dt=i,Ks.transition=a}}function $g(t,e,r,n){if(gp){var i=_0(t,e,r,n);if(i===null)qf(t,e,n,vp,r),Iv(t,n);else if(z5(i,t,e,r,n))n.stopPropagation();else if(Iv(t,n),e&4&&-1<N5.indexOf(t)){for(;i!==null;){var a=Tu(i);if(a!==null&&hb(a),a=_0(t,e,r,n),a===null&&qf(t,e,n,vp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else qf(t,e,n,null,r)}}var vp=null;function _0(t,e,r,n){if(vp=null,t=zg(n),t=xo(t),t!==null)if(e=ts(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ab(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vp=t,null}function yb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A5()){case Og:return 1;case cb:return 4;case fp:case T5:return 16;case ub:return 536870912;default:return 16}default:return 16}}var Da=null,Ug=null,Zd=null;function xb(){if(Zd)return Zd;var t,e=Ug,r=e.length,n,i="value"in Da?Da.value:Da.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Zd=i.slice(t,1<n?1-n:void 0)}function Xd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function Nv(){return!1}function Tn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ju:Nv,this.isPropagationStopped=Nv,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qg=Tn(Cl),Au=Qt({},Cl,{view:0,detail:0}),$5=Tn(Au),If,Ff,Bl,oh=Qt({},Au,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(If=t.screenX-Bl.screenX,Ff=t.screenY-Bl.screenY):Ff=If=0,Bl=t),If)},movementY:function(t){return"movementY"in t?t.movementY:Ff}}),zv=Tn(oh),U5=Qt({},oh,{dataTransfer:0}),q5=Tn(U5),V5=Qt({},Au,{relatedTarget:0}),Nf=Tn(V5),H5=Qt({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),W5=Tn(H5),G5=Qt({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z5=Tn(G5),X5=Qt({},Cl,{data:0}),Ov=Tn(X5),Y5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q5[t])?!!e[t]:!1}function Vg(){return J5}var eC=Qt({},Au,{key:function(t){if(t.key){var e=Y5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?K5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vg,charCode:function(t){return t.type==="keypress"?Xd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tC=Tn(eC),rC=Qt({},oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bv=Tn(rC),nC=Qt({},Au,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vg}),iC=Tn(nC),aC=Qt({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),oC=Tn(aC),sC=Qt({},oh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lC=Tn(sC),cC=[9,13,27,32],Hg=na&&"CompositionEvent"in window,_c=null;na&&"documentMode"in document&&(_c=document.documentMode);var uC=na&&"TextEvent"in window&&!_c,bb=na&&(!Hg||_c&&8<_c&&11>=_c),jv=" ",$v=!1;function _b(t,e){switch(t){case"keyup":return cC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function dC(t,e){switch(t){case"compositionend":return wb(e);case"keypress":return e.which!==32?null:($v=!0,jv);case"textInput":return t=e.data,t===jv&&$v?null:t;default:return null}}function pC(t,e){if(Is)return t==="compositionend"||!Hg&&_b(t,e)?(t=xb(),Zd=Ug=Da=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bb&&e.locale!=="ko"?null:e.data;default:return null}}var hC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hC[t.type]:e==="textarea"}function Sb(t,e,r,n){eb(n),e=yp(e,"onChange"),0<e.length&&(r=new qg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wc=null,Uc=null;function fC(t){Ib(t,0)}function sh(t){var e=zs(t);if(G3(e))return t}function mC(t,e){if(t==="change")return e}var Cb=!1;if(na){var zf;if(na){var Of="oninput"in document;if(!Of){var qv=document.createElement("div");qv.setAttribute("oninput","return;"),Of=typeof qv.oninput=="function"}zf=Of}else zf=!1;Cb=zf&&(!document.documentMode||9<document.documentMode)}function Vv(){wc&&(wc.detachEvent("onpropertychange",Eb),Uc=wc=null)}function Eb(t){if(t.propertyName==="value"&&sh(Uc)){var e=[];Sb(e,Uc,t,zg(t)),ib(fC,e)}}function gC(t,e,r){t==="focusin"?(Vv(),wc=e,Uc=r,wc.attachEvent("onpropertychange",Eb)):t==="focusout"&&Vv()}function vC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sh(Uc)}function yC(t,e){if(t==="click")return sh(e)}function xC(t,e){if(t==="input"||t==="change")return sh(e)}function bC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:bC;function qc(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!n0.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function Hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wv(t,e){var r=Hv(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hv(r)}}function Mb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ab(){for(var t=window,e=dp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=dp(t.document)}return e}function Wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _C(t){var e=Ab(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mb(r.ownerDocument.documentElement,r)){if(n!==null&&Wg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Wv(r,a);var o=Wv(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wC=na&&"documentMode"in document&&11>=document.documentMode,Fs=null,w0=null,Sc=null,S0=!1;function Gv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;S0||Fs==null||Fs!==dp(n)||(n=Fs,"selectionStart"in n&&Wg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sc&&qc(Sc,n)||(Sc=n,n=yp(w0,"onSelect"),0<n.length&&(e=new qg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Fs)))}function ed(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ns={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},Bf={},Tb={};na&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function lh(t){if(Bf[t])return Bf[t];if(!Ns[t])return t;var e=Ns[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Tb)return Bf[t]=e[r];return t}var Rb=lh("animationend"),Pb=lh("animationiteration"),Lb=lh("animationstart"),kb=lh("transitionend"),Db=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qa(t,e){Db.set(t,e),es(e,[t])}for(var jf=0;jf<Zv.length;jf++){var $f=Zv[jf],SC=$f.toLowerCase(),CC=$f[0].toUpperCase()+$f.slice(1);Qa(SC,"on"+CC)}Qa(Rb,"onAnimationEnd");Qa(Pb,"onAnimationIteration");Qa(Lb,"onAnimationStart");Qa("dblclick","onDoubleClick");Qa("focusin","onFocus");Qa("focusout","onBlur");Qa(kb,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EC=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function Xv(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,S5(n,e,void 0,t),t.currentTarget=null}function Ib(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Xv(i,s,c),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Xv(i,s,c),a=l}}}if(hp)throw t=y0,hp=!1,y0=null,t}function qt(t,e){var r=e[T0];r===void 0&&(r=e[T0]=new Set);var n=t+"__bubble";r.has(n)||(Fb(e,t,2,!1),r.add(n))}function Uf(t,e,r){var n=0;e&&(n|=4),Fb(r,t,n,e)}var td="_reactListening"+Math.random().toString(36).slice(2);function Vc(t){if(!t[td]){t[td]=!0,U3.forEach(function(r){r!=="selectionchange"&&(EC.has(r)||Uf(r,!1,t),Uf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[td]||(e[td]=!0,Uf("selectionchange",!1,e))}}function Fb(t,e,r,n){switch(yb(e)){case 1:var i=B5;break;case 4:i=j5;break;default:i=$g}r=i.bind(null,e,r,t),i=void 0,!v0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function qf(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=xo(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}ib(function(){var c=a,u=zg(r),p=[];e:{var d=Db.get(t);if(d!==void 0){var g=qg,m=t;switch(t){case"keypress":if(Xd(r)===0)break e;case"keydown":case"keyup":g=tC;break;case"focusin":m="focus",g=Nf;break;case"focusout":m="blur",g=Nf;break;case"beforeblur":case"afterblur":g=Nf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=q5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=iC;break;case Rb:case Pb:case Lb:g=W5;break;case kb:g=oC;break;case"scroll":g=$5;break;case"wheel":g=lC;break;case"copy":case"cut":case"paste":g=Z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Bv}var h=(e&4)!==0,f=!h&&t==="scroll",v=h?d!==null?d+"Capture":null:d;h=[];for(var y=c,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,v!==null&&(b=Oc(y,v),b!=null&&h.push(Hc(y,b,x)))),f)break;y=y.return}0<h.length&&(d=new g(d,m,null,r,u),p.push({event:d,listeners:h}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",d&&r!==m0&&(m=r.relatedTarget||r.fromElement)&&(xo(m)||m[ia]))break e;if((g||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,g?(m=r.relatedTarget||r.toElement,g=c,m=m?xo(m):null,m!==null&&(f=ts(m),m!==f||m.tag!==5&&m.tag!==6)&&(m=null)):(g=null,m=c),g!==m)){if(h=zv,b="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(h=Bv,b="onPointerLeave",v="onPointerEnter",y="pointer"),f=g==null?d:zs(g),x=m==null?d:zs(m),d=new h(b,y+"leave",g,r,u),d.target=f,d.relatedTarget=x,b=null,xo(u)===c&&(h=new h(v,y+"enter",m,r,u),h.target=x,h.relatedTarget=f,b=h),f=b,g&&m)t:{for(h=g,v=m,y=0,x=h;x;x=as(x))y++;for(x=0,b=v;b;b=as(b))x++;for(;0<y-x;)h=as(h),y--;for(;0<x-y;)v=as(v),x--;for(;y--;){if(h===v||v!==null&&h===v.alternate)break t;h=as(h),v=as(v)}h=null}else h=null;g!==null&&Yv(p,d,g,h,!1),m!==null&&f!==null&&Yv(p,f,m,h,!0)}}e:{if(d=c?zs(c):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var w=mC;else if(Uv(d))if(Cb)w=xC;else{w=vC;var _=gC}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=yC);if(w&&(w=w(t,c))){Sb(p,w,r,u);break e}_&&_(t,d,c),t==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&u0(d,"number",d.value)}switch(_=c?zs(c):window,t){case"focusin":(Uv(_)||_.contentEditable==="true")&&(Fs=_,w0=c,Sc=null);break;case"focusout":Sc=w0=Fs=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,Gv(p,r,u);break;case"selectionchange":if(wC)break;case"keydown":case"keyup":Gv(p,r,u)}var C;if(Hg)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Is?_b(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(bb&&r.locale!=="ko"&&(Is||S!=="onCompositionStart"?S==="onCompositionEnd"&&Is&&(C=xb()):(Da=u,Ug="value"in Da?Da.value:Da.textContent,Is=!0)),_=yp(c,S),0<_.length&&(S=new Ov(S,t,null,r,u),p.push({event:S,listeners:_}),C?S.data=C:(C=wb(r),C!==null&&(S.data=C)))),(C=uC?dC(t,r):pC(t,r))&&(c=yp(c,"onBeforeInput"),0<c.length&&(u=new Ov("onBeforeInput","beforeinput",null,r,u),p.push({event:u,listeners:c}),u.data=C))}Ib(p,e)})}function Hc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Oc(t,r),a!=null&&n.unshift(Hc(t,a,i)),a=Oc(t,e),a!=null&&n.push(Hc(t,a,i))),t=t.return}return n}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yv(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,c=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&c!==null&&(s=c,i?(l=Oc(r,a),l!=null&&o.unshift(Hc(r,l,s))):i||(l=Oc(r,a),l!=null&&o.push(Hc(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var MC=/\r\n?/g,AC=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(MC,`
`).replace(AC,"")}function rd(t,e,r){if(e=Kv(e),Kv(t)!==e&&r)throw Error(de(425))}function xp(){}var C0=null,E0=null;function M0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var A0=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,RC=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(PC)}:A0;function PC(t){setTimeout(function(){throw t})}function Vf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$c(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$c(e)}function Oa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var El=Math.random().toString(36).slice(2),Ai="__reactFiber$"+El,Wc="__reactProps$"+El,ia="__reactContainer$"+El,T0="__reactEvents$"+El,LC="__reactListeners$"+El,kC="__reactHandles$"+El;function xo(t){var e=t[Ai];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ia]||r[Ai]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Jv(t);t!==null;){if(r=t[Ai])return r;t=Jv(t)}return e}t=r,r=t.parentNode}return null}function Tu(t){return t=t[Ai]||t[ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function ch(t){return t[Wc]||null}var R0=[],Os=-1;function Ja(t){return{current:t}}function Vt(t){0>Os||(t.current=R0[Os],R0[Os]=null,Os--)}function Bt(t,e){Os++,R0[Os]=t.current,t.current=e}var Va={},Or=Ja(Va),nn=Ja(!1),Bo=Va;function ol(t,e){var r=t.type.contextTypes;if(!r)return Va;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function bp(){Vt(nn),Vt(Or)}function ey(t,e,r){if(Or.current!==Va)throw Error(de(168));Bt(Or,e),Bt(nn,r)}function Nb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(de(108,g5(t)||"Unknown",i));return Qt({},r,n)}function _p(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Va,Bo=Or.current,Bt(Or,t),Bt(nn,nn.current),!0}function ty(t,e,r){var n=t.stateNode;if(!n)throw Error(de(169));r?(t=Nb(t,e,Bo),n.__reactInternalMemoizedMergedChildContext=t,Vt(nn),Vt(Or),Bt(Or,t)):Vt(nn),Bt(nn,r)}var Yi=null,uh=!1,Hf=!1;function zb(t){Yi===null?Yi=[t]:Yi.push(t)}function DC(t){uh=!0,zb(t)}function eo(){if(!Hf&&Yi!==null){Hf=!0;var t=0,e=Dt;try{var r=Yi;for(Dt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Yi=null,uh=!1}catch(i){throw Yi!==null&&(Yi=Yi.slice(t+1)),lb(Og,eo),i}finally{Dt=e,Hf=!1}}return null}var Bs=[],js=0,wp=null,Sp=0,zn=[],On=0,jo=null,Qi=1,Ji="";function co(t,e){Bs[js++]=Sp,Bs[js++]=wp,wp=t,Sp=e}function Ob(t,e,r){zn[On++]=Qi,zn[On++]=Ji,zn[On++]=jo,jo=t;var n=Qi;t=Ji;var i=32-li(n)-1;n&=~(1<<i),r+=1;var a=32-li(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qi=1<<32-li(e)+i|r<<i|n,Ji=a+t}else Qi=1<<a|r<<i|n,Ji=t}function Gg(t){t.return!==null&&(co(t,1),Ob(t,1,0))}function Zg(t){for(;t===wp;)wp=Bs[--js],Bs[js]=null,Sp=Bs[--js],Bs[js]=null;for(;t===jo;)jo=zn[--On],zn[On]=null,Ji=zn[--On],zn[On]=null,Qi=zn[--On],zn[On]=null}var _n=null,xn=null,Gt=!1,ii=null;function Bb(t,e){var r=Un(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ry(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_n=t,xn=Oa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_n=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=jo!==null?{id:Qi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Un(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,_n=t,xn=null,!0):!1;default:return!1}}function P0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function L0(t){if(Gt){var e=xn;if(e){var r=e;if(!ry(t,e)){if(P0(t))throw Error(de(418));e=Oa(r.nextSibling);var n=_n;e&&ry(t,e)?Bb(n,r):(t.flags=t.flags&-4097|2,Gt=!1,_n=t)}}else{if(P0(t))throw Error(de(418));t.flags=t.flags&-4097|2,Gt=!1,_n=t}}}function ny(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_n=t}function nd(t){if(t!==_n)return!1;if(!Gt)return ny(t),Gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!M0(t.type,t.memoizedProps)),e&&(e=xn)){if(P0(t))throw jb(),Error(de(418));for(;e;)Bb(t,e),e=Oa(e.nextSibling)}if(ny(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xn=Oa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=_n?Oa(t.stateNode.nextSibling):null;return!0}function jb(){for(var t=xn;t;)t=Oa(t.nextSibling)}function sl(){xn=_n=null,Gt=!1}function Xg(t){ii===null?ii=[t]:ii.push(t)}var IC=ca.ReactCurrentBatchConfig;function ti(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Cp=Ja(null),Ep=null,$s=null,Yg=null;function Kg(){Yg=$s=Ep=null}function Qg(t){var e=Cp.current;Vt(Cp),t._currentValue=e}function k0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Qs(t,e){Ep=t,Yg=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(Yg!==t)if(t={context:t,memoizedValue:e,next:null},$s===null){if(Ep===null)throw Error(de(308));$s=t,Ep.dependencies={lanes:0,firstContext:t}}else $s=$s.next=t;return e}var bo=null;function Jg(t){bo===null?bo=[t]:bo.push(t)}function $b(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Jg(e)):(r.next=i.next,i.next=r),e.interleaved=r,aa(t,n)}function aa(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ta=!1;function e1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ub(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ea(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ba(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,aa(t,r)}return i=n.interleaved,i===null?(e.next=e,Jg(n)):(e.next=i.next,i.next=e),n.interleaved=e,aa(t,r)}function Yd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Bg(t,r)}}function iy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Mp(t,e,r,n){var i=t.updateQueue;Ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,c=l.next;l.next=null,o===null?a=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(a!==null){var p=i.baseState;o=0,u=c=l=null,s=a;do{var d=s.lane,g=s.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,h=s;switch(d=e,g=r,h.tag){case 1:if(m=h.payload,typeof m=="function"){p=m.call(g,p,d);break e}p=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=h.payload,d=typeof m=="function"?m.call(g,p,d):m,d==null)break e;p=Qt({},p,d);break e;case 2:Ta=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else g={eventTime:g,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(c=u=g,l=p):u=u.next=g,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Uo|=o,t.lanes=o,t.memoizedState=p}}function ay(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(de(191,i));i.call(n)}}}var qb=new $3.Component().refs;function D0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var dh={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=$a(t),a=ea(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ba(t,a,i),e!==null&&(ci(e,t,i,n),Yd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=$a(t),a=ea(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ba(t,a,i),e!==null&&(ci(e,t,i,n),Yd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vr(),n=$a(t),i=ea(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ba(t,i,n),e!==null&&(ci(e,t,n,r),Yd(e,t,n))}};function oy(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!qc(r,n)||!qc(i,a):!0}function Vb(t,e,r){var n=!1,i=Va,a=e.contextType;return typeof a=="object"&&a!==null?a=Hn(a):(i=an(e)?Bo:Or.current,n=e.contextTypes,a=(n=n!=null)?ol(t,i):Va),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function sy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&dh.enqueueReplaceState(e,e.state,null)}function I0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=qb,e1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Hn(a):(a=an(e)?Bo:Or.current,i.context=ol(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(D0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dh.enqueueReplaceState(i,i.state,null),Mp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function jl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;s===qb&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,t))}return t}function id(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ly(t){var e=t._init;return e(t._payload)}function Hb(t){function e(v,y){if(t){var x=v.deletions;x===null?(v.deletions=[y],v.flags|=16):x.push(y)}}function r(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function n(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ua(v,y),v.index=0,v.sibling=null,v}function a(v,y,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<y?(v.flags|=2,y):x):(v.flags|=2,y)):(v.flags|=1048576,y)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,y,x,b){return y===null||y.tag!==6?(y=Qf(x,v.mode,b),y.return=v,y):(y=i(y,x),y.return=v,y)}function l(v,y,x,b){var w=x.type;return w===Ds?u(v,y,x.props.children,b,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Aa&&ly(w)===y.type)?(b=i(y,x.props),b.ref=jl(v,y,x),b.return=v,b):(b=rp(x.type,x.key,x.props,null,v.mode,b),b.ref=jl(v,y,x),b.return=v,b)}function c(v,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Jf(x,v.mode,b),y.return=v,y):(y=i(y,x.children||[]),y.return=v,y)}function u(v,y,x,b,w){return y===null||y.tag!==7?(y=ko(x,v.mode,b,w),y.return=v,y):(y=i(y,x),y.return=v,y)}function p(v,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Qf(""+y,v.mode,x),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gu:return x=rp(y.type,y.key,y.props,null,v.mode,x),x.ref=jl(v,null,y),x.return=v,x;case ks:return y=Jf(y,v.mode,x),y.return=v,y;case Aa:var b=y._init;return p(v,b(y._payload),x)}if(uc(y)||Fl(y))return y=ko(y,v.mode,x,null),y.return=v,y;id(v,y)}return null}function d(v,y,x,b){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:s(v,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gu:return x.key===w?l(v,y,x,b):null;case ks:return x.key===w?c(v,y,x,b):null;case Aa:return w=x._init,d(v,y,w(x._payload),b)}if(uc(x)||Fl(x))return w!==null?null:u(v,y,x,b,null);id(v,x)}return null}function g(v,y,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(x)||null,s(y,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gu:return v=v.get(b.key===null?x:b.key)||null,l(y,v,b,w);case ks:return v=v.get(b.key===null?x:b.key)||null,c(y,v,b,w);case Aa:var _=b._init;return g(v,y,x,_(b._payload),w)}if(uc(b)||Fl(b))return v=v.get(x)||null,u(y,v,b,w,null);id(y,b)}return null}function m(v,y,x,b){for(var w=null,_=null,C=y,S=y=0,M=null;C!==null&&S<x.length;S++){C.index>S?(M=C,C=null):M=C.sibling;var T=d(v,C,x[S],b);if(T===null){C===null&&(C=M);break}t&&C&&T.alternate===null&&e(v,C),y=a(T,y,S),_===null?w=T:_.sibling=T,_=T,C=M}if(S===x.length)return r(v,C),Gt&&co(v,S),w;if(C===null){for(;S<x.length;S++)C=p(v,x[S],b),C!==null&&(y=a(C,y,S),_===null?w=C:_.sibling=C,_=C);return Gt&&co(v,S),w}for(C=n(v,C);S<x.length;S++)M=g(C,v,S,x[S],b),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?S:M.key),y=a(M,y,S),_===null?w=M:_.sibling=M,_=M);return t&&C.forEach(function(D){return e(v,D)}),Gt&&co(v,S),w}function h(v,y,x,b){var w=Fl(x);if(typeof w!="function")throw Error(de(150));if(x=w.call(x),x==null)throw Error(de(151));for(var _=w=null,C=y,S=y=0,M=null,T=x.next();C!==null&&!T.done;S++,T=x.next()){C.index>S?(M=C,C=null):M=C.sibling;var D=d(v,C,T.value,b);if(D===null){C===null&&(C=M);break}t&&C&&D.alternate===null&&e(v,C),y=a(D,y,S),_===null?w=D:_.sibling=D,_=D,C=M}if(T.done)return r(v,C),Gt&&co(v,S),w;if(C===null){for(;!T.done;S++,T=x.next())T=p(v,T.value,b),T!==null&&(y=a(T,y,S),_===null?w=T:_.sibling=T,_=T);return Gt&&co(v,S),w}for(C=n(v,C);!T.done;S++,T=x.next())T=g(C,v,S,T.value,b),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?S:T.key),y=a(T,y,S),_===null?w=T:_.sibling=T,_=T);return t&&C.forEach(function(j){return e(v,j)}),Gt&&co(v,S),w}function f(v,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Ds&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Gu:e:{for(var w=x.key,_=y;_!==null;){if(_.key===w){if(w=x.type,w===Ds){if(_.tag===7){r(v,_.sibling),y=i(_,x.props.children),y.return=v,v=y;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Aa&&ly(w)===_.type){r(v,_.sibling),y=i(_,x.props),y.ref=jl(v,_,x),y.return=v,v=y;break e}r(v,_);break}else e(v,_);_=_.sibling}x.type===Ds?(y=ko(x.props.children,v.mode,b,x.key),y.return=v,v=y):(b=rp(x.type,x.key,x.props,null,v.mode,b),b.ref=jl(v,y,x),b.return=v,v=b)}return o(v);case ks:e:{for(_=x.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(v,y.sibling),y=i(y,x.children||[]),y.return=v,v=y;break e}else{r(v,y);break}else e(v,y);y=y.sibling}y=Jf(x,v.mode,b),y.return=v,v=y}return o(v);case Aa:return _=x._init,f(v,y,_(x._payload),b)}if(uc(x))return m(v,y,x,b);if(Fl(x))return h(v,y,x,b);id(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(v,y.sibling),y=i(y,x),y.return=v,v=y):(r(v,y),y=Qf(x,v.mode,b),y.return=v,v=y),o(v)):r(v,y)}return f}var ll=Hb(!0),Wb=Hb(!1),Ru={},Pi=Ja(Ru),Gc=Ja(Ru),Zc=Ja(Ru);function _o(t){if(t===Ru)throw Error(de(174));return t}function t1(t,e){switch(Bt(Zc,e),Bt(Gc,t),Bt(Pi,Ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:p0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=p0(e,t)}Vt(Pi),Bt(Pi,e)}function cl(){Vt(Pi),Vt(Gc),Vt(Zc)}function Gb(t){_o(Zc.current);var e=_o(Pi.current),r=p0(e,t.type);e!==r&&(Bt(Gc,t),Bt(Pi,r))}function r1(t){Gc.current===t&&(Vt(Pi),Vt(Gc))}var Yt=Ja(0);function Ap(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wf=[];function n1(){for(var t=0;t<Wf.length;t++)Wf[t]._workInProgressVersionPrimary=null;Wf.length=0}var Kd=ca.ReactCurrentDispatcher,Gf=ca.ReactCurrentBatchConfig,$o=0,Kt=null,yr=null,Sr=null,Tp=!1,Cc=!1,Xc=0,FC=0;function Lr(){throw Error(de(321))}function i1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hi(t[r],e[r]))return!1;return!0}function a1(t,e,r,n,i,a){if($o=a,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kd.current=t===null||t.memoizedState===null?BC:jC,t=r(n,i),Cc){a=0;do{if(Cc=!1,Xc=0,25<=a)throw Error(de(301));a+=1,Sr=yr=null,e.updateQueue=null,Kd.current=$C,t=r(n,i)}while(Cc)}if(Kd.current=Rp,e=yr!==null&&yr.next!==null,$o=0,Sr=yr=Kt=null,Tp=!1,e)throw Error(de(300));return t}function o1(){var t=Xc!==0;return Xc=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Kt.memoizedState=Sr=t:Sr=Sr.next=t,Sr}function Wn(){if(yr===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=yr.next;var e=Sr===null?Kt.memoizedState:Sr.next;if(e!==null)Sr=e,yr=t;else{if(t===null)throw Error(de(310));yr=t,t={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Sr===null?Kt.memoizedState=Sr=t:Sr=Sr.next=t}return Sr}function Yc(t,e){return typeof e=="function"?e(t):e}function Zf(t){var e=Wn(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=yr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,c=a;do{var u=c.lane;if(($o&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var p={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(s=l=p,o=n):l=l.next=p,Kt.lanes|=u,Uo|=u}c=c.next}while(c!==null&&c!==a);l===null?o=n:l.next=s,hi(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Kt.lanes|=a,Uo|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xf(t){var e=Wn(),r=e.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);hi(a,e.memoizedState)||(tn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function Zb(){}function Xb(t,e){var r=Kt,n=Wn(),i=e(),a=!hi(n.memoizedState,i);if(a&&(n.memoizedState=i,tn=!0),n=n.queue,s1(Qb.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Sr!==null&&Sr.memoizedState.tag&1){if(r.flags|=2048,Kc(9,Kb.bind(null,r,n,i,e),void 0,null),Cr===null)throw Error(de(349));$o&30||Yb(r,e,i)}return i}function Yb(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Kb(t,e,r,n){e.value=r,e.getSnapshot=n,Jb(e)&&e_(t)}function Qb(t,e,r){return r(function(){Jb(e)&&e_(t)})}function Jb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hi(t,r)}catch{return!0}}function e_(t){var e=aa(t,1);e!==null&&ci(e,t,1,-1)}function cy(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yc,lastRenderedState:t},e.queue=t,t=t.dispatch=OC.bind(null,Kt,t),[e.memoizedState,t]}function Kc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function t_(){return Wn().memoizedState}function Qd(t,e,r,n){var i=wi();Kt.flags|=t,i.memoizedState=Kc(1|e,r,void 0,n===void 0?null:n)}function ph(t,e,r,n){var i=Wn();n=n===void 0?null:n;var a=void 0;if(yr!==null){var o=yr.memoizedState;if(a=o.destroy,n!==null&&i1(n,o.deps)){i.memoizedState=Kc(e,r,a,n);return}}Kt.flags|=t,i.memoizedState=Kc(1|e,r,a,n)}function uy(t,e){return Qd(8390656,8,t,e)}function s1(t,e){return ph(2048,8,t,e)}function r_(t,e){return ph(4,2,t,e)}function n_(t,e){return ph(4,4,t,e)}function i_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a_(t,e,r){return r=r!=null?r.concat([t]):null,ph(4,4,i_.bind(null,e,t),r)}function l1(){}function o_(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&i1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function s_(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&i1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function l_(t,e,r){return $o&21?(hi(r,e)||(r=db(),Kt.lanes|=r,Uo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function NC(t,e){var r=Dt;Dt=r!==0&&4>r?r:4,t(!0);var n=Gf.transition;Gf.transition={};try{t(!1),e()}finally{Dt=r,Gf.transition=n}}function c_(){return Wn().memoizedState}function zC(t,e,r){var n=$a(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},u_(t))d_(e,r);else if(r=$b(t,e,r,n),r!==null){var i=Vr();ci(r,t,n,i),p_(r,e,n)}}function OC(t,e,r){var n=$a(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(u_(t))d_(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,hi(s,o)){var l=e.interleaved;l===null?(i.next=i,Jg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=$b(t,e,i,n),r!==null&&(i=Vr(),ci(r,t,n,i),p_(r,e,n))}}function u_(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function d_(t,e){Cc=Tp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function p_(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Bg(t,r)}}var Rp={readContext:Hn,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useInsertionEffect:Lr,useLayoutEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useMutableSource:Lr,useSyncExternalStore:Lr,useId:Lr,unstable_isNewReconciler:!1},BC={readContext:Hn,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:uy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qd(4194308,4,i_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qd(4,2,t,e)},useMemo:function(t,e){var r=wi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=zC.bind(null,Kt,t),[n.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:cy,useDebugValue:l1,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=cy(!1),e=t[0];return t=NC.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kt,i=wi();if(Gt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=e(),Cr===null)throw Error(de(349));$o&30||Yb(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,uy(Qb.bind(null,n,a,t),[t]),n.flags|=2048,Kc(9,Kb.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=wi(),e=Cr.identifierPrefix;if(Gt){var r=Ji,n=Qi;r=(n&~(1<<32-li(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Xc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=FC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jC={readContext:Hn,useCallback:o_,useContext:Hn,useEffect:s1,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:n_,useMemo:s_,useReducer:Zf,useRef:t_,useState:function(){return Zf(Yc)},useDebugValue:l1,useDeferredValue:function(t){var e=Wn();return l_(e,yr.memoizedState,t)},useTransition:function(){var t=Zf(Yc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:Zb,useSyncExternalStore:Xb,useId:c_,unstable_isNewReconciler:!1},$C={readContext:Hn,useCallback:o_,useContext:Hn,useEffect:s1,useImperativeHandle:a_,useInsertionEffect:r_,useLayoutEffect:n_,useMemo:s_,useReducer:Xf,useRef:t_,useState:function(){return Xf(Yc)},useDebugValue:l1,useDeferredValue:function(t){var e=Wn();return yr===null?e.memoizedState=t:l_(e,yr.memoizedState,t)},useTransition:function(){var t=Xf(Yc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:Zb,useSyncExternalStore:Xb,useId:c_,unstable_isNewReconciler:!1};function ul(t,e){try{var r="",n=e;do r+=m5(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Yf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function F0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var UC=typeof WeakMap=="function"?WeakMap:Map;function h_(t,e,r){r=ea(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Lp||(Lp=!0,H0=n),F0(t,e)},r}function f_(t,e,r){r=ea(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){F0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){F0(t,e),typeof n!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function dy(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new UC;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=rE.bind(null,t,e,r),e.then(t,t))}function py(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hy(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ea(-1,1),e.tag=2,Ba(r,e,1))),r.lanes|=1),t)}var qC=ca.ReactCurrentOwner,tn=!1;function Ur(t,e,r,n){e.child=t===null?Wb(e,null,r,n):ll(e,t.child,r,n)}function fy(t,e,r,n,i){r=r.render;var a=e.ref;return Qs(e,i),n=a1(t,e,r,n,a,i),r=o1(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oa(t,e,i)):(Gt&&r&&Gg(e),e.flags|=1,Ur(t,e,n,i),e.child)}function my(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!g1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,m_(t,e,a,n,i)):(t=rp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:qc,r(o,n)&&t.ref===e.ref)return oa(t,e,i)}return e.flags|=1,t=Ua(a,n),t.ref=e.ref,t.return=e,e.child=t}function m_(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(qc(a,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,oa(t,e,i)}return N0(t,e,r,n,i)}function g_(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(qs,mn),mn|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bt(qs,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Bt(qs,mn),mn|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Bt(qs,mn),mn|=n;return Ur(t,e,i,r),e.child}function v_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function N0(t,e,r,n,i){var a=an(r)?Bo:Or.current;return a=ol(e,a),Qs(e,i),r=a1(t,e,r,n,a,i),n=o1(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oa(t,e,i)):(Gt&&n&&Gg(e),e.flags|=1,Ur(t,e,r,i),e.child)}function gy(t,e,r,n,i){if(an(r)){var a=!0;_p(e)}else a=!1;if(Qs(e,i),e.stateNode===null)Jd(t,e),Vb(e,r,n),I0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=an(r)?Bo:Or.current,c=ol(e,c));var u=r.getDerivedStateFromProps,p=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==c)&&sy(e,o,n,c),Ta=!1;var d=e.memoizedState;o.state=d,Mp(e,n,o,i),l=e.memoizedState,s!==n||d!==l||nn.current||Ta?(typeof u=="function"&&(D0(e,r,u,n),l=e.memoizedState),(s=Ta||oy(e,r,s,n,d,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Ub(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ti(e.type,s),o.props=c,p=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=an(r)?Bo:Or.current,l=ol(e,l));var g=r.getDerivedStateFromProps;(u=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==p||d!==l)&&sy(e,o,n,l),Ta=!1,d=e.memoizedState,o.state=d,Mp(e,n,o,i);var m=e.memoizedState;s!==p||d!==m||nn.current||Ta?(typeof g=="function"&&(D0(e,r,g,n),m=e.memoizedState),(c=Ta||oy(e,r,c,n,d,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return z0(t,e,r,n,a,i)}function z0(t,e,r,n,i,a){v_(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&ty(e,r,!1),oa(t,e,a);n=e.stateNode,qC.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ll(e,t.child,null,a),e.child=ll(e,null,s,a)):Ur(t,e,s,a),e.memoizedState=n.state,i&&ty(e,r,!0),e.child}function y_(t){var e=t.stateNode;e.pendingContext?ey(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ey(t,e.context,!1),t1(t,e.containerInfo)}function vy(t,e,r,n,i){return sl(),Xg(i),e.flags|=256,Ur(t,e,r,n),e.child}var O0={dehydrated:null,treeContext:null,retryLane:0};function B0(t){return{baseLanes:t,cachePool:null,transitions:null}}function x_(t,e,r){var n=e.pendingProps,i=Yt.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bt(Yt,i&1),t===null)return L0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=mh(o,n,0,null),t=ko(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=B0(r),e.memoizedState=O0,t):c1(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return VC(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ua(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ua(s,a):(a=ko(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?B0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=O0,n}return a=t.child,t=a.sibling,n=Ua(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function c1(t,e){return e=mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,r,n){return n!==null&&Xg(n),ll(e,t.child,null,r),t=c1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VC(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=Yf(Error(de(422))),ad(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=mh({mode:"visible",children:n.children},i,0,null),a=ko(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&ll(e,t.child,null,o),e.child.memoizedState=B0(o),e.memoizedState=O0,a);if(!(e.mode&1))return ad(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(de(419)),n=Yf(a,n,void 0),ad(t,e,o,n)}if(s=(o&t.childLanes)!==0,tn||s){if(n=Cr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,aa(t,i),ci(n,t,i,-1))}return m1(),n=Yf(Error(de(421))),ad(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nE.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,xn=Oa(i.nextSibling),_n=e,Gt=!0,ii=null,t!==null&&(zn[On++]=Qi,zn[On++]=Ji,zn[On++]=jo,Qi=t.id,Ji=t.overflow,jo=e),e=c1(e,n.children),e.flags|=4096,e)}function yy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),k0(t.return,e,r)}function Kf(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function b_(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Ur(t,e,n.children,r),n=Yt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yy(t,r,e);else if(t.tag===19)yy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Bt(Yt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ap(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Kf(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ap(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Kf(e,!0,r,null,a);break;case"together":Kf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Uo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,r=Ua(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ua(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function HC(t,e,r){switch(e.tag){case 3:y_(e),sl();break;case 5:Gb(e);break;case 1:an(e.type)&&_p(e);break;case 4:t1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Bt(Cp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Bt(Yt,Yt.current&1),e.flags|=128,null):r&e.child.childLanes?x_(t,e,r):(Bt(Yt,Yt.current&1),t=oa(t,e,r),t!==null?t.sibling:null);Bt(Yt,Yt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return b_(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bt(Yt,Yt.current),n)break;return null;case 22:case 23:return e.lanes=0,g_(t,e,r)}return oa(t,e,r)}var __,j0,w_,S_;__=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};j0=function(){};w_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,_o(Pi.current);var a=null;switch(r){case"input":i=l0(t,i),n=l0(t,n),a=[];break;case"select":i=Qt({},i,{value:void 0}),n=Qt({},n,{value:void 0}),a=[];break;case"textarea":i=d0(t,i),n=d0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xp)}h0(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nc.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==s&&(l!=null||s!=null))if(c==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};S_=function(t,e,r,n){r!==n&&(e.flags|=4)};function $l(t,e){if(!Gt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function kr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function WC(t,e,r){var n=e.pendingProps;switch(Zg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return an(e.type)&&bp(),kr(e),null;case 3:return n=e.stateNode,cl(),Vt(nn),Vt(Or),n1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(Z0(ii),ii=null))),j0(t,e),kr(e),null;case 5:r1(e);var i=_o(Zc.current);if(r=e.type,t!==null&&e.stateNode!=null)w_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(de(166));return kr(e),null}if(t=_o(Pi.current),nd(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Ai]=e,n[Wc]=a,t=(e.mode&1)!==0,r){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(i=0;i<pc.length;i++)qt(pc[i],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":Av(n,a),qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},qt("invalid",n);break;case"textarea":Rv(n,a),qt("invalid",n)}h0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&rd(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&rd(n.textContent,s,t),i=["children",""+s]):Nc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&qt("scroll",n)}switch(r){case"input":Zu(n),Tv(n,a,!0);break;case"textarea":Zu(n),Pv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=xp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Y3(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ai]=e,t[Wc]=n,__(t,e,!1,!1),e.stateNode=t;e:{switch(o=f0(r,n),r){case"dialog":qt("cancel",t),qt("close",t),i=n;break;case"iframe":case"object":case"embed":qt("load",t),i=n;break;case"video":case"audio":for(i=0;i<pc.length;i++)qt(pc[i],t);i=n;break;case"source":qt("error",t),i=n;break;case"img":case"image":case"link":qt("error",t),qt("load",t),i=n;break;case"details":qt("toggle",t),i=n;break;case"input":Av(t,n),i=l0(t,n),qt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Qt({},n,{value:void 0}),qt("invalid",t);break;case"textarea":Rv(t,n),i=d0(t,n),qt("invalid",t);break;default:i=n}h0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?J3(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&K3(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zc(t,l):typeof l=="number"&&zc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&qt("scroll",t):l!=null&&Dg(t,a,l,o))}switch(r){case"input":Zu(t),Tv(t,n,!1);break;case"textarea":Zu(t),Pv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qa(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Zs(t,!!n.multiple,a,!1):n.defaultValue!=null&&Zs(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kr(e),null;case 6:if(t&&e.stateNode!=null)S_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(de(166));if(r=_o(Zc.current),_o(Pi.current),nd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ai]=e,(a=n.nodeValue!==r)&&(t=_n,t!==null))switch(t.tag){case 3:rd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rd(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ai]=e,e.stateNode=n}return kr(e),null;case 13:if(Vt(Yt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Gt&&xn!==null&&e.mode&1&&!(e.flags&128))jb(),sl(),e.flags|=98560,a=!1;else if(a=nd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(de(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(de(317));a[Ai]=e}else sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),a=!1}else ii!==null&&(Z0(ii),ii=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Yt.current&1?xr===0&&(xr=3):m1())),e.updateQueue!==null&&(e.flags|=4),kr(e),null);case 4:return cl(),j0(t,e),t===null&&Vc(e.stateNode.containerInfo),kr(e),null;case 10:return Qg(e.type._context),kr(e),null;case 17:return an(e.type)&&bp(),kr(e),null;case 19:if(Vt(Yt),a=e.memoizedState,a===null)return kr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)$l(a,!1);else{if(xr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ap(t),o!==null){for(e.flags|=128,$l(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Bt(Yt,Yt.current&1|2),e.child}t=t.sibling}a.tail!==null&&lr()>dl&&(e.flags|=128,n=!0,$l(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ap(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$l(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Gt)return kr(e),null}else 2*lr()-a.renderingStartTime>dl&&r!==1073741824&&(e.flags|=128,n=!0,$l(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=lr(),e.sibling=null,r=Yt.current,Bt(Yt,n?r&1|2:r&1),e):(kr(e),null);case 22:case 23:return f1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mn&1073741824&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function GC(t,e){switch(Zg(e),e.tag){case 1:return an(e.type)&&bp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),Vt(nn),Vt(Or),n1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r1(e),null;case 13:if(Vt(Yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vt(Yt),null;case 4:return cl(),null;case 10:return Qg(e.type._context),null;case 22:case 23:return f1(),null;case 24:return null;default:return null}}var od=!1,Nr=!1,ZC=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Us(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nr(t,e,n)}else r.current=null}function $0(t,e,r){try{r()}catch(n){nr(t,e,n)}}var xy=!1;function XC(t,e){if(C0=gp,t=Ab(),Wg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,c=0,u=0,p=t,d=null;t:for(;;){for(var g;p!==r||i!==0&&p.nodeType!==3||(s=o+i),p!==a||n!==0&&p.nodeType!==3||(l=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)d=p,p=g;for(;;){if(p===t)break t;if(d===r&&++c===i&&(s=o),d===a&&++u===n&&(l=o),(g=p.nextSibling)!==null)break;p=d,d=p.parentNode}p=g}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(E0={focusedElem:t,selectionRange:r},gp=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var h=m.memoizedProps,f=m.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?h:ti(e.type,h),f);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(b){nr(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return m=xy,xy=!1,m}function Ec(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&$0(e,r,a)}i=i.next}while(i!==n)}}function hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function U0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function C_(t){var e=t.alternate;e!==null&&(t.alternate=null,C_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ai],delete e[Wc],delete e[T0],delete e[LC],delete e[kC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function E_(t){return t.tag===5||t.tag===3||t.tag===4}function by(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||E_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function q0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xp));else if(n!==4&&(t=t.child,t!==null))for(q0(t,e,r),t=t.sibling;t!==null;)q0(t,e,r),t=t.sibling}function V0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(V0(t,e,r),t=t.sibling;t!==null;)V0(t,e,r),t=t.sibling}var Ar=null,ri=!1;function ga(t,e,r){for(r=r.child;r!==null;)M_(t,e,r),r=r.sibling}function M_(t,e,r){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(ah,r)}catch{}switch(r.tag){case 5:Nr||Us(r,e);case 6:var n=Ar,i=ri;Ar=null,ga(t,e,r),Ar=n,ri=i,Ar!==null&&(ri?(t=Ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(ri?(t=Ar,r=r.stateNode,t.nodeType===8?Vf(t.parentNode,r):t.nodeType===1&&Vf(t,r),$c(t)):Vf(Ar,r.stateNode));break;case 4:n=Ar,i=ri,Ar=r.stateNode.containerInfo,ri=!0,ga(t,e,r),Ar=n,ri=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&$0(r,e,o),i=i.next}while(i!==n)}ga(t,e,r);break;case 1:if(!Nr&&(Us(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){nr(r,e,s)}ga(t,e,r);break;case 21:ga(t,e,r);break;case 22:r.mode&1?(Nr=(n=Nr)||r.memoizedState!==null,ga(t,e,r),Nr=n):ga(t,e,r);break;default:ga(t,e,r)}}function _y(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ZC),e.forEach(function(n){var i=iE.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ar=s.stateNode,ri=!1;break e;case 3:Ar=s.stateNode.containerInfo,ri=!0;break e;case 4:Ar=s.stateNode.containerInfo,ri=!0;break e}s=s.return}if(Ar===null)throw Error(de(160));M_(a,o,i),Ar=null,ri=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A_(e,t),e=e.sibling}function A_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),yi(t),n&4){try{Ec(3,t,t.return),hh(3,t)}catch(h){nr(t,t.return,h)}try{Ec(5,t,t.return)}catch(h){nr(t,t.return,h)}}break;case 1:Xn(e,t),yi(t),n&512&&r!==null&&Us(r,r.return);break;case 5:if(Xn(e,t),yi(t),n&512&&r!==null&&Us(r,r.return),t.flags&32){var i=t.stateNode;try{zc(i,"")}catch(h){nr(t,t.return,h)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Z3(i,a),f0(s,o);var c=f0(s,a);for(o=0;o<l.length;o+=2){var u=l[o],p=l[o+1];u==="style"?J3(i,p):u==="dangerouslySetInnerHTML"?K3(i,p):u==="children"?zc(i,p):Dg(i,u,p,c)}switch(s){case"input":c0(i,a);break;case"textarea":X3(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Zs(i,!!a.multiple,g,!1):d!==!!a.multiple&&(a.defaultValue!=null?Zs(i,!!a.multiple,a.defaultValue,!0):Zs(i,!!a.multiple,a.multiple?[]:"",!1))}i[Wc]=a}catch(h){nr(t,t.return,h)}}break;case 6:if(Xn(e,t),yi(t),n&4){if(t.stateNode===null)throw Error(de(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(h){nr(t,t.return,h)}}break;case 3:if(Xn(e,t),yi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$c(e.containerInfo)}catch(h){nr(t,t.return,h)}break;case 4:Xn(e,t),yi(t);break;case 13:Xn(e,t),yi(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(p1=lr())),n&4&&_y(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Nr=(c=Nr)||u,Xn(e,t),Nr=c):Xn(e,t),yi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ze=t,u=t.child;u!==null;){for(p=ze=u;ze!==null;){switch(d=ze,g=d.child,d.tag){case 0:case 11:case 14:case 15:Ec(4,d,d.return);break;case 1:Us(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(h){nr(n,r,h)}}break;case 5:Us(d,d.return);break;case 22:if(d.memoizedState!==null){Sy(p);continue}}g!==null?(g.return=d,ze=g):Sy(p)}u=u.sibling}e:for(u=null,p=t;;){if(p.tag===5){if(u===null){u=p;try{i=p.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Q3("display",o))}catch(h){nr(t,t.return,h)}}}else if(p.tag===6){if(u===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(h){nr(t,t.return,h)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xn(e,t),yi(t),n&4&&_y(t);break;case 21:break;default:Xn(e,t),yi(t)}}function yi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(E_(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zc(i,""),n.flags&=-33);var a=by(t);V0(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=by(t);q0(t,s,o);break;default:throw Error(de(161))}}catch(l){nr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YC(t,e,r){ze=t,T_(t)}function T_(t,e,r){for(var n=(t.mode&1)!==0;ze!==null;){var i=ze,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||od;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Nr;s=od;var c=Nr;if(od=o,(Nr=l)&&!c)for(ze=i;ze!==null;)o=ze,l=o.child,o.tag===22&&o.memoizedState!==null?Cy(i):l!==null?(l.return=o,ze=l):Cy(i);for(;a!==null;)ze=a,T_(a),a=a.sibling;ze=i,od=s,Nr=c}wy(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ze=a):wy(t)}}function wy(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||hh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Nr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ti(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&ay(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ay(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var p=u.dehydrated;p!==null&&$c(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Nr||e.flags&512&&U0(e)}catch(d){nr(e,e.return,d)}}if(e===t){ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,ze=r;break}ze=e.return}}function Sy(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ze=r;break}ze=e.return}}function Cy(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{hh(4,e)}catch(l){nr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){nr(e,i,l)}}var a=e.return;try{U0(e)}catch(l){nr(e,a,l)}break;case 5:var o=e.return;try{U0(e)}catch(l){nr(e,o,l)}}}catch(l){nr(e,e.return,l)}if(e===t){ze=null;break}var s=e.sibling;if(s!==null){s.return=e.return,ze=s;break}ze=e.return}}var KC=Math.ceil,Pp=ca.ReactCurrentDispatcher,u1=ca.ReactCurrentOwner,Vn=ca.ReactCurrentBatchConfig,Et=0,Cr=null,mr=null,Rr=0,mn=0,qs=Ja(0),xr=0,Qc=null,Uo=0,fh=0,d1=0,Mc=null,en=null,p1=0,dl=1/0,Zi=null,Lp=!1,H0=null,ja=null,sd=!1,Ia=null,kp=0,Ac=0,W0=null,ep=-1,tp=0;function Vr(){return Et&6?lr():ep!==-1?ep:ep=lr()}function $a(t){return t.mode&1?Et&2&&Rr!==0?Rr&-Rr:IC.transition!==null?(tp===0&&(tp=db()),tp):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:yb(t.type)),t):1}function ci(t,e,r,n){if(50<Ac)throw Ac=0,W0=null,Error(de(185));Mu(t,r,n),(!(Et&2)||t!==Cr)&&(t===Cr&&(!(Et&2)&&(fh|=r),xr===4&&Pa(t,Rr)),on(t,n),r===1&&Et===0&&!(e.mode&1)&&(dl=lr()+500,uh&&eo()))}function on(t,e){var r=t.callbackNode;I5(t,e);var n=mp(t,t===Cr?Rr:0);if(n===0)r!==null&&Dv(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Dv(r),e===1)t.tag===0?DC(Ey.bind(null,t)):zb(Ey.bind(null,t)),RC(function(){!(Et&6)&&eo()}),r=null;else{switch(pb(n)){case 1:r=Og;break;case 4:r=cb;break;case 16:r=fp;break;case 536870912:r=ub;break;default:r=fp}r=N_(r,R_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function R_(t,e){if(ep=-1,tp=0,Et&6)throw Error(de(327));var r=t.callbackNode;if(Js()&&t.callbackNode!==r)return null;var n=mp(t,t===Cr?Rr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Dp(t,n);else{e=n;var i=Et;Et|=2;var a=L_();(Cr!==t||Rr!==e)&&(Zi=null,dl=lr()+500,Lo(t,e));do try{eE();break}catch(s){P_(t,s)}while(!0);Kg(),Pp.current=a,Et=i,mr!==null?e=0:(Cr=null,Rr=0,e=xr)}if(e!==0){if(e===2&&(i=x0(t),i!==0&&(n=i,e=G0(t,i))),e===1)throw r=Qc,Lo(t,0),Pa(t,n),on(t,lr()),r;if(e===6)Pa(t,n);else{if(i=t.current.alternate,!(n&30)&&!QC(i)&&(e=Dp(t,n),e===2&&(a=x0(t),a!==0&&(n=a,e=G0(t,a))),e===1))throw r=Qc,Lo(t,0),Pa(t,n),on(t,lr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(de(345));case 2:uo(t,en,Zi);break;case 3:if(Pa(t,n),(n&130023424)===n&&(e=p1+500-lr(),10<e)){if(mp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=A0(uo.bind(null,t,en,Zi),e);break}uo(t,en,Zi);break;case 4:if(Pa(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-li(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=lr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*KC(n/1960))-n,10<n){t.timeoutHandle=A0(uo.bind(null,t,en,Zi),n);break}uo(t,en,Zi);break;case 5:uo(t,en,Zi);break;default:throw Error(de(329))}}}return on(t,lr()),t.callbackNode===r?R_.bind(null,t):null}function G0(t,e){var r=Mc;return t.current.memoizedState.isDehydrated&&(Lo(t,e).flags|=256),t=Dp(t,e),t!==2&&(e=en,en=r,e!==null&&Z0(e)),t}function Z0(t){en===null?en=t:en.push.apply(en,t)}function QC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!hi(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pa(t,e){for(e&=~d1,e&=~fh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-li(e),n=1<<r;t[r]=-1,e&=~n}}function Ey(t){if(Et&6)throw Error(de(327));Js();var e=mp(t,0);if(!(e&1))return on(t,lr()),null;var r=Dp(t,e);if(t.tag!==0&&r===2){var n=x0(t);n!==0&&(e=n,r=G0(t,n))}if(r===1)throw r=Qc,Lo(t,0),Pa(t,e),on(t,lr()),r;if(r===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,uo(t,en,Zi),on(t,lr()),null}function h1(t,e){var r=Et;Et|=1;try{return t(e)}finally{Et=r,Et===0&&(dl=lr()+500,uh&&eo())}}function qo(t){Ia!==null&&Ia.tag===0&&!(Et&6)&&Js();var e=Et;Et|=1;var r=Vn.transition,n=Dt;try{if(Vn.transition=null,Dt=1,t)return t()}finally{Dt=n,Vn.transition=r,Et=e,!(Et&6)&&eo()}}function f1(){mn=qs.current,Vt(qs)}function Lo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,TC(r)),mr!==null)for(r=mr.return;r!==null;){var n=r;switch(Zg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bp();break;case 3:cl(),Vt(nn),Vt(Or),n1();break;case 5:r1(n);break;case 4:cl();break;case 13:Vt(Yt);break;case 19:Vt(Yt);break;case 10:Qg(n.type._context);break;case 22:case 23:f1()}r=r.return}if(Cr=t,mr=t=Ua(t.current,null),Rr=mn=e,xr=0,Qc=null,d1=fh=Uo=0,en=Mc=null,bo!==null){for(e=0;e<bo.length;e++)if(r=bo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}bo=null}return t}function P_(t,e){do{var r=mr;try{if(Kg(),Kd.current=Rp,Tp){for(var n=Kt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Tp=!1}if($o=0,Sr=yr=Kt=null,Cc=!1,Xc=0,u1.current=null,r===null||r.return===null){xr=1,Qc=e,mr=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=Rr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=s,p=u.tag;if(!(u.mode&1)&&(p===0||p===11||p===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=py(o);if(g!==null){g.flags&=-257,hy(g,o,s,a,e),g.mode&1&&dy(a,c,e),e=g,l=c;var m=e.updateQueue;if(m===null){var h=new Set;h.add(l),e.updateQueue=h}else m.add(l);break e}else{if(!(e&1)){dy(a,c,e),m1();break e}l=Error(de(426))}}else if(Gt&&s.mode&1){var f=py(o);if(f!==null){!(f.flags&65536)&&(f.flags|=256),hy(f,o,s,a,e),Xg(ul(l,s));break e}}a=l=ul(l,s),xr!==4&&(xr=2),Mc===null?Mc=[a]:Mc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=h_(a,l,e);iy(a,v);break e;case 1:s=l;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ja===null||!ja.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=f_(a,s,e);iy(a,b);break e}}a=a.return}while(a!==null)}D_(r)}catch(w){e=w,mr===r&&r!==null&&(mr=r=r.return);continue}break}while(!0)}function L_(){var t=Pp.current;return Pp.current=Rp,t===null?Rp:t}function m1(){(xr===0||xr===3||xr===2)&&(xr=4),Cr===null||!(Uo&268435455)&&!(fh&268435455)||Pa(Cr,Rr)}function Dp(t,e){var r=Et;Et|=2;var n=L_();(Cr!==t||Rr!==e)&&(Zi=null,Lo(t,e));do try{JC();break}catch(i){P_(t,i)}while(!0);if(Kg(),Et=r,Pp.current=n,mr!==null)throw Error(de(261));return Cr=null,Rr=0,xr}function JC(){for(;mr!==null;)k_(mr)}function eE(){for(;mr!==null&&!E5();)k_(mr)}function k_(t){var e=F_(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?D_(t):mr=e,u1.current=null}function D_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=GC(r,e),r!==null){r.flags&=32767,mr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xr=6,mr=null;return}}else if(r=WC(r,e,mn),r!==null){mr=r;return}if(e=e.sibling,e!==null){mr=e;return}mr=e=t}while(e!==null);xr===0&&(xr=5)}function uo(t,e,r){var n=Dt,i=Vn.transition;try{Vn.transition=null,Dt=1,tE(t,e,r,n)}finally{Vn.transition=i,Dt=n}return null}function tE(t,e,r,n){do Js();while(Ia!==null);if(Et&6)throw Error(de(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(F5(t,a),t===Cr&&(mr=Cr=null,Rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sd||(sd=!0,N_(fp,function(){return Js(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Vn.transition,Vn.transition=null;var o=Dt;Dt=1;var s=Et;Et|=4,u1.current=null,XC(t,r),A_(r,t),_C(E0),gp=!!C0,E0=C0=null,t.current=r,YC(r),M5(),Et=s,Dt=o,Vn.transition=a}else t.current=r;if(sd&&(sd=!1,Ia=t,kp=i),a=t.pendingLanes,a===0&&(ja=null),R5(r.stateNode),on(t,lr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Lp)throw Lp=!1,t=H0,H0=null,t;return kp&1&&t.tag!==0&&Js(),a=t.pendingLanes,a&1?t===W0?Ac++:(Ac=0,W0=t):Ac=0,eo(),null}function Js(){if(Ia!==null){var t=pb(kp),e=Vn.transition,r=Dt;try{if(Vn.transition=null,Dt=16>t?16:t,Ia===null)var n=!1;else{if(t=Ia,Ia=null,kp=0,Et&6)throw Error(de(331));var i=Et;for(Et|=4,ze=t.current;ze!==null;){var a=ze,o=a.child;if(ze.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var c=s[l];for(ze=c;ze!==null;){var u=ze;switch(u.tag){case 0:case 11:case 15:Ec(8,u,a)}var p=u.child;if(p!==null)p.return=u,ze=p;else for(;ze!==null;){u=ze;var d=u.sibling,g=u.return;if(C_(u),u===c){ze=null;break}if(d!==null){d.return=g,ze=d;break}ze=g}}}var m=a.alternate;if(m!==null){var h=m.child;if(h!==null){m.child=null;do{var f=h.sibling;h.sibling=null,h=f}while(h!==null)}}ze=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ze=o;else e:for(;ze!==null;){if(a=ze,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ec(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ze=v;break e}ze=a.return}}var y=t.current;for(ze=y;ze!==null;){o=ze;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ze=x;else e:for(o=y;ze!==null;){if(s=ze,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:hh(9,s)}}catch(w){nr(s,s.return,w)}if(s===o){ze=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,ze=b;break e}ze=s.return}}if(Et=i,eo(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(ah,t)}catch{}n=!0}return n}finally{Dt=r,Vn.transition=e}}return!1}function My(t,e,r){e=ul(r,e),e=h_(t,e,1),t=Ba(t,e,1),e=Vr(),t!==null&&(Mu(t,1,e),on(t,e))}function nr(t,e,r){if(t.tag===3)My(t,t,r);else for(;e!==null;){if(e.tag===3){My(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ja===null||!ja.has(n))){t=ul(r,t),t=f_(e,t,1),e=Ba(e,t,1),t=Vr(),e!==null&&(Mu(e,1,t),on(e,t));break}}e=e.return}}function rE(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&r,Cr===t&&(Rr&r)===r&&(xr===4||xr===3&&(Rr&130023424)===Rr&&500>lr()-p1?Lo(t,0):d1|=r),on(t,e)}function I_(t,e){e===0&&(t.mode&1?(e=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):e=1);var r=Vr();t=aa(t,e),t!==null&&(Mu(t,e,r),on(t,r))}function nE(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),I_(t,r)}function iE(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(e),I_(t,r)}var F_;F_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,HC(t,e,r);tn=!!(t.flags&131072)}else tn=!1,Gt&&e.flags&1048576&&Ob(e,Sp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Jd(t,e),t=e.pendingProps;var i=ol(e,Or.current);Qs(e,r),i=a1(null,e,n,t,i,r);var a=o1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(n)?(a=!0,_p(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e1(e),i.updater=dh,e.stateNode=i,i._reactInternals=e,I0(e,n,t,r),e=z0(null,e,n,!0,a,r)):(e.tag=0,Gt&&a&&Gg(e),Ur(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=oE(n),t=ti(n,t),i){case 0:e=N0(null,e,n,t,r);break e;case 1:e=gy(null,e,n,t,r);break e;case 11:e=fy(null,e,n,t,r);break e;case 14:e=my(null,e,n,ti(n.type,t),r);break e}throw Error(de(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),N0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),gy(t,e,n,i,r);case 3:e:{if(y_(e),t===null)throw Error(de(387));n=e.pendingProps,a=e.memoizedState,i=a.element,Ub(t,e),Mp(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=ul(Error(de(423)),e),e=vy(t,e,n,r,i);break e}else if(n!==i){i=ul(Error(de(424)),e),e=vy(t,e,n,r,i);break e}else for(xn=Oa(e.stateNode.containerInfo.firstChild),_n=e,Gt=!0,ii=null,r=Wb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sl(),n===i){e=oa(t,e,r);break e}Ur(t,e,n,r)}e=e.child}return e;case 5:return Gb(e),t===null&&L0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,M0(n,i)?o=null:a!==null&&M0(n,a)&&(e.flags|=32),v_(t,e),Ur(t,e,o,r),e.child;case 6:return t===null&&L0(e),null;case 13:return x_(t,e,r);case 4:return t1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ll(e,null,n,r):Ur(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),fy(t,e,n,i,r);case 7:return Ur(t,e,e.pendingProps,r),e.child;case 8:return Ur(t,e,e.pendingProps.children,r),e.child;case 12:return Ur(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Bt(Cp,n._currentValue),n._currentValue=o,a!==null)if(hi(a.value,o)){if(a.children===i.children&&!nn.current){e=oa(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=ea(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),k0(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(de(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),k0(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ur(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Qs(e,r),i=Hn(i),n=n(i),e.flags|=1,Ur(t,e,n,r),e.child;case 14:return n=e.type,i=ti(n,e.pendingProps),i=ti(n.type,i),my(t,e,n,i,r);case 15:return m_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ti(n,i),Jd(t,e),e.tag=1,an(n)?(t=!0,_p(e)):t=!1,Qs(e,r),Vb(e,n,i),I0(e,n,i,r),z0(null,e,n,!0,t,r);case 19:return b_(t,e,r);case 22:return g_(t,e,r)}throw Error(de(156,e.tag))};function N_(t,e){return lb(t,e)}function aE(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,r,n){return new aE(t,e,r,n)}function g1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oE(t){if(typeof t=="function")return g1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fg)return 11;if(t===Ng)return 14}return 2}function Ua(t,e){var r=t.alternate;return r===null?(r=Un(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function rp(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")g1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return ko(r.children,i,a,e);case Ig:o=8,i|=8;break;case i0:return t=Un(12,r,e,i|2),t.elementType=i0,t.lanes=a,t;case a0:return t=Un(13,r,e,i),t.elementType=a0,t.lanes=a,t;case o0:return t=Un(19,r,e,i),t.elementType=o0,t.lanes=a,t;case H3:return mh(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q3:o=10;break e;case V3:o=9;break e;case Fg:o=11;break e;case Ng:o=14;break e;case Aa:o=16,n=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Un(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ko(t,e,r,n){return t=Un(7,t,n,e),t.lanes=r,t}function mh(t,e,r,n){return t=Un(22,t,n,e),t.elementType=H3,t.lanes=r,t.stateNode={isHidden:!1},t}function Qf(t,e,r){return t=Un(6,t,null,e),t.lanes=r,t}function Jf(t,e,r){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sE(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(t,e,r,n,i,a,o,s,l){return t=new sE(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Un(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},e1(a),t}function lE(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function z_(t){if(!t)return Va;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var r=t.type;if(an(r))return Nb(t,r,e)}return e}function O_(t,e,r,n,i,a,o,s,l){return t=v1(r,n,!0,t,i,a,o,s,l),t.context=z_(null),r=t.current,n=Vr(),i=$a(r),a=ea(n,i),a.callback=e??null,Ba(r,a,i),t.current.lanes=i,Mu(t,i,n),on(t,n),t}function gh(t,e,r,n){var i=e.current,a=Vr(),o=$a(i);return r=z_(r),e.context===null?e.context=r:e.pendingContext=r,e=ea(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ba(i,e,o),t!==null&&(ci(t,i,o,a),Yd(t,i,o)),o}function Ip(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ay(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function y1(t,e){Ay(t,e),(t=t.alternate)&&Ay(t,e)}function cE(){return null}var B_=typeof reportError=="function"?reportError:function(t){console.error(t)};function x1(t){this._internalRoot=t}vh.prototype.render=x1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));gh(t,e,null,null)};vh.prototype.unmount=x1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qo(function(){gh(null,t,null,null)}),e[ia]=null}};function vh(t){this._internalRoot=t}vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=mb();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ra.length&&e!==0&&e<Ra[r].priority;r++);Ra.splice(r,0,t),r===0&&vb(t)}};function b1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ty(){}function uE(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Ip(o);a.call(c)}}var o=O_(e,n,t,0,null,!1,!1,"",Ty);return t._reactRootContainer=o,t[ia]=o.current,Vc(t.nodeType===8?t.parentNode:t),qo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var c=Ip(l);s.call(c)}}var l=v1(t,0,!1,null,null,!1,!1,"",Ty);return t._reactRootContainer=l,t[ia]=l.current,Vc(t.nodeType===8?t.parentNode:t),qo(function(){gh(e,l,r,n)}),l}function xh(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Ip(o);s.call(l)}}gh(e,o,t,i)}else o=uE(r,e,t,i,n);return Ip(o)}hb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=dc(e.pendingLanes);r!==0&&(Bg(e,r|1),on(e,lr()),!(Et&6)&&(dl=lr()+500,eo()))}break;case 13:qo(function(){var n=aa(t,1);if(n!==null){var i=Vr();ci(n,t,1,i)}}),y1(t,1)}};jg=function(t){if(t.tag===13){var e=aa(t,134217728);if(e!==null){var r=Vr();ci(e,t,134217728,r)}y1(t,134217728)}};fb=function(t){if(t.tag===13){var e=$a(t),r=aa(t,e);if(r!==null){var n=Vr();ci(r,t,e,n)}y1(t,e)}};mb=function(){return Dt};gb=function(t,e){var r=Dt;try{return Dt=t,e()}finally{Dt=r}};g0=function(t,e,r){switch(e){case"input":if(c0(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ch(n);if(!i)throw Error(de(90));G3(n),c0(n,i)}}}break;case"textarea":X3(t,r);break;case"select":e=r.value,e!=null&&Zs(t,!!r.multiple,e,!1)}};rb=h1;nb=qo;var dE={usingClientEntryPoint:!1,Events:[Tu,zs,ch,eb,tb,h1]},Ul={findFiberByHostInstance:xo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pE={bundleType:Ul.bundleType,version:Ul.version,rendererPackageName:Ul.rendererPackageName,rendererConfig:Ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ob(t),t===null?null:t.stateNode},findFiberByHostInstance:Ul.findFiberByHostInstance||cE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{ah=ld.inject(pE),Ri=ld}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dE;An.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b1(e))throw Error(de(200));return lE(t,e,null,r)};An.createRoot=function(t,e){if(!b1(t))throw Error(de(299));var r=!1,n="",i=B_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v1(t,1,!1,null,null,r,!1,n,i),t[ia]=e.current,Vc(t.nodeType===8?t.parentNode:t),new x1(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=ob(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return qo(t)};An.hydrate=function(t,e,r){if(!yh(e))throw Error(de(200));return xh(null,t,e,!0,r)};An.hydrateRoot=function(t,e,r){if(!b1(t))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=B_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=O_(e,null,t,1,r??null,i,!1,a,o),t[ia]=e.current,Vc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new vh(e)};An.render=function(t,e,r){if(!yh(e))throw Error(de(200));return xh(null,t,e,!1,r)};An.unmountComponentAtNode=function(t){if(!yh(t))throw Error(de(40));return t._reactRootContainer?(qo(function(){xh(null,null,t,!1,function(){t._reactRootContainer=null,t[ia]=null})}),!0):!1};An.unstable_batchedUpdates=h1;An.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yh(r))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return xh(t,e,r,!1,n)};An.version="18.2.0-next-9e3b772b8-20220608";function j_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j_)}catch(t){console.error(t)}}j_(),O3.exports=An;var Pu=O3.exports;const hc=A3(Pu),hE=M3({__proto__:null,default:hc},[Pu]);var Ry=Pu;r0.createRoot=Ry.createRoot,r0.hydrateRoot=Ry.hydrateRoot;var $_={exports:{}},U_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=E;function fE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mE=typeof Object.is=="function"?Object.is:fE,gE=Lu.useSyncExternalStore,vE=Lu.useRef,yE=Lu.useEffect,xE=Lu.useMemo,bE=Lu.useDebugValue;U_.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var a=vE(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=xE(function(){function l(g){if(!c){if(c=!0,u=g,g=n(g),i!==void 0&&o.hasValue){var m=o.value;if(i(m,g))return p=m}return p=g}if(m=p,mE(u,g))return m;var h=n(g);return i!==void 0&&i(m,h)?m:(u=g,p=h)}var c=!1,u,p,d=r===void 0?null:r;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,r,n,i]);var s=gE(t,a[0],a[1]);return yE(function(){o.hasValue=!0,o.value=s},[s]),bE(s),s};$_.exports=U_;var _E=$_.exports,bn="default"in il?$n:il,Py=Symbol.for("react-redux-context"),Ly=typeof globalThis<"u"?globalThis:{};function wE(){if(!bn.createContext)return{};const t=Ly[Py]??(Ly[Py]=new Map);let e=t.get(bn.createContext);return e||(e=bn.createContext(null),t.set(bn.createContext,e)),e}var Ha=wE(),SE=()=>{throw new Error("uSES not initialized!")};function _1(t=Ha){return function(){return bn.useContext(t)}}var q_=_1(),V_=SE,CE=t=>{V_=t},EE=(t,e)=>t===e;function ME(t=Ha){const e=t===Ha?q_:_1(t),r=(n,i={})=>{const{equalityFn:a=EE,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:s,subscription:l,getServerState:c,stabilityCheck:u,identityFunctionCheck:p}=e();bn.useRef(!0);const d=bn.useCallback({[n.name](m){return n(m)}}[n.name],[n,u,o.stabilityCheck]),g=V_(l.addNestedSub,s.getState,c||s.getState,d,a);return bn.useDebugValue(g),g};return Object.assign(r,{withTypes:()=>r}),r}var AE=ME();function TE(t){t()}function RE(){let t=null,e=null;return{clear(){t=null,e=null},notify(){TE(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ky={notify(){},get:()=>[]};function PE(t,e){let r,n=ky,i=0,a=!1;function o(h){u();const f=n.subscribe(h);let v=!1;return()=>{v||(v=!0,f(),p())}}function s(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return a}function u(){i++,r||(r=e?e.addNestedSub(l):t.subscribe(l),n=RE())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=ky)}function d(){a||(a=!0,u())}function g(){a&&(a=!1,p())}const m={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:g,getListeners:()=>n};return m}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kE=LE?bn.useLayoutEffect:bn.useEffect;function DE({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:a="once"}){const o=bn.useMemo(()=>{const c=PE(t);return{store:t,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:a}},[t,n,i,a]),s=bn.useMemo(()=>t.getState(),[t]);kE(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const l=e||Ha;return bn.createElement(l.Provider,{value:o},r)}var IE=DE;function H_(t=Ha){const e=t===Ha?q_:_1(t),r=()=>{const{store:n}=e();return n};return Object.assign(r,{withTypes:()=>r}),r}var FE=H_();function NE(t=Ha){const e=t===Ha?FE:H_(t),r=()=>e().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var zE=NE();CE(_E.useSyncExternalStoreWithSelector);/**
 * @remix-run/router v1.15.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ir(){return ir=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ir.apply(this,arguments)}var sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sr||(sr={}));const Dy="popstate";function OE(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return Jc("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Vo(i)}return jE(e,r,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BE(){return Math.random().toString(36).substr(2,8)}function Iy(t,e){return{usr:t.state,key:t.key,idx:e}}function Jc(t,e,r,n){return r===void 0&&(r=null),ir({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ua(e):e,{state:r,key:e&&e.key||n||BE()})}function Vo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ua(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function jE(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=sr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ir({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function p(){s=sr.Pop;let f=u(),v=f==null?null:f-c;c=f,l&&l({action:s,location:h.location,delta:v})}function d(f,v){s=sr.Push;let y=Jc(h.location,f,v);r&&r(y,f),c=u()+1;let x=Iy(y,c),b=h.createHref(y);try{o.pushState(x,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}a&&l&&l({action:s,location:h.location,delta:1})}function g(f,v){s=sr.Replace;let y=Jc(h.location,f,v);r&&r(y,f),c=u();let x=Iy(y,c),b=h.createHref(y);o.replaceState(x,"",b),a&&l&&l({action:s,location:h.location,delta:0})}function m(f){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof f=="string"?f:Vo(f);return y=y.replace(/ $/,"%20"),gt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let h={get action(){return s},get location(){return t(i,o)},listen(f){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dy,p),l=f,()=>{i.removeEventListener(Dy,p),l=null}},createHref(f){return e(i,f)},createURL:m,encodeLocation(f){let v=m(f);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:g,go(f){return o.go(f)}};return h}var rr;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rr||(rr={}));const $E=new Set(["lazy","caseSensitive","path","id","index","children"]);function UE(t){return t.index===!0}function X0(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,a)=>{let o=[...r,a],s=typeof i.id=="string"?i.id:o.join("-");if(gt(i.index!==!0||!i.children,"Cannot specify children on an index route"),gt(!n[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),UE(i)){let l=ir({},i,e(i),{id:s});return n[s]=l,l}else{let l=ir({},i,e(i),{id:s,children:void 0});return n[s]=l,i.children&&(l.children=X0(i.children,e,o,n)),l}})}function Vs(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?ua(e):e,i=Ml(n.pathname||"/",r);if(i==null)return null;let a=W_(t);VE(a);let o=null;for(let s=0;o==null&&s<a.length;++s){let l=rM(i);o=JE(a[s],l)}return o}function qE(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function W_(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ta([n,l.relativePath]),u=r.concat(l);a.children&&a.children.length>0&&(gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),W_(a.children,e,u,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:KE(c,a.index),routesMeta:u})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of G_(a.path))i(a,o,l)}),e}function G_(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=G_(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function VE(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:QE(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HE=/^:[\w-]+$/,WE=3,GE=2,ZE=1,XE=10,YE=-2,Fy=t=>t==="*";function KE(t,e){let r=t.split("/"),n=r.length;return r.some(Fy)&&(n+=YE),e&&(n+=GE),r.filter(i=>!Fy(i)).reduce((i,a)=>i+(HE.test(a)?WE:a===""?ZE:XE),n)}function QE(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function JE(t,e){let{routesMeta:r}=t,n={},i="/",a=[];for(let o=0;o<r.length;++o){let s=r[o],l=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=eM({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!u)return null;Object.assign(n,u.params);let p=s.route;a.push({params:n,pathname:ta([i,u.pathname]),pathnameBase:aM(ta([i,u.pathnameBase])),route:p}),u.pathnameBase!=="/"&&(i=ta([i,u.pathnameBase]))}return a}function eM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=tM(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((c,u,p)=>{let{paramName:d,isOptional:g}=u;if(d==="*"){let h=s[p]||"";o=a.slice(0,a.length-h.length).replace(/(.)\/+$/,"$1")}const m=s[p];return g&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:o,pattern:t}}function tM(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),pl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function rM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ml(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function nM(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ua(t):t;return{pathname:r?r.startsWith("/")?r:iM(r,e):e,search:oM(n),hash:sM(i)}}function iM(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function em(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z_(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bh(t,e){let r=Z_(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _h(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ua(t):(i=ir({},t),gt(!i.pathname||!i.pathname.includes("?"),em("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),em("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),em("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let p=e.length-1;if(!n&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),p-=1;i.pathname=d.join("/")}s=p>=0?e[p]:"/"}let l=nM(i,s),c=o&&o!=="/"&&o.endsWith("/"),u=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ta=t=>t.join("/").replace(/\/\/+/g,"/"),aM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class w1{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function X_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Y_=["post","put","patch","delete"],lM=new Set(Y_),cM=["get",...Y_],uM=new Set(cM),dM=new Set([301,302,303,307,308]),pM=new Set([307,308]),tm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ql={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},K_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Q_="remix-router-transitions";function mM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;gt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let H=t.detectErrorBoundary;i=X=>({hasErrorBoundary:H(X)})}else i=fM;let a={},o=X0(t.routes,i,void 0,a),s,l=t.basename||"/",c=ir({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),u=null,p=new Set,d=null,g=null,m=null,h=t.hydrationData!=null,f=Vs(o,t.history.location,l),v=null;if(f==null){let H=Fn(404,{pathname:t.history.location.pathname}),{matches:X,route:ae}=qy(o);f=X,v={[ae.id]:H}}let y,x=f.some(H=>H.route.lazy),b=f.some(H=>H.route.loader);if(x)y=!1;else if(!b)y=!0;else if(c.v7_partialHydration){let H=t.hydrationData?t.hydrationData.loaderData:null,X=t.hydrationData?t.hydrationData.errors:null;y=f.every(ae=>ae.route.loader&&ae.route.loader.hydrate!==!0&&(H&&H[ae.route.id]!==void 0||X&&X[ae.route.id]!==void 0))}else y=t.hydrationData!=null;let w,_={historyAction:t.history.action,location:t.history.location,matches:f,initialized:y,navigation:tm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},C=sr.Pop,S=!1,M,T=!1,D=new Map,j=null,N=!1,L=!1,O=[],B=[],U=new Map,F=0,z=-1,q=new Map,ee=new Set,V=new Map,ne=new Map,oe=new Set,we=new Map,W=new Map,ke=!1;function Ee(){if(u=t.history.listen(H=>{let{action:X,location:ae,delta:ue}=H;if(ke){ke=!1;return}pl(W.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pe=Tt({currentLocation:_.location,nextLocation:ae,historyAction:X});if(Pe&&ue!=null){ke=!0,t.history.go(ue*-1),We(Pe,{state:"blocked",location:ae,proceed(){We(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),t.history.go(ue)},reset(){let Xe=new Map(_.blockers);Xe.set(Pe,ql),Ae({blockers:Xe})}});return}return at(X,ae)}),r){MM(e,D);let H=()=>AM(e,D);e.addEventListener("pagehide",H),j=()=>e.removeEventListener("pagehide",H)}return _.initialized||at(sr.Pop,_.location,{initialHydration:!0}),w}function Me(){u&&u(),j&&j(),p.clear(),M&&M.abort(),_.fetchers.forEach((H,X)=>ve(X)),_.blockers.forEach((H,X)=>De(X))}function ge(H){return p.add(H),()=>p.delete(H)}function Ae(H,X){X===void 0&&(X={}),_=ir({},_,H);let ae=[],ue=[];c.v7_fetcherPersist&&_.fetchers.forEach((Pe,Xe)=>{Pe.state==="idle"&&(oe.has(Xe)?ue.push(Xe):ae.push(Xe))}),[...p].forEach(Pe=>Pe(_,{deletedFetchers:ue,unstable_viewTransitionOpts:X.viewTransitionOpts,unstable_flushSync:X.flushSync===!0})),c.v7_fetcherPersist&&(ae.forEach(Pe=>_.fetchers.delete(Pe)),ue.forEach(Pe=>ve(Pe)))}function Fe(H,X,ae){var ue,Pe;let{flushSync:Xe}=ae===void 0?{}:ae,nt=_.actionData!=null&&_.navigation.formMethod!=null&&ni(_.navigation.formMethod)&&_.navigation.state==="loading"&&((ue=H.state)==null?void 0:ue._isRedirect)!==!0,Ze;X.actionData?Object.keys(X.actionData).length>0?Ze=X.actionData:Ze=null:nt?Ze=_.actionData:Ze=null;let qe=X.loaderData?Uy(_.loaderData,X.loaderData,X.matches||[],X.errors):_.loaderData,vt=_.blockers;vt.size>0&&(vt=new Map(vt),vt.forEach((I,Y)=>vt.set(Y,ql)));let ur=S===!0||_.navigation.formMethod!=null&&ni(_.navigation.formMethod)&&((Pe=H.state)==null?void 0:Pe._isRedirect)!==!0;s&&(o=s,s=void 0),N||C===sr.Pop||(C===sr.Push?t.history.push(H,H.state):C===sr.Replace&&t.history.replace(H,H.state));let lt;if(C===sr.Pop){let I=D.get(_.location.pathname);I&&I.has(H.pathname)?lt={currentLocation:_.location,nextLocation:H}:D.has(H.pathname)&&(lt={currentLocation:H,nextLocation:_.location})}else if(T){let I=D.get(_.location.pathname);I?I.add(H.pathname):(I=new Set([H.pathname]),D.set(_.location.pathname,I)),lt={currentLocation:_.location,nextLocation:H}}Ae(ir({},X,{actionData:Ze,loaderData:qe,historyAction:C,location:H,initialized:!0,navigation:tm,revalidation:"idle",restoreScrollPosition:xe(H,X.matches||_.matches),preventScrollReset:ur,blockers:vt}),{viewTransitionOpts:lt,flushSync:Xe===!0}),C=sr.Pop,S=!1,T=!1,N=!1,L=!1,O=[],B=[]}async function pe(H,X){if(typeof H=="number"){t.history.go(H);return}let ae=Y0(_.location,_.matches,l,c.v7_prependBasename,H,c.v7_relativeSplatPath,X==null?void 0:X.fromRouteId,X==null?void 0:X.relative),{path:ue,submission:Pe,error:Xe}=Ny(c.v7_normalizeFormMethod,!1,ae,X),nt=_.location,Ze=Jc(_.location,ue,X&&X.state);Ze=ir({},Ze,t.history.encodeLocation(Ze));let qe=X&&X.replace!=null?X.replace:void 0,vt=sr.Push;qe===!0?vt=sr.Replace:qe===!1||Pe!=null&&ni(Pe.formMethod)&&Pe.formAction===_.location.pathname+_.location.search&&(vt=sr.Replace);let ur=X&&"preventScrollReset"in X?X.preventScrollReset===!0:void 0,lt=(X&&X.unstable_flushSync)===!0,I=Tt({currentLocation:nt,nextLocation:Ze,historyAction:vt});if(I){We(I,{state:"blocked",location:Ze,proceed(){We(I,{state:"proceeding",proceed:void 0,reset:void 0,location:Ze}),pe(H,X)},reset(){let Y=new Map(_.blockers);Y.set(I,ql),Ae({blockers:Y})}});return}return await at(vt,Ze,{submission:Pe,pendingError:Xe,preventScrollReset:ur,replace:X&&X.replace,enableViewTransition:X&&X.unstable_viewTransition,flushSync:lt})}function rt(){if(k(),Ae({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){at(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}at(C||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function at(H,X,ae){M&&M.abort(),M=null,C=H,N=(ae&&ae.startUninterruptedRevalidation)===!0,Oe(_.location,_.matches),S=(ae&&ae.preventScrollReset)===!0,T=(ae&&ae.enableViewTransition)===!0;let ue=s||o,Pe=ae&&ae.overrideNavigation,Xe=Vs(ue,X,l),nt=(ae&&ae.flushSync)===!0;if(!Xe){let Y=Fn(404,{pathname:X.pathname}),{matches:te,route:Q}=qy(ue);Z(),Fe(X,{matches:te,loaderData:{},errors:{[Q.id]:Y}},{flushSync:nt});return}if(_.initialized&&!L&&bM(_.location,X)&&!(ae&&ae.submission&&ni(ae.submission.formMethod))){Fe(X,{matches:Xe},{flushSync:nt});return}M=new AbortController;let Ze=Hl(t.history,X,M.signal,ae&&ae.submission),qe,vt;if(ae&&ae.pendingError)vt={[Tc(Xe).route.id]:ae.pendingError};else if(ae&&ae.submission&&ni(ae.submission.formMethod)){let Y=await zt(Ze,X,ae.submission,Xe,{replace:ae.replace,flushSync:nt});if(Y.shortCircuited)return;qe=Y.pendingActionData,vt=Y.pendingActionError,Pe=rm(X,ae.submission),nt=!1,Ze=new Request(Ze.url,{signal:Ze.signal})}let{shortCircuited:ur,loaderData:lt,errors:I}=await jt(Ze,X,Xe,Pe,ae&&ae.submission,ae&&ae.fetcherSubmission,ae&&ae.replace,ae&&ae.initialHydration===!0,nt,qe,vt);ur||(M=null,Fe(X,ir({matches:Xe},qe?{actionData:qe}:{},{loaderData:lt,errors:I})))}async function zt(H,X,ae,ue,Pe){Pe===void 0&&(Pe={}),k();let Xe=CM(X,ae);Ae({navigation:Xe},{flushSync:Pe.flushSync===!0});let nt,Ze=Q0(ue,X);if(!Ze.route.action&&!Ze.route.lazy)nt={type:rr.error,error:Fn(405,{method:H.method,pathname:X.pathname,routeId:Ze.route.id})};else if(nt=await Vl("action",H,Ze,ue,a,i,l,c.v7_relativeSplatPath),H.signal.aborted)return{shortCircuited:!0};if(So(nt)){let qe;return Pe&&Pe.replace!=null?qe=Pe.replace:qe=nt.location===_.location.pathname+_.location.search,await ht(_,nt,{submission:ae,replace:qe}),{shortCircuited:!0}}if(Hs(nt)){let qe=Tc(ue,Ze.route.id);return(Pe&&Pe.replace)!==!0&&(C=sr.Push),{pendingActionData:{},pendingActionError:{[qe.route.id]:nt.error}}}if(wo(nt))throw Fn(400,{type:"defer-action"});return{pendingActionData:{[Ze.route.id]:nt.data}}}async function jt(H,X,ae,ue,Pe,Xe,nt,Ze,qe,vt,ur){let lt=ue||rm(X,Pe),I=Pe||Xe||Wy(lt),Y=s||o,[te,Q]=zy(t.history,_,ae,I,X,c.v7_partialHydration&&Ze===!0,L,O,B,oe,V,ee,Y,l,vt,ur);if(Z(wt=>!(ae&&ae.some(Rt=>Rt.route.id===wt))||te&&te.some(Rt=>Rt.route.id===wt)),z=++F,te.length===0&&Q.length===0){let wt=Re();return Fe(X,ir({matches:ae,loaderData:{},errors:ur||null},vt?{actionData:vt}:{},wt?{fetchers:new Map(_.fetchers)}:{}),{flushSync:qe}),{shortCircuited:!0}}if(!N&&(!c.v7_partialHydration||!Ze)){Q.forEach(Rt=>{let or=_.fetchers.get(Rt.key),_t=Wl(void 0,or?or.data:void 0);_.fetchers.set(Rt.key,_t)});let wt=vt||_.actionData;Ae(ir({navigation:lt},wt?Object.keys(wt).length===0?{actionData:null}:{actionData:wt}:{},Q.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:qe})}Q.forEach(wt=>{U.has(wt.key)&&G(wt.key),wt.controller&&U.set(wt.key,wt.controller)});let se=()=>Q.forEach(wt=>G(wt.key));M&&M.signal.addEventListener("abort",se);let{results:Ve,loaderResults:it,fetcherResults:Ye}=await $(_.matches,ae,te,Q,H);if(H.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",se),Q.forEach(wt=>U.delete(wt.key));let ct=Vy(Ve);if(ct){if(ct.idx>=te.length){let wt=Q[ct.idx-te.length].key;ee.add(wt)}return await ht(_,ct.result,{replace:nt}),{shortCircuited:!0}}let{loaderData:Ot,errors:mt}=$y(_,ae,te,it,ur,Q,Ye,we);we.forEach((wt,Rt)=>{wt.subscribe(or=>{(or||wt.done)&&we.delete(Rt)})});let yt=Re(),$t=$e(z),Ln=yt||$t||Q.length>0;return ir({loaderData:Ot,errors:mt},Ln?{fetchers:new Map(_.fetchers)}:{})}function Mt(H,X,ae,ue){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(H)&&G(H);let Pe=(ue&&ue.unstable_flushSync)===!0,Xe=s||o,nt=Y0(_.location,_.matches,l,c.v7_prependBasename,ae,c.v7_relativeSplatPath,X,ue==null?void 0:ue.relative),Ze=Vs(Xe,nt,l);if(!Ze){ce(H,X,Fn(404,{pathname:nt}),{flushSync:Pe});return}let{path:qe,submission:vt,error:ur}=Ny(c.v7_normalizeFormMethod,!0,nt,ue);if(ur){ce(H,X,ur,{flushSync:Pe});return}let lt=Q0(Ze,qe);if(S=(ue&&ue.preventScrollReset)===!0,vt&&ni(vt.formMethod)){pt(H,X,qe,lt,Ze,Pe,vt);return}V.set(H,{routeId:X,path:qe}),Ht(H,X,qe,lt,Ze,Pe,vt)}async function pt(H,X,ae,ue,Pe,Xe,nt){if(k(),V.delete(H),!ue.route.action&&!ue.route.lazy){let Rt=Fn(405,{method:nt.formMethod,pathname:ae,routeId:X});ce(H,X,Rt,{flushSync:Xe});return}let Ze=_.fetchers.get(H);J(H,EM(nt,Ze),{flushSync:Xe});let qe=new AbortController,vt=Hl(t.history,ae,qe.signal,nt);U.set(H,qe);let ur=F,lt=await Vl("action",vt,ue,Pe,a,i,l,c.v7_relativeSplatPath);if(vt.signal.aborted){U.get(H)===qe&&U.delete(H);return}if(c.v7_fetcherPersist&&oe.has(H)){if(So(lt)||Hs(lt)){J(H,Ma(void 0));return}}else{if(So(lt))if(U.delete(H),z>ur){J(H,Ma(void 0));return}else return ee.add(H),J(H,Wl(nt)),ht(_,lt,{fetcherSubmission:nt});if(Hs(lt)){ce(H,X,lt.error);return}}if(wo(lt))throw Fn(400,{type:"defer-action"});let I=_.navigation.location||_.location,Y=Hl(t.history,I,qe.signal),te=s||o,Q=_.navigation.state!=="idle"?Vs(te,_.navigation.location,l):_.matches;gt(Q,"Didn't find any matches after fetcher action");let se=++F;q.set(H,se);let Ve=Wl(nt,lt.data);_.fetchers.set(H,Ve);let[it,Ye]=zy(t.history,_,Q,nt,I,!1,L,O,B,oe,V,ee,te,l,{[ue.route.id]:lt.data},void 0);Ye.filter(Rt=>Rt.key!==H).forEach(Rt=>{let or=Rt.key,_t=_.fetchers.get(or),ha=Wl(void 0,_t?_t.data:void 0);_.fetchers.set(or,ha),U.has(or)&&G(or),Rt.controller&&U.set(or,Rt.controller)}),Ae({fetchers:new Map(_.fetchers)});let ct=()=>Ye.forEach(Rt=>G(Rt.key));qe.signal.addEventListener("abort",ct);let{results:Ot,loaderResults:mt,fetcherResults:yt}=await $(_.matches,Q,it,Ye,Y);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",ct),q.delete(H),U.delete(H),Ye.forEach(Rt=>U.delete(Rt.key));let $t=Vy(Ot);if($t){if($t.idx>=it.length){let Rt=Ye[$t.idx-it.length].key;ee.add(Rt)}return ht(_,$t.result)}let{loaderData:Ln,errors:wt}=$y(_,_.matches,it,mt,void 0,Ye,yt,we);if(_.fetchers.has(H)){let Rt=Ma(lt.data);_.fetchers.set(H,Rt)}$e(se),_.navigation.state==="loading"&&se>z?(gt(C,"Expected pending action"),M&&M.abort(),Fe(_.navigation.location,{matches:Q,loaderData:Ln,errors:wt,fetchers:new Map(_.fetchers)})):(Ae({errors:wt,loaderData:Uy(_.loaderData,Ln,Q,wt),fetchers:new Map(_.fetchers)}),L=!1)}async function Ht(H,X,ae,ue,Pe,Xe,nt){let Ze=_.fetchers.get(H);J(H,Wl(nt,Ze?Ze.data:void 0),{flushSync:Xe});let qe=new AbortController,vt=Hl(t.history,ae,qe.signal);U.set(H,qe);let ur=F,lt=await Vl("loader",vt,ue,Pe,a,i,l,c.v7_relativeSplatPath);if(wo(lt)&&(lt=await tw(lt,vt.signal,!0)||lt),U.get(H)===qe&&U.delete(H),!vt.signal.aborted){if(oe.has(H)){J(H,Ma(void 0));return}if(So(lt))if(z>ur){J(H,Ma(void 0));return}else{ee.add(H),await ht(_,lt);return}if(Hs(lt)){ce(H,X,lt.error);return}gt(!wo(lt),"Unhandled fetcher deferred data"),J(H,Ma(lt.data))}}async function ht(H,X,ae){let{submission:ue,fetcherSubmission:Pe,replace:Xe}=ae===void 0?{}:ae;X.revalidate&&(L=!0);let nt=Jc(H.location,X.location,{_isRedirect:!0});if(gt(nt,"Expected a location on the redirect navigation"),r){let I=!1;if(X.reloadDocument)I=!0;else if(K_.test(X.location)){const Y=t.history.createURL(X.location);I=Y.origin!==e.location.origin||Ml(Y.pathname,l)==null}if(I){Xe?e.location.replace(X.location):e.location.assign(X.location);return}}M=null;let Ze=Xe===!0?sr.Replace:sr.Push,{formMethod:qe,formAction:vt,formEncType:ur}=H.navigation;!ue&&!Pe&&qe&&vt&&ur&&(ue=Wy(H.navigation));let lt=ue||Pe;if(pM.has(X.status)&&lt&&ni(lt.formMethod))await at(Ze,nt,{submission:ir({},lt,{formAction:X.location}),preventScrollReset:S});else{let I=rm(nt,ue);await at(Ze,nt,{overrideNavigation:I,fetcherSubmission:Pe,preventScrollReset:S})}}async function $(H,X,ae,ue,Pe){let Xe=await Promise.all([...ae.map(qe=>Vl("loader",Pe,qe,X,a,i,l,c.v7_relativeSplatPath)),...ue.map(qe=>qe.matches&&qe.match&&qe.controller?Vl("loader",Hl(t.history,qe.path,qe.controller.signal),qe.match,qe.matches,a,i,l,c.v7_relativeSplatPath):{type:rr.error,error:Fn(404,{pathname:qe.path})})]),nt=Xe.slice(0,ae.length),Ze=Xe.slice(ae.length);return await Promise.all([Hy(H,ae,nt,nt.map(()=>Pe.signal),!1,_.loaderData),Hy(H,ue.map(qe=>qe.match),Ze,ue.map(qe=>qe.controller?qe.controller.signal:null),!0)]),{results:Xe,loaderResults:nt,fetcherResults:Ze}}function k(){L=!0,O.push(...Z()),V.forEach((H,X)=>{U.has(X)&&(B.push(X),G(X))})}function J(H,X,ae){ae===void 0&&(ae={}),_.fetchers.set(H,X),Ae({fetchers:new Map(_.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function ce(H,X,ae,ue){ue===void 0&&(ue={});let Pe=Tc(_.matches,X);ve(H),Ae({errors:{[Pe.route.id]:ae},fetchers:new Map(_.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function he(H){return c.v7_fetcherPersist&&(ne.set(H,(ne.get(H)||0)+1),oe.has(H)&&oe.delete(H)),_.fetchers.get(H)||hM}function ve(H){let X=_.fetchers.get(H);U.has(H)&&!(X&&X.state==="loading"&&q.has(H))&&G(H),V.delete(H),q.delete(H),ee.delete(H),oe.delete(H),_.fetchers.delete(H)}function Te(H){if(c.v7_fetcherPersist){let X=(ne.get(H)||0)-1;X<=0?(ne.delete(H),oe.add(H)):ne.set(H,X)}else ve(H);Ae({fetchers:new Map(_.fetchers)})}function G(H){let X=U.get(H);gt(X,"Expected fetch controller: "+H),X.abort(),U.delete(H)}function je(H){for(let X of H){let ae=he(X),ue=Ma(ae.data);_.fetchers.set(X,ue)}}function Re(){let H=[],X=!1;for(let ae of ee){let ue=_.fetchers.get(ae);gt(ue,"Expected fetcher: "+ae),ue.state==="loading"&&(ee.delete(ae),H.push(ae),X=!0)}return je(H),X}function $e(H){let X=[];for(let[ae,ue]of q)if(ue<H){let Pe=_.fetchers.get(ae);gt(Pe,"Expected fetcher: "+ae),Pe.state==="loading"&&(G(ae),q.delete(ae),X.push(ae))}return je(X),X.length>0}function le(H,X){let ae=_.blockers.get(H)||ql;return W.get(H)!==X&&W.set(H,X),ae}function De(H){_.blockers.delete(H),W.delete(H)}function We(H,X){let ae=_.blockers.get(H)||ql;gt(ae.state==="unblocked"&&X.state==="blocked"||ae.state==="blocked"&&X.state==="blocked"||ae.state==="blocked"&&X.state==="proceeding"||ae.state==="blocked"&&X.state==="unblocked"||ae.state==="proceeding"&&X.state==="unblocked","Invalid blocker state transition: "+ae.state+" -> "+X.state);let ue=new Map(_.blockers);ue.set(H,X),Ae({blockers:ue})}function Tt(H){let{currentLocation:X,nextLocation:ae,historyAction:ue}=H;if(W.size===0)return;W.size>1&&pl(!1,"A router only supports one blocker at a time");let Pe=Array.from(W.entries()),[Xe,nt]=Pe[Pe.length-1],Ze=_.blockers.get(Xe);if(!(Ze&&Ze.state==="proceeding")&&nt({currentLocation:X,nextLocation:ae,historyAction:ue}))return Xe}function Z(H){let X=[];return we.forEach((ae,ue)=>{(!H||H(ue))&&(ae.cancel(),X.push(ue),we.delete(ue))}),X}function Ie(H,X,ae){if(d=H,m=X,g=ae||null,!h&&_.navigation===tm){h=!0;let ue=xe(_.location,_.matches);ue!=null&&Ae({restoreScrollPosition:ue})}return()=>{d=null,m=null,g=null}}function ie(H,X){return g&&g(H,X.map(ue=>qE(ue,_.loaderData)))||H.key}function Oe(H,X){if(d&&m){let ae=ie(H,X);d[ae]=m()}}function xe(H,X){if(d){let ae=ie(H,X),ue=d[ae];if(typeof ue=="number")return ue}return null}function Nt(H){a={},s=X0(H,i,void 0,a)}return w={get basename(){return l},get future(){return c},get state(){return _},get routes(){return o},get window(){return e},initialize:Ee,subscribe:ge,enableScrollRestoration:Ie,navigate:pe,fetch:Mt,revalidate:rt,createHref:H=>t.history.createHref(H),encodeLocation:H=>t.history.encodeLocation(H),getFetcher:he,deleteFetcher:Te,dispose:Me,getBlocker:le,deleteBlocker:De,_internalFetchControllers:U,_internalActiveDeferreds:we,_internalSetRoutes:Nt},w}function gM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Y0(t,e,r,n,i,a,o,s){let l,c;if(o){l=[];for(let p of e)if(l.push(p),p.route.id===o){c=p;break}}else l=e,c=e[e.length-1];let u=_h(i||".",bh(l,a),Ml(t.pathname,r)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!S1(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:ta([r,u.pathname])),Vo(u)}function Ny(t,e,r,n){if(!n||!gM(n))return{path:r};if(n.formMethod&&!SM(n.formMethod))return{path:r,error:Fn(405,{method:n.formMethod})};let i=()=>({path:r,error:Fn(400,{type:"invalid-body"})}),a=n.formMethod||"get",o=t?a.toUpperCase():a.toLowerCase(),s=ew(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ni(o))return i();let d=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,m)=>{let[h,f]=m;return""+g+h+"="+f+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:d}}}else if(n.formEncType==="application/json"){if(!ni(o))return i();try{let d=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:s,formEncType:n.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}gt(typeof FormData=="function","FormData is not available in this environment");let l,c;if(n.formData)l=K0(n.formData),c=n.formData;else if(n.body instanceof FormData)l=K0(n.body),c=n.body;else if(n.body instanceof URLSearchParams)l=n.body,c=jy(l);else if(n.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(n.body),c=jy(l)}catch{return i()}let u={formMethod:o,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ni(u.formMethod))return{path:r,submission:u};let p=ua(r);return e&&p.search&&S1(p.search)&&l.append("index",""),p.search="?"+l,{path:Vo(p),submission:u}}function vM(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function zy(t,e,r,n,i,a,o,s,l,c,u,p,d,g,m,h){let f=h?Object.values(h)[0]:m?Object.values(m)[0]:void 0,v=t.createURL(e.location),y=t.createURL(i),x=h?Object.keys(h)[0]:void 0,w=vM(r,x).filter((C,S)=>{let{route:M}=C;if(M.lazy)return!0;if(M.loader==null)return!1;if(a)return M.loader.hydrate?!0:e.loaderData[M.id]===void 0&&(!e.errors||e.errors[M.id]===void 0);if(yM(e.loaderData,e.matches[S],C)||s.some(j=>j===C.route.id))return!0;let T=e.matches[S],D=C;return Oy(C,ir({currentUrl:v,currentParams:T.params,nextUrl:y,nextParams:D.params},n,{actionResult:f,defaultShouldRevalidate:o||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||J_(T,D)}))}),_=[];return u.forEach((C,S)=>{if(a||!r.some(N=>N.route.id===C.routeId)||c.has(S))return;let M=Vs(d,C.path,g);if(!M){_.push({key:S,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let T=e.fetchers.get(S),D=Q0(M,C.path),j=!1;p.has(S)?j=!1:l.includes(S)?j=!0:T&&T.state!=="idle"&&T.data===void 0?j=o:j=Oy(D,ir({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:r[r.length-1].params},n,{actionResult:f,defaultShouldRevalidate:o})),j&&_.push({key:S,routeId:C.routeId,path:C.path,matches:M,match:D,controller:new AbortController})}),[w,_]}function yM(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function J_(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Oy(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function By(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];gt(i,"No route found in manifest");let a={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";pl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!$E.has(o)&&(a[o]=n[o])}Object.assign(i,a),Object.assign(i,ir({},e(i),{lazy:void 0}))}async function Vl(t,e,r,n,i,a,o,s,l){l===void 0&&(l={});let c,u,p,d=h=>{let f,v=new Promise((y,x)=>f=x);return p=()=>f(),e.signal.addEventListener("abort",p),Promise.race([h({request:e,params:r.params,context:l.requestContext}),v])};try{let h=r.route[t];if(r.route.lazy)if(h){let f,v=await Promise.all([d(h).catch(y=>{f=y}),By(r.route,a,i)]);if(f)throw f;u=v[0]}else if(await By(r.route,a,i),h=r.route[t],h)u=await d(h);else if(t==="action"){let f=new URL(e.url),v=f.pathname+f.search;throw Fn(405,{method:e.method,pathname:v,routeId:r.route.id})}else return{type:rr.data,data:void 0};else if(h)u=await d(h);else{let f=new URL(e.url),v=f.pathname+f.search;throw Fn(404,{pathname:v})}gt(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){c=rr.error,u=h}finally{p&&e.signal.removeEventListener("abort",p)}if(wM(u)){let h=u.status;if(dM.has(h)){let v=u.headers.get("Location");if(gt(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!K_.test(v))v=Y0(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,v,s);else if(!l.isStaticRequest){let y=new URL(e.url),x=v.startsWith("//")?new URL(y.protocol+v):new URL(v),b=Ml(x.pathname,o)!=null;x.origin===y.origin&&b&&(v=x.pathname+x.search+x.hash)}if(l.isStaticRequest)throw u.headers.set("Location",v),u;return{type:rr.redirect,status:h,location:v,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:c===rr.error?rr.error:rr.data,response:u};let f;try{let v=u.headers.get("Content-Type");v&&/\bapplication\/json\b/.test(v)?u.body==null?f=null:f=await u.json():f=await u.text()}catch(v){return{type:rr.error,error:v}}return c===rr.error?{type:c,error:new w1(h,u.statusText,f),headers:u.headers}:{type:rr.data,data:f,statusCode:u.status,headers:u.headers}}if(c===rr.error)return{type:c,error:u};if(_M(u)){var g,m;return{type:rr.deferred,deferredData:u,statusCode:(g=u.init)==null?void 0:g.status,headers:((m=u.init)==null?void 0:m.headers)&&new Headers(u.init.headers)}}return{type:rr.data,data:u}}function Hl(t,e,r,n){let i=t.createURL(ew(e)).toString(),a={signal:r};if(n&&ni(n.formMethod)){let{formMethod:o,formEncType:s}=n;a.method=o.toUpperCase(),s==="application/json"?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(n.json)):s==="text/plain"?a.body=n.text:s==="application/x-www-form-urlencoded"&&n.formData?a.body=K0(n.formData):a.body=n.formData}return new Request(i,a)}function K0(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function jy(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function xM(t,e,r,n,i){let a={},o=null,s,l=!1,c={};return r.forEach((u,p)=>{let d=e[p].route.id;if(gt(!So(u),"Cannot handle redirect results in processLoaderData"),Hs(u)){let g=Tc(t,d),m=u.error;n&&(m=Object.values(n)[0],n=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=m),a[d]=void 0,l||(l=!0,s=X_(u.error)?u.error.status:500),u.headers&&(c[d]=u.headers)}else wo(u)?(i.set(d,u.deferredData),a[d]=u.deferredData.data):a[d]=u.data,u.statusCode!=null&&u.statusCode!==200&&!l&&(s=u.statusCode),u.headers&&(c[d]=u.headers)}),n&&(o=n,a[Object.keys(n)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function $y(t,e,r,n,i,a,o,s){let{loaderData:l,errors:c}=xM(e,r,n,i,s);for(let u=0;u<a.length;u++){let{key:p,match:d,controller:g}=a[u];gt(o!==void 0&&o[u]!==void 0,"Did not find corresponding fetcher result");let m=o[u];if(!(g&&g.signal.aborted))if(Hs(m)){let h=Tc(t.matches,d==null?void 0:d.route.id);c&&c[h.route.id]||(c=ir({},c,{[h.route.id]:m.error})),t.fetchers.delete(p)}else if(So(m))gt(!1,"Unhandled fetcher revalidation redirect");else if(wo(m))gt(!1,"Unhandled fetcher deferred data");else{let h=Ma(m.data);t.fetchers.set(p,h)}}return{loaderData:l,errors:c}}function Uy(t,e,r,n){let i=ir({},e);for(let a of r){let o=a.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&a.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Tc(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function qy(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Fn(t,e){let{pathname:r,routeId:n,method:i,type:a}=e===void 0?{}:e,o="Unknown Server Error",s="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?s="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":a==="defer-action"?s="defer() is not supported in actions":a==="invalid-body"&&(s="Unable to encode submission body")):t===403?(o="Forbidden",s='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",s='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?s="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new w1(t||500,o,new Error(s),!0)}function Vy(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(So(r))return{result:r,idx:e}}}function ew(t){let e=typeof t=="string"?ua(t):t;return Vo(ir({},e,{hash:""}))}function bM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function wo(t){return t.type===rr.deferred}function Hs(t){return t.type===rr.error}function So(t){return(t&&t.type)===rr.redirect}function _M(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function wM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function SM(t){return uM.has(t.toLowerCase())}function ni(t){return lM.has(t.toLowerCase())}async function Hy(t,e,r,n,i,a){for(let o=0;o<r.length;o++){let s=r[o],l=e[o];if(!l)continue;let c=t.find(p=>p.route.id===l.route.id),u=c!=null&&!J_(c,l)&&(a&&a[l.route.id])!==void 0;if(wo(s)&&(i||u)){let p=n[o];gt(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await tw(s,p,i).then(d=>{d&&(r[o]=d||r[o])})}}}async function tw(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:rr.data,data:t.deferredData.unwrappedData}}catch(i){return{type:rr.error,error:i}}return{type:rr.data,data:t.deferredData.data}}}function S1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Q0(t,e){let r=typeof e=="string"?ua(e).search:e.search;if(t[t.length-1].route.index&&S1(r||""))return t[t.length-1];let n=Z_(t);return n[n.length-1]}function Wy(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:a,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:r,formEncType:n,formData:a,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function rm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Wl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function EM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ma(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function MM(t,e){try{let r=t.sessionStorage.getItem(Q_);if(r){let n=JSON.parse(r);for(let[i,a]of Object.entries(n||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function AM(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(Q_,JSON.stringify(r))}catch(n){pl(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eu.apply(this,arguments)}const wh=E.createContext(null),rw=E.createContext(null),to=E.createContext(null),Sh=E.createContext(null),da=E.createContext({outlet:null,matches:[],isDataRoute:!1}),nw=E.createContext(null);function TM(t,e){let{relative:r}=e===void 0?{}:e;Al()||gt(!1);let{basename:n,navigator:i}=E.useContext(to),{hash:a,pathname:o,search:s}=ow(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:ta([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Al(){return E.useContext(Sh)!=null}function rs(){return Al()||gt(!1),E.useContext(Sh).location}function iw(t){E.useContext(to).static||E.useLayoutEffect(t)}function aw(){let{isDataRoute:t}=E.useContext(da);return t?UM():RM()}function RM(){Al()||gt(!1);let t=E.useContext(wh),{basename:e,future:r,navigator:n}=E.useContext(to),{matches:i}=E.useContext(da),{pathname:a}=rs(),o=JSON.stringify(bh(i,r.v7_relativeSplatPath)),s=E.useRef(!1);return iw(()=>{s.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!s.current)return;if(typeof c=="number"){n.go(c);return}let p=_h(c,JSON.parse(o),a,u.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ta([e,p.pathname])),(u.replace?n.replace:n.push)(p,u.state,u)},[e,n,o,a,t])}const PM=E.createContext(null);function LM(t){let e=E.useContext(da).outlet;return e&&E.createElement(PM.Provider,{value:t},e)}function ow(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=E.useContext(to),{matches:i}=E.useContext(da),{pathname:a}=rs(),o=JSON.stringify(bh(i,n.v7_relativeSplatPath));return E.useMemo(()=>_h(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function kM(t,e,r,n){Al()||gt(!1);let{navigator:i}=E.useContext(to),{matches:a}=E.useContext(da),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=rs(),u;if(e){var p;let f=typeof e=="string"?ua(e):e;l==="/"||(p=f.pathname)!=null&&p.startsWith(l)||gt(!1),u=f}else u=c;let d=u.pathname||"/",g=d;if(l!=="/"){let f=l.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(f.length).join("/")}let m=Vs(t,{pathname:g}),h=zM(m&&m.map(f=>Object.assign({},f,{params:Object.assign({},s,f.params),pathname:ta([l,i.encodeLocation?i.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?l:ta([l,i.encodeLocation?i.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),a,r,n);return e&&h?E.createElement(Sh.Provider,{value:{location:eu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sr.Pop}},h):h}function DM(){let t=$M(),e=X_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:i},r):null,null)}const IM=E.createElement(DM,null);class FM extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?E.createElement(da.Provider,{value:this.props.routeContext},E.createElement(nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NM(t){let{routeContext:e,match:r,children:n}=t,i=E.useContext(wh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(da.Provider,{value:e},n)}function zM(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if((a=r)!=null&&a.errors)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=o.findIndex(p=>p.route.id&&(s==null?void 0:s[p.route.id]));u>=0||gt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<o.length;u++){let p=o[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=u),p.route.id){let{loaderData:d,errors:g}=r,m=p.route.loader&&d[p.route.id]===void 0&&(!g||g[p.route.id]===void 0);if(p.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,p,d)=>{let g,m=!1,h=null,f=null;r&&(g=s&&p.route.id?s[p.route.id]:void 0,h=p.route.errorElement||IM,l&&(c<0&&d===0?(qM("route-fallback",!1),m=!0,f=null):c===d&&(m=!0,f=p.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,d+1)),y=()=>{let x;return g?x=h:m?x=f:p.route.Component?x=E.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=u,E.createElement(NM,{match:p,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:x})};return r&&(p.route.ErrorBoundary||p.route.errorElement||d===0)?E.createElement(FM,{location:r.location,revalidation:r.revalidation,component:h,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var sw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sw||{}),Fp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fp||{});function OM(t){let e=E.useContext(wh);return e||gt(!1),e}function BM(t){let e=E.useContext(rw);return e||gt(!1),e}function jM(t){let e=E.useContext(da);return e||gt(!1),e}function lw(t){let e=jM(),r=e.matches[e.matches.length-1];return r.route.id||gt(!1),r.route.id}function $M(){var t;let e=E.useContext(nw),r=BM(Fp.UseRouteError),n=lw(Fp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function UM(){let{router:t}=OM(sw.UseNavigateStable),e=lw(Fp.UseNavigateStable),r=E.useRef(!1);return iw(()=>{r.current=!0}),E.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,eu({fromRouteId:e},a)))},[t,e])}const Gy={};function qM(t,e,r){!e&&!Gy[t]&&(Gy[t]=!0)}function VM(t){let{to:e,replace:r,state:n,relative:i}=t;Al()||gt(!1);let{future:a,static:o}=E.useContext(to),{matches:s}=E.useContext(da),{pathname:l}=rs(),c=aw(),u=_h(e,bh(s,a.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(u);return E.useEffect(()=>c(JSON.parse(p),{replace:r,state:n,relative:i}),[c,p,i,r,n]),null}function HM(t){return LM(t.context)}function WM(t){let{basename:e="/",children:r=null,location:n,navigationType:i=sr.Pop,navigator:a,static:o=!1,future:s}=t;Al()&&gt(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:a,static:o,future:eu({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=ua(n));let{pathname:u="/",search:p="",hash:d="",state:g=null,key:m="default"}=n,h=E.useMemo(()=>{let f=Ml(u,l);return f==null?null:{location:{pathname:f,search:p,hash:d,state:g,key:m},navigationType:i}},[l,u,p,d,g,m,i]);return h==null?null:E.createElement(to.Provider,{value:c},E.createElement(Sh.Provider,{children:r,value:h}))}new Promise(()=>{});function GM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:E.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tu.apply(this,arguments)}function ZM(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function XM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YM(t,e){return t.button===0&&(!e||e==="_self")&&!XM(t)}const KM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],QM="6";try{window.__reactRouterVersion=QM}catch{}function JM(t,e){return mM({basename:e==null?void 0:e.basename,future:tu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:OE({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||e6(),routes:t,mapRouteProperties:GM,window:e==null?void 0:e.window}).initialize()}function e6(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=tu({},e,{errors:t6(e.errors)})),e}function t6(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new w1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let o=new a(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let a=new Error(i.message);a.stack="",r[n]=a}}else r[n]=i;return r}const r6=E.createContext({isTransitioning:!1}),n6=E.createContext(new Map),i6="startTransition",Zy=il[i6],a6="flushSync",Xy=hE[a6];function o6(t){Zy?Zy(t):t()}function Gl(t){Xy?Xy(t):t()}class s6{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function l6(t){let{fallbackElement:e,router:r,future:n}=t,[i,a]=E.useState(r.state),[o,s]=E.useState(),[l,c]=E.useState({isTransitioning:!1}),[u,p]=E.useState(),[d,g]=E.useState(),[m,h]=E.useState(),f=E.useRef(new Map),{v7_startTransition:v}=n||{},y=E.useCallback(C=>{v?o6(C):C()},[v]),x=E.useCallback((C,S)=>{let{deletedFetchers:M,unstable_flushSync:T,unstable_viewTransitionOpts:D}=S;M.forEach(N=>f.current.delete(N)),C.fetchers.forEach((N,L)=>{N.data!==void 0&&f.current.set(L,N.data)});let j=r.window==null||typeof r.window.document.startViewTransition!="function";if(!D||j){T?Gl(()=>a(C)):y(()=>a(C));return}if(T){Gl(()=>{d&&(u&&u.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let N=r.window.document.startViewTransition(()=>{Gl(()=>a(C))});N.finished.finally(()=>{Gl(()=>{p(void 0),g(void 0),s(void 0),c({isTransitioning:!1})})}),Gl(()=>g(N));return}d?(u&&u.resolve(),d.skipTransition(),h({state:C,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(s(C),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[r.window,d,u,f,y]);E.useLayoutEffect(()=>r.subscribe(x),[r,x]),E.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new s6)},[l]),E.useEffect(()=>{if(u&&o&&r.window){let C=o,S=u.promise,M=r.window.document.startViewTransition(async()=>{y(()=>a(C)),await S});M.finished.finally(()=>{p(void 0),g(void 0),s(void 0),c({isTransitioning:!1})}),g(M)}},[y,o,u,r.window]),E.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,d,i.location,o]),E.useEffect(()=>{!l.isTransitioning&&m&&(s(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),h(void 0))},[l.isTransitioning,m]),E.useEffect(()=>{},[]);let b=E.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:C=>r.navigate(C),push:(C,S,M)=>r.navigate(C,{state:S,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(C,S,M)=>r.navigate(C,{replace:!0,state:S,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[r]),w=r.basename||"/",_=E.useMemo(()=>({router:r,navigator:b,static:!1,basename:w}),[r,b,w]);return E.createElement(E.Fragment,null,E.createElement(wh.Provider,{value:_},E.createElement(rw.Provider,{value:i},E.createElement(n6.Provider,{value:f.current},E.createElement(r6.Provider,{value:l},E.createElement(WM,{basename:w,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?E.createElement(c6,{routes:r.routes,future:r.future,state:i}):e))))),null)}function c6(t){let{routes:e,future:r,state:n}=t;return kM(e,void 0,n,r)}const u6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p6=E.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:u,unstable_viewTransition:p}=e,d=ZM(e,KM),{basename:g}=E.useContext(to),m,h=!1;if(typeof c=="string"&&d6.test(c)&&(m=c,u6))try{let x=new URL(window.location.href),b=c.startsWith("//")?new URL(x.protocol+c):new URL(c),w=Ml(b.pathname,g);b.origin===x.origin&&w!=null?c=w+b.search+b.hash:h=!0}catch{}let f=TM(c,{relative:i}),v=h6(c,{replace:o,state:s,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:p});function y(x){n&&n(x),x.defaultPrevented||v(x)}return E.createElement("a",tu({},d,{href:m||f,onClick:h||a?n:y,ref:r,target:l}))});var Yy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yy||(Yy={}));var Ky;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ky||(Ky={}));function h6(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s}=e===void 0?{}:e,l=aw(),c=rs(),u=ow(t,{relative:o});return E.useCallback(p=>{if(YM(p,r)){p.preventDefault();let d=n!==void 0?n:Vo(c)===Vo(u);l(t,{replace:d,state:i,preventScrollReset:a,relative:o,unstable_viewTransition:s})}},[c,l,u,n,i,r,t,a,o,s])}const f6="modulepreload",m6=function(t){return"/tagmar_pwa/"+t},Qy={},g6=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const a=document.getElementsByTagName("link");i=Promise.all(r.map(o=>{if(o=m6(o),o in Qy)return;Qy[o]=!0;const s=o.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!n)for(let p=a.length-1;p>=0;p--){const d=a[p];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":f6,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((p,d)=>{u.addEventListener("load",p),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(a=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a})};function v6(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:i,onRegisteredSW:a,onRegisterError:o}=t;let s,l,c;const u=async(d=!0)=>{await l,await(c==null?void 0:c())};async function p(){if("serviceWorker"in navigator){if(s=await g6(()=>import("./workbox-window.prod.es5-DFjpnwFp.js"),__vite__mapDeps([])).then(({Workbox:d})=>new d("/tagmar_pwa/sw.js",{scope:"/tagmar_pwa/",type:"classic"})).catch(d=>{o==null||o(d)}),!s)return;c=async()=>{await(s==null?void 0:s.messageSkipWaiting())};{let d=!1;const g=m=>{m&&d&&m.isExternal&&window.location.reload(),d=!0,s==null||s.addEventListener("controlling",h=>{(h.isUpdate===!0||h.isExternal===!0)&&window.location.reload()}),r==null||r()};s.addEventListener("installed",m=>{typeof m.isUpdate>"u"?typeof m.isExternal<"u"?m.isExternal?g():!d&&(n==null||n()):m.isExternal?window.location.reload():!d&&(n==null||n()):m.isUpdate||n==null||n()}),s.addEventListener("waiting",g)}s.register({immediate:e}).then(d=>{a?a("/tagmar_pwa/sw.js",d):i==null||i(d)}).catch(d=>{o==null||o(d)})}}return l=p(),u}const y6={black:"#000",white:"#fff"},ru=y6,x6={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},os=x6,b6={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ss=b6,_6={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ls=_6,w6={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},cs=w6,S6={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},us=S6,C6={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zl=C6,E6={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},M6=E6;function Wa(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Ho="$$material";function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R.apply(this,arguments)}function ye(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cw(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var A6=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,T6=cw(function(t){return A6.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function R6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function P6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var L6=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(P6(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=R6(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Ir="-ms-",Np="-moz-",Pt="-webkit-",uw="comm",C1="rule",E1="decl",k6="@import",dw="@keyframes",D6="@layer",I6=Math.abs,Ch=String.fromCharCode,F6=Object.assign;function N6(t,e){return Tr(t,0)^45?(((e<<2^Tr(t,0))<<2^Tr(t,1))<<2^Tr(t,2))<<2^Tr(t,3):0}function pw(t){return t.trim()}function z6(t,e){return(t=e.exec(t))?t[0]:t}function Lt(t,e,r){return t.replace(e,r)}function J0(t,e){return t.indexOf(e)}function Tr(t,e){return t.charCodeAt(e)|0}function nu(t,e,r){return t.slice(e,r)}function Si(t){return t.length}function M1(t){return t.length}function cd(t,e){return e.push(t),t}function O6(t,e){return t.map(e).join("")}var Eh=1,hl=1,hw=0,un=0,hr=0,Tl="";function Mh(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Eh,column:hl,length:o,return:""}}function Xl(t,e){return F6(Mh("",null,null,"",null,null,0),t,{length:-t.length},e)}function B6(){return hr}function j6(){return hr=un>0?Tr(Tl,--un):0,hl--,hr===10&&(hl=1,Eh--),hr}function wn(){return hr=un<hw?Tr(Tl,un++):0,hl++,hr===10&&(hl=1,Eh++),hr}function Li(){return Tr(Tl,un)}function np(){return un}function ku(t,e){return nu(Tl,t,e)}function iu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fw(t){return Eh=hl=1,hw=Si(Tl=t),un=0,[]}function mw(t){return Tl="",t}function ip(t){return pw(ku(un-1,eg(t===91?t+2:t===40?t+1:t)))}function $6(t){for(;(hr=Li())&&hr<33;)wn();return iu(t)>2||iu(hr)>3?"":" "}function U6(t,e){for(;--e&&wn()&&!(hr<48||hr>102||hr>57&&hr<65||hr>70&&hr<97););return ku(t,np()+(e<6&&Li()==32&&wn()==32))}function eg(t){for(;wn();)switch(hr){case t:return un;case 34:case 39:t!==34&&t!==39&&eg(hr);break;case 40:t===41&&eg(t);break;case 92:wn();break}return un}function q6(t,e){for(;wn()&&t+hr!==57;)if(t+hr===84&&Li()===47)break;return"/*"+ku(e,un-1)+"*"+Ch(t===47?t:wn())}function V6(t){for(;!iu(Li());)wn();return ku(t,un)}function H6(t){return mw(ap("",null,null,null,[""],t=fw(t),0,[0],t))}function ap(t,e,r,n,i,a,o,s,l){for(var c=0,u=0,p=o,d=0,g=0,m=0,h=1,f=1,v=1,y=0,x="",b=i,w=a,_=n,C=x;f;)switch(m=y,y=wn()){case 40:if(m!=108&&Tr(C,p-1)==58){J0(C+=Lt(ip(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=ip(y);break;case 9:case 10:case 13:case 32:C+=$6(m);break;case 92:C+=U6(np()-1,7);continue;case 47:switch(Li()){case 42:case 47:cd(W6(q6(wn(),np()),e,r),l);break;default:C+="/"}break;case 123*h:s[c++]=Si(C)*v;case 125*h:case 59:case 0:switch(y){case 0:case 125:f=0;case 59+u:v==-1&&(C=Lt(C,/\f/g,"")),g>0&&Si(C)-p&&cd(g>32?e2(C+";",n,r,p-1):e2(Lt(C," ","")+";",n,r,p-2),l);break;case 59:C+=";";default:if(cd(_=Jy(C,e,r,c,u,i,s,x,b=[],w=[],p),a),y===123)if(u===0)ap(C,e,_,_,b,a,p,s,w);else switch(d===99&&Tr(C,3)===110?100:d){case 100:case 108:case 109:case 115:ap(t,_,_,n&&cd(Jy(t,_,_,0,0,i,s,x,i,b=[],p),w),i,w,p,s,n?b:w);break;default:ap(C,_,_,_,[""],w,0,s,w)}}c=u=g=0,h=v=1,x=C="",p=o;break;case 58:p=1+Si(C),g=m;default:if(h<1){if(y==123)--h;else if(y==125&&h++==0&&j6()==125)continue}switch(C+=Ch(y),y*h){case 38:v=u>0?1:(C+="\f",-1);break;case 44:s[c++]=(Si(C)-1)*v,v=1;break;case 64:Li()===45&&(C+=ip(wn())),d=Li(),u=p=Si(x=C+=V6(np())),y++;break;case 45:m===45&&Si(C)==2&&(h=0)}}return a}function Jy(t,e,r,n,i,a,o,s,l,c,u){for(var p=i-1,d=i===0?a:[""],g=M1(d),m=0,h=0,f=0;m<n;++m)for(var v=0,y=nu(t,p+1,p=I6(h=o[m])),x=t;v<g;++v)(x=pw(h>0?d[v]+" "+y:Lt(y,/&\f/g,d[v])))&&(l[f++]=x);return Mh(t,e,r,i===0?C1:s,l,c,u)}function W6(t,e,r){return Mh(t,e,r,uw,Ch(B6()),nu(t,2,-2),0)}function e2(t,e,r,n){return Mh(t,e,r,E1,nu(t,0,n),nu(t,n+1,-1),n)}function el(t,e){for(var r="",n=M1(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function G6(t,e,r,n){switch(t.type){case D6:if(t.children.length)break;case k6:case E1:return t.return=t.return||t.value;case uw:return"";case dw:return t.return=t.value+"{"+el(t.children,n)+"}";case C1:t.value=t.props.join(",")}return Si(r=el(t.children,n))?t.return=t.value+"{"+r+"}":""}function Z6(t){var e=M1(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function X6(t){return function(e){e.root||(e=e.return)&&t(e)}}var Y6=function(e,r,n){for(var i=0,a=0;i=a,a=Li(),i===38&&a===12&&(r[n]=1),!iu(a);)wn();return ku(e,un)},K6=function(e,r){var n=-1,i=44;do switch(iu(i)){case 0:i===38&&Li()===12&&(r[n]=1),e[n]+=Y6(un-1,r,n);break;case 2:e[n]+=ip(i);break;case 4:if(i===44){e[++n]=Li()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Ch(i)}while(i=wn());return e},Q6=function(e,r){return mw(K6(fw(e),r))},t2=new WeakMap,J6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!t2.get(n))&&!i){t2.set(e,!0);for(var a=[],o=Q6(r,a),s=n.props,l=0,c=0;l<o.length;l++)for(var u=0;u<s.length;u++,c++)e.props[c]=a[l]?o[l].replace(/&\f/g,s[u]):s[u]+" "+o[l]}}},e8=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function gw(t,e){switch(N6(t,e)){case 5103:return Pt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+t+Np+t+Ir+t+t;case 6828:case 4268:return Pt+t+Ir+t+t;case 6165:return Pt+t+Ir+"flex-"+t+t;case 5187:return Pt+t+Lt(t,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+Ir+"flex-$1$2")+t;case 5443:return Pt+t+Ir+"flex-item-"+Lt(t,/flex-|-self/,"")+t;case 4675:return Pt+t+Ir+"flex-line-pack"+Lt(t,/align-content|flex-|-self/,"")+t;case 5548:return Pt+t+Ir+Lt(t,"shrink","negative")+t;case 5292:return Pt+t+Ir+Lt(t,"basis","preferred-size")+t;case 6060:return Pt+"box-"+Lt(t,"-grow","")+Pt+t+Ir+Lt(t,"grow","positive")+t;case 4554:return Pt+Lt(t,/([^-])(transform)/g,"$1"+Pt+"$2")+t;case 6187:return Lt(Lt(Lt(t,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),t,"")+t;case 5495:case 3959:return Lt(t,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return Lt(Lt(t,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+Ir+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+t+t;case 4095:case 3583:case 4068:case 2532:return Lt(t,/(.+)-inline(.+)/,Pt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Si(t)-1-e>6)switch(Tr(t,e+1)){case 109:if(Tr(t,e+4)!==45)break;case 102:return Lt(t,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+Np+(Tr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~J0(t,"stretch")?gw(Lt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tr(t,e+1)!==115)break;case 6444:switch(Tr(t,Si(t)-3-(~J0(t,"!important")&&10))){case 107:return Lt(t,":",":"+Pt)+t;case 101:return Lt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pt+(Tr(t,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+Ir+"$2box$3")+t}break;case 5936:switch(Tr(t,e+11)){case 114:return Pt+t+Ir+Lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Pt+t+Ir+Lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Pt+t+Ir+Lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Pt+t+Ir+t+t}return t}var t8=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case E1:e.return=gw(e.value,e.length);break;case dw:return el([Xl(e,{value:Lt(e.value,"@","@"+Pt)})],i);case C1:if(e.length)return O6(e.props,function(a){switch(z6(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return el([Xl(e,{props:[Lt(a,/:(read-\w+)/,":"+Np+"$1")]})],i);case"::placeholder":return el([Xl(e,{props:[Lt(a,/:(plac\w+)/,":"+Pt+"input-$1")]}),Xl(e,{props:[Lt(a,/:(plac\w+)/,":"+Np+"$1")]}),Xl(e,{props:[Lt(a,/:(plac\w+)/,Ir+"input-$1")]})],i)}return""})}},r8=[t8],n8=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(h){var f=h.getAttribute("data-emotion");f.indexOf(" ")!==-1&&(document.head.appendChild(h),h.setAttribute("data-s",""))})}var i=e.stylisPlugins||r8,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(h){for(var f=h.getAttribute("data-emotion").split(" "),v=1;v<f.length;v++)a[f[v]]=!0;s.push(h)});var l,c=[J6,e8];{var u,p=[G6,X6(function(h){u.insert(h)})],d=Z6(c.concat(i,p)),g=function(f){return el(H6(f),d)};l=function(f,v,y,x){u=y,g(f?f+"{"+v.styles+"}":v.styles),x&&(m.inserted[v.name]=!0)}}var m={key:r,sheet:new L6({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return m.sheet.hydrate(s),m},vw={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=typeof Symbol=="function"&&Symbol.for,A1=Er?Symbol.for("react.element"):60103,T1=Er?Symbol.for("react.portal"):60106,Ah=Er?Symbol.for("react.fragment"):60107,Th=Er?Symbol.for("react.strict_mode"):60108,Rh=Er?Symbol.for("react.profiler"):60114,Ph=Er?Symbol.for("react.provider"):60109,Lh=Er?Symbol.for("react.context"):60110,R1=Er?Symbol.for("react.async_mode"):60111,kh=Er?Symbol.for("react.concurrent_mode"):60111,Dh=Er?Symbol.for("react.forward_ref"):60112,Ih=Er?Symbol.for("react.suspense"):60113,i8=Er?Symbol.for("react.suspense_list"):60120,Fh=Er?Symbol.for("react.memo"):60115,Nh=Er?Symbol.for("react.lazy"):60116,a8=Er?Symbol.for("react.block"):60121,o8=Er?Symbol.for("react.fundamental"):60117,s8=Er?Symbol.for("react.responder"):60118,l8=Er?Symbol.for("react.scope"):60119;function Rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case A1:switch(t=t.type,t){case R1:case kh:case Ah:case Rh:case Th:case Ih:return t;default:switch(t=t&&t.$$typeof,t){case Lh:case Dh:case Nh:case Fh:case Ph:return t;default:return e}}case T1:return e}}}function yw(t){return Rn(t)===kh}It.AsyncMode=R1;It.ConcurrentMode=kh;It.ContextConsumer=Lh;It.ContextProvider=Ph;It.Element=A1;It.ForwardRef=Dh;It.Fragment=Ah;It.Lazy=Nh;It.Memo=Fh;It.Portal=T1;It.Profiler=Rh;It.StrictMode=Th;It.Suspense=Ih;It.isAsyncMode=function(t){return yw(t)||Rn(t)===R1};It.isConcurrentMode=yw;It.isContextConsumer=function(t){return Rn(t)===Lh};It.isContextProvider=function(t){return Rn(t)===Ph};It.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===A1};It.isForwardRef=function(t){return Rn(t)===Dh};It.isFragment=function(t){return Rn(t)===Ah};It.isLazy=function(t){return Rn(t)===Nh};It.isMemo=function(t){return Rn(t)===Fh};It.isPortal=function(t){return Rn(t)===T1};It.isProfiler=function(t){return Rn(t)===Rh};It.isStrictMode=function(t){return Rn(t)===Th};It.isSuspense=function(t){return Rn(t)===Ih};It.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ah||t===kh||t===Rh||t===Th||t===Ih||t===i8||typeof t=="object"&&t!==null&&(t.$$typeof===Nh||t.$$typeof===Fh||t.$$typeof===Ph||t.$$typeof===Lh||t.$$typeof===Dh||t.$$typeof===o8||t.$$typeof===s8||t.$$typeof===l8||t.$$typeof===a8)};It.typeOf=Rn;vw.exports=It;var c8=vw.exports,xw=c8,u8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bw={};bw[xw.ForwardRef]=u8;bw[xw.Memo]=d8;var p8=!0;function h8(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var _w=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||p8===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},ww=function(e,r,n){_w(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function f8(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var m8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},g8=/[A-Z]|^ms/g,v8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Sw=function(e){return e.charCodeAt(1)===45},r2=function(e){return e!=null&&typeof e!="boolean"},nm=cw(function(t){return Sw(t)?t:t.replace(g8,"-$&").toLowerCase()}),n2=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(v8,function(n,i,a){return Ci={name:i,styles:a,next:Ci},i})}return m8[e]!==1&&!Sw(e)&&typeof r=="number"&&r!==0?r+"px":r};function au(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Ci={name:r.name,styles:r.styles,next:Ci},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Ci={name:n.name,styles:n.styles,next:Ci},n=n.next;var i=r.styles+";";return i}return y8(t,e,r)}case"function":{if(t!==void 0){var a=Ci,o=r(t);return Ci=a,au(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function y8(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=au(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":r2(o)&&(n+=nm(a)+":"+n2(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)r2(o[s])&&(n+=nm(a)+":"+n2(a,o[s])+";");else{var l=au(t,e,o);switch(a){case"animation":case"animationName":{n+=nm(a)+":"+l+";";break}default:n+=a+"{"+l+"}"}}}return n}var i2=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ci,P1=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";Ci=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=au(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=au(n,r,e[s]),i&&(a+=o[s]);i2.lastIndex=0;for(var l="",c;(c=i2.exec(a))!==null;)l+="-"+c[1];var u=f8(a)+l;return{name:u,styles:a,next:Ci}},x8=function(e){return e()},Cw=il.useInsertionEffect?il.useInsertionEffect:!1,b8=Cw||x8,a2=Cw||E.useLayoutEffect,Ew=E.createContext(typeof HTMLElement<"u"?n8({key:"css"}):null);Ew.Provider;var Mw=function(e){return E.forwardRef(function(r,n){var i=E.useContext(Ew);return e(r,i,n)})},zh=E.createContext({}),_8=Mw(function(t,e){var r=t.styles,n=P1([r],void 0,E.useContext(zh)),i=E.useRef();return a2(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",a),o.hydrate([l])),i.current=[o,s],function(){o.flush()}},[e]),a2(function(){var a=i.current,o=a[0],s=a[1];if(s){a[1]=!1;return}if(n.next!==void 0&&ww(e,n.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null});function w8(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return P1(e)}var L1=function(){var e=w8.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},S8=T6,C8=function(e){return e!=="theme"},o2=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?S8:C8},s2=function(e,r,n){var i;if(r){var a=r.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},E8=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return _w(r,n,i),b8(function(){return ww(r,n,i)}),null},M8=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,a,o;r!==void 0&&(a=r.label,o=r.target);var s=s2(e,r,n),l=s||o2(i),c=!l("as");return function(){var u=arguments,p=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&p.push("label:"+a+";"),u[0]==null||u[0].raw===void 0)p.push.apply(p,u);else{p.push(u[0][0]);for(var d=u.length,g=1;g<d;g++)p.push(u[g],u[0][g])}var m=Mw(function(h,f,v){var y=c&&h.as||i,x="",b=[],w=h;if(h.theme==null){w={};for(var _ in h)w[_]=h[_];w.theme=E.useContext(zh)}typeof h.className=="string"?x=h8(f.registered,b,h.className):h.className!=null&&(x=h.className+" ");var C=P1(p.concat(b),f.registered,w);x+=f.key+"-"+C.name,o!==void 0&&(x+=" "+o);var S=c&&s===void 0?o2(y):l,M={};for(var T in h)c&&T==="as"||S(T)&&(M[T]=h[T]);return M.className=x,M.ref=v,E.createElement(E.Fragment,null,E.createElement(E8,{cache:f,serialized:C,isStringTag:typeof y=="string"}),E.createElement(y,M))});return m.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=p,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(h,f){return t(h,R({},r,f,{shouldForwardProp:s2(m,f,!0)})).apply(void 0,p)},m}},A8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],tg=M8.bind();A8.forEach(function(t){tg[t]=tg(t)});function T8(t){return t==null||Object.keys(t).length===0}function R8(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?i=>e(T8(i)?r:i):e;return P.jsx(_8,{styles:n})}function Aw(t,e){return tg(t,e)}const P8=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function La(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Tw(t){if(!La(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=Tw(t[r])}),e}function sn(t,e,r={clone:!0}){const n=r.clone?R({},t):t;return La(t)&&La(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(La(e[i])&&i in t&&La(t[i])?n[i]=sn(t[i],e[i],r):r.clone?n[i]=La(e[i])?Tw(e[i]):e[i]:n[i]=e[i])}),n}function Ue(t){if(typeof t!="string")throw new Error(Wa(7));return t.charAt(0).toUpperCase()+t.slice(1)}function rg(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function Oh(t,e=166){let r;function n(...i){const a=()=>{t.apply(this,i)};clearTimeout(r),r=setTimeout(a,e)}return n.clear=()=>{clearTimeout(r)},n}function L8(t,e){return()=>null}function Rc(t,e){var r,n;return E.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function ln(t){return t&&t.ownerDocument||document}function Di(t){return ln(t).defaultView||window}function k8(t,e){return()=>null}function zp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const fi=typeof window<"u"?E.useLayoutEffect:E.useEffect;let l2=0;function D8(t){const[e,r]=E.useState(t),n=t||e;return E.useEffect(()=>{e==null&&(l2+=1,r(`mui-${l2}`))},[e]),n}const c2=il.useId;function k1(t){if(c2!==void 0){const e=c2();return t??e}return D8(t)}function I8(t,e,r,n,i){return null}function ou({controlled:t,default:e,name:r,state:n="value"}){const{current:i}=E.useRef(t!==void 0),[a,o]=E.useState(e),s=i?t:a,l=E.useCallback(c=>{i||o(c)},[]);return[s,l]}function Co(t){const e=E.useRef(t);return fi(()=>{e.current=t}),E.useRef((...r)=>(0,e.current)(...r)).current}function ar(...t){return E.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{zp(r,e)})},t)}const u2={};function F8(t,e){const r=E.useRef(u2);return r.current===u2&&(r.current=t(e)),r}const N8=[];function z8(t){E.useEffect(t,N8)}class Bh{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Bh}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,r()},e)}}function D1(){const t=F8(Bh.create).current;return z8(t.disposeEffect),t}let jh=!0,ng=!1;const O8=new Bh,B8={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function j8(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&B8[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function $8(t){t.metaKey||t.altKey||t.ctrlKey||(jh=!0)}function im(){jh=!1}function U8(){this.visibilityState==="hidden"&&ng&&(jh=!0)}function q8(t){t.addEventListener("keydown",$8,!0),t.addEventListener("mousedown",im,!0),t.addEventListener("pointerdown",im,!0),t.addEventListener("touchstart",im,!0),t.addEventListener("visibilitychange",U8,!0)}function V8(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return jh||j8(e)}function I1(){const t=E.useCallback(i=>{i!=null&&q8(i.ownerDocument)},[]),e=E.useRef(!1);function r(){return e.current?(ng=!0,O8.start(100,()=>{ng=!1}),e.current=!1,!0):!1}function n(i){return V8(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function Rw(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function F1(t,e){const r=R({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=R({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},a=e[n];r[n]={},!a||!Object.keys(a)?r[n]=i:!i||!Object.keys(i)?r[n]=a:(r[n]=R({},a),Object.keys(i).forEach(o=>{r[n][o]=F1(i[o],a[o])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function et(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((a,o)=>{if(o){const s=e(o);s!==""&&a.push(s),r&&r[o]&&a.push(r[o])}return a},[]).join(" ")}),n}const d2=t=>t,H8=()=>{let t=d2;return{configure(e){t=e},generate(e){return t(e)},reset(){t=d2}}},W8=H8(),N1=W8,G8={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ke(t,e,r="Mui"){const n=G8[e];return n?`${r}-${n}`:`${N1.generate(t)}-${e}`}function Qe(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Ke(t,i,r)}),n}function Z8(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}const X8=["values","unit","step"],Y8=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>R({},r,{[n.key]:n.val}),{})};function K8(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=ye(t,X8),a=Y8(e),o=Object.keys(a);function s(d){return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${r})`}function l(d){return`@media (max-width:${(typeof e[d]=="number"?e[d]:d)-n/100}${r})`}function c(d,g){const m=o.indexOf(g);return`@media (min-width:${typeof e[d]=="number"?e[d]:d}${r}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:g)-n/100}${r})`}function u(d){return o.indexOf(d)+1<o.length?c(d,o[o.indexOf(d)+1]):s(d)}function p(d){const g=o.indexOf(d);return g===0?s(o[1]):g===o.length-1?l(o[g]):c(d,o[o.indexOf(d)+1]).replace("@media","@media not all and")}return R({keys:o,values:a,up:s,down:l,between:c,only:u,not:p,unit:r},i)}const Q8={borderRadius:4},J8=Q8;function Pc(t,e){return e?sn(t,e,{clone:!1}):t}const z1={xs:0,sm:600,md:900,lg:1200,xl:1536},p2={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${z1[t]}px)`};function dn(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const a=n.breakpoints||p2;return e.reduce((o,s,l)=>(o[a.up(a.keys[l])]=r(e[l]),o),{})}if(typeof e=="object"){const a=n.breakpoints||p2;return Object.keys(e).reduce((o,s)=>{if(Object.keys(a.values||z1).indexOf(s)!==-1){const l=a.up(s);o[l]=r(e[s],s)}else{const l=s;o[l]=e[l]}return o},{})}return r(e)}function Pw(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const a=t.up(i);return n[a]={},n},{}))||{}}function Lw(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function eA(t,...e){const r=Pw(t),n=[r,...e].reduce((i,a)=>sn(i,a),{});return Lw(Object.keys(r),n)}function tA(t,e){if(typeof t!="object")return{};const r={},n=Object.keys(e);return Array.isArray(t)?n.forEach((i,a)=>{a<t.length&&(r[i]=!0)}):n.forEach(i=>{t[i]!=null&&(r[i]=!0)}),r}function Do({values:t,breakpoints:e,base:r}){const n=r||tA(t,e),i=Object.keys(n);if(i.length===0)return t;let a;return i.reduce((o,s,l)=>(Array.isArray(t)?(o[s]=t[l]!=null?t[l]:t[a],a=l):typeof t=="object"?(o[s]=t[s]!=null?t[s]:t[a],a=s):o[s]=t,o),{})}function fl(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function Op(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=fl(t,r)||n,e&&(i=e(i,n,t)),i}function cr(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,a=o=>{if(o[e]==null)return null;const s=o[e],l=o.theme,c=fl(l,n)||{};return dn(o,s,p=>{let d=Op(c,i,p);return p===d&&typeof p=="string"&&(d=Op(c,i,`${e}${p==="default"?"":Ue(p)}`,p)),r===!1?d:{[r]:d}})};return a.propTypes={},a.filterProps=[e],a}function rA(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const nA={m:"margin",p:"padding"},iA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},h2={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},aA=rA(t=>{if(t.length>2)if(h2[t])t=h2[t];else return[t];const[e,r]=t.split(""),n=nA[e],i=iA[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),O1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],B1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...O1,...B1];function Du(t,e,r,n){var i;const a=(i=fl(t,e,!1))!=null?i:r;return typeof a=="number"?o=>typeof o=="string"?o:a*o:Array.isArray(a)?o=>typeof o=="string"?o:a[o]:typeof a=="function"?a:()=>{}}function j1(t){return Du(t,"spacing",8)}function Wo(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function oA(t,e){return r=>t.reduce((n,i)=>(n[i]=Wo(e,r),n),{})}function sA(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=aA(r),a=oA(i,n),o=t[r];return dn(t,o,a)}function kw(t,e){const r=j1(t.theme);return Object.keys(t).map(n=>sA(t,e,n,r)).reduce(Pc,{})}function Jt(t){return kw(t,O1)}Jt.propTypes={};Jt.filterProps=O1;function er(t){return kw(t,B1)}er.propTypes={};er.filterProps=B1;function lA(t=8){if(t.mui)return t;const e=j1({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function $h(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>e[a]?Pc(i,e[a](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Bn(t){return typeof t!="number"?t:`${t}px solid`}function Gn(t,e){return cr({prop:t,themeKey:"borders",transform:e})}const cA=Gn("border",Bn),uA=Gn("borderTop",Bn),dA=Gn("borderRight",Bn),pA=Gn("borderBottom",Bn),hA=Gn("borderLeft",Bn),fA=Gn("borderColor"),mA=Gn("borderTopColor"),gA=Gn("borderRightColor"),vA=Gn("borderBottomColor"),yA=Gn("borderLeftColor"),xA=Gn("outline",Bn),bA=Gn("outlineColor"),Uh=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Du(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Wo(e,n)});return dn(t,t.borderRadius,r)}return null};Uh.propTypes={};Uh.filterProps=["borderRadius"];$h(cA,uA,dA,pA,hA,fA,mA,gA,vA,yA,Uh,xA,bA);const qh=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Du(t.theme,"spacing",8),r=n=>({gap:Wo(e,n)});return dn(t,t.gap,r)}return null};qh.propTypes={};qh.filterProps=["gap"];const Vh=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Du(t.theme,"spacing",8),r=n=>({columnGap:Wo(e,n)});return dn(t,t.columnGap,r)}return null};Vh.propTypes={};Vh.filterProps=["columnGap"];const Hh=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Du(t.theme,"spacing",8),r=n=>({rowGap:Wo(e,n)});return dn(t,t.rowGap,r)}return null};Hh.propTypes={};Hh.filterProps=["rowGap"];const _A=cr({prop:"gridColumn"}),wA=cr({prop:"gridRow"}),SA=cr({prop:"gridAutoFlow"}),CA=cr({prop:"gridAutoColumns"}),EA=cr({prop:"gridAutoRows"}),MA=cr({prop:"gridTemplateColumns"}),AA=cr({prop:"gridTemplateRows"}),TA=cr({prop:"gridTemplateAreas"}),RA=cr({prop:"gridArea"});$h(qh,Vh,Hh,_A,wA,SA,CA,EA,MA,AA,TA,RA);function tl(t,e){return e==="grey"?e:t}const PA=cr({prop:"color",themeKey:"palette",transform:tl}),LA=cr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:tl}),kA=cr({prop:"backgroundColor",themeKey:"palette",transform:tl});$h(PA,LA,kA);function yn(t){return t<=1&&t!==0?`${t*100}%`:t}const DA=cr({prop:"width",transform:yn}),$1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i;const a=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||z1[r];return a?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${t.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:yn(r)}};return dn(t,t.maxWidth,e)}return null};$1.filterProps=["maxWidth"];const IA=cr({prop:"minWidth",transform:yn}),FA=cr({prop:"height",transform:yn}),NA=cr({prop:"maxHeight",transform:yn}),zA=cr({prop:"minHeight",transform:yn});cr({prop:"size",cssProperty:"width",transform:yn});cr({prop:"size",cssProperty:"height",transform:yn});const OA=cr({prop:"boxSizing"});$h(DA,$1,IA,FA,NA,zA,OA);const BA={border:{themeKey:"borders",transform:Bn},borderTop:{themeKey:"borders",transform:Bn},borderRight:{themeKey:"borders",transform:Bn},borderBottom:{themeKey:"borders",transform:Bn},borderLeft:{themeKey:"borders",transform:Bn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Bn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Uh},color:{themeKey:"palette",transform:tl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:tl},backgroundColor:{themeKey:"palette",transform:tl},p:{style:er},pt:{style:er},pr:{style:er},pb:{style:er},pl:{style:er},px:{style:er},py:{style:er},padding:{style:er},paddingTop:{style:er},paddingRight:{style:er},paddingBottom:{style:er},paddingLeft:{style:er},paddingX:{style:er},paddingY:{style:er},paddingInline:{style:er},paddingInlineStart:{style:er},paddingInlineEnd:{style:er},paddingBlock:{style:er},paddingBlockStart:{style:er},paddingBlockEnd:{style:er},m:{style:Jt},mt:{style:Jt},mr:{style:Jt},mb:{style:Jt},ml:{style:Jt},mx:{style:Jt},my:{style:Jt},margin:{style:Jt},marginTop:{style:Jt},marginRight:{style:Jt},marginBottom:{style:Jt},marginLeft:{style:Jt},marginX:{style:Jt},marginY:{style:Jt},marginInline:{style:Jt},marginInlineStart:{style:Jt},marginInlineEnd:{style:Jt},marginBlock:{style:Jt},marginBlockStart:{style:Jt},marginBlockEnd:{style:Jt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:qh},rowGap:{style:Hh},columnGap:{style:Vh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:yn},maxWidth:{style:$1},minWidth:{transform:yn},height:{transform:yn},maxHeight:{transform:yn},minHeight:{transform:yn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Wh=BA;function jA(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function $A(t,e){return typeof t=="function"?t(e):t}function UA(){function t(r,n,i,a){const o={[r]:n,theme:i},s=a[r];if(!s)return{[r]:n};const{cssProperty:l=r,themeKey:c,transform:u,style:p}=s;if(n==null)return null;if(c==="typography"&&n==="inherit")return{[r]:n};const d=fl(i,c)||{};return p?p(o):dn(o,n,m=>{let h=Op(d,u,m);return m===h&&typeof m=="string"&&(h=Op(d,u,`${r}${m==="default"?"":Ue(m)}`,m)),l===!1?h:{[l]:h}})}function e(r){var n;const{sx:i,theme:a={}}=r||{};if(!i)return null;const o=(n=a.unstable_sxConfig)!=null?n:Wh;function s(l){let c=l;if(typeof l=="function")c=l(a);else if(typeof l!="object")return l;if(!c)return null;const u=Pw(a.breakpoints),p=Object.keys(u);let d=u;return Object.keys(c).forEach(g=>{const m=$A(c[g],a);if(m!=null)if(typeof m=="object")if(o[g])d=Pc(d,t(g,m,a,o));else{const h=dn({theme:a},m,f=>({[g]:f}));jA(h,m)?d[g]=e({sx:m,theme:a}):d=Pc(d,h)}else d=Pc(d,t(g,m,a,o))}),Lw(p,d)}return Array.isArray(i)?i.map(s):s(i)}return e}const Iu=UA();Iu.filterProps=["sx"];function qA(t,e){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:r.palette.mode===t?e:{}}const VA=["breakpoints","palette","spacing","shape"];function Gh(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:a={}}=t,o=ye(t,VA),s=K8(r),l=lA(i);let c=sn({breakpoints:s,direction:"ltr",components:{},palette:R({mode:"light"},n),spacing:l,shape:R({},J8,a)},o);return c.applyStyles=qA,c=e.reduce((u,p)=>sn(u,p),c),c.unstable_sxConfig=R({},Wh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(p){return Iu({sx:p,theme:this})},c}function HA(t){return Object.keys(t).length===0}function Dw(t=null){const e=E.useContext(zh);return!e||HA(e)?t:e}const WA=Gh();function Zh(t=WA){return Dw(t)}function GA({styles:t,themeId:e,defaultTheme:r={}}){const n=Zh(r),i=typeof t=="function"?t(e&&n[e]||n):t;return P.jsx(R8,{styles:i})}const ZA=["sx"],XA=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:Wh;return Object.keys(t).forEach(a=>{i[a]?n.systemProps[a]=t[a]:n.otherProps[a]=t[a]}),n};function Xh(t){const{sx:e}=t,r=ye(t,ZA),{systemProps:n,otherProps:i}=XA(r);let a;return Array.isArray(e)?a=[n,...e]:typeof e=="function"?a=(...o)=>{const s=e(...o);return La(s)?R({},n,s):n}:a=R({},n,e),R({},i,{sx:a})}function Iw(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Iw(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ce(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Iw(t))&&(n&&(n+=" "),n+=e);return n}const YA=["className","component"];function KA(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,a=Aw("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(Iu);return E.forwardRef(function(l,c){const u=Zh(r),p=Xh(l),{className:d,component:g="div"}=p,m=ye(p,YA);return P.jsx(a,R({as:g,ref:c,className:Ce(d,i?i(n):n),theme:e&&u[e]||u},m))})}const QA=["ownerState"],JA=["variants"],e9=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function t9(t){return Object.keys(t).length===0}function r9(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Lc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const n9=Gh(),i9=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ud({defaultTheme:t,theme:e,themeId:r}){return t9(e)?t:e[r]||e}function a9(t){return t?(e,r)=>r[t]:null}function op(t,e){let{ownerState:r}=e,n=ye(e,QA);const i=typeof t=="function"?t(R({ownerState:r},n)):t;if(Array.isArray(i))return i.flatMap(a=>op(a,R({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:a=[]}=i;let s=ye(i,JA);return a.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(R({ownerState:r},n)):Object.keys(l.props).forEach(u=>{(r==null?void 0:r[u])!==l.props[u]&&n[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(s)||(s=[s]),s.push(typeof l.style=="function"?l.style(R({ownerState:r},n)):l.style))}),s}return i}function Fw(t={}){const{themeId:e,defaultTheme:r=n9,rootShouldForwardProp:n=Lc,slotShouldForwardProp:i=Lc}=t,a=o=>Iu(R({},o,{theme:ud(R({},o,{defaultTheme:r,themeId:e}))}));return a.__mui_systemSx=!0,(o,s={})=>{P8(o,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:p,overridesResolver:d=a9(i9(c))}=s,g=ye(s,e9),m=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,h=p||!1;let f,v=Lc;c==="Root"||c==="root"?v=n:c?v=i:r9(o)&&(v=void 0);const y=Aw(o,R({shouldForwardProp:v,label:f},g)),x=w=>typeof w=="function"&&w.__emotion_real!==w||La(w)?_=>op(w,R({},_,{theme:ud({theme:_.theme,defaultTheme:r,themeId:e})})):w,b=(w,..._)=>{let C=x(w);const S=_?_.map(x):[];l&&d&&S.push(D=>{const j=ud(R({},D,{defaultTheme:r,themeId:e}));if(!j.components||!j.components[l]||!j.components[l].styleOverrides)return null;const N=j.components[l].styleOverrides,L={};return Object.entries(N).forEach(([O,B])=>{L[O]=op(B,R({},D,{theme:j}))}),d(D,L)}),l&&!m&&S.push(D=>{var j;const N=ud(R({},D,{defaultTheme:r,themeId:e})),L=N==null||(j=N.components)==null||(j=j[l])==null?void 0:j.variants;return op({variants:L},R({},D,{theme:N}))}),h||S.push(a);const M=S.length-_.length;if(Array.isArray(w)&&M>0){const D=new Array(M).fill("");C=[...w,...D],C.raw=[...w.raw,...D]}const T=y(C,...S);return o.muiName&&(T.muiName=o.muiName),T};return y.withConfig&&(b.withConfig=y.withConfig),b}}const o9=Fw();function s9(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:F1(e.components[r].defaultProps,n)}function Nw({props:t,name:e,defaultTheme:r,themeId:n}){let i=Zh(r);return n&&(i=i[n]||i),s9({theme:i,name:e,props:t})}function U1(t,e=0,r=1){return Z8(t,e,r)}function l9(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Go(t){if(t.type)return t;if(t.charAt(0)==="#")return Go(l9(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Wa(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Wa(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}function Yh(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((i,a)=>a<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function c9(t){t=Go(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,a=n*Math.min(i,1-i),o=(c,u=(c+r/30)%12)=>i-a*Math.max(Math.min(u-3,9-u,1),-1);let s="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(s+="a",l.push(e[3])),Yh({type:s,values:l})}function f2(t){t=Go(t);let e=t.type==="hsl"||t.type==="hsla"?Go(c9(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function u9(t,e){const r=f2(t),n=f2(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Zt(t,e){return t=Go(t),e=U1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Yh(t)}function zw(t,e){if(t=Go(t),e=U1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Yh(t)}function Ow(t,e){if(t=Go(t),e=U1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Yh(t)}const d9=E.createContext(null),Bw=d9;function jw(){return E.useContext(Bw)}const p9=typeof Symbol=="function"&&Symbol.for,h9=p9?Symbol.for("mui.nested"):"__THEME_NESTED__";function f9(t,e){return typeof e=="function"?e(t):R({},t,e)}function m9(t){const{children:e,theme:r}=t,n=jw(),i=E.useMemo(()=>{const a=n===null?r:f9(n,r);return a!=null&&(a[h9]=n!==null),a},[r,n]);return P.jsx(Bw.Provider,{value:i,children:e})}const m2={};function g2(t,e,r,n=!1){return E.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const a=r(i),o=t?R({},e,{[t]:a}):a;return n?()=>o:o}return t?R({},e,{[t]:r}):R({},e,r)},[t,e,r,n])}function g9(t){const{children:e,theme:r,themeId:n}=t,i=Dw(m2),a=jw()||m2,o=g2(n,i,r),s=g2(n,a,r,!0);return P.jsx(m9,{theme:s,children:P.jsx(zh.Provider,{value:o,children:e})})}const v9=["component","direction","spacing","divider","children","className","useFlexGap"],y9=Gh(),x9=o9("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function b9(t){return Nw({props:t,name:"MuiStack",defaultTheme:y9})}function _9(t,e){const r=E.Children.toArray(t).filter(Boolean);return r.reduce((n,i,a)=>(n.push(i),a<r.length-1&&n.push(E.cloneElement(e,{key:`separator-${a}`})),n),[])}const w9=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],S9=({ownerState:t,theme:e})=>{let r=R({display:"flex",flexDirection:"column"},dn({theme:e},Do({values:t.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(t.spacing){const n=j1(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),a=Do({values:t.direction,base:i}),o=Do({values:t.spacing,base:i});typeof a=="object"&&Object.keys(a).forEach((l,c,u)=>{if(!a[l]){const d=c>0?a[u[c-1]]:"column";a[l]=d}}),r=sn(r,dn({theme:e},o,(l,c)=>t.useFlexGap?{gap:Wo(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${w9(c?a[c]:t.direction)}`]:Wo(n,l)}}))}return r=eA(e.breakpoints,r),r};function C9(t={}){const{createStyledComponent:e=x9,useThemeProps:r=b9,componentName:n="MuiStack"}=t,i=()=>et({root:["root"]},l=>Ke(n,l),{}),a=e(S9);return E.forwardRef(function(l,c){const u=r(l),p=Xh(u),{component:d="div",direction:g="column",spacing:m=0,divider:h,children:f,className:v,useFlexGap:y=!1}=p,x=ye(p,v9),b={direction:g,spacing:m,useFlexGap:y},w=i();return P.jsx(a,R({as:d,ownerState:b,ref:c,className:Ce(w.root,v)},x,{children:h?_9(f,h):f}))})}function E9(t,e){return R({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const M9=["mode","contrastThreshold","tonalOffset"],v2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ru.white,default:ru.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},am={text:{primary:ru.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ru.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function y2(t,e,r,n){const i=n.light||n,a=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=Ow(t.main,i):e==="dark"&&(t.dark=zw(t.main,a)))}function A9(t="light"){return t==="dark"?{main:ls[200],light:ls[50],dark:ls[400]}:{main:ls[700],light:ls[400],dark:ls[800]}}function T9(t="light"){return t==="dark"?{main:ss[200],light:ss[50],dark:ss[400]}:{main:ss[500],light:ss[300],dark:ss[700]}}function R9(t="light"){return t==="dark"?{main:os[500],light:os[300],dark:os[700]}:{main:os[700],light:os[400],dark:os[800]}}function P9(t="light"){return t==="dark"?{main:cs[400],light:cs[300],dark:cs[700]}:{main:cs[700],light:cs[500],dark:cs[900]}}function L9(t="light"){return t==="dark"?{main:us[400],light:us[300],dark:us[700]}:{main:us[800],light:us[500],dark:us[900]}}function k9(t="light"){return t==="dark"?{main:Zl[400],light:Zl[300],dark:Zl[700]}:{main:"#ed6c02",light:Zl[500],dark:Zl[900]}}function D9(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,i=ye(t,M9),a=t.primary||A9(e),o=t.secondary||T9(e),s=t.error||R9(e),l=t.info||P9(e),c=t.success||L9(e),u=t.warning||k9(e);function p(h){return u9(h,am.text.primary)>=r?am.text.primary:v2.text.primary}const d=({color:h,name:f,mainShade:v=500,lightShade:y=300,darkShade:x=700})=>{if(h=R({},h),!h.main&&h[v]&&(h.main=h[v]),!h.hasOwnProperty("main"))throw new Error(Wa(11,f?` (${f})`:"",v));if(typeof h.main!="string")throw new Error(Wa(12,f?` (${f})`:"",JSON.stringify(h.main)));return y2(h,"light",y,n),y2(h,"dark",x,n),h.contrastText||(h.contrastText=p(h.main)),h},g={dark:am,light:v2};return sn(R({common:R({},ru),mode:e,primary:d({color:a,name:"primary"}),secondary:d({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:s,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:M6,contrastThreshold:r,getContrastText:p,augmentColor:d,tonalOffset:n},g[e]),i)}const I9=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function F9(t){return Math.round(t*1e5)/1e5}const x2={textTransform:"uppercase"},b2='"Roboto", "Helvetica", "Arial", sans-serif';function N9(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=b2,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:p}=r,d=ye(r,I9),g=i/14,m=p||(v=>`${v/c*g}rem`),h=(v,y,x,b,w)=>R({fontFamily:n,fontWeight:v,fontSize:m(y),lineHeight:x},n===b2?{letterSpacing:`${F9(b/y)}em`}:{},w,u),f={h1:h(a,96,1.167,-1.5),h2:h(a,60,1.2,-.5),h3:h(o,48,1.167,0),h4:h(o,34,1.235,.25),h5:h(o,24,1.334,0),h6:h(s,20,1.6,.15),subtitle1:h(o,16,1.75,.15),subtitle2:h(s,14,1.57,.1),body1:h(o,16,1.5,.15),body2:h(o,14,1.43,.15),button:h(s,14,1.75,.4,x2),caption:h(o,12,1.66,.4),overline:h(o,12,2.66,1,x2),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return sn(R({htmlFontSize:c,pxToRem:m,fontFamily:n,fontSize:i,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:l},f),d,{clone:!1})}const z9=.2,O9=.14,B9=.12;function Wt(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${z9})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${O9})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${B9})`].join(",")}const j9=["none",Wt(0,2,1,-1,0,1,1,0,0,1,3,0),Wt(0,3,1,-2,0,2,2,0,0,1,5,0),Wt(0,3,3,-2,0,3,4,0,0,1,8,0),Wt(0,2,4,-1,0,4,5,0,0,1,10,0),Wt(0,3,5,-1,0,5,8,0,0,1,14,0),Wt(0,3,5,-1,0,6,10,0,0,1,18,0),Wt(0,4,5,-2,0,7,10,1,0,2,16,1),Wt(0,5,5,-3,0,8,10,1,0,3,14,2),Wt(0,5,6,-3,0,9,12,1,0,3,16,2),Wt(0,6,6,-3,0,10,14,1,0,4,18,3),Wt(0,6,7,-4,0,11,15,1,0,4,20,3),Wt(0,7,8,-4,0,12,17,2,0,5,22,4),Wt(0,7,8,-4,0,13,19,2,0,5,24,4),Wt(0,7,9,-4,0,14,21,2,0,5,26,4),Wt(0,8,9,-5,0,15,22,2,0,6,28,5),Wt(0,8,10,-5,0,16,24,2,0,6,30,5),Wt(0,8,11,-5,0,17,26,2,0,6,32,5),Wt(0,9,11,-5,0,18,28,2,0,7,34,6),Wt(0,9,12,-6,0,19,29,2,0,7,36,6),Wt(0,10,13,-6,0,20,31,3,0,8,38,7),Wt(0,10,13,-6,0,21,33,3,0,8,40,7),Wt(0,10,14,-6,0,22,35,3,0,8,42,7),Wt(0,11,14,-7,0,23,36,3,0,9,44,8),Wt(0,11,15,-7,0,24,38,3,0,9,46,8)],$9=["duration","easing","delay"],U9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},$w={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _2(t){return`${Math.round(t)}ms`}function q9(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function V9(t){const e=R({},U9,t.easing),r=R({},$w,t.duration);return R({getAutoHeightDuration:q9,create:(i=["all"],a={})=>{const{duration:o=r.standard,easing:s=e.easeInOut,delay:l=0}=a;return ye(a,$9),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:_2(o)} ${s} ${typeof l=="string"?l:_2(l)}`).join(",")}},t,{easing:e,duration:r})}const H9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},W9=H9,G9=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function q1(t={},...e){const{mixins:r={},palette:n={},transitions:i={},typography:a={}}=t,o=ye(t,G9);if(t.vars)throw new Error(Wa(18));const s=D9(n),l=Gh(t);let c=sn(l,{mixins:E9(l.breakpoints,r),palette:s,shadows:j9.slice(),typography:N9(s,a),transitions:V9(i),zIndex:R({},W9)});return c=sn(c,o),c=e.reduce((u,p)=>sn(u,p),c),c.unstable_sxConfig=R({},Wh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(p){return Iu({sx:p,theme:this})},c}const Z9=q1(),Kh=Z9;function ns(){const t=Zh(Kh);return t[Ho]||t}function tt({props:t,name:e}){return Nw({props:t,name:e,defaultTheme:Kh,themeId:Ho})}const Kr=t=>Lc(t)&&t!=="classes",X9=Lc,me=Fw({themeId:Ho,defaultTheme:Kh,rootShouldForwardProp:Kr}),Y9=["theme"];function K9(t){let{theme:e}=t,r=ye(t,Y9);const n=e[Ho];return P.jsx(g9,R({},r,{themeId:n?Ho:void 0,theme:n||e}))}const w2=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Q9(t){return Ke("MuiSvgIcon",t)}Qe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const J9=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],e7=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&`color${Ue(e)}`,`fontSize${Ue(r)}`]};return et(i,Q9,n)},t7=me("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${Ue(r.color)}`],e[`fontSize${Ue(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,i,a,o,s,l,c,u,p,d,g,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=t.typography)==null||(o=a.pxToRem)==null?void 0:o.call(a,20))||"1.25rem",medium:((s=t.typography)==null||(l=s.pxToRem)==null?void 0:l.call(s,24))||"1.5rem",large:((c=t.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(p=(d=(t.vars||t).palette)==null||(d=d[e.color])==null?void 0:d.main)!=null?p:{action:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),ig=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiSvgIcon"}),{children:i,className:a,color:o="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:p,viewBox:d="0 0 24 24"}=n,g=ye(n,J9),m=E.isValidElement(i)&&i.type==="svg",h=R({},n,{color:o,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:d,hasSvgAsChild:m}),f={};u||(f.viewBox=d);const v=e7(h);return P.jsxs(t7,R({as:s,className:Ce(v.root,a),focusable:"false",color:c,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:r},f,g,m&&i.props,{ownerState:h,children:[m?i.props.children:i,p?P.jsx("title",{children:p}):null]}))});ig.muiName="SvgIcon";function Qr(t,e){function r(n,i){return P.jsx(ig,R({"data-testid":`${e}Icon`,ref:i},n,{children:t}))}return r.muiName=ig.muiName,E.memo(E.forwardRef(r))}const r7={configure:t=>{N1.configure(t)}},n7=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ue,createChainedFunction:rg,createSvgIcon:Qr,debounce:Oh,deprecatedPropType:L8,isMuiElement:Rc,ownerDocument:ln,ownerWindow:Di,requirePropFactory:k8,setRef:zp,unstable_ClassNameGenerator:r7,unstable_useEnhancedEffect:fi,unstable_useId:k1,unsupportedProp:I8,useControlled:ou,useEventCallback:Co,useForkRef:ar,useIsFocusVisible:I1},Symbol.toStringTag,{value:"Module"}));var Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=Symbol.for("react.element"),H1=Symbol.for("react.portal"),Qh=Symbol.for("react.fragment"),Jh=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tf=Symbol.for("react.provider"),rf=Symbol.for("react.context"),i7=Symbol.for("react.server_context"),nf=Symbol.for("react.forward_ref"),af=Symbol.for("react.suspense"),of=Symbol.for("react.suspense_list"),sf=Symbol.for("react.memo"),lf=Symbol.for("react.lazy"),a7=Symbol.for("react.offscreen"),Uw;Uw=Symbol.for("react.module.reference");function Zn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case V1:switch(t=t.type,t){case Qh:case ef:case Jh:case af:case of:return t;default:switch(t=t&&t.$$typeof,t){case i7:case rf:case nf:case lf:case sf:case tf:return t;default:return e}}case H1:return e}}}Ft.ContextConsumer=rf;Ft.ContextProvider=tf;Ft.Element=V1;Ft.ForwardRef=nf;Ft.Fragment=Qh;Ft.Lazy=lf;Ft.Memo=sf;Ft.Portal=H1;Ft.Profiler=ef;Ft.StrictMode=Jh;Ft.Suspense=af;Ft.SuspenseList=of;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(t){return Zn(t)===rf};Ft.isContextProvider=function(t){return Zn(t)===tf};Ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===V1};Ft.isForwardRef=function(t){return Zn(t)===nf};Ft.isFragment=function(t){return Zn(t)===Qh};Ft.isLazy=function(t){return Zn(t)===lf};Ft.isMemo=function(t){return Zn(t)===sf};Ft.isPortal=function(t){return Zn(t)===H1};Ft.isProfiler=function(t){return Zn(t)===ef};Ft.isStrictMode=function(t){return Zn(t)===Jh};Ft.isSuspense=function(t){return Zn(t)===af};Ft.isSuspenseList=function(t){return Zn(t)===of};Ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qh||t===ef||t===Jh||t===af||t===of||t===a7||typeof t=="object"&&t!==null&&(t.$$typeof===lf||t.$$typeof===sf||t.$$typeof===tf||t.$$typeof===rf||t.$$typeof===nf||t.$$typeof===Uw||t.getModuleId!==void 0)};Ft.typeOf=Zn;function ag(t,e){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ag(t,e)}function qw(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ag(t,e)}const S2={disabled:!1},Bp=$n.createContext(null);var o7=function(e){return e.scrollTop},fc="unmounted",po="exited",ho="entering",Ts="entered",og="exiting",pa=function(t){qw(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var o=i,s=o&&!o.isMounting?n.enter:n.appear,l;return a.appearStatus=null,n.in?s?(l=po,a.appearStatus=ho):l=Ts:n.unmountOnExit||n.mountOnEnter?l=fc:l=po,a.state={status:l},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===fc?{status:po}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ho&&o!==Ts&&(a=ho):(o===ho||o===Ts)&&(a=og)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,o,s;return a=o=s=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,s=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:s}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===ho){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:hc.findDOMNode(this);o&&o7(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===po&&this.setState({status:fc})},r.performEnter=function(i){var a=this,o=this.props.enter,s=this.context?this.context.isMounting:i,l=this.props.nodeRef?[s]:[hc.findDOMNode(this),s],c=l[0],u=l[1],p=this.getTimeouts(),d=s?p.appear:p.enter;if(!i&&!o||S2.disabled){this.safeSetState({status:Ts},function(){a.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:ho},function(){a.props.onEntering(c,u),a.onTransitionEnd(d,function(){a.safeSetState({status:Ts},function(){a.props.onEntered(c,u)})})})},r.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),s=this.props.nodeRef?void 0:hc.findDOMNode(this);if(!a||S2.disabled){this.safeSetState({status:po},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:og},function(){i.props.onExiting(s),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:po},function(){i.props.onExited(s)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(s){o&&(o=!1,a.nextCallback=null,i(s))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:hc.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!o||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===fc)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var s=ye(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $n.createElement(Bp.Provider,{value:null},typeof o=="function"?o(i,s):$n.cloneElement($n.Children.only(o),s))},e}($n.Component);pa.contextType=Bp;pa.propTypes={};function ds(){}pa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ds,onEntering:ds,onEntered:ds,onExit:ds,onExiting:ds,onExited:ds};pa.UNMOUNTED=fc;pa.EXITED=po;pa.ENTERING=ho;pa.ENTERED=Ts;pa.EXITING=og;const cf=pa;function s7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W1(t,e){var r=function(a){return e&&E.isValidElement(a)?e(a):a},n=Object.create(null);return t&&E.Children.map(t,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function l7(t,e){t=t||{},e=e||{};function r(u){return u in e?e[u]:t[u]}var n=Object.create(null),i=[];for(var a in t)a in e?i.length&&(n[a]=i,i=[]):i.push(a);var o,s={};for(var l in e){if(n[l])for(o=0;o<n[l].length;o++){var c=n[l][o];s[n[l][o]]=r(c)}s[l]=r(l)}for(o=0;o<i.length;o++)s[i[o]]=r(i[o]);return s}function Eo(t,e,r){return r[e]!=null?r[e]:t.props[e]}function c7(t,e){return W1(t.children,function(r){return E.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Eo(r,"appear",t),enter:Eo(r,"enter",t),exit:Eo(r,"exit",t)})})}function u7(t,e,r){var n=W1(t.children),i=l7(e,n);return Object.keys(i).forEach(function(a){var o=i[a];if(E.isValidElement(o)){var s=a in e,l=a in n,c=e[a],u=E.isValidElement(c)&&!c.props.in;l&&(!s||u)?i[a]=E.cloneElement(o,{onExited:r.bind(null,o),in:!0,exit:Eo(o,"exit",t),enter:Eo(o,"enter",t)}):!l&&s&&!u?i[a]=E.cloneElement(o,{in:!1}):l&&s&&E.isValidElement(c)&&(i[a]=E.cloneElement(o,{onExited:r.bind(null,o),in:c.props.in,exit:Eo(o,"exit",t),enter:Eo(o,"enter",t)}))}}),i}var d7=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},p7={component:"div",childFactory:function(e){return e}},G1=function(t){qw(e,t);function e(n,i){var a;a=t.call(this,n,i)||this;var o=a.handleExited.bind(s7(a));return a.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},a}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var o=a.children,s=a.handleExited,l=a.firstRender;return{children:l?c7(i,s):u7(i,o,s),firstRender:!1}},r.handleExited=function(i,a){var o=W1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(s){var l=R({},s.children);return delete l[i.key],{children:l}}))},r.render=function(){var i=this.props,a=i.component,o=i.childFactory,s=ye(i,["component","childFactory"]),l=this.state.contextValue,c=d7(this.state.children).map(o);return delete s.appear,delete s.enter,delete s.exit,a===null?$n.createElement(Bp.Provider,{value:l},c):$n.createElement(Bp.Provider,{value:l},$n.createElement(a,s,c))},e}($n.Component);G1.propTypes={};G1.defaultProps=p7;const h7=G1,Z1=t=>t.scrollTop;function Ga(t,e){var r,n;const{timeout:i,easing:a,style:o={}}=t;return{duration:(r=o.transitionDuration)!=null?r:typeof i=="number"?i:i[e.mode]||0,easing:(n=o.transitionTimingFunction)!=null?n:typeof a=="object"?a[e.mode]:a,delay:o.transitionDelay}}function f7(t){return Ke("MuiCollapse",t)}Qe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const m7=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],g7=t=>{const{orientation:e,classes:r}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return et(n,f7,r)},v7=me("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>R({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&R({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),y7=me("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>R({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),x7=me("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>R({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),Vw=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCollapse"}),{addEndListener:i,children:a,className:o,collapsedSize:s="0px",component:l,easing:c,in:u,onEnter:p,onEntered:d,onEntering:g,onExit:m,onExited:h,onExiting:f,orientation:v="vertical",style:y,timeout:x=$w.standard,TransitionComponent:b=cf}=n,w=ye(n,m7),_=R({},n,{orientation:v,collapsedSize:s}),C=g7(_),S=ns(),M=D1(),T=E.useRef(null),D=E.useRef(),j=typeof s=="number"?`${s}px`:s,N=v==="horizontal",L=N?"width":"height",O=E.useRef(null),B=ar(r,O),U=W=>ke=>{if(W){const Ee=O.current;ke===void 0?W(Ee):W(Ee,ke)}},F=()=>T.current?T.current[N?"clientWidth":"clientHeight"]:0,z=U((W,ke)=>{T.current&&N&&(T.current.style.position="absolute"),W.style[L]=j,p&&p(W,ke)}),q=U((W,ke)=>{const Ee=F();T.current&&N&&(T.current.style.position="");const{duration:Me,easing:ge}=Ga({style:y,timeout:x,easing:c},{mode:"enter"});if(x==="auto"){const Ae=S.transitions.getAutoHeightDuration(Ee);W.style.transitionDuration=`${Ae}ms`,D.current=Ae}else W.style.transitionDuration=typeof Me=="string"?Me:`${Me}ms`;W.style[L]=`${Ee}px`,W.style.transitionTimingFunction=ge,g&&g(W,ke)}),ee=U((W,ke)=>{W.style[L]="auto",d&&d(W,ke)}),V=U(W=>{W.style[L]=`${F()}px`,m&&m(W)}),ne=U(h),oe=U(W=>{const ke=F(),{duration:Ee,easing:Me}=Ga({style:y,timeout:x,easing:c},{mode:"exit"});if(x==="auto"){const ge=S.transitions.getAutoHeightDuration(ke);W.style.transitionDuration=`${ge}ms`,D.current=ge}else W.style.transitionDuration=typeof Ee=="string"?Ee:`${Ee}ms`;W.style[L]=j,W.style.transitionTimingFunction=Me,f&&f(W)}),we=W=>{x==="auto"&&M.start(D.current||0,W),i&&i(O.current,W)};return P.jsx(b,R({in:u,onEnter:z,onEntered:ee,onEntering:q,onExit:V,onExited:ne,onExiting:oe,addEndListener:we,nodeRef:O,timeout:x==="auto"?null:x},w,{children:(W,ke)=>P.jsx(v7,R({as:l,className:Ce(C.root,o,{entered:C.entered,exited:!u&&j==="0px"&&C.hidden}[W]),style:R({[N?"minWidth":"minHeight"]:j},y),ownerState:R({},_,{state:W}),ref:B},ke,{children:P.jsx(y7,{ownerState:R({},_,{state:W}),className:C.wrapper,ref:T,children:P.jsx(x7,{ownerState:R({},_,{state:W}),className:C.wrapperInner,children:a})})}))}))});Vw.muiSupportAuto=!0;const b7=Vw;function _7(t){return Ke("MuiPaper",t)}Qe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const w7=["className","component","elevation","square","variant"],S7=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,a={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return et(a,_7,i)},C7=me("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return R({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&R({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Zt("#fff",w2(e.elevation))}, ${Zt("#fff",w2(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),E7=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiPaper"}),{className:i,component:a="div",elevation:o=1,square:s=!1,variant:l="elevation"}=n,c=ye(n,w7),u=R({},n,{component:a,elevation:o,square:s,variant:l}),p=S7(u);return P.jsx(C7,R({as:a,ownerState:u,className:Ce(p.root,i),ref:r},c))}),Fu=E7,Hw=E.createContext({});function ml(t){return typeof t=="string"}function Ww(t,e,r){return t===void 0||ml(t)?e:R({},e,{ownerState:R({},e.ownerState,r)})}function Gw(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function Zw(t,e,r){return typeof t=="function"?t(e,r):t}function C2(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function Xw(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:a}=t;if(!e){const g=Ce(r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),m=R({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=R({},r,i,n);return g.length>0&&(h.className=g),Object.keys(m).length>0&&(h.style=m),{props:h,internalRef:void 0}}const o=Gw(R({},i,n)),s=C2(n),l=C2(i),c=e(o),u=Ce(c==null?void 0:c.className,r==null?void 0:r.className,a,i==null?void 0:i.className,n==null?void 0:n.className),p=R({},c==null?void 0:c.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),d=R({},c,r,l,s);return u.length>0&&(d.className=u),Object.keys(p).length>0&&(d.style=p),{props:d,internalRef:c.ref}}const M7=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function gl(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:a=!1}=t,o=ye(t,M7),s=a?{}:Zw(n,i),{props:l,internalRef:c}=Xw(R({},o,{externalSlotProps:s})),u=ar(c,s==null?void 0:s.ref,(e=t.additionalProps)==null?void 0:e.ref);return Ww(r,R({},l,{ref:u}),i)}const A7=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],T7=["component","slots","slotProps"],R7=["component"];function Yw(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:a,getSlotOwnerState:o,internalForwardedProps:s}=e,l=ye(e,A7),{component:c,slots:u={[t]:void 0},slotProps:p={[t]:void 0}}=a,d=ye(a,T7),g=u[t]||n,m=Zw(p[t],i),h=Xw(R({className:r},l,{externalForwardedProps:t==="root"?d:void 0,externalSlotProps:m})),{props:{component:f},internalRef:v}=h,y=ye(h.props,R7),x=ar(v,m==null?void 0:m.ref,e.ref),b=o?o(y):{},w=R({},i,b),_=t==="root"?f||c:f,C=Ww(g,R({},t==="root"&&!c&&!u[t]&&s,t!=="root"&&!u[t]&&s,y,_&&{as:_},{ref:x}),w);return Object.keys(b).forEach(S=>{delete C[S]}),[g,C]}function P7(t){return Ke("MuiAccordion",t)}const L7=Qe("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),dd=L7,k7=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],D7=t=>{const{classes:e,square:r,expanded:n,disabled:i,disableGutters:a}=t;return et({root:["root",!r&&"rounded",n&&"expanded",i&&"disabled",!a&&"gutters"],region:["region"]},P7,e)},I7=me(Fu,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${dd.region}`]:e.region},e.root,!r.square&&e.rounded,!r.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${dd.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${dd.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t,ownerState:e})=>R({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${dd.expanded}`]:{margin:"16px 0"}})),F7=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiAccordion"}),{children:i,className:a,defaultExpanded:o=!1,disabled:s=!1,disableGutters:l=!1,expanded:c,onChange:u,square:p=!1,slots:d={},slotProps:g={},TransitionComponent:m,TransitionProps:h}=n,f=ye(n,k7),[v,y]=ou({controlled:c,default:o,name:"Accordion",state:"expanded"}),x=E.useCallback(N=>{y(!v),u&&u(N,!v)},[v,u,y]),[b,...w]=E.Children.toArray(i),_=E.useMemo(()=>({expanded:v,disabled:s,disableGutters:l,toggle:x}),[v,s,l,x]),C=R({},n,{square:p,disabled:s,disableGutters:l,expanded:v}),S=D7(C),M=R({transition:m},d),T=R({transition:h},g),[D,j]=Yw("transition",{elementType:b7,externalForwardedProps:{slots:M,slotProps:T},ownerState:C});return delete j.ownerState,P.jsxs(I7,R({className:Ce(S.root,a),ref:r,ownerState:C,square:p},f,{children:[P.jsx(Hw.Provider,{value:_,children:b}),P.jsx(D,R({in:v,timeout:"auto"},j,{children:P.jsx("div",{"aria-labelledby":b.props.id,id:b.props["aria-controls"],role:"region",className:S.region,children:w})}))]}))}),N7=F7;function z7(t){return Ke("MuiAccordionDetails",t)}Qe("MuiAccordionDetails",["root"]);const O7=["className"],B7=t=>{const{classes:e}=t;return et({root:["root"]},z7,e)},j7=me("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),$7=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiAccordionDetails"}),{className:i}=n,a=ye(n,O7),o=n,s=B7(o);return P.jsx(j7,R({className:Ce(s.root,i),ref:r,ownerState:o},a))}),U7=$7;function q7(t){const{className:e,classes:r,pulsate:n=!1,rippleX:i,rippleY:a,rippleSize:o,in:s,onExited:l,timeout:c}=t,[u,p]=E.useState(!1),d=Ce(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),g={width:o,height:o,top:-(o/2)+a,left:-(o/2)+i},m=Ce(r.child,u&&r.childLeaving,n&&r.childPulsate);return!s&&!u&&p(!0),E.useEffect(()=>{if(!s&&l!=null){const h=setTimeout(l,c);return()=>{clearTimeout(h)}}},[l,s,c]),P.jsx("span",{className:d,style:g,children:P.jsx("span",{className:m})})}const Nn=Qe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),V7=["center","classes","className"];let uf=t=>t,E2,M2,A2,T2;const sg=550,H7=80,W7=L1(E2||(E2=uf`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),G7=L1(M2||(M2=uf`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Z7=L1(A2||(A2=uf`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),X7=me("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Y7=me(q7,{name:"MuiTouchRipple",slot:"Ripple"})(T2||(T2=uf`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Nn.rippleVisible,W7,sg,({theme:t})=>t.transitions.easing.easeInOut,Nn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Nn.child,Nn.childLeaving,G7,sg,({theme:t})=>t.transitions.easing.easeInOut,Nn.childPulsate,Z7,({theme:t})=>t.transitions.easing.easeInOut),K7=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:a={},className:o}=n,s=ye(n,V7),[l,c]=E.useState([]),u=E.useRef(0),p=E.useRef(null);E.useEffect(()=>{p.current&&(p.current(),p.current=null)},[l]);const d=E.useRef(!1),g=D1(),m=E.useRef(null),h=E.useRef(null),f=E.useCallback(b=>{const{pulsate:w,rippleX:_,rippleY:C,rippleSize:S,cb:M}=b;c(T=>[...T,P.jsx(Y7,{classes:{ripple:Ce(a.ripple,Nn.ripple),rippleVisible:Ce(a.rippleVisible,Nn.rippleVisible),ripplePulsate:Ce(a.ripplePulsate,Nn.ripplePulsate),child:Ce(a.child,Nn.child),childLeaving:Ce(a.childLeaving,Nn.childLeaving),childPulsate:Ce(a.childPulsate,Nn.childPulsate)},timeout:sg,pulsate:w,rippleX:_,rippleY:C,rippleSize:S},u.current)]),u.current+=1,p.current=M},[a]),v=E.useCallback((b={},w={},_=()=>{})=>{const{pulsate:C=!1,center:S=i||w.pulsate,fakeElement:M=!1}=w;if((b==null?void 0:b.type)==="mousedown"&&d.current){d.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(d.current=!0);const T=M?null:h.current,D=T?T.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,N,L;if(S||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)j=Math.round(D.width/2),N=Math.round(D.height/2);else{const{clientX:O,clientY:B}=b.touches&&b.touches.length>0?b.touches[0]:b;j=Math.round(O-D.left),N=Math.round(B-D.top)}if(S)L=Math.sqrt((2*D.width**2+D.height**2)/3),L%2===0&&(L+=1);else{const O=Math.max(Math.abs((T?T.clientWidth:0)-j),j)*2+2,B=Math.max(Math.abs((T?T.clientHeight:0)-N),N)*2+2;L=Math.sqrt(O**2+B**2)}b!=null&&b.touches?m.current===null&&(m.current=()=>{f({pulsate:C,rippleX:j,rippleY:N,rippleSize:L,cb:_})},g.start(H7,()=>{m.current&&(m.current(),m.current=null)})):f({pulsate:C,rippleX:j,rippleY:N,rippleSize:L,cb:_})},[i,f,g]),y=E.useCallback(()=>{v({},{pulsate:!0})},[v]),x=E.useCallback((b,w)=>{if(g.clear(),(b==null?void 0:b.type)==="touchend"&&m.current){m.current(),m.current=null,g.start(0,()=>{x(b,w)});return}m.current=null,c(_=>_.length>0?_.slice(1):_),p.current=w},[g]);return E.useImperativeHandle(r,()=>({pulsate:y,start:v,stop:x}),[y,v,x]),P.jsx(X7,R({className:Ce(Nn.root,a.root,o),ref:h},s,{children:P.jsx(h7,{component:null,exit:!0,children:l})}))}),Q7=K7;function J7(t){return Ke("MuiButtonBase",t)}const eT=Qe("MuiButtonBase",["root","disabled","focusVisible"]),tT=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],rT=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:i}=t,o=et({root:["root",e&&"disabled",r&&"focusVisible"]},J7,i);return r&&n&&(o.root+=` ${n}`),o},nT=me("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${eT.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),iT=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:a=!1,children:o,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:p=!1,focusRipple:d=!1,LinkComponent:g="a",onBlur:m,onClick:h,onContextMenu:f,onDragLeave:v,onFocus:y,onFocusVisible:x,onKeyDown:b,onKeyUp:w,onMouseDown:_,onMouseLeave:C,onMouseUp:S,onTouchEnd:M,onTouchMove:T,onTouchStart:D,tabIndex:j=0,TouchRippleProps:N,touchRippleRef:L,type:O}=n,B=ye(n,tT),U=E.useRef(null),F=E.useRef(null),z=ar(F,L),{isFocusVisibleRef:q,onFocus:ee,onBlur:V,ref:ne}=I1(),[oe,we]=E.useState(!1);c&&oe&&we(!1),E.useImperativeHandle(i,()=>({focusVisible:()=>{we(!0),U.current.focus()}}),[]);const[W,ke]=E.useState(!1);E.useEffect(()=>{ke(!0)},[]);const Ee=W&&!u&&!c;E.useEffect(()=>{oe&&d&&!u&&W&&F.current.pulsate()},[u,d,oe,W]);function Me(G,je,Re=p){return Co($e=>(je&&je($e),!Re&&F.current&&F.current[G]($e),!0))}const ge=Me("start",_),Ae=Me("stop",f),Fe=Me("stop",v),pe=Me("stop",S),rt=Me("stop",G=>{oe&&G.preventDefault(),C&&C(G)}),at=Me("start",D),zt=Me("stop",M),jt=Me("stop",T),Mt=Me("stop",G=>{V(G),q.current===!1&&we(!1),m&&m(G)},!1),pt=Co(G=>{U.current||(U.current=G.currentTarget),ee(G),q.current===!0&&(we(!0),x&&x(G)),y&&y(G)}),Ht=()=>{const G=U.current;return l&&l!=="button"&&!(G.tagName==="A"&&G.href)},ht=E.useRef(!1),$=Co(G=>{d&&!ht.current&&oe&&F.current&&G.key===" "&&(ht.current=!0,F.current.stop(G,()=>{F.current.start(G)})),G.target===G.currentTarget&&Ht()&&G.key===" "&&G.preventDefault(),b&&b(G),G.target===G.currentTarget&&Ht()&&G.key==="Enter"&&!c&&(G.preventDefault(),h&&h(G))}),k=Co(G=>{d&&G.key===" "&&F.current&&oe&&!G.defaultPrevented&&(ht.current=!1,F.current.stop(G,()=>{F.current.pulsate(G)})),w&&w(G),h&&G.target===G.currentTarget&&Ht()&&G.key===" "&&!G.defaultPrevented&&h(G)});let J=l;J==="button"&&(B.href||B.to)&&(J=g);const ce={};J==="button"?(ce.type=O===void 0?"button":O,ce.disabled=c):(!B.href&&!B.to&&(ce.role="button"),c&&(ce["aria-disabled"]=c));const he=ar(r,ne,U),ve=R({},n,{centerRipple:a,component:l,disabled:c,disableRipple:u,disableTouchRipple:p,focusRipple:d,tabIndex:j,focusVisible:oe}),Te=rT(ve);return P.jsxs(nT,R({as:J,className:Ce(Te.root,s),ownerState:ve,onBlur:Mt,onClick:h,onContextMenu:Ae,onFocus:pt,onKeyDown:$,onKeyUp:k,onMouseDown:ge,onMouseLeave:rt,onMouseUp:pe,onDragLeave:Fe,onTouchEnd:zt,onTouchMove:jt,onTouchStart:at,ref:he,tabIndex:c?-1:j,type:O},ce,B,{children:[o,Ee?P.jsx(Q7,R({ref:z,center:a},N)):null]}))}),ro=iT;function aT(t){return Ke("MuiAccordionSummary",t)}const oT=Qe("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ws=oT,sT=["children","className","expandIcon","focusVisibleClassName","onClick"],lT=t=>{const{classes:e,expanded:r,disabled:n,disableGutters:i}=t;return et({root:["root",r&&"expanded",n&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},aT,e)},cT=me(ro,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{const r={duration:t.transitions.duration.shortest};return R({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],r),[`&.${Ws.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ws.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Ws.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${Ws.expanded}`]:{minHeight:64}})}),uT=me("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>R({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Ws.expanded}`]:{margin:"20px 0"}})),dT=me("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Ws.expanded}`]:{transform:"rotate(180deg)"}})),pT=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiAccordionSummary"}),{children:i,className:a,expandIcon:o,focusVisibleClassName:s,onClick:l}=n,c=ye(n,sT),{disabled:u=!1,disableGutters:p,expanded:d,toggle:g}=E.useContext(Hw),m=v=>{g&&g(v),l&&l(v)},h=R({},n,{expanded:d,disabled:u,disableGutters:p}),f=lT(h);return P.jsxs(cT,R({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":d,className:Ce(f.root,a),focusVisibleClassName:Ce(f.focusVisible,s),onClick:m,ref:r,ownerState:h},c,{children:[P.jsx(uT,{className:f.content,ownerState:h,children:i}),o&&P.jsx(dT,{className:f.expandIconWrapper,ownerState:h,children:o})]}))}),hT=pT;function fT(t){return Ke("MuiIconButton",t)}const mT=Qe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),gT=["edge","children","className","color","disabled","disableFocusRipple","size"],vT=t=>{const{classes:e,disabled:r,color:n,edge:i,size:a}=t,o={root:["root",r&&"disabled",n!=="default"&&`color${Ue(n)}`,i&&`edge${Ue(i)}`,`size${Ue(a)}`]};return et(o,fT,e)},yT=me(ro,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e[`color${Ue(r.color)}`],r.edge&&e[`edge${Ue(r.edge)}`],e[`size${Ue(r.size)}`]]}})(({theme:t,ownerState:e})=>R({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var r;const n=(r=(t.vars||t).palette)==null?void 0:r[e.color];return R({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&R({color:n==null?void 0:n.main},!e.disableRipple&&{"&:hover":R({},n&&{backgroundColor:t.vars?`rgba(${n.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(n.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${mT.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),xT=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:a,className:o,color:s="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=n,p=ye(n,gT),d=R({},n,{edge:i,color:s,disabled:l,disableFocusRipple:c,size:u}),g=vT(d);return P.jsx(yT,R({className:Ce(g.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:r,ownerState:d},p,{children:a}))}),kc=xT;function bT(t){return Ke("MuiTypography",t)}Qe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _T=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],wT=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:a,classes:o}=t,s={root:["root",a,t.align!=="inherit"&&`align${Ue(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return et(s,bT,o)},ST=me("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${Ue(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>R({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),R2={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},CT={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ET=t=>CT[t]||t,MT=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTypography"}),i=ET(n.color),a=Xh(R({},n,{color:i})),{align:o="inherit",className:s,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:p=!1,variant:d="body1",variantMapping:g=R2}=a,m=ye(a,_T),h=R({},a,{align:o,color:i,className:s,component:l,gutterBottom:c,noWrap:u,paragraph:p,variant:d,variantMapping:g}),f=l||(p?"p":g[d]||R2[d])||"span",v=wT(h);return P.jsx(ST,R({as:f,ref:r,ownerState:h,className:Ce(v.root,s)},m))}),rn=MT;function AT(t){return Ke("MuiAppBar",t)}Qe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const TT=["className","color","enableColorOnDark","position"],RT=t=>{const{color:e,position:r,classes:n}=t,i={root:["root",`color${Ue(e)}`,`position${Ue(r)}`]};return et(i,AT,n)},pd=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,PT=me(Fu,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ue(r.position)}`],e[`color${Ue(r.color)}`]]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return R({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&R({},e.color==="default"&&{backgroundColor:r,color:t.palette.getContrastText(r)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&R({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&R({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:pd(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:pd(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:pd(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:pd(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),LT=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiAppBar"}),{className:i,color:a="primary",enableColorOnDark:o=!1,position:s="fixed"}=n,l=ye(n,TT),c=R({},n,{color:a,position:s,enableColorOnDark:o}),u=RT(c);return P.jsx(PT,R({square:!0,component:"header",ownerState:c,elevation:4,className:Ce(u.root,i,s==="fixed"&&"mui-fixed"),ref:r},l))}),kT=LT,DT=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function IT(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function FT(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function NT(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||FT(t))}function zT(t){const e=[],r=[];return Array.from(t.querySelectorAll(DT)).forEach((n,i)=>{const a=IT(n);a===-1||!NT(n)||(a===0?e.push(n):r.push({documentOrder:i,tabIndex:a,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function OT(){return!0}function BT(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:a=zT,isEnabled:o=OT,open:s}=t,l=E.useRef(!1),c=E.useRef(null),u=E.useRef(null),p=E.useRef(null),d=E.useRef(null),g=E.useRef(!1),m=E.useRef(null),h=ar(e.ref,m),f=E.useRef(null);E.useEffect(()=>{!s||!m.current||(g.current=!r)},[r,s]),E.useEffect(()=>{if(!s||!m.current)return;const x=ln(m.current);return m.current.contains(x.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),g.current&&m.current.focus()),()=>{i||(p.current&&p.current.focus&&(l.current=!0,p.current.focus()),p.current=null)}},[s]),E.useEffect(()=>{if(!s||!m.current)return;const x=ln(m.current),b=C=>{f.current=C,!(n||!o()||C.key!=="Tab")&&x.activeElement===m.current&&C.shiftKey&&(l.current=!0,u.current&&u.current.focus())},w=()=>{const C=m.current;if(C===null)return;if(!x.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(x.activeElement)||n&&x.activeElement!==c.current&&x.activeElement!==u.current)return;if(x.activeElement!==d.current)d.current=null;else if(d.current!==null)return;if(!g.current)return;let S=[];if((x.activeElement===c.current||x.activeElement===u.current)&&(S=a(m.current)),S.length>0){var M,T;const D=!!((M=f.current)!=null&&M.shiftKey&&((T=f.current)==null?void 0:T.key)==="Tab"),j=S[0],N=S[S.length-1];typeof j!="string"&&typeof N!="string"&&(D?N.focus():j.focus())}else C.focus()};x.addEventListener("focusin",w),x.addEventListener("keydown",b,!0);const _=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(_),x.removeEventListener("focusin",w),x.removeEventListener("keydown",b,!0)}},[r,n,i,o,s,a]);const v=x=>{p.current===null&&(p.current=x.relatedTarget),g.current=!0,d.current=x.target;const b=e.props.onFocus;b&&b(x)},y=x=>{p.current===null&&(p.current=x.relatedTarget),g.current=!0};return P.jsxs(E.Fragment,{children:[P.jsx("div",{tabIndex:s?0:-1,onFocus:y,ref:c,"data-testid":"sentinelStart"}),E.cloneElement(e,{ref:h,onFocus:v}),P.jsx("div",{tabIndex:s?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})}function jT(t){return typeof t=="function"?t():t}const $T=E.forwardRef(function(e,r){const{children:n,container:i,disablePortal:a=!1}=e,[o,s]=E.useState(null),l=ar(E.isValidElement(n)?n.ref:null,r);if(fi(()=>{a||s(jT(i)||document.body)},[i,a]),fi(()=>{if(o&&!a)return zp(r,o),()=>{zp(r,null)}},[r,o,a]),a){if(E.isValidElement(n)){const c={ref:l};return E.cloneElement(n,c)}return P.jsx(E.Fragment,{children:n})}return P.jsx(E.Fragment,{children:o&&Pu.createPortal(n,o)})});function UT(t){const e=ln(t);return e.body===t?Di(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Dc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function P2(t){return parseInt(Di(t).getComputedStyle(t).paddingRight,10)||0}function qT(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function L2(t,e,r,n,i){const a=[e,r,...n];[].forEach.call(t.children,o=>{const s=a.indexOf(o)===-1,l=!qT(o);s&&l&&Dc(o,i)})}function om(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function VT(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(UT(n)){const o=Rw(ln(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${P2(n)+o}px`;const s=ln(n).querySelectorAll(".mui-fixed");[].forEach.call(s,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${P2(l)+o}px`})}let a;if(n.parentNode instanceof DocumentFragment)a=ln(n).body;else{const o=n.parentElement,s=Di(n);a=(o==null?void 0:o.nodeName)==="HTML"&&s.getComputedStyle(o).overflowY==="scroll"?o:n}r.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{r.forEach(({value:a,el:o,property:s})=>{a?o.style.setProperty(s,a):o.style.removeProperty(s)})}}function HT(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class WT{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Dc(e.modalRef,!1);const i=HT(r);L2(r,e.mount,e.modalRef,i,!0);const a=om(this.containers,o=>o.container===r);return a!==-1?(this.containers[a].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=om(this.containers,a=>a.modals.indexOf(e)!==-1),i=this.containers[n];i.restore||(i.restore=VT(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=om(this.containers,o=>o.modals.indexOf(e)!==-1),a=this.containers[i];if(a.modals.splice(a.modals.indexOf(e),1),this.modals.splice(n,1),a.modals.length===0)a.restore&&a.restore(),e.modalRef&&Dc(e.modalRef,r),L2(a.container,e.mount,e.modalRef,a.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=a.modals[a.modals.length-1];o.modalRef&&Dc(o.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function GT(t){return typeof t=="function"?t():t}function ZT(t){return t?t.props.hasOwnProperty("in"):!1}const XT=new WT;function YT(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=XT,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:s,children:l,onClose:c,open:u,rootRef:p}=t,d=E.useRef({}),g=E.useRef(null),m=E.useRef(null),h=ar(m,p),[f,v]=E.useState(!u),y=ZT(l);let x=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(x=!1);const b=()=>ln(g.current),w=()=>(d.current.modalRef=m.current,d.current.mount=g.current,d.current),_=()=>{i.mount(w(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},C=Co(()=>{const B=GT(e)||b().body;i.add(w(),B),m.current&&_()}),S=E.useCallback(()=>i.isTopModal(w()),[i]),M=Co(B=>{g.current=B,B&&(u&&S()?_():m.current&&Dc(m.current,x))}),T=E.useCallback(()=>{i.remove(w(),x)},[x,i]);E.useEffect(()=>()=>{T()},[T]),E.useEffect(()=>{u?C():(!y||!a)&&T()},[u,T,y,a,C]);const D=B=>U=>{var F;(F=B.onKeyDown)==null||F.call(B,U),!(U.key!=="Escape"||U.which===229||!S())&&(r||(U.stopPropagation(),c&&c(U,"escapeKeyDown")))},j=B=>U=>{var F;(F=B.onClick)==null||F.call(B,U),U.target===U.currentTarget&&c&&c(U,"backdropClick")};return{getRootProps:(B={})=>{const U=Gw(t);delete U.onTransitionEnter,delete U.onTransitionExited;const F=R({},U,B);return R({role:"presentation"},F,{onKeyDown:D(F),ref:h})},getBackdropProps:(B={})=>{const U=B;return R({"aria-hidden":!0},U,{onClick:j(U),open:u})},getTransitionProps:()=>{const B=()=>{v(!1),o&&o()},U=()=>{v(!0),s&&s(),a&&T()};return{onEnter:rg(B,l==null?void 0:l.props.onEnter),onExited:rg(U,l==null?void 0:l.props.onExited)}},rootRef:h,portalRef:M,isTopModal:S,exited:f,hasTransition:y}}const KT=["onChange","maxRows","minRows","style","value"];function hd(t){return parseInt(t,10)||0}const QT={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function k2(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const JT=E.forwardRef(function(e,r){const{onChange:n,maxRows:i,minRows:a=1,style:o,value:s}=e,l=ye(e,KT),{current:c}=E.useRef(s!=null),u=E.useRef(null),p=ar(r,u),d=E.useRef(null),g=E.useRef(0),[m,h]=E.useState({outerHeightStyle:0}),f=E.useCallback(()=>{const b=u.current,_=Di(b).getComputedStyle(b);if(_.width==="0px")return{outerHeightStyle:0};const C=d.current;C.style.width=_.width,C.value=b.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const S=_.boxSizing,M=hd(_.paddingBottom)+hd(_.paddingTop),T=hd(_.borderBottomWidth)+hd(_.borderTopWidth),D=C.scrollHeight;C.value="x";const j=C.scrollHeight;let N=D;a&&(N=Math.max(Number(a)*j,N)),i&&(N=Math.min(Number(i)*j,N)),N=Math.max(N,j);const L=N+(S==="border-box"?M+T:0),O=Math.abs(N-D)<=1;return{outerHeightStyle:L,overflow:O}},[i,a,e.placeholder]),v=(b,w)=>{const{outerHeightStyle:_,overflow:C}=w;return g.current<20&&(_>0&&Math.abs((b.outerHeightStyle||0)-_)>1||b.overflow!==C)?(g.current+=1,{overflow:C,outerHeightStyle:_}):b},y=E.useCallback(()=>{const b=f();k2(b)||h(w=>v(w,b))},[f]);fi(()=>{const b=()=>{const D=f();k2(D)||Pu.flushSync(()=>{h(j=>v(j,D))})},w=()=>{g.current=0,b()};let _;const C=Oh(w),S=u.current,M=Di(S);M.addEventListener("resize",C);let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(w),T.observe(S)),()=>{C.clear(),cancelAnimationFrame(_),M.removeEventListener("resize",C),T&&T.disconnect()}},[f]),fi(()=>{y()}),E.useEffect(()=>{g.current=0},[s]);const x=b=>{g.current=0,c||y(),n&&n(b)};return P.jsxs(E.Fragment,{children:[P.jsx("textarea",R({value:s,onChange:x,ref:p,rows:a,style:R({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},o)},l)),P.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:R({},QT.shadow,o,{paddingTop:0,paddingBottom:0})})]})});function no({props:t,states:e,muiFormControl:r}){return e.reduce((n,i)=>(n[i]=t[i],r&&typeof t[i]>"u"&&(n[i]=r[i]),n),{})}const eR=E.createContext(void 0),df=eR;function zi(){return E.useContext(df)}function Kw(t){return P.jsx(GA,R({},t,{defaultTheme:Kh,themeId:Ho}))}function D2(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function jp(t,e=!1){return t&&(D2(t.value)&&t.value!==""||e&&D2(t.defaultValue)&&t.defaultValue!=="")}function tR(t){return t.startAdornment}function rR(t){return Ke("MuiInputBase",t)}const nR=Qe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),vl=nR,iR=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],pf=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${Ue(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},hf=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},aR=t=>{const{classes:e,color:r,disabled:n,error:i,endAdornment:a,focused:o,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:p,size:d,startAdornment:g,type:m}=t,h={root:["root",`color${Ue(r)}`,n&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",s&&"formControl",d&&d!=="medium"&&`size${Ue(d)}`,u&&"multiline",g&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel",p&&"readOnly"],input:["input",n&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",d==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",g&&"inputAdornedStart",a&&"inputAdornedEnd",p&&"readOnly"]};return et(h,rR,e)},ff=me("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pf})(({theme:t,ownerState:e})=>R({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&R({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),mf=me("input",{name:"MuiInputBase",slot:"Input",overridesResolver:hf})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light",n=R({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return R({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${vl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),oR=P.jsx(Kw,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),sR=E.forwardRef(function(e,r){var n;const i=tt({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:s,className:l,components:c={},componentsProps:u={},defaultValue:p,disabled:d,disableInjectingGlobalStyles:g,endAdornment:m,fullWidth:h=!1,id:f,inputComponent:v="input",inputProps:y={},inputRef:x,maxRows:b,minRows:w,multiline:_=!1,name:C,onBlur:S,onChange:M,onClick:T,onFocus:D,onKeyDown:j,onKeyUp:N,placeholder:L,readOnly:O,renderSuffix:B,rows:U,slotProps:F={},slots:z={},startAdornment:q,type:ee="text",value:V}=i,ne=ye(i,iR),oe=y.value!=null?y.value:V,{current:we}=E.useRef(oe!=null),W=E.useRef(),ke=E.useCallback(Te=>{},[]),Ee=ar(W,x,y.ref,ke),[Me,ge]=E.useState(!1),Ae=zi(),Fe=no({props:i,muiFormControl:Ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Fe.focused=Ae?Ae.focused:Me,E.useEffect(()=>{!Ae&&d&&Me&&(ge(!1),S&&S())},[Ae,d,Me,S]);const pe=Ae&&Ae.onFilled,rt=Ae&&Ae.onEmpty,at=E.useCallback(Te=>{jp(Te)?pe&&pe():rt&&rt()},[pe,rt]);fi(()=>{we&&at({value:oe})},[oe,at,we]);const zt=Te=>{if(Fe.disabled){Te.stopPropagation();return}D&&D(Te),y.onFocus&&y.onFocus(Te),Ae&&Ae.onFocus?Ae.onFocus(Te):ge(!0)},jt=Te=>{S&&S(Te),y.onBlur&&y.onBlur(Te),Ae&&Ae.onBlur?Ae.onBlur(Te):ge(!1)},Mt=(Te,...G)=>{if(!we){const je=Te.target||W.current;if(je==null)throw new Error(Wa(1));at({value:je.value})}y.onChange&&y.onChange(Te,...G),M&&M(Te,...G)};E.useEffect(()=>{at(W.current)},[]);const pt=Te=>{W.current&&Te.currentTarget===Te.target&&W.current.focus(),T&&T(Te)};let Ht=v,ht=y;_&&Ht==="input"&&(U?ht=R({type:void 0,minRows:U,maxRows:U},ht):ht=R({type:void 0,maxRows:b,minRows:w},ht),Ht=JT);const $=Te=>{at(Te.animationName==="mui-auto-fill-cancel"?W.current:{value:"x"})};E.useEffect(()=>{Ae&&Ae.setAdornedStart(!!q)},[Ae,q]);const k=R({},i,{color:Fe.color||"primary",disabled:Fe.disabled,endAdornment:m,error:Fe.error,focused:Fe.focused,formControl:Ae,fullWidth:h,hiddenLabel:Fe.hiddenLabel,multiline:_,size:Fe.size,startAdornment:q,type:ee}),J=aR(k),ce=z.root||c.Root||ff,he=F.root||u.root||{},ve=z.input||c.Input||mf;return ht=R({},ht,(n=F.input)!=null?n:u.input),P.jsxs(E.Fragment,{children:[!g&&oR,P.jsxs(ce,R({},he,!ml(ce)&&{ownerState:R({},k,he.ownerState)},{ref:r,onClick:pt},ne,{className:Ce(J.root,he.className,l,O&&"MuiInputBase-readOnly"),children:[q,P.jsx(df.Provider,{value:null,children:P.jsx(ve,R({ownerState:k,"aria-invalid":Fe.error,"aria-describedby":a,autoComplete:o,autoFocus:s,defaultValue:p,disabled:Fe.disabled,id:f,onAnimationStart:$,name:C,placeholder:L,readOnly:O,required:Fe.required,rows:U,value:oe,onKeyDown:j,onKeyUp:N,type:ee},ht,!ml(ve)&&{as:Ht,ownerState:R({},k,ht.ownerState)},{ref:Ee,className:Ce(J.input,ht.className,O&&"MuiInputBase-readOnly"),onBlur:jt,onChange:Mt,onFocus:zt}))}),m,B?B(R({},Fe,{startAdornment:q})):null]}))]})}),X1=sR;function lR(t){return Ke("MuiInput",t)}const cR=R({},vl,Qe("MuiInput",["root","underline","input"])),Yl=cR;function uR(t){return Ke("MuiOutlinedInput",t)}const dR=R({},vl,Qe("MuiOutlinedInput",["root","notchedOutline","input"])),va=dR;function pR(t){return Ke("MuiFilledInput",t)}const hR=R({},vl,Qe("MuiFilledInput",["root","underline","input"])),io=hR,fR=Qr(P.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mR=Qr(P.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function gR(t){return Ke("MuiAvatar",t)}Qe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const vR=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],yR=t=>{const{classes:e,variant:r,colorDefault:n}=t;return et({root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]},gR,e)},xR=me("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],r.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:R({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:R({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),bR=me("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),_R=me(mR,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function wR({crossOrigin:t,referrerPolicy:e,src:r,srcSet:n}){const[i,a]=E.useState(!1);return E.useEffect(()=>{if(!r&&!n)return;a(!1);let o=!0;const s=new Image;return s.onload=()=>{o&&a("loaded")},s.onerror=()=>{o&&a("error")},s.crossOrigin=t,s.referrerPolicy=e,s.src=r,n&&(s.srcset=n),()=>{o=!1}},[t,e,r,n]),i}const SR=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiAvatar"}),{alt:i,children:a,className:o,component:s="div",slots:l={},slotProps:c={},imgProps:u,sizes:p,src:d,srcSet:g,variant:m="circular"}=n,h=ye(n,vR);let f=null;const v=wR(R({},u,{src:d,srcSet:g})),y=d||g,x=y&&v!=="error",b=R({},n,{colorDefault:!x,component:s,variant:m}),w=yR(b),[_,C]=Yw("img",{className:w.img,elementType:bR,externalForwardedProps:{slots:l,slotProps:{img:R({},u,c.img)}},additionalProps:{alt:i,src:d,srcSet:g,sizes:p},ownerState:b});return x?f=P.jsx(_,R({},C)):a||a===0?f=a:y&&i?f=i[0]:f=P.jsx(_R,{ownerState:b,className:w.fallback}),P.jsx(xR,R({as:s,ownerState:b,className:Ce(w.root,o),ref:r},h,{children:f}))}),lg=SR,CR=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ER={entering:{opacity:1},entered:{opacity:1}},MR=E.forwardRef(function(e,r){const n=ns(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:s,easing:l,in:c,onEnter:u,onEntered:p,onEntering:d,onExit:g,onExited:m,onExiting:h,style:f,timeout:v=i,TransitionComponent:y=cf}=e,x=ye(e,CR),b=E.useRef(null),w=ar(b,s.ref,r),_=L=>O=>{if(L){const B=b.current;O===void 0?L(B):L(B,O)}},C=_(d),S=_((L,O)=>{Z1(L);const B=Ga({style:f,timeout:v,easing:l},{mode:"enter"});L.style.webkitTransition=n.transitions.create("opacity",B),L.style.transition=n.transitions.create("opacity",B),u&&u(L,O)}),M=_(p),T=_(h),D=_(L=>{const O=Ga({style:f,timeout:v,easing:l},{mode:"exit"});L.style.webkitTransition=n.transitions.create("opacity",O),L.style.transition=n.transitions.create("opacity",O),g&&g(L)}),j=_(m),N=L=>{a&&a(b.current,L)};return P.jsx(y,R({appear:o,in:c,nodeRef:b,onEnter:S,onEntered:M,onEntering:C,onExit:D,onExited:j,onExiting:T,addEndListener:N,timeout:v},x,{children:(L,O)=>E.cloneElement(s,R({style:R({opacity:0,visibility:L==="exited"&&!c?"hidden":void 0},ER[L],f,s.props.style),ref:w},O))}))}),AR=MR;function TR(t){return Ke("MuiBackdrop",t)}Qe("MuiBackdrop",["root","invisible"]);const RR=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],PR=t=>{const{classes:e,invisible:r}=t;return et({root:["root",r&&"invisible"]},TR,e)},LR=me("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>R({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),kR=E.forwardRef(function(e,r){var n,i,a;const o=tt({props:e,name:"MuiBackdrop"}),{children:s,className:l,component:c="div",components:u={},componentsProps:p={},invisible:d=!1,open:g,slotProps:m={},slots:h={},TransitionComponent:f=AR,transitionDuration:v}=o,y=ye(o,RR),x=R({},o,{component:c,invisible:d}),b=PR(x),w=(n=m.root)!=null?n:p.root;return P.jsx(f,R({in:g,timeout:v},y,{children:P.jsx(LR,R({"aria-hidden":!0},w,{as:(i=(a=h.root)!=null?a:u.Root)!=null?i:c,className:Ce(b.root,l,w==null?void 0:w.className),ownerState:R({},x,w==null?void 0:w.ownerState),classes:b,ref:r,children:s}))}))}),DR=kR,IR=Qe("MuiBox",["root"]),FR=IR,NR=q1(),zR=KA({themeId:Ho,defaultTheme:NR,defaultClassName:FR.root,generateClassName:N1.generate}),qr=zR;function OR(t){return Ke("MuiButton",t)}const BR=Qe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),fd=BR,jR=E.createContext({}),$R=jR,UR=E.createContext(void 0),qR=UR,VR=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],HR=t=>{const{color:e,disableElevation:r,fullWidth:n,size:i,variant:a,classes:o}=t,s={root:["root",a,`${a}${Ue(e)}`,`size${Ue(i)}`,`${a}Size${Ue(i)}`,e==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${Ue(i)}`],endIcon:["endIcon",`iconSize${Ue(i)}`]},l=et(s,OR,o);return R({},o,l)},Qw=t=>R({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),WR=me(ro,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${Ue(r.color)}`],e[`size${Ue(r.size)}`],e[`${r.variant}Size${Ue(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,n;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],a=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return R({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":R({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":R({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${fd.focusVisible}`]:R({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${fd.disabled}`]:R({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Zt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${fd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${fd.disabled}`]:{boxShadow:"none"}}),GR=me("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${Ue(r.size)}`]]}})(({ownerState:t})=>R({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Qw(t))),ZR=me("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${Ue(r.size)}`]]}})(({ownerState:t})=>R({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Qw(t))),XR=E.forwardRef(function(e,r){const n=E.useContext($R),i=E.useContext(qR),a=F1(n,e),o=tt({props:a,name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:u,disabled:p=!1,disableElevation:d=!1,disableFocusRipple:g=!1,endIcon:m,focusVisibleClassName:h,fullWidth:f=!1,size:v="medium",startIcon:y,type:x,variant:b="text"}=o,w=ye(o,VR),_=R({},o,{color:l,component:c,disabled:p,disableElevation:d,disableFocusRipple:g,fullWidth:f,size:v,type:x,variant:b}),C=HR(_),S=y&&P.jsx(GR,{className:C.startIcon,ownerState:_,children:y}),M=m&&P.jsx(ZR,{className:C.endIcon,ownerState:_,children:m}),T=i||"";return P.jsxs(WR,R({ownerState:_,className:Ce(n.className,C.root,u,T),component:c,disabled:p,focusRipple:!g,focusVisibleClassName:Ce(C.focusVisible,h),ref:r,type:x},w,{classes:C,children:[S,s,M]}))}),gf=XR;function YR(t){return Ke("MuiCard",t)}Qe("MuiCard",["root"]);const KR=["className","raised"],QR=t=>{const{classes:e}=t;return et({root:["root"]},YR,e)},JR=me(Fu,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),eP=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCard"}),{className:i,raised:a=!1}=n,o=ye(n,KR),s=R({},n,{raised:a}),l=QR(s);return P.jsx(JR,R({className:Ce(l.root,i),elevation:a?8:void 0,ref:r,ownerState:s},o))}),tP=eP;function rP(t){return Ke("MuiCardActionArea",t)}const nP=Qe("MuiCardActionArea",["root","focusVisible","focusHighlight"]),sm=nP,iP=["children","className","focusVisibleClassName"],aP=t=>{const{classes:e}=t;return et({root:["root"],focusHighlight:["focusHighlight"]},rP,e)},oP=me(ro,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${sm.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${sm.focusVisible} .${sm.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}})),sP=me("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),lP=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCardActionArea"}),{children:i,className:a,focusVisibleClassName:o}=n,s=ye(n,iP),l=n,c=aP(l);return P.jsxs(oP,R({className:Ce(c.root,a),focusVisibleClassName:Ce(o,c.focusVisible),ref:r,ownerState:l},s,{children:[i,P.jsx(sP,{className:c.focusHighlight,ownerState:l})]}))}),cP=lP;function uP(t){return Ke("MuiCardActions",t)}Qe("MuiCardActions",["root","spacing"]);const dP=["disableSpacing","className"],pP=t=>{const{classes:e,disableSpacing:r}=t;return et({root:["root",!r&&"spacing"]},uP,e)},hP=me("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>R({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),fP=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:a}=n,o=ye(n,dP),s=R({},n,{disableSpacing:i}),l=pP(s);return P.jsx(hP,R({className:Ce(l.root,a),ownerState:s,ref:r},o))}),mP=fP;function gP(t){return Ke("MuiCardContent",t)}Qe("MuiCardContent",["root"]);const vP=["className","component"],yP=t=>{const{classes:e}=t;return et({root:["root"]},gP,e)},xP=me("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),bP=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiCardContent"}),{className:i,component:a="div"}=n,o=ye(n,vP),s=R({},n,{component:a}),l=yP(s);return P.jsx(xP,R({as:a,className:Ce(l.root,i),ownerState:s,ref:r},o))}),_P=bP;function wP(t){return Ke("PrivateSwitchBase",t)}Qe("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const SP=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],CP=t=>{const{classes:e,checked:r,disabled:n,edge:i}=t,a={root:["root",r&&"checked",n&&"disabled",i&&`edge${Ue(i)}`],input:["input"]};return et(a,wP,e)},EP=me(ro)(({ownerState:t})=>R({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),MP=me("input",{shouldForwardProp:Kr})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),AP=E.forwardRef(function(e,r){const{autoFocus:n,checked:i,checkedIcon:a,className:o,defaultChecked:s,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:p,id:d,inputProps:g,inputRef:m,name:h,onBlur:f,onChange:v,onFocus:y,readOnly:x,required:b=!1,tabIndex:w,type:_,value:C}=e,S=ye(e,SP),[M,T]=ou({controlled:i,default:!!s,name:"SwitchBase",state:"checked"}),D=zi(),j=z=>{y&&y(z),D&&D.onFocus&&D.onFocus(z)},N=z=>{f&&f(z),D&&D.onBlur&&D.onBlur(z)},L=z=>{if(z.nativeEvent.defaultPrevented)return;const q=z.target.checked;T(q),v&&v(z,q)};let O=l;D&&typeof O>"u"&&(O=D.disabled);const B=_==="checkbox"||_==="radio",U=R({},e,{checked:M,disabled:O,disableFocusRipple:c,edge:u}),F=CP(U);return P.jsxs(EP,R({component:"span",className:Ce(F.root,o),centerRipple:!0,focusRipple:!c,disabled:O,tabIndex:null,role:void 0,onFocus:j,onBlur:N,ownerState:U,ref:r},S,{children:[P.jsx(MP,R({autoFocus:n,checked:i,defaultChecked:s,className:F.input,disabled:O,id:B?d:void 0,name:h,onChange:L,readOnly:x,ref:m,required:b,ownerState:U,tabIndex:w,type:_},_==="checkbox"&&C===void 0?{}:{value:C},g)),M?a:p]}))}),TP=AP,RP=(t,e)=>R({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),PP=t=>R({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),LP=(t,e=!1)=>{var r;const n={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,s])=>{var l;n[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=s.palette)==null?void 0:l.mode}});let i=R({html:RP(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:R({margin:0},PP(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},n);const a=(r=t.components)==null||(r=r.MuiCssBaseline)==null?void 0:r.styleOverrides;return a&&(i=[i,a]),i};function kP(t){const e=tt({props:t,name:"MuiCssBaseline"}),{children:r,enableColorScheme:n=!1}=e;return P.jsxs(E.Fragment,{children:[P.jsx(Kw,{styles:i=>LP(i,n)}),r]})}function DP(t){return Ke("MuiModal",t)}Qe("MuiModal",["root","hidden","backdrop"]);const IP=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],FP=t=>{const{open:e,exited:r,classes:n}=t;return et({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},DP,n)},NP=me("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>R({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),zP=me(DR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),OP=E.forwardRef(function(e,r){var n,i,a,o,s,l;const c=tt({name:"MuiModal",props:e}),{BackdropComponent:u=zP,BackdropProps:p,className:d,closeAfterTransition:g=!1,children:m,container:h,component:f,components:v={},componentsProps:y={},disableAutoFocus:x=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:C=!1,disableScrollLock:S=!1,hideBackdrop:M=!1,keepMounted:T=!1,onBackdropClick:D,open:j,slotProps:N,slots:L}=c,O=ye(c,IP),B=R({},c,{closeAfterTransition:g,disableAutoFocus:x,disableEnforceFocus:b,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:C,disableScrollLock:S,hideBackdrop:M,keepMounted:T}),{getRootProps:U,getBackdropProps:F,getTransitionProps:z,portalRef:q,isTopModal:ee,exited:V,hasTransition:ne}=YT(R({},B,{rootRef:r})),oe=R({},B,{exited:V}),we=FP(oe),W={};if(m.props.tabIndex===void 0&&(W.tabIndex="-1"),ne){const{onEnter:pe,onExited:rt}=z();W.onEnter=pe,W.onExited=rt}const ke=(n=(i=L==null?void 0:L.root)!=null?i:v.Root)!=null?n:NP,Ee=(a=(o=L==null?void 0:L.backdrop)!=null?o:v.Backdrop)!=null?a:u,Me=(s=N==null?void 0:N.root)!=null?s:y.root,ge=(l=N==null?void 0:N.backdrop)!=null?l:y.backdrop,Ae=gl({elementType:ke,externalSlotProps:Me,externalForwardedProps:O,getSlotProps:U,additionalProps:{ref:r,as:f},ownerState:oe,className:Ce(d,Me==null?void 0:Me.className,we==null?void 0:we.root,!oe.open&&oe.exited&&(we==null?void 0:we.hidden))}),Fe=gl({elementType:Ee,externalSlotProps:ge,additionalProps:p,getSlotProps:pe=>F(R({},pe,{onClick:rt=>{D&&D(rt),pe!=null&&pe.onClick&&pe.onClick(rt)}})),className:Ce(ge==null?void 0:ge.className,p==null?void 0:p.className,we==null?void 0:we.backdrop),ownerState:oe});return!T&&!j&&(!ne||V)?null:P.jsx($T,{ref:q,container:h,disablePortal:_,children:P.jsxs(ke,R({},Ae,{children:[!M&&u?P.jsx(Ee,R({},Fe)):null,P.jsx(BT,{disableEnforceFocus:b,disableAutoFocus:x,disableRestoreFocus:C,isEnabled:ee,open:j,children:E.cloneElement(m,W)})]}))})}),Jw=OP;function BP(t){return Ke("MuiDivider",t)}const jP=Qe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),I2=jP,$P=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],UP=t=>{const{absolute:e,children:r,classes:n,flexItem:i,light:a,orientation:o,textAlign:s,variant:l}=t;return et({root:["root",e&&"absolute",l,a&&"light",o==="vertical"&&"vertical",i&&"flexItem",r&&"withChildren",r&&o==="vertical"&&"withChildrenVertical",s==="right"&&o!=="vertical"&&"textAlignRight",s==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},BP,n)},qP=me("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.absolute&&e.absolute,e[r.variant],r.light&&e.light,r.orientation==="vertical"&&e.vertical,r.flexItem&&e.flexItem,r.children&&e.withChildren,r.children&&r.orientation==="vertical"&&e.withChildrenVertical,r.textAlign==="right"&&r.orientation!=="vertical"&&e.textAlignRight,r.textAlign==="left"&&r.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>R({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:Zt(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>R({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>R({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),VP=me("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.wrapper,r.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>R({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),e4=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:a,className:o,component:s=a?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:p=s!=="hr"?"separator":void 0,textAlign:d="center",variant:g="fullWidth"}=n,m=ye(n,$P),h=R({},n,{absolute:i,component:s,flexItem:l,light:c,orientation:u,role:p,textAlign:d,variant:g}),f=UP(h);return P.jsx(qP,R({as:s,className:Ce(f.root,o),role:p,ref:r,ownerState:h},m,{children:a?P.jsx(VP,{className:f.wrapper,ownerState:h,children:a}):null}))});e4.muiSkipListHighlight=!0;const cg=e4,HP=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function WP(t,e,r){const n=e.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),a=Di(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=a.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let s=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");s=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+s-n.left}px)`:`translateX(${a.innerWidth+s-n.left}px)`:t==="right"?i?`translateX(-${n.right-i.left-s}px)`:`translateX(-${n.left+n.width-s}px)`:t==="up"?i?`translateY(${i.bottom+l-n.top}px)`:`translateY(${a.innerHeight+l-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function GP(t){return typeof t=="function"?t():t}function md(t,e,r){const n=GP(r),i=WP(t,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const ZP=E.forwardRef(function(e,r){const n=ns(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},a={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:l,container:c,direction:u="down",easing:p=i,in:d,onEnter:g,onEntered:m,onEntering:h,onExit:f,onExited:v,onExiting:y,style:x,timeout:b=a,TransitionComponent:w=cf}=e,_=ye(e,HP),C=E.useRef(null),S=ar(l.ref,C,r),M=F=>z=>{F&&(z===void 0?F(C.current):F(C.current,z))},T=M((F,z)=>{md(u,F,c),Z1(F),g&&g(F,z)}),D=M((F,z)=>{const q=Ga({timeout:b,style:x,easing:p},{mode:"enter"});F.style.webkitTransition=n.transitions.create("-webkit-transform",R({},q)),F.style.transition=n.transitions.create("transform",R({},q)),F.style.webkitTransform="none",F.style.transform="none",h&&h(F,z)}),j=M(m),N=M(y),L=M(F=>{const z=Ga({timeout:b,style:x,easing:p},{mode:"exit"});F.style.webkitTransition=n.transitions.create("-webkit-transform",z),F.style.transition=n.transitions.create("transform",z),md(u,F,c),f&&f(F)}),O=M(F=>{F.style.webkitTransition="",F.style.transition="",v&&v(F)}),B=F=>{o&&o(C.current,F)},U=E.useCallback(()=>{C.current&&md(u,C.current,c)},[u,c]);return E.useEffect(()=>{if(d||u==="down"||u==="right")return;const F=Oh(()=>{C.current&&md(u,C.current,c)}),z=Di(C.current);return z.addEventListener("resize",F),()=>{F.clear(),z.removeEventListener("resize",F)}},[u,d,c]),E.useEffect(()=>{d||U()},[d,U]),P.jsx(w,R({nodeRef:C,onEnter:T,onEntered:j,onEntering:D,onExit:L,onExited:O,onExiting:N,addEndListener:B,appear:s,in:d,timeout:b},_,{children:(F,z)=>E.cloneElement(l,R({ref:S,style:R({visibility:F==="exited"&&!d?"hidden":void 0},x,l.props.style)},z))}))}),XP=ZP;function YP(t){return Ke("MuiDrawer",t)}Qe("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const KP=["BackdropProps"],QP=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],t4=(t,e)=>{const{ownerState:r}=t;return[e.root,(r.variant==="permanent"||r.variant==="persistent")&&e.docked,e.modal]},JP=t=>{const{classes:e,anchor:r,variant:n}=t,i={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Ue(r)}`,n!=="temporary"&&`paperAnchorDocked${Ue(r)}`]};return et(i,YP,e)},eL=me(Jw,{name:"MuiDrawer",slot:"Root",overridesResolver:t4})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),F2=me("div",{shouldForwardProp:Kr,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:t4})({flex:"0 0 auto"}),tL=me(Fu,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`paperAnchor${Ue(r.anchor)}`],r.variant!=="temporary"&&e[`paperAnchorDocked${Ue(r.anchor)}`]]}})(({theme:t,ownerState:e})=>R({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),r4={left:"right",right:"left",top:"down",bottom:"up"};function rL(t){return["left","right"].indexOf(t)!==-1}function nL(t,e){return t.direction==="rtl"&&rL(e)?r4[e]:e}const iL=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiDrawer"}),i=ns(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:s,children:l,className:c,elevation:u=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:d}={},onClose:g,open:m=!1,PaperProps:h={},SlideProps:f,TransitionComponent:v=XP,transitionDuration:y=a,variant:x="temporary"}=n,b=ye(n.ModalProps,KP),w=ye(n,QP),_=E.useRef(!1);E.useEffect(()=>{_.current=!0},[]);const C=nL(i,o),M=R({},n,{anchor:o,elevation:u,open:m,variant:x},w),T=JP(M),D=P.jsx(tL,R({elevation:x==="temporary"?u:0,square:!0},h,{className:Ce(T.paper,h.className),ownerState:M,children:l}));if(x==="permanent")return P.jsx(F2,R({className:Ce(T.root,T.docked,c),ownerState:M,ref:r},w,{children:D}));const j=P.jsx(v,R({in:m,direction:r4[C],timeout:y,appear:_.current},f,{children:D}));return x==="persistent"?P.jsx(F2,R({className:Ce(T.root,T.docked,c),ownerState:M,ref:r},w,{children:j})):P.jsx(eL,R({BackdropProps:R({},s,d,{transitionDuration:y}),className:Ce(T.root,T.modal,c),open:m,ownerState:M,onClose:g,hideBackdrop:p,ref:r},w,b,{children:j}))}),N2=iL,aL=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],oL=t=>{const{classes:e,disableUnderline:r}=t,i=et({root:["root",!r&&"underline"],input:["input"]},pR,e);return R({},e,i)},sL=me(ff,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...pf(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var r;const n=t.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return R({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},[`&.${io.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},[`&.${io.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:s}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(t.vars||t).palette[e.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${io.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${io.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${io.disabled}, .${io.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${io.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&R({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),lL=me(mf,{name:"MuiFilledInput",slot:"Input",overridesResolver:hf})(({theme:t,ownerState:e})=>R({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),n4=E.forwardRef(function(e,r){var n,i,a,o;const s=tt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:p="input",multiline:d=!1,slotProps:g,slots:m={},type:h="text"}=s,f=ye(s,aL),v=R({},s,{fullWidth:u,inputComponent:p,multiline:d,type:h}),y=oL(s),x={root:{ownerState:v},input:{ownerState:v}},b=g??c?sn(x,g??c):x,w=(n=(i=m.root)!=null?i:l.Root)!=null?n:sL,_=(a=(o=m.input)!=null?o:l.Input)!=null?a:lL;return P.jsx(X1,R({slots:{root:w,input:_},componentsProps:b,fullWidth:u,inputComponent:p,multiline:d,ref:r,type:h},f,{classes:y}))});n4.muiName="Input";const i4=n4;function cL(t){return Ke("MuiFormControl",t)}Qe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const uL=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],dL=t=>{const{classes:e,margin:r,fullWidth:n}=t,i={root:["root",r!=="none"&&`margin${Ue(r)}`,n&&"fullWidth"]};return et(i,cL,e)},pL=me("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,e[`margin${Ue(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>R({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),hL=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormControl"}),{children:i,className:a,color:o="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:p=!1,hiddenLabel:d=!1,margin:g="none",required:m=!1,size:h="medium",variant:f="outlined"}=n,v=ye(n,uL),y=R({},n,{color:o,component:s,disabled:l,error:c,fullWidth:p,hiddenLabel:d,margin:g,required:m,size:h,variant:f}),x=dL(y),[b,w]=E.useState(()=>{let N=!1;return i&&E.Children.forEach(i,L=>{if(!Rc(L,["Input","Select"]))return;const O=Rc(L,["Select"])?L.props.input:L;O&&tR(O.props)&&(N=!0)}),N}),[_,C]=E.useState(()=>{let N=!1;return i&&E.Children.forEach(i,L=>{Rc(L,["Input","Select"])&&(jp(L.props,!0)||jp(L.props.inputProps,!0))&&(N=!0)}),N}),[S,M]=E.useState(!1);l&&S&&M(!1);const T=u!==void 0&&!l?u:S;let D;const j=E.useMemo(()=>({adornedStart:b,setAdornedStart:w,color:o,disabled:l,error:c,filled:_,focused:T,fullWidth:p,hiddenLabel:d,size:h,onBlur:()=>{M(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{M(!0)},registerEffect:D,required:m,variant:f}),[b,o,l,c,_,T,p,d,D,m,h,f]);return P.jsx(df.Provider,{value:j,children:P.jsx(pL,R({as:s,ownerState:y,className:Ce(x.root,a),ref:r},v,{children:i}))})}),Y1=hL,fL=C9({createStyledComponent:me("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>tt({props:t,name:"MuiStack"})}),mL=fL;function gL(t){return Ke("MuiFormControlLabel",t)}const vL=Qe("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),mc=vL,yL=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],xL=t=>{const{classes:e,disabled:r,labelPlacement:n,error:i,required:a}=t,o={root:["root",r&&"disabled",`labelPlacement${Ue(n)}`,i&&"error",a&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",i&&"error"]};return et(o,gL,e)},bL=me("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${mc.label}`]:e.label},e.root,e[`labelPlacement${Ue(r.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>R({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${mc.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${mc.label}`]:{[`&.${mc.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),_L=me("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${mc.error}`]:{color:(t.vars||t).palette.error.main}})),wL=E.forwardRef(function(e,r){var n,i;const a=tt({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:s={},control:l,disabled:c,disableTypography:u,label:p,labelPlacement:d="end",required:g,slotProps:m={}}=a,h=ye(a,yL),f=zi(),v=(n=c??l.props.disabled)!=null?n:f==null?void 0:f.disabled,y=g??l.props.required,x={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach(M=>{typeof l.props[M]>"u"&&typeof a[M]<"u"&&(x[M]=a[M])});const b=no({props:a,muiFormControl:f,states:["error"]}),w=R({},a,{disabled:v,labelPlacement:d,required:y,error:b.error}),_=xL(w),C=(i=m.typography)!=null?i:s.typography;let S=p;return S!=null&&S.type!==rn&&!u&&(S=P.jsx(rn,R({component:"span"},C,{className:Ce(_.label,C==null?void 0:C.className),children:S}))),P.jsxs(bL,R({className:Ce(_.root,o),ownerState:w,ref:r},h,{children:[E.cloneElement(l,x),y?P.jsxs(mL,{display:"block",children:[S,P.jsxs(_L,{ownerState:w,"aria-hidden":!0,className:_.asterisk,children:["","*"]})]}):S]}))}),z2=wL;function SL(t){return Ke("MuiFormGroup",t)}Qe("MuiFormGroup",["root","row","error"]);const CL=["className","row"],EL=t=>{const{classes:e,row:r,error:n}=t;return et({root:["root",r&&"row",n&&"error"]},SL,e)},ML=me("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.row&&e.row]}})(({ownerState:t})=>R({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),AL=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormGroup"}),{className:i,row:a=!1}=n,o=ye(n,CL),s=zi(),l=no({props:n,muiFormControl:s,states:["error"]}),c=R({},n,{row:a,error:l.error}),u=EL(c);return P.jsx(ML,R({className:Ce(u.root,i),ownerState:c,ref:r},o))}),TL=AL;function RL(t){return Ke("MuiFormHelperText",t)}const PL=Qe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),O2=PL;var B2;const LL=["children","className","component","disabled","error","filled","focused","margin","required","variant"],kL=t=>{const{classes:e,contained:r,size:n,disabled:i,error:a,filled:o,focused:s,required:l}=t,c={root:["root",i&&"disabled",a&&"error",n&&`size${Ue(n)}`,r&&"contained",s&&"focused",o&&"filled",l&&"required"]};return et(c,RL,e)},DL=me("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${Ue(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${O2.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${O2.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),IL=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormHelperText"}),{children:i,className:a,component:o="p"}=n,s=ye(n,LL),l=zi(),c=no({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=R({},n,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=kL(u);return P.jsx(DL,R({as:o,ownerState:u,className:Ce(p.root,a),ref:r},s,{children:i===" "?B2||(B2=P.jsx("span",{className:"notranslate",children:""})):i}))}),FL=IL;function NL(t){return Ke("MuiFormLabel",t)}const Ic=Qe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),zL=["children","className","color","component","disabled","error","filled","focused","required"],OL=t=>{const{classes:e,color:r,focused:n,disabled:i,error:a,filled:o,required:s}=t,l={root:["root",`color${Ue(r)}`,i&&"disabled",a&&"error",o&&"filled",n&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return et(l,NL,e)},BL=me("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ic.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Ic.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ic.error}`]:{color:(t.vars||t).palette.error.main}})),jL=me("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Ic.error}`]:{color:(t.vars||t).palette.error.main}})),$L=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiFormLabel"}),{children:i,className:a,component:o="label"}=n,s=ye(n,zL),l=zi(),c=no({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=R({},n,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),p=OL(u);return P.jsxs(BL,R({as:o,ownerState:u,className:Ce(p.root,a),ref:r},s,{children:[i,c.required&&P.jsxs(jL,{ownerState:u,"aria-hidden":!0,className:p.asterisk,children:["","*"]})]}))}),a4=$L,UL=E.createContext(),j2=UL;function qL(t){return Ke("MuiGrid",t)}const VL=[0,1,2,3,4,5,6,7,8,9,10],HL=["column-reverse","column","row-reverse","row"],WL=["nowrap","wrap-reverse","wrap"],Kl=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],su=Qe("MuiGrid",["root","container","item","zeroMinWidth",...VL.map(t=>`spacing-xs-${t}`),...HL.map(t=>`direction-xs-${t}`),...WL.map(t=>`wrap-xs-${t}`),...Kl.map(t=>`grid-xs-${t}`),...Kl.map(t=>`grid-sm-${t}`),...Kl.map(t=>`grid-md-${t}`),...Kl.map(t=>`grid-lg-${t}`),...Kl.map(t=>`grid-xl-${t}`)]),GL=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function rl(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function ZL({theme:t,ownerState:e}){let r;return t.breakpoints.keys.reduce((n,i)=>{let a={};if(e[i]&&(r=e[i]),!r)return n;if(r===!0)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=Do({values:e.columns,breakpoints:t.breakpoints.values}),s=typeof o=="object"?o[i]:o;if(s==null)return n;const l=`${Math.round(r/s*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const p=`calc(${l} + ${rl(u)})`;c={flexBasis:p,maxWidth:p}}}a=R({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(n,a):n[t.breakpoints.up(i)]=a,n},{})}function XL({theme:t,ownerState:e}){const r=Do({values:e.direction,breakpoints:t.breakpoints.values});return dn({theme:t},r,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${su.item}`]={maxWidth:"none"}),i})}function o4({breakpoints:t,values:e}){let r="";Object.keys(e).forEach(i=>{r===""&&e[i]!==0&&(r=i)});const n=Object.keys(t).sort((i,a)=>t[i]-t[a]);return n.slice(0,n.indexOf(r))}function YL({theme:t,ownerState:e}){const{container:r,rowSpacing:n}=e;let i={};if(r&&n!==0){const a=Do({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=o4({breakpoints:t.breakpoints.values,values:a})),i=dn({theme:t},a,(s,l)=>{var c;const u=t.spacing(s);return u!=="0px"?{marginTop:`-${rl(u)}`,[`& > .${su.item}`]:{paddingTop:rl(u)}}:(c=o)!=null&&c.includes(l)?{}:{marginTop:0,[`& > .${su.item}`]:{paddingTop:0}}})}return i}function KL({theme:t,ownerState:e}){const{container:r,columnSpacing:n}=e;let i={};if(r&&n!==0){const a=Do({values:n,breakpoints:t.breakpoints.values});let o;typeof a=="object"&&(o=o4({breakpoints:t.breakpoints.values,values:a})),i=dn({theme:t},a,(s,l)=>{var c;const u=t.spacing(s);return u!=="0px"?{width:`calc(100% + ${rl(u)})`,marginLeft:`-${rl(u)}`,[`& > .${su.item}`]:{paddingLeft:rl(u)}}:(c=o)!=null&&c.includes(l)?{}:{width:"100%",marginLeft:0,[`& > .${su.item}`]:{paddingLeft:0}}})}return i}function QL(t,e,r={}){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[r[`spacing-xs-${String(t)}`]];const n=[];return e.forEach(i=>{const a=t[i];Number(a)>0&&n.push(r[`spacing-${i}-${String(a)}`])}),n}const JL=me("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{container:n,direction:i,item:a,spacing:o,wrap:s,zeroMinWidth:l,breakpoints:c}=r;let u=[];n&&(u=QL(o,c,e));const p=[];return c.forEach(d=>{const g=r[d];g&&p.push(e[`grid-${d}-${String(g)}`])}),[e.root,n&&e.container,a&&e.item,l&&e.zeroMinWidth,...u,i!=="row"&&e[`direction-xs-${String(i)}`],s!=="wrap"&&e[`wrap-xs-${String(s)}`],...p]}})(({ownerState:t})=>R({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),XL,YL,KL,ZL);function ek(t,e){if(!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[`spacing-xs-${String(t)}`];const r=[];return e.forEach(n=>{const i=t[n];if(Number(i)>0){const a=`spacing-${n}-${String(i)}`;r.push(a)}}),r}const tk=t=>{const{classes:e,container:r,direction:n,item:i,spacing:a,wrap:o,zeroMinWidth:s,breakpoints:l}=t;let c=[];r&&(c=ek(a,l));const u=[];l.forEach(d=>{const g=t[d];g&&u.push(`grid-${d}-${String(g)}`)});const p={root:["root",r&&"container",i&&"item",s&&"zeroMinWidth",...c,n!=="row"&&`direction-xs-${String(n)}`,o!=="wrap"&&`wrap-xs-${String(o)}`,...u]};return et(p,qL,e)},rk=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiGrid"}),{breakpoints:i}=ns(),a=Xh(n),{className:o,columns:s,columnSpacing:l,component:c="div",container:u=!1,direction:p="row",item:d=!1,rowSpacing:g,spacing:m=0,wrap:h="wrap",zeroMinWidth:f=!1}=a,v=ye(a,GL),y=g||m,x=l||m,b=E.useContext(j2),w=u?s||12:b,_={},C=R({},v);i.keys.forEach(T=>{v[T]!=null&&(_[T]=v[T],delete C[T])});const S=R({},a,{columns:w,container:u,direction:p,item:d,rowSpacing:y,columnSpacing:x,wrap:h,zeroMinWidth:f,spacing:m},_,{breakpoints:i.keys}),M=tk(S);return P.jsx(j2.Provider,{value:w,children:P.jsx(JL,R({ownerState:S,className:Ce(M.root,o),as:c,ref:r},C))})}),$p=rk,nk=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ug(t){return`scale(${t}, ${t**2})`}const ik={entering:{opacity:1,transform:ug(1)},entered:{opacity:1,transform:"none"}},lm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),s4=E.forwardRef(function(e,r){const{addEndListener:n,appear:i=!0,children:a,easing:o,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:p,onExited:d,onExiting:g,style:m,timeout:h="auto",TransitionComponent:f=cf}=e,v=ye(e,nk),y=D1(),x=E.useRef(),b=ns(),w=E.useRef(null),_=ar(w,a.ref,r),C=O=>B=>{if(O){const U=w.current;B===void 0?O(U):O(U,B)}},S=C(u),M=C((O,B)=>{Z1(O);const{duration:U,delay:F,easing:z}=Ga({style:m,timeout:h,easing:o},{mode:"enter"});let q;h==="auto"?(q=b.transitions.getAutoHeightDuration(O.clientHeight),x.current=q):q=U,O.style.transition=[b.transitions.create("opacity",{duration:q,delay:F}),b.transitions.create("transform",{duration:lm?q:q*.666,delay:F,easing:z})].join(","),l&&l(O,B)}),T=C(c),D=C(g),j=C(O=>{const{duration:B,delay:U,easing:F}=Ga({style:m,timeout:h,easing:o},{mode:"exit"});let z;h==="auto"?(z=b.transitions.getAutoHeightDuration(O.clientHeight),x.current=z):z=B,O.style.transition=[b.transitions.create("opacity",{duration:z,delay:U}),b.transitions.create("transform",{duration:lm?z:z*.666,delay:lm?U:U||z*.333,easing:F})].join(","),O.style.opacity=0,O.style.transform=ug(.75),p&&p(O)}),N=C(d),L=O=>{h==="auto"&&y.start(x.current||0,O),n&&n(w.current,O)};return P.jsx(f,R({appear:i,in:s,nodeRef:w,onEnter:M,onEntered:T,onEntering:S,onExit:j,onExited:N,onExiting:D,addEndListener:L,timeout:h==="auto"?null:h},v,{children:(O,B)=>E.cloneElement(a,R({style:R({opacity:0,transform:ug(.75),visibility:O==="exited"&&!s?"hidden":void 0},ik[O],m,a.props.style),ref:_},B))}))});s4.muiSupportAuto=!0;const ak=s4,ok=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],sk=t=>{const{classes:e,disableUnderline:r}=t,i=et({root:["root",!r&&"underline"],input:["input"]},lR,e);return R({},e,i)},lk=me(ff,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...pf(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),R({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Yl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Yl.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Yl.disabled}, .${Yl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Yl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),ck=me(mf,{name:"MuiInput",slot:"Input",overridesResolver:hf})({}),l4=E.forwardRef(function(e,r){var n,i,a,o;const s=tt({props:e,name:"MuiInput"}),{disableUnderline:l,components:c={},componentsProps:u,fullWidth:p=!1,inputComponent:d="input",multiline:g=!1,slotProps:m,slots:h={},type:f="text"}=s,v=ye(s,ok),y=sk(s),b={root:{ownerState:{disableUnderline:l}}},w=m??u?sn(m??u,b):b,_=(n=(i=h.root)!=null?i:c.Root)!=null?n:lk,C=(a=(o=h.input)!=null?o:c.Input)!=null?a:ck;return P.jsx(X1,R({slots:{root:_,input:C},slotProps:w,fullWidth:p,inputComponent:d,multiline:g,ref:r,type:f},v,{classes:y}))});l4.muiName="Input";const c4=l4;function uk(t){return Ke("MuiInputAdornment",t)}const dk=Qe("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),$2=dk;var U2;const pk=["children","className","component","disablePointerEvents","disableTypography","position","variant"],hk=(t,e)=>{const{ownerState:r}=t;return[e.root,e[`position${Ue(r.position)}`],r.disablePointerEvents===!0&&e.disablePointerEvents,e[r.variant]]},fk=t=>{const{classes:e,disablePointerEvents:r,hiddenLabel:n,position:i,size:a,variant:o}=t,s={root:["root",r&&"disablePointerEvents",i&&`position${Ue(i)}`,o,n&&"hiddenLabel",a&&`size${Ue(a)}`]};return et(s,uk,e)},mk=me("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:hk})(({theme:t,ownerState:e})=>R({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${$2.positionStart}&:not(.${$2.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),gk=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiInputAdornment"}),{children:i,className:a,component:o="div",disablePointerEvents:s=!1,disableTypography:l=!1,position:c,variant:u}=n,p=ye(n,pk),d=zi()||{};let g=u;u&&d.variant,d&&!g&&(g=d.variant);const m=R({},n,{hiddenLabel:d.hiddenLabel,size:d.size,disablePointerEvents:s,position:c,variant:g}),h=fk(m);return P.jsx(df.Provider,{value:null,children:P.jsx(mk,R({as:o,ownerState:m,className:Ce(h.root,a),ref:r},p,{children:typeof i=="string"&&!l?P.jsx(rn,{color:"text.secondary",children:i}):P.jsxs(E.Fragment,{children:[c==="start"?U2||(U2=P.jsx("span",{className:"notranslate",children:""})):null,i]})}))})}),u4=gk;function vk(t){return Ke("MuiInputLabel",t)}Qe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const yk=["disableAnimation","margin","shrink","variant","className"],xk=t=>{const{classes:e,formControl:r,size:n,shrink:i,disableAnimation:a,variant:o,required:s}=t,l={root:["root",r&&"formControl",!a&&"animated",i&&"shrink",n&&n!=="normal"&&`size${Ue(n)}`,o],asterisk:[s&&"asterisk"]},c=et(l,vk,e);return R({},e,c)},bk=me(a4,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Ic.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(({theme:t,ownerState:e})=>R({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&R({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&R({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&R({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),_k=E.forwardRef(function(e,r){const n=tt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:a,className:o}=n,s=ye(n,yk),l=zi();let c=a;typeof c>"u"&&l&&(c=l.filled||l.focused||l.adornedStart);const u=no({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),p=R({},n,{disableAnimation:i,formControl:l,shrink:c,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),d=xk(p);return P.jsx(bk,R({"data-shrink":c,ownerState:p,ref:r,className:Ce(d.root,o)},s,{classes:d}))}),wk=_k;function Sk(t){return Ke("MuiLink",t)}const Ck=Qe("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Ek=Ck,d4={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Mk=t=>d4[t]||t,Ak=({theme:t,ownerState:e})=>{const r=Mk(e.color),n=fl(t,`palette.${r}`,!1)||e.color,i=fl(t,`palette.${r}Channel`);return"vars"in t&&i?`rgba(${i} / 0.4)`:Zt(n,.4)},Tk=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],Rk=t=>{const{classes:e,component:r,focusVisible:n,underline:i}=t,a={root:["root",`underline${Ue(i)}`,r==="button"&&"button",n&&"focusVisible"]};return et(a,Sk,e)},Pk=me(rn,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[`underline${Ue(r.underline)}`],r.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>R({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&R({textDecoration:"underline"},e.color!=="inherit"&&{textDecorationColor:Ak({theme:t,ownerState:e})},{"&:hover":{textDecorationColor:"inherit"}}),e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ek.focusVisible}`]:{outline:"auto"}})),Lk=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiLink"}),{className:i,color:a="primary",component:o="a",onBlur:s,onFocus:l,TypographyClasses:c,underline:u="always",variant:p="inherit",sx:d}=n,g=ye(n,Tk),{isFocusVisibleRef:m,onBlur:h,onFocus:f,ref:v}=I1(),[y,x]=E.useState(!1),b=ar(r,v),w=M=>{h(M),m.current===!1&&x(!1),s&&s(M)},_=M=>{f(M),m.current===!0&&x(!0),l&&l(M)},C=R({},n,{color:a,component:o,focusVisible:y,underline:u,variant:p}),S=Rk(C);return P.jsx(Pk,R({color:a,className:Ce(S.root,i),classes:c,component:o,onBlur:w,onFocus:_,ref:b,ownerState:C,variant:p,sx:[...Object.keys(d4).includes(a)?[]:[{color:a}],...Array.isArray(d)?d:[d]]},g))}),kk=Lk,Dk=E.createContext({}),ui=Dk;function Ik(t){return Ke("MuiList",t)}Qe("MuiList",["root","padding","dense","subheader"]);const Fk=["children","className","component","dense","disablePadding","subheader"],Nk=t=>{const{classes:e,disablePadding:r,dense:n,subheader:i}=t;return et({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Ik,e)},zk=me("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>R({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Ok=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiList"}),{children:i,className:a,component:o="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=n,u=ye(n,Fk),p=E.useMemo(()=>({dense:s}),[s]),d=R({},n,{component:o,dense:s,disablePadding:l}),g=Nk(d);return P.jsx(ui.Provider,{value:p,children:P.jsxs(zk,R({as:o,className:Ce(g.root,a),ref:r,ownerState:d},u,{children:[c,i]}))})}),K1=Ok;function Bk(t){return Ke("MuiListItem",t)}const jk=Qe("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Rs=jk;function $k(t){return Ke("MuiListItemButton",t)}const Uk=Qe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Ps=Uk,qk=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Vk=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters]},Hk=t=>{const{alignItems:e,classes:r,dense:n,disabled:i,disableGutters:a,divider:o,selected:s}=t,c=et({root:["root",n&&"dense",!a&&"gutters",o&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",s&&"selected"]},$k,r);return R({},r,c)},Wk=me(ro,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Vk})(({theme:t,ownerState:e})=>R({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ps.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ps.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ps.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ps.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ps.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Gk=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:a=!1,component:o="div",children:s,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:p,selected:d=!1,className:g}=n,m=ye(n,qk),h=E.useContext(ui),f=E.useMemo(()=>({dense:l||h.dense||!1,alignItems:i,disableGutters:c}),[i,h.dense,l,c]),v=E.useRef(null);fi(()=>{a&&v.current&&v.current.focus()},[a]);const y=R({},n,{alignItems:i,dense:f.dense,disableGutters:c,divider:u,selected:d}),x=Hk(y),b=ar(v,r);return P.jsx(ui.Provider,{value:f,children:P.jsx(Wk,R({ref:b,href:m.href||m.to,component:(m.href||m.to)&&o==="div"?"button":o,focusVisibleClassName:Ce(x.focusVisible,p),ownerState:y,className:Ce(x.root,g)},m,{classes:x,children:s}))})}),p4=Gk;function Zk(t){return Ke("MuiListItemSecondaryAction",t)}Qe("MuiListItemSecondaryAction",["root","disableGutters"]);const Xk=["className"],Yk=t=>{const{disableGutters:e,classes:r}=t;return et({root:["root",e&&"disableGutters"]},Zk,r)},Kk=me("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})(({ownerState:t})=>R({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),h4=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=n,a=ye(n,Xk),o=E.useContext(ui),s=R({},n,{disableGutters:o.disableGutters}),l=Yk(s);return P.jsx(Kk,R({className:Ce(l.root,i),ownerState:s,ref:r},a))});h4.muiName="ListItemSecondaryAction";const Qk=h4,Jk=["className"],eD=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],tD=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.button&&e.button,r.hasSecondaryAction&&e.secondaryAction]},rD=t=>{const{alignItems:e,button:r,classes:n,dense:i,disabled:a,disableGutters:o,disablePadding:s,divider:l,hasSecondaryAction:c,selected:u}=t;return et({root:["root",i&&"dense",!o&&"gutters",!s&&"padding",l&&"divider",a&&"disabled",r&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},Bk,n)},nD=me("div",{name:"MuiListItem",slot:"Root",overridesResolver:tD})(({theme:t,ownerState:e})=>R({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&R({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${Ps.root}`]:{paddingRight:48}},{[`&.${Rs.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Rs.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Rs.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Rs.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Rs.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),iD=me("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),aD=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:a=!1,button:o=!1,children:s,className:l,component:c,components:u={},componentsProps:p={},ContainerComponent:d="li",ContainerProps:{className:g}={},dense:m=!1,disabled:h=!1,disableGutters:f=!1,disablePadding:v=!1,divider:y=!1,focusVisibleClassName:x,secondaryAction:b,selected:w=!1,slotProps:_={},slots:C={}}=n,S=ye(n.ContainerProps,Jk),M=ye(n,eD),T=E.useContext(ui),D=E.useMemo(()=>({dense:m||T.dense||!1,alignItems:i,disableGutters:f}),[i,T.dense,m,f]),j=E.useRef(null);fi(()=>{a&&j.current&&j.current.focus()},[a]);const N=E.Children.toArray(s),L=N.length&&Rc(N[N.length-1],["ListItemSecondaryAction"]),O=R({},n,{alignItems:i,autoFocus:a,button:o,dense:D.dense,disabled:h,disableGutters:f,disablePadding:v,divider:y,hasSecondaryAction:L,selected:w}),B=rD(O),U=ar(j,r),F=C.root||u.Root||nD,z=_.root||p.root||{},q=R({className:Ce(B.root,z.className,l),disabled:h},M);let ee=c||"li";return o&&(q.component=c||"div",q.focusVisibleClassName=Ce(Rs.focusVisible,x),ee=ro),L?(ee=!q.component&&!c?"div":ee,d==="li"&&(ee==="li"?ee="div":q.component==="li"&&(q.component="div")),P.jsx(ui.Provider,{value:D,children:P.jsxs(iD,R({as:d,className:Ce(B.container,g),ref:U,ownerState:O},S,{children:[P.jsx(F,R({},z,!ml(F)&&{as:ee,ownerState:R({},O,z.ownerState)},q,{children:N})),N.pop()]}))})):P.jsx(ui.Provider,{value:D,children:P.jsxs(F,R({},z,{as:ee,ref:U},!ml(F)&&{ownerState:R({},O,z.ownerState)},q,{children:[N,b&&P.jsx(Qk,{children:b})]}))})}),sp=aD;function oD(t){return Ke("MuiListItemIcon",t)}const sD=Qe("MuiListItemIcon",["root","alignItemsFlexStart"]),q2=sD,lD=["className"],cD=t=>{const{alignItems:e,classes:r}=t;return et({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},oD,r)},uD=me("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>R({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),dD=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemIcon"}),{className:i}=n,a=ye(n,lD),o=E.useContext(ui),s=R({},n,{alignItems:o.alignItems}),l=cD(s);return P.jsx(uD,R({className:Ce(l.root,i),ownerState:s,ref:r},a))}),pD=dD;function hD(t){return Ke("MuiListItemText",t)}const fD=Qe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Up=fD,mD=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],gD=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return et({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},hD,e)},vD=me("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${Up.primary}`]:e.primary},{[`& .${Up.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>R({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),yD=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:p}=n,d=ye(n,mD),{dense:g}=E.useContext(ui);let m=l??i,h=u;const f=R({},n,{disableTypography:o,inset:s,primary:!!m,secondary:!!h,dense:g}),v=gD(f);return m!=null&&m.type!==rn&&!o&&(m=P.jsx(rn,R({variant:g?"body2":"body1",className:v.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:m}))),h!=null&&h.type!==rn&&!o&&(h=P.jsx(rn,R({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},p,{children:h}))),P.jsxs(vD,R({className:Ce(v.root,a),ownerState:f,ref:r},d,{children:[m,h]}))}),dg=yD,xD=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function cm(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function V2(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function f4(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function Ql(t,e,r,n,i,a){let o=!1,s=i(t,e,e?r:!1);for(;s;){if(s===t.firstChild){if(o)return!1;o=!0}const l=n?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!f4(s,a)||l)s=i(t,s,r);else return s.focus(),!0}return!1}const bD=E.forwardRef(function(e,r){const{actions:n,autoFocus:i=!1,autoFocusItem:a=!1,children:o,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:p="selectedMenu"}=e,d=ye(e,xD),g=E.useRef(null),m=E.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});fi(()=>{i&&g.current.focus()},[i]),E.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(x,b)=>{const w=!g.current.style.width;if(x.clientHeight<g.current.clientHeight&&w){const _=`${Rw(ln(x))}px`;g.current.style[b.direction==="rtl"?"paddingLeft":"paddingRight"]=_,g.current.style.width=`calc(100% + ${_})`}return g.current}}),[]);const h=x=>{const b=g.current,w=x.key,_=ln(b).activeElement;if(w==="ArrowDown")x.preventDefault(),Ql(b,_,c,l,cm);else if(w==="ArrowUp")x.preventDefault(),Ql(b,_,c,l,V2);else if(w==="Home")x.preventDefault(),Ql(b,null,c,l,cm);else if(w==="End")x.preventDefault(),Ql(b,null,c,l,V2);else if(w.length===1){const C=m.current,S=w.toLowerCase(),M=performance.now();C.keys.length>0&&(M-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&S!==C.keys[0]&&(C.repeating=!1)),C.lastTime=M,C.keys.push(S);const T=_&&!C.repeating&&f4(_,C);C.previousKeyMatched&&(T||Ql(b,_,!1,l,cm,C))?x.preventDefault():C.previousKeyMatched=!1}u&&u(x)},f=ar(g,r);let v=-1;E.Children.forEach(o,(x,b)=>{if(!E.isValidElement(x)){v===b&&(v+=1,v>=o.length&&(v=-1));return}x.props.disabled||(p==="selectedMenu"&&x.props.selected||v===-1)&&(v=b),v===b&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(v+=1,v>=o.length&&(v=-1))});const y=E.Children.map(o,(x,b)=>{if(b===v){const w={};return a&&(w.autoFocus=!0),x.props.tabIndex===void 0&&p==="selectedMenu"&&(w.tabIndex=0),E.cloneElement(x,w)}return x});return P.jsx(K1,R({role:"menu",ref:f,className:s,onKeyDown:h,tabIndex:i?0:-1},d,{children:y}))}),_D=bD;function wD(t){return Ke("MuiPopover",t)}Qe("MuiPopover",["root","paper"]);const SD=["onEntering"],CD=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ED=["slotProps"];function H2(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function W2(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function G2(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function um(t){return typeof t=="function"?t():t}const MD=t=>{const{classes:e}=t;return et({root:["root"],paper:["paper"]},wD,e)},AD=me(Jw,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),m4=me(Fu,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),TD=E.forwardRef(function(e,r){var n,i,a;const o=tt({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:p="anchorEl",children:d,className:g,container:m,elevation:h=8,marginThreshold:f=16,open:v,PaperProps:y={},slots:x,slotProps:b,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=ak,transitionDuration:C="auto",TransitionProps:{onEntering:S}={},disableScrollLock:M=!1}=o,T=ye(o.TransitionProps,SD),D=ye(o,CD),j=(n=b==null?void 0:b.paper)!=null?n:y,N=E.useRef(),L=ar(N,j.ref),O=R({},o,{anchorOrigin:c,anchorReference:p,elevation:h,marginThreshold:f,externalPaperSlotProps:j,transformOrigin:w,TransitionComponent:_,transitionDuration:C,TransitionProps:T}),B=MD(O),U=E.useCallback(()=>{if(p==="anchorPosition")return u;const pe=um(l),at=(pe&&pe.nodeType===1?pe:ln(N.current).body).getBoundingClientRect();return{top:at.top+H2(at,c.vertical),left:at.left+W2(at,c.horizontal)}},[l,c.horizontal,c.vertical,u,p]),F=E.useCallback(pe=>({vertical:H2(pe,w.vertical),horizontal:W2(pe,w.horizontal)}),[w.horizontal,w.vertical]),z=E.useCallback(pe=>{const rt={width:pe.offsetWidth,height:pe.offsetHeight},at=F(rt);if(p==="none")return{top:null,left:null,transformOrigin:G2(at)};const zt=U();let jt=zt.top-at.vertical,Mt=zt.left-at.horizontal;const pt=jt+rt.height,Ht=Mt+rt.width,ht=Di(um(l)),$=ht.innerHeight-f,k=ht.innerWidth-f;if(f!==null&&jt<f){const J=jt-f;jt-=J,at.vertical+=J}else if(f!==null&&pt>$){const J=pt-$;jt-=J,at.vertical+=J}if(f!==null&&Mt<f){const J=Mt-f;Mt-=J,at.horizontal+=J}else if(Ht>k){const J=Ht-k;Mt-=J,at.horizontal+=J}return{top:`${Math.round(jt)}px`,left:`${Math.round(Mt)}px`,transformOrigin:G2(at)}},[l,p,U,F,f]),[q,ee]=E.useState(v),V=E.useCallback(()=>{const pe=N.current;if(!pe)return;const rt=z(pe);rt.top!==null&&(pe.style.top=rt.top),rt.left!==null&&(pe.style.left=rt.left),pe.style.transformOrigin=rt.transformOrigin,ee(!0)},[z]);E.useEffect(()=>(M&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)),[l,M,V]);const ne=(pe,rt)=>{S&&S(pe,rt),V()},oe=()=>{ee(!1)};E.useEffect(()=>{v&&V()}),E.useImperativeHandle(s,()=>v?{updatePosition:()=>{V()}}:null,[v,V]),E.useEffect(()=>{if(!v)return;const pe=Oh(()=>{V()}),rt=Di(l);return rt.addEventListener("resize",pe),()=>{pe.clear(),rt.removeEventListener("resize",pe)}},[l,v,V]);let we=C;C==="auto"&&!_.muiSupportAuto&&(we=void 0);const W=m||(l?ln(um(l)).body:void 0),ke=(i=x==null?void 0:x.root)!=null?i:AD,Ee=(a=x==null?void 0:x.paper)!=null?a:m4,Me=gl({elementType:Ee,externalSlotProps:R({},j,{style:q?j.style:R({},j.style,{opacity:0})}),additionalProps:{elevation:h,ref:L},ownerState:O,className:Ce(B.paper,j==null?void 0:j.className)}),ge=gl({elementType:ke,externalSlotProps:(b==null?void 0:b.root)||{},externalForwardedProps:D,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:W,open:v},ownerState:O,className:Ce(B.root,g)}),{slotProps:Ae}=ge,Fe=ye(ge,ED);return P.jsx(ke,R({},Fe,!ml(ke)&&{slotProps:Ae,disableScrollLock:M},{children:P.jsx(_,R({appear:!0,in:v,onEntering:ne,onExited:oe,timeout:we},T,{children:P.jsx(Ee,R({},Me,{children:d}))}))}))}),RD=TD;function PD(t){return Ke("MuiMenu",t)}Qe("MuiMenu",["root","paper","list"]);const LD=["onEntering"],kD=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],DD={vertical:"top",horizontal:"right"},ID={vertical:"top",horizontal:"left"},FD=t=>{const{classes:e}=t;return et({root:["root"],paper:["paper"],list:["list"]},PD,e)},ND=me(RD,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),zD=me(m4,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),OD=me(_D,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),BD=E.forwardRef(function(e,r){var n,i;const a=tt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:p,open:d,PaperProps:g={},PopoverClasses:m,transitionDuration:h="auto",TransitionProps:{onEntering:f}={},variant:v="selectedMenu",slots:y={},slotProps:x={}}=a,b=ye(a.TransitionProps,LD),w=ye(a,kD),_=ns(),C=_.direction==="rtl",S=R({},a,{autoFocus:o,disableAutoFocusItem:c,MenuListProps:u,onEntering:f,PaperProps:g,transitionDuration:h,TransitionProps:b,variant:v}),M=FD(S),T=o&&!c&&d,D=E.useRef(null),j=(z,q)=>{D.current&&D.current.adjustStyleForScrollbar(z,_),f&&f(z,q)},N=z=>{z.key==="Tab"&&(z.preventDefault(),p&&p(z,"tabKeyDown"))};let L=-1;E.Children.map(s,(z,q)=>{E.isValidElement(z)&&(z.props.disabled||(v==="selectedMenu"&&z.props.selected||L===-1)&&(L=q))});const O=(n=y.paper)!=null?n:zD,B=(i=x.paper)!=null?i:g,U=gl({elementType:y.root,externalSlotProps:x.root,ownerState:S,className:[M.root,l]}),F=gl({elementType:O,externalSlotProps:B,ownerState:S,className:M.paper});return P.jsx(ND,R({onClose:p,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?DD:ID,slots:{paper:O,root:y.root},slotProps:{root:U,paper:F},open:d,ref:r,transitionDuration:h,TransitionProps:R({onEntering:j},b),ownerState:S},w,{classes:m,children:P.jsx(OD,R({onKeyDown:N,actions:D,autoFocus:o&&(L===-1||c),autoFocusItem:T,variant:v},u,{className:Ce(M.list,u.className),children:s}))}))}),jD=BD;function $D(t){return Ke("MuiMenuItem",t)}const UD=Qe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Jl=UD,qD=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],VD=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.divider&&e.divider,!r.disableGutters&&e.gutters]},HD=t=>{const{disabled:e,dense:r,divider:n,disableGutters:i,selected:a,classes:o}=t,l=et({root:["root",r&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",a&&"selected"]},$D,o);return R({},o,l)},WD=me(ro,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:VD})(({theme:t,ownerState:e})=>R({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Jl.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Jl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Jl.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Zt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Jl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Jl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${I2.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${I2.inset}`]:{marginLeft:52},[`& .${Up.root}`]:{marginTop:0,marginBottom:0},[`& .${Up.inset}`]:{paddingLeft:36},[`& .${q2.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&R({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${q2.root} svg`]:{fontSize:"1.25rem"}}))),GD=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:a="li",dense:o=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:p,className:d}=n,g=ye(n,qD),m=E.useContext(ui),h=E.useMemo(()=>({dense:o||m.dense||!1,disableGutters:l}),[m.dense,o,l]),f=E.useRef(null);fi(()=>{i&&f.current&&f.current.focus()},[i]);const v=R({},n,{dense:h.dense,divider:s,disableGutters:l}),y=HD(n),x=ar(f,r);let b;return n.disabled||(b=p!==void 0?p:-1),P.jsx(ui.Provider,{value:h,children:P.jsx(WD,R({ref:x,role:u,tabIndex:b,component:a,focusVisibleClassName:Ce(y.focusVisible,c),className:Ce(y.root,d)},g,{ownerState:v,classes:y}))})}),ZD=GD;function XD(t){return Ke("MuiNativeSelect",t)}const YD=Qe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Q1=YD,KD=["className","disabled","error","IconComponent","inputRef","variant"],QD=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:a,error:o}=t,s={select:["select",r,n&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ue(r)}`,a&&"iconOpen",n&&"disabled"]};return et(s,XD,e)},g4=({ownerState:t,theme:e})=>R({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":R({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Q1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),JD=me("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Kr,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${Q1.multiple}`]:e.multiple}]}})(g4),v4=({ownerState:t,theme:e})=>R({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${Q1.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),eI=me("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ue(r.variant)}`],r.open&&e.iconOpen]}})(v4),tI=E.forwardRef(function(e,r){const{className:n,disabled:i,error:a,IconComponent:o,inputRef:s,variant:l="standard"}=e,c=ye(e,KD),u=R({},e,{disabled:i,variant:l,error:a}),p=QD(u);return P.jsxs(E.Fragment,{children:[P.jsx(JD,R({ownerState:u,className:Ce(p.select,n),disabled:i,ref:s||r},c)),e.multiple?null:P.jsx(eI,{as:o,ownerState:u,className:p.icon})]})}),rI=tI;var Z2;const nI=["children","classes","className","label","notched"],iI=me("fieldset",{shouldForwardProp:Kr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),aI=me("legend",{shouldForwardProp:Kr})(({ownerState:t,theme:e})=>R({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&R({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function oI(t){const{className:e,label:r,notched:n}=t,i=ye(t,nI),a=r!=null&&r!=="",o=R({},t,{notched:n,withLabel:a});return P.jsx(iI,R({"aria-hidden":!0,className:e,ownerState:o},i,{children:P.jsx(aI,{ownerState:o,children:a?P.jsx("span",{children:r}):Z2||(Z2=P.jsx("span",{className:"notranslate",children:""}))})}))}const sI=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],lI=t=>{const{classes:e}=t,n=et({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},uR,e);return R({},e,n)},cI=me(ff,{shouldForwardProp:t=>Kr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pf})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return R({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${va.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${va.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${va.focused} .${va.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${va.error} .${va.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${va.disabled} .${va.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&R({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),uI=me(oI,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),dI=me(mf,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:hf})(({theme:t,ownerState:e})=>R({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),y4=E.forwardRef(function(e,r){var n,i,a,o,s;const l=tt({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:p="input",label:d,multiline:g=!1,notched:m,slots:h={},type:f="text"}=l,v=ye(l,sI),y=lI(l),x=zi(),b=no({props:l,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=R({},l,{color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:x,fullWidth:u,hiddenLabel:b.hiddenLabel,multiline:g,size:b.size,type:f}),_=(n=(i=h.root)!=null?i:c.Root)!=null?n:cI,C=(a=(o=h.input)!=null?o:c.Input)!=null?a:dI;return P.jsx(X1,R({slots:{root:_,input:C},renderSuffix:S=>P.jsx(uI,{ownerState:w,className:y.notchedOutline,label:d!=null&&d!==""&&b.required?s||(s=P.jsxs(E.Fragment,{children:[d,"","*"]})):d,notched:typeof m<"u"?m:!!(S.startAdornment||S.filled||S.focused)}),fullWidth:u,inputComponent:p,multiline:g,ref:r,type:f},v,{classes:R({},y,{notchedOutline:null})}))});y4.muiName="Input";const x4=y4;function pI(t){return Ke("MuiSelect",t)}const ec=Qe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var X2;const hI=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],fI=me("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${ec.select}`]:e.select},{[`&.${ec.select}`]:e[r.variant]},{[`&.${ec.error}`]:e.error},{[`&.${ec.multiple}`]:e.multiple}]}})(g4,{[`&.${ec.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),mI=me("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${Ue(r.variant)}`],r.open&&e.iconOpen]}})(v4),gI=me("input",{shouldForwardProp:t=>X9(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Y2(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function vI(t){return t==null||typeof t=="string"&&!t.trim()}const yI=t=>{const{classes:e,variant:r,disabled:n,multiple:i,open:a,error:o}=t,s={select:["select",r,n&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${Ue(r)}`,a&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return et(s,pI,e)},xI=E.forwardRef(function(e,r){var n;const{"aria-describedby":i,"aria-label":a,autoFocus:o,autoWidth:s,children:l,className:c,defaultOpen:u,defaultValue:p,disabled:d,displayEmpty:g,error:m=!1,IconComponent:h,inputRef:f,labelId:v,MenuProps:y={},multiple:x,name:b,onBlur:w,onChange:_,onClose:C,onFocus:S,onOpen:M,open:T,readOnly:D,renderValue:j,SelectDisplayProps:N={},tabIndex:L,value:O,variant:B="standard"}=e,U=ye(e,hI),[F,z]=ou({controlled:O,default:p,name:"Select"}),[q,ee]=ou({controlled:T,default:u,name:"Select"}),V=E.useRef(null),ne=E.useRef(null),[oe,we]=E.useState(null),{current:W}=E.useRef(T!=null),[ke,Ee]=E.useState(),Me=ar(r,f),ge=E.useCallback(le=>{ne.current=le,le&&we(le)},[]),Ae=oe==null?void 0:oe.parentNode;E.useImperativeHandle(Me,()=>({focus:()=>{ne.current.focus()},node:V.current,value:F}),[F]),E.useEffect(()=>{u&&q&&oe&&!W&&(Ee(s?null:Ae.clientWidth),ne.current.focus())},[oe,s]),E.useEffect(()=>{o&&ne.current.focus()},[o]),E.useEffect(()=>{if(!v)return;const le=ln(ne.current).getElementById(v);if(le){const De=()=>{getSelection().isCollapsed&&ne.current.focus()};return le.addEventListener("click",De),()=>{le.removeEventListener("click",De)}}},[v]);const Fe=(le,De)=>{le?M&&M(De):C&&C(De),W||(Ee(s?null:Ae.clientWidth),ee(le))},pe=le=>{le.button===0&&(le.preventDefault(),ne.current.focus(),Fe(!0,le))},rt=le=>{Fe(!1,le)},at=E.Children.toArray(l),zt=le=>{const De=at.find(We=>We.props.value===le.target.value);De!==void 0&&(z(De.props.value),_&&_(le,De))},jt=le=>De=>{let We;if(De.currentTarget.hasAttribute("tabindex")){if(x){We=Array.isArray(F)?F.slice():[];const Tt=F.indexOf(le.props.value);Tt===-1?We.push(le.props.value):We.splice(Tt,1)}else We=le.props.value;if(le.props.onClick&&le.props.onClick(De),F!==We&&(z(We),_)){const Tt=De.nativeEvent||De,Z=new Tt.constructor(Tt.type,Tt);Object.defineProperty(Z,"target",{writable:!0,value:{value:We,name:b}}),_(Z,le)}x||Fe(!1,De)}},Mt=le=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(le.key)!==-1&&(le.preventDefault(),Fe(!0,le))},pt=oe!==null&&q,Ht=le=>{!pt&&w&&(Object.defineProperty(le,"target",{writable:!0,value:{value:F,name:b}}),w(le))};delete U["aria-invalid"];let ht,$;const k=[];let J=!1;(jp({value:F})||g)&&(j?ht=j(F):J=!0);const ce=at.map(le=>{if(!E.isValidElement(le))return null;let De;if(x){if(!Array.isArray(F))throw new Error(Wa(2));De=F.some(We=>Y2(We,le.props.value)),De&&J&&k.push(le.props.children)}else De=Y2(F,le.props.value),De&&J&&($=le.props.children);return E.cloneElement(le,{"aria-selected":De?"true":"false",onClick:jt(le),onKeyUp:We=>{We.key===" "&&We.preventDefault(),le.props.onKeyUp&&le.props.onKeyUp(We)},role:"option",selected:De,value:void 0,"data-value":le.props.value})});J&&(x?k.length===0?ht=null:ht=k.reduce((le,De,We)=>(le.push(De),We<k.length-1&&le.push(", "),le),[]):ht=$);let he=ke;!s&&W&&oe&&(he=Ae.clientWidth);let ve;typeof L<"u"?ve=L:ve=d?null:0;const Te=N.id||(b?`mui-component-select-${b}`:void 0),G=R({},e,{variant:B,value:F,open:pt,error:m}),je=yI(G),Re=R({},y.PaperProps,(n=y.slotProps)==null?void 0:n.paper),$e=k1();return P.jsxs(E.Fragment,{children:[P.jsx(fI,R({ref:ge,tabIndex:ve,role:"combobox","aria-controls":$e,"aria-disabled":d?"true":void 0,"aria-expanded":pt?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[v,Te].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Mt,onMouseDown:d||D?null:pe,onBlur:Ht,onFocus:S},N,{ownerState:G,className:Ce(N.className,je.select,c),id:Te,children:vI(ht)?X2||(X2=P.jsx("span",{className:"notranslate",children:""})):ht})),P.jsx(gI,R({"aria-invalid":m,value:Array.isArray(F)?F.join(","):F,name:b,ref:V,"aria-hidden":!0,onChange:zt,tabIndex:-1,disabled:d,className:je.nativeInput,autoFocus:o,ownerState:G},U)),P.jsx(mI,{as:h,className:je.icon,ownerState:G}),P.jsx(jD,R({id:`menu-${b||""}`,anchorEl:Ae,open:pt,onClose:rt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:R({"aria-labelledby":v,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:$e},y.MenuListProps),slotProps:R({},y.slotProps,{paper:R({},Re,{style:R({minWidth:he},Re!=null?Re.style:null)})}),children:ce}))]})}),bI=xI,_I=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],wI=["root"],SI=t=>{const{classes:e}=t;return e},J1={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Kr(t)&&t!=="variant",slot:"Root"},CI=me(c4,J1)(""),EI=me(x4,J1)(""),MI=me(i4,J1)(""),b4=E.forwardRef(function(e,r){const n=tt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:a,classes:o={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=fR,id:p,input:d,inputProps:g,label:m,labelId:h,MenuProps:f,multiple:v=!1,native:y=!1,onClose:x,onOpen:b,open:w,renderValue:_,SelectDisplayProps:C,variant:S="outlined"}=n,M=ye(n,_I),T=y?rI:bI,D=zi(),j=no({props:n,muiFormControl:D,states:["variant","error"]}),N=j.variant||S,L=R({},n,{variant:N,classes:o}),O=SI(L),B=ye(O,wI),U=d||{standard:P.jsx(CI,{ownerState:L}),outlined:P.jsx(EI,{label:m,ownerState:L}),filled:P.jsx(MI,{ownerState:L})}[N],F=ar(r,U.ref);return P.jsx(E.Fragment,{children:E.cloneElement(U,R({inputComponent:T,inputProps:R({children:a,error:j.error,IconComponent:u,variant:N,type:void 0,multiple:v},y?{id:p}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:h,MenuProps:f,onClose:x,onOpen:b,open:w,renderValue:_,SelectDisplayProps:R({id:p},C)},g,{classes:g?sn(B,g.classes):B},d?d.props.inputProps:{})},(v&&y||c)&&N==="outlined"?{notched:!0}:{},{ref:F,className:Ce(U.props.className,s,O.root)},!d&&{variant:N},M))})});b4.muiName="Select";const _4=b4;function AI(t){return Ke("MuiSwitch",t)}const TI=Qe("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),$r=TI,RI=["className","color","edge","size","sx"],PI=t=>{const{classes:e,edge:r,size:n,color:i,checked:a,disabled:o}=t,s={root:["root",r&&`edge${Ue(r)}`,`size${Ue(n)}`],switchBase:["switchBase",`color${Ue(i)}`,a&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=et(s,AI,e);return R({},e,l)},LI=me("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.edge&&e[`edge${Ue(r.edge)}`],e[`size${Ue(r.size)}`]]}})(({ownerState:t})=>R({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},t.edge==="start"&&{marginLeft:-8},t.edge==="end"&&{marginRight:-8},t.size==="small"&&{width:40,height:24,padding:7,[`& .${$r.thumb}`]:{width:16,height:16},[`& .${$r.switchBase}`]:{padding:4,[`&.${$r.checked}`]:{transform:"translateX(16px)"}}})),kI=me(TP,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.switchBase,{[`& .${$r.input}`]:e.input},r.color!=="default"&&e[`color${Ue(r.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${$r.checked}`]:{transform:"translateX(20px)"},[`&.${$r.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${$r.checked} + .${$r.track}`]:{opacity:.5},[`&.${$r.disabled} + .${$r.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${$r.input}`]:{left:"-100%",width:"300%"}}),({theme:t,ownerState:e})=>R({"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${$r.checked}`]:{color:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Zt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${$r.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e.color}DisabledColor`]:`${t.palette.mode==="light"?Ow(t.palette[e.color].main,.62):zw(t.palette[e.color].main,.55)}`}},[`&.${$r.checked} + .${$r.track}`]:{backgroundColor:(t.vars||t).palette[e.color].main}})),DI=me("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`})),II=me("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),FI=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiSwitch"}),{className:i,color:a="primary",edge:o=!1,size:s="medium",sx:l}=n,c=ye(n,RI),u=R({},n,{color:a,edge:o,size:s}),p=PI(u),d=P.jsx(II,{className:p.thumb,ownerState:u});return P.jsxs(LI,{className:Ce(p.root,i),sx:l,ownerState:u,children:[P.jsx(kI,R({type:"checkbox",icon:d,checkedIcon:d,ref:r,ownerState:u},c,{classes:R({},p,{root:p.switchBase})})),P.jsx(DI,{className:p.track,ownerState:u})]})}),K2=FI;function NI(t){return Ke("MuiToolbar",t)}Qe("MuiToolbar",["root","gutters","regular","dense"]);const zI=["className","component","disableGutters","variant"],OI=t=>{const{classes:e,disableGutters:r,variant:n}=t;return et({root:["root",!r&&"gutters",n]},NI,e)},BI=me("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableGutters&&e.gutters,e[r.variant]]}})(({theme:t,ownerState:e})=>R({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),jI=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiToolbar"}),{className:i,component:a="div",disableGutters:o=!1,variant:s="regular"}=n,l=ye(n,zI),c=R({},n,{component:a,disableGutters:o,variant:s}),u=OI(c);return P.jsx(BI,R({as:a,className:Ce(u.root,i),ref:r,ownerState:c},l))}),w4=jI;function $I(t){return Ke("MuiTextField",t)}Qe("MuiTextField",["root"]);const UI=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],qI={standard:c4,filled:i4,outlined:x4},VI=t=>{const{classes:e}=t;return et({root:["root"]},$I,e)},HI=me(Y1,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),WI=E.forwardRef(function(e,r){const n=tt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:a=!1,children:o,className:s,color:l="primary",defaultValue:c,disabled:u=!1,error:p=!1,FormHelperTextProps:d,fullWidth:g=!1,helperText:m,id:h,InputLabelProps:f,inputProps:v,InputProps:y,inputRef:x,label:b,maxRows:w,minRows:_,multiline:C=!1,name:S,onBlur:M,onChange:T,onFocus:D,placeholder:j,required:N=!1,rows:L,select:O=!1,SelectProps:B,type:U,value:F,variant:z="outlined"}=n,q=ye(n,UI),ee=R({},n,{autoFocus:a,color:l,disabled:u,error:p,fullWidth:g,multiline:C,required:N,select:O,variant:z}),V=VI(ee),ne={};z==="outlined"&&(f&&typeof f.shrink<"u"&&(ne.notched=f.shrink),ne.label=b),O&&((!B||!B.native)&&(ne.id=void 0),ne["aria-describedby"]=void 0);const oe=k1(h),we=m&&oe?`${oe}-helper-text`:void 0,W=b&&oe?`${oe}-label`:void 0,ke=qI[z],Ee=P.jsx(ke,R({"aria-describedby":we,autoComplete:i,autoFocus:a,defaultValue:c,fullWidth:g,multiline:C,name:S,rows:L,maxRows:w,minRows:_,type:U,value:F,id:oe,inputRef:x,onBlur:M,onChange:T,onFocus:D,placeholder:j,inputProps:v},ne,y));return P.jsxs(HI,R({className:Ce(V.root,s),disabled:u,error:p,fullWidth:g,ref:r,required:N,color:l,variant:z,ownerState:ee},q,{children:[b!=null&&b!==""&&P.jsx(wk,R({htmlFor:oe,id:W},f,{children:b})),O?P.jsx(_4,R({"aria-describedby":we,id:oe,labelId:W,value:F,input:Ee},B,{children:o})):Ee,m&&P.jsx(FL,R({id:we},d,{children:m}))]}))}),S4=WI,GI={transition:{time:"0.3s",mode:"easy"},padding:{button:"9px 16px",page:"15px 25px"}},lu=300,ZI=.8;var ev={},C4={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(C4);var Nu=C4.exports,dm={};const XI=US(n7);var Q2;function zu(){return Q2||(Q2=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=XI}(dm)),dm}var YI=Nu;Object.defineProperty(ev,"__esModule",{value:!0});var E4=ev.default=void 0,KI=YI(zu()),QI=P;E4=ev.default=(0,KI.default)((0,QI.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var tr=(t=>(t.ROOT="/",t.FICHAS="/fichas",t.FICHA="ficha/:id",t.DADO="/dado",t.MAGIAS="/magias",t.MAGIA="/magia/:id",t.HABILIDADES="/habilidades",t.HABILIDADE="/habilidade/:id",t.MAPAS="/mapas",t.MAPA="/mapa/:id",t.CONFIGURACOES="/configuracoes",t.SOBRE="/sobre",t))(tr||{});const JI=()=>{const{pathname:t}=rs();switch(t){case"/":case"/fichas":return"Fichas";case"ficha/:id":return"Nome do personagem";case"/dado":return"Dado";case"/magias":return"Lista de Magias";case"/magia/:id":return"Nome da magia";case"/habilidades":return"Lista de Habilidades";case"/habilidade/:id":return"Nome da habilidade";case"/mapas":return"Mapas";case"/mapa/:id":return"Nome da regio";case"/configuracoes":return"Configuraes";case"/sobre":return"Sobre";default:return"outro"}},vf={palette:{mode:"dark",primary:{main:"#FFAC3D",dark:"#B06A0B",contrastText:"#ffffff",light:"#f3d9b5"},secondary:{main:"#70B0E0",contrastText:"#052640",light:"#badffb",dark:"#4e7b9c"},background:{default:"#121212",paper:"#2a2a2a"},text:{primary:"#ffffff",secondary:"#F3D9B5",disabled:"#3d2808"},divider:"#414141"},typography:{fontFamily:"Poppins"}},eF=q1(vf),tF=({children:t})=>P.jsx(K9,{theme:eF,children:t}),rF=({onMenu:t})=>{var r,n;const e=JI();return P.jsx(kT,{position:"fixed",sx:{ml:{sm:`${lu}px`},width:{sm:`calc(100% - ${lu}px)`}},children:P.jsxs(w4,{sx:{backgroundColor:(n=(r=vf.palette)==null?void 0:r.background)==null?void 0:n.default},children:[P.jsx(kc,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:t,sx:{mr:2,display:{sm:"none"}},children:P.jsx(E4,{})}),P.jsx(rn,{variant:"h6",noWrap:!0,component:"div",children:e})]})})},nF=Qr(P.jsx("path",{d:"m20 7 .94-2.06L23 4l-2.06-.94L20 1l-.94 2.06L17 4l2.06.94zM8.5 7l.94-2.06L11.5 4l-2.06-.94L8.5 1l-.94 2.06L5.5 4l2.06.94zM20 12.5l-.94 2.06-2.06.94 2.06.94.94 2.06.94-2.06L23 15.5l-2.06-.94zm-2.29-3.38-2.83-2.83c-.2-.19-.45-.29-.71-.29-.26 0-.51.1-.71.29L2.29 17.46c-.39.39-.39 1.02 0 1.41l2.83 2.83c.2.2.45.3.71.3s.51-.1.71-.29l11.17-11.17c.39-.39.39-1.03 0-1.42m-3.54-.7 1.41 1.41L14.41 11 13 9.59zM5.83 19.59l-1.41-1.41L11.59 11 13 12.41z"}),"AutoFixHighOutlined"),iF=Qr(P.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M7.5 18c-.83 0-1.5-.67-1.5-1.5S6.67 15 7.5 15s1.5.67 1.5 1.5S8.33 18 7.5 18m0-9C6.67 9 6 8.33 6 7.5S6.67 6 7.5 6 9 6.67 9 7.5 8.33 9 7.5 9m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m4.5 4.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m0-9c-.83 0-1.5-.67-1.5-1.5S15.67 6 16.5 6s1.5.67 1.5 1.5S17.33 9 16.5 9"}),"Casino"),aF=Qr(P.jsx("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined"),oF=Qr(P.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),sF=Qr(P.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"}),"FavoriteBorder"),lF=Qr(P.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),cF=Qr(P.jsx("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5M10 5.47l4 1.4v11.66l-4-1.4zm-5 .99 3-1.01v11.7l-3 1.16zm14 11.08-3 1.01V6.86l3-1.16z"}),"MapOutlined"),uF=Qr(P.jsx("path",{d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 0c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m6 5H3v-.99C3.2 16.29 6.3 15 9 15s5.8 1.29 6 2z"}),"PeopleAltOutlined"),dF=Qr(P.jsx("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonOutlined"),pF=Qr(P.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"SearchOutlined"),hF=Qr(P.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),fF=Qr(P.jsx("path",{d:"M18.93 8C16.72 4.18 11.82 2.87 8 5.07c-1.41.82-2.48 2-3.16 3.37-.13-2.2.22-4.4 1.02-6.44H3.74C2.2 6.49 2.52 11.58 5.07 16c1.1 1.91 2.88 3.19 4.86 3.72 1.98.53 4.16.31 6.07-.79 1.41-.82 2.48-2 3.16-3.37.13 2.2-.21 4.4-1.01 6.44h2.11c1.53-4.49 1.22-9.58-1.33-14M15 17.2c-2.87 1.65-6.54.67-8.2-2.2-.11-.2-.21-.4-.3-.6-1.2-2.76-.17-6.06 2.5-7.6 2.86-1.65 6.54-.67 8.2 2.2.11.2.21.4.3.6 1.2 2.76.17 6.06-2.5 7.6M12 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0-2c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4"}),"StormOutlined"),mF=zE,gF=AE;var Ao,To,Ro,Po;const Fc=class Fc{constructor(){Il(this,Ao,0);Il(this,To,0);Il(this,Ro,0);Il(this,Po,1)}static createFrom(e){const r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(r){const i=new Fc;return vi(i,Ao,parseInt(r[1],16)),vi(i,To,parseInt(r[2],16)),vi(i,Ro,parseInt(r[3],16)),vi(i,Po,1),i}const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(n){const i=new Fc;return vi(i,Ao,parseInt(n[1],16)),vi(i,To,parseInt(n[2],16)),vi(i,Ro,parseInt(n[3],16)),vi(i,Po,parseInt(n[4],16)),i}return new Fc}toRgb(){return`rgb(${ma(this,Ao)},${ma(this,To)},${ma(this,Ro)})`}changeAlpha(e){return vi(this,Po,e),this}toRgba(){return`rgb(${ma(this,Ao)},${ma(this,To)},${ma(this,Ro)},${ma(this,Po)})`}};Ao=new WeakMap,To=new WeakMap,Ro=new WeakMap,Po=new WeakMap;let pg=Fc;const pm=t=>Array.isArray(t)?t:[t],vF=(t,e)=>pg.createFrom(t).changeAlpha(e).toRgba();function Mr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yF=typeof Symbol=="function"&&Symbol.observable||"@@observable",J2=yF,hm=()=>Math.random().toString(36).substring(7).split("").join("."),xF={INIT:`@@redux/INIT${hm()}`,REPLACE:`@@redux/REPLACE${hm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hm()}`},qp=xF;function tv(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function M4(t,e,r){if(typeof t!="function")throw new Error(Mr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Mr(1));return r(M4)(t,e)}let n=t,i=e,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((f,v)=>{o.set(v,f)}))}function u(){if(l)throw new Error(Mr(3));return i}function p(f){if(typeof f!="function")throw new Error(Mr(4));if(l)throw new Error(Mr(5));let v=!0;c();const y=s++;return o.set(y,f),function(){if(v){if(l)throw new Error(Mr(6));v=!1,c(),o.delete(y),a=null}}}function d(f){if(!tv(f))throw new Error(Mr(7));if(typeof f.type>"u")throw new Error(Mr(8));if(typeof f.type!="string")throw new Error(Mr(17));if(l)throw new Error(Mr(9));try{l=!0,i=n(i,f)}finally{l=!1}return(a=o).forEach(y=>{y()}),f}function g(f){if(typeof f!="function")throw new Error(Mr(10));n=f,d({type:qp.REPLACE})}function m(){const f=p;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Mr(11));function y(){const b=v;b.next&&b.next(u())}return y(),{unsubscribe:f(y)}},[J2](){return this}}}return d({type:qp.INIT}),{dispatch:d,subscribe:p,getState:u,replaceReducer:g,[J2]:m}}function bF(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:qp.INIT})>"u")throw new Error(Mr(12));if(typeof r(void 0,{type:qp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mr(13))})}function _F(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{bF(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const p=n[u],d=r[p],g=o[p],m=d(g,s);if(typeof m>"u")throw s&&s.type,new Error(Mr(14));c[p]=m,l=l||m!==g}return l=l||n.length!==Object.keys(o).length,l?c:o}}function Vp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function wF(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Mr(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=t.map(l=>l(o));return a=Vp(...s)(i.dispatch),{...i,dispatch:a}}}function SF(t){return tv(t)&&"type"in t&&typeof t.type=="string"}var A4=Symbol.for("immer-nothing"),ex=Symbol.for("immer-draftable"),Cn=Symbol.for("immer-state");function ai(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var yl=Object.getPrototypeOf;function Za(t){return!!t&&!!t[Cn]}function sa(t){var e;return t?T4(t)||Array.isArray(t)||!!t[ex]||!!((e=t.constructor)!=null&&e[ex])||xf(t)||bf(t):!1}var CF=Object.prototype.constructor.toString();function T4(t){if(!t||typeof t!="object")return!1;const e=yl(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===CF}function cu(t,e){yf(t)===0?Object.entries(t).forEach(([r,n])=>{e(r,n,t)}):t.forEach((r,n)=>e(n,r,t))}function yf(t){const e=t[Cn];return e?e.type_:Array.isArray(t)?1:xf(t)?2:bf(t)?3:0}function hg(t,e){return yf(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function R4(t,e,r){const n=yf(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function EF(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function xf(t){return t instanceof Map}function bf(t){return t instanceof Set}function fo(t){return t.copy_||t.base_}function fg(t,e){if(xf(t))return new Map(t);if(bf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&T4(t))return yl(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[Cn];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const a=n[i],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(yl(t),r)}function rv(t,e=!1){return _f(t)||Za(t)||!sa(t)||(yf(t)>1&&(t.set=t.add=t.clear=t.delete=MF),Object.freeze(t),e&&cu(t,(r,n)=>rv(n,!0))),t}function MF(){ai(2)}function _f(t){return Object.isFrozen(t)}var AF={};function Zo(t){const e=AF[t];return e||ai(0,t),e}var uu;function P4(){return uu}function TF(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tx(t,e){e&&(Zo("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mg(t){gg(t),t.drafts_.forEach(RF),t.drafts_=null}function gg(t){t===uu&&(uu=t.parent_)}function rx(t){return uu=TF(uu,t)}function RF(t){const e=t[Cn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function nx(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Cn].modified_&&(mg(e),ai(4)),sa(t)&&(t=Hp(e,t),e.parent_||Wp(e,t)),e.patches_&&Zo("Patches").generateReplacementPatches_(r[Cn].base_,t,e.patches_,e.inversePatches_)):t=Hp(e,r,[]),mg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==A4?t:void 0}function Hp(t,e,r){if(_f(e))return e;const n=e[Cn];if(!n)return cu(e,(i,a)=>ix(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Wp(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,o=!1;n.type_===3&&(a=new Set(i),i.clear(),o=!0),cu(a,(s,l)=>ix(t,n,i,s,l,r,o)),Wp(t,i,!1),r&&t.patches_&&Zo("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function ix(t,e,r,n,i,a,o){if(Za(i)){const s=a&&e&&e.type_!==3&&!hg(e.assigned_,n)?a.concat(n):void 0,l=Hp(t,i,s);if(R4(r,n,l),Za(l))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(sa(i)&&!_f(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hp(t,i),(!e||!e.scope_.parent_)&&Wp(t,i)}}function Wp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rv(e,r)}function PF(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:P4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=nv;r&&(i=[n],a=du);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var nv={get(t,e){if(e===Cn)return t;const r=fo(t);if(!hg(r,e))return LF(t,r,e);const n=r[e];return t.finalized_||!sa(n)?n:n===fm(t.base_,e)?(mm(t),t.copy_[e]=yg(n,t)):n},has(t,e){return e in fo(t)},ownKeys(t){return Reflect.ownKeys(fo(t))},set(t,e,r){const n=L4(fo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=fm(fo(t),e),a=i==null?void 0:i[Cn];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(EF(r,i)&&(r!==void 0||hg(t.base_,e)))return!0;mm(t),vg(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return fm(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,mm(t),vg(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=fo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ai(11)},getPrototypeOf(t){return yl(t.base_)},setPrototypeOf(){ai(12)}},du={};cu(nv,(t,e)=>{du[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});du.deleteProperty=function(t,e){return du.set.call(this,t,e,void 0)};du.set=function(t,e,r){return nv.set.call(this,t[0],e,r,t[0])};function fm(t,e){const r=t[Cn];return(r?fo(r):t)[e]}function LF(t,e,r){var i;const n=L4(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function L4(t,e){if(!(e in t))return;let r=yl(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=yl(r)}}function vg(t){t.modified_||(t.modified_=!0,t.parent_&&vg(t.parent_))}function mm(t){t.copy_||(t.copy_=fg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kF=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(l=a,...c){return o.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&ai(6),n!==void 0&&typeof n!="function"&&ai(7);let i;if(sa(e)){const a=rx(this),o=yg(e,void 0);let s=!0;try{i=r(o),s=!1}finally{s?mg(a):gg(a)}return tx(a,n),nx(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===A4&&(i=void 0),this.autoFreeze_&&rv(i,!0),n){const a=[],o=[];Zo("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else ai(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,l=>e(l,...s));let n,i;return[this.produce(e,r,(o,s)=>{n=o,i=s}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){sa(t)||ai(8),Za(t)&&(t=k4(t));const e=rx(this),r=yg(t,void 0);return r[Cn].isManual_=!0,gg(e),r}finishDraft(t,e){const r=t&&t[Cn];(!r||!r.isManual_)&&ai(9);const{scope_:n}=r;return tx(n,e),nx(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Zo("Patches").applyPatches_;return Za(t)?n(t,e):this.produce(t,i=>n(i,e))}};function yg(t,e){const r=xf(t)?Zo("MapSet").proxyMap_(t,e):bf(t)?Zo("MapSet").proxySet_(t,e):PF(t,e);return(e?e.scope_:P4()).drafts_.push(r),r}function k4(t){return Za(t)||ai(10,t),D4(t)}function D4(t){if(!sa(t)||_f(t))return t;const e=t[Cn];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=fg(t,e.scope_.immer_.useStrictShallowCopy_)}else r=fg(t,!0);return cu(r,(n,i)=>{R4(r,n,D4(i))}),e&&(e.finalized_=!1),r}var En=new kF,I4=En.produce;En.produceWithPatches.bind(En);En.setAutoFreeze.bind(En);En.setUseStrictShallowCopy.bind(En);En.applyPatches.bind(En);En.createDraft.bind(En);En.finishDraft.bind(En);function DF(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function IF(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function FF(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var ax=t=>Array.isArray(t)?t:[t];function NF(t){const e=Array.isArray(t[0])?t[0]:t;return FF(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function zF(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var OF=class{constructor(t){this.value=t}deref(){return this.value}},BF=typeof WeakRef<"u"?WeakRef:OF,jF=0,ox=1;function gd(){return{s:jF,v:void 0,o:null,p:null}}function iv(t,e={}){let r=gd();const{resultEqualityCheck:n}=e;let i,a=0;function o(){var p;let s=r;const{length:l}=arguments;for(let d=0,g=l;d<g;d++){const m=arguments[d];if(typeof m=="function"||typeof m=="object"&&m!==null){let h=s.o;h===null&&(s.o=h=new WeakMap);const f=h.get(m);f===void 0?(s=gd(),h.set(m,s)):s=f}else{let h=s.p;h===null&&(s.p=h=new Map);const f=h.get(m);f===void 0?(s=gd(),h.set(m,s)):s=f}}const c=s;let u;if(s.s===ox?u=s.v:(u=t.apply(null,arguments),a++),c.s=ox,n){const d=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;d!=null&&n(d,u)&&(u=d,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new BF(u):u}return c.v=u,u}return o.clearCache=()=>{r=gd(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function F4(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,s,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),DF(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:p,memoizeOptions:d=[],argsMemoize:g=iv,argsMemoizeOptions:m=[],devModeChecks:h={}}=u,f=ax(d),v=ax(m),y=NF(i),x=p(function(){return a++,c.apply(null,arguments)},...f),b=g(function(){o++;const _=zF(y,arguments);return s=x.apply(null,_),s},...v);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var $F=F4(iv),UF=Object.assign((t,e=$F)=>{IF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>UF});function N4(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var qF=N4(),VF=N4,HF=(...t)=>{const e=F4(...t),r=Object.assign((...n)=>{const i=e(...n),a=(o,...s)=>i(Za(o)?k4(o):o,...s);return Object.assign(a,i),a},{withTypes:()=>r});return r};HF(iv);var WF=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vp:Vp.apply(null,arguments)};function xl(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>SF(n)&&n.type===t,r}var z4=class gc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,gc.prototype)}static get[Symbol.species](){return gc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new gc(...e[0].concat(this)):new gc(...e.concat(this))}};function sx(t){return sa(t)?I4(t,()=>{}):t}function lx(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(cn(10));const n=r.insert(e,t);return t.set(e,n),n}function GF(t){return typeof t=="boolean"}var ZF=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new z4;return r&&(GF(r)?o.push(qF):o.push(VF(r.extraArgument))),o},XF="RTK_autoBatch",O4=t=>e=>{setTimeout(e,t)},YF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:O4(10),KF=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const s=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?YF:t.type==="callback"?t.queueNotification:O4(t.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const p=()=>i&&u(),d=n.subscribe(p);return s.add(u),()=>{d(),s.delete(u)}},dispatch(u){var p;try{return i=!((p=u==null?void 0:u.meta)!=null&&p[XF]),a=!i,a&&(o||(o=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},QF=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new z4(t);return n&&i.push(KF(typeof n=="object"?n:void 0)),i},JF=!0;function eN(t){const e=ZF(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let s;if(typeof r=="function")s=r;else if(tv(r))s=_F(r);else throw new Error(cn(1));let l;typeof n=="function"?l=n(e):l=e();let c=Vp;i&&(c=WF({trace:!JF,...typeof i=="object"&&i}));const u=wF(...l),p=QF(u);let d=typeof o=="function"?o(p):p();const g=c(...d);return M4(s,a,g)}function B4(t){const e={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(cn(28));if(s in e)throw new Error(cn(29));return e[s]=o,i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function tN(t){return typeof t=="function"}function rN(t,e){let[r,n,i]=B4(e),a;if(tN(t))a=()=>sx(t());else{const s=sx(t);a=()=>s}function o(s=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,p)=>{if(p)if(Za(u)){const g=p(u,l);return g===void 0?u:g}else{if(sa(u))return I4(u,d=>p(d,l));{const d=p(u,l);if(d===void 0){if(u===null)return u;throw new Error(cn(9))}return d}}return u},s)}return o.getInitialState=a,o}var nN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",iN=(t=21)=>{let e="",r=t;for(;r--;)e+=nN[Math.random()*64|0];return e},aN=Symbol.for("rtk-slice-createasyncthunk");function oN(t,e){return`${t}/${e}`}function sN({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[aN];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(cn(11));typeof process<"u";const s=(typeof i.reducers=="function"?i.reducers(uN()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(x,b){const w=typeof x=="string"?x:x.type;if(!w)throw new Error(cn(12));if(w in c.sliceCaseReducersByType)throw new Error(cn(13));return c.sliceCaseReducersByType[w]=b,u},addMatcher(x,b){return c.sliceMatchers.push({matcher:x,reducer:b}),u},exposeAction(x,b){return c.actionCreators[x]=b,u},exposeCaseReducer(x,b){return c.sliceCaseReducersByName[x]=b,u}};l.forEach(x=>{const b=s[x],w={reducerName:x,type:oN(a,x),createNotation:typeof i.reducers=="function"};pN(b)?fN(w,b,u,e):dN(w,b,u)});function p(){const[x={},b=[],w=void 0]=typeof i.extraReducers=="function"?B4(i.extraReducers):[i.extraReducers],_={...x,...c.sliceCaseReducersByType};return rN(i.initialState,C=>{for(let S in _)C.addCase(S,_[S]);for(let S of c.sliceMatchers)C.addMatcher(S.matcher,S.reducer);for(let S of b)C.addMatcher(S.matcher,S.reducer);w&&C.addDefaultCase(w)})}const d=x=>x,g=new Map;let m;function h(x,b){return m||(m=p()),m(x,b)}function f(){return m||(m=p()),m.getInitialState()}function v(x,b=!1){function w(C){let S=C[x];return typeof S>"u"&&b&&(S=f()),S}function _(C=d){const S=lx(g,b,{insert:()=>new WeakMap});return lx(S,C,{insert:()=>{const M={};for(const[T,D]of Object.entries(i.selectors??{}))M[T]=lN(D,C,f,b);return M}})}return{reducerPath:x,getSelectors:_,get selectors(){return _(w)},selectSlice:w}}const y={name:a,reducer:h,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:f,...v(o),injectInto(x,{reducerPath:b,...w}={}){const _=b??o;return x.inject({reducerPath:_,reducer:h},w),{...y,...v(_,!0)}}};return y}}function lN(t,e,r,n){function i(a,...o){let s=e(a);return typeof s>"u"&&n&&(s=r()),t(s,...o)}return i.unwrapped=t,i}var cN=sN();function uN(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function dN({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!hN(n))throw new Error(cn(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?xl(t,o):xl(t))}function pN(t){return t._reducerDefinitionType==="asyncThunk"}function hN(t){return t._reducerDefinitionType==="reducerWithPrepare"}function fN({type:t,reducerName:e},r,n,i){if(!i)throw new Error(cn(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,p=i(t,a,u);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),s&&n.addCase(p.pending,s),l&&n.addCase(p.rejected,l),c&&n.addMatcher(p.settled,c),n.exposeCaseReducer(e,{fulfilled:o||vd,pending:s||vd,rejected:l||vd,settled:c||vd})}function vd(){}var mN=(t,e)=>{if(typeof t!="function")throw new Error(cn(32))},av="listenerMiddleware",gN=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=xl(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(cn(21));return mN(a),{predicate:i,type:e,effect:a}},vN=Object.assign(t=>{const{type:e,predicate:r,effect:n}=gN(t);return{id:iN(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cn(22))}}},{withTypes:()=>vN}),yN=Object.assign(xl(`${av}/add`),{withTypes:()=>yN});xl(`${av}/removeAll`);var xN=Object.assign(xl(`${av}/remove`),{withTypes:()=>xN});function cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var At;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),o={};for(const s of a)o[s]=i[s];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(At||(At={}));var xg;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(xg||(xg={}));const Le=At.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ka=t=>{switch(typeof t){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return isNaN(t)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(t)?Le.array:t===null?Le.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Le.promise:typeof Map<"u"&&t instanceof Map?Le.map:typeof Set<"u"&&t instanceof Set?Le.set:typeof Date<"u"&&t instanceof Date?Le.date:Le.object;default:return Le.unknown}},fe=At.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),bN=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class di extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(r(o))):s[c]=s[c]||{_errors:[]},s=s[c],l++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,At.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}di.create=t=>new di(t);const pu=(t,e)=>{let r;switch(t.code){case fe.invalid_type:t.received===Le.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,At.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:r=`Unrecognized key(s) in object: ${At.joinValues(t.keys,", ")}`;break;case fe.invalid_union:r="Invalid input";break;case fe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${At.joinValues(t.options)}`;break;case fe.invalid_enum_value:r=`Invalid enum value. Expected ${At.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:r="Invalid function arguments";break;case fe.invalid_return_type:r="Invalid function return type";break;case fe.invalid_date:r="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:At.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case fe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case fe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case fe.custom:r="Invalid input";break;case fe.invalid_intersection_types:r="Intersection results could not be merged";break;case fe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:r="Number must be finite";break;default:r=e.defaultError,At.assertNever(t)}return{message:r}};let j4=pu;function _N(t){j4=t}function Gp(){return j4}const Zp=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};let s="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)s=c(o,{data:e,defaultError:s}).message;return{...i,path:a,message:i.message||s}},wN=[];function Ne(t,e){const r=Zp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Gp(),pu].filter(n=>!!n)});t.common.issues.push(r)}class Br{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return st;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Br.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return st;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const st=Object.freeze({status:"aborted"}),$4=t=>({status:"dirty",value:t}),Hr=t=>({status:"valid",value:t}),bg=t=>t.status==="aborted",_g=t=>t.status==="dirty",hu=t=>t.status==="valid",Xp=t=>typeof Promise<"u"&&t instanceof Promise;var Ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ge||(Ge={}));class Ii{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cx=(t,e)=>{if(hu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new di(t.common.issues);return this._error=r,this._error}}};function dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,s)=>o.code!=="invalid_type"?{message:s.defaultError}:typeof s.data>"u"?{message:n??s.defaultError}:{message:r??s.defaultError},description:i}}class ft{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ka(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Br,ctx:{common:e.parent.common,data:e.data,parsedType:ka(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Xp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},a=this._parseSync({data:e,path:i.path,parent:i});return cx(i,a)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ka(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(Xp(i)?i:Promise.resolve(i));return cx(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),s=()=>a.addIssue({code:fe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new mi({schema:this,typeName:Je.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ra.create(this,this._def)}nullable(){return Ko.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return pi.create(this,this._def)}promise(){return _l.create(this,this._def)}or(e){return vu.create([this,e],this._def)}and(e){return yu.create(this,e,this._def)}transform(e){return new mi({...dt(this._def),schema:this,typeName:Je.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Su({...dt(this._def),innerType:this,defaultValue:r,typeName:Je.ZodDefault})}brand(){return new q4({typeName:Je.ZodBranded,type:this,...dt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Jp({...dt(this._def),innerType:this,catchValue:r,typeName:Je.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Ou.create(this,e)}readonly(){return th.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const SN=/^c[^\s-]{8,}$/i,CN=/^[a-z][a-z0-9]*$/,EN=/^[0-9A-HJKMNP-TV-Z]{26}$/,MN=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AN=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,TN="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gm;const RN=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,PN=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,LN=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function kN(t,e){return!!((e==="v4"||!e)&&RN.test(t)||(e==="v6"||!e)&&PN.test(t))}class oi extends ft{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Le.string){const a=this._getOrReturnCtx(e);return Ne(a,{code:fe.invalid_type,expected:Le.string,received:a.parsedType}),st}const n=new Br;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,s=e.data.length<a.value;(o||s)&&(i=this._getOrReturnCtx(e,i),o?Ne(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&Ne(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")AN.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"email",code:fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")gm||(gm=new RegExp(TN,"u")),gm.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"emoji",code:fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")MN.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"uuid",code:fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")SN.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"cuid",code:fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")CN.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"cuid2",code:fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")EN.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"ulid",code:fe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ne(i,{validation:"url",code:fe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"regex",code:fe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?LN(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?kN(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"ip",code:fe.invalid_string,message:a.message}),n.dirty()):At.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:fe.invalid_string,...Ge.errToObj(n)})}_addCheck(e){return new oi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ge.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,...Ge.errToObj(e==null?void 0:e.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ge.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ge.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ge.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ge.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ge.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ge.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ge.errToObj(r)})}nonempty(e){return this.min(1,Ge.errToObj(e))}trim(){return new oi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new oi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new oi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}oi.create=t=>{var e;return new oi({checks:[],typeName:Je.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...dt(t)})};function DN(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Xa extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Le.number){const a=this._getOrReturnCtx(e);return Ne(a,{code:fe.invalid_type,expected:Le.number,received:a.parsedType}),st}let n;const i=new Br;for(const a of this._def.checks)a.kind==="int"?At.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?DN(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.not_finite,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ge.toString(r))}setLimit(e,r,n,i){return new Xa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ge.toString(i)}]})}_addCheck(e){return new Xa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ge.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ge.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&At.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Xa.create=t=>new Xa({checks:[],typeName:Je.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class Ya extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Le.bigint){const a=this._getOrReturnCtx(e);return Ne(a,{code:fe.invalid_type,expected:Le.bigint,received:a.parsedType}),st}let n;const i=new Br;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):At.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ge.toString(r))}setLimit(e,r,n,i){return new Ya({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ge.toString(i)}]})}_addCheck(e){return new Ya({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ge.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ya.create=t=>{var e;return new Ya({checks:[],typeName:Je.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...dt(t)})};class fu extends ft{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Le.boolean){const n=this._getOrReturnCtx(e);return Ne(n,{code:fe.invalid_type,expected:Le.boolean,received:n.parsedType}),st}return Hr(e.data)}}fu.create=t=>new fu({typeName:Je.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...dt(t)});class Xo extends ft{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Le.date){const a=this._getOrReturnCtx(e);return Ne(a,{code:fe.invalid_type,expected:Le.date,received:a.parsedType}),st}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ne(a,{code:fe.invalid_date}),st}const n=new Br;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):At.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xo({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ge.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ge.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Xo.create=t=>new Xo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Je.ZodDate,...dt(t)});class Yp extends ft{_parse(e){if(this._getType(e)!==Le.symbol){const n=this._getOrReturnCtx(e);return Ne(n,{code:fe.invalid_type,expected:Le.symbol,received:n.parsedType}),st}return Hr(e.data)}}Yp.create=t=>new Yp({typeName:Je.ZodSymbol,...dt(t)});class mu extends ft{_parse(e){if(this._getType(e)!==Le.undefined){const n=this._getOrReturnCtx(e);return Ne(n,{code:fe.invalid_type,expected:Le.undefined,received:n.parsedType}),st}return Hr(e.data)}}mu.create=t=>new mu({typeName:Je.ZodUndefined,...dt(t)});class gu extends ft{_parse(e){if(this._getType(e)!==Le.null){const n=this._getOrReturnCtx(e);return Ne(n,{code:fe.invalid_type,expected:Le.null,received:n.parsedType}),st}return Hr(e.data)}}gu.create=t=>new gu({typeName:Je.ZodNull,...dt(t)});class bl extends ft{constructor(){super(...arguments),this._any=!0}_parse(e){return Hr(e.data)}}bl.create=t=>new bl({typeName:Je.ZodAny,...dt(t)});class Io extends ft{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Hr(e.data)}}Io.create=t=>new Io({typeName:Je.ZodUnknown,...dt(t)});class la extends ft{_parse(e){const r=this._getOrReturnCtx(e);return Ne(r,{code:fe.invalid_type,expected:Le.never,received:r.parsedType}),st}}la.create=t=>new la({typeName:Je.ZodNever,...dt(t)});class Kp extends ft{_parse(e){if(this._getType(e)!==Le.undefined){const n=this._getOrReturnCtx(e);return Ne(n,{code:fe.invalid_type,expected:Le.void,received:n.parsedType}),st}return Hr(e.data)}}Kp.create=t=>new Kp({typeName:Je.ZodVoid,...dt(t)});class pi extends ft{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Le.array)return Ne(r,{code:fe.invalid_type,expected:Le.array,received:r.parsedType}),st;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,s=r.data.length<i.exactLength.value;(o||s)&&(Ne(r,{code:o?fe.too_big:fe.too_small,minimum:s?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ne(r,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ne(r,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>i.type._parseAsync(new Ii(r,o,r.path,s)))).then(o=>Br.mergeArray(n,o));const a=[...r.data].map((o,s)=>i.type._parseSync(new Ii(r,o,r.path,s)));return Br.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new pi({...this._def,minLength:{value:e,message:Ge.toString(r)}})}max(e,r){return new pi({...this._def,maxLength:{value:e,message:Ge.toString(r)}})}length(e,r){return new pi({...this._def,exactLength:{value:e,message:Ge.toString(r)}})}nonempty(e){return this.min(1,e)}}pi.create=(t,e)=>new pi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Je.ZodArray,...dt(e)});function Ls(t){if(t instanceof Xt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ra.create(Ls(n))}return new Xt({...t._def,shape:()=>e})}else return t instanceof pi?new pi({...t._def,type:Ls(t.element)}):t instanceof ra?ra.create(Ls(t.unwrap())):t instanceof Ko?Ko.create(Ls(t.unwrap())):t instanceof Fi?Fi.create(t.items.map(e=>Ls(e))):t}class Xt extends ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=At.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Le.object){const c=this._getOrReturnCtx(e);return Ne(c,{code:fe.invalid_type,expected:Le.object,received:c.parsedType}),st}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof la&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||s.push(c);const l=[];for(const c of o){const u=a[c],p=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ii(i,p,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof la){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of s)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")s.length>0&&(Ne(i,{code:fe.unrecognized_keys,keys:s}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of s){const p=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ii(i,p,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const p=await u.key;c.push({key:p,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Br.mergeObjectSync(n,c)):Br.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(e){return Ge.errToObj,new Xt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,a,o,s;const l=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=Ge.errToObj(e).message)!==null&&s!==void 0?s:l}:{message:l}}}:{}})}strip(){return new Xt({...this._def,unknownKeys:"strip"})}passthrough(){return new Xt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Je.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xt({...this._def,catchall:e})}pick(e){const r={};return At.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Xt({...this._def,shape:()=>r})}omit(e){const r={};return At.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Xt({...this._def,shape:()=>r})}deepPartial(){return Ls(this)}partial(e){const r={};return At.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Xt({...this._def,shape:()=>r})}required(e){const r={};return At.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ra;)a=a._def.innerType;r[n]=a}}),new Xt({...this._def,shape:()=>r})}keyof(){return U4(At.objectKeys(this.shape))}}Xt.create=(t,e)=>new Xt({shape:()=>t,unknownKeys:"strip",catchall:la.create(),typeName:Je.ZodObject,...dt(e)});Xt.strictCreate=(t,e)=>new Xt({shape:()=>t,unknownKeys:"strict",catchall:la.create(),typeName:Je.ZodObject,...dt(e)});Xt.lazycreate=(t,e)=>new Xt({shape:t,unknownKeys:"strip",catchall:la.create(),typeName:Je.ZodObject,...dt(e)});class vu extends ft{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const s of a)if(s.result.status==="valid")return s.result;for(const s of a)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(s=>new di(s.ctx.common.issues));return Ne(r,{code:fe.invalid_union,unionErrors:o}),st}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(l=>new di(l));return Ne(r,{code:fe.invalid_union,unionErrors:s}),st}}get options(){return this._def.options}}vu.create=(t,e)=>new vu({options:t,typeName:Je.ZodUnion,...dt(e)});const lp=t=>t instanceof bu?lp(t.schema):t instanceof mi?lp(t.innerType()):t instanceof _u?[t.value]:t instanceof Ka?t.options:t instanceof wu?Object.keys(t.enum):t instanceof Su?lp(t._def.innerType):t instanceof mu?[void 0]:t instanceof gu?[null]:null;class wf extends ft{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.object)return Ne(r,{code:fe.invalid_type,expected:Le.object,received:r.parsedType}),st;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(Ne(r,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),st)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const a of r){const o=lp(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const s of o){if(i.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);i.set(s,a)}}return new wf({typeName:Je.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...dt(n)})}}function wg(t,e){const r=ka(t),n=ka(e);if(t===e)return{valid:!0,data:t};if(r===Le.object&&n===Le.object){const i=At.objectKeys(e),a=At.objectKeys(t).filter(s=>i.indexOf(s)!==-1),o={...t,...e};for(const s of a){const l=wg(t[s],e[s]);if(!l.valid)return{valid:!1};o[s]=l.data}return{valid:!0,data:o}}else if(r===Le.array&&n===Le.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],s=e[a],l=wg(o,s);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Le.date&&n===Le.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yu extends ft{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(bg(a)||bg(o))return st;const s=wg(a.value,o.value);return s.valid?((_g(a)||_g(o))&&r.dirty(),{status:r.value,value:s.data}):(Ne(n,{code:fe.invalid_intersection_types}),st)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}yu.create=(t,e,r)=>new yu({left:t,right:e,typeName:Je.ZodIntersection,...dt(r)});class Fi extends ft{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.array)return Ne(n,{code:fe.invalid_type,expected:Le.array,received:n.parsedType}),st;if(n.data.length<this._def.items.length)return Ne(n,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),st;!this._def.rest&&n.data.length>this._def.items.length&&(Ne(n,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,s)=>{const l=this._def.items[s]||this._def.rest;return l?l._parse(new Ii(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Br.mergeArray(r,o)):Br.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Fi({...this._def,rest:e})}}Fi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fi({items:t,typeName:Je.ZodTuple,rest:null,...dt(e)})};class xu extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.object)return Ne(n,{code:fe.invalid_type,expected:Le.object,received:n.parsedType}),st;const i=[],a=this._def.keyType,o=this._def.valueType;for(const s in n.data)i.push({key:a._parse(new Ii(n,s,n.path,s)),value:o._parse(new Ii(n,n.data[s],n.path,s))});return n.common.async?Br.mergeObjectAsync(r,i):Br.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof ft?new xu({keyType:e,valueType:r,typeName:Je.ZodRecord,...dt(n)}):new xu({keyType:oi.create(),valueType:e,typeName:Je.ZodRecord,...dt(r)})}}class Qp extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.map)return Ne(n,{code:fe.invalid_type,expected:Le.map,received:n.parsedType}),st;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([s,l],c)=>({key:i._parse(new Ii(n,s,n.path,[c,"key"])),value:a._parse(new Ii(n,l,n.path,[c,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return st;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),s.set(c.value,u.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return st;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),s.set(c.value,u.value)}return{status:r.value,value:s}}}}Qp.create=(t,e,r)=>new Qp({valueType:e,keyType:t,typeName:Je.ZodMap,...dt(r)});class Yo extends ft{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Le.set)return Ne(n,{code:fe.invalid_type,expected:Le.set,received:n.parsedType}),st;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ne(n,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ne(n,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return st;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const s=[...n.data.values()].map((l,c)=>a._parse(new Ii(n,l,n.path,c)));return n.common.async?Promise.all(s).then(l=>o(l)):o(s)}min(e,r){return new Yo({...this._def,minSize:{value:e,message:Ge.toString(r)}})}max(e,r){return new Yo({...this._def,maxSize:{value:e,message:Ge.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Yo.create=(t,e)=>new Yo({valueType:t,minSize:null,maxSize:null,typeName:Je.ZodSet,...dt(e)});class nl extends ft{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.function)return Ne(r,{code:fe.invalid_type,expected:Le.function,received:r.parsedType}),st;function n(s,l){return Zp({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gp(),pu].filter(c=>!!c),issueData:{code:fe.invalid_arguments,argumentsError:l}})}function i(s,l){return Zp({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gp(),pu].filter(c=>!!c),issueData:{code:fe.invalid_return_type,returnTypeError:l}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof _l){const s=this;return Hr(async function(...l){const c=new di([]),u=await s._def.args.parseAsync(l,a).catch(g=>{throw c.addIssue(n(l,g)),c}),p=await Reflect.apply(o,this,u);return await s._def.returns._def.type.parseAsync(p,a).catch(g=>{throw c.addIssue(i(p,g)),c})})}else{const s=this;return Hr(function(...l){const c=s._def.args.safeParse(l,a);if(!c.success)throw new di([n(l,c.error)]);const u=Reflect.apply(o,this,c.data),p=s._def.returns.safeParse(u,a);if(!p.success)throw new di([i(u,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nl({...this._def,args:Fi.create(e).rest(Io.create())})}returns(e){return new nl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new nl({args:e||Fi.create([]).rest(Io.create()),returns:r||Io.create(),typeName:Je.ZodFunction,...dt(n)})}}class bu extends ft{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bu.create=(t,e)=>new bu({getter:t,typeName:Je.ZodLazy,...dt(e)});class _u extends ft{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ne(r,{received:r.data,code:fe.invalid_literal,expected:this._def.value}),st}return{status:"valid",value:e.data}}get value(){return this._def.value}}_u.create=(t,e)=>new _u({value:t,typeName:Je.ZodLiteral,...dt(e)});function U4(t,e){return new Ka({values:t,typeName:Je.ZodEnum,...dt(e)})}class Ka extends ft{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ne(r,{expected:At.joinValues(n),received:r.parsedType,code:fe.invalid_type}),st}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return Ne(r,{received:r.data,code:fe.invalid_enum_value,options:n}),st}return Hr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return Ka.create(e)}exclude(e){return Ka.create(this.options.filter(r=>!e.includes(r)))}}Ka.create=U4;class wu extends ft{_parse(e){const r=At.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Le.string&&n.parsedType!==Le.number){const i=At.objectValues(r);return Ne(n,{expected:At.joinValues(i),received:n.parsedType,code:fe.invalid_type}),st}if(r.indexOf(e.data)===-1){const i=At.objectValues(r);return Ne(n,{received:n.data,code:fe.invalid_enum_value,options:i}),st}return Hr(e.data)}get enum(){return this._def.values}}wu.create=(t,e)=>new wu({values:t,typeName:Je.ZodNativeEnum,...dt(e)});class _l extends ft{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Le.promise&&r.common.async===!1)return Ne(r,{code:fe.invalid_type,expected:Le.promise,received:r.parsedType}),st;const n=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return Hr(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_l.create=(t,e)=>new _l({type:t,typeName:Je.ZodPromise,...dt(e)});class mi extends ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Je.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Ne(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(s=>this._def.schema._parseAsync({data:s,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=s=>{const l=i.refinement(s,a);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?st:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?st:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!hu(o))return o;const s=i.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>hu(o)?Promise.resolve(i.transform(o.value,a)).then(s=>({status:r.value,value:s})):o);At.assertNever(i)}}mi.create=(t,e,r)=>new mi({schema:t,typeName:Je.ZodEffects,effect:e,...dt(r)});mi.createWithPreprocess=(t,e,r)=>new mi({schema:e,effect:{type:"preprocess",transform:t},typeName:Je.ZodEffects,...dt(r)});class ra extends ft{_parse(e){return this._getType(e)===Le.undefined?Hr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ra.create=(t,e)=>new ra({innerType:t,typeName:Je.ZodOptional,...dt(e)});class Ko extends ft{_parse(e){return this._getType(e)===Le.null?Hr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ko.create=(t,e)=>new Ko({innerType:t,typeName:Je.ZodNullable,...dt(e)});class Su extends ft{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Su.create=(t,e)=>new Su({innerType:t,typeName:Je.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dt(e)});class Jp extends ft{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Xp(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new di(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Jp.create=(t,e)=>new Jp({innerType:t,typeName:Je.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dt(e)});class eh extends ft{_parse(e){if(this._getType(e)!==Le.nan){const n=this._getOrReturnCtx(e);return Ne(n,{code:fe.invalid_type,expected:Le.nan,received:n.parsedType}),st}return{status:"valid",value:e.data}}}eh.create=t=>new eh({typeName:Je.ZodNaN,...dt(t)});const IN=Symbol("zod_brand");class q4 extends ft{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ou extends ft{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?st:a.status==="dirty"?(r.dirty(),$4(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?st:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new Ou({in:e,out:r,typeName:Je.ZodPipeline})}}class th extends ft{_parse(e){const r=this._def.innerType._parse(e);return hu(r)&&(r.value=Object.freeze(r.value)),r}}th.create=(t,e)=>new th({innerType:t,typeName:Je.ZodReadonly,...dt(e)});const V4=(t,e={},r)=>t?bl.create().superRefine((n,i)=>{var a,o;if(!t(n)){const s=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,l=(o=(a=s.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,c=typeof s=="string"?{message:s}:s;i.addIssue({code:"custom",...c,fatal:l})}}):bl.create(),FN={object:Xt.lazycreate};var Je;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Je||(Je={}));const NN=(t,e={message:`Input not instance of ${t.name}`})=>V4(r=>r instanceof t,e),H4=oi.create,W4=Xa.create,zN=eh.create,ON=Ya.create,G4=fu.create,BN=Xo.create,jN=Yp.create,$N=mu.create,UN=gu.create,qN=bl.create,VN=Io.create,HN=la.create,WN=Kp.create,GN=pi.create,ZN=Xt.create,XN=Xt.strictCreate,YN=vu.create,KN=wf.create,QN=yu.create,JN=Fi.create,ez=xu.create,tz=Qp.create,rz=Yo.create,nz=nl.create,iz=bu.create,az=_u.create,oz=Ka.create,sz=wu.create,lz=_l.create,ux=mi.create,cz=ra.create,uz=Ko.create,dz=mi.createWithPreprocess,pz=Ou.create,hz=()=>H4().optional(),fz=()=>W4().optional(),mz=()=>G4().optional(),gz={string:t=>oi.create({...t,coerce:!0}),number:t=>Xa.create({...t,coerce:!0}),boolean:t=>fu.create({...t,coerce:!0}),bigint:t=>Ya.create({...t,coerce:!0}),date:t=>Xo.create({...t,coerce:!0})},vz=st;var ot=Object.freeze({__proto__:null,defaultErrorMap:pu,setErrorMap:_N,getErrorMap:Gp,makeIssue:Zp,EMPTY_PATH:wN,addIssueToContext:Ne,ParseStatus:Br,INVALID:st,DIRTY:$4,OK:Hr,isAborted:bg,isDirty:_g,isValid:hu,isAsync:Xp,get util(){return At},get objectUtil(){return xg},ZodParsedType:Le,getParsedType:ka,ZodType:ft,ZodString:oi,ZodNumber:Xa,ZodBigInt:Ya,ZodBoolean:fu,ZodDate:Xo,ZodSymbol:Yp,ZodUndefined:mu,ZodNull:gu,ZodAny:bl,ZodUnknown:Io,ZodNever:la,ZodVoid:Kp,ZodArray:pi,ZodObject:Xt,ZodUnion:vu,ZodDiscriminatedUnion:wf,ZodIntersection:yu,ZodTuple:Fi,ZodRecord:xu,ZodMap:Qp,ZodSet:Yo,ZodFunction:nl,ZodLazy:bu,ZodLiteral:_u,ZodEnum:Ka,ZodNativeEnum:wu,ZodPromise:_l,ZodEffects:mi,ZodTransformer:mi,ZodOptional:ra,ZodNullable:Ko,ZodDefault:Su,ZodCatch:Jp,ZodNaN:eh,BRAND:IN,ZodBranded:q4,ZodPipeline:Ou,ZodReadonly:th,custom:V4,Schema:ft,ZodSchema:ft,late:FN,get ZodFirstPartyTypeKind(){return Je},coerce:gz,any:qN,array:GN,bigint:ON,boolean:G4,date:BN,discriminatedUnion:KN,effect:ux,enum:oz,function:nz,instanceof:NN,intersection:QN,lazy:iz,literal:az,map:tz,nan:zN,nativeEnum:sz,never:HN,null:UN,nullable:uz,number:W4,object:ZN,oboolean:mz,onumber:fz,optional:cz,ostring:hz,pipeline:pz,preprocess:dz,promise:lz,record:ez,set:rz,strictObject:XN,string:H4,symbol:jN,transformer:ux,tuple:JN,undefined:$N,union:YN,unknown:VN,void:WN,NEVER:vz,ZodIssueCode:fe,quotelessJson:bN,ZodError:di});const Z4=ot.object({id:ot.string()}),Bu=Z4.extend({nome:ot.string(),descricao:ot.optional(ot.string()).default("")});var X4=(t=>(t.ARMADURA="armadura",t.CAVALO="cavalo",t.ELMO="elmo",t.PROFESSOR="professor",t.PROIBIDO="proibido",t.NORMAL="normal",t))(X4||{}),Y4=(t=>(t.CARPINTARIA="Carpintaria",t))(Y4||{});const dx=Bu.extend({valor:ot.string(),idAtributo:ot.nativeEnum(Y4),modificador:ot.optional(ot.nativeEnum(X4))});var ov=(t=>(t.FORCA="Fora",t))(ov||{});Bu.extend({idAtributo:ot.nativeEnum(ov),valor:ot.string()});var jn=(t=>(t.ANAO="anao",t.ELFO_DOURADO="elfo_dourado",t.ELFO_FLORESTAL="elfo_florestal",t.HUMANO="humano",t.MEIO_ELFO="meio_elfo",t.PEQUENINO="pequenino",t))(jn||{});const yz=Bu.extend({racaId:ot.nativeEnum(jn),aura:ot.number(),peso:ot.number(),modificadores:ot.array(ot.object({idAtributo:ot.nativeEnum(ov),valor:ot.number()}))});var Ei=(t=>(t.BARDO="bardo",t.GUERREIRO="guerreiro",t.LADINO="ladino",t.MAGO="mago",t.RASTREADOR="rastreador",t.SACERDOTE="sacerdote",t))(Ei||{});Bu.extend({ehBasica:ot.boolean(),habilidadeIdAperfeicoada:dx,racasNaoPermitidas:ot.array(yz),pontosAquisicaoHabilidade:ot.number(),cdTipoHabilidadePenalizada:ot.optional(ot.array(dx))});const xz=[{id:"asdf",nome:"Nome 1",profissao:Ei.BARDO,descricao:"",narrador:"narrador fulano",nivel:2,xp:20,raca:jn.ELFO_DOURADO,criacao:new Date,atributos:new Map,habilidades:new Map},{id:"asdf2",nome:"Nome 2",profissao:Ei.MAGO,descricao:"",narrador:"narrador cicrano",nivel:3,xp:30,raca:jn.HUMANO,criacao:new Date,atributos:new Map,habilidades:new Map,isFavorito:!0},{id:"asdf3",nome:"Nome 3",profissao:Ei.GUERREIRO,descricao:"",narrador:"narrador beltrano",nivel:4,xp:40,raca:jn.ANAO,criacao:new Date,atributos:new Map,habilidades:new Map}],K4=cN({name:"fichas",initialState:{list:xz},reducers:t=>({create:t.reducer((e,r)=>{e.list.push(r.payload)}),update:t.reducer((e,r)=>{for(const n of r.payload){const i=e.list.findIndex(a=>a.id===n.id);i>-1&&(e.list[i]=n)}}),delete_:t.reducer((e,r)=>{for(const n of r.payload){const i=e.list.findIndex(a=>a.id===n);i>-1&&e.list.splice(i,1)}})})}),bz=K4.reducer,{create:_z,update:wz,delete_:Sz}=K4.actions,Q4=()=>{const t=mF(),{list:e}=gF(o=>o.fichas);function r(o){t(_z(o))}function n(o){const s=pm(o);return e.filter(l=>s.findIndex(c=>l.id===c)!==-1)}function i(o){t(wz(pm(o)))}function a(o){t(Sz(pm(o)))}return{list:e,read:n,update:i,delete_:a,create:r}},J4=({children:t})=>P.jsx(rn,{variant:"body2",children:t}),Cz=()=>{const{list:t}=Q4();return P.jsxs(K1,{children:[P.jsx(sp,{children:P.jsx(dg,{primary:"Tagmar"})}),P.jsx(cg,{}),P.jsxs(sp,{children:[P.jsx(lg,{children:"F"}),P.jsx(dg,{primary:"Fulano de tal"})]}),P.jsx(sp,{children:P.jsx(p4,{children:P.jsxs(J4,{children:["fulano@gmail.com - ",t.length," fichas"]})})})]})},Ez=[{text:"Fichas",icon:uF,path:tr.FICHAS},{text:"Ficha atual",icon:dF,path:tr.FICHA},{text:"Dado",icon:iF,path:tr.DADO},{text:"Magias",icon:nF,path:tr.MAGIAS},{text:"Habilidades",icon:fF,path:tr.HABILIDADES},{text:"Mapas",icon:cF,path:tr.MAPAS}],Mz=[{text:"Configuraes",icon:hF,path:tr.CONFIGURACOES},{text:"Sobre",icon:lF,path:tr.SOBRE}],px=({list:t})=>{const{pathname:e}=rs(),r=e;return P.jsx(K1,{children:t.map(({text:n,icon:i,path:a})=>(console.log(a,r),P.jsx(sp,{children:P.jsxs(p4,{component:p6,to:a,disabled:a===r,children:[P.jsx(pD,{children:P.jsx(i,{})}),P.jsx(dg,{primary:n})]})},n)))})},hx=()=>P.jsxs(P.Fragment,{children:[P.jsx(Cz,{}),P.jsx(cg,{}),P.jsx(px,{list:Ez}),P.jsx(cg,{}),P.jsx(px,{list:Mz})]}),Az={width:{sm:lu},flexShrink:{sm:0}},eS={boxSizing:"border-box",width:lu},Tz={display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":eS},Rz={display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":eS},Pz=()=>{const[t,e]=E.useState(!1),[r,n]=E.useState(!1),i=()=>{e(!0),n(!1)},a=()=>{e(!1)},o=()=>{t||n(!r)};return P.jsxs(qr,{onClick:o,children:[P.jsx(kP,{}),P.jsx(rF,{onMenu:o}),P.jsxs(qr,{sx:Az,children:[P.jsx(N2,{variant:"temporary",open:r,onTransitionEnd:a,onClose:i,ModalProps:{keepMounted:!0},sx:Tz,children:P.jsx(hx,{})}),P.jsx(N2,{variant:"permanent",sx:Rz,open:!0,children:P.jsx(hx,{})})]})]})},Lz={flexGrow:1,width:{sm:`calc(100% - ${lu}px)`}};function kz(){return P.jsx(qr,{sx:{display:"flex",flexFlow:"column"},children:P.jsxs(qr,{sx:{display:"flex"},children:[P.jsx(Pz,{}),P.jsxs(qr,{sx:Lz,height:"100vh",display:"flex",component:"main",flexDirection:"column",children:[P.jsx(w4,{}),P.jsx(qr,{sx:{flex:1,display:"flex"},children:P.jsx(HM,{})})]})]})})}const gi=({children:t,bg:e})=>P.jsx(qr,{sx:{flex:1,display:"flex",backgroundImage:e,flexDirection:"column",backgroundSize:"cover",padding:GI.padding.page,backgroundRepeat:"no-repeat"},children:t});var C3,E3;const fx={backgroundColor:(E3=(C3=vf.palette)==null?void 0:C3.background)==null?void 0:E3.paper,borderRadius:10,justifyContent:"space-between",paddingLeft:"16px"},Dz=()=>{const[t,e]=E.useState({magiaExata:!0,agruparMagias:!1}),r=n=>{e({...t,[n.target.name]:n.target.checked})};return P.jsx(gi,{children:P.jsxs(Y1,{component:"fieldset",variant:"standard",children:[P.jsx(a4,{component:"legend",children:"Ainda no funcional"}),P.jsxs(TL,{sx:{maxWidth:400,gap:"10px",paddingTop:"20px"},children:[P.jsx(z2,{sx:fx,labelPlacement:"start",control:P.jsx(K2,{checked:t.magiaExata,onChange:r,name:"magiaExata"}),label:"Buscar magias pelo nome exato"}),P.jsx(z2,{sx:fx,labelPlacement:"start",control:P.jsx(K2,{checked:t.agruparMagias,onChange:r,name:"agruparMagias"}),label:"Agrupar magias"})]})]})})};var Iz=Object.defineProperty,Fz=(t,e,r)=>e in t?Iz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nz=(t,e,r)=>(Fz(t,typeof e!="symbol"?e+"":e,r),r);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const sv="143",Xi="srgb",Mo="srgb-linear",mx="300 es";class Rl{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(r)===-1&&n[e].push(r)}hasEventListener(e,r){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(r)!==-1}removeEventListener(e,r){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const n=r.slice(0);for(let i=0,a=n.length;i<a;i++)n[i].call(this,e);e.target=null}}}const Dr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],vm=Math.PI/180,Sg=180/Math.PI;function ju(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,r=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Dr[t&255]+Dr[t>>8&255]+Dr[t>>16&255]+Dr[t>>24&255]+"-"+Dr[e&255]+Dr[e>>8&255]+"-"+Dr[e>>16&15|64]+Dr[e>>24&255]+"-"+Dr[r&63|128]+Dr[r>>8&255]+"-"+Dr[r>>16&255]+Dr[r>>24&255]+Dr[n&255]+Dr[n>>8&255]+Dr[n>>16&255]+Dr[n>>24&255]).toLowerCase()}function gn(t,e,r){return Math.max(e,Math.min(r,t))}function zz(t,e){return(t%e+e)%e}function ym(t,e,r){return(1-r)*t+r*e}function gx(t){return(t&t-1)===0&&t!==0}function Cg(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}class Ct{constructor(e=0,r=0){Ct.prototype.isVector2=!0,this.x=e,this.y=r}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,r){return this.x=e,this.y=r,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const r=this.x,n=this.y,i=e.elements;return this.x=i[0]*r+i[3]*n+i[6],this.y=i[1]*r+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,n=this.y-e.y;return r*r+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this}rotateAround(e,r){const n=Math.cos(r),i=Math.sin(r),a=this.x-e.x,o=this.y-e.y;return this.x=a*n-o*i+e.x,this.y=a*i+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qn{constructor(){qn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,r,n,i,a,o,s,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=s,u[3]=r,u[4]=a,u[5]=l,u[6]=n,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const r=this.elements,n=e.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],this}extractBasis(e,r,n){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const r=e.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const n=e.elements,i=r.elements,a=this.elements,o=n[0],s=n[3],l=n[6],c=n[1],u=n[4],p=n[7],d=n[2],g=n[5],m=n[8],h=i[0],f=i[3],v=i[6],y=i[1],x=i[4],b=i[7],w=i[2],_=i[5],C=i[8];return a[0]=o*h+s*y+l*w,a[3]=o*f+s*x+l*_,a[6]=o*v+s*b+l*C,a[1]=c*h+u*y+p*w,a[4]=c*f+u*x+p*_,a[7]=c*v+u*b+p*C,a[2]=d*h+g*y+m*w,a[5]=d*f+g*x+m*_,a[8]=d*v+g*b+m*C,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this}determinant(){const e=this.elements,r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return r*o*u-r*s*c-n*a*u+n*s*l+i*a*c-i*o*l}invert(){const e=this.elements,r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],p=u*o-s*c,d=s*l-u*a,g=c*a-o*l,m=r*p+n*d+i*g;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const h=1/m;return e[0]=p*h,e[1]=(i*c-u*n)*h,e[2]=(s*n-i*o)*h,e[3]=d*h,e[4]=(u*r-i*l)*h,e[5]=(i*a-s*r)*h,e[6]=g*h,e[7]=(n*l-c*r)*h,e[8]=(o*r-n*a)*h,this}transpose(){let e;const r=this.elements;return e=r[1],r[1]=r[3],r[3]=e,e=r[2],r[2]=r[6],r[6]=e,e=r[5],r[5]=r[7],r[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this}setUvTransform(e,r,n,i,a,o,s){const l=Math.cos(a),c=Math.sin(a);return this.set(n*l,n*c,-n*(l*o+c*s)+o+e,-i*c,i*l,-i*(-c*o+l*s)+s+r,0,0,1),this}scale(e,r){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=r,n[4]*=r,n[7]*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.elements,a=i[0],o=i[3],s=i[6],l=i[1],c=i[4],u=i[7];return i[0]=r*a+n*l,i[3]=r*o+n*c,i[6]=r*s+n*u,i[1]=-n*a+r*l,i[4]=-n*o+r*c,i[7]=-n*s+r*u,this}translate(e,r){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=r*n[2],n[4]+=r*n[5],n[7]+=r*n[8],this}equals(e){const r=this.elements,n=e.elements;for(let i=0;i<9;i++)if(r[i]!==n[i])return!1;return!0}fromArray(e,r=0){for(let n=0;n<9;n++)this.elements[n]=e[n+r];return this}toArray(e=[],r=0){const n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function tS(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}function rh(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Fo(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function cp(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const xm={[Xi]:{[Mo]:Fo},[Mo]:{[Xi]:cp}},Yn={legacyMode:!0,get workingColorSpace(){return Mo},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,r){if(this.legacyMode||e===r||!e||!r)return t;if(xm[e]&&xm[e][r]!==void 0){const n=xm[e][r];return t.r=n(t.r),t.g=n(t.g),t.b=n(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},rS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},gr={r:0,g:0,b:0},Kn={h:0,s:0,l:0},yd={h:0,s:0,l:0};function bm(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*6*(2/3-r):t}function xd(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class St{constructor(e,r,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,r===void 0&&n===void 0?this.set(e):this.setRGB(e,r,n)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,r=Xi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Yn.toWorkingColorSpace(this,r),this}setRGB(e,r,n,i=Mo){return this.r=e,this.g=r,this.b=n,Yn.toWorkingColorSpace(this,i),this}setHSL(e,r,n,i=Mo){if(e=zz(e,1),r=gn(r,0,1),n=gn(n,0,1),r===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+r):n+r-n*r,o=2*n-a;this.r=bm(o,a,e+1/3),this.g=bm(o,a,e),this.b=bm(o,a,e-1/3)}return Yn.toWorkingColorSpace(this,i),this}setStyle(e,r=Xi){function n(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,Yn.toWorkingColorSpace(this,r),n(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,Yn.toWorkingColorSpace(this,r),n(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){const l=parseFloat(a[1])/360,c=parseInt(a[2],10)/100,u=parseInt(a[3],10)/100;return n(a[4]),this.setHSL(l,c,u,r)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,Yn.toWorkingColorSpace(this,r),this;if(o===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,Yn.toWorkingColorSpace(this,r),this}return e&&e.length>0?this.setColorName(e,r):this}setColorName(e,r=Xi){const n=rS[e.toLowerCase()];return n!==void 0?this.setHex(n,r):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Fo(e.r),this.g=Fo(e.g),this.b=Fo(e.b),this}copyLinearToSRGB(e){return this.r=cp(e.r),this.g=cp(e.g),this.b=cp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Xi){return Yn.fromWorkingColorSpace(xd(this,gr),e),gn(gr.r*255,0,255)<<16^gn(gr.g*255,0,255)<<8^gn(gr.b*255,0,255)<<0}getHexString(e=Xi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,r=Mo){Yn.fromWorkingColorSpace(xd(this,gr),r);const n=gr.r,i=gr.g,a=gr.b,o=Math.max(n,i,a),s=Math.min(n,i,a);let l,c;const u=(s+o)/2;if(s===o)l=0,c=0;else{const p=o-s;switch(c=u<=.5?p/(o+s):p/(2-o-s),o){case n:l=(i-a)/p+(i<a?6:0);break;case i:l=(a-n)/p+2;break;case a:l=(n-i)/p+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,r=Mo){return Yn.fromWorkingColorSpace(xd(this,gr),r),e.r=gr.r,e.g=gr.g,e.b=gr.b,e}getStyle(e=Xi){return Yn.fromWorkingColorSpace(xd(this,gr),e),e!==Xi?`color(${e} ${gr.r} ${gr.g} ${gr.b})`:`rgb(${gr.r*255|0},${gr.g*255|0},${gr.b*255|0})`}offsetHSL(e,r,n){return this.getHSL(Kn),Kn.h+=e,Kn.s+=r,Kn.l+=n,this.setHSL(Kn.h,Kn.s,Kn.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this}lerpColors(e,r,n){return this.r=e.r+(r.r-e.r)*n,this.g=e.g+(r.g-e.g)*n,this.b=e.b+(r.b-e.b)*n,this}lerpHSL(e,r){this.getHSL(Kn),e.getHSL(yd);const n=ym(Kn.h,yd.h,r),i=ym(Kn.s,yd.s,r),a=ym(Kn.l,yd.l,r);return this.setHSL(n,i,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,r=0){return this.r=e[r],this.g=e[r+1],this.b=e[r+2],this}toArray(e=[],r=0){return e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e}fromBufferAttribute(e,r){return this.r=e.getX(r),this.g=e.getY(r),this.b=e.getZ(r),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}St.NAMES=rS;let ps;class nS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{ps===void 0&&(ps=rh("canvas")),ps.width=e.width,ps.height=e.height;const n=ps.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),r=ps}return r.width>2048||r.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),r.toDataURL("image/jpeg",.6)):r.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const r=rh("canvas");r.width=e.width,r.height=e.height;const n=r.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Fo(a[o]/255)*255;return n.putImageData(i,0,0),r}else if(e.data){const r=e.data.slice(0);for(let n=0;n<r.length;n++)r instanceof Uint8Array||r instanceof Uint8ClampedArray?r[n]=Math.floor(Fo(r[n]/255)*255):r[n]=Fo(r[n]);return{data:r,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class iS{constructor(e=null){this.isSource=!0,this.uuid=ju(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(_m(i[o].image)):a.push(_m(i[o]))}else a=_m(i);n.url=a}return r||(e.images[this.uuid]=n),n}}function _m(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?nS.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Oz=0;class Mn extends Rl{constructor(e=Mn.DEFAULT_IMAGE,r=Mn.DEFAULT_MAPPING,n=1001,i=1001,a=1006,o=1008,s=1023,l=1009,c=1,u=3e3){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Oz++}),this.uuid=ju(),this.name="",this.source=new iS(e),this.mipmaps=[],this.mapping=r,this.wrapS=n,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ct(0,0),this.repeat=new Ct(1,1),this.center=new Ct(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData),r||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Mn.DEFAULT_IMAGE=null;Mn.DEFAULT_MAPPING=300;class br{constructor(e=0,r=0,n=0,i=1){br.prototype.isVector4=!0,this.x=e,this.y=r,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,r,n,i){return this.x=e,this.y=r,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const r=this.x,n=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*r+o[4]*n+o[8]*i+o[12]*a,this.y=o[1]*r+o[5]*n+o[9]*i+o[13]*a,this.z=o[2]*r+o[6]*n+o[10]*i+o[14]*a,this.w=o[3]*r+o[7]*n+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const r=Math.sqrt(1-e.w*e.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this}setAxisAngleFromRotationMatrix(e){let r,n,i,a;const o=e.elements,s=o[0],l=o[4],c=o[8],u=o[1],p=o[5],d=o[9],g=o[2],m=o[6],h=o[10];if(Math.abs(l-u)<.01&&Math.abs(c-g)<.01&&Math.abs(d-m)<.01){if(Math.abs(l+u)<.1&&Math.abs(c+g)<.1&&Math.abs(d+m)<.1&&Math.abs(s+p+h-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;const v=(s+1)/2,y=(p+1)/2,x=(h+1)/2,b=(l+u)/4,w=(c+g)/4,_=(d+m)/4;return v>y&&v>x?v<.01?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(v),i=b/n,a=w/n):y>x?y<.01?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(y),n=b/i,a=_/i):x<.01?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(x),n=w/a,i=_/a),this.set(n,i,a,r),this}let f=Math.sqrt((m-d)*(m-d)+(c-g)*(c-g)+(u-l)*(u-l));return Math.abs(f)<.001&&(f=1),this.x=(m-d)/f,this.y=(c-g)/f,this.z=(u-l)/f,this.w=Math.acos((s+p+h-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this.z=e.z+(r.z-e.z)*n,this.w=e.w+(r.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Qo extends Rl{constructor(e,r,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=r,this.depth=1,this.scissor=new br(0,0,e,r),this.scissorTest=!1,this.viewport=new br(0,0,e,r);const i={width:e,height:r,depth:1};this.texture=new Mn(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.internalFormat=n.internalFormat!==void 0?n.internalFormat:null,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:1006,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!1,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null,this.samples=n.samples!==void 0?n.samples:0}setSize(e,r,n=1){(this.width!==e||this.height!==r||this.depth!==n)&&(this.width=e,this.height=r,this.depth=n,this.texture.image.width=e,this.texture.image.height=r,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const r=Object.assign({},e.texture.image);return this.texture.source=new iS(r),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class aS extends Mn{constructor(e=null,r=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:r,height:n,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Bz extends Mn{constructor(e=null,r=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:r,height:n,depth:i},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $u{constructor(e=0,r=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=r,this._z=n,this._w=i}static slerpFlat(e,r,n,i,a,o,s){let l=n[i+0],c=n[i+1],u=n[i+2],p=n[i+3];const d=a[o+0],g=a[o+1],m=a[o+2],h=a[o+3];if(s===0){e[r+0]=l,e[r+1]=c,e[r+2]=u,e[r+3]=p;return}if(s===1){e[r+0]=d,e[r+1]=g,e[r+2]=m,e[r+3]=h;return}if(p!==h||l!==d||c!==g||u!==m){let f=1-s;const v=l*d+c*g+u*m+p*h,y=v>=0?1:-1,x=1-v*v;if(x>Number.EPSILON){const w=Math.sqrt(x),_=Math.atan2(w,v*y);f=Math.sin(f*_)/w,s=Math.sin(s*_)/w}const b=s*y;if(l=l*f+d*b,c=c*f+g*b,u=u*f+m*b,p=p*f+h*b,f===1-s){const w=1/Math.sqrt(l*l+c*c+u*u+p*p);l*=w,c*=w,u*=w,p*=w}}e[r]=l,e[r+1]=c,e[r+2]=u,e[r+3]=p}static multiplyQuaternionsFlat(e,r,n,i,a,o){const s=n[i],l=n[i+1],c=n[i+2],u=n[i+3],p=a[o],d=a[o+1],g=a[o+2],m=a[o+3];return e[r]=s*m+u*p+l*g-c*d,e[r+1]=l*m+u*d+c*p-s*g,e[r+2]=c*m+u*g+s*d-l*p,e[r+3]=u*m-s*p-l*d-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,r,n,i){return this._x=e,this._y=r,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,r){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,c=s(n/2),u=s(i/2),p=s(a/2),d=l(n/2),g=l(i/2),m=l(a/2);switch(o){case"XYZ":this._x=d*u*p+c*g*m,this._y=c*g*p-d*u*m,this._z=c*u*m+d*g*p,this._w=c*u*p-d*g*m;break;case"YXZ":this._x=d*u*p+c*g*m,this._y=c*g*p-d*u*m,this._z=c*u*m-d*g*p,this._w=c*u*p+d*g*m;break;case"ZXY":this._x=d*u*p-c*g*m,this._y=c*g*p+d*u*m,this._z=c*u*m+d*g*p,this._w=c*u*p-d*g*m;break;case"ZYX":this._x=d*u*p-c*g*m,this._y=c*g*p+d*u*m,this._z=c*u*m-d*g*p,this._w=c*u*p+d*g*m;break;case"YZX":this._x=d*u*p+c*g*m,this._y=c*g*p+d*u*m,this._z=c*u*m-d*g*p,this._w=c*u*p-d*g*m;break;case"XZY":this._x=d*u*p-c*g*m,this._y=c*g*p-d*u*m,this._z=c*u*m+d*g*p,this._w=c*u*p+d*g*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return r!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,r){const n=r/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const r=e.elements,n=r[0],i=r[4],a=r[8],o=r[1],s=r[5],l=r[9],c=r[2],u=r[6],p=r[10],d=n+s+p;if(d>0){const g=.5/Math.sqrt(d+1);this._w=.25/g,this._x=(u-l)*g,this._y=(a-c)*g,this._z=(o-i)*g}else if(n>s&&n>p){const g=2*Math.sqrt(1+n-s-p);this._w=(u-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(a+c)/g}else if(s>p){const g=2*Math.sqrt(1+s-n-p);this._w=(a-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+u)/g}else{const g=2*Math.sqrt(1+p-n-s);this._w=(o-i)/g,this._x=(a+c)/g,this._y=(l+u)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,r){let n=e.dot(r)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(gn(this.dot(e),-1,1)))}rotateTowards(e,r){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,r/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,r){const n=e._x,i=e._y,a=e._z,o=e._w,s=r._x,l=r._y,c=r._z,u=r._w;return this._x=n*u+o*s+i*c-a*l,this._y=i*u+o*l+a*s-n*c,this._z=a*u+o*c+n*l-i*s,this._w=o*u-n*s-i*l-a*c,this._onChangeCallback(),this}slerp(e,r){if(r===0)return this;if(r===1)return this.copy(e);const n=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+n*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const g=1-r;return this._w=g*o+r*this._w,this._x=g*n+r*this._x,this._y=g*i+r*this._y,this._z=g*a+r*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,s),p=Math.sin((1-r)*u)/c,d=Math.sin(r*u)/c;return this._w=o*p+this._w*d,this._x=n*p+this._x*d,this._y=i*p+this._y*d,this._z=a*p+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,r,n){return this.copy(e).slerp(r,n)}random(){const e=Math.random(),r=Math.sqrt(1-e),n=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(r*Math.cos(i),n*Math.sin(a),n*Math.cos(a),r*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,r=0){return this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e}fromBufferAttribute(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(e=0,r=0,n=0){K.prototype.isVector3=!0,this.x=e,this.y=r,this.z=n}set(e,r,n){return n===void 0&&(n=this.z),this.x=e,this.y=r,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this}addScaledVector(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this}applyEuler(e){return this.applyQuaternion(vx.setFromEuler(e))}applyAxisAngle(e,r){return this.applyQuaternion(vx.setFromAxisAngle(e,r))}applyMatrix3(e){const r=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*r+a[3]*n+a[6]*i,this.y=a[1]*r+a[4]*n+a[7]*i,this.z=a[2]*r+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const r=this.x,n=this.y,i=this.z,a=e.elements,o=1/(a[3]*r+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*r+a[4]*n+a[8]*i+a[12])*o,this.y=(a[1]*r+a[5]*n+a[9]*i+a[13])*o,this.z=(a[2]*r+a[6]*n+a[10]*i+a[14])*o,this}applyQuaternion(e){const r=this.x,n=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,c=l*r+o*i-s*n,u=l*n+s*r-a*i,p=l*i+a*n-o*r,d=-a*r-o*n-s*i;return this.x=c*l+d*-a+u*-s-p*-o,this.y=u*l+d*-o+p*-a-c*-s,this.z=p*l+d*-s+c*-o-u*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const r=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*r+a[4]*n+a[8]*i,this.y=a[1]*r+a[5]*n+a[9]*i,this.z=a[2]*r+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this}clampScalar(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this}clampLength(e,r){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this}lerpVectors(e,r,n){return this.x=e.x+(r.x-e.x)*n,this.y=e.y+(r.y-e.y)*n,this.z=e.z+(r.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,r){const n=e.x,i=e.y,a=e.z,o=r.x,s=r.y,l=r.z;return this.x=i*l-a*s,this.y=a*o-n*l,this.z=n*s-i*o,this}projectOnVector(e){const r=e.lengthSq();if(r===0)return this.set(0,0,0);const n=e.dot(this)/r;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return wm.copy(this).projectOnVector(e),this.sub(wm)}reflect(e){return this.sub(wm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const r=Math.sqrt(this.lengthSq()*e.lengthSq());if(r===0)return Math.PI/2;const n=this.dot(e)/r;return Math.acos(gn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const r=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return r*r+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,r,n){const i=Math.sin(r)*e;return this.x=i*Math.sin(n),this.y=Math.cos(r)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,r,n){return this.x=e*Math.sin(r),this.y=n,this.z=e*Math.cos(r),this}setFromMatrixPosition(e){const r=e.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(e){const r=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=r,this.y=n,this.z=i,this}setFromMatrixColumn(e,r){return this.fromArray(e.elements,r*4)}setFromMatrix3Column(e,r){return this.fromArray(e.elements,r*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,r=0){return this.x=e[r],this.y=e[r+1],this.z=e[r+2],this}toArray(e=[],r=0){return e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e}fromBufferAttribute(e,r){return this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(r),this.y=n*Math.sin(r),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const wm=new K,vx=new $u;class Uu{constructor(e=new K(1/0,1/0,1/0),r=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=r}set(e,r){return this.min.copy(e),this.max.copy(r),this}setFromArray(e){let r=1/0,n=1/0,i=1/0,a=-1/0,o=-1/0,s=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],p=e[l+1],d=e[l+2];u<r&&(r=u),p<n&&(n=p),d<i&&(i=d),u>a&&(a=u),p>o&&(o=p),d>s&&(s=d)}return this.min.set(r,n,i),this.max.set(a,o,s),this}setFromBufferAttribute(e){let r=1/0,n=1/0,i=1/0,a=-1/0,o=-1/0,s=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),p=e.getY(l),d=e.getZ(l);u<r&&(r=u),p<n&&(n=p),d<i&&(i=d),u>a&&(a=u),p>o&&(o=p),d>s&&(s=d)}return this.min.set(r,n,i),this.max.set(a,o,s),this}setFromPoints(e){this.makeEmpty();for(let r=0,n=e.length;r<n;r++)this.expandByPoint(e[r]);return this}setFromCenterAndSize(e,r){const n=ao.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,r=!1){return this.makeEmpty(),this.expandByObject(e,r)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,r=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0)if(r&&n.attributes!=null&&n.attributes.position!==void 0){const a=n.attributes.position;for(let o=0,s=a.count;o<s;o++)ao.fromBufferAttribute(a,o).applyMatrix4(e.matrixWorld),this.expandByPoint(ao)}else n.boundingBox===null&&n.computeBoundingBox(),Sm.copy(n.boundingBox),Sm.applyMatrix4(e.matrixWorld),this.union(Sm);const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],r);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,r){return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ao),ao.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let r,n;return e.normal.x>0?(r=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(r=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(r+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(r+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),r<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tc),bd.subVectors(this.max,tc),hs.subVectors(e.a,tc),fs.subVectors(e.b,tc),ms.subVectors(e.c,tc),ya.subVectors(fs,hs),xa.subVectors(ms,fs),oo.subVectors(hs,ms);let r=[0,-ya.z,ya.y,0,-xa.z,xa.y,0,-oo.z,oo.y,ya.z,0,-ya.x,xa.z,0,-xa.x,oo.z,0,-oo.x,-ya.y,ya.x,0,-xa.y,xa.x,0,-oo.y,oo.x,0];return!Cm(r,hs,fs,ms,bd)||(r=[1,0,0,0,1,0,0,0,1],!Cm(r,hs,fs,ms,bd))?!1:(_d.crossVectors(ya,xa),r=[_d.x,_d.y,_d.z],Cm(r,hs,fs,ms,bd))}clampPoint(e,r){return r.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ao.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ao).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Oi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Oi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Oi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Oi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Oi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Oi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Oi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Oi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Oi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Oi=[new K,new K,new K,new K,new K,new K,new K,new K],ao=new K,Sm=new Uu,hs=new K,fs=new K,ms=new K,ya=new K,xa=new K,oo=new K,tc=new K,bd=new K,_d=new K,so=new K;function Cm(t,e,r,n,i){for(let a=0,o=t.length-3;a<=o;a+=3){so.fromArray(t,a);const s=i.x*Math.abs(so.x)+i.y*Math.abs(so.y)+i.z*Math.abs(so.z),l=e.dot(so),c=r.dot(so),u=n.dot(so);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}const jz=new Uu,yx=new K,wd=new K,Em=new K;class Cu{constructor(e=new K,r=-1){this.center=e,this.radius=r}set(e,r){return this.center.copy(e),this.radius=r,this}setFromPoints(e,r){const n=this.center;r!==void 0?n.copy(r):jz.setFromPoints(e).getCenter(n);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,r){const n=this.center.distanceToSquared(e);return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Em.subVectors(e,this.center);const r=Em.lengthSq();if(r>this.radius*this.radius){const n=Math.sqrt(r),i=(n-this.radius)*.5;this.center.add(Em.multiplyScalar(i/n)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?wd.set(0,0,1).multiplyScalar(e.radius):wd.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(yx.copy(e.center).add(wd)),this.expandByPoint(yx.copy(e.center).sub(wd)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Bi=new K,Mm=new K,Sd=new K,ba=new K,Am=new K,Cd=new K,Tm=new K;class $z{constructor(e=new K,r=new K(0,0,-1)){this.origin=e,this.direction=r}set(e,r){return this.origin.copy(e),this.direction.copy(r),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,r){return r.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Bi)),this}closestPointToPoint(e,r){r.subVectors(e,this.origin);const n=r.dot(this.direction);return n<0?r.copy(this.origin):r.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const r=Bi.subVectors(e,this.origin).dot(this.direction);return r<0?this.origin.distanceToSquared(e):(Bi.copy(this.direction).multiplyScalar(r).add(this.origin),Bi.distanceToSquared(e))}distanceSqToSegment(e,r,n,i){Mm.copy(e).add(r).multiplyScalar(.5),Sd.copy(r).sub(e).normalize(),ba.copy(this.origin).sub(Mm);const a=e.distanceTo(r)*.5,o=-this.direction.dot(Sd),s=ba.dot(this.direction),l=-ba.dot(Sd),c=ba.lengthSq(),u=Math.abs(1-o*o);let p,d,g,m;if(u>0)if(p=o*l-s,d=o*s-l,m=a*u,p>=0)if(d>=-m)if(d<=m){const h=1/u;p*=h,d*=h,g=p*(p+o*d+2*s)+d*(o*p+d+2*l)+c}else d=a,p=Math.max(0,-(o*d+s)),g=-p*p+d*(d+2*l)+c;else d=-a,p=Math.max(0,-(o*d+s)),g=-p*p+d*(d+2*l)+c;else d<=-m?(p=Math.max(0,-(-o*a+s)),d=p>0?-a:Math.min(Math.max(-a,-l),a),g=-p*p+d*(d+2*l)+c):d<=m?(p=0,d=Math.min(Math.max(-a,-l),a),g=d*(d+2*l)+c):(p=Math.max(0,-(o*a+s)),d=p>0?a:Math.min(Math.max(-a,-l),a),g=-p*p+d*(d+2*l)+c);else d=o>0?-a:a,p=Math.max(0,-(o*d+s)),g=-p*p+d*(d+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(p).add(this.origin),i&&i.copy(Sd).multiplyScalar(d).add(Mm),g}intersectSphere(e,r){Bi.subVectors(e.center,this.origin);const n=Bi.dot(this.direction),i=Bi.dot(Bi)-n*n,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=n-o,l=n+o;return s<0&&l<0?null:s<0?this.at(l,r):this.at(s,r)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const r=e.normal.dot(this.direction);if(r===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/r;return n>=0?n:null}intersectPlane(e,r){const n=this.distanceToPlane(e);return n===null?null:this.at(n,r)}intersectsPlane(e){const r=e.distanceToPoint(this.origin);return r===0||e.normal.dot(this.direction)*r<0}intersectBox(e,r){let n,i,a,o,s,l;const c=1/this.direction.x,u=1/this.direction.y,p=1/this.direction.z,d=this.origin;return c>=0?(n=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(n=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(a=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(a=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),n>o||a>i||((a>n||n!==n)&&(n=a),(o<i||i!==i)&&(i=o),p>=0?(s=(e.min.z-d.z)*p,l=(e.max.z-d.z)*p):(s=(e.max.z-d.z)*p,l=(e.min.z-d.z)*p),n>l||s>i)||((s>n||n!==n)&&(n=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(n>=0?n:i,r)}intersectsBox(e){return this.intersectBox(e,Bi)!==null}intersectTriangle(e,r,n,i,a){Am.subVectors(r,e),Cd.subVectors(n,e),Tm.crossVectors(Am,Cd);let o=this.direction.dot(Tm),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;ba.subVectors(this.origin,e);const l=s*this.direction.dot(Cd.crossVectors(ba,Cd));if(l<0)return null;const c=s*this.direction.dot(Am.cross(ba));if(c<0||l+c>o)return null;const u=-s*ba.dot(Tm);return u<0?null:this.at(u/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _r{constructor(){_r.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,r,n,i,a,o,s,l,c,u,p,d,g,m,h,f){const v=this.elements;return v[0]=e,v[4]=r,v[8]=n,v[12]=i,v[1]=a,v[5]=o,v[9]=s,v[13]=l,v[2]=c,v[6]=u,v[10]=p,v[14]=d,v[3]=g,v[7]=m,v[11]=h,v[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _r().fromArray(this.elements)}copy(e){const r=this.elements,n=e.elements;return r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this}copyPosition(e){const r=this.elements,n=e.elements;return r[12]=n[12],r[13]=n[13],r[14]=n[14],this}setFromMatrix3(e){const r=e.elements;return this.set(r[0],r[3],r[6],0,r[1],r[4],r[7],0,r[2],r[5],r[8],0,0,0,0,1),this}extractBasis(e,r,n){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,r,n){return this.set(e.x,r.x,n.x,0,e.y,r.y,n.y,0,e.z,r.z,n.z,0,0,0,0,1),this}extractRotation(e){const r=this.elements,n=e.elements,i=1/gs.setFromMatrixColumn(e,0).length(),a=1/gs.setFromMatrixColumn(e,1).length(),o=1/gs.setFromMatrixColumn(e,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[3]=0,r[4]=n[4]*a,r[5]=n[5]*a,r[6]=n[6]*a,r[7]=0,r[8]=n[8]*o,r[9]=n[9]*o,r[10]=n[10]*o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromEuler(e){const r=this.elements,n=e.x,i=e.y,a=e.z,o=Math.cos(n),s=Math.sin(n),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),p=Math.sin(a);if(e.order==="XYZ"){const d=o*u,g=o*p,m=s*u,h=s*p;r[0]=l*u,r[4]=-l*p,r[8]=c,r[1]=g+m*c,r[5]=d-h*c,r[9]=-s*l,r[2]=h-d*c,r[6]=m+g*c,r[10]=o*l}else if(e.order==="YXZ"){const d=l*u,g=l*p,m=c*u,h=c*p;r[0]=d+h*s,r[4]=m*s-g,r[8]=o*c,r[1]=o*p,r[5]=o*u,r[9]=-s,r[2]=g*s-m,r[6]=h+d*s,r[10]=o*l}else if(e.order==="ZXY"){const d=l*u,g=l*p,m=c*u,h=c*p;r[0]=d-h*s,r[4]=-o*p,r[8]=m+g*s,r[1]=g+m*s,r[5]=o*u,r[9]=h-d*s,r[2]=-o*c,r[6]=s,r[10]=o*l}else if(e.order==="ZYX"){const d=o*u,g=o*p,m=s*u,h=s*p;r[0]=l*u,r[4]=m*c-g,r[8]=d*c+h,r[1]=l*p,r[5]=h*c+d,r[9]=g*c-m,r[2]=-c,r[6]=s*l,r[10]=o*l}else if(e.order==="YZX"){const d=o*l,g=o*c,m=s*l,h=s*c;r[0]=l*u,r[4]=h-d*p,r[8]=m*p+g,r[1]=p,r[5]=o*u,r[9]=-s*u,r[2]=-c*u,r[6]=g*p+m,r[10]=d-h*p}else if(e.order==="XZY"){const d=o*l,g=o*c,m=s*l,h=s*c;r[0]=l*u,r[4]=-p,r[8]=c*u,r[1]=d*p+h,r[5]=o*u,r[9]=g*p-m,r[2]=m*p-g,r[6]=s*u,r[10]=h*p+d}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Uz,e,qz)}lookAt(e,r,n){const i=this.elements;return hn.subVectors(e,r),hn.lengthSq()===0&&(hn.z=1),hn.normalize(),_a.crossVectors(n,hn),_a.lengthSq()===0&&(Math.abs(n.z)===1?hn.x+=1e-4:hn.z+=1e-4,hn.normalize(),_a.crossVectors(n,hn)),_a.normalize(),Ed.crossVectors(hn,_a),i[0]=_a.x,i[4]=Ed.x,i[8]=hn.x,i[1]=_a.y,i[5]=Ed.y,i[9]=hn.y,i[2]=_a.z,i[6]=Ed.z,i[10]=hn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,r){const n=e.elements,i=r.elements,a=this.elements,o=n[0],s=n[4],l=n[8],c=n[12],u=n[1],p=n[5],d=n[9],g=n[13],m=n[2],h=n[6],f=n[10],v=n[14],y=n[3],x=n[7],b=n[11],w=n[15],_=i[0],C=i[4],S=i[8],M=i[12],T=i[1],D=i[5],j=i[9],N=i[13],L=i[2],O=i[6],B=i[10],U=i[14],F=i[3],z=i[7],q=i[11],ee=i[15];return a[0]=o*_+s*T+l*L+c*F,a[4]=o*C+s*D+l*O+c*z,a[8]=o*S+s*j+l*B+c*q,a[12]=o*M+s*N+l*U+c*ee,a[1]=u*_+p*T+d*L+g*F,a[5]=u*C+p*D+d*O+g*z,a[9]=u*S+p*j+d*B+g*q,a[13]=u*M+p*N+d*U+g*ee,a[2]=m*_+h*T+f*L+v*F,a[6]=m*C+h*D+f*O+v*z,a[10]=m*S+h*j+f*B+v*q,a[14]=m*M+h*N+f*U+v*ee,a[3]=y*_+x*T+b*L+w*F,a[7]=y*C+x*D+b*O+w*z,a[11]=y*S+x*j+b*B+w*q,a[15]=y*M+x*N+b*U+w*ee,this}multiplyScalar(e){const r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this}determinant(){const e=this.elements,r=e[0],n=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],c=e[13],u=e[2],p=e[6],d=e[10],g=e[14],m=e[3],h=e[7],f=e[11],v=e[15];return m*(+a*l*p-i*c*p-a*s*d+n*c*d+i*s*g-n*l*g)+h*(+r*l*g-r*c*d+a*o*d-i*o*g+i*c*u-a*l*u)+f*(+r*c*p-r*s*g-a*o*p+n*o*g+a*s*u-n*c*u)+v*(-i*s*u-r*l*p+r*s*d+i*o*p-n*o*d+n*l*u)}transpose(){const e=this.elements;let r;return r=e[1],e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this}setPosition(e,r,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=r,i[14]=n),this}invert(){const e=this.elements,r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],p=e[9],d=e[10],g=e[11],m=e[12],h=e[13],f=e[14],v=e[15],y=p*f*c-h*d*c+h*l*g-s*f*g-p*l*v+s*d*v,x=m*d*c-u*f*c-m*l*g+o*f*g+u*l*v-o*d*v,b=u*h*c-m*p*c+m*s*g-o*h*g-u*s*v+o*p*v,w=m*p*l-u*h*l-m*s*d+o*h*d+u*s*f-o*p*f,_=r*y+n*x+i*b+a*w;if(_===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/_;return e[0]=y*C,e[1]=(h*d*a-p*f*a-h*i*g+n*f*g+p*i*v-n*d*v)*C,e[2]=(s*f*a-h*l*a+h*i*c-n*f*c-s*i*v+n*l*v)*C,e[3]=(p*l*a-s*d*a-p*i*c+n*d*c+s*i*g-n*l*g)*C,e[4]=x*C,e[5]=(u*f*a-m*d*a+m*i*g-r*f*g-u*i*v+r*d*v)*C,e[6]=(m*l*a-o*f*a-m*i*c+r*f*c+o*i*v-r*l*v)*C,e[7]=(o*d*a-u*l*a+u*i*c-r*d*c-o*i*g+r*l*g)*C,e[8]=b*C,e[9]=(m*p*a-u*h*a-m*n*g+r*h*g+u*n*v-r*p*v)*C,e[10]=(o*h*a-m*s*a+m*n*c-r*h*c-o*n*v+r*s*v)*C,e[11]=(u*s*a-o*p*a-u*n*c+r*p*c+o*n*g-r*s*g)*C,e[12]=w*C,e[13]=(u*h*i-m*p*i+m*n*d-r*h*d-u*n*f+r*p*f)*C,e[14]=(m*s*i-o*h*i-m*n*l+r*h*l+o*n*f-r*s*f)*C,e[15]=(o*p*i-u*s*i+u*n*l-r*p*l-o*n*d+r*s*d)*C,this}scale(e){const r=this.elements,n=e.x,i=e.y,a=e.z;return r[0]*=n,r[4]*=i,r[8]*=a,r[1]*=n,r[5]*=i,r[9]*=a,r[2]*=n,r[6]*=i,r[10]*=a,r[3]*=n,r[7]*=i,r[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,r=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(r,n,i))}makeTranslation(e,r,n){return this.set(1,0,0,e,0,1,0,r,0,0,1,n,0,0,0,1),this}makeRotationX(e){const r=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,r,-n,0,0,n,r,0,0,0,0,1),this}makeRotationY(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,0,n,0,0,1,0,0,-n,0,r,0,0,0,0,1),this}makeRotationZ(e){const r=Math.cos(e),n=Math.sin(e);return this.set(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,r){const n=Math.cos(r),i=Math.sin(r),a=1-n,o=e.x,s=e.y,l=e.z,c=a*o,u=a*s;return this.set(c*o+n,c*s-i*l,c*l+i*s,0,c*s+i*l,u*s+n,u*l-i*o,0,c*l-i*s,u*l+i*o,a*l*l+n,0,0,0,0,1),this}makeScale(e,r,n){return this.set(e,0,0,0,0,r,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,r,n,i,a,o){return this.set(1,n,a,0,e,1,o,0,r,i,1,0,0,0,0,1),this}compose(e,r,n){const i=this.elements,a=r._x,o=r._y,s=r._z,l=r._w,c=a+a,u=o+o,p=s+s,d=a*c,g=a*u,m=a*p,h=o*u,f=o*p,v=s*p,y=l*c,x=l*u,b=l*p,w=n.x,_=n.y,C=n.z;return i[0]=(1-(h+v))*w,i[1]=(g+b)*w,i[2]=(m-x)*w,i[3]=0,i[4]=(g-b)*_,i[5]=(1-(d+v))*_,i[6]=(f+y)*_,i[7]=0,i[8]=(m+x)*C,i[9]=(f-y)*C,i[10]=(1-(d+h))*C,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,r,n){const i=this.elements;let a=gs.set(i[0],i[1],i[2]).length();const o=gs.set(i[4],i[5],i[6]).length(),s=gs.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Qn.copy(this);const l=1/a,c=1/o,u=1/s;return Qn.elements[0]*=l,Qn.elements[1]*=l,Qn.elements[2]*=l,Qn.elements[4]*=c,Qn.elements[5]*=c,Qn.elements[6]*=c,Qn.elements[8]*=u,Qn.elements[9]*=u,Qn.elements[10]*=u,r.setFromRotationMatrix(Qn),n.x=a,n.y=o,n.z=s,this}makePerspective(e,r,n,i,a,o){const s=this.elements,l=2*a/(r-e),c=2*a/(n-i),u=(r+e)/(r-e),p=(n+i)/(n-i),d=-(o+a)/(o-a),g=-2*o*a/(o-a);return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=p,s[13]=0,s[2]=0,s[6]=0,s[10]=d,s[14]=g,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,r,n,i,a,o){const s=this.elements,l=1/(r-e),c=1/(n-i),u=1/(o-a),p=(r+e)*l,d=(n+i)*c,g=(o+a)*u;return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-p,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-d,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-g,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const r=this.elements,n=e.elements;for(let i=0;i<16;i++)if(r[i]!==n[i])return!1;return!0}fromArray(e,r=0){for(let n=0;n<16;n++)this.elements[n]=e[n+r];return this}toArray(e=[],r=0){const n=this.elements;return e[r]=n[0],e[r+1]=n[1],e[r+2]=n[2],e[r+3]=n[3],e[r+4]=n[4],e[r+5]=n[5],e[r+6]=n[6],e[r+7]=n[7],e[r+8]=n[8],e[r+9]=n[9],e[r+10]=n[10],e[r+11]=n[11],e[r+12]=n[12],e[r+13]=n[13],e[r+14]=n[14],e[r+15]=n[15],e}}const gs=new K,Qn=new _r,Uz=new K(0,0,0),qz=new K(1,1,1),_a=new K,Ed=new K,hn=new K,xx=new _r,bx=new $u;class qu{constructor(e=0,r=0,n=0,i=qu.DefaultOrder){this.isEuler=!0,this._x=e,this._y=r,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,r,n,i=this._order){return this._x=e,this._y=r,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,r=this._order,n=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],c=i[5],u=i[9],p=i[2],d=i[6],g=i[10];switch(r){case"XYZ":this._y=Math.asin(gn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,g),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-gn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-p,a),this._z=0);break;case"ZXY":this._x=Math.asin(gn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-p,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-gn(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(d,g),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(gn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(s,g));break;case"XZY":this._z=Math.asin(-gn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,r,n){return xx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xx,r,n)}setFromVector3(e,r=this._order){return this.set(e.x,e.y,e.z,r)}reorder(e){return bx.setFromEuler(this),this.setFromQuaternion(bx,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],r=0){return e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}qu.DefaultOrder="XYZ";qu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class oS{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Vz=0;const _x=new K,vs=new $u,ji=new _r,Md=new K,rc=new K,Hz=new K,Wz=new $u,wx=new K(1,0,0),Sx=new K(0,1,0),Cx=new K(0,0,1),Gz={type:"added"},Ex={type:"removed"};class Wr extends Rl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Vz++}),this.uuid=ju(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wr.DefaultUp.clone();const e=new K,r=new qu,n=new $u,i=new K(1,1,1);function a(){n.setFromEuler(r,!1)}function o(){r.setFromQuaternion(n,void 0,!1)}r._onChange(a),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new _r},normalMatrix:{value:new qn}}),this.matrix=new _r,this.matrixWorld=new _r,this.matrixAutoUpdate=Wr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new oS,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,r){this.quaternion.setFromAxisAngle(e,r)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,r){return vs.setFromAxisAngle(e,r),this.quaternion.multiply(vs),this}rotateOnWorldAxis(e,r){return vs.setFromAxisAngle(e,r),this.quaternion.premultiply(vs),this}rotateX(e){return this.rotateOnAxis(wx,e)}rotateY(e){return this.rotateOnAxis(Sx,e)}rotateZ(e){return this.rotateOnAxis(Cx,e)}translateOnAxis(e,r){return _x.copy(e).applyQuaternion(this.quaternion),this.position.add(_x.multiplyScalar(r)),this}translateX(e){return this.translateOnAxis(wx,e)}translateY(e){return this.translateOnAxis(Sx,e)}translateZ(e){return this.translateOnAxis(Cx,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ji.copy(this.matrixWorld).invert())}lookAt(e,r,n){e.isVector3?Md.copy(e):Md.set(e,r,n);const i=this.parent;this.updateWorldMatrix(!0,!1),rc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ji.lookAt(rc,Md,this.up):ji.lookAt(Md,rc,this.up),this.quaternion.setFromRotationMatrix(ji),i&&(ji.extractRotation(i.matrixWorld),vs.setFromRotationMatrix(ji),this.quaternion.premultiply(vs.invert()))}add(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Gz)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const r=this.children.indexOf(e);return r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(Ex)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const r=this.children[e];r.parent=null,r.dispatchEvent(Ex)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ji.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ji.multiply(e.parent.matrixWorld)),e.applyMatrix4(ji),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,r){if(this[e]===r)return this;for(let n=0,i=this.children.length;n<i;n++){const a=this.children[n].getObjectByProperty(e,r);if(a!==void 0)return a}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rc,e,Hz),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rc,Wz,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()}raycast(){}traverse(e){e(this);const r=this.children;for(let n=0,i=r.length;n<i;n++)r[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const r=this.children;for(let n=0,i=r.length;n<i;n++)r[n].traverseVisible(e)}traverseAncestors(e){const r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const r=this.children;for(let n=0,i=r.length;n<i;n++)r[n].updateMatrixWorld(e)}updateWorldMatrix(e,r){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const r=e===void 0||typeof e=="string",n={};r&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const p=l[c];a(e.shapes,p)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(r){const s=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),p=o(e.shapes),d=o(e.skeletons),g=o(e.animations),m=o(e.nodes);s.length>0&&(n.geometries=s),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),u.length>0&&(n.images=u),p.length>0&&(n.shapes=p),d.length>0&&(n.skeletons=d),g.length>0&&(n.animations=g),m.length>0&&(n.nodes=m)}return n.object=i,n;function o(s){const l=[];for(const c in s){const u=s[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,r=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),r===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}Wr.DefaultUp=new K(0,1,0);Wr.DefaultMatrixAutoUpdate=!0;const Jn=new K,$i=new K,Rm=new K,Ui=new K,ys=new K,xs=new K,Mx=new K,Pm=new K,Lm=new K,km=new K;class Ki{constructor(e=new K,r=new K,n=new K){this.a=e,this.b=r,this.c=n}static getNormal(e,r,n,i){i.subVectors(n,r),Jn.subVectors(e,r),i.cross(Jn);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,r,n,i,a){Jn.subVectors(i,r),$i.subVectors(n,r),Rm.subVectors(e,r);const o=Jn.dot(Jn),s=Jn.dot($i),l=Jn.dot(Rm),c=$i.dot($i),u=$i.dot(Rm),p=o*c-s*s;if(p===0)return a.set(-2,-1,-1);const d=1/p,g=(c*l-s*u)*d,m=(o*u-s*l)*d;return a.set(1-g-m,m,g)}static containsPoint(e,r,n,i){return this.getBarycoord(e,r,n,i,Ui),Ui.x>=0&&Ui.y>=0&&Ui.x+Ui.y<=1}static getUV(e,r,n,i,a,o,s,l){return this.getBarycoord(e,r,n,i,Ui),l.set(0,0),l.addScaledVector(a,Ui.x),l.addScaledVector(o,Ui.y),l.addScaledVector(s,Ui.z),l}static isFrontFacing(e,r,n,i){return Jn.subVectors(n,r),$i.subVectors(e,r),Jn.cross($i).dot(i)<0}set(e,r,n){return this.a.copy(e),this.b.copy(r),this.c.copy(n),this}setFromPointsAndIndices(e,r,n,i){return this.a.copy(e[r]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,r,n,i){return this.a.fromBufferAttribute(e,r),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jn.subVectors(this.c,this.b),$i.subVectors(this.a,this.b),Jn.cross($i).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ki.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,r){return Ki.getBarycoord(e,this.a,this.b,this.c,r)}getUV(e,r,n,i,a){return Ki.getUV(e,this.a,this.b,this.c,r,n,i,a)}containsPoint(e){return Ki.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ki.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,r){const n=this.a,i=this.b,a=this.c;let o,s;ys.subVectors(i,n),xs.subVectors(a,n),Pm.subVectors(e,n);const l=ys.dot(Pm),c=xs.dot(Pm);if(l<=0&&c<=0)return r.copy(n);Lm.subVectors(e,i);const u=ys.dot(Lm),p=xs.dot(Lm);if(u>=0&&p<=u)return r.copy(i);const d=l*p-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),r.copy(n).addScaledVector(ys,o);km.subVectors(e,a);const g=ys.dot(km),m=xs.dot(km);if(m>=0&&g<=m)return r.copy(a);const h=g*c-l*m;if(h<=0&&c>=0&&m<=0)return s=c/(c-m),r.copy(n).addScaledVector(xs,s);const f=u*m-g*p;if(f<=0&&p-u>=0&&g-m>=0)return Mx.subVectors(a,i),s=(p-u)/(p-u+(g-m)),r.copy(i).addScaledVector(Mx,s);const v=1/(f+h+d);return o=h*v,s=d*v,r.copy(n).addScaledVector(ys,o).addScaledVector(xs,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Zz=0;class is extends Rl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Zz++}),this.uuid=ju(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const r in e){const n=e[r];if(n===void 0){console.warn("THREE.Material: '"+r+"' parameter is undefined.");continue}if(r==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===1;continue}const i=this[r];if(i===void 0){console.warn("THREE."+this.type+": '"+r+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[r]=n}}toJSON(e){const r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(n.blending=this.blending),this.side!==0&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(n.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=this.flatShading),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(r){const a=i(e.textures),o=i(e.images);a.length>0&&(n.textures=a),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const r=e.clippingPlanes;let n=null;if(r!==null){const i=r.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=r[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sS extends is{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const dr=new K,Ad=new Ct;class ki{constructor(e,r,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=r,this.count=e!==void 0?e.length/r:0,this.normalized=n===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,r,n){e*=this.itemSize,n*=r.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=r.array[n+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const r=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new St),r[n++]=o.r,r[n++]=o.g,r[n++]=o.b}return this}copyVector2sArray(e){const r=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Ct),r[n++]=o.x,r[n++]=o.y}return this}copyVector3sArray(e){const r=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new K),r[n++]=o.x,r[n++]=o.y,r[n++]=o.z}return this}copyVector4sArray(e){const r=this.array;let n=0;for(let i=0,a=e.length;i<a;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new br),r[n++]=o.x,r[n++]=o.y,r[n++]=o.z,r[n++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let r=0,n=this.count;r<n;r++)Ad.fromBufferAttribute(this,r),Ad.applyMatrix3(e),this.setXY(r,Ad.x,Ad.y);else if(this.itemSize===3)for(let r=0,n=this.count;r<n;r++)dr.fromBufferAttribute(this,r),dr.applyMatrix3(e),this.setXYZ(r,dr.x,dr.y,dr.z);return this}applyMatrix4(e){for(let r=0,n=this.count;r<n;r++)dr.fromBufferAttribute(this,r),dr.applyMatrix4(e),this.setXYZ(r,dr.x,dr.y,dr.z);return this}applyNormalMatrix(e){for(let r=0,n=this.count;r<n;r++)dr.fromBufferAttribute(this,r),dr.applyNormalMatrix(e),this.setXYZ(r,dr.x,dr.y,dr.z);return this}transformDirection(e){for(let r=0,n=this.count;r<n;r++)dr.fromBufferAttribute(this,r),dr.transformDirection(e),this.setXYZ(r,dr.x,dr.y,dr.z);return this}set(e,r=0){return this.array.set(e,r),this}getX(e){return this.array[e*this.itemSize]}setX(e,r){return this.array[e*this.itemSize]=r,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,r){return this.array[e*this.itemSize+1]=r,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,r){return this.array[e*this.itemSize+2]=r,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,r){return this.array[e*this.itemSize+3]=r,this}setXY(e,r,n){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=n,this}setXYZ(e,r,n,i){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,r,n,i,a){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==35044&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class lS extends ki{constructor(e,r,n){super(new Uint16Array(e),r,n)}}class cS extends ki{constructor(e,r,n){super(new Uint32Array(e),r,n)}}class zr extends ki{constructor(e,r,n){super(new Float32Array(e),r,n)}}let Xz=0;const Dn=new _r,Dm=new Wr,bs=new K,fn=new Uu,nc=new Uu,wr=new K;class Ni extends Rl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Xz++}),this.uuid=ju(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(tS(e)?cS:lS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,r){return this.attributes[e]=r,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,r,n=0){this.groups.push({start:e,count:r,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,r){this.drawRange.start=e,this.drawRange.count=r}applyMatrix4(e){const r=this.attributes.position;r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new qn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Dn.makeRotationFromQuaternion(e),this.applyMatrix4(Dn),this}rotateX(e){return Dn.makeRotationX(e),this.applyMatrix4(Dn),this}rotateY(e){return Dn.makeRotationY(e),this.applyMatrix4(Dn),this}rotateZ(e){return Dn.makeRotationZ(e),this.applyMatrix4(Dn),this}translate(e,r,n){return Dn.makeTranslation(e,r,n),this.applyMatrix4(Dn),this}scale(e,r,n){return Dn.makeScale(e,r,n),this.applyMatrix4(Dn),this}lookAt(e){return Dm.lookAt(e),Dm.updateMatrix(),this.applyMatrix4(Dm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bs).negate(),this.translate(bs.x,bs.y,bs.z),this}setFromPoints(e){const r=[];for(let n=0,i=e.length;n<i;n++){const a=e[n];r.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new zr(r,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Uu);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r)for(let n=0,i=r.length;n<i;n++){const a=r[n];fn.setFromBufferAttribute(a),this.morphTargetsRelative?(wr.addVectors(this.boundingBox.min,fn.min),this.boundingBox.expandByPoint(wr),wr.addVectors(this.boundingBox.max,fn.max),this.boundingBox.expandByPoint(wr)):(this.boundingBox.expandByPoint(fn.min),this.boundingBox.expandByPoint(fn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Cu);const e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new K,1/0);return}if(e){const n=this.boundingSphere.center;if(fn.setFromBufferAttribute(e),r)for(let a=0,o=r.length;a<o;a++){const s=r[a];nc.setFromBufferAttribute(s),this.morphTargetsRelative?(wr.addVectors(fn.min,nc.min),fn.expandByPoint(wr),wr.addVectors(fn.max,nc.max),fn.expandByPoint(wr)):(fn.expandByPoint(nc.min),fn.expandByPoint(nc.max))}fn.getCenter(n);let i=0;for(let a=0,o=e.count;a<o;a++)wr.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(wr));if(r)for(let a=0,o=r.length;a<o;a++){const s=r[a],l=this.morphTargetsRelative;for(let c=0,u=s.count;c<u;c++)wr.fromBufferAttribute(s,c),l&&(bs.fromBufferAttribute(e,c),wr.add(bs)),i=Math.max(i,n.distanceToSquared(wr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,r=this.attributes;if(e===null||r.position===void 0||r.normal===void 0||r.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=e.array,i=r.position.array,a=r.normal.array,o=r.uv.array,s=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ki(new Float32Array(4*s),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let T=0;T<s;T++)c[T]=new K,u[T]=new K;const p=new K,d=new K,g=new K,m=new Ct,h=new Ct,f=new Ct,v=new K,y=new K;function x(T,D,j){p.fromArray(i,T*3),d.fromArray(i,D*3),g.fromArray(i,j*3),m.fromArray(o,T*2),h.fromArray(o,D*2),f.fromArray(o,j*2),d.sub(p),g.sub(p),h.sub(m),f.sub(m);const N=1/(h.x*f.y-f.x*h.y);!isFinite(N)||(v.copy(d).multiplyScalar(f.y).addScaledVector(g,-h.y).multiplyScalar(N),y.copy(g).multiplyScalar(h.x).addScaledVector(d,-f.x).multiplyScalar(N),c[T].add(v),c[D].add(v),c[j].add(v),u[T].add(y),u[D].add(y),u[j].add(y))}let b=this.groups;b.length===0&&(b=[{start:0,count:n.length}]);for(let T=0,D=b.length;T<D;++T){const j=b[T],N=j.start,L=j.count;for(let O=N,B=N+L;O<B;O+=3)x(n[O+0],n[O+1],n[O+2])}const w=new K,_=new K,C=new K,S=new K;function M(T){C.fromArray(a,T*3),S.copy(C);const D=c[T];w.copy(D),w.sub(C.multiplyScalar(C.dot(D))).normalize(),_.crossVectors(S,D);const j=_.dot(u[T])<0?-1:1;l[T*4]=w.x,l[T*4+1]=w.y,l[T*4+2]=w.z,l[T*4+3]=j}for(let T=0,D=b.length;T<D;++T){const j=b[T],N=j.start,L=j.count;for(let O=N,B=N+L;O<B;O+=3)M(n[O+0]),M(n[O+1]),M(n[O+2])}}computeVertexNormals(){const e=this.index,r=this.getAttribute("position");if(r!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new ki(new Float32Array(r.count*3),3),this.setAttribute("normal",n);else for(let d=0,g=n.count;d<g;d++)n.setXYZ(d,0,0,0);const i=new K,a=new K,o=new K,s=new K,l=new K,c=new K,u=new K,p=new K;if(e)for(let d=0,g=e.count;d<g;d+=3){const m=e.getX(d+0),h=e.getX(d+1),f=e.getX(d+2);i.fromBufferAttribute(r,m),a.fromBufferAttribute(r,h),o.fromBufferAttribute(r,f),u.subVectors(o,a),p.subVectors(i,a),u.cross(p),s.fromBufferAttribute(n,m),l.fromBufferAttribute(n,h),c.fromBufferAttribute(n,f),s.add(u),l.add(u),c.add(u),n.setXYZ(m,s.x,s.y,s.z),n.setXYZ(h,l.x,l.y,l.z),n.setXYZ(f,c.x,c.y,c.z)}else for(let d=0,g=r.count;d<g;d+=3)i.fromBufferAttribute(r,d+0),a.fromBufferAttribute(r,d+1),o.fromBufferAttribute(r,d+2),u.subVectors(o,a),p.subVectors(i,a),u.cross(p),n.setXYZ(d+0,u.x,u.y,u.z),n.setXYZ(d+1,u.x,u.y,u.z),n.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,r){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}r===void 0&&(r=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const a=n[i].array,o=e.attributes[i],s=o.array,l=o.itemSize*r,c=Math.min(s.length,a.length-l);for(let u=0,p=l;u<c;u++,p++)a[p]=s[u]}return this}normalizeNormals(){const e=this.attributes.normal;for(let r=0,n=e.count;r<n;r++)wr.fromBufferAttribute(e,r),wr.normalize(),e.setXYZ(r,wr.x,wr.y,wr.z)}toNonIndexed(){function e(s,l){const c=s.array,u=s.itemSize,p=s.normalized,d=new c.constructor(l.length*u);let g=0,m=0;for(let h=0,f=l.length;h<f;h++){s.isInterleavedBufferAttribute?g=l[h]*s.data.stride+s.offset:g=l[h]*u;for(let v=0;v<u;v++)d[m++]=c[g++]}return new ki(d,u,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const r=new Ni,n=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,n);r.setAttribute(s,c)}const a=this.morphAttributes;for(const s in a){const l=[],c=a[s];for(let u=0,p=c.length;u<p;u++){const d=c[u],g=e(d,n);l.push(g)}r.morphAttributes[s]=l}r.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const c=o[s];r.addGroup(c.start,c.count,c.materialIndex)}return r}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const r=this.index;r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});const n=this.attributes;for(const l in n){const c=n[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let p=0,d=c.length;p<d;p++){const g=c[p];u.push(g.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const r={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(r));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(r))}const a=e.morphAttributes;for(const c in a){const u=[],p=a[c];for(let d=0,g=p.length;d<g;d++)u.push(p[d].clone(r));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const p=o[c];this.addGroup(p.start,p.count,p.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ax=new _r,_s=new $z,Im=new Cu,wa=new K,Sa=new K,Ca=new K,Fm=new K,Nm=new K,zm=new K,Td=new K,Rd=new K,Pd=new K,Ld=new Ct,kd=new Ct,Dd=new Ct,Om=new K,Id=new K;class Ti extends Wr{constructor(e=new Ni,r=new sS){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=r,this.updateMorphTargets()}copy(e,r){return super.copy(e,r),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,r=Object.keys(e);if(r.length>0){const n=e[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,a=n.length;i<a;i++){const o=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}raycast(e,r){const n=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Im.copy(n.boundingSphere),Im.applyMatrix4(a),e.ray.intersectsSphere(Im)===!1)||(Ax.copy(a).invert(),_s.copy(e.ray).applyMatrix4(Ax),n.boundingBox!==null&&_s.intersectsBox(n.boundingBox)===!1))return;let o;const s=n.index,l=n.attributes.position,c=n.morphAttributes.position,u=n.morphTargetsRelative,p=n.attributes.uv,d=n.attributes.uv2,g=n.groups,m=n.drawRange;if(s!==null)if(Array.isArray(i))for(let h=0,f=g.length;h<f;h++){const v=g[h],y=i[v.materialIndex],x=Math.max(v.start,m.start),b=Math.min(s.count,Math.min(v.start+v.count,m.start+m.count));for(let w=x,_=b;w<_;w+=3){const C=s.getX(w),S=s.getX(w+1),M=s.getX(w+2);o=Fd(this,y,e,_s,l,c,u,p,d,C,S,M),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,r.push(o))}}else{const h=Math.max(0,m.start),f=Math.min(s.count,m.start+m.count);for(let v=h,y=f;v<y;v+=3){const x=s.getX(v),b=s.getX(v+1),w=s.getX(v+2);o=Fd(this,i,e,_s,l,c,u,p,d,x,b,w),o&&(o.faceIndex=Math.floor(v/3),r.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let h=0,f=g.length;h<f;h++){const v=g[h],y=i[v.materialIndex],x=Math.max(v.start,m.start),b=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let w=x,_=b;w<_;w+=3){const C=w,S=w+1,M=w+2;o=Fd(this,y,e,_s,l,c,u,p,d,C,S,M),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=v.materialIndex,r.push(o))}}else{const h=Math.max(0,m.start),f=Math.min(l.count,m.start+m.count);for(let v=h,y=f;v<y;v+=3){const x=v,b=v+1,w=v+2;o=Fd(this,i,e,_s,l,c,u,p,d,x,b,w),o&&(o.faceIndex=Math.floor(v/3),r.push(o))}}}}function Yz(t,e,r,n,i,a,o,s){let l;if(e.side===1?l=n.intersectTriangle(o,a,i,!0,s):l=n.intersectTriangle(i,a,o,e.side!==2,s),l===null)return null;Id.copy(s),Id.applyMatrix4(t.matrixWorld);const c=r.ray.origin.distanceTo(Id);return c<r.near||c>r.far?null:{distance:c,point:Id.clone(),object:t}}function Fd(t,e,r,n,i,a,o,s,l,c,u,p){wa.fromBufferAttribute(i,c),Sa.fromBufferAttribute(i,u),Ca.fromBufferAttribute(i,p);const d=t.morphTargetInfluences;if(a&&d){Td.set(0,0,0),Rd.set(0,0,0),Pd.set(0,0,0);for(let m=0,h=a.length;m<h;m++){const f=d[m],v=a[m];f!==0&&(Fm.fromBufferAttribute(v,c),Nm.fromBufferAttribute(v,u),zm.fromBufferAttribute(v,p),o?(Td.addScaledVector(Fm,f),Rd.addScaledVector(Nm,f),Pd.addScaledVector(zm,f)):(Td.addScaledVector(Fm.sub(wa),f),Rd.addScaledVector(Nm.sub(Sa),f),Pd.addScaledVector(zm.sub(Ca),f)))}wa.add(Td),Sa.add(Rd),Ca.add(Pd)}t.isSkinnedMesh&&(t.boneTransform(c,wa),t.boneTransform(u,Sa),t.boneTransform(p,Ca));const g=Yz(t,e,r,n,wa,Sa,Ca,Om);if(g){s&&(Ld.fromBufferAttribute(s,c),kd.fromBufferAttribute(s,u),Dd.fromBufferAttribute(s,p),g.uv=Ki.getUV(Om,wa,Sa,Ca,Ld,kd,Dd,new Ct)),l&&(Ld.fromBufferAttribute(l,c),kd.fromBufferAttribute(l,u),Dd.fromBufferAttribute(l,p),g.uv2=Ki.getUV(Om,wa,Sa,Ca,Ld,kd,Dd,new Ct));const m={a:c,b:u,c:p,normal:new K,materialIndex:0};Ki.getNormal(wa,Sa,Ca,m.normal),g.face=m}return g}class Vu extends Ni{constructor(e=1,r=1,n=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:r,depth:n,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],c=[],u=[],p=[];let d=0,g=0;m("z","y","x",-1,-1,n,r,e,o,a,0),m("z","y","x",1,-1,n,r,-e,o,a,1),m("x","z","y",1,1,e,n,r,i,o,2),m("x","z","y",1,-1,e,n,-r,i,o,3),m("x","y","z",1,-1,e,r,n,i,a,4),m("x","y","z",-1,-1,e,r,-n,i,a,5),this.setIndex(l),this.setAttribute("position",new zr(c,3)),this.setAttribute("normal",new zr(u,3)),this.setAttribute("uv",new zr(p,2));function m(h,f,v,y,x,b,w,_,C,S,M){const T=b/C,D=w/S,j=b/2,N=w/2,L=_/2,O=C+1,B=S+1;let U=0,F=0;const z=new K;for(let q=0;q<B;q++){const ee=q*D-N;for(let V=0;V<O;V++){const ne=V*T-j;z[h]=ne*y,z[f]=ee*x,z[v]=L,c.push(z.x,z.y,z.z),z[h]=0,z[f]=0,z[v]=_>0?1:-1,u.push(z.x,z.y,z.z),p.push(V/C),p.push(1-q/S),U+=1}}for(let q=0;q<S;q++)for(let ee=0;ee<C;ee++){const V=d+ee+O*q,ne=d+ee+O*(q+1),oe=d+(ee+1)+O*(q+1),we=d+(ee+1)+O*q;l.push(V,ne,we),l.push(ne,oe,we),F+=6}s.addGroup(g,F,M),g+=F,d+=U}}static fromJSON(e){return new Vu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wl(t){const e={};for(const r in t){e[r]={};for(const n in t[r]){const i=t[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[r][n]=i.clone():Array.isArray(i)?e[r][n]=i.slice():e[r][n]=i}}return e}function Fr(t){const e={};for(let r=0;r<t.length;r++){const n=wl(t[r]);for(const i in n)e[i]=n[i]}return e}function Kz(t){const e=[];for(let r=0;r<t.length;r++)e.push(t[r].clone());return e}const Qz={clone:wl,merge:Fr};var Jz=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,eO=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Jo extends is{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Jz,this.fragmentShader=eO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wl(e.uniforms),this.uniformsGroups=Kz(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const r=super.toJSON(e);r.glslVersion=this.glslVersion,r.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?r.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?r.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?r.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?r.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?r.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?r.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?r.uniforms[i]={type:"m4",value:a.toArray()}:r.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(r.extensions=n),r}}class uS extends Wr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _r,this.projectionMatrix=new _r,this.projectionMatrixInverse=new _r}copy(e,r){return super.copy(e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,r){super.updateWorldMatrix(e,r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class vn extends uS{constructor(e=50,r=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const r=.5*this.getFilmHeight()/e;this.fov=Sg*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(vm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Sg*2*Math.atan(Math.tan(vm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,r,n,i,a,o){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let r=e*Math.tan(vm*.5*this.fov)/this.zoom,n=2*r,i=this.aspect*n,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;a+=o.offsetX*i/l,r-=o.offsetY*n/c,i*=o.width/l,n*=o.height/c}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,r,r-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}const ws=90,Ss=1;class tO extends Wr{constructor(e,r,n){if(super(),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new vn(ws,Ss,e,r);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new K(1,0,0)),this.add(i);const a=new vn(ws,Ss,e,r);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new K(-1,0,0)),this.add(a);const o=new vn(ws,Ss,e,r);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new K(0,1,0)),this.add(o);const s=new vn(ws,Ss,e,r);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new K(0,-1,0)),this.add(s);const l=new vn(ws,Ss,e,r);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new K(0,0,1)),this.add(l);const c=new vn(ws,Ss,e,r);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new K(0,0,-1)),this.add(c)}update(e,r){this.parent===null&&this.updateMatrixWorld();const n=this.renderTarget,[i,a,o,s,l,c]=this.children,u=e.getRenderTarget(),p=e.toneMapping,d=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const g=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(r,i),e.setRenderTarget(n,1),e.render(r,a),e.setRenderTarget(n,2),e.render(r,o),e.setRenderTarget(n,3),e.render(r,s),e.setRenderTarget(n,4),e.render(r,l),n.texture.generateMipmaps=g,e.setRenderTarget(n,5),e.render(r,c),e.setRenderTarget(u),e.toneMapping=p,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class dS extends Mn{constructor(e,r,n,i,a,o,s,l,c,u){e=e!==void 0?e:[],r=r!==void 0?r:301,super(e,r,n,i,a,o,s,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rO extends Qo{constructor(e,r={}){super(e,e,r),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new dS(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:1006}fromEquirectangularTexture(e,r){this.texture.type=r.type,this.texture.encoding=r.encoding,this.texture.generateMipmaps=r.generateMipmaps,this.texture.minFilter=r.minFilter,this.texture.magFilter=r.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Vu(5,5,5),a=new Jo({name:"CubemapFromEquirect",uniforms:wl(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});a.uniforms.tEquirect.value=r;const o=new Ti(i,a),s=r.minFilter;return r.minFilter===1008&&(r.minFilter=1006),new tO(1,10,this).update(e,o),r.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,r,n,i){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(r,n,i);e.setRenderTarget(a)}}const Bm=new K,nO=new K,iO=new qn;class mo{constructor(e=new K(1,0,0),r=0){this.isPlane=!0,this.normal=e,this.constant=r}set(e,r){return this.normal.copy(e),this.constant=r,this}setComponents(e,r,n,i){return this.normal.set(e,r,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(e,r,n){const i=Bm.subVectors(n,r).cross(nO.subVectors(e,r)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,r){const n=e.delta(Bm),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?r.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:r.copy(n).multiplyScalar(a).add(e.start)}intersectsLine(e){const r=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return r<0&&n>0||n<0&&r>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,r){const n=r||iO.getNormalMatrix(e),i=this.coplanarPoint(Bm).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Cs=new Cu,Nd=new K;class lv{constructor(e=new mo,r=new mo,n=new mo,i=new mo,a=new mo,o=new mo){this.planes=[e,r,n,i,a,o]}set(e,r,n,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(r),s[2].copy(n),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const r=this.planes;for(let n=0;n<6;n++)r[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const r=this.planes,n=e.elements,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],p=n[7],d=n[8],g=n[9],m=n[10],h=n[11],f=n[12],v=n[13],y=n[14],x=n[15];return r[0].setComponents(s-i,p-l,h-d,x-f).normalize(),r[1].setComponents(s+i,p+l,h+d,x+f).normalize(),r[2].setComponents(s+a,p+c,h+g,x+v).normalize(),r[3].setComponents(s-a,p-c,h-g,x-v).normalize(),r[4].setComponents(s-o,p-u,h-m,x-y).normalize(),r[5].setComponents(s+o,p+u,h+m,x+y).normalize(),this}intersectsObject(e){const r=e.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),Cs.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Cs)}intersectsSprite(e){return Cs.center.set(0,0,0),Cs.radius=.7071067811865476,Cs.applyMatrix4(e.matrixWorld),this.intersectsSphere(Cs)}intersectsSphere(e){const r=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(r[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const r=this.planes;for(let n=0;n<6;n++){const i=r[n];if(Nd.x=i.normal.x>0?e.max.x:e.min.x,Nd.y=i.normal.y>0?e.max.y:e.min.y,Nd.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Nd)<0)return!1}return!0}containsPoint(e){const r=this.planes;for(let n=0;n<6;n++)if(r[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function pS(){let t=null,e=!1,r=null,n=null;function i(a,o){r(a,o),n=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&r!==null&&(n=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){r=a},setContext:function(a){t=a}}}function aO(t,e){const r=e.isWebGL2,n=new WeakMap;function i(c,u){const p=c.array,d=c.usage,g=t.createBuffer();t.bindBuffer(u,g),t.bufferData(u,p,d),c.onUploadCallback();let m;if(p instanceof Float32Array)m=5126;else if(p instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(r)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(p instanceof Int16Array)m=5122;else if(p instanceof Uint32Array)m=5125;else if(p instanceof Int32Array)m=5124;else if(p instanceof Int8Array)m=5120;else if(p instanceof Uint8Array)m=5121;else if(p instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:g,type:m,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version}}function a(c,u,p){const d=u.array,g=u.updateRange;t.bindBuffer(p,c),g.count===-1?t.bufferSubData(p,0,d):(r?t.bufferSubData(p,g.offset*d.BYTES_PER_ELEMENT,d,g.offset,g.count):t.bufferSubData(p,g.offset*d.BYTES_PER_ELEMENT,d.subarray(g.offset,g.offset+g.count)),g.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=n.get(c);u&&(t.deleteBuffer(u.buffer),n.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=n.get(c);(!d||d.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const p=n.get(c);p===void 0?n.set(c,i(c,u)):p.version<c.version&&(a(p.buffer,c,u),p.version=c.version)}return{get:o,remove:s,update:l}}class Sf extends Ni{constructor(e=1,r=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:r,widthSegments:n,heightSegments:i};const a=e/2,o=r/2,s=Math.floor(n),l=Math.floor(i),c=s+1,u=l+1,p=e/s,d=r/l,g=[],m=[],h=[],f=[];for(let v=0;v<u;v++){const y=v*d-o;for(let x=0;x<c;x++){const b=x*p-a;m.push(b,-y,0),h.push(0,0,1),f.push(x/s),f.push(1-v/l)}}for(let v=0;v<l;v++)for(let y=0;y<s;y++){const x=y+c*v,b=y+c*(v+1),w=y+1+c*(v+1),_=y+1+c*v;g.push(x,b,_),g.push(b,w,_)}this.setIndex(g),this.setAttribute("position",new zr(m,3)),this.setAttribute("normal",new zr(h,3)),this.setAttribute("uv",new zr(f,2))}static fromJSON(e){return new Sf(e.width,e.height,e.widthSegments,e.heightSegments)}}var oO=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,sO=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lO=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,cO=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,uO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pO="vec3 transformed = vec3( position );",hO=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fO=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,mO=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gO=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vO=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,yO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,bO=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_O=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,SO=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,CO=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,EO=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,MO=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,AO=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TO=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,RO=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,PO=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,LO=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,kO="gl_FragColor = linearToOutputTexel( gl_FragColor );",DO=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,IO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,FO=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,NO=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,zO=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,OO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,BO=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,jO=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$O=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,UO=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,qO=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,VO=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,HO=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,WO=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,GO=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,ZO=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,XO=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,YO=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,KO=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,QO=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,JO=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,eB=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,tB=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rB=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,nB=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,iB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,aB=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,oB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,sB=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,lB=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cB=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dB=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pB=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hB=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fB=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mB=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,gB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,vB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,yB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,xB=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,bB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_B=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,SB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,CB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,EB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,MB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,AB=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,TB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,RB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,PB=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,LB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,DB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,IB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,FB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,NB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,zB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OB=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,BB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,jB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,$B=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,UB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,qB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,VB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,HB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,WB=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,GB=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ZB=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,XB=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,YB=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,KB=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,QB=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,JB=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,ej=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,tj=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,rj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const nj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ij=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oj=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sj=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,cj=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,uj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,dj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,hj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mj=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vj=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yj=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xj=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bj=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_j=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wj=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Sj=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Cj=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ej=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Mj=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aj=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tj=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rj=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Pj=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lj=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kj=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Dj=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Ij=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,xt={alphamap_fragment:oO,alphamap_pars_fragment:sO,alphatest_fragment:lO,alphatest_pars_fragment:cO,aomap_fragment:uO,aomap_pars_fragment:dO,begin_vertex:pO,beginnormal_vertex:hO,bsdfs:fO,iridescence_fragment:mO,bumpmap_pars_fragment:gO,clipping_planes_fragment:vO,clipping_planes_pars_fragment:yO,clipping_planes_pars_vertex:xO,clipping_planes_vertex:bO,color_fragment:_O,color_pars_fragment:wO,color_pars_vertex:SO,color_vertex:CO,common:EO,cube_uv_reflection_fragment:MO,defaultnormal_vertex:AO,displacementmap_pars_vertex:TO,displacementmap_vertex:RO,emissivemap_fragment:PO,emissivemap_pars_fragment:LO,encodings_fragment:kO,encodings_pars_fragment:DO,envmap_fragment:IO,envmap_common_pars_fragment:FO,envmap_pars_fragment:NO,envmap_pars_vertex:zO,envmap_physical_pars_fragment:ZO,envmap_vertex:OO,fog_vertex:BO,fog_pars_vertex:jO,fog_fragment:$O,fog_pars_fragment:UO,gradientmap_pars_fragment:qO,lightmap_fragment:VO,lightmap_pars_fragment:HO,lights_lambert_vertex:WO,lights_pars_begin:GO,lights_toon_fragment:XO,lights_toon_pars_fragment:YO,lights_phong_fragment:KO,lights_phong_pars_fragment:QO,lights_physical_fragment:JO,lights_physical_pars_fragment:eB,lights_fragment_begin:tB,lights_fragment_maps:rB,lights_fragment_end:nB,logdepthbuf_fragment:iB,logdepthbuf_pars_fragment:aB,logdepthbuf_pars_vertex:oB,logdepthbuf_vertex:sB,map_fragment:lB,map_pars_fragment:cB,map_particle_fragment:uB,map_particle_pars_fragment:dB,metalnessmap_fragment:pB,metalnessmap_pars_fragment:hB,morphcolor_vertex:fB,morphnormal_vertex:mB,morphtarget_pars_vertex:gB,morphtarget_vertex:vB,normal_fragment_begin:yB,normal_fragment_maps:xB,normal_pars_fragment:bB,normal_pars_vertex:_B,normal_vertex:wB,normalmap_pars_fragment:SB,clearcoat_normal_fragment_begin:CB,clearcoat_normal_fragment_maps:EB,clearcoat_pars_fragment:MB,iridescence_pars_fragment:AB,output_fragment:TB,packing:RB,premultiplied_alpha_fragment:PB,project_vertex:LB,dithering_fragment:kB,dithering_pars_fragment:DB,roughnessmap_fragment:IB,roughnessmap_pars_fragment:FB,shadowmap_pars_fragment:NB,shadowmap_pars_vertex:zB,shadowmap_vertex:OB,shadowmask_pars_fragment:BB,skinbase_vertex:jB,skinning_pars_vertex:$B,skinning_vertex:UB,skinnormal_vertex:qB,specularmap_fragment:VB,specularmap_pars_fragment:HB,tonemapping_fragment:WB,tonemapping_pars_fragment:GB,transmission_fragment:ZB,transmission_pars_fragment:XB,uv_pars_fragment:YB,uv_pars_vertex:KB,uv_vertex:QB,uv2_pars_fragment:JB,uv2_pars_vertex:ej,uv2_vertex:tj,worldpos_vertex:rj,background_vert:nj,background_frag:ij,cube_vert:aj,cube_frag:oj,depth_vert:sj,depth_frag:lj,distanceRGBA_vert:cj,distanceRGBA_frag:uj,equirect_vert:dj,equirect_frag:pj,linedashed_vert:hj,linedashed_frag:fj,meshbasic_vert:mj,meshbasic_frag:gj,meshlambert_vert:vj,meshlambert_frag:yj,meshmatcap_vert:xj,meshmatcap_frag:bj,meshnormal_vert:_j,meshnormal_frag:wj,meshphong_vert:Sj,meshphong_frag:Cj,meshphysical_vert:Ej,meshphysical_frag:Mj,meshtoon_vert:Aj,meshtoon_frag:Tj,points_vert:Rj,points_frag:Pj,shadow_vert:Lj,shadow_frag:kj,sprite_vert:Dj,sprite_frag:Ij},Se={common:{diffuse:{value:new St(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new qn},uv2Transform:{value:new qn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ct(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new St(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new St(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new qn}},sprite:{diffuse:{value:new St(16777215)},opacity:{value:1},center:{value:new Ct(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new qn}}},Mi={basic:{uniforms:Fr([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.fog]),vertexShader:xt.meshbasic_vert,fragmentShader:xt.meshbasic_frag},lambert:{uniforms:Fr([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.fog,Se.lights,{emissive:{value:new St(0)}}]),vertexShader:xt.meshlambert_vert,fragmentShader:xt.meshlambert_frag},phong:{uniforms:Fr([Se.common,Se.specularmap,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.fog,Se.lights,{emissive:{value:new St(0)},specular:{value:new St(1118481)},shininess:{value:30}}]),vertexShader:xt.meshphong_vert,fragmentShader:xt.meshphong_frag},standard:{uniforms:Fr([Se.common,Se.envmap,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.roughnessmap,Se.metalnessmap,Se.fog,Se.lights,{emissive:{value:new St(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag},toon:{uniforms:Fr([Se.common,Se.aomap,Se.lightmap,Se.emissivemap,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.gradientmap,Se.fog,Se.lights,{emissive:{value:new St(0)}}]),vertexShader:xt.meshtoon_vert,fragmentShader:xt.meshtoon_frag},matcap:{uniforms:Fr([Se.common,Se.bumpmap,Se.normalmap,Se.displacementmap,Se.fog,{matcap:{value:null}}]),vertexShader:xt.meshmatcap_vert,fragmentShader:xt.meshmatcap_frag},points:{uniforms:Fr([Se.points,Se.fog]),vertexShader:xt.points_vert,fragmentShader:xt.points_frag},dashed:{uniforms:Fr([Se.common,Se.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xt.linedashed_vert,fragmentShader:xt.linedashed_frag},depth:{uniforms:Fr([Se.common,Se.displacementmap]),vertexShader:xt.depth_vert,fragmentShader:xt.depth_frag},normal:{uniforms:Fr([Se.common,Se.bumpmap,Se.normalmap,Se.displacementmap,{opacity:{value:1}}]),vertexShader:xt.meshnormal_vert,fragmentShader:xt.meshnormal_frag},sprite:{uniforms:Fr([Se.sprite,Se.fog]),vertexShader:xt.sprite_vert,fragmentShader:xt.sprite_frag},background:{uniforms:{uvTransform:{value:new qn},t2D:{value:null}},vertexShader:xt.background_vert,fragmentShader:xt.background_frag},cube:{uniforms:Fr([Se.envmap,{opacity:{value:1}}]),vertexShader:xt.cube_vert,fragmentShader:xt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xt.equirect_vert,fragmentShader:xt.equirect_frag},distanceRGBA:{uniforms:Fr([Se.common,Se.displacementmap,{referencePosition:{value:new K},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xt.distanceRGBA_vert,fragmentShader:xt.distanceRGBA_frag},shadow:{uniforms:Fr([Se.lights,Se.fog,{color:{value:new St(0)},opacity:{value:1}}]),vertexShader:xt.shadow_vert,fragmentShader:xt.shadow_frag}};Mi.physical={uniforms:Fr([Mi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ct(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new St(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ct},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new St(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new St(1,1,1)},specularColorMap:{value:null}}]),vertexShader:xt.meshphysical_vert,fragmentShader:xt.meshphysical_frag};function Fj(t,e,r,n,i,a){const o=new St(0);let s=i===!0?0:1,l,c,u=null,p=0,d=null;function g(h,f){let v=!1,y=f.isScene===!0?f.background:null;y&&y.isTexture&&(y=e.get(y));const x=t.xr,b=x.getSession&&x.getSession();b&&b.environmentBlendMode==="additive"&&(y=null),y===null?m(o,s):y&&y.isColor&&(m(y,1),v=!0),(t.autoClear||v)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),y&&(y.isCubeTexture||y.mapping===306)?(c===void 0&&(c=new Ti(new Vu(1,1,1),new Jo({name:"BackgroundCubeMaterial",uniforms:wl(Mi.cube.uniforms),vertexShader:Mi.cube.vertexShader,fragmentShader:Mi.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,_,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(u!==y||p!==y.version||d!==t.toneMapping)&&(c.material.needsUpdate=!0,u=y,p=y.version,d=t.toneMapping),c.layers.enableAll(),h.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(l===void 0&&(l=new Ti(new Sf(2,2),new Jo({name:"BackgroundMaterial",uniforms:wl(Mi.background.uniforms),vertexShader:Mi.background.vertexShader,fragmentShader:Mi.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||p!==y.version||d!==t.toneMapping)&&(l.material.needsUpdate=!0,u=y,p=y.version,d=t.toneMapping),l.layers.enableAll(),h.unshift(l,l.geometry,l.material,0,0,null))}function m(h,f){r.buffers.color.setClear(h.r,h.g,h.b,f,a)}return{getClearColor:function(){return o},setClearColor:function(h,f=1){o.set(h),s=f,m(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(h){s=h,m(o,s)},render:g}}function Nj(t,e,r,n){const i=t.getParameter(34921),a=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||a!==null,s={},l=f(null);let c=l,u=!1;function p(L,O,B,U,F){let z=!1;if(o){const q=h(U,B,O);c!==q&&(c=q,g(c.object)),z=v(L,U,B,F),z&&y(L,U,B,F)}else{const q=O.wireframe===!0;(c.geometry!==U.id||c.program!==B.id||c.wireframe!==q)&&(c.geometry=U.id,c.program=B.id,c.wireframe=q,z=!0)}F!==null&&r.update(F,34963),(z||u)&&(u=!1,S(L,O,B,U),F!==null&&t.bindBuffer(34963,r.get(F).buffer))}function d(){return n.isWebGL2?t.createVertexArray():a.createVertexArrayOES()}function g(L){return n.isWebGL2?t.bindVertexArray(L):a.bindVertexArrayOES(L)}function m(L){return n.isWebGL2?t.deleteVertexArray(L):a.deleteVertexArrayOES(L)}function h(L,O,B){const U=B.wireframe===!0;let F=s[L.id];F===void 0&&(F={},s[L.id]=F);let z=F[O.id];z===void 0&&(z={},F[O.id]=z);let q=z[U];return q===void 0&&(q=f(d()),z[U]=q),q}function f(L){const O=[],B=[],U=[];for(let F=0;F<i;F++)O[F]=0,B[F]=0,U[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:B,attributeDivisors:U,object:L,attributes:{},index:null}}function v(L,O,B,U){const F=c.attributes,z=O.attributes;let q=0;const ee=B.getAttributes();for(const V in ee)if(ee[V].location>=0){const ne=F[V];let oe=z[V];if(oe===void 0&&(V==="instanceMatrix"&&L.instanceMatrix&&(oe=L.instanceMatrix),V==="instanceColor"&&L.instanceColor&&(oe=L.instanceColor)),ne===void 0||ne.attribute!==oe||oe&&ne.data!==oe.data)return!0;q++}return c.attributesNum!==q||c.index!==U}function y(L,O,B,U){const F={},z=O.attributes;let q=0;const ee=B.getAttributes();for(const V in ee)if(ee[V].location>=0){let ne=z[V];ne===void 0&&(V==="instanceMatrix"&&L.instanceMatrix&&(ne=L.instanceMatrix),V==="instanceColor"&&L.instanceColor&&(ne=L.instanceColor));const oe={};oe.attribute=ne,ne&&ne.data&&(oe.data=ne.data),F[V]=oe,q++}c.attributes=F,c.attributesNum=q,c.index=U}function x(){const L=c.newAttributes;for(let O=0,B=L.length;O<B;O++)L[O]=0}function b(L){w(L,0)}function w(L,O){const B=c.newAttributes,U=c.enabledAttributes,F=c.attributeDivisors;B[L]=1,U[L]===0&&(t.enableVertexAttribArray(L),U[L]=1),F[L]!==O&&((n.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](L,O),F[L]=O)}function _(){const L=c.newAttributes,O=c.enabledAttributes;for(let B=0,U=O.length;B<U;B++)O[B]!==L[B]&&(t.disableVertexAttribArray(B),O[B]=0)}function C(L,O,B,U,F,z){n.isWebGL2===!0&&(B===5124||B===5125)?t.vertexAttribIPointer(L,O,B,F,z):t.vertexAttribPointer(L,O,B,U,F,z)}function S(L,O,B,U){if(n.isWebGL2===!1&&(L.isInstancedMesh||U.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const F=U.attributes,z=B.getAttributes(),q=O.defaultAttributeValues;for(const ee in z){const V=z[ee];if(V.location>=0){let ne=F[ee];if(ne===void 0&&(ee==="instanceMatrix"&&L.instanceMatrix&&(ne=L.instanceMatrix),ee==="instanceColor"&&L.instanceColor&&(ne=L.instanceColor)),ne!==void 0){const oe=ne.normalized,we=ne.itemSize,W=r.get(ne);if(W===void 0)continue;const ke=W.buffer,Ee=W.type,Me=W.bytesPerElement;if(ne.isInterleavedBufferAttribute){const ge=ne.data,Ae=ge.stride,Fe=ne.offset;if(ge.isInstancedInterleavedBuffer){for(let pe=0;pe<V.locationSize;pe++)w(V.location+pe,ge.meshPerAttribute);L.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ge.meshPerAttribute*ge.count)}else for(let pe=0;pe<V.locationSize;pe++)b(V.location+pe);t.bindBuffer(34962,ke);for(let pe=0;pe<V.locationSize;pe++)C(V.location+pe,we/V.locationSize,Ee,oe,Ae*Me,(Fe+we/V.locationSize*pe)*Me)}else{if(ne.isInstancedBufferAttribute){for(let ge=0;ge<V.locationSize;ge++)w(V.location+ge,ne.meshPerAttribute);L.isInstancedMesh!==!0&&U._maxInstanceCount===void 0&&(U._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let ge=0;ge<V.locationSize;ge++)b(V.location+ge);t.bindBuffer(34962,ke);for(let ge=0;ge<V.locationSize;ge++)C(V.location+ge,we/V.locationSize,Ee,oe,we*Me,we/V.locationSize*ge*Me)}}else if(q!==void 0){const oe=q[ee];if(oe!==void 0)switch(oe.length){case 2:t.vertexAttrib2fv(V.location,oe);break;case 3:t.vertexAttrib3fv(V.location,oe);break;case 4:t.vertexAttrib4fv(V.location,oe);break;default:t.vertexAttrib1fv(V.location,oe)}}}}_()}function M(){j();for(const L in s){const O=s[L];for(const B in O){const U=O[B];for(const F in U)m(U[F].object),delete U[F];delete O[B]}delete s[L]}}function T(L){if(s[L.id]===void 0)return;const O=s[L.id];for(const B in O){const U=O[B];for(const F in U)m(U[F].object),delete U[F];delete O[B]}delete s[L.id]}function D(L){for(const O in s){const B=s[O];if(B[L.id]===void 0)continue;const U=B[L.id];for(const F in U)m(U[F].object),delete U[F];delete B[L.id]}}function j(){N(),u=!0,c!==l&&(c=l,g(c.object))}function N(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:j,resetDefaultState:N,dispose:M,releaseStatesOfGeometry:T,releaseStatesOfProgram:D,initAttributes:x,enableAttribute:b,disableUnusedAttributes:_}}function zj(t,e,r,n){const i=n.isWebGL2;let a;function o(c){a=c}function s(c,u){t.drawArrays(a,c,u),r.update(u,a,1)}function l(c,u,p){if(p===0)return;let d,g;if(i)d=t,g="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[g](a,c,u,p),r.update(u,a,p)}this.setMode=o,this.render=s,this.renderInstances=l}function Oj(t,e,r){let n;function i(){if(n!==void 0)return n;if(e.has("EXT_texture_filter_anisotropic")===!0){const C=e.get("EXT_texture_filter_anisotropic");n=t.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function a(C){if(C==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";C="mediump"}return C==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let s=r.precision!==void 0?r.precision:"highp";const l=a(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=o||e.has("WEBGL_draw_buffers"),u=r.logarithmicDepthBuffer===!0,p=t.getParameter(34930),d=t.getParameter(35660),g=t.getParameter(3379),m=t.getParameter(34076),h=t.getParameter(34921),f=t.getParameter(36347),v=t.getParameter(36348),y=t.getParameter(36349),x=d>0,b=o||e.has("OES_texture_float"),w=x&&b,_=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:u,maxTextures:p,maxVertexTextures:d,maxTextureSize:g,maxCubemapSize:m,maxAttributes:h,maxVertexUniforms:f,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:x,floatFragmentTextures:b,floatVertexTextures:w,maxSamples:_}}function Bj(t){const e=this;let r=null,n=0,i=!1,a=!1;const o=new mo,s=new qn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,d,g){const m=p.length!==0||d||n!==0||i;return i=d,r=u(p,g,0),n=p.length,m},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(p,d,g){const m=p.clippingPlanes,h=p.clipIntersection,f=p.clipShadows,v=t.get(p);if(!i||m===null||m.length===0||a&&!f)a?u(null):c();else{const y=a?0:n,x=y*4;let b=v.clippingState||null;l.value=b,b=u(m,d,x,g);for(let w=0;w!==x;++w)b[w]=r[w];v.clippingState=b,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==r&&(l.value=r,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(p,d,g,m){const h=p!==null?p.length:0;let f=null;if(h!==0){if(f=l.value,m!==!0||f===null){const v=g+h*4,y=d.matrixWorldInverse;s.getNormalMatrix(y),(f===null||f.length<v)&&(f=new Float32Array(v));for(let x=0,b=g;x!==h;++x,b+=4)o.copy(p[x]).applyMatrix4(y,s),o.normal.toArray(f,b),f[b+3]=o.constant}l.value=f,l.needsUpdate=!0}return e.numPlanes=h,e.numIntersection=0,f}}function jj(t){let e=new WeakMap;function r(o,s){return s===303?o.mapping=301:s===304&&(o.mapping=302),o}function n(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const s=o.mapping;if(s===303||s===304)if(e.has(o)){const l=e.get(o).texture;return r(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new rO(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),r(c.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}class $j extends uS{constructor(e=-1,r=1,n=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=r,this.top=n,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,r){return super.copy(e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,r,n,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,o=n+e,s=i+r,l=i-r;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,s-=u*this.view.offsetY,l=s-u*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const r=super.toJSON(e);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,this.view!==null&&(r.object.view=Object.assign({},this.view)),r}}const Gs=4,Tx=[.125,.215,.35,.446,.526,.582],vo=20,jm=new $j,Rx=new St;let $m=null;const go=(1+Math.sqrt(5))/2,Es=1/go,Px=[new K(1,1,1),new K(-1,1,1),new K(1,1,-1),new K(-1,1,-1),new K(0,go,Es),new K(0,go,-Es),new K(Es,0,go),new K(-Es,0,go),new K(go,Es,0),new K(-go,Es,0)];class Lx{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,r=0,n=.1,i=100){$m=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,i,a),r>0&&this._blur(a,0,0,r),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,r=null){return this._fromTexture(e,r)}fromCubemap(e,r=null){return this._fromTexture(e,r)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Ix(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Dx(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($m),e.scissorTest=!1,zd(e,0,0,e.width,e.height)}_fromTexture(e,r){e.mapping===301||e.mapping===302?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$m=this._renderer.getRenderTarget();const n=r||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),r=4*this._cubeSize,n={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,encoding:3e3,depthBuffer:!1},i=kx(e,r,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kx(e,r,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Uj(a)),this._blurMaterial=qj(a,e,r)}return i}_compileMaterial(e){const r=new Ti(this._lodPlanes[0],e);this._renderer.compile(r,jm)}_sceneToCubeUV(e,r,n,i){const a=new vn(90,1,r,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(Rx),l.toneMapping=0,l.autoClear=!1;const p=new sS({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new Ti(new Vu,p);let g=!1;const m=e.background;m?m.isColor&&(p.color.copy(m),e.background=null,g=!0):(p.color.copy(Rx),g=!0);for(let h=0;h<6;h++){const f=h%3;f===0?(a.up.set(0,o[h],0),a.lookAt(s[h],0,0)):f===1?(a.up.set(0,0,o[h]),a.lookAt(0,s[h],0)):(a.up.set(0,o[h],0),a.lookAt(0,0,s[h]));const v=this._cubeSize;zd(i,f*v,h>2?v:0,v,v),l.setRenderTarget(i),g&&l.render(d,a),l.render(e,a)}d.geometry.dispose(),d.material.dispose(),l.toneMapping=u,l.autoClear=c,e.background=m}_textureToCubeUV(e,r){const n=this._renderer,i=e.mapping===301||e.mapping===302;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Ix()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Dx());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new Ti(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;zd(r,0,0,3*l,2*l),n.setRenderTarget(r),n.render(o,jm)}_applyPMREM(e){const r=this._renderer,n=r.autoClear;r.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=Px[(i-1)%Px.length];this._blur(e,i-1,i,a,o)}r.autoClear=n}_blur(e,r,n,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,r,n,i,"latitudinal",a),this._halfBlur(o,e,n,n,i,"longitudinal",a)}_halfBlur(e,r,n,i,a,o,s){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,p=new Ti(this._lodPlanes[i],c),d=c.uniforms,g=this._sizeLods[n]-1,m=isFinite(a)?Math.PI/(2*g):2*Math.PI/(2*vo-1),h=a/m,f=isFinite(a)?1+Math.floor(u*h):vo;f>vo&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${f} samples when the maximum is set to ${vo}`);const v=[];let y=0;for(let C=0;C<vo;++C){const S=C/h,M=Math.exp(-S*S/2);v.push(M),C===0?y+=M:C<f&&(y+=2*M)}for(let C=0;C<v.length;C++)v[C]=v[C]/y;d.envMap.value=e.texture,d.samples.value=f,d.weights.value=v,d.latitudinal.value=o==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:x}=this;d.dTheta.value=m,d.mipInt.value=x-n;const b=this._sizeLods[i],w=3*b*(i>x-Gs?i-x+Gs:0),_=4*(this._cubeSize-b);zd(r,w,_,3*b,2*b),l.setRenderTarget(r),l.render(p,jm)}}function Uj(t){const e=[],r=[],n=[];let i=t;const a=t-Gs+1+Tx.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);r.push(s);let l=1/s;o>t-Gs?l=Tx[o-t+Gs-1]:o===0&&(l=0),n.push(l);const c=1/(s-2),u=-c,p=1+c,d=[u,u,p,u,p,p,u,u,p,p,u,p],g=6,m=6,h=3,f=2,v=1,y=new Float32Array(h*m*g),x=new Float32Array(f*m*g),b=new Float32Array(v*m*g);for(let _=0;_<g;_++){const C=_%3*2/3-1,S=_>2?0:-1,M=[C,S,0,C+2/3,S,0,C+2/3,S+1,0,C,S,0,C+2/3,S+1,0,C,S+1,0];y.set(M,h*m*_),x.set(d,f*m*_);const T=[_,_,_,_,_,_];b.set(T,v*m*_)}const w=new Ni;w.setAttribute("position",new ki(y,h)),w.setAttribute("uv",new ki(x,f)),w.setAttribute("faceIndex",new ki(b,v)),e.push(w),i>Gs&&i--}return{lodPlanes:e,sizeLods:r,sigmas:n}}function kx(t,e,r){const n=new Qo(t,e,r);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function zd(t,e,r,n,i){t.viewport.set(e,r,n,i),t.scissor.set(e,r,n,i)}function qj(t,e,r){const n=new Float32Array(vo),i=new K(0,1,0);return new Jo({name:"SphericalGaussianBlur",defines:{n:vo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:cv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Dx(){return new Jo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:cv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Ix(){return new Jo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:cv(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function cv(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Vj(t){let e=new WeakMap,r=null;function n(s){if(s&&s.isTexture){const l=s.mapping,c=l===303||l===304,u=l===301||l===302;if(c||u)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let p=e.get(s);return r===null&&(r=new Lx(t)),p=c?r.fromEquirectangular(s,p):r.fromCubemap(s,p),e.set(s,p),p.texture}else{if(e.has(s))return e.get(s).texture;{const p=s.image;if(c&&p&&p.height>0||u&&p&&i(p)){r===null&&(r=new Lx(t));const d=c?r.fromEquirectangular(s):r.fromCubemap(s);return e.set(s,d),s.addEventListener("dispose",a),d.texture}else return null}}}return s}function i(s){let l=0;const c=6;for(let u=0;u<c;u++)s[u]!==void 0&&l++;return l===c}function a(s){const l=s.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:n,dispose:o}}function Hj(t){const e={};function r(n){if(e[n]!==void 0)return e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(n){return r(n)!==null},init:function(n){n.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(n){const i=r(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function Wj(t,e,r,n){const i={},a=new WeakMap;function o(p){const d=p.target;d.index!==null&&e.remove(d.index);for(const m in d.attributes)e.remove(d.attributes[m]);d.removeEventListener("dispose",o),delete i[d.id];const g=a.get(d);g&&(e.remove(g),a.delete(d)),n.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,r.memory.geometries--}function s(p,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,r.memory.geometries++),d}function l(p){const d=p.attributes;for(const m in d)e.update(d[m],34962);const g=p.morphAttributes;for(const m in g){const h=g[m];for(let f=0,v=h.length;f<v;f++)e.update(h[f],34962)}}function c(p){const d=[],g=p.index,m=p.attributes.position;let h=0;if(g!==null){const y=g.array;h=g.version;for(let x=0,b=y.length;x<b;x+=3){const w=y[x+0],_=y[x+1],C=y[x+2];d.push(w,_,_,C,C,w)}}else{const y=m.array;h=m.version;for(let x=0,b=y.length/3-1;x<b;x+=3){const w=x+0,_=x+1,C=x+2;d.push(w,_,_,C,C,w)}}const f=new(tS(d)?cS:lS)(d,1);f.version=h;const v=a.get(p);v&&e.remove(v),a.set(p,f)}function u(p){const d=a.get(p);if(d){const g=p.index;g!==null&&d.version<g.version&&c(p)}else c(p);return a.get(p)}return{get:s,update:l,getWireframeAttribute:u}}function Gj(t,e,r,n){const i=n.isWebGL2;let a;function o(d){a=d}let s,l;function c(d){s=d.type,l=d.bytesPerElement}function u(d,g){t.drawElements(a,g,s,d*l),r.update(g,a,1)}function p(d,g,m){if(m===0)return;let h,f;if(i)h=t,f="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawElementsInstancedANGLE",h===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[f](a,g,s,d*l,m),r.update(g,a,m)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=p}function Zj(t){const e={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,o,s){switch(r.calls++,o){case 4:r.triangles+=s*(a/3);break;case 1:r.lines+=s*(a/2);break;case 3:r.lines+=s*(a-1);break;case 2:r.lines+=s*a;break;case 0:r.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:e,render:r,programs:null,autoReset:!0,reset:i,update:n}}function Xj(t,e){return t[0]-e[0]}function Yj(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Um(t,e){let r=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?r=127:n instanceof Uint8Array?r=255:n instanceof Uint16Array?r=65535:n instanceof Int16Array?r=32767:n instanceof Int32Array?r=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),t.divideScalar(r)}function Kj(t,e,r){const n={},i=new Float32Array(8),a=new WeakMap,o=new br,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(c,u,p,d){const g=c.morphTargetInfluences;if(e.isWebGL2===!0){const m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,h=m!==void 0?m.length:0;let f=a.get(u);if(f===void 0||f.count!==h){let x=function(){L.dispose(),a.delete(u),u.removeEventListener("dispose",x)};f!==void 0&&f.texture.dispose();const b=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,_=u.morphAttributes.color!==void 0,C=u.morphAttributes.position||[],S=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let T=0;b===!0&&(T=1),w===!0&&(T=2),_===!0&&(T=3);let D=u.attributes.position.count*T,j=1;D>e.maxTextureSize&&(j=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const N=new Float32Array(D*j*4*h),L=new aS(N,D,j,h);L.type=1015,L.needsUpdate=!0;const O=T*4;for(let B=0;B<h;B++){const U=C[B],F=S[B],z=M[B],q=D*j*4*B;for(let ee=0;ee<U.count;ee++){const V=ee*O;b===!0&&(o.fromBufferAttribute(U,ee),U.normalized===!0&&Um(o,U),N[q+V+0]=o.x,N[q+V+1]=o.y,N[q+V+2]=o.z,N[q+V+3]=0),w===!0&&(o.fromBufferAttribute(F,ee),F.normalized===!0&&Um(o,F),N[q+V+4]=o.x,N[q+V+5]=o.y,N[q+V+6]=o.z,N[q+V+7]=0),_===!0&&(o.fromBufferAttribute(z,ee),z.normalized===!0&&Um(o,z),N[q+V+8]=o.x,N[q+V+9]=o.y,N[q+V+10]=o.z,N[q+V+11]=z.itemSize===4?o.w:1)}}f={count:h,texture:L,size:new Ct(D,j)},a.set(u,f),u.addEventListener("dispose",x)}let v=0;for(let x=0;x<g.length;x++)v+=g[x];const y=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",y),d.getUniforms().setValue(t,"morphTargetInfluences",g),d.getUniforms().setValue(t,"morphTargetsTexture",f.texture,r),d.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}else{const m=g===void 0?0:g.length;let h=n[u.id];if(h===void 0||h.length!==m){h=[];for(let b=0;b<m;b++)h[b]=[b,0];n[u.id]=h}for(let b=0;b<m;b++){const w=h[b];w[0]=b,w[1]=g[b]}h.sort(Yj);for(let b=0;b<8;b++)b<m&&h[b][1]?(s[b][0]=h[b][0],s[b][1]=h[b][1]):(s[b][0]=Number.MAX_SAFE_INTEGER,s[b][1]=0);s.sort(Xj);const f=u.morphAttributes.position,v=u.morphAttributes.normal;let y=0;for(let b=0;b<8;b++){const w=s[b],_=w[0],C=w[1];_!==Number.MAX_SAFE_INTEGER&&C?(f&&u.getAttribute("morphTarget"+b)!==f[_]&&u.setAttribute("morphTarget"+b,f[_]),v&&u.getAttribute("morphNormal"+b)!==v[_]&&u.setAttribute("morphNormal"+b,v[_]),i[b]=C,y+=C):(f&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),v&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),i[b]=0)}const x=u.morphTargetsRelative?1:1-y;d.getUniforms().setValue(t,"morphTargetBaseInfluence",x),d.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Qj(t,e,r,n){let i=new WeakMap;function a(l){const c=n.render.frame,u=l.geometry,p=e.get(l,u);return i.get(p)!==c&&(e.update(p),i.set(p,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),r.update(l.instanceMatrix,34962),l.instanceColor!==null&&r.update(l.instanceColor,34962)),p}function o(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),r.remove(c.instanceMatrix),c.instanceColor!==null&&r.remove(c.instanceColor)}return{update:a,dispose:o}}const hS=new Mn,fS=new aS,mS=new Bz,gS=new dS,Fx=[],Nx=[],zx=new Float32Array(16),Ox=new Float32Array(9),Bx=new Float32Array(4);function Pl(t,e,r){const n=t[0];if(n<=0||n>0)return t;const i=e*r;let a=Fx[i];if(a===void 0&&(a=new Float32Array(i),Fx[i]=a),e!==0){n.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=r,t[o].toArray(a,s)}return a}function Gr(t,e){if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Zr(t,e){for(let r=0,n=e.length;r<n;r++)t[r]=e[r]}function Cf(t,e){let r=Nx[e];r===void 0&&(r=new Int32Array(e),Nx[e]=r);for(let n=0;n!==e;++n)r[n]=t.allocateTextureUnit();return r}function Jj(t,e){const r=this.cache;r[0]!==e&&(t.uniform1f(this.addr,e),r[0]=e)}function e$(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y);else{if(Gr(r,e))return;t.uniform2fv(this.addr,e),Zr(r,e)}}function t$(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z);else if(e.r!==void 0)(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b);else{if(Gr(r,e))return;t.uniform3fv(this.addr,e),Zr(r,e)}}function r$(t,e){const r=this.cache;if(e.x!==void 0)(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w);else{if(Gr(r,e))return;t.uniform4fv(this.addr,e),Zr(r,e)}}function n$(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(Gr(r,e))return;t.uniformMatrix2fv(this.addr,!1,e),Zr(r,e)}else{if(Gr(r,n))return;Bx.set(n),t.uniformMatrix2fv(this.addr,!1,Bx),Zr(r,n)}}function i$(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(Gr(r,e))return;t.uniformMatrix3fv(this.addr,!1,e),Zr(r,e)}else{if(Gr(r,n))return;Ox.set(n),t.uniformMatrix3fv(this.addr,!1,Ox),Zr(r,n)}}function a$(t,e){const r=this.cache,n=e.elements;if(n===void 0){if(Gr(r,e))return;t.uniformMatrix4fv(this.addr,!1,e),Zr(r,e)}else{if(Gr(r,n))return;zx.set(n),t.uniformMatrix4fv(this.addr,!1,zx),Zr(r,n)}}function o$(t,e){const r=this.cache;r[0]!==e&&(t.uniform1i(this.addr,e),r[0]=e)}function s$(t,e){const r=this.cache;Gr(r,e)||(t.uniform2iv(this.addr,e),Zr(r,e))}function l$(t,e){const r=this.cache;Gr(r,e)||(t.uniform3iv(this.addr,e),Zr(r,e))}function c$(t,e){const r=this.cache;Gr(r,e)||(t.uniform4iv(this.addr,e),Zr(r,e))}function u$(t,e){const r=this.cache;r[0]!==e&&(t.uniform1ui(this.addr,e),r[0]=e)}function d$(t,e){const r=this.cache;Gr(r,e)||(t.uniform2uiv(this.addr,e),Zr(r,e))}function p$(t,e){const r=this.cache;Gr(r,e)||(t.uniform3uiv(this.addr,e),Zr(r,e))}function h$(t,e){const r=this.cache;Gr(r,e)||(t.uniform4uiv(this.addr,e),Zr(r,e))}function f$(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(e||hS,i)}function m$(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(e||mS,i)}function g$(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(e||gS,i)}function v$(t,e,r){const n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(t.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(e||fS,i)}function y$(t){switch(t){case 5126:return Jj;case 35664:return e$;case 35665:return t$;case 35666:return r$;case 35674:return n$;case 35675:return i$;case 35676:return a$;case 5124:case 35670:return o$;case 35667:case 35671:return s$;case 35668:case 35672:return l$;case 35669:case 35673:return c$;case 5125:return u$;case 36294:return d$;case 36295:return p$;case 36296:return h$;case 35678:case 36198:case 36298:case 36306:case 35682:return f$;case 35679:case 36299:case 36307:return m$;case 35680:case 36300:case 36308:case 36293:return g$;case 36289:case 36303:case 36311:case 36292:return v$}}function x$(t,e){t.uniform1fv(this.addr,e)}function b$(t,e){const r=Pl(e,this.size,2);t.uniform2fv(this.addr,r)}function _$(t,e){const r=Pl(e,this.size,3);t.uniform3fv(this.addr,r)}function w$(t,e){const r=Pl(e,this.size,4);t.uniform4fv(this.addr,r)}function S$(t,e){const r=Pl(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,r)}function C$(t,e){const r=Pl(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,r)}function E$(t,e){const r=Pl(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,r)}function M$(t,e){t.uniform1iv(this.addr,e)}function A$(t,e){t.uniform2iv(this.addr,e)}function T$(t,e){t.uniform3iv(this.addr,e)}function R$(t,e){t.uniform4iv(this.addr,e)}function P$(t,e){t.uniform1uiv(this.addr,e)}function L$(t,e){t.uniform2uiv(this.addr,e)}function k$(t,e){t.uniform3uiv(this.addr,e)}function D$(t,e){t.uniform4uiv(this.addr,e)}function I$(t,e,r){const n=e.length,i=Cf(r,n);t.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)r.setTexture2D(e[a]||hS,i[a])}function F$(t,e,r){const n=e.length,i=Cf(r,n);t.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)r.setTexture3D(e[a]||mS,i[a])}function N$(t,e,r){const n=e.length,i=Cf(r,n);t.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)r.setTextureCube(e[a]||gS,i[a])}function z$(t,e,r){const n=e.length,i=Cf(r,n);t.uniform1iv(this.addr,i);for(let a=0;a!==n;++a)r.setTexture2DArray(e[a]||fS,i[a])}function O$(t){switch(t){case 5126:return x$;case 35664:return b$;case 35665:return _$;case 35666:return w$;case 35674:return S$;case 35675:return C$;case 35676:return E$;case 5124:case 35670:return M$;case 35667:case 35671:return A$;case 35668:case 35672:return T$;case 35669:case 35673:return R$;case 5125:return P$;case 36294:return L$;case 36295:return k$;case 36296:return D$;case 35678:case 36198:case 36298:case 36306:case 35682:return I$;case 35679:case 36299:case 36307:return F$;case 35680:case 36300:case 36308:case 36293:return N$;case 36289:case 36303:case 36311:case 36292:return z$}}class B${constructor(e,r,n){this.id=e,this.addr=n,this.cache=[],this.setValue=y$(r.type)}}class j${constructor(e,r,n){this.id=e,this.addr=n,this.cache=[],this.size=r.size,this.setValue=O$(r.type)}}class $${constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,r,n){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,r[s.id],n)}}}const qm=/(\w+)(\])?(\[|\.)?/g;function jx(t,e){t.seq.push(e),t.map[e.id]=e}function U$(t,e,r){const n=t.name,i=n.length;for(qm.lastIndex=0;;){const a=qm.exec(n),o=qm.lastIndex;let s=a[1];const l=a[2]==="]",c=a[3];if(l&&(s=s|0),c===void 0||c==="["&&o+2===i){jx(r,c===void 0?new B$(s,t,e):new j$(s,t,e));break}else{let u=r.map[s];u===void 0&&(u=new $$(s),jx(r,u)),r=u}}}class up{constructor(e,r){this.seq=[],this.map={};const n=e.getProgramParameter(r,35718);for(let i=0;i<n;++i){const a=e.getActiveUniform(r,i),o=e.getUniformLocation(r,a.name);U$(a,o,this)}}setValue(e,r,n,i){const a=this.map[r];a!==void 0&&a.setValue(e,n,i)}setOptional(e,r,n){const i=r[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,r,n,i){for(let a=0,o=r.length;a!==o;++a){const s=r[a],l=n[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,r){const n=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in r&&n.push(o)}return n}}function $x(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}let q$=0;function V$(t,e){const r=t.split(`
`),n=[],i=Math.max(e-6,0),a=Math.min(e+6,r.length);for(let o=i;o<a;o++){const s=o+1;n.push(`${s===e?">":" "} ${s}: ${r[o]}`)}return n.join(`
`)}function H$(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Ux(t,e,r){const n=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(n&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return r.toUpperCase()+`

`+i+`

`+V$(t.getShaderSource(e),o)}else return i}function W$(t,e){const r=H$(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function G$(t,e){let r;switch(e){case 1:r="Linear";break;case 2:r="Reinhard";break;case 3:r="OptimizedCineon";break;case 4:r="ACESFilmic";break;case 5:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),r="Linear"}return"vec3 "+t+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Z$(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(vc).join(`
`)}function X$(t){const e=[];for(const r in t){const n=t[r];n!==!1&&e.push("#define "+r+" "+n)}return e.join(`
`)}function Y$(t,e){const r={},n=t.getProgramParameter(e,35721);for(let i=0;i<n;i++){const a=t.getActiveAttrib(e,i),o=a.name;let s=1;a.type===35674&&(s=2),a.type===35675&&(s=3),a.type===35676&&(s=4),r[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return r}function vc(t){return t!==""}function qx(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Vx(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const K$=/^[ \t]*#include +<([\w\d./]+)>/gm;function Eg(t){return t.replace(K$,Q$)}function Q$(t,e){const r=xt[e];if(r===void 0)throw new Error("Can not resolve #include <"+e+">");return Eg(r)}const J$=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,eU=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Hx(t){return t.replace(eU,vS).replace(J$,tU)}function tU(t,e,r,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),vS(t,e,r,n)}function vS(t,e,r,n){let i="";for(let a=parseInt(e);a<parseInt(r);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Wx(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rU(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===2?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===3&&(e="SHADOWMAP_TYPE_VSM"),e}function nU(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV";break}return e}function iU(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:e="ENVMAP_MODE_REFRACTION";break}return e}function aU(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD";break}return e}function oU(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const r=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:n,maxMip:r}}function sU(t,e,r,n){const i=t.getContext(),a=r.defines;let o=r.vertexShader,s=r.fragmentShader;const l=rU(r),c=nU(r),u=iU(r),p=aU(r),d=oU(r),g=r.isWebGL2?"":Z$(r),m=X$(a),h=i.createProgram();let f,v,y=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(f=[m].filter(vc).join(`
`),f.length>0&&(f+=`
`),v=[g,m].filter(vc).join(`
`),v.length>0&&(v+=`
`)):(f=[Wx(r),"#define SHADER_NAME "+r.shaderName,m,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(vc).join(`
`),v=[g,Wx(r),"#define SHADER_NAME "+r.shaderName,m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+u:"",r.envMap?"#define "+p:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==0?"#define TONE_MAPPING":"",r.toneMapping!==0?xt.tonemapping_pars_fragment:"",r.toneMapping!==0?G$("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",xt.encodings_pars_fragment,W$("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(vc).join(`
`)),o=Eg(o),o=qx(o,r),o=Vx(o,r),s=Eg(s),s=qx(s,r),s=Vx(s,r),o=Hx(o),s=Hx(s),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,f=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+f,v=["#define varying in",r.glslVersion===mx?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===mx?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const x=y+f+o,b=y+v+s,w=$x(i,35633,x),_=$x(i,35632,b);if(i.attachShader(h,w),i.attachShader(h,_),r.index0AttributeName!==void 0?i.bindAttribLocation(h,0,r.index0AttributeName):r.morphTargets===!0&&i.bindAttribLocation(h,0,"position"),i.linkProgram(h),t.debug.checkShaderErrors){const M=i.getProgramInfoLog(h).trim(),T=i.getShaderInfoLog(w).trim(),D=i.getShaderInfoLog(_).trim();let j=!0,N=!0;if(i.getProgramParameter(h,35714)===!1){j=!1;const L=Ux(i,w,"vertex"),O=Ux(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(h,35715)+`

Program Info Log: `+M+`
`+L+`
`+O)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(T===""||D==="")&&(N=!1);N&&(this.diagnostics={runnable:j,programLog:M,vertexShader:{log:T,prefix:f},fragmentShader:{log:D,prefix:v}})}i.deleteShader(w),i.deleteShader(_);let C;this.getUniforms=function(){return C===void 0&&(C=new up(i,h)),C};let S;return this.getAttributes=function(){return S===void 0&&(S=Y$(i,h)),S},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(h),this.program=void 0},this.name=r.shaderName,this.id=q$++,this.cacheKey=e,this.usedTimes=1,this.program=h,this.vertexShader=w,this.fragmentShader=_,this}let lU=0;class cU{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const r=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(r),a=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const r=this.materialCache.get(e);for(const n of r)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const r=this.materialCache;return r.has(e)===!1&&r.set(e,new Set),r.get(e)}_getShaderStage(e){const r=this.shaderCache;if(r.has(e)===!1){const n=new uU(e);r.set(e,n)}return r.get(e)}}class uU{constructor(e){this.id=lU++,this.code=e,this.usedTimes=0}}function dU(t,e,r,n,i,a,o){const s=new oS,l=new cU,c=[],u=i.isWebGL2,p=i.logarithmicDepthBuffer,d=i.vertexTextures;let g=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function h(S,M,T,D,j){const N=D.fog,L=j.geometry,O=S.isMeshStandardMaterial?D.environment:null,B=(S.isMeshStandardMaterial?r:e).get(S.envMap||O),U=B&&B.mapping===306?B.image.height:null,F=m[S.type];S.precision!==null&&(g=i.getMaxPrecision(S.precision),g!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",g,"instead."));const z=L.morphAttributes.position||L.morphAttributes.normal||L.morphAttributes.color,q=z!==void 0?z.length:0;let ee=0;L.morphAttributes.position!==void 0&&(ee=1),L.morphAttributes.normal!==void 0&&(ee=2),L.morphAttributes.color!==void 0&&(ee=3);let V,ne,oe,we;if(F){const ge=Mi[F];V=ge.vertexShader,ne=ge.fragmentShader}else V=S.vertexShader,ne=S.fragmentShader,l.update(S),oe=l.getVertexShaderID(S),we=l.getFragmentShaderID(S);const W=t.getRenderTarget(),ke=S.alphaTest>0,Ee=S.clearcoat>0,Me=S.iridescence>0;return{isWebGL2:u,shaderID:F,shaderName:S.type,vertexShader:V,fragmentShader:ne,defines:S.defines,customVertexShaderID:oe,customFragmentShaderID:we,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:g,instancing:j.isInstancedMesh===!0,instancingColor:j.isInstancedMesh===!0&&j.instanceColor!==null,supportsVertexTextures:d,outputEncoding:W===null?t.outputEncoding:W.isXRRenderTarget===!0?W.texture.encoding:3e3,map:!!S.map,matcap:!!S.matcap,envMap:!!B,envMapMode:B&&B.mapping,envMapCubeUVHeight:U,lightMap:!!S.lightMap,aoMap:!!S.aoMap,emissiveMap:!!S.emissiveMap,bumpMap:!!S.bumpMap,normalMap:!!S.normalMap,objectSpaceNormalMap:S.normalMapType===1,tangentSpaceNormalMap:S.normalMapType===0,decodeVideoTexture:!!S.map&&S.map.isVideoTexture===!0&&S.map.encoding===3001,clearcoat:Ee,clearcoatMap:Ee&&!!S.clearcoatMap,clearcoatRoughnessMap:Ee&&!!S.clearcoatRoughnessMap,clearcoatNormalMap:Ee&&!!S.clearcoatNormalMap,iridescence:Me,iridescenceMap:Me&&!!S.iridescenceMap,iridescenceThicknessMap:Me&&!!S.iridescenceThicknessMap,displacementMap:!!S.displacementMap,roughnessMap:!!S.roughnessMap,metalnessMap:!!S.metalnessMap,specularMap:!!S.specularMap,specularIntensityMap:!!S.specularIntensityMap,specularColorMap:!!S.specularColorMap,opaque:S.transparent===!1&&S.blending===1,alphaMap:!!S.alphaMap,alphaTest:ke,gradientMap:!!S.gradientMap,sheen:S.sheen>0,sheenColorMap:!!S.sheenColorMap,sheenRoughnessMap:!!S.sheenRoughnessMap,transmission:S.transmission>0,transmissionMap:!!S.transmissionMap,thicknessMap:!!S.thicknessMap,combine:S.combine,vertexTangents:!!S.normalMap&&!!L.attributes.tangent,vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!L.attributes.color&&L.attributes.color.itemSize===4,vertexUvs:!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatMap||!!S.clearcoatRoughnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||!!S.displacementMap||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||!!S.sheenColorMap||!!S.sheenRoughnessMap,uvsVertexOnly:!(S.map||S.bumpMap||S.normalMap||S.specularMap||S.alphaMap||S.emissiveMap||S.roughnessMap||S.metalnessMap||S.clearcoatNormalMap||S.iridescenceMap||S.iridescenceThicknessMap||S.transmission>0||S.transmissionMap||S.thicknessMap||S.specularIntensityMap||S.specularColorMap||S.sheen>0||S.sheenColorMap||S.sheenRoughnessMap)&&!!S.displacementMap,fog:!!N,useFog:S.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:!!S.flatShading,sizeAttenuation:S.sizeAttenuation,logarithmicDepthBuffer:p,skinning:j.isSkinnedMesh===!0,morphTargets:L.morphAttributes.position!==void 0,morphNormals:L.morphAttributes.normal!==void 0,morphColors:L.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:ee,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&T.length>0,shadowMapType:t.shadowMap.type,toneMapping:S.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===2,flipSided:S.side===1,useDepthPacking:!!S.depthPacking,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:S.extensions&&S.extensions.derivatives,extensionFragDepth:S.extensions&&S.extensions.fragDepth,extensionDrawBuffers:S.extensions&&S.extensions.drawBuffers,extensionShaderTextureLOD:S.extensions&&S.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}}function f(S){const M=[];if(S.shaderID?M.push(S.shaderID):(M.push(S.customVertexShaderID),M.push(S.customFragmentShaderID)),S.defines!==void 0)for(const T in S.defines)M.push(T),M.push(S.defines[T]);return S.isRawShaderMaterial===!1&&(v(M,S),y(M,S),M.push(t.outputEncoding)),M.push(S.customProgramCacheKey),M.join()}function v(S,M){S.push(M.precision),S.push(M.outputEncoding),S.push(M.envMapMode),S.push(M.envMapCubeUVHeight),S.push(M.combine),S.push(M.vertexUvs),S.push(M.fogExp2),S.push(M.sizeAttenuation),S.push(M.morphTargetsCount),S.push(M.morphAttributeCount),S.push(M.numDirLights),S.push(M.numPointLights),S.push(M.numSpotLights),S.push(M.numHemiLights),S.push(M.numRectAreaLights),S.push(M.numDirLightShadows),S.push(M.numPointLightShadows),S.push(M.numSpotLightShadows),S.push(M.shadowMapType),S.push(M.toneMapping),S.push(M.numClippingPlanes),S.push(M.numClipIntersection),S.push(M.depthPacking)}function y(S,M){s.disableAll(),M.isWebGL2&&s.enable(0),M.supportsVertexTextures&&s.enable(1),M.instancing&&s.enable(2),M.instancingColor&&s.enable(3),M.map&&s.enable(4),M.matcap&&s.enable(5),M.envMap&&s.enable(6),M.lightMap&&s.enable(7),M.aoMap&&s.enable(8),M.emissiveMap&&s.enable(9),M.bumpMap&&s.enable(10),M.normalMap&&s.enable(11),M.objectSpaceNormalMap&&s.enable(12),M.tangentSpaceNormalMap&&s.enable(13),M.clearcoat&&s.enable(14),M.clearcoatMap&&s.enable(15),M.clearcoatRoughnessMap&&s.enable(16),M.clearcoatNormalMap&&s.enable(17),M.iridescence&&s.enable(18),M.iridescenceMap&&s.enable(19),M.iridescenceThicknessMap&&s.enable(20),M.displacementMap&&s.enable(21),M.specularMap&&s.enable(22),M.roughnessMap&&s.enable(23),M.metalnessMap&&s.enable(24),M.gradientMap&&s.enable(25),M.alphaMap&&s.enable(26),M.alphaTest&&s.enable(27),M.vertexColors&&s.enable(28),M.vertexAlphas&&s.enable(29),M.vertexUvs&&s.enable(30),M.vertexTangents&&s.enable(31),M.uvsVertexOnly&&s.enable(32),M.fog&&s.enable(33),S.push(s.mask),s.disableAll(),M.useFog&&s.enable(0),M.flatShading&&s.enable(1),M.logarithmicDepthBuffer&&s.enable(2),M.skinning&&s.enable(3),M.morphTargets&&s.enable(4),M.morphNormals&&s.enable(5),M.morphColors&&s.enable(6),M.premultipliedAlpha&&s.enable(7),M.shadowMapEnabled&&s.enable(8),M.physicallyCorrectLights&&s.enable(9),M.doubleSided&&s.enable(10),M.flipSided&&s.enable(11),M.useDepthPacking&&s.enable(12),M.dithering&&s.enable(13),M.specularIntensityMap&&s.enable(14),M.specularColorMap&&s.enable(15),M.transmission&&s.enable(16),M.transmissionMap&&s.enable(17),M.thicknessMap&&s.enable(18),M.sheen&&s.enable(19),M.sheenColorMap&&s.enable(20),M.sheenRoughnessMap&&s.enable(21),M.decodeVideoTexture&&s.enable(22),M.opaque&&s.enable(23),S.push(s.mask)}function x(S){const M=m[S.type];let T;if(M){const D=Mi[M];T=Qz.clone(D.uniforms)}else T=S.uniforms;return T}function b(S,M){let T;for(let D=0,j=c.length;D<j;D++){const N=c[D];if(N.cacheKey===M){T=N,++T.usedTimes;break}}return T===void 0&&(T=new sU(t,M,S,a),c.push(T)),T}function w(S){if(--S.usedTimes===0){const M=c.indexOf(S);c[M]=c[c.length-1],c.pop(),S.destroy()}}function _(S){l.remove(S)}function C(){l.dispose()}return{getParameters:h,getProgramCacheKey:f,getUniforms:x,acquireProgram:b,releaseProgram:w,releaseShaderCache:_,programs:c,dispose:C}}function pU(){let t=new WeakMap;function e(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function n(a,o,s){t.get(a)[o]=s}function i(){t=new WeakMap}return{get:e,remove:r,update:n,dispose:i}}function hU(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Gx(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Zx(){const t=[];let e=0;const r=[],n=[],i=[];function a(){e=0,r.length=0,n.length=0,i.length=0}function o(p,d,g,m,h,f){let v=t[e];return v===void 0?(v={id:p.id,object:p,geometry:d,material:g,groupOrder:m,renderOrder:p.renderOrder,z:h,group:f},t[e]=v):(v.id=p.id,v.object=p,v.geometry=d,v.material=g,v.groupOrder=m,v.renderOrder=p.renderOrder,v.z=h,v.group=f),e++,v}function s(p,d,g,m,h,f){const v=o(p,d,g,m,h,f);g.transmission>0?n.push(v):g.transparent===!0?i.push(v):r.push(v)}function l(p,d,g,m,h,f){const v=o(p,d,g,m,h,f);g.transmission>0?n.unshift(v):g.transparent===!0?i.unshift(v):r.unshift(v)}function c(p,d){r.length>1&&r.sort(p||hU),n.length>1&&n.sort(d||Gx),i.length>1&&i.sort(d||Gx)}function u(){for(let p=e,d=t.length;p<d;p++){const g=t[p];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:r,transmissive:n,transparent:i,init:a,push:s,unshift:l,finish:u,sort:c}}function fU(){let t=new WeakMap;function e(n,i){let a;return t.has(n)===!1?(a=new Zx,t.set(n,[a])):i>=t.get(n).length?(a=new Zx,t.get(n).push(a)):a=t.get(n)[i],a}function r(){t=new WeakMap}return{get:e,dispose:r}}function mU(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={direction:new K,color:new St};break;case"SpotLight":r={position:new K,direction:new K,color:new St,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new K,color:new St,distance:0,decay:0};break;case"HemisphereLight":r={direction:new K,skyColor:new St,groundColor:new St};break;case"RectAreaLight":r={color:new St,position:new K,halfWidth:new K,halfHeight:new K};break}return t[e.id]=r,r}}}function gU(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let r;switch(e.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ct,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=r,r}}}let vU=0;function yU(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function xU(t,e){const r=new mU,n=gU(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new K);const a=new K,o=new _r,s=new _r;function l(u,p){let d=0,g=0,m=0;for(let M=0;M<9;M++)i.probe[M].set(0,0,0);let h=0,f=0,v=0,y=0,x=0,b=0,w=0,_=0;u.sort(yU);const C=p!==!0?Math.PI:1;for(let M=0,T=u.length;M<T;M++){const D=u[M],j=D.color,N=D.intensity,L=D.distance,O=D.shadow&&D.shadow.map?D.shadow.map.texture:null;if(D.isAmbientLight)d+=j.r*N*C,g+=j.g*N*C,m+=j.b*N*C;else if(D.isLightProbe)for(let B=0;B<9;B++)i.probe[B].addScaledVector(D.sh.coefficients[B],N);else if(D.isDirectionalLight){const B=r.get(D);if(B.color.copy(D.color).multiplyScalar(D.intensity*C),D.castShadow){const U=D.shadow,F=n.get(D);F.shadowBias=U.bias,F.shadowNormalBias=U.normalBias,F.shadowRadius=U.radius,F.shadowMapSize=U.mapSize,i.directionalShadow[h]=F,i.directionalShadowMap[h]=O,i.directionalShadowMatrix[h]=D.shadow.matrix,b++}i.directional[h]=B,h++}else if(D.isSpotLight){const B=r.get(D);if(B.position.setFromMatrixPosition(D.matrixWorld),B.color.copy(j).multiplyScalar(N*C),B.distance=L,B.coneCos=Math.cos(D.angle),B.penumbraCos=Math.cos(D.angle*(1-D.penumbra)),B.decay=D.decay,D.castShadow){const U=D.shadow,F=n.get(D);F.shadowBias=U.bias,F.shadowNormalBias=U.normalBias,F.shadowRadius=U.radius,F.shadowMapSize=U.mapSize,i.spotShadow[v]=F,i.spotShadowMap[v]=O,i.spotShadowMatrix[v]=D.shadow.matrix,_++}i.spot[v]=B,v++}else if(D.isRectAreaLight){const B=r.get(D);B.color.copy(j).multiplyScalar(N),B.halfWidth.set(D.width*.5,0,0),B.halfHeight.set(0,D.height*.5,0),i.rectArea[y]=B,y++}else if(D.isPointLight){const B=r.get(D);if(B.color.copy(D.color).multiplyScalar(D.intensity*C),B.distance=D.distance,B.decay=D.decay,D.castShadow){const U=D.shadow,F=n.get(D);F.shadowBias=U.bias,F.shadowNormalBias=U.normalBias,F.shadowRadius=U.radius,F.shadowMapSize=U.mapSize,F.shadowCameraNear=U.camera.near,F.shadowCameraFar=U.camera.far,i.pointShadow[f]=F,i.pointShadowMap[f]=O,i.pointShadowMatrix[f]=D.shadow.matrix,w++}i.point[f]=B,f++}else if(D.isHemisphereLight){const B=r.get(D);B.skyColor.copy(D.color).multiplyScalar(N*C),B.groundColor.copy(D.groundColor).multiplyScalar(N*C),i.hemi[x]=B,x++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Se.LTC_FLOAT_1,i.rectAreaLTC2=Se.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Se.LTC_HALF_1,i.rectAreaLTC2=Se.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=g,i.ambient[2]=m;const S=i.hash;(S.directionalLength!==h||S.pointLength!==f||S.spotLength!==v||S.rectAreaLength!==y||S.hemiLength!==x||S.numDirectionalShadows!==b||S.numPointShadows!==w||S.numSpotShadows!==_)&&(i.directional.length=h,i.spot.length=v,i.rectArea.length=y,i.point.length=f,i.hemi.length=x,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=_,i.spotShadowMap.length=_,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=w,i.spotShadowMatrix.length=_,S.directionalLength=h,S.pointLength=f,S.spotLength=v,S.rectAreaLength=y,S.hemiLength=x,S.numDirectionalShadows=b,S.numPointShadows=w,S.numSpotShadows=_,i.version=vU++)}function c(u,p){let d=0,g=0,m=0,h=0,f=0;const v=p.matrixWorldInverse;for(let y=0,x=u.length;y<x;y++){const b=u[y];if(b.isDirectionalLight){const w=i.directional[d];w.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),d++}else if(b.isSpotLight){const w=i.spot[m];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(b.matrixWorld),a.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),m++}else if(b.isRectAreaLight){const w=i.rectArea[h];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),s.identity(),o.copy(b.matrixWorld),o.premultiply(v),s.extractRotation(o),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(s),w.halfHeight.applyMatrix4(s),h++}else if(b.isPointLight){const w=i.point[g];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),g++}else if(b.isHemisphereLight){const w=i.hemi[f];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(v),f++}}}return{setup:l,setupView:c,state:i}}function Xx(t,e){const r=new xU(t,e),n=[],i=[];function a(){n.length=0,i.length=0}function o(u){n.push(u)}function s(u){i.push(u)}function l(u){r.setup(n,u)}function c(u){r.setupView(n,u)}return{init:a,state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:s}}function bU(t,e){let r=new WeakMap;function n(a,o=0){let s;return r.has(a)===!1?(s=new Xx(t,e),r.set(a,[s])):o>=r.get(a).length?(s=new Xx(t,e),r.get(a).push(s)):s=r.get(a)[o],s}function i(){r=new WeakMap}return{get:n,dispose:i}}class _U extends is{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class wU extends is{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new K,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const SU=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,CU=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function EU(t,e,r){let n=new lv;const i=new Ct,a=new Ct,o=new br,s=new _U({depthPacking:3201}),l=new wU,c={},u=r.maxTextureSize,p={0:1,1:0,2:2},d=new Jo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ct},radius:{value:4}},vertexShader:SU,fragmentShader:CU}),g=d.clone();g.defines.HORIZONTAL_PASS=1;const m=new Ni;m.setAttribute("position",new ki(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const h=new Ti(m,d),f=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(b,w,_){if(f.enabled===!1||f.autoUpdate===!1&&f.needsUpdate===!1||b.length===0)return;const C=t.getRenderTarget(),S=t.getActiveCubeFace(),M=t.getActiveMipmapLevel(),T=t.state;T.setBlending(0),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);for(let D=0,j=b.length;D<j;D++){const N=b[D],L=N.shadow;if(L===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(L.autoUpdate===!1&&L.needsUpdate===!1)continue;i.copy(L.mapSize);const O=L.getFrameExtents();if(i.multiply(O),a.copy(L.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/O.x),i.x=a.x*O.x,L.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/O.y),i.y=a.y*O.y,L.mapSize.y=a.y)),L.map===null){const U=this.type!==3?{minFilter:1003,magFilter:1003}:{};L.map=new Qo(i.x,i.y,U),L.map.texture.name=N.name+".shadowMap",L.camera.updateProjectionMatrix()}t.setRenderTarget(L.map),t.clear();const B=L.getViewportCount();for(let U=0;U<B;U++){const F=L.getViewport(U);o.set(a.x*F.x,a.y*F.y,a.x*F.z,a.y*F.w),T.viewport(o),L.updateMatrices(N,U),n=L.getFrustum(),x(w,_,L.camera,N,this.type)}L.isPointLightShadow!==!0&&this.type===3&&v(L,_),L.needsUpdate=!1}f.needsUpdate=!1,t.setRenderTarget(C,S,M)};function v(b,w){const _=e.update(h);d.defines.VSM_SAMPLES!==b.blurSamples&&(d.defines.VSM_SAMPLES=b.blurSamples,g.defines.VSM_SAMPLES=b.blurSamples,d.needsUpdate=!0,g.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new Qo(i.x,i.y)),d.uniforms.shadow_pass.value=b.map.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,t.setRenderTarget(b.mapPass),t.clear(),t.renderBufferDirect(w,null,_,d,h,null),g.uniforms.shadow_pass.value=b.mapPass.texture,g.uniforms.resolution.value=b.mapSize,g.uniforms.radius.value=b.radius,t.setRenderTarget(b.map),t.clear(),t.renderBufferDirect(w,null,_,g,h,null)}function y(b,w,_,C,S,M){let T=null;const D=_.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(D!==void 0?T=D:T=_.isPointLight===!0?l:s,t.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0){const j=T.uuid,N=w.uuid;let L=c[j];L===void 0&&(L={},c[j]=L);let O=L[N];O===void 0&&(O=T.clone(),L[N]=O),T=O}return T.visible=w.visible,T.wireframe=w.wireframe,M===3?T.side=w.shadowSide!==null?w.shadowSide:w.side:T.side=w.shadowSide!==null?w.shadowSide:p[w.side],T.alphaMap=w.alphaMap,T.alphaTest=w.alphaTest,T.clipShadows=w.clipShadows,T.clippingPlanes=w.clippingPlanes,T.clipIntersection=w.clipIntersection,T.displacementMap=w.displacementMap,T.displacementScale=w.displacementScale,T.displacementBias=w.displacementBias,T.wireframeLinewidth=w.wireframeLinewidth,T.linewidth=w.linewidth,_.isPointLight===!0&&T.isMeshDistanceMaterial===!0&&(T.referencePosition.setFromMatrixPosition(_.matrixWorld),T.nearDistance=C,T.farDistance=S),T}function x(b,w,_,C,S){if(b.visible===!1)return;if(b.layers.test(w.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&S===3)&&(!b.frustumCulled||n.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,b.matrixWorld);const T=e.update(b),D=b.material;if(Array.isArray(D)){const j=T.groups;for(let N=0,L=j.length;N<L;N++){const O=j[N],B=D[O.materialIndex];if(B&&B.visible){const U=y(b,B,C,_.near,_.far,S);t.renderBufferDirect(_,null,T,U,b,O)}}}else if(D.visible){const j=y(b,D,C,_.near,_.far,S);t.renderBufferDirect(_,null,T,j,b,null)}}const M=b.children;for(let T=0,D=M.length;T<D;T++)x(M[T],w,_,C,S)}}function MU(t,e,r){const n=r.isWebGL2;function i(){let Z=!1;const Ie=new br;let ie=null;const Oe=new br(0,0,0,0);return{setMask:function(xe){ie!==xe&&!Z&&(t.colorMask(xe,xe,xe,xe),ie=xe)},setLocked:function(xe){Z=xe},setClear:function(xe,Nt,H,X,ae){ae===!0&&(xe*=X,Nt*=X,H*=X),Ie.set(xe,Nt,H,X),Oe.equals(Ie)===!1&&(t.clearColor(xe,Nt,H,X),Oe.copy(Ie))},reset:function(){Z=!1,ie=null,Oe.set(-1,0,0,0)}}}function a(){let Z=!1,Ie=null,ie=null,Oe=null;return{setTest:function(xe){xe?ke(2929):Ee(2929)},setMask:function(xe){Ie!==xe&&!Z&&(t.depthMask(xe),Ie=xe)},setFunc:function(xe){if(ie!==xe){if(xe)switch(xe){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);ie=xe}},setLocked:function(xe){Z=xe},setClear:function(xe){Oe!==xe&&(t.clearDepth(xe),Oe=xe)},reset:function(){Z=!1,Ie=null,ie=null,Oe=null}}}function o(){let Z=!1,Ie=null,ie=null,Oe=null,xe=null,Nt=null,H=null,X=null,ae=null;return{setTest:function(ue){Z||(ue?ke(2960):Ee(2960))},setMask:function(ue){Ie!==ue&&!Z&&(t.stencilMask(ue),Ie=ue)},setFunc:function(ue,Pe,Xe){(ie!==ue||Oe!==Pe||xe!==Xe)&&(t.stencilFunc(ue,Pe,Xe),ie=ue,Oe=Pe,xe=Xe)},setOp:function(ue,Pe,Xe){(Nt!==ue||H!==Pe||X!==Xe)&&(t.stencilOp(ue,Pe,Xe),Nt=ue,H=Pe,X=Xe)},setLocked:function(ue){Z=ue},setClear:function(ue){ae!==ue&&(t.clearStencil(ue),ae=ue)},reset:function(){Z=!1,Ie=null,ie=null,Oe=null,xe=null,Nt=null,H=null,X=null,ae=null}}}const s=new i,l=new a,c=new o,u=new WeakMap,p=new WeakMap;let d={},g={},m=new WeakMap,h=[],f=null,v=!1,y=null,x=null,b=null,w=null,_=null,C=null,S=null,M=!1,T=null,D=null,j=null,N=null,L=null;const O=t.getParameter(35661);let B=!1,U=0;const F=t.getParameter(7938);F.indexOf("WebGL")!==-1?(U=parseFloat(/^WebGL (\d)/.exec(F)[1]),B=U>=1):F.indexOf("OpenGL ES")!==-1&&(U=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),B=U>=2);let z=null,q={};const ee=t.getParameter(3088),V=t.getParameter(2978),ne=new br().fromArray(ee),oe=new br().fromArray(V);function we(Z,Ie,ie){const Oe=new Uint8Array(4),xe=t.createTexture();t.bindTexture(Z,xe),t.texParameteri(Z,10241,9728),t.texParameteri(Z,10240,9728);for(let Nt=0;Nt<ie;Nt++)t.texImage2D(Ie+Nt,0,6408,1,1,0,6408,5121,Oe);return xe}const W={};W[3553]=we(3553,3553,1),W[34067]=we(34067,34069,6),s.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ke(2929),l.setFunc(3),zt(!1),jt(1),ke(2884),rt(0);function ke(Z){d[Z]!==!0&&(t.enable(Z),d[Z]=!0)}function Ee(Z){d[Z]!==!1&&(t.disable(Z),d[Z]=!1)}function Me(Z,Ie){return g[Z]!==Ie?(t.bindFramebuffer(Z,Ie),g[Z]=Ie,n&&(Z===36009&&(g[36160]=Ie),Z===36160&&(g[36009]=Ie)),!0):!1}function ge(Z,Ie){let ie=h,Oe=!1;if(Z)if(ie=m.get(Ie),ie===void 0&&(ie=[],m.set(Ie,ie)),Z.isWebGLMultipleRenderTargets){const xe=Z.texture;if(ie.length!==xe.length||ie[0]!==36064){for(let Nt=0,H=xe.length;Nt<H;Nt++)ie[Nt]=36064+Nt;ie.length=xe.length,Oe=!0}}else ie[0]!==36064&&(ie[0]=36064,Oe=!0);else ie[0]!==1029&&(ie[0]=1029,Oe=!0);Oe&&(r.isWebGL2?t.drawBuffers(ie):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ie))}function Ae(Z){return f!==Z?(t.useProgram(Z),f=Z,!0):!1}const Fe={100:32774,101:32778,102:32779};if(n)Fe[103]=32775,Fe[104]=32776;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(Fe[103]=Z.MIN_EXT,Fe[104]=Z.MAX_EXT)}const pe={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function rt(Z,Ie,ie,Oe,xe,Nt,H,X){if(Z===0){v===!0&&(Ee(3042),v=!1);return}if(v===!1&&(ke(3042),v=!0),Z!==5){if(Z!==y||X!==M){if((x!==100||_!==100)&&(t.blendEquation(32774),x=100,_=100),X)switch(Z){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFuncSeparate(0,769,0,1);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}b=null,w=null,C=null,S=null,y=Z,M=X}return}xe=xe||Ie,Nt=Nt||ie,H=H||Oe,(Ie!==x||xe!==_)&&(t.blendEquationSeparate(Fe[Ie],Fe[xe]),x=Ie,_=xe),(ie!==b||Oe!==w||Nt!==C||H!==S)&&(t.blendFuncSeparate(pe[ie],pe[Oe],pe[Nt],pe[H]),b=ie,w=Oe,C=Nt,S=H),y=Z,M=null}function at(Z,Ie){Z.side===2?Ee(2884):ke(2884);let ie=Z.side===1;Ie&&(ie=!ie),zt(ie),Z.blending===1&&Z.transparent===!1?rt(0):rt(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),s.setMask(Z.colorWrite);const Oe=Z.stencilWrite;c.setTest(Oe),Oe&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),pt(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?ke(32926):Ee(32926)}function zt(Z){T!==Z&&(Z?t.frontFace(2304):t.frontFace(2305),T=Z)}function jt(Z){Z!==0?(ke(2884),Z!==D&&(Z===1?t.cullFace(1029):Z===2?t.cullFace(1028):t.cullFace(1032))):Ee(2884),D=Z}function Mt(Z){Z!==j&&(B&&t.lineWidth(Z),j=Z)}function pt(Z,Ie,ie){Z?(ke(32823),(N!==Ie||L!==ie)&&(t.polygonOffset(Ie,ie),N=Ie,L=ie)):Ee(32823)}function Ht(Z){Z?ke(3089):Ee(3089)}function ht(Z){Z===void 0&&(Z=33984+O-1),z!==Z&&(t.activeTexture(Z),z=Z)}function $(Z,Ie){z===null&&ht();let ie=q[z];ie===void 0&&(ie={type:void 0,texture:void 0},q[z]=ie),(ie.type!==Z||ie.texture!==Ie)&&(t.bindTexture(Z,Ie||W[Z]),ie.type=Z,ie.texture=Ie)}function k(){const Z=q[z];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function J(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ce(){try{t.texSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function he(){try{t.texSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ve(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Te(){try{t.texStorage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function G(){try{t.texStorage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function je(){try{t.texImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Re(){try{t.texImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function $e(Z){ne.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),ne.copy(Z))}function le(Z){oe.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),oe.copy(Z))}function De(Z,Ie){let ie=p.get(Ie);ie===void 0&&(ie=new WeakMap,p.set(Ie,ie));let Oe=ie.get(Z);Oe===void 0&&(Oe=t.getUniformBlockIndex(Ie,Z.name),ie.set(Z,Oe))}function We(Z,Ie){const ie=p.get(Ie).get(Z);u.get(Z)!==ie&&(t.uniformBlockBinding(Ie,ie,Z.__bindingPointIndex),u.set(Z,ie))}function Tt(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),n===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},z=null,q={},g={},m=new WeakMap,h=[],f=null,v=!1,y=null,x=null,b=null,w=null,_=null,C=null,S=null,M=!1,T=null,D=null,j=null,N=null,L=null,ne.set(0,0,t.canvas.width,t.canvas.height),oe.set(0,0,t.canvas.width,t.canvas.height),s.reset(),l.reset(),c.reset()}return{buffers:{color:s,depth:l,stencil:c},enable:ke,disable:Ee,bindFramebuffer:Me,drawBuffers:ge,useProgram:Ae,setBlending:rt,setMaterial:at,setFlipSided:zt,setCullFace:jt,setLineWidth:Mt,setPolygonOffset:pt,setScissorTest:Ht,activeTexture:ht,bindTexture:$,unbindTexture:k,compressedTexImage2D:J,texImage2D:je,texImage3D:Re,updateUBOMapping:De,uniformBlockBinding:We,texStorage2D:Te,texStorage3D:G,texSubImage2D:ce,texSubImage3D:he,compressedTexSubImage2D:ve,scissor:$e,viewport:le,reset:Tt}}function AU(t,e,r,n,i,a,o){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,p=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let h;const f=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y($,k){return v?new OffscreenCanvas($,k):rh("canvas")}function x($,k,J,ce){let he=1;if(($.width>ce||$.height>ce)&&(he=ce/Math.max($.width,$.height)),he<1||k===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const ve=k?Cg:Math.floor,Te=ve(he*$.width),G=ve(he*$.height);h===void 0&&(h=y(Te,G));const je=J?y(Te,G):h;return je.width=Te,je.height=G,je.getContext("2d").drawImage($,0,0,Te,G),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+Te+"x"+G+")."),je}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function b($){return gx($.width)&&gx($.height)}function w($){return s?!1:$.wrapS!==1001||$.wrapT!==1001||$.minFilter!==1003&&$.minFilter!==1006}function _($,k){return $.generateMipmaps&&k&&$.minFilter!==1003&&$.minFilter!==1006}function C($){t.generateMipmap($)}function S($,k,J,ce,he=!1){if(s===!1)return k;if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let ve=k;return k===6403&&(J===5126&&(ve=33326),J===5131&&(ve=33325),J===5121&&(ve=33321)),k===33319&&(J===5126&&(ve=33328),J===5131&&(ve=33327),J===5121&&(ve=33323)),k===6408&&(J===5126&&(ve=34836),J===5131&&(ve=34842),J===5121&&(ve=ce===3001&&he===!1?35907:32856),J===32819&&(ve=32854),J===32820&&(ve=32855)),(ve===33325||ve===33326||ve===33327||ve===33328||ve===34842||ve===34836)&&e.get("EXT_color_buffer_float"),ve}function M($,k,J){return _($,J)===!0||$.isFramebufferTexture&&$.minFilter!==1003&&$.minFilter!==1006?Math.log2(Math.max(k.width,k.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?k.mipmaps.length:1}function T($){return $===1003||$===1004||$===1005?9728:9729}function D($){const k=$.target;k.removeEventListener("dispose",D),N(k),k.isVideoTexture&&m.delete(k)}function j($){const k=$.target;k.removeEventListener("dispose",j),O(k)}function N($){const k=n.get($);if(k.__webglInit===void 0)return;const J=$.source,ce=f.get(J);if(ce){const he=ce[k.__cacheKey];he.usedTimes--,he.usedTimes===0&&L($),Object.keys(ce).length===0&&f.delete(J)}n.remove($)}function L($){const k=n.get($);t.deleteTexture(k.__webglTexture);const J=$.source,ce=f.get(J);delete ce[k.__cacheKey],o.memory.textures--}function O($){const k=$.texture,J=n.get($),ce=n.get(k);if(ce.__webglTexture!==void 0&&(t.deleteTexture(ce.__webglTexture),o.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let he=0;he<6;he++)t.deleteFramebuffer(J.__webglFramebuffer[he]),J.__webglDepthbuffer&&t.deleteRenderbuffer(J.__webglDepthbuffer[he]);else{if(t.deleteFramebuffer(J.__webglFramebuffer),J.__webglDepthbuffer&&t.deleteRenderbuffer(J.__webglDepthbuffer),J.__webglMultisampledFramebuffer&&t.deleteFramebuffer(J.__webglMultisampledFramebuffer),J.__webglColorRenderbuffer)for(let he=0;he<J.__webglColorRenderbuffer.length;he++)J.__webglColorRenderbuffer[he]&&t.deleteRenderbuffer(J.__webglColorRenderbuffer[he]);J.__webglDepthRenderbuffer&&t.deleteRenderbuffer(J.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let he=0,ve=k.length;he<ve;he++){const Te=n.get(k[he]);Te.__webglTexture&&(t.deleteTexture(Te.__webglTexture),o.memory.textures--),n.remove(k[he])}n.remove(k),n.remove($)}let B=0;function U(){B=0}function F(){const $=B;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),B+=1,$}function z($){const k=[];return k.push($.wrapS),k.push($.wrapT),k.push($.magFilter),k.push($.minFilter),k.push($.anisotropy),k.push($.internalFormat),k.push($.format),k.push($.type),k.push($.generateMipmaps),k.push($.premultiplyAlpha),k.push($.flipY),k.push($.unpackAlignment),k.push($.encoding),k.join()}function q($,k){const J=n.get($);if($.isVideoTexture&&Ht($),$.isRenderTargetTexture===!1&&$.version>0&&J.__version!==$.version){const ce=$.image;if(ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ee(J,$,k);return}}r.activeTexture(33984+k),r.bindTexture(3553,J.__webglTexture)}function ee($,k){const J=n.get($);if($.version>0&&J.__version!==$.version){Ee(J,$,k);return}r.activeTexture(33984+k),r.bindTexture(35866,J.__webglTexture)}function V($,k){const J=n.get($);if($.version>0&&J.__version!==$.version){Ee(J,$,k);return}r.activeTexture(33984+k),r.bindTexture(32879,J.__webglTexture)}function ne($,k){const J=n.get($);if($.version>0&&J.__version!==$.version){Me(J,$,k);return}r.activeTexture(33984+k),r.bindTexture(34067,J.__webglTexture)}const oe={1e3:10497,1001:33071,1002:33648},we={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function W($,k,J){if(J?(t.texParameteri($,10242,oe[k.wrapS]),t.texParameteri($,10243,oe[k.wrapT]),($===32879||$===35866)&&t.texParameteri($,32882,oe[k.wrapR]),t.texParameteri($,10240,we[k.magFilter]),t.texParameteri($,10241,we[k.minFilter])):(t.texParameteri($,10242,33071),t.texParameteri($,10243,33071),($===32879||$===35866)&&t.texParameteri($,32882,33071),(k.wrapS!==1001||k.wrapT!==1001)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri($,10240,T(k.magFilter)),t.texParameteri($,10241,T(k.minFilter)),k.minFilter!==1003&&k.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ce=e.get("EXT_texture_filter_anisotropic");if(k.type===1015&&e.has("OES_texture_float_linear")===!1||s===!1&&k.type===1016&&e.has("OES_texture_half_float_linear")===!1)return;(k.anisotropy>1||n.get(k).__currentAnisotropy)&&(t.texParameterf($,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,i.getMaxAnisotropy())),n.get(k).__currentAnisotropy=k.anisotropy)}}function ke($,k){let J=!1;$.__webglInit===void 0&&($.__webglInit=!0,k.addEventListener("dispose",D));const ce=k.source;let he=f.get(ce);he===void 0&&(he={},f.set(ce,he));const ve=z(k);if(ve!==$.__cacheKey){he[ve]===void 0&&(he[ve]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,J=!0),he[ve].usedTimes++;const Te=he[$.__cacheKey];Te!==void 0&&(he[$.__cacheKey].usedTimes--,Te.usedTimes===0&&L(k)),$.__cacheKey=ve,$.__webglTexture=he[ve].texture}return J}function Ee($,k,J){let ce=3553;k.isDataArrayTexture&&(ce=35866),k.isData3DTexture&&(ce=32879);const he=ke($,k),ve=k.source;if(r.activeTexture(33984+J),r.bindTexture(ce,$.__webglTexture),ve.version!==ve.__currentVersion||he===!0){t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const Te=w(k)&&b(k.image)===!1;let G=x(k.image,Te,!1,u);G=ht(k,G);const je=b(G)||s,Re=a.convert(k.format,k.encoding);let $e=a.convert(k.type),le=S(k.internalFormat,Re,$e,k.encoding,k.isVideoTexture);W(ce,k,je);let De;const We=k.mipmaps,Tt=s&&k.isVideoTexture!==!0,Z=ve.__currentVersion===void 0||he===!0,Ie=M(k,G,je);if(k.isDepthTexture)le=6402,s?k.type===1015?le=36012:k.type===1014?le=33190:k.type===1020?le=35056:le=33189:k.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),k.format===1026&&le===6402&&k.type!==1012&&k.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),k.type=1014,$e=a.convert(k.type)),k.format===1027&&le===6402&&(le=34041,k.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),k.type=1020,$e=a.convert(k.type))),Z&&(Tt?r.texStorage2D(3553,1,le,G.width,G.height):r.texImage2D(3553,0,le,G.width,G.height,0,Re,$e,null));else if(k.isDataTexture)if(We.length>0&&je){Tt&&Z&&r.texStorage2D(3553,Ie,le,We[0].width,We[0].height);for(let ie=0,Oe=We.length;ie<Oe;ie++)De=We[ie],Tt?r.texSubImage2D(3553,ie,0,0,De.width,De.height,Re,$e,De.data):r.texImage2D(3553,ie,le,De.width,De.height,0,Re,$e,De.data);k.generateMipmaps=!1}else Tt?(Z&&r.texStorage2D(3553,Ie,le,G.width,G.height),r.texSubImage2D(3553,0,0,0,G.width,G.height,Re,$e,G.data)):r.texImage2D(3553,0,le,G.width,G.height,0,Re,$e,G.data);else if(k.isCompressedTexture){Tt&&Z&&r.texStorage2D(3553,Ie,le,We[0].width,We[0].height);for(let ie=0,Oe=We.length;ie<Oe;ie++)De=We[ie],k.format!==1023?Re!==null?Tt?r.compressedTexSubImage2D(3553,ie,0,0,De.width,De.height,Re,De.data):r.compressedTexImage2D(3553,ie,le,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tt?r.texSubImage2D(3553,ie,0,0,De.width,De.height,Re,$e,De.data):r.texImage2D(3553,ie,le,De.width,De.height,0,Re,$e,De.data)}else if(k.isDataArrayTexture)Tt?(Z&&r.texStorage3D(35866,Ie,le,G.width,G.height,G.depth),r.texSubImage3D(35866,0,0,0,0,G.width,G.height,G.depth,Re,$e,G.data)):r.texImage3D(35866,0,le,G.width,G.height,G.depth,0,Re,$e,G.data);else if(k.isData3DTexture)Tt?(Z&&r.texStorage3D(32879,Ie,le,G.width,G.height,G.depth),r.texSubImage3D(32879,0,0,0,0,G.width,G.height,G.depth,Re,$e,G.data)):r.texImage3D(32879,0,le,G.width,G.height,G.depth,0,Re,$e,G.data);else if(k.isFramebufferTexture){if(Z)if(Tt)r.texStorage2D(3553,Ie,le,G.width,G.height);else{let ie=G.width,Oe=G.height;for(let xe=0;xe<Ie;xe++)r.texImage2D(3553,xe,le,ie,Oe,0,Re,$e,null),ie>>=1,Oe>>=1}}else if(We.length>0&&je){Tt&&Z&&r.texStorage2D(3553,Ie,le,We[0].width,We[0].height);for(let ie=0,Oe=We.length;ie<Oe;ie++)De=We[ie],Tt?r.texSubImage2D(3553,ie,0,0,Re,$e,De):r.texImage2D(3553,ie,le,Re,$e,De);k.generateMipmaps=!1}else Tt?(Z&&r.texStorage2D(3553,Ie,le,G.width,G.height),r.texSubImage2D(3553,0,0,0,Re,$e,G)):r.texImage2D(3553,0,le,Re,$e,G);_(k,je)&&C(ce),ve.__currentVersion=ve.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function Me($,k,J){if(k.image.length!==6)return;const ce=ke($,k),he=k.source;if(r.activeTexture(33984+J),r.bindTexture(34067,$.__webglTexture),he.version!==he.__currentVersion||ce===!0){t.pixelStorei(37440,k.flipY),t.pixelStorei(37441,k.premultiplyAlpha),t.pixelStorei(3317,k.unpackAlignment),t.pixelStorei(37443,0);const ve=k.isCompressedTexture||k.image[0].isCompressedTexture,Te=k.image[0]&&k.image[0].isDataTexture,G=[];for(let ie=0;ie<6;ie++)!ve&&!Te?G[ie]=x(k.image[ie],!1,!0,c):G[ie]=Te?k.image[ie].image:k.image[ie],G[ie]=ht(k,G[ie]);const je=G[0],Re=b(je)||s,$e=a.convert(k.format,k.encoding),le=a.convert(k.type),De=S(k.internalFormat,$e,le,k.encoding),We=s&&k.isVideoTexture!==!0,Tt=he.__currentVersion===void 0||ce===!0;let Z=M(k,je,Re);W(34067,k,Re);let Ie;if(ve){We&&Tt&&r.texStorage2D(34067,Z,De,je.width,je.height);for(let ie=0;ie<6;ie++){Ie=G[ie].mipmaps;for(let Oe=0;Oe<Ie.length;Oe++){const xe=Ie[Oe];k.format!==1023?$e!==null?We?r.compressedTexSubImage2D(34069+ie,Oe,0,0,xe.width,xe.height,$e,xe.data):r.compressedTexImage2D(34069+ie,Oe,De,xe.width,xe.height,0,xe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):We?r.texSubImage2D(34069+ie,Oe,0,0,xe.width,xe.height,$e,le,xe.data):r.texImage2D(34069+ie,Oe,De,xe.width,xe.height,0,$e,le,xe.data)}}}else{Ie=k.mipmaps,We&&Tt&&(Ie.length>0&&Z++,r.texStorage2D(34067,Z,De,G[0].width,G[0].height));for(let ie=0;ie<6;ie++)if(Te){We?r.texSubImage2D(34069+ie,0,0,0,G[ie].width,G[ie].height,$e,le,G[ie].data):r.texImage2D(34069+ie,0,De,G[ie].width,G[ie].height,0,$e,le,G[ie].data);for(let Oe=0;Oe<Ie.length;Oe++){const xe=Ie[Oe].image[ie].image;We?r.texSubImage2D(34069+ie,Oe+1,0,0,xe.width,xe.height,$e,le,xe.data):r.texImage2D(34069+ie,Oe+1,De,xe.width,xe.height,0,$e,le,xe.data)}}else{We?r.texSubImage2D(34069+ie,0,0,0,$e,le,G[ie]):r.texImage2D(34069+ie,0,De,$e,le,G[ie]);for(let Oe=0;Oe<Ie.length;Oe++){const xe=Ie[Oe];We?r.texSubImage2D(34069+ie,Oe+1,0,0,$e,le,xe.image[ie]):r.texImage2D(34069+ie,Oe+1,De,$e,le,xe.image[ie])}}}_(k,Re)&&C(34067),he.__currentVersion=he.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function ge($,k,J,ce,he){const ve=a.convert(J.format,J.encoding),Te=a.convert(J.type),G=S(J.internalFormat,ve,Te,J.encoding);n.get(k).__hasExternalTextures||(he===32879||he===35866?r.texImage3D(he,0,G,k.width,k.height,k.depth,0,ve,Te,null):r.texImage2D(he,0,G,k.width,k.height,0,ve,Te,null)),r.bindFramebuffer(36160,$),pt(k)?d.framebufferTexture2DMultisampleEXT(36160,ce,he,n.get(J).__webglTexture,0,Mt(k)):t.framebufferTexture2D(36160,ce,he,n.get(J).__webglTexture,0),r.bindFramebuffer(36160,null)}function Ae($,k,J){if(t.bindRenderbuffer(36161,$),k.depthBuffer&&!k.stencilBuffer){let ce=33189;if(J||pt(k)){const he=k.depthTexture;he&&he.isDepthTexture&&(he.type===1015?ce=36012:he.type===1014&&(ce=33190));const ve=Mt(k);pt(k)?d.renderbufferStorageMultisampleEXT(36161,ve,ce,k.width,k.height):t.renderbufferStorageMultisample(36161,ve,ce,k.width,k.height)}else t.renderbufferStorage(36161,ce,k.width,k.height);t.framebufferRenderbuffer(36160,36096,36161,$)}else if(k.depthBuffer&&k.stencilBuffer){const ce=Mt(k);J&&pt(k)===!1?t.renderbufferStorageMultisample(36161,ce,35056,k.width,k.height):pt(k)?d.renderbufferStorageMultisampleEXT(36161,ce,35056,k.width,k.height):t.renderbufferStorage(36161,34041,k.width,k.height),t.framebufferRenderbuffer(36160,33306,36161,$)}else{const ce=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let he=0;he<ce.length;he++){const ve=ce[he],Te=a.convert(ve.format,ve.encoding),G=a.convert(ve.type),je=S(ve.internalFormat,Te,G,ve.encoding),Re=Mt(k);J&&pt(k)===!1?t.renderbufferStorageMultisample(36161,Re,je,k.width,k.height):pt(k)?d.renderbufferStorageMultisampleEXT(36161,Re,je,k.width,k.height):t.renderbufferStorage(36161,je,k.width,k.height)}}t.bindRenderbuffer(36161,null)}function Fe($,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,$),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(k.depthTexture).__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),q(k.depthTexture,0);const J=n.get(k.depthTexture).__webglTexture,ce=Mt(k);if(k.depthTexture.format===1026)pt(k)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,J,0,ce):t.framebufferTexture2D(36160,36096,3553,J,0);else if(k.depthTexture.format===1027)pt(k)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,J,0,ce):t.framebufferTexture2D(36160,33306,3553,J,0);else throw new Error("Unknown depthTexture format")}function pe($){const k=n.get($),J=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!k.__autoAllocateDepthBuffer){if(J)throw new Error("target.depthTexture not supported in Cube render targets");Fe(k.__webglFramebuffer,$)}else if(J){k.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)r.bindFramebuffer(36160,k.__webglFramebuffer[ce]),k.__webglDepthbuffer[ce]=t.createRenderbuffer(),Ae(k.__webglDepthbuffer[ce],$,!1)}else r.bindFramebuffer(36160,k.__webglFramebuffer),k.__webglDepthbuffer=t.createRenderbuffer(),Ae(k.__webglDepthbuffer,$,!1);r.bindFramebuffer(36160,null)}function rt($,k,J){const ce=n.get($);k!==void 0&&ge(ce.__webglFramebuffer,$,$.texture,36064,3553),J!==void 0&&pe($)}function at($){const k=$.texture,J=n.get($),ce=n.get(k);$.addEventListener("dispose",j),$.isWebGLMultipleRenderTargets!==!0&&(ce.__webglTexture===void 0&&(ce.__webglTexture=t.createTexture()),ce.__version=k.version,o.memory.textures++);const he=$.isWebGLCubeRenderTarget===!0,ve=$.isWebGLMultipleRenderTargets===!0,Te=b($)||s;if(he){J.__webglFramebuffer=[];for(let G=0;G<6;G++)J.__webglFramebuffer[G]=t.createFramebuffer()}else{if(J.__webglFramebuffer=t.createFramebuffer(),ve)if(i.drawBuffers){const G=$.texture;for(let je=0,Re=G.length;je<Re;je++){const $e=n.get(G[je]);$e.__webglTexture===void 0&&($e.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&$.samples>0&&pt($)===!1){const G=ve?k:[k];J.__webglMultisampledFramebuffer=t.createFramebuffer(),J.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,J.__webglMultisampledFramebuffer);for(let je=0;je<G.length;je++){const Re=G[je];J.__webglColorRenderbuffer[je]=t.createRenderbuffer(),t.bindRenderbuffer(36161,J.__webglColorRenderbuffer[je]);const $e=a.convert(Re.format,Re.encoding),le=a.convert(Re.type),De=S(Re.internalFormat,$e,le,Re.encoding),We=Mt($);t.renderbufferStorageMultisample(36161,We,De,$.width,$.height),t.framebufferRenderbuffer(36160,36064+je,36161,J.__webglColorRenderbuffer[je])}t.bindRenderbuffer(36161,null),$.depthBuffer&&(J.__webglDepthRenderbuffer=t.createRenderbuffer(),Ae(J.__webglDepthRenderbuffer,$,!0)),r.bindFramebuffer(36160,null)}}if(he){r.bindTexture(34067,ce.__webglTexture),W(34067,k,Te);for(let G=0;G<6;G++)ge(J.__webglFramebuffer[G],$,k,36064,34069+G);_(k,Te)&&C(34067),r.unbindTexture()}else if(ve){const G=$.texture;for(let je=0,Re=G.length;je<Re;je++){const $e=G[je],le=n.get($e);r.bindTexture(3553,le.__webglTexture),W(3553,$e,Te),ge(J.__webglFramebuffer,$,$e,36064+je,3553),_($e,Te)&&C(3553)}r.unbindTexture()}else{let G=3553;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(s?G=$.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(G,ce.__webglTexture),W(G,k,Te),ge(J.__webglFramebuffer,$,k,36064,G),_(k,Te)&&C(G),r.unbindTexture()}$.depthBuffer&&pe($)}function zt($){const k=b($)||s,J=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let ce=0,he=J.length;ce<he;ce++){const ve=J[ce];if(_(ve,k)){const Te=$.isWebGLCubeRenderTarget?34067:3553,G=n.get(ve).__webglTexture;r.bindTexture(Te,G),C(Te),r.unbindTexture()}}}function jt($){if(s&&$.samples>0&&pt($)===!1){const k=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],J=$.width,ce=$.height;let he=16384;const ve=[],Te=$.stencilBuffer?33306:36096,G=n.get($),je=$.isWebGLMultipleRenderTargets===!0;if(je)for(let Re=0;Re<k.length;Re++)r.bindFramebuffer(36160,G.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Re,36161,null),r.bindFramebuffer(36160,G.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Re,3553,null,0);r.bindFramebuffer(36008,G.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,G.__webglFramebuffer);for(let Re=0;Re<k.length;Re++){ve.push(36064+Re),$.depthBuffer&&ve.push(Te);const $e=G.__ignoreDepthValues!==void 0?G.__ignoreDepthValues:!1;if($e===!1&&($.depthBuffer&&(he|=256),$.stencilBuffer&&(he|=1024)),je&&t.framebufferRenderbuffer(36008,36064,36161,G.__webglColorRenderbuffer[Re]),$e===!0&&(t.invalidateFramebuffer(36008,[Te]),t.invalidateFramebuffer(36009,[Te])),je){const le=n.get(k[Re]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,le,0)}t.blitFramebuffer(0,0,J,ce,0,0,J,ce,he,9728),g&&t.invalidateFramebuffer(36008,ve)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),je)for(let Re=0;Re<k.length;Re++){r.bindFramebuffer(36160,G.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Re,36161,G.__webglColorRenderbuffer[Re]);const $e=n.get(k[Re]).__webglTexture;r.bindFramebuffer(36160,G.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Re,3553,$e,0)}r.bindFramebuffer(36009,G.__webglMultisampledFramebuffer)}}function Mt($){return Math.min(p,$.samples)}function pt($){const k=n.get($);return s&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function Ht($){const k=o.render.frame;m.get($)!==k&&(m.set($,k),$.update())}function ht($,k){const J=$.encoding,ce=$.format,he=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===1035||J!==3e3&&(J===3001?s===!1?e.has("EXT_sRGB")===!0&&ce===1023?($.format=1035,$.minFilter=1006,$.generateMipmaps=!1):k=nS.sRGBToLinear(k):(ce!==1023||he!==1009)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",J)),k}this.allocateTextureUnit=F,this.resetTextureUnits=U,this.setTexture2D=q,this.setTexture2DArray=ee,this.setTexture3D=V,this.setTextureCube=ne,this.rebindTextures=rt,this.setupRenderTarget=at,this.updateRenderTargetMipmap=zt,this.updateMultisampleRenderTarget=jt,this.setupDepthRenderbuffer=pe,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=pt}function TU(t,e,r){const n=r.isWebGL2;function i(a,o=null){let s;if(a===1009)return 5121;if(a===1017)return 32819;if(a===1018)return 32820;if(a===1010)return 5120;if(a===1011)return 5122;if(a===1012)return 5123;if(a===1013)return 5124;if(a===1014)return 5125;if(a===1015)return 5126;if(a===1016)return n?5131:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===1021)return 6406;if(a===1023)return 6408;if(a===1024)return 6409;if(a===1025)return 6410;if(a===1026)return 6402;if(a===1027)return 34041;if(a===1028)return 6403;if(a===1022)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(a===1035)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(a===1029)return 36244;if(a===1030)return 33319;if(a===1031)return 33320;if(a===1033)return 36249;if(a===33776||a===33777||a===33778||a===33779)if(o===3001)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(a===33776)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===33777)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===33778)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===33779)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===33776)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===33777)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===33778)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===33779)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===35840||a===35841||a===35842||a===35843)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===35840)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===35841)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===35842)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===35843)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===36196)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===37492||a===37496)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(a===37492)return o===3001?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(a===37496)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===37808||a===37809||a===37810||a===37811||a===37812||a===37813||a===37814||a===37815||a===37816||a===37817||a===37818||a===37819||a===37820||a===37821)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(a===37808)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===37809)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===37810)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===37811)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===37812)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===37813)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===37814)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===37815)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===37816)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===37817)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===37818)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===37819)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===37820)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===37821)return o===3001?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===36492)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(a===36492)return o===3001?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return a===1020?n?34042:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[a]!==void 0?t[a]:null}return{convert:i}}class RU extends vn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Od extends Wr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const PU={type:"move"};class Vm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Od,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Od,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Od,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,r,n){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&r.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const h of e.hand.values()){const f=r.getJointPose(h,n);if(c.joints[h.jointName]===void 0){const y=new Od;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[h.jointName]=y,c.add(y)}const v=c.joints[h.jointName];f!==null&&(v.matrix.fromArray(f.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=f.radius),v.visible=f!==null}const u=c.joints["index-finger-tip"],p=c.joints["thumb-tip"],d=u.position.distanceTo(p.position),g=.02,m=.005;c.inputState.pinching&&d>g+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=g-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=r.getPose(e.gripSpace,n),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=r.getPose(e.targetRaySpace,n),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(PU)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=o!==null),this}}class LU extends Mn{constructor(e,r,n,i,a,o,s,l,c,u){if(u=u!==void 0?u:1026,u!==1026&&u!==1027)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&u===1026&&(n=1014),n===void 0&&u===1027&&(n=1020),super(null,i,a,o,s,l,u,n,c),this.isDepthTexture=!0,this.image={width:e,height:r},this.magFilter=s!==void 0?s:1003,this.minFilter=l!==void 0?l:1003,this.flipY=!1,this.generateMipmaps=!1}}class kU extends Rl{constructor(e,r){super();const n=this;let i=null,a=1,o=null,s="local-floor",l=null,c=null,u=null,p=null,d=null,g=null;const m=r.getContextAttributes();let h=null,f=null;const v=[],y=[],x=new vn;x.layers.enable(1),x.viewport=new br;const b=new vn;b.layers.enable(2),b.viewport=new br;const w=[x,b],_=new RU;_.layers.enable(1),_.layers.enable(2);let C=null,S=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let q=v[z];return q===void 0&&(q=new Vm,v[z]=q),q.getTargetRaySpace()},this.getControllerGrip=function(z){let q=v[z];return q===void 0&&(q=new Vm,v[z]=q),q.getGripSpace()},this.getHand=function(z){let q=v[z];return q===void 0&&(q=new Vm,v[z]=q),q.getHandSpace()};function M(z){const q=y.indexOf(z.inputSource);if(q===-1)return;const ee=v[q];ee!==void 0&&ee.dispatchEvent({type:z.type,data:z.inputSource})}function T(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",T),i.removeEventListener("inputsourceschange",D);for(let z=0;z<v.length;z++){const q=y[z];q!==null&&(y[z]=null,v[z].disconnect(q))}C=null,S=null,e.setRenderTarget(h),d=null,p=null,u=null,i=null,f=null,F.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(z){a=z,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){s=z,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(z){l=z},this.getBaseLayer=function(){return p!==null?p:d},this.getBinding=function(){return u},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(z){if(i=z,i!==null){if(h=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",T),i.addEventListener("inputsourceschange",D),m.xrCompatible!==!0&&await r.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:i.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:a};d=new XRWebGLLayer(i,r,q),i.updateRenderState({baseLayer:d}),f=new Qo(d.framebufferWidth,d.framebufferHeight,{format:1023,type:1009,encoding:e.outputEncoding})}else{let q=null,ee=null,V=null;m.depth&&(V=m.stencil?35056:33190,q=m.stencil?1027:1026,ee=m.stencil?1020:1014);const ne={colorFormat:32856,depthFormat:V,scaleFactor:a};u=new XRWebGLBinding(i,r),p=u.createProjectionLayer(ne),i.updateRenderState({layers:[p]}),f=new Qo(p.textureWidth,p.textureHeight,{format:1023,type:1009,depthTexture:new LU(p.textureWidth,p.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});const oe=e.properties.get(f);oe.__ignoreDepthValues=p.ignoreDepthValues}f.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(s),F.setContext(i),F.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};function D(z){for(let q=0;q<z.removed.length;q++){const ee=z.removed[q],V=y.indexOf(ee);V>=0&&(y[V]=null,v[V].dispatchEvent({type:"disconnected",data:ee}))}for(let q=0;q<z.added.length;q++){const ee=z.added[q];let V=y.indexOf(ee);if(V===-1){for(let oe=0;oe<v.length;oe++)if(oe>=y.length){y.push(ee),V=oe;break}else if(y[oe]===null){y[oe]=ee,V=oe;break}if(V===-1)break}const ne=v[V];ne&&ne.dispatchEvent({type:"connected",data:ee})}}const j=new K,N=new K;function L(z,q,ee){j.setFromMatrixPosition(q.matrixWorld),N.setFromMatrixPosition(ee.matrixWorld);const V=j.distanceTo(N),ne=q.projectionMatrix.elements,oe=ee.projectionMatrix.elements,we=ne[14]/(ne[10]-1),W=ne[14]/(ne[10]+1),ke=(ne[9]+1)/ne[5],Ee=(ne[9]-1)/ne[5],Me=(ne[8]-1)/ne[0],ge=(oe[8]+1)/oe[0],Ae=we*Me,Fe=we*ge,pe=V/(-Me+ge),rt=pe*-Me;q.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(rt),z.translateZ(pe),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const at=we+pe,zt=W+pe,jt=Ae-rt,Mt=Fe+(V-rt),pt=ke*W/zt*at,Ht=Ee*W/zt*at;z.projectionMatrix.makePerspective(jt,Mt,pt,Ht,at,zt)}function O(z,q){q===null?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(q.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(i===null)return;_.near=b.near=x.near=z.near,_.far=b.far=x.far=z.far,(C!==_.near||S!==_.far)&&(i.updateRenderState({depthNear:_.near,depthFar:_.far}),C=_.near,S=_.far);const q=z.parent,ee=_.cameras;O(_,q);for(let ne=0;ne<ee.length;ne++)O(ee[ne],q);_.matrixWorld.decompose(_.position,_.quaternion,_.scale),z.position.copy(_.position),z.quaternion.copy(_.quaternion),z.scale.copy(_.scale),z.matrix.copy(_.matrix),z.matrixWorld.copy(_.matrixWorld);const V=z.children;for(let ne=0,oe=V.length;ne<oe;ne++)V[ne].updateMatrixWorld(!0);ee.length===2?L(_,x,b):_.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return _},this.getFoveation=function(){if(p!==null)return p.fixedFoveation;if(d!==null)return d.fixedFoveation},this.setFoveation=function(z){p!==null&&(p.fixedFoveation=z),d!==null&&d.fixedFoveation!==void 0&&(d.fixedFoveation=z)};let B=null;function U(z,q){if(c=q.getViewerPose(l||o),g=q,c!==null){const ee=c.views;d!==null&&(e.setRenderTargetFramebuffer(f,d.framebuffer),e.setRenderTarget(f));let V=!1;ee.length!==_.cameras.length&&(_.cameras.length=0,V=!0);for(let ne=0;ne<ee.length;ne++){const oe=ee[ne];let we=null;if(d!==null)we=d.getViewport(oe);else{const ke=u.getViewSubImage(p,oe);we=ke.viewport,ne===0&&(e.setRenderTargetTextures(f,ke.colorTexture,p.ignoreDepthValues?void 0:ke.depthStencilTexture),e.setRenderTarget(f))}let W=w[ne];W===void 0&&(W=new vn,W.layers.enable(ne),W.viewport=new br,w[ne]=W),W.matrix.fromArray(oe.transform.matrix),W.projectionMatrix.fromArray(oe.projectionMatrix),W.viewport.set(we.x,we.y,we.width,we.height),ne===0&&_.matrix.copy(W.matrix),V===!0&&_.cameras.push(W)}}for(let ee=0;ee<v.length;ee++){const V=y[ee],ne=v[ee];V!==null&&ne!==void 0&&ne.update(V,q,l||o)}B&&B(z,q),g=null}const F=new pS;F.setAnimationLoop(U),this.setAnimationLoop=function(z){B=z},this.dispose=function(){}}}function DU(t,e){function r(h,f){h.fogColor.value.copy(f.color),f.isFog?(h.fogNear.value=f.near,h.fogFar.value=f.far):f.isFogExp2&&(h.fogDensity.value=f.density)}function n(h,f,v,y,x){f.isMeshBasicMaterial||f.isMeshLambertMaterial?i(h,f):f.isMeshToonMaterial?(i(h,f),u(h,f)):f.isMeshPhongMaterial?(i(h,f),c(h,f)):f.isMeshStandardMaterial?(i(h,f),p(h,f),f.isMeshPhysicalMaterial&&d(h,f,x)):f.isMeshMatcapMaterial?(i(h,f),g(h,f)):f.isMeshDepthMaterial?i(h,f):f.isMeshDistanceMaterial?(i(h,f),m(h,f)):f.isMeshNormalMaterial?i(h,f):f.isLineBasicMaterial?(a(h,f),f.isLineDashedMaterial&&o(h,f)):f.isPointsMaterial?s(h,f,v,y):f.isSpriteMaterial?l(h,f):f.isShadowMaterial?(h.color.value.copy(f.color),h.opacity.value=f.opacity):f.isShaderMaterial&&(f.uniformsNeedUpdate=!1)}function i(h,f){h.opacity.value=f.opacity,f.color&&h.diffuse.value.copy(f.color),f.emissive&&h.emissive.value.copy(f.emissive).multiplyScalar(f.emissiveIntensity),f.map&&(h.map.value=f.map),f.alphaMap&&(h.alphaMap.value=f.alphaMap),f.bumpMap&&(h.bumpMap.value=f.bumpMap,h.bumpScale.value=f.bumpScale,f.side===1&&(h.bumpScale.value*=-1)),f.displacementMap&&(h.displacementMap.value=f.displacementMap,h.displacementScale.value=f.displacementScale,h.displacementBias.value=f.displacementBias),f.emissiveMap&&(h.emissiveMap.value=f.emissiveMap),f.normalMap&&(h.normalMap.value=f.normalMap,h.normalScale.value.copy(f.normalScale),f.side===1&&h.normalScale.value.negate()),f.specularMap&&(h.specularMap.value=f.specularMap),f.alphaTest>0&&(h.alphaTest.value=f.alphaTest);const v=e.get(f).envMap;if(v&&(h.envMap.value=v,h.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,h.reflectivity.value=f.reflectivity,h.ior.value=f.ior,h.refractionRatio.value=f.refractionRatio),f.lightMap){h.lightMap.value=f.lightMap;const b=t.physicallyCorrectLights!==!0?Math.PI:1;h.lightMapIntensity.value=f.lightMapIntensity*b}f.aoMap&&(h.aoMap.value=f.aoMap,h.aoMapIntensity.value=f.aoMapIntensity);let y;f.map?y=f.map:f.specularMap?y=f.specularMap:f.displacementMap?y=f.displacementMap:f.normalMap?y=f.normalMap:f.bumpMap?y=f.bumpMap:f.roughnessMap?y=f.roughnessMap:f.metalnessMap?y=f.metalnessMap:f.alphaMap?y=f.alphaMap:f.emissiveMap?y=f.emissiveMap:f.clearcoatMap?y=f.clearcoatMap:f.clearcoatNormalMap?y=f.clearcoatNormalMap:f.clearcoatRoughnessMap?y=f.clearcoatRoughnessMap:f.iridescenceMap?y=f.iridescenceMap:f.iridescenceThicknessMap?y=f.iridescenceThicknessMap:f.specularIntensityMap?y=f.specularIntensityMap:f.specularColorMap?y=f.specularColorMap:f.transmissionMap?y=f.transmissionMap:f.thicknessMap?y=f.thicknessMap:f.sheenColorMap?y=f.sheenColorMap:f.sheenRoughnessMap&&(y=f.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),h.uvTransform.value.copy(y.matrix));let x;f.aoMap?x=f.aoMap:f.lightMap&&(x=f.lightMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),h.uv2Transform.value.copy(x.matrix))}function a(h,f){h.diffuse.value.copy(f.color),h.opacity.value=f.opacity}function o(h,f){h.dashSize.value=f.dashSize,h.totalSize.value=f.dashSize+f.gapSize,h.scale.value=f.scale}function s(h,f,v,y){h.diffuse.value.copy(f.color),h.opacity.value=f.opacity,h.size.value=f.size*v,h.scale.value=y*.5,f.map&&(h.map.value=f.map),f.alphaMap&&(h.alphaMap.value=f.alphaMap),f.alphaTest>0&&(h.alphaTest.value=f.alphaTest);let x;f.map?x=f.map:f.alphaMap&&(x=f.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),h.uvTransform.value.copy(x.matrix))}function l(h,f){h.diffuse.value.copy(f.color),h.opacity.value=f.opacity,h.rotation.value=f.rotation,f.map&&(h.map.value=f.map),f.alphaMap&&(h.alphaMap.value=f.alphaMap),f.alphaTest>0&&(h.alphaTest.value=f.alphaTest);let v;f.map?v=f.map:f.alphaMap&&(v=f.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),h.uvTransform.value.copy(v.matrix))}function c(h,f){h.specular.value.copy(f.specular),h.shininess.value=Math.max(f.shininess,1e-4)}function u(h,f){f.gradientMap&&(h.gradientMap.value=f.gradientMap)}function p(h,f){h.roughness.value=f.roughness,h.metalness.value=f.metalness,f.roughnessMap&&(h.roughnessMap.value=f.roughnessMap),f.metalnessMap&&(h.metalnessMap.value=f.metalnessMap),e.get(f).envMap&&(h.envMapIntensity.value=f.envMapIntensity)}function d(h,f,v){h.ior.value=f.ior,f.sheen>0&&(h.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),h.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(h.sheenColorMap.value=f.sheenColorMap),f.sheenRoughnessMap&&(h.sheenRoughnessMap.value=f.sheenRoughnessMap)),f.clearcoat>0&&(h.clearcoat.value=f.clearcoat,h.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(h.clearcoatMap.value=f.clearcoatMap),f.clearcoatRoughnessMap&&(h.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap),f.clearcoatNormalMap&&(h.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),h.clearcoatNormalMap.value=f.clearcoatNormalMap,f.side===1&&h.clearcoatNormalScale.value.negate())),f.iridescence>0&&(h.iridescence.value=f.iridescence,h.iridescenceIOR.value=f.iridescenceIOR,h.iridescenceThicknessMinimum.value=f.iridescenceThicknessRange[0],h.iridescenceThicknessMaximum.value=f.iridescenceThicknessRange[1],f.iridescenceMap&&(h.iridescenceMap.value=f.iridescenceMap),f.iridescenceThicknessMap&&(h.iridescenceThicknessMap.value=f.iridescenceThicknessMap)),f.transmission>0&&(h.transmission.value=f.transmission,h.transmissionSamplerMap.value=v.texture,h.transmissionSamplerSize.value.set(v.width,v.height),f.transmissionMap&&(h.transmissionMap.value=f.transmissionMap),h.thickness.value=f.thickness,f.thicknessMap&&(h.thicknessMap.value=f.thicknessMap),h.attenuationDistance.value=f.attenuationDistance,h.attenuationColor.value.copy(f.attenuationColor)),h.specularIntensity.value=f.specularIntensity,h.specularColor.value.copy(f.specularColor),f.specularIntensityMap&&(h.specularIntensityMap.value=f.specularIntensityMap),f.specularColorMap&&(h.specularColorMap.value=f.specularColorMap)}function g(h,f){f.matcap&&(h.matcap.value=f.matcap)}function m(h,f){h.referencePosition.value.copy(f.referencePosition),h.nearDistance.value=f.nearDistance,h.farDistance.value=f.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:n}}function IU(t,e,r,n){let i={},a={},o=[];const s=r.isWebGL2?t.getParameter(35375):0;function l(y,x){const b=x.program;n.uniformBlockBinding(y,b)}function c(y,x){let b=i[y.id];b===void 0&&(m(y),b=u(y),i[y.id]=b,y.addEventListener("dispose",f));const w=x.program;n.updateUBOMapping(y,w);const _=e.render.frame;a[y.id]!==_&&(d(y),a[y.id]=_)}function u(y){const x=p();y.__bindingPointIndex=x;const b=t.createBuffer(),w=y.__size,_=y.usage;return t.bindBuffer(35345,b),t.bufferData(35345,w,_),t.bindBuffer(35345,null),t.bindBufferBase(35345,x,b),b}function p(){for(let y=0;y<s;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(y){const x=i[y.id],b=y.uniforms,w=y.__cache;t.bindBuffer(35345,x);for(let _=0,C=b.length;_<C;_++){const S=b[_];if(g(S,_,w)===!0){const M=S.value,T=S.__offset;typeof M=="number"?(S.__data[0]=M,t.bufferSubData(35345,T,S.__data)):(S.value.isMatrix3?(S.__data[0]=S.value.elements[0],S.__data[1]=S.value.elements[1],S.__data[2]=S.value.elements[2],S.__data[3]=S.value.elements[0],S.__data[4]=S.value.elements[3],S.__data[5]=S.value.elements[4],S.__data[6]=S.value.elements[5],S.__data[7]=S.value.elements[0],S.__data[8]=S.value.elements[6],S.__data[9]=S.value.elements[7],S.__data[10]=S.value.elements[8],S.__data[11]=S.value.elements[0]):M.toArray(S.__data),t.bufferSubData(35345,T,S.__data))}}t.bindBuffer(35345,null)}function g(y,x,b){const w=y.value;if(b[x]===void 0)return typeof w=="number"?b[x]=w:b[x]=w.clone(),!0;if(typeof w=="number"){if(b[x]!==w)return b[x]=w,!0}else{const _=b[x];if(_.equals(w)===!1)return _.copy(w),!0}return!1}function m(y){const x=y.uniforms;let b=0;const w=16;let _=0;for(let C=0,S=x.length;C<S;C++){const M=x[C],T=h(M);if(M.__data=new Float32Array(T.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=b,C>0){_=b%w;const D=w-_;_!==0&&D-T.boundary<0&&(b+=w-_,M.__offset=b)}b+=T.storage}return _=b%w,_>0&&(b+=w-_),y.__size=b,y.__cache={},this}function h(y){const x=y.value,b={boundary:0,storage:0};return typeof x=="number"?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),b}function f(y){const x=y.target;x.removeEventListener("dispose",f);const b=o.indexOf(x.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[x.id]),delete i[x.id],delete a[x.id]}function v(){for(const y in i)t.deleteBuffer(i[y]);o=[],i={},a={}}return{bind:l,update:c,dispose:v}}function FU(){const t=rh("canvas");return t.style.display="block",t}function yS(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:FU(),r=t.context!==void 0?t.context:null,n=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,a=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,s=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;r!==null?u=r.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let p=null,d=null;const g=[],m=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const h=this;let f=!1,v=0,y=0,x=null,b=-1,w=null;const _=new br,C=new br;let S=null,M=e.width,T=e.height,D=1,j=null,N=null;const L=new br(0,0,M,T),O=new br(0,0,M,T);let B=!1;const U=new lv;let F=!1,z=!1,q=null;const ee=new _r,V=new Ct,ne=new K,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function we(){return x===null?D:1}let W=r;function ke(I,Y){for(let te=0;te<I.length;te++){const Q=I[te],se=e.getContext(Q,Y);if(se!==null)return se}return null}try{const I={alpha:!0,depth:n,stencil:i,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${sv}`),e.addEventListener("webglcontextlost",De,!1),e.addEventListener("webglcontextrestored",We,!1),e.addEventListener("webglcontextcreationerror",Tt,!1),W===null){const Y=["webgl2","webgl","experimental-webgl"];if(h.isWebGL1Renderer===!0&&Y.shift(),W=ke(Y,I),W===null)throw ke(Y)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}W.getShaderPrecisionFormat===void 0&&(W.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}let Ee,Me,ge,Ae,Fe,pe,rt,at,zt,jt,Mt,pt,Ht,ht,$,k,J,ce,he,ve,Te,G,je,Re;function $e(){Ee=new Hj(W),Me=new Oj(W,Ee,t),Ee.init(Me),G=new TU(W,Ee,Me),ge=new MU(W,Ee,Me),Ae=new Zj,Fe=new pU,pe=new AU(W,Ee,ge,Fe,Me,G,Ae),rt=new jj(h),at=new Vj(h),zt=new aO(W,Me),je=new Nj(W,Ee,zt,Me),jt=new Wj(W,zt,Ae,je),Mt=new Qj(W,jt,zt,Ae),he=new Kj(W,Me,pe),k=new Bj(Fe),pt=new dU(h,rt,at,Ee,Me,je,k),Ht=new DU(h,Fe),ht=new fU,$=new bU(Ee,Me),ce=new Fj(h,rt,ge,Mt,u,o),J=new EU(h,Mt,Me),Re=new IU(W,Ae,Me,ge),ve=new zj(W,Ee,Ae,Me),Te=new Gj(W,Ee,Ae,Me),Ae.programs=pt.programs,h.capabilities=Me,h.extensions=Ee,h.properties=Fe,h.renderLists=ht,h.shadowMap=J,h.state=ge,h.info=Ae}$e();const le=new kU(h,W);this.xr=le,this.getContext=function(){return W},this.getContextAttributes=function(){return W.getContextAttributes()},this.forceContextLoss=function(){const I=Ee.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=Ee.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(I){I!==void 0&&(D=I,this.setSize(M,T,!1))},this.getSize=function(I){return I.set(M,T)},this.setSize=function(I,Y,te){if(le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=I,T=Y,e.width=Math.floor(I*D),e.height=Math.floor(Y*D),te!==!1&&(e.style.width=I+"px",e.style.height=Y+"px"),this.setViewport(0,0,I,Y)},this.getDrawingBufferSize=function(I){return I.set(M*D,T*D).floor()},this.setDrawingBufferSize=function(I,Y,te){M=I,T=Y,D=te,e.width=Math.floor(I*te),e.height=Math.floor(Y*te),this.setViewport(0,0,I,Y)},this.getCurrentViewport=function(I){return I.copy(_)},this.getViewport=function(I){return I.copy(L)},this.setViewport=function(I,Y,te,Q){I.isVector4?L.set(I.x,I.y,I.z,I.w):L.set(I,Y,te,Q),ge.viewport(_.copy(L).multiplyScalar(D).floor())},this.getScissor=function(I){return I.copy(O)},this.setScissor=function(I,Y,te,Q){I.isVector4?O.set(I.x,I.y,I.z,I.w):O.set(I,Y,te,Q),ge.scissor(C.copy(O).multiplyScalar(D).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(I){ge.setScissorTest(B=I)},this.setOpaqueSort=function(I){j=I},this.setTransparentSort=function(I){N=I},this.getClearColor=function(I){return I.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(I=!0,Y=!0,te=!0){let Q=0;I&&(Q|=16384),Y&&(Q|=256),te&&(Q|=1024),W.clear(Q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",De,!1),e.removeEventListener("webglcontextrestored",We,!1),e.removeEventListener("webglcontextcreationerror",Tt,!1),ht.dispose(),$.dispose(),Fe.dispose(),rt.dispose(),at.dispose(),Mt.dispose(),je.dispose(),Re.dispose(),pt.dispose(),le.dispose(),le.removeEventListener("sessionstart",Nt),le.removeEventListener("sessionend",H),q&&(q.dispose(),q=null),X.stop()};function De(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),f=!0}function We(){console.log("THREE.WebGLRenderer: Context Restored."),f=!1;const I=Ae.autoReset,Y=J.enabled,te=J.autoUpdate,Q=J.needsUpdate,se=J.type;$e(),Ae.autoReset=I,J.enabled=Y,J.autoUpdate=te,J.needsUpdate=Q,J.type=se}function Tt(I){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",I.statusMessage)}function Z(I){const Y=I.target;Y.removeEventListener("dispose",Z),Ie(Y)}function Ie(I){ie(I),Fe.remove(I)}function ie(I){const Y=Fe.get(I).programs;Y!==void 0&&(Y.forEach(function(te){pt.releaseProgram(te)}),I.isShaderMaterial&&pt.releaseShaderCache(I))}this.renderBufferDirect=function(I,Y,te,Q,se,Ve){Y===null&&(Y=oe);const it=se.isMesh&&se.matrixWorld.determinant()<0,Ye=vt(I,Y,te,Q,se);ge.setMaterial(Q,it);let ct=te.index;const Ot=te.attributes.position;if(ct===null){if(Ot===void 0||Ot.count===0)return}else if(ct.count===0)return;let mt=1;Q.wireframe===!0&&(ct=jt.getWireframeAttribute(te),mt=2),je.setup(se,Q,Ye,te,ct);let yt,$t=ve;ct!==null&&(yt=zt.get(ct),$t=Te,$t.setIndex(yt));const Ln=ct!==null?ct.count:Ot.count,wt=te.drawRange.start*mt,Rt=te.drawRange.count*mt,or=Ve!==null?Ve.start*mt:0,_t=Ve!==null?Ve.count*mt:1/0,ha=Math.max(wt,or),Ll=Math.min(Ln,wt+Rt,or+_t)-1,kn=Math.max(0,Ll-ha+1);if(kn!==0){if(se.isMesh)Q.wireframe===!0?(ge.setLineWidth(Q.wireframeLinewidth*we()),$t.setMode(1)):$t.setMode(4);else if(se.isLine){let fa=Q.linewidth;fa===void 0&&(fa=1),ge.setLineWidth(fa*we()),se.isLineSegments?$t.setMode(1):se.isLineLoop?$t.setMode(2):$t.setMode(3)}else se.isPoints?$t.setMode(0):se.isSprite&&$t.setMode(4);if(se.isInstancedMesh)$t.renderInstances(ha,kn,se.count);else if(te.isInstancedBufferGeometry){const fa=Math.min(te.instanceCount,te._maxInstanceCount);$t.renderInstances(ha,kn,fa)}else $t.render(ha,kn)}},this.compile=function(I,Y){d=$.get(I),d.init(),m.push(d),I.traverseVisible(function(te){te.isLight&&te.layers.test(Y.layers)&&(d.pushLight(te),te.castShadow&&d.pushShadow(te))}),d.setupLights(h.physicallyCorrectLights),I.traverse(function(te){const Q=te.material;if(Q)if(Array.isArray(Q))for(let se=0;se<Q.length;se++){const Ve=Q[se];Ze(Ve,I,te)}else Ze(Q,I,te)}),m.pop(),d=null};let Oe=null;function xe(I){Oe&&Oe(I)}function Nt(){X.stop()}function H(){X.start()}const X=new pS;X.setAnimationLoop(xe),typeof self<"u"&&X.setContext(self),this.setAnimationLoop=function(I){Oe=I,le.setAnimationLoop(I),I===null?X.stop():X.start()},le.addEventListener("sessionstart",Nt),le.addEventListener("sessionend",H),this.render=function(I,Y){if(Y!==void 0&&Y.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(f===!0)return;I.autoUpdate===!0&&I.updateMatrixWorld(),Y.parent===null&&Y.updateMatrixWorld(),le.enabled===!0&&le.isPresenting===!0&&(le.cameraAutoUpdate===!0&&le.updateCamera(Y),Y=le.getCamera()),I.isScene===!0&&I.onBeforeRender(h,I,Y,x),d=$.get(I,m.length),d.init(),m.push(d),ee.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),U.setFromProjectionMatrix(ee),z=this.localClippingEnabled,F=k.init(this.clippingPlanes,z,Y),p=ht.get(I,g.length),p.init(),g.push(p),ae(I,Y,0,h.sortObjects),p.finish(),h.sortObjects===!0&&p.sort(j,N),F===!0&&k.beginShadows();const te=d.state.shadowsArray;if(J.render(te,I,Y),F===!0&&k.endShadows(),this.info.autoReset===!0&&this.info.reset(),ce.render(p,I),d.setupLights(h.physicallyCorrectLights),Y.isArrayCamera){const Q=Y.cameras;for(let se=0,Ve=Q.length;se<Ve;se++){const it=Q[se];ue(p,I,it,it.viewport)}}else ue(p,I,Y);x!==null&&(pe.updateMultisampleRenderTarget(x),pe.updateRenderTargetMipmap(x)),I.isScene===!0&&I.onAfterRender(h,I,Y),je.resetDefaultState(),b=-1,w=null,m.pop(),m.length>0?d=m[m.length-1]:d=null,g.pop(),g.length>0?p=g[g.length-1]:p=null};function ae(I,Y,te,Q){if(I.visible===!1)return;if(I.layers.test(Y.layers)){if(I.isGroup)te=I.renderOrder;else if(I.isLOD)I.autoUpdate===!0&&I.update(Y);else if(I.isLight)d.pushLight(I),I.castShadow&&d.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||U.intersectsSprite(I)){Q&&ne.setFromMatrixPosition(I.matrixWorld).applyMatrix4(ee);const Ve=Mt.update(I),it=I.material;it.visible&&p.push(I,Ve,it,te,ne.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(I.isSkinnedMesh&&I.skeleton.frame!==Ae.render.frame&&(I.skeleton.update(),I.skeleton.frame=Ae.render.frame),!I.frustumCulled||U.intersectsObject(I))){Q&&ne.setFromMatrixPosition(I.matrixWorld).applyMatrix4(ee);const Ve=Mt.update(I),it=I.material;if(Array.isArray(it)){const Ye=Ve.groups;for(let ct=0,Ot=Ye.length;ct<Ot;ct++){const mt=Ye[ct],yt=it[mt.materialIndex];yt&&yt.visible&&p.push(I,Ve,yt,te,ne.z,mt)}}else it.visible&&p.push(I,Ve,it,te,ne.z,null)}}const se=I.children;for(let Ve=0,it=se.length;Ve<it;Ve++)ae(se[Ve],Y,te,Q)}function ue(I,Y,te,Q){const se=I.opaque,Ve=I.transmissive,it=I.transparent;d.setupLightsView(te),Ve.length>0&&Pe(se,Y,te),Q&&ge.viewport(_.copy(Q)),se.length>0&&Xe(se,Y,te),Ve.length>0&&Xe(Ve,Y,te),it.length>0&&Xe(it,Y,te),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function Pe(I,Y,te){const Q=Me.isWebGL2;q===null&&(q=new Qo(1,1,{generateMipmaps:!0,type:Ee.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:Q&&a===!0?4:0})),h.getDrawingBufferSize(V),Q?q.setSize(V.x,V.y):q.setSize(Cg(V.x),Cg(V.y));const se=h.getRenderTarget();h.setRenderTarget(q),h.clear();const Ve=h.toneMapping;h.toneMapping=0,Xe(I,Y,te),h.toneMapping=Ve,pe.updateMultisampleRenderTarget(q),pe.updateRenderTargetMipmap(q),h.setRenderTarget(se)}function Xe(I,Y,te){const Q=Y.isScene===!0?Y.overrideMaterial:null;for(let se=0,Ve=I.length;se<Ve;se++){const it=I[se],Ye=it.object,ct=it.geometry,Ot=Q===null?it.material:Q,mt=it.group;Ye.layers.test(te.layers)&&nt(Ye,Y,te,ct,Ot,mt)}}function nt(I,Y,te,Q,se,Ve){I.onBeforeRender(h,Y,te,Q,se,Ve),I.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),se.onBeforeRender(h,Y,te,Q,I,Ve),se.transparent===!0&&se.side===2?(se.side=1,se.needsUpdate=!0,h.renderBufferDirect(te,Y,Q,se,I,Ve),se.side=0,se.needsUpdate=!0,h.renderBufferDirect(te,Y,Q,se,I,Ve),se.side=2):h.renderBufferDirect(te,Y,Q,se,I,Ve),I.onAfterRender(h,Y,te,Q,se,Ve)}function Ze(I,Y,te){Y.isScene!==!0&&(Y=oe);const Q=Fe.get(I),se=d.state.lights,Ve=d.state.shadowsArray,it=se.state.version,Ye=pt.getParameters(I,se.state,Ve,Y,te),ct=pt.getProgramCacheKey(Ye);let Ot=Q.programs;Q.environment=I.isMeshStandardMaterial?Y.environment:null,Q.fog=Y.fog,Q.envMap=(I.isMeshStandardMaterial?at:rt).get(I.envMap||Q.environment),Ot===void 0&&(I.addEventListener("dispose",Z),Ot=new Map,Q.programs=Ot);let mt=Ot.get(ct);if(mt!==void 0){if(Q.currentProgram===mt&&Q.lightsStateVersion===it)return qe(I,Ye),mt}else Ye.uniforms=pt.getUniforms(I),I.onBuild(te,Ye,h),I.onBeforeCompile(Ye,h),mt=pt.acquireProgram(Ye,ct),Ot.set(ct,mt),Q.uniforms=Ye.uniforms;const yt=Q.uniforms;(!I.isShaderMaterial&&!I.isRawShaderMaterial||I.clipping===!0)&&(yt.clippingPlanes=k.uniform),qe(I,Ye),Q.needsLights=lt(I),Q.lightsStateVersion=it,Q.needsLights&&(yt.ambientLightColor.value=se.state.ambient,yt.lightProbe.value=se.state.probe,yt.directionalLights.value=se.state.directional,yt.directionalLightShadows.value=se.state.directionalShadow,yt.spotLights.value=se.state.spot,yt.spotLightShadows.value=se.state.spotShadow,yt.rectAreaLights.value=se.state.rectArea,yt.ltc_1.value=se.state.rectAreaLTC1,yt.ltc_2.value=se.state.rectAreaLTC2,yt.pointLights.value=se.state.point,yt.pointLightShadows.value=se.state.pointShadow,yt.hemisphereLights.value=se.state.hemi,yt.directionalShadowMap.value=se.state.directionalShadowMap,yt.directionalShadowMatrix.value=se.state.directionalShadowMatrix,yt.spotShadowMap.value=se.state.spotShadowMap,yt.spotShadowMatrix.value=se.state.spotShadowMatrix,yt.pointShadowMap.value=se.state.pointShadowMap,yt.pointShadowMatrix.value=se.state.pointShadowMatrix);const $t=mt.getUniforms(),Ln=up.seqWithValue($t.seq,yt);return Q.currentProgram=mt,Q.uniformsList=Ln,mt}function qe(I,Y){const te=Fe.get(I);te.outputEncoding=Y.outputEncoding,te.instancing=Y.instancing,te.skinning=Y.skinning,te.morphTargets=Y.morphTargets,te.morphNormals=Y.morphNormals,te.morphColors=Y.morphColors,te.morphTargetsCount=Y.morphTargetsCount,te.numClippingPlanes=Y.numClippingPlanes,te.numIntersection=Y.numClipIntersection,te.vertexAlphas=Y.vertexAlphas,te.vertexTangents=Y.vertexTangents,te.toneMapping=Y.toneMapping}function vt(I,Y,te,Q,se){Y.isScene!==!0&&(Y=oe),pe.resetTextureUnits();const Ve=Y.fog,it=Q.isMeshStandardMaterial?Y.environment:null,Ye=x===null?h.outputEncoding:x.isXRRenderTarget===!0?x.texture.encoding:3e3,ct=(Q.isMeshStandardMaterial?at:rt).get(Q.envMap||it),Ot=Q.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,mt=!!Q.normalMap&&!!te.attributes.tangent,yt=!!te.morphAttributes.position,$t=!!te.morphAttributes.normal,Ln=!!te.morphAttributes.color,wt=Q.toneMapped?h.toneMapping:0,Rt=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,or=Rt!==void 0?Rt.length:0,_t=Fe.get(Q),ha=d.state.lights;if(F===!0&&(z===!0||I!==w)){const pn=I===w&&Q.id===b;k.setState(Q,I,pn)}let Ll=!1;Q.version===_t.__version?(_t.needsLights&&_t.lightsStateVersion!==ha.state.version||_t.outputEncoding!==Ye||se.isInstancedMesh&&_t.instancing===!1||!se.isInstancedMesh&&_t.instancing===!0||se.isSkinnedMesh&&_t.skinning===!1||!se.isSkinnedMesh&&_t.skinning===!0||_t.envMap!==ct||Q.fog===!0&&_t.fog!==Ve||_t.numClippingPlanes!==void 0&&(_t.numClippingPlanes!==k.numPlanes||_t.numIntersection!==k.numIntersection)||_t.vertexAlphas!==Ot||_t.vertexTangents!==mt||_t.morphTargets!==yt||_t.morphNormals!==$t||_t.morphColors!==Ln||_t.toneMapping!==wt||Me.isWebGL2===!0&&_t.morphTargetsCount!==or)&&(Ll=!0):(Ll=!0,_t.__version=Q.version);let kn=_t.currentProgram;Ll===!0&&(kn=Ze(Q,Y,se));let fa=!1,kl=!1,Ef=!1;const jr=kn.getUniforms(),Dl=_t.uniforms;if(ge.useProgram(kn.program)&&(fa=!0,kl=!0,Ef=!0),Q.id!==b&&(b=Q.id,kl=!0),fa||w!==I){if(jr.setValue(W,"projectionMatrix",I.projectionMatrix),Me.logarithmicDepthBuffer&&jr.setValue(W,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),w!==I&&(w=I,kl=!0,Ef=!0),Q.isShaderMaterial||Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshStandardMaterial||Q.envMap){const pn=jr.map.cameraPosition;pn!==void 0&&pn.setValue(W,ne.setFromMatrixPosition(I.matrixWorld))}(Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshLambertMaterial||Q.isMeshBasicMaterial||Q.isMeshStandardMaterial||Q.isShaderMaterial)&&jr.setValue(W,"isOrthographic",I.isOrthographicCamera===!0),(Q.isMeshPhongMaterial||Q.isMeshToonMaterial||Q.isMeshLambertMaterial||Q.isMeshBasicMaterial||Q.isMeshStandardMaterial||Q.isShaderMaterial||Q.isShadowMaterial||se.isSkinnedMesh)&&jr.setValue(W,"viewMatrix",I.matrixWorldInverse)}if(se.isSkinnedMesh){jr.setOptional(W,se,"bindMatrix"),jr.setOptional(W,se,"bindMatrixInverse");const pn=se.skeleton;pn&&(Me.floatVertexTextures?(pn.boneTexture===null&&pn.computeBoneTexture(),jr.setValue(W,"boneTexture",pn.boneTexture,pe),jr.setValue(W,"boneTextureSize",pn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Mf=te.morphAttributes;if((Mf.position!==void 0||Mf.normal!==void 0||Mf.color!==void 0&&Me.isWebGL2===!0)&&he.update(se,te,Q,kn),(kl||_t.receiveShadow!==se.receiveShadow)&&(_t.receiveShadow=se.receiveShadow,jr.setValue(W,"receiveShadow",se.receiveShadow)),kl&&(jr.setValue(W,"toneMappingExposure",h.toneMappingExposure),_t.needsLights&&ur(Dl,Ef),Ve&&Q.fog===!0&&Ht.refreshFogUniforms(Dl,Ve),Ht.refreshMaterialUniforms(Dl,Q,D,T,q),up.upload(W,_t.uniformsList,Dl,pe)),Q.isShaderMaterial&&Q.uniformsNeedUpdate===!0&&(up.upload(W,_t.uniformsList,Dl,pe),Q.uniformsNeedUpdate=!1),Q.isSpriteMaterial&&jr.setValue(W,"center",se.center),jr.setValue(W,"modelViewMatrix",se.modelViewMatrix),jr.setValue(W,"normalMatrix",se.normalMatrix),jr.setValue(W,"modelMatrix",se.matrixWorld),Q.isShaderMaterial||Q.isRawShaderMaterial){const pn=Q.uniformsGroups;for(let Af=0,$S=pn.length;Af<$S;Af++)if(Me.isWebGL2){const xv=pn[Af];Re.update(xv,kn),Re.bind(xv,kn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return kn}function ur(I,Y){I.ambientLightColor.needsUpdate=Y,I.lightProbe.needsUpdate=Y,I.directionalLights.needsUpdate=Y,I.directionalLightShadows.needsUpdate=Y,I.pointLights.needsUpdate=Y,I.pointLightShadows.needsUpdate=Y,I.spotLights.needsUpdate=Y,I.spotLightShadows.needsUpdate=Y,I.rectAreaLights.needsUpdate=Y,I.hemisphereLights.needsUpdate=Y}function lt(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&I.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(I,Y,te){Fe.get(I.texture).__webglTexture=Y,Fe.get(I.depthTexture).__webglTexture=te;const Q=Fe.get(I);Q.__hasExternalTextures=!0,Q.__hasExternalTextures&&(Q.__autoAllocateDepthBuffer=te===void 0,Q.__autoAllocateDepthBuffer||Ee.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Q.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(I,Y){const te=Fe.get(I);te.__webglFramebuffer=Y,te.__useDefaultFramebuffer=Y===void 0},this.setRenderTarget=function(I,Y=0,te=0){x=I,v=Y,y=te;let Q=!0;if(I){const Ye=Fe.get(I);Ye.__useDefaultFramebuffer!==void 0?(ge.bindFramebuffer(36160,null),Q=!1):Ye.__webglFramebuffer===void 0?pe.setupRenderTarget(I):Ye.__hasExternalTextures&&pe.rebindTextures(I,Fe.get(I.texture).__webglTexture,Fe.get(I.depthTexture).__webglTexture)}let se=null,Ve=!1,it=!1;if(I){const Ye=I.texture;(Ye.isData3DTexture||Ye.isDataArrayTexture)&&(it=!0);const ct=Fe.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(se=ct[Y],Ve=!0):Me.isWebGL2&&I.samples>0&&pe.useMultisampledRTT(I)===!1?se=Fe.get(I).__webglMultisampledFramebuffer:se=ct,_.copy(I.viewport),C.copy(I.scissor),S=I.scissorTest}else _.copy(L).multiplyScalar(D).floor(),C.copy(O).multiplyScalar(D).floor(),S=B;if(ge.bindFramebuffer(36160,se)&&Me.drawBuffers&&Q&&ge.drawBuffers(I,se),ge.viewport(_),ge.scissor(C),ge.setScissorTest(S),Ve){const Ye=Fe.get(I.texture);W.framebufferTexture2D(36160,36064,34069+Y,Ye.__webglTexture,te)}else if(it){const Ye=Fe.get(I.texture),ct=Y||0;W.framebufferTextureLayer(36160,36064,Ye.__webglTexture,te||0,ct)}b=-1},this.readRenderTargetPixels=function(I,Y,te,Q,se,Ve,it){if(!(I&&I.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ye=Fe.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&it!==void 0&&(Ye=Ye[it]),Ye){ge.bindFramebuffer(36160,Ye);try{const ct=I.texture,Ot=ct.format,mt=ct.type;if(Ot!==1023&&G.convert(Ot)!==W.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const yt=mt===1016&&(Ee.has("EXT_color_buffer_half_float")||Me.isWebGL2&&Ee.has("EXT_color_buffer_float"));if(mt!==1009&&G.convert(mt)!==W.getParameter(35738)&&!(mt===1015&&(Me.isWebGL2||Ee.has("OES_texture_float")||Ee.has("WEBGL_color_buffer_float")))&&!yt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Y>=0&&Y<=I.width-Q&&te>=0&&te<=I.height-se&&W.readPixels(Y,te,Q,se,G.convert(Ot),G.convert(mt),Ve)}finally{const ct=x!==null?Fe.get(x).__webglFramebuffer:null;ge.bindFramebuffer(36160,ct)}}},this.copyFramebufferToTexture=function(I,Y,te=0){const Q=Math.pow(2,-te),se=Math.floor(Y.image.width*Q),Ve=Math.floor(Y.image.height*Q);pe.setTexture2D(Y,0),W.copyTexSubImage2D(3553,te,0,0,I.x,I.y,se,Ve),ge.unbindTexture()},this.copyTextureToTexture=function(I,Y,te,Q=0){const se=Y.image.width,Ve=Y.image.height,it=G.convert(te.format),Ye=G.convert(te.type);pe.setTexture2D(te,0),W.pixelStorei(37440,te.flipY),W.pixelStorei(37441,te.premultiplyAlpha),W.pixelStorei(3317,te.unpackAlignment),Y.isDataTexture?W.texSubImage2D(3553,Q,I.x,I.y,se,Ve,it,Ye,Y.image.data):Y.isCompressedTexture?W.compressedTexSubImage2D(3553,Q,I.x,I.y,Y.mipmaps[0].width,Y.mipmaps[0].height,it,Y.mipmaps[0].data):W.texSubImage2D(3553,Q,I.x,I.y,it,Ye,Y.image),Q===0&&te.generateMipmaps&&W.generateMipmap(3553),ge.unbindTexture()},this.copyTextureToTexture3D=function(I,Y,te,Q,se=0){if(h.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ve=I.max.x-I.min.x+1,it=I.max.y-I.min.y+1,Ye=I.max.z-I.min.z+1,ct=G.convert(Q.format),Ot=G.convert(Q.type);let mt;if(Q.isData3DTexture)pe.setTexture3D(Q,0),mt=32879;else if(Q.isDataArrayTexture)pe.setTexture2DArray(Q,0),mt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}W.pixelStorei(37440,Q.flipY),W.pixelStorei(37441,Q.premultiplyAlpha),W.pixelStorei(3317,Q.unpackAlignment);const yt=W.getParameter(3314),$t=W.getParameter(32878),Ln=W.getParameter(3316),wt=W.getParameter(3315),Rt=W.getParameter(32877),or=te.isCompressedTexture?te.mipmaps[0]:te.image;W.pixelStorei(3314,or.width),W.pixelStorei(32878,or.height),W.pixelStorei(3316,I.min.x),W.pixelStorei(3315,I.min.y),W.pixelStorei(32877,I.min.z),te.isDataTexture||te.isData3DTexture?W.texSubImage3D(mt,se,Y.x,Y.y,Y.z,Ve,it,Ye,ct,Ot,or.data):te.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),W.compressedTexSubImage3D(mt,se,Y.x,Y.y,Y.z,Ve,it,Ye,ct,or.data)):W.texSubImage3D(mt,se,Y.x,Y.y,Y.z,Ve,it,Ye,ct,Ot,or),W.pixelStorei(3314,yt),W.pixelStorei(32878,$t),W.pixelStorei(3316,Ln),W.pixelStorei(3315,wt),W.pixelStorei(32877,Rt),se===0&&Q.generateMipmaps&&W.generateMipmap(mt),ge.unbindTexture()},this.initTexture=function(I){I.isCubeTexture?pe.setTextureCube(I,0):I.isData3DTexture?pe.setTexture3D(I,0):I.isDataArrayTexture?pe.setTexture2DArray(I,0):pe.setTexture2D(I,0),ge.unbindTexture()},this.resetState=function(){v=0,y=0,x=null,ge.reset(),je.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class NU extends yS{}NU.prototype.isWebGL1Renderer=!0;class zU extends Wr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,r){return super.copy(e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const r=super.toJSON(e);return this.fog!==null&&(r.object.fog=this.fog.toJSON()),r}}class Yx extends Mn{constructor(e,r,n,i,a,o,s,l,c){super(e,r,n,i,a,o,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class uv extends Ni{constructor(e=1,r=1,n=1,i=8,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:r,height:n,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],p=[],d=[],g=[];let m=0;const h=[],f=n/2;let v=0;y(),o===!1&&(e>0&&x(!0),r>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new zr(p,3)),this.setAttribute("normal",new zr(d,3)),this.setAttribute("uv",new zr(g,2));function y(){const b=new K,w=new K;let _=0;const C=(r-e)/n;for(let S=0;S<=a;S++){const M=[],T=S/a,D=T*(r-e)+e;for(let j=0;j<=i;j++){const N=j/i,L=N*l+s,O=Math.sin(L),B=Math.cos(L);w.x=D*O,w.y=-T*n+f,w.z=D*B,p.push(w.x,w.y,w.z),b.set(O,C,B).normalize(),d.push(b.x,b.y,b.z),g.push(N,1-T),M.push(m++)}h.push(M)}for(let S=0;S<i;S++)for(let M=0;M<a;M++){const T=h[M][S],D=h[M+1][S],j=h[M+1][S+1],N=h[M][S+1];u.push(T,D,N),u.push(D,j,N),_+=6}c.addGroup(v,_,0),v+=_}function x(b){const w=m,_=new Ct,C=new K;let S=0;const M=b===!0?e:r,T=b===!0?1:-1;for(let j=1;j<=i;j++)p.push(0,f*T,0),d.push(0,T,0),g.push(.5,.5),m++;const D=m;for(let j=0;j<=i;j++){const N=j/i*l+s,L=Math.cos(N),O=Math.sin(N);C.x=M*O,C.y=f*T,C.z=M*L,p.push(C.x,C.y,C.z),d.push(0,T,0),_.x=L*.5+.5,_.y=O*.5*T+.5,g.push(_.x,_.y),m++}for(let j=0;j<i;j++){const N=w+j,L=D+j;b===!0?u.push(L,L+1,N):u.push(L+1,L,N),S+=3}c.addGroup(v,S,b===!0?1:2),v+=S}}static fromJSON(e){return new uv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class OU extends is{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new St(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class BU extends is{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new St(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class jU extends is{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new St(16777215),this.specular=new St(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ct(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xS extends Wr{constructor(e,r=1){super(),this.isLight=!0,this.type="Light",this.color=new St(e),this.intensity=r}dispose(){}copy(e,r){return super.copy(e,r),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const r=super.toJSON(e);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,this.groundColor!==void 0&&(r.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(r.object.distance=this.distance),this.angle!==void 0&&(r.object.angle=this.angle),this.decay!==void 0&&(r.object.decay=this.decay),this.penumbra!==void 0&&(r.object.penumbra=this.penumbra),this.shadow!==void 0&&(r.object.shadow=this.shadow.toJSON()),r}}class $U extends xS{constructor(e,r,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Wr.DefaultUp),this.updateMatrix(),this.groundColor=new St(r)}copy(e,r){return super.copy(e,r),this.groundColor.copy(e.groundColor),this}}const Kx=new _r,Qx=new K,Jx=new K;class UU{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ct(512,512),this.map=null,this.mapPass=null,this.matrix=new _r,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lv,this._frameExtents=new Ct(1,1),this._viewportCount=1,this._viewports=[new br(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const r=this.camera,n=this.matrix;Qx.setFromMatrixPosition(e.matrixWorld),r.position.copy(Qx),Jx.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(Jx),r.updateMatrixWorld(),Kx.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Kx),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(r.projectionMatrix),n.multiply(r.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class qU extends UU{constructor(){super(new vn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const r=this.camera,n=Sg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||r.far;(n!==r.fov||i!==r.aspect||a!==r.far)&&(r.fov=n,r.aspect=i,r.far=a,r.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class VU extends xS{constructor(e,r,n=0,i=Math.PI/3,a=0,o=1){super(e,r),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Wr.DefaultUp),this.updateMatrix(),this.target=new Wr,this.distance=n,this.angle=i,this.penumbra=a,this.decay=o,this.shadow=new qU}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,r){return super.copy(e,r),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:sv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=sv);class si{constructor(e){e===void 0&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const r=this.elements;r[0]=e.x,r[4]=e.y,r[8]=e.z}getTrace(e){e===void 0&&(e=new A);const r=this.elements;return e.x=r[0],e.y=r[4],e.z=r[8],e}vmult(e,r){r===void 0&&(r=new A);const n=this.elements,i=e.x,a=e.y,o=e.z;return r.x=n[0]*i+n[1]*a+n[2]*o,r.y=n[3]*i+n[4]*a+n[5]*o,r.z=n[6]*i+n[7]*a+n[8]*o,r}smult(e){for(let r=0;r<this.elements.length;r++)this.elements[r]*=e}mmult(e,r){r===void 0&&(r=new si);const n=this.elements,i=e.elements,a=r.elements,o=n[0],s=n[1],l=n[2],c=n[3],u=n[4],p=n[5],d=n[6],g=n[7],m=n[8],h=i[0],f=i[1],v=i[2],y=i[3],x=i[4],b=i[5],w=i[6],_=i[7],C=i[8];return a[0]=o*h+s*y+l*w,a[1]=o*f+s*x+l*_,a[2]=o*v+s*b+l*C,a[3]=c*h+u*y+p*w,a[4]=c*f+u*x+p*_,a[5]=c*v+u*b+p*C,a[6]=d*h+g*y+m*w,a[7]=d*f+g*x+m*_,a[8]=d*v+g*b+m*C,r}scale(e,r){r===void 0&&(r=new si);const n=this.elements,i=r.elements;for(let a=0;a!==3;a++)i[3*a+0]=e.x*n[3*a+0],i[3*a+1]=e.y*n[3*a+1],i[3*a+2]=e.z*n[3*a+2];return r}solve(e,r){r===void 0&&(r=new A);const n=3,i=4,a=[];let o,s;for(o=0;o<n*i;o++)a.push(0);for(o=0;o<3;o++)for(s=0;s<3;s++)a[o+i*s]=this.elements[o+3*s];a[3+4*0]=e.x,a[3+4*1]=e.y,a[3+4*2]=e.z;let l=3;const c=l;let u;const p=4;let d;do{if(o=c-l,a[o+i*o]===0){for(s=o+1;s<c;s++)if(a[o+i*s]!==0){u=p;do d=p-u,a[d+i*o]+=a[d+i*s];while(--u);break}}if(a[o+i*o]!==0)for(s=o+1;s<c;s++){const g=a[o+i*s]/a[o+i*o];u=p;do d=p-u,a[d+i*s]=d<=o?0:a[d+i*s]-a[d+i*o]*g;while(--u)}}while(--l);if(r.z=a[2*i+3]/a[2*i+2],r.y=(a[1*i+3]-a[1*i+2]*r.z)/a[1*i+1],r.x=(a[0*i+3]-a[0*i+2]*r.z-a[0*i+1]*r.y)/a[0*i+0],isNaN(r.x)||isNaN(r.y)||isNaN(r.z)||r.x===1/0||r.y===1/0||r.z===1/0)throw`Could not solve equation! Got x=[${r.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return r}e(e,r,n){if(n===void 0)return this.elements[r+3*e];this.elements[r+3*e]=n}copy(e){for(let r=0;r<e.elements.length;r++)this.elements[r]=e.elements[r];return this}toString(){let e="";const r=",";for(let n=0;n<9;n++)e+=this.elements[n]+r;return e}reverse(e){e===void 0&&(e=new si);const r=3,n=6,i=HU;let a,o;for(a=0;a<3;a++)for(o=0;o<3;o++)i[a+n*o]=this.elements[a+3*o];i[3+6*0]=1,i[3+6*1]=0,i[3+6*2]=0,i[4+6*0]=0,i[4+6*1]=1,i[4+6*2]=0,i[5+6*0]=0,i[5+6*1]=0,i[5+6*2]=1;let s=3;const l=s;let c;const u=n;let p;do{if(a=l-s,i[a+n*a]===0){for(o=a+1;o<l;o++)if(i[a+n*o]!==0){c=u;do p=u-c,i[p+n*a]+=i[p+n*o];while(--c);break}}if(i[a+n*a]!==0)for(o=a+1;o<l;o++){const d=i[a+n*o]/i[a+n*a];c=u;do p=u-c,i[p+n*o]=p<=a?0:i[p+n*o]-i[p+n*a]*d;while(--c)}}while(--s);a=2;do{o=a-1;do{const d=i[a+n*o]/i[a+n*a];c=n;do p=n-c,i[p+n*o]=i[p+n*o]-i[p+n*a]*d;while(--c)}while(o--)}while(--a);a=2;do{const d=1/i[a+n*a];c=n;do p=n-c,i[p+n*a]=i[p+n*a]*d;while(--c)}while(a--);a=2;do{o=2;do{if(p=i[r+o+n*a],isNaN(p)||p===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(a,o,p)}while(o--)}while(a--);return e}setRotationFromQuaternion(e){const r=e.x,n=e.y,i=e.z,a=e.w,o=r+r,s=n+n,l=i+i,c=r*o,u=r*s,p=r*l,d=n*s,g=n*l,m=i*l,h=a*o,f=a*s,v=a*l,y=this.elements;return y[3*0+0]=1-(d+m),y[3*0+1]=u-v,y[3*0+2]=p+f,y[3*1+0]=u+v,y[3*1+1]=1-(c+m),y[3*1+2]=g-h,y[3*2+0]=p-f,y[3*2+1]=g+h,y[3*2+2]=1-(c+d),this}transpose(e){e===void 0&&(e=new si);const r=this.elements,n=e.elements;let i;return n[0]=r[0],n[4]=r[4],n[8]=r[8],i=r[1],n[1]=r[3],n[3]=i,i=r[2],n[2]=r[6],n[6]=i,i=r[5],n[5]=r[7],n[7]=i,e}}const HU=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class A{constructor(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.z=n}cross(e,r){r===void 0&&(r=new A);const n=e.x,i=e.y,a=e.z,o=this.x,s=this.y,l=this.z;return r.x=s*a-l*i,r.y=l*n-o*a,r.z=o*i-s*n,r}set(e,r,n){return this.x=e,this.y=r,this.z=n,this}setZero(){this.x=this.y=this.z=0}vadd(e,r){if(r)r.x=e.x+this.x,r.y=e.y+this.y,r.z=e.z+this.z;else return new A(this.x+e.x,this.y+e.y,this.z+e.z)}vsub(e,r){if(r)r.x=this.x-e.x,r.y=this.y-e.y,r.z=this.z-e.z;else return new A(this.x-e.x,this.y-e.y,this.z-e.z)}crossmat(){return new si([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,r=this.y,n=this.z,i=Math.sqrt(e*e+r*r+n*n);if(i>0){const a=1/i;this.x*=a,this.y*=a,this.z*=a}else this.x=0,this.y=0,this.z=0;return i}unit(e){e===void 0&&(e=new A);const r=this.x,n=this.y,i=this.z;let a=Math.sqrt(r*r+n*n+i*i);return a>0?(a=1/a,e.x=r*a,e.y=n*a,e.z=i*a):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,r=this.y,n=this.z;return Math.sqrt(e*e+r*r+n*n)}lengthSquared(){return this.dot(this)}distanceTo(e){const r=this.x,n=this.y,i=this.z,a=e.x,o=e.y,s=e.z;return Math.sqrt((a-r)*(a-r)+(o-n)*(o-n)+(s-i)*(s-i))}distanceSquared(e){const r=this.x,n=this.y,i=this.z,a=e.x,o=e.y,s=e.z;return(a-r)*(a-r)+(o-n)*(o-n)+(s-i)*(s-i)}scale(e,r){r===void 0&&(r=new A);const n=this.x,i=this.y,a=this.z;return r.x=e*n,r.y=e*i,r.z=e*a,r}vmul(e,r){return r===void 0&&(r=new A),r.x=e.x*this.x,r.y=e.y*this.y,r.z=e.z*this.z,r}addScaledVector(e,r,n){return n===void 0&&(n=new A),n.x=this.x+e*r.x,n.y=this.y+e*r.y,n.z=this.z+e*r.z,n}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return this.x===0&&this.y===0&&this.z===0}negate(e){return e===void 0&&(e=new A),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,r){const n=this.length();if(n>0){const i=WU,a=1/n;i.set(this.x*a,this.y*a,this.z*a);const o=GU;Math.abs(i.x)<.9?(o.set(1,0,0),i.cross(o,e)):(o.set(0,1,0),i.cross(o,e)),i.cross(e,r)}else e.set(1,0,0),r.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,r,n){const i=this.x,a=this.y,o=this.z;n.x=i+(e.x-i)*r,n.y=a+(e.y-a)*r,n.z=o+(e.z-o)*r}almostEquals(e,r){return r===void 0&&(r=1e-6),!(Math.abs(this.x-e.x)>r||Math.abs(this.y-e.y)>r||Math.abs(this.z-e.z)>r)}almostZero(e){return e===void 0&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,r){return this.negate(e3),e3.almostEquals(e,r)}clone(){return new A(this.x,this.y,this.z)}}A.ZERO=new A(0,0,0);A.UNIT_X=new A(1,0,0);A.UNIT_Y=new A(0,1,0);A.UNIT_Z=new A(0,0,1);const WU=new A,GU=new A,e3=new A;class Pn{constructor(e){e===void 0&&(e={}),this.lowerBound=new A,this.upperBound=new A,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,r,n,i){const a=this.lowerBound,o=this.upperBound,s=n;a.copy(e[0]),s&&s.vmult(a,a),o.copy(a);for(let l=1;l<e.length;l++){let c=e[l];s&&(s.vmult(c,t3),c=t3),c.x>o.x&&(o.x=c.x),c.x<a.x&&(a.x=c.x),c.y>o.y&&(o.y=c.y),c.y<a.y&&(a.y=c.y),c.z>o.z&&(o.z=c.z),c.z<a.z&&(a.z=c.z)}return r&&(r.vadd(a,a),r.vadd(o,o)),i&&(a.x-=i,a.y-=i,a.z-=i,o.x+=i,o.y+=i,o.z+=i),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return new Pn().copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const r=this.lowerBound,n=this.upperBound,i=e.lowerBound,a=e.upperBound,o=i.x<=n.x&&n.x<=a.x||r.x<=a.x&&a.x<=n.x,s=i.y<=n.y&&n.y<=a.y||r.y<=a.y&&a.y<=n.y,l=i.z<=n.z&&n.z<=a.z||r.z<=a.z&&a.z<=n.z;return o&&s&&l}volume(){const e=this.lowerBound,r=this.upperBound;return(r.x-e.x)*(r.y-e.y)*(r.z-e.z)}contains(e){const r=this.lowerBound,n=this.upperBound,i=e.lowerBound,a=e.upperBound;return r.x<=i.x&&n.x>=a.x&&r.y<=i.y&&n.y>=a.y&&r.z<=i.z&&n.z>=a.z}getCorners(e,r,n,i,a,o,s,l){const c=this.lowerBound,u=this.upperBound;e.copy(c),r.set(u.x,c.y,c.z),n.set(u.x,u.y,c.z),i.set(c.x,u.y,u.z),a.set(u.x,c.y,u.z),o.set(c.x,u.y,c.z),s.set(c.x,c.y,u.z),l.copy(u)}toLocalFrame(e,r){const n=r3,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],p=n[7];this.getCorners(i,a,o,s,l,c,u,p);for(let d=0;d!==8;d++){const g=n[d];e.pointToLocal(g,g)}return r.setFromPoints(n)}toWorldFrame(e,r){const n=r3,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],c=n[5],u=n[6],p=n[7];this.getCorners(i,a,o,s,l,c,u,p);for(let d=0;d!==8;d++){const g=n[d];e.pointToWorld(g,g)}return r.setFromPoints(n)}overlapsRay(e){const{direction:r,from:n}=e,i=1/r.x,a=1/r.y,o=1/r.z,s=(this.lowerBound.x-n.x)*i,l=(this.upperBound.x-n.x)*i,c=(this.lowerBound.y-n.y)*a,u=(this.upperBound.y-n.y)*a,p=(this.lowerBound.z-n.z)*o,d=(this.upperBound.z-n.z)*o,g=Math.max(Math.max(Math.min(s,l),Math.min(c,u)),Math.min(p,d)),m=Math.min(Math.min(Math.max(s,l),Math.max(c,u)),Math.max(p,d));return!(m<0||g>m)}}const t3=new A,r3=[new A,new A,new A,new A,new A,new A,new A,new A];class n3{constructor(){this.matrix=[]}get(e,r){let{index:n}=e,{index:i}=r;if(i>n){const a=i;i=n,n=a}return this.matrix[(n*(n+1)>>1)+i-1]}set(e,r,n){let{index:i}=e,{index:a}=r;if(a>i){const o=a;a=i,i=o}this.matrix[(i*(i+1)>>1)+a-1]=n?1:0}reset(){for(let e=0,r=this.matrix.length;e!==r;e++)this.matrix[e]=0}setNumObjects(e){this.matrix.length=e*(e-1)>>1}}class bS{addEventListener(e,r){this._listeners===void 0&&(this._listeners={});const n=this._listeners;return n[e]===void 0&&(n[e]=[]),n[e].includes(r)||n[e].push(r),this}hasEventListener(e,r){if(this._listeners===void 0)return!1;const n=this._listeners;return!!(n[e]!==void 0&&n[e].includes(r))}hasAnyEventListener(e){return this._listeners===void 0?!1:this._listeners[e]!==void 0}removeEventListener(e,r){if(this._listeners===void 0)return this;const n=this._listeners;if(n[e]===void 0)return this;const i=n[e].indexOf(r);return i!==-1&&n[e].splice(i,1),this}dispatchEvent(e){if(this._listeners===void 0)return this;const r=this._listeners[e.type];if(r!==void 0){e.target=this;for(let n=0,i=r.length;n<i;n++)r[n].call(this,e)}return this}}class fr{constructor(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),this.x=e,this.y=r,this.z=n,this.w=i}set(e,r,n,i){return this.x=e,this.y=r,this.z=n,this.w=i,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,r){const n=Math.sin(r*.5);return this.x=e.x*n,this.y=e.y*n,this.z=e.z*n,this.w=Math.cos(r*.5),this}toAxisAngle(e){e===void 0&&(e=new A),this.normalize();const r=2*Math.acos(this.w),n=Math.sqrt(1-this.w*this.w);return n<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/n,e.y=this.y/n,e.z=this.z/n),[e,r]}setFromVectors(e,r){if(e.isAntiparallelTo(r)){const n=ZU,i=XU;e.tangents(n,i),this.setFromAxisAngle(n,Math.PI)}else{const n=e.cross(r);this.x=n.x,this.y=n.y,this.z=n.z,this.w=Math.sqrt(e.length()**2*r.length()**2)+e.dot(r),this.normalize()}return this}mult(e,r){r===void 0&&(r=new fr);const n=this.x,i=this.y,a=this.z,o=this.w,s=e.x,l=e.y,c=e.z,u=e.w;return r.x=n*u+o*s+i*c-a*l,r.y=i*u+o*l+a*s-n*c,r.z=a*u+o*c+n*l-i*s,r.w=o*u-n*s-i*l-a*c,r}inverse(e){e===void 0&&(e=new fr);const r=this.x,n=this.y,i=this.z,a=this.w;this.conjugate(e);const o=1/(r*r+n*n+i*i+a*a);return e.x*=o,e.y*=o,e.z*=o,e.w*=o,e}conjugate(e){return e===void 0&&(e=new fr),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,r){r===void 0&&(r=new A);const n=e.x,i=e.y,a=e.z,o=this.x,s=this.y,l=this.z,c=this.w,u=c*n+s*a-l*i,p=c*i+l*n-o*a,d=c*a+o*i-s*n,g=-o*n-s*i-l*a;return r.x=u*c+g*-o+p*-l-d*-s,r.y=p*c+g*-s+d*-o-u*-l,r.z=d*c+g*-l+u*-s-p*-o,r}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,r){r===void 0&&(r="YZX");let n,i,a;const o=this.x,s=this.y,l=this.z,c=this.w;switch(r){case"YZX":const u=o*s+l*c;if(u>.499&&(n=2*Math.atan2(o,c),i=Math.PI/2,a=0),u<-.499&&(n=-2*Math.atan2(o,c),i=-Math.PI/2,a=0),n===void 0){const p=o*o,d=s*s,g=l*l;n=Math.atan2(2*s*c-2*o*l,1-2*d-2*g),i=Math.asin(2*u),a=Math.atan2(2*o*c-2*s*l,1-2*p-2*g)}break;default:throw new Error(`Euler order ${r} not supported yet.`)}e.y=n,e.z=i,e.x=a}setFromEuler(e,r,n,i){i===void 0&&(i="XYZ");const a=Math.cos(e/2),o=Math.cos(r/2),s=Math.cos(n/2),l=Math.sin(e/2),c=Math.sin(r/2),u=Math.sin(n/2);return i==="XYZ"?(this.x=l*o*s+a*c*u,this.y=a*c*s-l*o*u,this.z=a*o*u+l*c*s,this.w=a*o*s-l*c*u):i==="YXZ"?(this.x=l*o*s+a*c*u,this.y=a*c*s-l*o*u,this.z=a*o*u-l*c*s,this.w=a*o*s+l*c*u):i==="ZXY"?(this.x=l*o*s-a*c*u,this.y=a*c*s+l*o*u,this.z=a*o*u+l*c*s,this.w=a*o*s-l*c*u):i==="ZYX"?(this.x=l*o*s-a*c*u,this.y=a*c*s+l*o*u,this.z=a*o*u-l*c*s,this.w=a*o*s+l*c*u):i==="YZX"?(this.x=l*o*s+a*c*u,this.y=a*c*s+l*o*u,this.z=a*o*u-l*c*s,this.w=a*o*s-l*c*u):i==="XZY"&&(this.x=l*o*s-a*c*u,this.y=a*c*s-l*o*u,this.z=a*o*u+l*c*s,this.w=a*o*s+l*c*u),this}clone(){return new fr(this.x,this.y,this.z,this.w)}slerp(e,r,n){n===void 0&&(n=new fr);const i=this.x,a=this.y,o=this.z,s=this.w;let l=e.x,c=e.y,u=e.z,p=e.w,d,g,m,h,f;return g=i*l+a*c+o*u+s*p,g<0&&(g=-g,l=-l,c=-c,u=-u,p=-p),1-g>1e-6?(d=Math.acos(g),m=Math.sin(d),h=Math.sin((1-r)*d)/m,f=Math.sin(r*d)/m):(h=1-r,f=r),n.x=h*i+f*l,n.y=h*a+f*c,n.z=h*o+f*u,n.w=h*s+f*p,n}integrate(e,r,n,i){i===void 0&&(i=new fr);const a=e.x*n.x,o=e.y*n.y,s=e.z*n.z,l=this.x,c=this.y,u=this.z,p=this.w,d=r*.5;return i.x+=d*(a*p+o*u-s*c),i.y+=d*(o*p+s*l-a*u),i.z+=d*(s*p+a*c-o*l),i.w+=d*(-a*l-o*c-s*u),i}}const ZU=new A,XU=new A,YU={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};class Be{constructor(e){e===void 0&&(e={}),this.id=Be.idCounter++,this.type=e.type||0,this.boundingSphereRadius=0,this.collisionResponse=e.collisionResponse?e.collisionResponse:!0,this.collisionFilterGroup=e.collisionFilterGroup!==void 0?e.collisionFilterGroup:1,this.collisionFilterMask=e.collisionFilterMask!==void 0?e.collisionFilterMask:-1,this.material=e.material?e.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(e,r){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(e,r,n,i){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}Be.idCounter=0;Be.types=YU;class kt{constructor(e){e===void 0&&(e={}),this.position=new A,this.quaternion=new fr,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,r){return kt.pointToLocalFrame(this.position,this.quaternion,e,r)}pointToWorld(e,r){return kt.pointToWorldFrame(this.position,this.quaternion,e,r)}vectorToWorldFrame(e,r){return r===void 0&&(r=new A),this.quaternion.vmult(e,r),r}static pointToLocalFrame(e,r,n,i){return i===void 0&&(i=new A),n.vsub(e,i),r.conjugate(i3),i3.vmult(i,i),i}static pointToWorldFrame(e,r,n,i){return i===void 0&&(i=new A),r.vmult(n,i),i.vadd(e,i),i}static vectorToWorldFrame(e,r,n){return n===void 0&&(n=new A),e.vmult(r,n),n}static vectorToLocalFrame(e,r,n,i){return i===void 0&&(i=new A),r.w*=-1,r.vmult(n,i),r.w*=-1,i}}const i3=new fr;class No extends Be{constructor(e){e===void 0&&(e={});const{vertices:r=[],faces:n=[],normals:i=[],axes:a,boundingSphereRadius:o}=e;super({type:Be.types.CONVEXPOLYHEDRON}),this.vertices=r,this.faces=n,this.faceNormals=i,this.faceNormals.length===0&&this.computeNormals(),o?this.boundingSphereRadius=o:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=a?a.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,r=this.vertices,n=this.uniqueEdges;n.length=0;const i=new A;for(let a=0;a!==e.length;a++){const o=e[a],s=o.length;for(let l=0;l!==s;l++){const c=(l+1)%s;r[o[l]].vsub(r[o[c]],i),i.normalize();let u=!1;for(let p=0;p!==n.length;p++)if(n[p].almostEquals(i)||n[p].almostEquals(i)){u=!0;break}u||n.push(i.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let i=0;i<this.faces[e].length;i++)if(!this.vertices[this.faces[e][i]])throw new Error(`Vertex ${this.faces[e][i]} not found!`);const r=this.faceNormals[e]||new A;this.getFaceNormal(e,r),r.negate(r),this.faceNormals[e]=r;const n=this.vertices[this.faces[e][0]];if(r.dot(n)<0){console.error(`.faceNormals[${e}] = Vec3(${r.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let i=0;i<this.faces[e].length;i++)console.warn(`.vertices[${this.faces[e][i]}] = Vec3(${this.vertices[this.faces[e][i]].toString()})`)}}}getFaceNormal(e,r){const n=this.faces[e],i=this.vertices[n[0]],a=this.vertices[n[1]],o=this.vertices[n[2]];No.computeNormal(i,a,o,r)}static computeNormal(e,r,n,i){const a=new A,o=new A;r.vsub(e,o),n.vsub(r,a),a.cross(o,i),i.isZero()||i.normalize()}clipAgainstHull(e,r,n,i,a,o,s,l,c){const u=new A;let p=-1,d=-Number.MAX_VALUE;for(let m=0;m<n.faces.length;m++){u.copy(n.faceNormals[m]),a.vmult(u,u);const h=u.dot(o);h>d&&(d=h,p=m)}const g=[];for(let m=0;m<n.faces[p].length;m++){const h=n.vertices[n.faces[p][m]],f=new A;f.copy(h),a.vmult(f,f),i.vadd(f,f),g.push(f)}p>=0&&this.clipFaceAgainstHull(o,e,r,g,s,l,c)}findSeparatingAxis(e,r,n,i,a,o,s,l){const c=new A,u=new A,p=new A,d=new A,g=new A,m=new A;let h=Number.MAX_VALUE;const f=this;if(f.uniqueAxes)for(let v=0;v!==f.uniqueAxes.length;v++){n.vmult(f.uniqueAxes[v],c);const y=f.testSepAxis(c,e,r,n,i,a);if(y===!1)return!1;y<h&&(h=y,o.copy(c))}else{const v=s?s.length:f.faces.length;for(let y=0;y<v;y++){const x=s?s[y]:y;c.copy(f.faceNormals[x]),n.vmult(c,c);const b=f.testSepAxis(c,e,r,n,i,a);if(b===!1)return!1;b<h&&(h=b,o.copy(c))}}if(e.uniqueAxes)for(let v=0;v!==e.uniqueAxes.length;v++){a.vmult(e.uniqueAxes[v],u);const y=f.testSepAxis(u,e,r,n,i,a);if(y===!1)return!1;y<h&&(h=y,o.copy(u))}else{const v=l?l.length:e.faces.length;for(let y=0;y<v;y++){const x=l?l[y]:y;u.copy(e.faceNormals[x]),a.vmult(u,u);const b=f.testSepAxis(u,e,r,n,i,a);if(b===!1)return!1;b<h&&(h=b,o.copy(u))}}for(let v=0;v!==f.uniqueEdges.length;v++){n.vmult(f.uniqueEdges[v],d);for(let y=0;y!==e.uniqueEdges.length;y++)if(a.vmult(e.uniqueEdges[y],g),d.cross(g,m),!m.almostZero()){m.normalize();const x=f.testSepAxis(m,e,r,n,i,a);if(x===!1)return!1;x<h&&(h=x,o.copy(m))}}return i.vsub(r,p),p.dot(o)>0&&o.negate(o),!0}testSepAxis(e,r,n,i,a,o){const s=this;No.project(s,e,n,i,Hm),No.project(r,e,a,o,Wm);const l=Hm[0],c=Hm[1],u=Wm[0],p=Wm[1];if(l<p||u<c)return!1;const d=l-p,g=u-c;return d<g?d:g}calculateLocalInertia(e,r){const n=new A,i=new A;this.computeLocalAABB(i,n);const a=n.x-i.x,o=n.y-i.y,s=n.z-i.z;r.x=1/12*e*(2*o*2*o+2*s*2*s),r.y=1/12*e*(2*a*2*a+2*s*2*s),r.z=1/12*e*(2*o*2*o+2*a*2*a)}getPlaneConstantOfFace(e){const r=this.faces[e],n=this.faceNormals[e],i=this.vertices[r[0]];return-n.dot(i)}clipFaceAgainstHull(e,r,n,i,a,o,s){const l=new A,c=new A,u=new A,p=new A,d=new A,g=new A,m=new A,h=new A,f=this,v=[],y=i,x=v;let b=-1,w=Number.MAX_VALUE;for(let T=0;T<f.faces.length;T++){l.copy(f.faceNormals[T]),n.vmult(l,l);const D=l.dot(e);D<w&&(w=D,b=T)}if(b<0)return;const _=f.faces[b];_.connectedFaces=[];for(let T=0;T<f.faces.length;T++)for(let D=0;D<f.faces[T].length;D++)_.indexOf(f.faces[T][D])!==-1&&T!==b&&_.connectedFaces.indexOf(T)===-1&&_.connectedFaces.push(T);const C=_.length;for(let T=0;T<C;T++){const D=f.vertices[_[T]],j=f.vertices[_[(T+1)%C]];D.vsub(j,c),u.copy(c),n.vmult(u,u),r.vadd(u,u),p.copy(this.faceNormals[b]),n.vmult(p,p),r.vadd(p,p),u.cross(p,d),d.negate(d),g.copy(D),n.vmult(g,g),r.vadd(g,g);const N=_.connectedFaces[T];m.copy(this.faceNormals[N]);const L=this.getPlaneConstantOfFace(N);h.copy(m),n.vmult(h,h);const O=L-h.dot(r);for(this.clipFaceAgainstPlane(y,x,h,O);y.length;)y.shift();for(;x.length;)y.push(x.shift())}m.copy(this.faceNormals[b]);const S=this.getPlaneConstantOfFace(b);h.copy(m),n.vmult(h,h);const M=S-h.dot(r);for(let T=0;T<y.length;T++){let D=h.dot(y[T])+M;if(D<=a&&(D=a),D<=o){const j=y[T];if(D<=1e-6){const N={point:j,normal:h,depth:D};s.push(N)}}}}clipFaceAgainstPlane(e,r,n,i){let a,o;const s=e.length;if(s<2)return r;let l=e[e.length-1],c=e[0];a=n.dot(l)+i;for(let u=0;u<s;u++){if(c=e[u],o=n.dot(c)+i,a<0)if(o<0){const p=new A;p.copy(c),r.push(p)}else{const p=new A;l.lerp(c,a/(a-o),p),r.push(p)}else if(o<0){const p=new A;l.lerp(c,a/(a-o),p),r.push(p),r.push(c)}l=c,a=o}return r}computeWorldVertices(e,r){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new A);const n=this.vertices,i=this.worldVertices;for(let a=0;a!==this.vertices.length;a++)r.vmult(n[a],i[a]),e.vadd(i[a],i[a]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,r){const n=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),r.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let i=0;i<this.vertices.length;i++){const a=n[i];a.x<e.x?e.x=a.x:a.x>r.x&&(r.x=a.x),a.y<e.y?e.y=a.y:a.y>r.y&&(r.y=a.y),a.z<e.z?e.z=a.z:a.z>r.z&&(r.z=a.z)}}computeWorldFaceNormals(e){const r=this.faceNormals.length;for(;this.worldFaceNormals.length<r;)this.worldFaceNormals.push(new A);const n=this.faceNormals,i=this.worldFaceNormals;for(let a=0;a!==r;a++)e.vmult(n[a],i[a]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const r=this.vertices;for(let n=0;n!==r.length;n++){const i=r[n].lengthSquared();i>e&&(e=i)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,r,n,i){const a=this.vertices;let o,s,l,c,u,p,d=new A;for(let g=0;g<a.length;g++){d.copy(a[g]),r.vmult(d,d),e.vadd(d,d);const m=d;(o===void 0||m.x<o)&&(o=m.x),(c===void 0||m.x>c)&&(c=m.x),(s===void 0||m.y<s)&&(s=m.y),(u===void 0||m.y>u)&&(u=m.y),(l===void 0||m.z<l)&&(l=m.z),(p===void 0||m.z>p)&&(p=m.z)}n.set(o,s,l),i.set(c,u,p)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){e===void 0&&(e=new A);const r=this.vertices;for(let n=0;n<r.length;n++)e.vadd(r[n],e);return e.scale(1/r.length,e),e}transformAllPoints(e,r){const n=this.vertices.length,i=this.vertices;if(r){for(let a=0;a<n;a++){const o=i[a];r.vmult(o,o)}for(let a=0;a<this.faceNormals.length;a++){const o=this.faceNormals[a];r.vmult(o,o)}}if(e)for(let a=0;a<n;a++){const o=i[a];o.vadd(e,o)}}pointIsInside(e){const r=this.vertices,n=this.faces,i=this.faceNormals,a=null,o=new A;this.getAveragePointLocal(o);for(let s=0;s<this.faces.length;s++){let l=i[s];const c=r[n[s][0]],u=new A;e.vsub(c,u);const p=l.dot(u),d=new A;o.vsub(c,d);const g=l.dot(d);if(p<0&&g>0||p>0&&g<0)return!1}return a?1:-1}static project(e,r,n,i,a){const o=e.vertices.length,s=KU;let l=0,c=0;const u=QU,p=e.vertices;u.setZero(),kt.vectorToLocalFrame(n,i,r,s),kt.pointToLocalFrame(n,i,u,u);const d=u.dot(s);c=l=p[0].dot(s);for(let g=1;g<o;g++){const m=p[g].dot(s);m>l&&(l=m),m<c&&(c=m)}if(c-=d,l-=d,c>l){const g=c;c=l,l=g}a[0]=l,a[1]=c}}const Hm=[],Wm=[];new A;const KU=new A,QU=new A;class dv extends Be{constructor(e){super({type:Be.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,r=this.halfExtents.y,n=this.halfExtents.z,i=A,a=[new i(-e,-r,-n),new i(e,-r,-n),new i(e,r,-n),new i(-e,r,-n),new i(-e,-r,n),new i(e,-r,n),new i(e,r,n),new i(-e,r,n)],o=[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],s=[new i(0,0,1),new i(0,1,0),new i(1,0,0)],l=new No({vertices:a,faces:o,axes:s});this.convexPolyhedronRepresentation=l,l.material=this.material}calculateLocalInertia(e,r){return r===void 0&&(r=new A),dv.calculateInertia(this.halfExtents,e,r),r}static calculateInertia(e,r,n){const i=e;n.x=1/12*r*(2*i.y*2*i.y+2*i.z*2*i.z),n.y=1/12*r*(2*i.x*2*i.x+2*i.z*2*i.z),n.z=1/12*r*(2*i.y*2*i.y+2*i.x*2*i.x)}getSideNormals(e,r){const n=e,i=this.halfExtents;if(n[0].set(i.x,0,0),n[1].set(0,i.y,0),n[2].set(0,0,i.z),n[3].set(-i.x,0,0),n[4].set(0,-i.y,0),n[5].set(0,0,-i.z),r!==void 0)for(let a=0;a!==n.length;a++)r.vmult(n[a],n[a]);return n}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,r,n){const i=this.halfExtents,a=[[i.x,i.y,i.z],[-i.x,i.y,i.z],[-i.x,-i.y,i.z],[-i.x,-i.y,-i.z],[i.x,-i.y,-i.z],[i.x,i.y,-i.z],[-i.x,i.y,-i.z],[i.x,-i.y,i.z]];for(let o=0;o<a.length;o++)Ea.set(a[o][0],a[o][1],a[o][2]),r.vmult(Ea,Ea),e.vadd(Ea,Ea),n(Ea.x,Ea.y,Ea.z)}calculateWorldAABB(e,r,n,i){const a=this.halfExtents;xi[0].set(a.x,a.y,a.z),xi[1].set(-a.x,a.y,a.z),xi[2].set(-a.x,-a.y,a.z),xi[3].set(-a.x,-a.y,-a.z),xi[4].set(a.x,-a.y,-a.z),xi[5].set(a.x,a.y,-a.z),xi[6].set(-a.x,a.y,-a.z),xi[7].set(a.x,-a.y,a.z);const o=xi[0];r.vmult(o,o),e.vadd(o,o),i.copy(o),n.copy(o);for(let s=1;s<8;s++){const l=xi[s];r.vmult(l,l),e.vadd(l,l);const c=l.x,u=l.y,p=l.z;c>i.x&&(i.x=c),u>i.y&&(i.y=u),p>i.z&&(i.z=p),c<n.x&&(n.x=c),u<n.y&&(n.y=u),p<n.z&&(n.z=p)}}}const Ea=new A,xi=[new A,new A,new A,new A,new A,new A,new A,new A],pv={DYNAMIC:1,STATIC:2,KINEMATIC:4},hv={AWAKE:0,SLEEPY:1,SLEEPING:2};class _e extends bS{constructor(e){e===void 0&&(e={}),super(),this.id=_e.idCounter++,this.index=-1,this.world=null,this.vlambda=new A,this.collisionFilterGroup=typeof e.collisionFilterGroup=="number"?e.collisionFilterGroup:1,this.collisionFilterMask=typeof e.collisionFilterMask=="number"?e.collisionFilterMask:-1,this.collisionResponse=typeof e.collisionResponse=="boolean"?e.collisionResponse:!0,this.position=new A,this.previousPosition=new A,this.interpolatedPosition=new A,this.initPosition=new A,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new A,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new A,this.force=new A;const r=typeof e.mass=="number"?e.mass:0;this.mass=r,this.invMass=r>0?1/r:0,this.material=e.material||null,this.linearDamping=typeof e.linearDamping=="number"?e.linearDamping:.01,this.type=r<=0?_e.STATIC:_e.DYNAMIC,typeof e.type==typeof _e.STATIC&&(this.type=e.type),this.allowSleep=typeof e.allowSleep<"u"?e.allowSleep:!0,this.sleepState=_e.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new A,this.quaternion=new fr,this.initQuaternion=new fr,this.previousQuaternion=new fr,this.interpolatedQuaternion=new fr,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new A,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new A,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new A,this.invInertia=new A,this.invInertiaWorld=new si,this.invMassSolve=0,this.invInertiaSolve=new A,this.invInertiaWorldSolve=new si,this.fixedRotation=typeof e.fixedRotation<"u"?e.fixedRotation:!1,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new A(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new A(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new Pn,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new A,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=_e.AWAKE,this.wakeUpAfterNarrowphase=!1,e===_e.SLEEPING&&this.dispatchEvent(_e.wakeupEvent)}sleep(){this.sleepState=_e.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const r=this.sleepState,n=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),i=this.sleepSpeedLimit**2;r===_e.AWAKE&&n<i?(this.sleepState=_e.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(_e.sleepyEvent)):r===_e.SLEEPY&&n>i?this.wakeUp():r===_e.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(_e.sleepEvent))}}updateSolveMassProperties(){this.sleepState===_e.SLEEPING||this.type===_e.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,r){return r===void 0&&(r=new A),e.vsub(this.position,r),this.quaternion.conjugate().vmult(r,r),r}vectorToLocalFrame(e,r){return r===void 0&&(r=new A),this.quaternion.conjugate().vmult(e,r),r}pointToWorldFrame(e,r){return r===void 0&&(r=new A),this.quaternion.vmult(e,r),r.vadd(this.position,r),r}vectorToWorldFrame(e,r){return r===void 0&&(r=new A),this.quaternion.vmult(e,r),r}addShape(e,r,n){const i=new A,a=new fr;return r&&i.copy(r),n&&a.copy(n),this.shapes.push(e),this.shapeOffsets.push(i),this.shapeOrientations.push(a),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const r=this.shapes.indexOf(e);return r===-1?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(r,1),this.shapeOffsets.splice(r,1),this.shapeOrientations.splice(r,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,r=this.shapeOffsets,n=e.length;let i=0;for(let a=0;a!==n;a++){const o=e[a];o.updateBoundingSphereRadius();const s=r[a].length(),l=o.boundingSphereRadius;s+l>i&&(i=s+l)}this.boundingRadius=i}updateAABB(){const e=this.shapes,r=this.shapeOffsets,n=this.shapeOrientations,i=e.length,a=JU,o=eq,s=this.quaternion,l=this.aabb,c=tq;for(let u=0;u!==i;u++){const p=e[u];s.vmult(r[u],a),a.vadd(this.position,a),s.mult(n[u],o),p.calculateWorldAABB(a,o,c.lowerBound,c.upperBound),u===0?l.copy(c):l.extend(c)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const r=this.invInertia;if(!(r.x===r.y&&r.y===r.z&&!e)){const n=rq,i=nq;n.setRotationFromQuaternion(this.quaternion),n.transpose(i),n.scale(r,n),n.mmult(i,this.invInertiaWorld)}}applyForce(e,r){if(r===void 0&&(r=new A),this.type!==_e.DYNAMIC)return;this.sleepState===_e.SLEEPING&&this.wakeUp();const n=iq;r.cross(e,n),this.force.vadd(e,this.force),this.torque.vadd(n,this.torque)}applyLocalForce(e,r){if(r===void 0&&(r=new A),this.type!==_e.DYNAMIC)return;const n=aq,i=oq;this.vectorToWorldFrame(e,n),this.vectorToWorldFrame(r,i),this.applyForce(n,i)}applyTorque(e){this.type===_e.DYNAMIC&&(this.sleepState===_e.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,r){if(r===void 0&&(r=new A),this.type!==_e.DYNAMIC)return;this.sleepState===_e.SLEEPING&&this.wakeUp();const n=r,i=sq;i.copy(e),i.scale(this.invMass,i),this.velocity.vadd(i,this.velocity);const a=lq;n.cross(e,a),this.invInertiaWorld.vmult(a,a),this.angularVelocity.vadd(a,this.angularVelocity)}applyLocalImpulse(e,r){if(r===void 0&&(r=new A),this.type!==_e.DYNAMIC)return;const n=cq,i=uq;this.vectorToWorldFrame(e,n),this.vectorToWorldFrame(r,i),this.applyImpulse(n,i)}updateMassProperties(){const e=dq;this.invMass=this.mass>0?1/this.mass:0;const r=this.inertia,n=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),dv.calculateInertia(e,this.mass,r),this.invInertia.set(r.x>0&&!n?1/r.x:0,r.y>0&&!n?1/r.y:0,r.z>0&&!n?1/r.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,r){const n=new A;return e.vsub(this.position,n),this.angularVelocity.cross(n,r),this.velocity.vadd(r,r),r}integrate(e,r,n){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),!(this.type===_e.DYNAMIC||this.type===_e.KINEMATIC)||this.sleepState===_e.SLEEPING)return;const i=this.velocity,a=this.angularVelocity,o=this.position,s=this.force,l=this.torque,c=this.quaternion,u=this.invMass,p=this.invInertiaWorld,d=this.linearFactor,g=u*e;i.x+=s.x*g*d.x,i.y+=s.y*g*d.y,i.z+=s.z*g*d.z;const m=p.elements,h=this.angularFactor,f=l.x*h.x,v=l.y*h.y,y=l.z*h.z;a.x+=e*(m[0]*f+m[1]*v+m[2]*y),a.y+=e*(m[3]*f+m[4]*v+m[5]*y),a.z+=e*(m[6]*f+m[7]*v+m[8]*y),o.x+=i.x*e,o.y+=i.y*e,o.z+=i.z*e,c.integrate(this.angularVelocity,e,this.angularFactor,c),r&&(n?c.normalizeFast():c.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}_e.idCounter=0;_e.COLLIDE_EVENT_NAME="collide";_e.DYNAMIC=pv.DYNAMIC;_e.STATIC=pv.STATIC;_e.KINEMATIC=pv.KINEMATIC;_e.AWAKE=hv.AWAKE;_e.SLEEPY=hv.SLEEPY;_e.SLEEPING=hv.SLEEPING;_e.wakeupEvent={type:"wakeup"};_e.sleepyEvent={type:"sleepy"};_e.sleepEvent={type:"sleep"};const JU=new A,eq=new fr,tq=new Pn,rq=new si,nq=new si;new si;const iq=new A,aq=new A,oq=new A,sq=new A,lq=new A,cq=new A,uq=new A,dq=new A;class pq{constructor(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}collisionPairs(e,r,n){throw new Error("collisionPairs not implemented for this BroadPhase class!")}needBroadphaseCollision(e,r){return!(!(e.collisionFilterGroup&r.collisionFilterMask)||!(r.collisionFilterGroup&e.collisionFilterMask)||(e.type&_e.STATIC||e.sleepState===_e.SLEEPING)&&(r.type&_e.STATIC||r.sleepState===_e.SLEEPING))}intersectionTest(e,r,n,i){this.useBoundingBoxes?this.doBoundingBoxBroadphase(e,r,n,i):this.doBoundingSphereBroadphase(e,r,n,i)}doBoundingSphereBroadphase(e,r,n,i){const a=hq;r.position.vsub(e.position,a);const o=(e.boundingRadius+r.boundingRadius)**2;a.lengthSquared()<o&&(n.push(e),i.push(r))}doBoundingBoxBroadphase(e,r,n,i){e.aabbNeedsUpdate&&e.updateAABB(),r.aabbNeedsUpdate&&r.updateAABB(),e.aabb.overlaps(r.aabb)&&(n.push(e),i.push(r))}makePairsUnique(e,r){const n=fq,i=mq,a=gq,o=e.length;for(let s=0;s!==o;s++)i[s]=e[s],a[s]=r[s];e.length=0,r.length=0;for(let s=0;s!==o;s++){const l=i[s].id,c=a[s].id,u=l<c?`${l},${c}`:`${c},${l}`;n[u]=s,n.keys.push(u)}for(let s=0;s!==n.keys.length;s++){const l=n.keys.pop(),c=n[l];e.push(i[c]),r.push(a[c]),delete n[l]}}setWorld(e){}static boundingSphereCheck(e,r){const n=new A;e.position.vsub(r.position,n);const i=e.shapes[0],a=r.shapes[0];return Math.pow(i.boundingSphereRadius+a.boundingSphereRadius,2)>n.lengthSquared()}aabbQuery(e,r,n){return console.warn(".aabbQuery is not implemented in this Broadphase subclass."),[]}}const hq=new A;new A;new fr;new A;const fq={keys:[]},mq=[],gq=[];new A;new A;new A;class _S extends pq{constructor(){super()}collisionPairs(e,r,n){const i=e.bodies,a=i.length;let o,s;for(let l=0;l!==a;l++)for(let c=0;c!==l;c++)o=i[l],s=i[c],this.needBroadphaseCollision(o,s)&&this.intersectionTest(o,s,r,n)}aabbQuery(e,r,n){n===void 0&&(n=[]);for(let i=0;i<e.bodies.length;i++){const a=e.bodies[i];a.aabbNeedsUpdate&&a.updateAABB(),a.aabb.overlaps(r)&&n.push(a)}return n}}class nh{constructor(){this.rayFromWorld=new A,this.rayToWorld=new A,this.hitNormalWorld=new A,this.hitPointWorld=new A,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,r,n,i,a,o,s){this.rayFromWorld.copy(e),this.rayToWorld.copy(r),this.hitNormalWorld.copy(n),this.hitPointWorld.copy(i),this.shape=a,this.body=o,this.distance=s}}let wS,SS,CS,ES,MS,AS,TS;const fv={CLOSEST:1,ANY:2,ALL:4};wS=Be.types.SPHERE;SS=Be.types.PLANE;CS=Be.types.BOX;ES=Be.types.CYLINDER;MS=Be.types.CONVEXPOLYHEDRON;AS=Be.types.HEIGHTFIELD;TS=Be.types.TRIMESH;class pr{get[wS](){return this._intersectSphere}get[SS](){return this._intersectPlane}get[CS](){return this._intersectBox}get[ES](){return this._intersectConvex}get[MS](){return this._intersectConvex}get[AS](){return this._intersectHeightfield}get[TS](){return this._intersectTrimesh}constructor(e,r){e===void 0&&(e=new A),r===void 0&&(r=new A),this.from=e.clone(),this.to=r.clone(),this.direction=new A,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=pr.ANY,this.result=new nh,this.hasHit=!1,this.callback=n=>{}}intersectWorld(e,r){return this.mode=r.mode||pr.ANY,this.result=r.result||new nh,this.skipBackfaces=!!r.skipBackfaces,this.collisionFilterMask=typeof r.collisionFilterMask<"u"?r.collisionFilterMask:-1,this.collisionFilterGroup=typeof r.collisionFilterGroup<"u"?r.collisionFilterGroup:-1,this.checkCollisionResponse=typeof r.checkCollisionResponse<"u"?r.checkCollisionResponse:!0,r.from&&this.from.copy(r.from),r.to&&this.to.copy(r.to),this.callback=r.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(a3),Gm.length=0,e.broadphase.aabbQuery(e,a3,Gm),this.intersectBodies(Gm),this.hasHit}intersectBody(e,r){r&&(this.result=r,this.updateDirection());const n=this.checkCollisionResponse;if(n&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const i=vq,a=yq;for(let o=0,s=e.shapes.length;o<s;o++){const l=e.shapes[o];if(!(n&&!l.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[o],a),e.quaternion.vmult(e.shapeOffsets[o],i),i.vadd(e.position,i),this.intersectShape(l,a,i,e),this.result.shouldStop))break}}intersectBodies(e,r){r&&(this.result=r,this.updateDirection());for(let n=0,i=e.length;!this.result.shouldStop&&n<i;n++)this.intersectBody(e[n])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,r,n,i){const a=this.from;if(kq(a,this.direction,n)>e.boundingSphereRadius)return;const o=this[e.type];o&&o.call(this,e,r,n,i,e)}_intersectBox(e,r,n,i,a){return this._intersectConvex(e.convexPolyhedronRepresentation,r,n,i,a)}_intersectPlane(e,r,n,i,a){const o=this.from,s=this.to,l=this.direction,c=new A(0,0,1);r.vmult(c,c);const u=new A;o.vsub(n,u);const p=u.dot(c);s.vsub(n,u);const d=u.dot(c);if(p*d>0||o.distanceTo(s)<p)return;const g=c.dot(l);if(Math.abs(g)<this.precision)return;const m=new A,h=new A,f=new A;o.vsub(n,m);const v=-c.dot(m)/g;l.scale(v,h),o.vadd(h,f),this.reportIntersection(c,f,a,i,-1)}getAABB(e){const{lowerBound:r,upperBound:n}=e,i=this.to,a=this.from;r.x=Math.min(i.x,a.x),r.y=Math.min(i.y,a.y),r.z=Math.min(i.z,a.z),n.x=Math.max(i.x,a.x),n.y=Math.max(i.y,a.y),n.z=Math.max(i.z,a.z)}_intersectHeightfield(e,r,n,i,a){e.data,e.elementSize;const o=xq;o.from.copy(this.from),o.to.copy(this.to),kt.pointToLocalFrame(n,r,o.from,o.from),kt.pointToLocalFrame(n,r,o.to,o.to),o.updateDirection();const s=bq;let l,c,u,p;l=c=0,u=p=e.data.length-1;const d=new Pn;o.getAABB(d),e.getIndexOfPosition(d.lowerBound.x,d.lowerBound.y,s,!0),l=Math.max(l,s[0]),c=Math.max(c,s[1]),e.getIndexOfPosition(d.upperBound.x,d.upperBound.y,s,!0),u=Math.min(u,s[0]+1),p=Math.min(p,s[1]+1);for(let g=l;g<u;g++)for(let m=c;m<p;m++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(g,m,d),!!d.overlapsRay(o)){if(e.getConvexTrianglePillar(g,m,!1),kt.pointToWorldFrame(n,r,e.pillarOffset,Bd),this._intersectConvex(e.pillarConvex,r,Bd,i,a,o3),this.result.shouldStop)return;e.getConvexTrianglePillar(g,m,!0),kt.pointToWorldFrame(n,r,e.pillarOffset,Bd),this._intersectConvex(e.pillarConvex,r,Bd,i,a,o3)}}}_intersectSphere(e,r,n,i,a){const o=this.from,s=this.to,l=e.radius,c=(s.x-o.x)**2+(s.y-o.y)**2+(s.z-o.z)**2,u=2*((s.x-o.x)*(o.x-n.x)+(s.y-o.y)*(o.y-n.y)+(s.z-o.z)*(o.z-n.z)),p=(o.x-n.x)**2+(o.y-n.y)**2+(o.z-n.z)**2-l**2,d=u**2-4*c*p,g=_q,m=wq;if(!(d<0))if(d===0)o.lerp(s,d,g),g.vsub(n,m),m.normalize(),this.reportIntersection(m,g,a,i,-1);else{const h=(-u-Math.sqrt(d))/(2*c),f=(-u+Math.sqrt(d))/(2*c);if(h>=0&&h<=1&&(o.lerp(s,h,g),g.vsub(n,m),m.normalize(),this.reportIntersection(m,g,a,i,-1)),this.result.shouldStop)return;f>=0&&f<=1&&(o.lerp(s,f,g),g.vsub(n,m),m.normalize(),this.reportIntersection(m,g,a,i,-1))}}_intersectConvex(e,r,n,i,a,o){const s=Sq,l=s3,c=o&&o.faceList||null,u=e.faces,p=e.vertices,d=e.faceNormals,g=this.direction,m=this.from,h=this.to,f=m.distanceTo(h),v=c?c.length:u.length,y=this.result;for(let x=0;!y.shouldStop&&x<v;x++){const b=c?c[x]:x,w=u[b],_=d[b],C=r,S=n;l.copy(p[w[0]]),C.vmult(l,l),l.vadd(S,l),l.vsub(m,l),C.vmult(_,s);const M=g.dot(s);if(Math.abs(M)<this.precision)continue;const T=s.dot(l)/M;if(!(T<0)){g.scale(T,Jr),Jr.vadd(m,Jr),ei.copy(p[w[0]]),C.vmult(ei,ei),S.vadd(ei,ei);for(let D=1;!y.shouldStop&&D<w.length-1;D++){bi.copy(p[w[D]]),_i.copy(p[w[D+1]]),C.vmult(bi,bi),C.vmult(_i,_i),S.vadd(bi,bi),S.vadd(_i,_i);const j=Jr.distanceTo(m);!(pr.pointInTriangle(Jr,ei,bi,_i)||pr.pointInTriangle(Jr,bi,ei,_i))||j>f||this.reportIntersection(s,Jr,a,i,b)}}}}_intersectTrimesh(e,r,n,i,a,o){const s=Cq,l=Pq,c=Lq,u=s3,p=Eq,d=Mq,g=Aq,m=Rq,h=Tq,f=e.indices;e.vertices;const v=this.from,y=this.to,x=this.direction;c.position.copy(n),c.quaternion.copy(r),kt.vectorToLocalFrame(n,r,x,p),kt.pointToLocalFrame(n,r,v,d),kt.pointToLocalFrame(n,r,y,g),g.x*=e.scale.x,g.y*=e.scale.y,g.z*=e.scale.z,d.x*=e.scale.x,d.y*=e.scale.y,d.z*=e.scale.z,g.vsub(d,p),p.normalize();const b=d.distanceSquared(g);e.tree.rayQuery(this,c,l);for(let w=0,_=l.length;!this.result.shouldStop&&w!==_;w++){const C=l[w];e.getNormal(C,s),e.getVertex(f[C*3],ei),ei.vsub(d,u);const S=p.dot(s),M=s.dot(u)/S;if(M<0)continue;p.scale(M,Jr),Jr.vadd(d,Jr),e.getVertex(f[C*3+1],bi),e.getVertex(f[C*3+2],_i);const T=Jr.distanceSquared(d);!(pr.pointInTriangle(Jr,bi,ei,_i)||pr.pointInTriangle(Jr,ei,bi,_i))||T>b||(kt.vectorToWorldFrame(r,s,h),kt.pointToWorldFrame(n,r,Jr,m),this.reportIntersection(h,m,a,i,C))}l.length=0}reportIntersection(e,r,n,i,a){const o=this.from,s=this.to,l=o.distanceTo(r),c=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(c.hitFaceIndex=typeof a<"u"?a:-1,this.mode){case pr.ALL:this.hasHit=!0,c.set(o,s,e,r,n,i,l),c.hasHit=!0,this.callback(c);break;case pr.CLOSEST:(l<c.distance||!c.hasHit)&&(this.hasHit=!0,c.hasHit=!0,c.set(o,s,e,r,n,i,l));break;case pr.ANY:this.hasHit=!0,c.hasHit=!0,c.set(o,s,e,r,n,i,l),c.shouldStop=!0;break}}static pointInTriangle(e,r,n,i){i.vsub(r,yo),n.vsub(r,ic),e.vsub(r,Zm);const a=yo.dot(yo),o=yo.dot(ic),s=yo.dot(Zm),l=ic.dot(ic),c=ic.dot(Zm);let u,p;return(u=l*s-o*c)>=0&&(p=a*c-o*s)>=0&&u+p<a*l-o*o}}pr.CLOSEST=fv.CLOSEST;pr.ANY=fv.ANY;pr.ALL=fv.ALL;const a3=new Pn,Gm=[],ic=new A,Zm=new A,vq=new A,yq=new fr,Jr=new A,ei=new A,bi=new A,_i=new A;new A;new nh;const o3={faceList:[0]},Bd=new A,xq=new pr,bq=[],_q=new A,wq=new A,Sq=new A;new A;new A;const s3=new A,Cq=new A,Eq=new A,Mq=new A,Aq=new A,Tq=new A,Rq=new A;new Pn;const Pq=[],Lq=new kt,yo=new A,jd=new A;function kq(t,e,r){r.vsub(t,yo);const n=yo.dot(e);return e.scale(n,jd),jd.vadd(t,jd),r.distanceTo(jd)}class Dq{static defaults(e,r){e===void 0&&(e={});for(let n in r)n in e||(e[n]=r[n]);return e}}class l3{constructor(){this.spatial=new A,this.rotational=new A}multiplyElement(e){return e.spatial.dot(this.spatial)+e.rotational.dot(this.rotational)}multiplyVectors(e,r){return e.dot(this.spatial)+r.dot(this.rotational)}}class Hu{constructor(e,r,n,i){n===void 0&&(n=-1e6),i===void 0&&(i=1e6),this.id=Hu.idCounter++,this.minForce=n,this.maxForce=i,this.bi=e,this.bj=r,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new l3,this.jacobianElementB=new l3,this.enabled=!0,this.multiplier=0,this.setSpookParams(1e7,4,1/60)}setSpookParams(e,r,n){const i=r,a=e,o=n;this.a=4/(o*(1+4*i)),this.b=4*i/(1+4*i),this.eps=4/(o*o*a*(1+4*i))}computeB(e,r,n){const i=this.computeGW(),a=this.computeGq(),o=this.computeGiMf();return-a*e-i*r-o*n}computeGq(){const e=this.jacobianElementA,r=this.jacobianElementB,n=this.bi,i=this.bj,a=n.position,o=i.position;return e.spatial.dot(a)+r.spatial.dot(o)}computeGW(){const e=this.jacobianElementA,r=this.jacobianElementB,n=this.bi,i=this.bj,a=n.velocity,o=i.velocity,s=n.angularVelocity,l=i.angularVelocity;return e.multiplyVectors(a,s)+r.multiplyVectors(o,l)}computeGWlambda(){const e=this.jacobianElementA,r=this.jacobianElementB,n=this.bi,i=this.bj,a=n.vlambda,o=i.vlambda,s=n.wlambda,l=i.wlambda;return e.multiplyVectors(a,s)+r.multiplyVectors(o,l)}computeGiMf(){const e=this.jacobianElementA,r=this.jacobianElementB,n=this.bi,i=this.bj,a=n.force,o=n.torque,s=i.force,l=i.torque,c=n.invMassSolve,u=i.invMassSolve;return a.scale(c,c3),s.scale(u,u3),n.invInertiaWorldSolve.vmult(o,d3),i.invInertiaWorldSolve.vmult(l,p3),e.multiplyVectors(c3,d3)+r.multiplyVectors(u3,p3)}computeGiMGt(){const e=this.jacobianElementA,r=this.jacobianElementB,n=this.bi,i=this.bj,a=n.invMassSolve,o=i.invMassSolve,s=n.invInertiaWorldSolve,l=i.invInertiaWorldSolve;let c=a+o;return s.vmult(e.rotational,$d),c+=$d.dot(e.rotational),l.vmult(r.rotational,$d),c+=$d.dot(r.rotational),c}addToWlambda(e){const r=this.jacobianElementA,n=this.jacobianElementB,i=this.bi,a=this.bj,o=Iq;i.vlambda.addScaledVector(i.invMassSolve*e,r.spatial,i.vlambda),a.vlambda.addScaledVector(a.invMassSolve*e,n.spatial,a.vlambda),i.invInertiaWorldSolve.vmult(r.rotational,o),i.wlambda.addScaledVector(e,o,i.wlambda),a.invInertiaWorldSolve.vmult(n.rotational,o),a.wlambda.addScaledVector(e,o,a.wlambda)}computeC(){return this.computeGiMGt()+this.eps}}Hu.idCounter=0;const c3=new A,u3=new A,d3=new A,p3=new A,$d=new A,Iq=new A;class Fq extends Hu{constructor(e,r,n){n===void 0&&(n=1e6),super(e,r,0,n),this.restitution=0,this.ri=new A,this.rj=new A,this.ni=new A}computeB(e){const r=this.a,n=this.b,i=this.bi,a=this.bj,o=this.ri,s=this.rj,l=Nq,c=zq,u=i.velocity,p=i.angularVelocity;i.force,i.torque;const d=a.velocity,g=a.angularVelocity;a.force,a.torque;const m=Oq,h=this.jacobianElementA,f=this.jacobianElementB,v=this.ni;o.cross(v,l),s.cross(v,c),v.negate(h.spatial),l.negate(h.rotational),f.spatial.copy(v),f.rotational.copy(c),m.copy(a.position),m.vadd(s,m),m.vsub(i.position,m),m.vsub(o,m);const y=v.dot(m),x=this.restitution+1,b=x*d.dot(v)-x*u.dot(v)+g.dot(c)-p.dot(l),w=this.computeGiMf();return-y*r-b*n-e*w}getImpactVelocityAlongNormal(){const e=Bq,r=jq,n=$q,i=Uq,a=qq;return this.bi.position.vadd(this.ri,n),this.bj.position.vadd(this.rj,i),this.bi.getVelocityAtWorldPoint(n,e),this.bj.getVelocityAtWorldPoint(i,r),e.vsub(r,a),this.ni.dot(a)}}const Nq=new A,zq=new A,Oq=new A,Bq=new A,jq=new A,$q=new A,Uq=new A,qq=new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;class h3 extends Hu{constructor(e,r,n){super(e,r,-n,n),this.ri=new A,this.rj=new A,this.t=new A}computeB(e){this.a;const r=this.b;this.bi,this.bj;const n=this.ri,i=this.rj,a=Vq,o=Hq,s=this.t;n.cross(s,a),i.cross(s,o);const l=this.jacobianElementA,c=this.jacobianElementB;s.negate(l.spatial),a.negate(l.rotational),c.spatial.copy(s),c.rotational.copy(o);const u=this.computeGW(),p=this.computeGiMf();return-u*r-e*p}}const Vq=new A,Hq=new A;class zo{constructor(e,r,n){n=Dq.defaults(n,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=zo.idCounter++,this.materials=[e,r],this.friction=n.friction,this.restitution=n.restitution,this.contactEquationStiffness=n.contactEquationStiffness,this.contactEquationRelaxation=n.contactEquationRelaxation,this.frictionEquationStiffness=n.frictionEquationStiffness,this.frictionEquationRelaxation=n.frictionEquationRelaxation}}zo.idCounter=0;class Oo{constructor(e){e===void 0&&(e={});let r="";typeof e=="string"&&(r=e,e={}),this.name=r,this.id=Oo.idCounter++,this.friction=typeof e.friction<"u"?e.friction:-1,this.restitution=typeof e.restitution<"u"?e.restitution:-1}}Oo.idCounter=0;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new pr;new A;new A;new A;new A(1,0,0),new A(0,1,0),new A(0,0,1);new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;class Wq extends No{constructor(e,r,n,i){if(e===void 0&&(e=1),r===void 0&&(r=1),n===void 0&&(n=1),i===void 0&&(i=8),e<0)throw new Error("The cylinder radiusTop cannot be negative.");if(r<0)throw new Error("The cylinder radiusBottom cannot be negative.");const a=i,o=[],s=[],l=[],c=[],u=[],p=Math.cos,d=Math.sin;o.push(new A(-r*d(0),-n*.5,r*p(0))),c.push(0),o.push(new A(-e*d(0),n*.5,e*p(0))),u.push(1);for(let m=0;m<a;m++){const h=2*Math.PI/a*(m+1),f=2*Math.PI/a*(m+.5);m<a-1?(o.push(new A(-r*d(h),-n*.5,r*p(h))),c.push(2*m+2),o.push(new A(-e*d(h),n*.5,e*p(h))),u.push(2*m+3),l.push([2*m,2*m+1,2*m+3,2*m+2])):l.push([2*m,2*m+1,1,0]),(a%2===1||m<a/2)&&s.push(new A(-d(f),0,p(f)))}l.push(c),s.push(new A(0,1,0));const g=[];for(let m=0;m<u.length;m++)g.push(u[u.length-m-1]);l.push(g),super({vertices:o,faces:l,axes:s}),this.type=Be.types.CYLINDER,this.radiusTop=e,this.radiusBottom=r,this.height=n,this.numSegments=i}}class ac extends Be{constructor(){super({type:Be.types.PLANE}),this.worldNormal=new A,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}computeWorldNormal(e){const r=this.worldNormal;r.set(0,0,1),e.vmult(r,r),this.worldNormalNeedsUpdate=!1}calculateLocalInertia(e,r){return r===void 0&&(r=new A),r}volume(){return Number.MAX_VALUE}calculateWorldAABB(e,r,n,i){qi.set(0,0,1),r.vmult(qi,qi);const a=Number.MAX_VALUE;n.set(-a,-a,-a),i.set(a,a,a),qi.x===1?i.x=e.x:qi.x===-1&&(n.x=e.x),qi.y===1?i.y=e.y:qi.y===-1&&(n.y=e.y),qi.z===1?i.z=e.z:qi.z===-1&&(n.z=e.z)}updateBoundingSphereRadius(){this.boundingSphereRadius=Number.MAX_VALUE}}const qi=new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new A;new Pn;new A;new Pn;new A;new A;new A;new A;new A;new A;new A;new Pn;new A;new kt;new Pn;class Gq{constructor(){this.equations=[]}solve(e,r){return 0}addEquation(e){e.enabled&&!e.bi.isTrigger&&!e.bj.isTrigger&&this.equations.push(e)}removeEquation(e){const r=this.equations,n=r.indexOf(e);n!==-1&&r.splice(n,1)}removeAllEquations(){this.equations.length=0}}class Zq extends Gq{constructor(){super(),this.iterations=10,this.tolerance=1e-7}solve(e,r){let n=0;const i=this.iterations,a=this.tolerance*this.tolerance,o=this.equations,s=o.length,l=r.bodies,c=l.length,u=e;let p,d,g,m,h,f;if(s!==0)for(let b=0;b!==c;b++)l[b].updateSolveMassProperties();const v=Yq,y=Kq,x=Xq;v.length=s,y.length=s,x.length=s;for(let b=0;b!==s;b++){const w=o[b];x[b]=0,y[b]=w.computeB(u),v[b]=1/w.computeC()}if(s!==0){for(let _=0;_!==c;_++){const C=l[_],S=C.vlambda,M=C.wlambda;S.set(0,0,0),M.set(0,0,0)}for(n=0;n!==i;n++){m=0;for(let _=0;_!==s;_++){const C=o[_];p=y[_],d=v[_],f=x[_],h=C.computeGWlambda(),g=d*(p-h-C.eps*f),f+g<C.minForce?g=C.minForce-f:f+g>C.maxForce&&(g=C.maxForce-f),x[_]+=g,m+=g>0?g:-g,C.addToWlambda(g)}if(m*m<a)break}for(let _=0;_!==c;_++){const C=l[_],S=C.velocity,M=C.angularVelocity;C.vlambda.vmul(C.linearFactor,C.vlambda),S.vadd(C.vlambda,S),C.wlambda.vmul(C.angularFactor,C.wlambda),M.vadd(C.wlambda,M)}let b=o.length;const w=1/u;for(;b--;)o[b].multiplier=x[b]*w}return n}}const Xq=[],Yq=[],Kq=[];_e.STATIC;class Qq{constructor(){this.objects=[],this.type=Object}release(){const e=arguments.length;for(let r=0;r!==e;r++)this.objects.push(r<0||arguments.length<=r?void 0:arguments[r]);return this}get(){return this.objects.length===0?this.constructObject():this.objects.pop()}constructObject(){throw new Error("constructObject() not implemented in this Pool subclass yet!")}resize(e){const r=this.objects;for(;r.length>e;)r.pop();for(;r.length<e;)r.push(this.constructObject());return this}}class Jq extends Qq{constructor(){super(...arguments),this.type=A}constructObject(){return new A}}const Ut={sphereSphere:Be.types.SPHERE,spherePlane:Be.types.SPHERE|Be.types.PLANE,boxBox:Be.types.BOX|Be.types.BOX,sphereBox:Be.types.SPHERE|Be.types.BOX,planeBox:Be.types.PLANE|Be.types.BOX,convexConvex:Be.types.CONVEXPOLYHEDRON,sphereConvex:Be.types.SPHERE|Be.types.CONVEXPOLYHEDRON,planeConvex:Be.types.PLANE|Be.types.CONVEXPOLYHEDRON,boxConvex:Be.types.BOX|Be.types.CONVEXPOLYHEDRON,sphereHeightfield:Be.types.SPHERE|Be.types.HEIGHTFIELD,boxHeightfield:Be.types.BOX|Be.types.HEIGHTFIELD,convexHeightfield:Be.types.CONVEXPOLYHEDRON|Be.types.HEIGHTFIELD,sphereParticle:Be.types.PARTICLE|Be.types.SPHERE,planeParticle:Be.types.PLANE|Be.types.PARTICLE,boxParticle:Be.types.BOX|Be.types.PARTICLE,convexParticle:Be.types.PARTICLE|Be.types.CONVEXPOLYHEDRON,cylinderCylinder:Be.types.CYLINDER,sphereCylinder:Be.types.SPHERE|Be.types.CYLINDER,planeCylinder:Be.types.PLANE|Be.types.CYLINDER,boxCylinder:Be.types.BOX|Be.types.CYLINDER,convexCylinder:Be.types.CONVEXPOLYHEDRON|Be.types.CYLINDER,heightfieldCylinder:Be.types.HEIGHTFIELD|Be.types.CYLINDER,particleCylinder:Be.types.PARTICLE|Be.types.CYLINDER,sphereTrimesh:Be.types.SPHERE|Be.types.TRIMESH,planeTrimesh:Be.types.PLANE|Be.types.TRIMESH};class eV{get[Ut.sphereSphere](){return this.sphereSphere}get[Ut.spherePlane](){return this.spherePlane}get[Ut.boxBox](){return this.boxBox}get[Ut.sphereBox](){return this.sphereBox}get[Ut.planeBox](){return this.planeBox}get[Ut.convexConvex](){return this.convexConvex}get[Ut.sphereConvex](){return this.sphereConvex}get[Ut.planeConvex](){return this.planeConvex}get[Ut.boxConvex](){return this.boxConvex}get[Ut.sphereHeightfield](){return this.sphereHeightfield}get[Ut.boxHeightfield](){return this.boxHeightfield}get[Ut.convexHeightfield](){return this.convexHeightfield}get[Ut.sphereParticle](){return this.sphereParticle}get[Ut.planeParticle](){return this.planeParticle}get[Ut.boxParticle](){return this.boxParticle}get[Ut.convexParticle](){return this.convexParticle}get[Ut.cylinderCylinder](){return this.convexConvex}get[Ut.sphereCylinder](){return this.sphereConvex}get[Ut.planeCylinder](){return this.planeConvex}get[Ut.boxCylinder](){return this.boxConvex}get[Ut.convexCylinder](){return this.convexConvex}get[Ut.heightfieldCylinder](){return this.heightfieldCylinder}get[Ut.particleCylinder](){return this.particleCylinder}get[Ut.sphereTrimesh](){return this.sphereTrimesh}get[Ut.planeTrimesh](){return this.planeTrimesh}constructor(e){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new Jq,this.world=e,this.currentContactMaterial=e.defaultContactMaterial,this.enableFrictionReduction=!1}createContactEquation(e,r,n,i,a,o){let s;this.contactPointPool.length?(s=this.contactPointPool.pop(),s.bi=e,s.bj=r):s=new Fq(e,r),s.enabled=e.collisionResponse&&r.collisionResponse&&n.collisionResponse&&i.collisionResponse;const l=this.currentContactMaterial;s.restitution=l.restitution,s.setSpookParams(l.contactEquationStiffness,l.contactEquationRelaxation,this.world.dt);const c=n.material||e.material,u=i.material||r.material;return c&&u&&c.restitution>=0&&u.restitution>=0&&(s.restitution=c.restitution*u.restitution),s.si=a||n,s.sj=o||i,s}createFrictionEquationsFromContact(e,r){const n=e.bi,i=e.bj,a=e.si,o=e.sj,s=this.world,l=this.currentContactMaterial;let c=l.friction;const u=a.material||n.material,p=o.material||i.material;if(u&&p&&u.friction>=0&&p.friction>=0&&(c=u.friction*p.friction),c>0){const d=c*(s.frictionGravity||s.gravity).length();let g=n.invMass+i.invMass;g>0&&(g=1/g);const m=this.frictionEquationPool,h=m.length?m.pop():new h3(n,i,d*g),f=m.length?m.pop():new h3(n,i,d*g);return h.bi=f.bi=n,h.bj=f.bj=i,h.minForce=f.minForce=-d*g,h.maxForce=f.maxForce=d*g,h.ri.copy(e.ri),h.rj.copy(e.rj),f.ri.copy(e.ri),f.rj.copy(e.rj),e.ni.tangents(h.t,f.t),h.setSpookParams(l.frictionEquationStiffness,l.frictionEquationRelaxation,s.dt),f.setSpookParams(l.frictionEquationStiffness,l.frictionEquationRelaxation,s.dt),h.enabled=f.enabled=e.enabled,r.push(h,f),!0}return!1}createFrictionFromAverage(e){let r=this.result[this.result.length-1];if(!this.createFrictionEquationsFromContact(r,this.frictionResult)||e===1)return;const n=this.frictionResult[this.frictionResult.length-2],i=this.frictionResult[this.frictionResult.length-1];lo.setZero(),Ms.setZero(),As.setZero();const a=r.bi;r.bj;for(let s=0;s!==e;s++)r=this.result[this.result.length-1-s],r.bi!==a?(lo.vadd(r.ni,lo),Ms.vadd(r.ri,Ms),As.vadd(r.rj,As)):(lo.vsub(r.ni,lo),Ms.vadd(r.rj,Ms),As.vadd(r.ri,As));const o=1/e;Ms.scale(o,n.ri),As.scale(o,n.rj),i.ri.copy(n.ri),i.rj.copy(n.rj),lo.normalize(),lo.tangents(n.t,i.t)}getContacts(e,r,n,i,a,o,s){this.contactPointPool=a,this.frictionEquationPool=s,this.result=i,this.frictionResult=o;const l=nV,c=iV,u=tV,p=rV;for(let d=0,g=e.length;d!==g;d++){const m=e[d],h=r[d];let f=null;m.material&&h.material&&(f=n.getContactMaterial(m.material,h.material)||null);const v=m.type&_e.KINEMATIC&&h.type&_e.STATIC||m.type&_e.STATIC&&h.type&_e.KINEMATIC||m.type&_e.KINEMATIC&&h.type&_e.KINEMATIC;for(let y=0;y<m.shapes.length;y++){m.quaternion.mult(m.shapeOrientations[y],l),m.quaternion.vmult(m.shapeOffsets[y],u),u.vadd(m.position,u);const x=m.shapes[y];for(let b=0;b<h.shapes.length;b++){h.quaternion.mult(h.shapeOrientations[b],c),h.quaternion.vmult(h.shapeOffsets[b],p),p.vadd(h.position,p);const w=h.shapes[b];if(!(x.collisionFilterMask&w.collisionFilterGroup&&w.collisionFilterMask&x.collisionFilterGroup)||u.distanceTo(p)>x.boundingSphereRadius+w.boundingSphereRadius)continue;let _=null;x.material&&w.material&&(_=n.getContactMaterial(x.material,w.material)||null),this.currentContactMaterial=_||f||n.defaultContactMaterial;const C=x.type|w.type,S=this[C];if(S){let M=!1;x.type<w.type?M=S.call(this,x,w,u,p,l,c,m,h,x,w,v):M=S.call(this,w,x,p,u,c,l,h,m,x,w,v),M&&v&&(n.shapeOverlapKeeper.set(x.id,w.id),n.bodyOverlapKeeper.set(m.id,h.id))}}}}}sphereSphere(e,r,n,i,a,o,s,l,c,u,p){if(p)return n.distanceSquared(i)<(e.radius+r.radius)**2;const d=this.createContactEquation(s,l,e,r,c,u);i.vsub(n,d.ni),d.ni.normalize(),d.ri.copy(d.ni),d.rj.copy(d.ni),d.ri.scale(e.radius,d.ri),d.rj.scale(-r.radius,d.rj),d.ri.vadd(n,d.ri),d.ri.vsub(s.position,d.ri),d.rj.vadd(i,d.rj),d.rj.vsub(l.position,d.rj),this.result.push(d),this.createFrictionEquationsFromContact(d,this.frictionResult)}spherePlane(e,r,n,i,a,o,s,l,c,u,p){const d=this.createContactEquation(s,l,e,r,c,u);if(d.ni.set(0,0,1),o.vmult(d.ni,d.ni),d.ni.negate(d.ni),d.ni.normalize(),d.ni.scale(e.radius,d.ri),n.vsub(i,Ud),d.ni.scale(d.ni.dot(Ud),f3),Ud.vsub(f3,d.rj),-Ud.dot(d.ni)<=e.radius){if(p)return!0;const g=d.ri,m=d.rj;g.vadd(n,g),g.vsub(s.position,g),m.vadd(i,m),m.vsub(l.position,m),this.result.push(d),this.createFrictionEquationsFromContact(d,this.frictionResult)}}boxBox(e,r,n,i,a,o,s,l,c,u,p){return e.convexPolyhedronRepresentation.material=e.material,r.convexPolyhedronRepresentation.material=r.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,r.convexPolyhedronRepresentation.collisionResponse=r.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,r.convexPolyhedronRepresentation,n,i,a,o,s,l,e,r,p)}sphereBox(e,r,n,i,a,o,s,l,c,u,p){const d=this.v3pool,g=PV;n.vsub(i,qd),r.getSideNormals(g,o);const m=e.radius;let h=!1;const f=kV,v=DV,y=IV;let x=null,b=0,w=0,_=0,C=null;for(let B=0,U=g.length;B!==U&&h===!1;B++){const F=AV;F.copy(g[B]);const z=F.length();F.normalize();const q=qd.dot(F);if(q<z+m&&q>0){const ee=TV,V=RV;ee.copy(g[(B+1)%3]),V.copy(g[(B+2)%3]);const ne=ee.length(),oe=V.length();ee.normalize(),V.normalize();const we=qd.dot(ee),W=qd.dot(V);if(we<ne&&we>-ne&&W<oe&&W>-oe){const ke=Math.abs(q-z-m);if((C===null||ke<C)&&(C=ke,w=we,_=W,x=z,f.copy(F),v.copy(ee),y.copy(V),b++,p))return!0}}}if(b){h=!0;const B=this.createContactEquation(s,l,e,r,c,u);f.scale(-m,B.ri),B.ni.copy(f),B.ni.negate(B.ni),f.scale(x,f),v.scale(w,v),f.vadd(v,f),y.scale(_,y),f.vadd(y,B.rj),B.ri.vadd(n,B.ri),B.ri.vsub(s.position,B.ri),B.rj.vadd(i,B.rj),B.rj.vsub(l.position,B.rj),this.result.push(B),this.createFrictionEquationsFromContact(B,this.frictionResult)}let S=d.get();const M=LV;for(let B=0;B!==2&&!h;B++)for(let U=0;U!==2&&!h;U++)for(let F=0;F!==2&&!h;F++)if(S.set(0,0,0),B?S.vadd(g[0],S):S.vsub(g[0],S),U?S.vadd(g[1],S):S.vsub(g[1],S),F?S.vadd(g[2],S):S.vsub(g[2],S),i.vadd(S,M),M.vsub(n,M),M.lengthSquared()<m*m){if(p)return!0;h=!0;const z=this.createContactEquation(s,l,e,r,c,u);z.ri.copy(M),z.ri.normalize(),z.ni.copy(z.ri),z.ri.scale(m,z.ri),z.rj.copy(S),z.ri.vadd(n,z.ri),z.ri.vsub(s.position,z.ri),z.rj.vadd(i,z.rj),z.rj.vsub(l.position,z.rj),this.result.push(z),this.createFrictionEquationsFromContact(z,this.frictionResult)}d.release(S),S=null;const T=d.get(),D=d.get(),j=d.get(),N=d.get(),L=d.get(),O=g.length;for(let B=0;B!==O&&!h;B++)for(let U=0;U!==O&&!h;U++)if(B%3!==U%3){g[U].cross(g[B],T),T.normalize(),g[B].vadd(g[U],D),j.copy(n),j.vsub(D,j),j.vsub(i,j);const F=j.dot(T);T.scale(F,N);let z=0;for(;z===B%3||z===U%3;)z++;L.copy(n),L.vsub(N,L),L.vsub(D,L),L.vsub(i,L);const q=Math.abs(F),ee=L.length();if(q<g[z].length()&&ee<m){if(p)return!0;h=!0;const V=this.createContactEquation(s,l,e,r,c,u);D.vadd(N,V.rj),V.rj.copy(V.rj),L.negate(V.ni),V.ni.normalize(),V.ri.copy(V.rj),V.ri.vadd(i,V.ri),V.ri.vsub(n,V.ri),V.ri.normalize(),V.ri.scale(m,V.ri),V.ri.vadd(n,V.ri),V.ri.vsub(s.position,V.ri),V.rj.vadd(i,V.rj),V.rj.vsub(l.position,V.rj),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult)}}d.release(T,D,j,N,L)}planeBox(e,r,n,i,a,o,s,l,c,u,p){return r.convexPolyhedronRepresentation.material=r.material,r.convexPolyhedronRepresentation.collisionResponse=r.collisionResponse,r.convexPolyhedronRepresentation.id=r.id,this.planeConvex(e,r.convexPolyhedronRepresentation,n,i,a,o,s,l,e,r,p)}convexConvex(e,r,n,i,a,o,s,l,c,u,p,d,g){const m=XV;if(!(n.distanceTo(i)>e.boundingSphereRadius+r.boundingSphereRadius)&&e.findSeparatingAxis(r,n,a,i,o,m,d,g)){const h=[],f=YV;e.clipAgainstHull(n,a,r,i,o,m,-100,100,h);let v=0;for(let y=0;y!==h.length;y++){if(p)return!0;const x=this.createContactEquation(s,l,e,r,c,u),b=x.ri,w=x.rj;m.negate(x.ni),h[y].normal.negate(f),f.scale(h[y].depth,f),h[y].point.vadd(f,b),w.copy(h[y].point),b.vsub(n,b),w.vsub(i,w),b.vadd(n,b),b.vsub(s.position,b),w.vadd(i,w),w.vsub(l.position,w),this.result.push(x),v++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(x,this.frictionResult)}this.enableFrictionReduction&&v&&this.createFrictionFromAverage(v)}}sphereConvex(e,r,n,i,a,o,s,l,c,u,p){const d=this.v3pool;n.vsub(i,FV);const g=r.faceNormals,m=r.faces,h=r.vertices,f=e.radius;let v=!1;for(let y=0;y!==h.length;y++){const x=h[y],b=BV;o.vmult(x,b),i.vadd(b,b);const w=OV;if(b.vsub(n,w),w.lengthSquared()<f*f){if(p)return!0;v=!0;const _=this.createContactEquation(s,l,e,r,c,u);_.ri.copy(w),_.ri.normalize(),_.ni.copy(_.ri),_.ri.scale(f,_.ri),b.vsub(i,_.rj),_.ri.vadd(n,_.ri),_.ri.vsub(s.position,_.ri),_.rj.vadd(i,_.rj),_.rj.vsub(l.position,_.rj),this.result.push(_),this.createFrictionEquationsFromContact(_,this.frictionResult);return}}for(let y=0,x=m.length;y!==x&&v===!1;y++){const b=g[y],w=m[y],_=jV;o.vmult(b,_);const C=$V;o.vmult(h[w[0]],C),C.vadd(i,C);const S=UV;_.scale(-f,S),n.vadd(S,S);const M=qV;S.vsub(C,M);const T=M.dot(_),D=VV;if(n.vsub(C,D),T<0&&D.dot(_)>0){const j=[];for(let N=0,L=w.length;N!==L;N++){const O=d.get();o.vmult(h[w[N]],O),i.vadd(O,O),j.push(O)}if(MV(j,_,n)){if(p)return!0;v=!0;const N=this.createContactEquation(s,l,e,r,c,u);_.scale(-f,N.ri),_.negate(N.ni);const L=d.get();_.scale(-T,L);const O=d.get();_.scale(-f,O),n.vsub(i,N.rj),N.rj.vadd(O,N.rj),N.rj.vadd(L,N.rj),N.rj.vadd(i,N.rj),N.rj.vsub(l.position,N.rj),N.ri.vadd(n,N.ri),N.ri.vsub(s.position,N.ri),d.release(L),d.release(O),this.result.push(N),this.createFrictionEquationsFromContact(N,this.frictionResult);for(let B=0,U=j.length;B!==U;B++)d.release(j[B]);return}else for(let N=0;N!==w.length;N++){const L=d.get(),O=d.get();o.vmult(h[w[(N+1)%w.length]],L),o.vmult(h[w[(N+2)%w.length]],O),i.vadd(L,L),i.vadd(O,O);const B=NV;O.vsub(L,B);const U=zV;B.unit(U);const F=d.get(),z=d.get();n.vsub(L,z);const q=z.dot(U);U.scale(q,F),F.vadd(L,F);const ee=d.get();if(F.vsub(n,ee),q>0&&q*q<B.lengthSquared()&&ee.lengthSquared()<f*f){if(p)return!0;const V=this.createContactEquation(s,l,e,r,c,u);F.vsub(i,V.rj),F.vsub(n,V.ni),V.ni.normalize(),V.ni.scale(f,V.ri),V.rj.vadd(i,V.rj),V.rj.vsub(l.position,V.rj),V.ri.vadd(n,V.ri),V.ri.vsub(s.position,V.ri),this.result.push(V),this.createFrictionEquationsFromContact(V,this.frictionResult);for(let ne=0,oe=j.length;ne!==oe;ne++)d.release(j[ne]);d.release(L),d.release(O),d.release(F),d.release(ee),d.release(z);return}d.release(L),d.release(O),d.release(F),d.release(ee),d.release(z)}for(let N=0,L=j.length;N!==L;N++)d.release(j[N])}}}planeConvex(e,r,n,i,a,o,s,l,c,u,p){const d=HV,g=WV;g.set(0,0,1),a.vmult(g,g);let m=0;const h=GV;for(let f=0;f!==r.vertices.length;f++)if(d.copy(r.vertices[f]),o.vmult(d,d),i.vadd(d,d),d.vsub(n,h),g.dot(h)<=0){if(p)return!0;const v=this.createContactEquation(s,l,e,r,c,u),y=ZV;g.scale(g.dot(h),y),d.vsub(y,y),y.vsub(n,v.ri),v.ni.copy(g),d.vsub(i,v.rj),v.ri.vadd(n,v.ri),v.ri.vsub(s.position,v.ri),v.rj.vadd(i,v.rj),v.rj.vsub(l.position,v.rj),this.result.push(v),m++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(v,this.frictionResult)}this.enableFrictionReduction&&m&&this.createFrictionFromAverage(m)}boxConvex(e,r,n,i,a,o,s,l,c,u,p){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,r,n,i,a,o,s,l,e,r,p)}sphereHeightfield(e,r,n,i,a,o,s,l,c,u,p){const d=r.data,g=e.radius,m=r.elementSize,h=lH,f=sH;kt.pointToLocalFrame(i,o,n,f);let v=Math.floor((f.x-g)/m)-1,y=Math.ceil((f.x+g)/m)+1,x=Math.floor((f.y-g)/m)-1,b=Math.ceil((f.y+g)/m)+1;if(y<0||b<0||v>d.length||x>d[0].length)return;v<0&&(v=0),y<0&&(y=0),x<0&&(x=0),b<0&&(b=0),v>=d.length&&(v=d.length-1),y>=d.length&&(y=d.length-1),b>=d[0].length&&(b=d[0].length-1),x>=d[0].length&&(x=d[0].length-1);const w=[];r.getRectMinMax(v,x,y,b,w);const _=w[0],C=w[1];if(f.z-g>C||f.z+g<_)return;const S=this.result;for(let M=v;M<y;M++)for(let T=x;T<b;T++){const D=S.length;let j=!1;if(r.getConvexTrianglePillar(M,T,!1),kt.pointToWorldFrame(i,o,r.pillarOffset,h),n.distanceTo(h)<r.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(j=this.sphereConvex(e,r.pillarConvex,n,h,a,o,s,l,e,r,p)),p&&j||(r.getConvexTrianglePillar(M,T,!0),kt.pointToWorldFrame(i,o,r.pillarOffset,h),n.distanceTo(h)<r.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(j=this.sphereConvex(e,r.pillarConvex,n,h,a,o,s,l,e,r,p)),p&&j))return!0;if(S.length-D>2)return}}boxHeightfield(e,r,n,i,a,o,s,l,c,u,p){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexHeightfield(e.convexPolyhedronRepresentation,r,n,i,a,o,s,l,e,r,p)}convexHeightfield(e,r,n,i,a,o,s,l,c,u,p){const d=r.data,g=r.elementSize,m=e.boundingSphereRadius,h=aH,f=oH,v=iH;kt.pointToLocalFrame(i,o,n,v);let y=Math.floor((v.x-m)/g)-1,x=Math.ceil((v.x+m)/g)+1,b=Math.floor((v.y-m)/g)-1,w=Math.ceil((v.y+m)/g)+1;if(x<0||w<0||y>d.length||b>d[0].length)return;y<0&&(y=0),x<0&&(x=0),b<0&&(b=0),w<0&&(w=0),y>=d.length&&(y=d.length-1),x>=d.length&&(x=d.length-1),w>=d[0].length&&(w=d[0].length-1),b>=d[0].length&&(b=d[0].length-1);const _=[];r.getRectMinMax(y,b,x,w,_);const C=_[0],S=_[1];if(!(v.z-m>S||v.z+m<C))for(let M=y;M<x;M++)for(let T=b;T<w;T++){let D=!1;if(r.getConvexTrianglePillar(M,T,!1),kt.pointToWorldFrame(i,o,r.pillarOffset,h),n.distanceTo(h)<r.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(D=this.convexConvex(e,r.pillarConvex,n,h,a,o,s,l,null,null,p,f,null)),p&&D||(r.getConvexTrianglePillar(M,T,!0),kt.pointToWorldFrame(i,o,r.pillarOffset,h),n.distanceTo(h)<r.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(D=this.convexConvex(e,r.pillarConvex,n,h,a,o,s,l,null,null,p,f,null)),p&&D))return!0}}sphereParticle(e,r,n,i,a,o,s,l,c,u,p){const d=eH;if(d.set(0,0,1),i.vsub(n,d),d.lengthSquared()<=e.radius*e.radius){if(p)return!0;const g=this.createContactEquation(l,s,r,e,c,u);d.normalize(),g.rj.copy(d),g.rj.scale(e.radius,g.rj),g.ni.copy(d),g.ni.negate(g.ni),g.ri.set(0,0,0),this.result.push(g),this.createFrictionEquationsFromContact(g,this.frictionResult)}}planeParticle(e,r,n,i,a,o,s,l,c,u,p){const d=KV;d.set(0,0,1),s.quaternion.vmult(d,d);const g=QV;if(i.vsub(s.position,g),d.dot(g)<=0){if(p)return!0;const m=this.createContactEquation(l,s,r,e,c,u);m.ni.copy(d),m.ni.negate(m.ni),m.ri.set(0,0,0);const h=JV;d.scale(d.dot(i),h),i.vsub(h,h),m.rj.copy(h),this.result.push(m),this.createFrictionEquationsFromContact(m,this.frictionResult)}}boxParticle(e,r,n,i,a,o,s,l,c,u,p){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexParticle(e.convexPolyhedronRepresentation,r,n,i,a,o,s,l,e,r,p)}convexParticle(e,r,n,i,a,o,s,l,c,u,p){let d=-1;const g=rH,m=nH;let h=null;const f=tH;if(f.copy(i),f.vsub(n,f),a.conjugate(m3),m3.vmult(f,f),e.pointIsInside(f)){e.worldVerticesNeedsUpdate&&e.computeWorldVertices(n,a),e.worldFaceNormalsNeedsUpdate&&e.computeWorldFaceNormals(a);for(let v=0,y=e.faces.length;v!==y;v++){const x=[e.worldVertices[e.faces[v][0]]],b=e.worldFaceNormals[v];i.vsub(x[0],g3);const w=-b.dot(g3);if(h===null||Math.abs(w)<Math.abs(h)){if(p)return!0;h=w,d=v,g.copy(b)}}if(d!==-1){const v=this.createContactEquation(l,s,r,e,c,u);g.scale(h,m),m.vadd(i,m),m.vsub(n,m),v.rj.copy(m),g.negate(v.ni),v.ri.set(0,0,0);const y=v.ri,x=v.rj;y.vadd(i,y),y.vsub(l.position,y),x.vadd(n,x),x.vsub(s.position,x),this.result.push(v),this.createFrictionEquationsFromContact(v,this.frictionResult)}else console.warn("Point found inside convex, but did not find penetrating face!")}}heightfieldCylinder(e,r,n,i,a,o,s,l,c,u,p){return this.convexHeightfield(r,e,i,n,o,a,l,s,c,u,p)}particleCylinder(e,r,n,i,a,o,s,l,c,u,p){return this.convexParticle(r,e,i,n,o,a,l,s,c,u,p)}sphereTrimesh(e,r,n,i,a,o,s,l,c,u,p){const d=pV,g=hV,m=fV,h=mV,f=gV,v=vV,y=_V,x=dV,b=cV,w=wV;kt.pointToLocalFrame(i,o,n,f);const _=e.radius;y.lowerBound.set(f.x-_,f.y-_,f.z-_),y.upperBound.set(f.x+_,f.y+_,f.z+_),r.getTrianglesInAABB(y,w);const C=uV,S=e.radius*e.radius;for(let N=0;N<w.length;N++)for(let L=0;L<3;L++)if(r.getVertex(r.indices[w[N]*3+L],C),C.vsub(f,b),b.lengthSquared()<=S){if(x.copy(C),kt.pointToWorldFrame(i,o,x,C),C.vsub(n,b),p)return!0;let O=this.createContactEquation(s,l,e,r,c,u);O.ni.copy(b),O.ni.normalize(),O.ri.copy(O.ni),O.ri.scale(e.radius,O.ri),O.ri.vadd(n,O.ri),O.ri.vsub(s.position,O.ri),O.rj.copy(C),O.rj.vsub(l.position,O.rj),this.result.push(O),this.createFrictionEquationsFromContact(O,this.frictionResult)}for(let N=0;N<w.length;N++)for(let L=0;L<3;L++){r.getVertex(r.indices[w[N]*3+L],d),r.getVertex(r.indices[w[N]*3+(L+1)%3],g),g.vsub(d,m),f.vsub(g,v);const O=v.dot(m);f.vsub(d,v);let B=v.dot(m);if(B>0&&O<0&&(f.vsub(d,v),h.copy(m),h.normalize(),B=v.dot(h),h.scale(B,v),v.vadd(d,v),v.distanceTo(f)<e.radius)){if(p)return!0;const U=this.createContactEquation(s,l,e,r,c,u);v.vsub(f,U.ni),U.ni.normalize(),U.ni.scale(e.radius,U.ri),U.ri.vadd(n,U.ri),U.ri.vsub(s.position,U.ri),kt.pointToWorldFrame(i,o,v,v),v.vsub(l.position,U.rj),kt.vectorToWorldFrame(o,U.ni,U.ni),kt.vectorToWorldFrame(o,U.ri,U.ri),this.result.push(U),this.createFrictionEquationsFromContact(U,this.frictionResult)}}const M=yV,T=xV,D=bV,j=lV;for(let N=0,L=w.length;N!==L;N++){r.getTriangleVertices(w[N],M,T,D),r.getNormal(w[N],j),f.vsub(M,v);let O=v.dot(j);if(j.scale(O,v),f.vsub(v,v),O=v.distanceTo(f),pr.pointInTriangle(v,M,T,D)&&O<e.radius){if(p)return!0;let B=this.createContactEquation(s,l,e,r,c,u);v.vsub(f,B.ni),B.ni.normalize(),B.ni.scale(e.radius,B.ri),B.ri.vadd(n,B.ri),B.ri.vsub(s.position,B.ri),kt.pointToWorldFrame(i,o,v,v),v.vsub(l.position,B.rj),kt.vectorToWorldFrame(o,B.ni,B.ni),kt.vectorToWorldFrame(o,B.ri,B.ri),this.result.push(B),this.createFrictionEquationsFromContact(B,this.frictionResult)}}w.length=0}planeTrimesh(e,r,n,i,a,o,s,l,c,u,p){const d=new A,g=aV;g.set(0,0,1),a.vmult(g,g);for(let m=0;m<r.vertices.length/3;m++){r.getVertex(m,d);const h=new A;h.copy(d),kt.pointToWorldFrame(i,o,h,d);const f=oV;if(d.vsub(n,f),g.dot(f)<=0){if(p)return!0;const v=this.createContactEquation(s,l,e,r,c,u);v.ni.copy(g);const y=sV;g.scale(f.dot(g),y),d.vsub(y,y),v.ri.copy(y),v.ri.vsub(s.position,v.ri),v.rj.copy(d),v.rj.vsub(l.position,v.rj),this.result.push(v),this.createFrictionEquationsFromContact(v,this.frictionResult)}}}}const lo=new A,Ms=new A,As=new A,tV=new A,rV=new A,nV=new fr,iV=new fr,aV=new A,oV=new A,sV=new A,lV=new A,cV=new A;new A;const uV=new A,dV=new A,pV=new A,hV=new A,fV=new A,mV=new A,gV=new A,vV=new A,yV=new A,xV=new A,bV=new A,_V=new Pn,wV=[],Ud=new A,f3=new A,SV=new A,CV=new A,EV=new A;function MV(t,e,r){let n=null;const i=t.length;for(let a=0;a!==i;a++){const o=t[a],s=SV;t[(a+1)%i].vsub(o,s);const l=CV;s.cross(e,l);const c=EV;r.vsub(o,c);const u=l.dot(c);if(n===null||u>0&&n===!0||u<=0&&n===!1){n===null&&(n=u>0);continue}else return!1}return!0}const qd=new A,AV=new A,TV=new A,RV=new A,PV=[new A,new A,new A,new A,new A,new A],LV=new A,kV=new A,DV=new A,IV=new A,FV=new A,NV=new A,zV=new A,OV=new A,BV=new A,jV=new A,$V=new A,UV=new A,qV=new A,VV=new A;new A;new A;const HV=new A,WV=new A,GV=new A,ZV=new A,XV=new A,YV=new A,KV=new A,QV=new A,JV=new A,eH=new A,m3=new fr,tH=new A;new A;const rH=new A,g3=new A,nH=new A,iH=new A,aH=new A,oH=[0],sH=new A,lH=new A;class v3{constructor(){this.current=[],this.previous=[]}getKey(e,r){if(r<e){const n=r;r=e,e=n}return e<<16|r}set(e,r){const n=this.getKey(e,r),i=this.current;let a=0;for(;n>i[a];)a++;if(n!==i[a]){for(let o=i.length-1;o>=a;o--)i[o+1]=i[o];i[a]=n}}tick(){const e=this.current;this.current=this.previous,this.previous=e,this.current.length=0}getDiff(e,r){const n=this.current,i=this.previous,a=n.length,o=i.length;let s=0;for(let l=0;l<a;l++){let c=!1;const u=n[l];for(;u>i[s];)s++;c=u===i[s],c||y3(e,u)}s=0;for(let l=0;l<o;l++){let c=!1;const u=i[l];for(;u>n[s];)s++;c=n[s]===u,c||y3(r,u)}}}function y3(t,e){t.push((e&4294901760)>>16,e&65535)}const Xm=(t,e)=>t<e?`${t}-${e}`:`${e}-${t}`;class cH{constructor(){this.data={keys:[]}}get(e,r){const n=Xm(e,r);return this.data[n]}set(e,r,n){const i=Xm(e,r);this.get(e,r)||this.data.keys.push(i),this.data[i]=n}delete(e,r){const n=Xm(e,r),i=this.data.keys.indexOf(n);i!==-1&&this.data.keys.splice(i,1),delete this.data[n]}reset(){const e=this.data,r=e.keys;for(;r.length>0;){const n=r.pop();delete e[n]}}}class uH extends bS{constructor(e){e===void 0&&(e={}),super(),this.dt=-1,this.allowSleep=!!e.allowSleep,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=e.quatNormalizeSkip!==void 0?e.quatNormalizeSkip:0,this.quatNormalizeFast=e.quatNormalizeFast!==void 0?e.quatNormalizeFast:!1,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new A,e.gravity&&this.gravity.copy(e.gravity),e.frictionGravity&&(this.frictionGravity=new A,this.frictionGravity.copy(e.frictionGravity)),this.broadphase=e.broadphase!==void 0?e.broadphase:new _S,this.bodies=[],this.hasActiveBodies=!1,this.solver=e.solver!==void 0?e.solver:new Zq,this.constraints=[],this.narrowphase=new eV(this),this.collisionMatrix=new n3,this.collisionMatrixPrevious=new n3,this.bodyOverlapKeeper=new v3,this.shapeOverlapKeeper=new v3,this.contactmaterials=[],this.contactMaterialTable=new cH,this.defaultMaterial=new Oo("default"),this.defaultContactMaterial=new zo(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.accumulator=0,this.subsystems=[],this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.idToBodyMap={},this.broadphase.setWorld(this)}getContactMaterial(e,r){return this.contactMaterialTable.get(e.id,r.id)}collisionMatrixTick(){const e=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=e,this.collisionMatrix.reset(),this.bodyOverlapKeeper.tick(),this.shapeOverlapKeeper.tick()}addConstraint(e){this.constraints.push(e)}removeConstraint(e){const r=this.constraints.indexOf(e);r!==-1&&this.constraints.splice(r,1)}rayTest(e,r,n){n instanceof nh?this.raycastClosest(e,r,{skipBackfaces:!0},n):this.raycastAll(e,r,{skipBackfaces:!0},n)}raycastAll(e,r,n,i){return n===void 0&&(n={}),n.mode=pr.ALL,n.from=e,n.to=r,n.callback=i,Ym.intersectWorld(this,n)}raycastAny(e,r,n,i){return n===void 0&&(n={}),n.mode=pr.ANY,n.from=e,n.to=r,n.result=i,Ym.intersectWorld(this,n)}raycastClosest(e,r,n,i){return n===void 0&&(n={}),n.mode=pr.CLOSEST,n.from=e,n.to=r,n.result=i,Ym.intersectWorld(this,n)}addBody(e){this.bodies.includes(e)||(e.index=this.bodies.length,this.bodies.push(e),e.world=this,e.initPosition.copy(e.position),e.initVelocity.copy(e.velocity),e.timeLastSleepy=this.time,e instanceof _e&&(e.initAngularVelocity.copy(e.angularVelocity),e.initQuaternion.copy(e.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=e,this.idToBodyMap[e.id]=e,this.dispatchEvent(this.addBodyEvent))}removeBody(e){e.world=null;const r=this.bodies.length-1,n=this.bodies,i=n.indexOf(e);if(i!==-1){n.splice(i,1);for(let a=0;a!==n.length;a++)n[a].index=a;this.collisionMatrix.setNumObjects(r),this.removeBodyEvent.body=e,delete this.idToBodyMap[e.id],this.dispatchEvent(this.removeBodyEvent)}}getBodyById(e){return this.idToBodyMap[e]}getShapeById(e){const r=this.bodies;for(let n=0;n<r.length;n++){const i=r[n].shapes;for(let a=0;a<i.length;a++){const o=i[a];if(o.id===e)return o}}return null}addContactMaterial(e){this.contactmaterials.push(e),this.contactMaterialTable.set(e.materials[0].id,e.materials[1].id,e)}removeContactMaterial(e){const r=this.contactmaterials.indexOf(e);r!==-1&&(this.contactmaterials.splice(r,1),this.contactMaterialTable.delete(e.materials[0].id,e.materials[1].id))}fixedStep(e,r){e===void 0&&(e=1/60),r===void 0&&(r=10);const n=vr.now()/1e3;if(!this.lastCallTime)this.step(e,void 0,r);else{const i=n-this.lastCallTime;this.step(e,i,r)}this.lastCallTime=n}step(e,r,n){if(n===void 0&&(n=10),r===void 0)this.internalStep(e),this.time+=e;else{this.accumulator+=r;const i=vr.now();let a=0;for(;this.accumulator>=e&&a<n&&(this.internalStep(e),this.accumulator-=e,a++,!(vr.now()-i>e*1e3)););this.accumulator=this.accumulator%e;const o=this.accumulator/e;for(let s=0;s!==this.bodies.length;s++){const l=this.bodies[s];l.previousPosition.lerp(l.position,o,l.interpolatedPosition),l.previousQuaternion.slerp(l.quaternion,o,l.interpolatedQuaternion),l.previousQuaternion.normalize()}this.time+=r}}internalStep(e){this.dt=e;const r=this.contacts,n=mH,i=gH,a=this.bodies.length,o=this.bodies,s=this.solver,l=this.gravity,c=this.doProfiling,u=this.profile,p=_e.DYNAMIC;let d=-1/0;const g=this.constraints,m=fH;l.length();const h=l.x,f=l.y,v=l.z;let y=0;for(c&&(d=vr.now()),y=0;y!==a;y++){const j=o[y];if(j.type===p){const N=j.force,L=j.mass;N.x+=L*h,N.y+=L*f,N.z+=L*v}}for(let j=0,N=this.subsystems.length;j!==N;j++)this.subsystems[j].update();c&&(d=vr.now()),n.length=0,i.length=0,this.broadphase.collisionPairs(this,n,i),c&&(u.broadphase=vr.now()-d);let x=g.length;for(y=0;y!==x;y++){const j=g[y];if(!j.collideConnected)for(let N=n.length-1;N>=0;N-=1)(j.bodyA===n[N]&&j.bodyB===i[N]||j.bodyB===n[N]&&j.bodyA===i[N])&&(n.splice(N,1),i.splice(N,1))}this.collisionMatrixTick(),c&&(d=vr.now());const b=hH,w=r.length;for(y=0;y!==w;y++)b.push(r[y]);r.length=0;const _=this.frictionEquations.length;for(y=0;y!==_;y++)m.push(this.frictionEquations[y]);for(this.frictionEquations.length=0,this.narrowphase.getContacts(n,i,this,r,b,this.frictionEquations,m),c&&(u.narrowphase=vr.now()-d),c&&(d=vr.now()),y=0;y<this.frictionEquations.length;y++)s.addEquation(this.frictionEquations[y]);const C=r.length;for(let j=0;j!==C;j++){const N=r[j],L=N.bi,O=N.bj,B=N.si,U=N.sj;let F;if(L.material&&O.material?F=this.getContactMaterial(L.material,O.material)||this.defaultContactMaterial:F=this.defaultContactMaterial,F.friction,L.material&&O.material&&(L.material.friction>=0&&O.material.friction>=0&&L.material.friction*O.material.friction,L.material.restitution>=0&&O.material.restitution>=0&&(N.restitution=L.material.restitution*O.material.restitution)),s.addEquation(N),L.allowSleep&&L.type===_e.DYNAMIC&&L.sleepState===_e.SLEEPING&&O.sleepState===_e.AWAKE&&O.type!==_e.STATIC){const z=O.velocity.lengthSquared()+O.angularVelocity.lengthSquared(),q=O.sleepSpeedLimit**2;z>=q*2&&(L.wakeUpAfterNarrowphase=!0)}if(O.allowSleep&&O.type===_e.DYNAMIC&&O.sleepState===_e.SLEEPING&&L.sleepState===_e.AWAKE&&L.type!==_e.STATIC){const z=L.velocity.lengthSquared()+L.angularVelocity.lengthSquared(),q=L.sleepSpeedLimit**2;z>=q*2&&(O.wakeUpAfterNarrowphase=!0)}this.collisionMatrix.set(L,O,!0),this.collisionMatrixPrevious.get(L,O)||(oc.body=O,oc.contact=N,L.dispatchEvent(oc),oc.body=L,O.dispatchEvent(oc)),this.bodyOverlapKeeper.set(L.id,O.id),this.shapeOverlapKeeper.set(B.id,U.id)}for(this.emitContactEvents(),c&&(u.makeContactConstraints=vr.now()-d,d=vr.now()),y=0;y!==a;y++){const j=o[y];j.wakeUpAfterNarrowphase&&(j.wakeUp(),j.wakeUpAfterNarrowphase=!1)}for(x=g.length,y=0;y!==x;y++){const j=g[y];j.update();for(let N=0,L=j.equations.length;N!==L;N++){const O=j.equations[N];s.addEquation(O)}}s.solve(e,this),c&&(u.solve=vr.now()-d),s.removeAllEquations();const S=Math.pow;for(y=0;y!==a;y++){const j=o[y];if(j.type&p){const N=S(1-j.linearDamping,e),L=j.velocity;L.scale(N,L);const O=j.angularVelocity;if(O){const B=S(1-j.angularDamping,e);O.scale(B,O)}}}this.dispatchEvent(pH),c&&(d=vr.now());const M=this.stepnumber%(this.quatNormalizeSkip+1)===0,T=this.quatNormalizeFast;for(y=0;y!==a;y++)o[y].integrate(e,M,T);this.clearForces(),this.broadphase.dirty=!0,c&&(u.integrate=vr.now()-d),this.stepnumber+=1,this.dispatchEvent(dH);let D=!0;if(this.allowSleep)for(D=!1,y=0;y!==a;y++){const j=o[y];j.sleepTick(this.time),j.sleepState!==_e.SLEEPING&&(D=!0)}this.hasActiveBodies=D}emitContactEvents(){const e=this.hasAnyEventListener("beginContact"),r=this.hasAnyEventListener("endContact");if((e||r)&&this.bodyOverlapKeeper.getDiff(Vi,Hi),e){for(let a=0,o=Vi.length;a<o;a+=2)sc.bodyA=this.getBodyById(Vi[a]),sc.bodyB=this.getBodyById(Vi[a+1]),this.dispatchEvent(sc);sc.bodyA=sc.bodyB=null}if(r){for(let a=0,o=Hi.length;a<o;a+=2)lc.bodyA=this.getBodyById(Hi[a]),lc.bodyB=this.getBodyById(Hi[a+1]),this.dispatchEvent(lc);lc.bodyA=lc.bodyB=null}Vi.length=Hi.length=0;const n=this.hasAnyEventListener("beginShapeContact"),i=this.hasAnyEventListener("endShapeContact");if((n||i)&&this.shapeOverlapKeeper.getDiff(Vi,Hi),n){for(let a=0,o=Vi.length;a<o;a+=2){const s=this.getShapeById(Vi[a]),l=this.getShapeById(Vi[a+1]);Wi.shapeA=s,Wi.shapeB=l,s&&(Wi.bodyA=s.body),l&&(Wi.bodyB=l.body),this.dispatchEvent(Wi)}Wi.bodyA=Wi.bodyB=Wi.shapeA=Wi.shapeB=null}if(i){for(let a=0,o=Hi.length;a<o;a+=2){const s=this.getShapeById(Hi[a]),l=this.getShapeById(Hi[a+1]);Gi.shapeA=s,Gi.shapeB=l,s&&(Gi.bodyA=s.body),l&&(Gi.bodyB=l.body),this.dispatchEvent(Gi)}Gi.bodyA=Gi.bodyB=Gi.shapeA=Gi.shapeB=null}}clearForces(){const e=this.bodies,r=e.length;for(let n=0;n!==r;n++){const i=e[n];i.force,i.torque,i.force.set(0,0,0),i.torque.set(0,0,0)}}}new Pn;const Ym=new pr,vr=globalThis.performance||{};if(!vr.now){let t=Date.now();vr.timing&&vr.timing.navigationStart&&(t=vr.timing.navigationStart),vr.now=()=>Date.now()-t}new A;const dH={type:"postStep"},pH={type:"preStep"},oc={type:_e.COLLIDE_EVENT_NAME,body:null,contact:null},hH=[],fH=[],mH=[],gH=[],Vi=[],Hi=[],sc={type:"beginContact",bodyA:null,bodyB:null},lc={type:"endContact",bodyA:null,bodyB:null},Wi={type:"beginShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null},Gi={type:"endShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null};class x3{constructor(e){typeof e=="object"&&(e=e.notation),this.set=[],this.setkeys=[],this.setid=0,this.groups=[],this.totalDice=0,this.op="",this.constant=null,this.result=[],this.error=!1,this.boost=1,this.notation="",this.vectors=[],(!e||e=="0")&&(this.error=!0),this.parseNotation(e)}parseNotation(e){if(e){let d=e.split("!").length-1||0;d>0&&(this.boost=Math.min(Math.max(d,0),3)*4),e=e.split("!").join(""),e=e.split(" ").join("");let g=e.split("(").length-1,m=e.split(")").length-1;g!=m&&(this.error=!0)}const r=this.notation.length>0?"+":"";this.notation+=r+e;let n=e.split("@"),i=n[0],a=new RegExp(/(\+|\-|\*|\/|\%|\^|){0,1}()(\d*)([a-z]+\d+|[a-z]+|)(?:\{([a-z]+)(.*?|)\}|)()/,"i"),o=new RegExp(/(\b)*(\-\d+|\d+)(\b)*/,"gi"),s,l=0,c=30,u=0,p=0;for(;!this.error&&i.length>0&&(s=a.exec(i))!==null&&l<c;){l++,i=i.substring(s[0].length);let d=s[1],g=s[2]&&s[2].length>0,m=s[3],h=s[4],f=s[5]||"",v=s[6]||"",y=s[7]&&s[7].length>0,x=!0;g&&(u+=s[2].length),v=v.split(","),(!v||v.length<1)&&(v=""),v.shift(),l==1&&i.length==0&&!h&&d&&m?(h="d20",this.op=d,this.constant=parseInt(m),m=1):l>1&&i.length==0&&!h&&(this.op=d,this.constant=parseInt(m),x=!1),x&&this.addSet(m,h,p,u,f,v,d),y&&(u-=s[7].length,p+=s[7].length)}!this.error&&n[1]&&(s=n[1].match(o))!==null&&this.result.push(...s)}stringify(e=!0){let r="";if(this.set.length<1)return r;for(let n=0;n<this.set.length;n++){let i=this.set[n];r+=n>0&&i.op?i.op:"",r+=i.num+i.type,i.func&&(r+="{",r+=i.func?i.func:"",r+=i.args?","+(Array.isArray(i.args)?i.args.join(","):i.args):"",r+="}")}return r+=this.constant?this.op+""+Math.abs(this.constant):"",e&&this.result&&this.result.length>0&&(r+="@"+this.result.join(",")),this.boost>1&&(r+="!".repeat(this.boost/4)),r}addSet(e,r,n=0,i=0,a="",o="",s="+"){e=Math.abs(parseInt(e||1));let l=s+""+r+n+i+a+o,c=this.setkeys[l]!=null,u={};c&&(u=this.set[this.setkeys[l]-1]),e>0&&(u.num=c?e+u.num:e,u.type=r,u.sid=this.setid,u.gid=n,u.glvl=i,a&&(u.func=a),o&&(u.args=o),s&&(u.op=s),c?this.set[this.setkeys[l]-1]=u:this.setkeys[l]=this.set.push(u)),c||++this.setid}static mergeNotation(e,r){return{...e,constant:e.constant+r.constant,notation:e.notation+"+"+r.notation,set:[...e.set,...r.set],totalDice:e.vectors.length+r.vectors.length,vectors:[...e.vectors,...r.vectors]}}}const Km={d2:{name:"d2",labels:["1","2"],values:[1,2],inertia:8,mass:400,scale:.9,system:"dweird"},dc:{type:"d2",name:"Coin",labels:["textures/silvercoin/tail.png","textures/silvercoin/heads.png"],setBumpMaps:["textures/silvercoin/tail_bump.png","textures/silvercoin/heads_bump.png"],values:[0,1],inertia:8,mass:400,scale:.9,colorset:"coin_silver"},d1:{name:"One-sided Dice",type:"d6",labels:["1"],values:[1,1],scale:.9,system:"dweird"},d3:{name:"Three-Sided Dice",type:"d6",labels:["1","2","3"],values:[1,3],scale:.9,system:"dweird"},df:{name:"Fudge Dice",type:"d6",labels:["-","0","+"],values:[-1,1],scale:.9,system:"dweird"},d4:{name:"Four-Sided Dice",labels:["1","2","3","4"],values:[1,4],inertia:5,scale:1.2},d6:{name:"Six-Sided Dice (Numbers)",labels:["1","2","3","4","5","6"],values:[1,6],scale:.9},dpip:{name:"Six-Sided Dice (Pips)",type:"d6",labels:[`   
  
   `,`  
   
  `,`  
  
  `,` 
   
 `,` 
  
 `,` 
 
 `],values:[1,6],scale:.9,font:"monospace"},dsex:{name:"Sex-Sided Emoji Dice",type:"d6",labels:["","","","","",""],values:[1,6],scale:.9,display:"labels",system:"dweird"},dpoker:{name:"Poker Dice (9-Ace)",type:"d6",labels:["A","9","10","J","Q","K"],values:[1,6],scale:.9,display:"labels",system:"dweird",font:"Times New Roman"},dspanpoker:{name:"Spanish Poker Dice (7-Ace)",type:"d8",labels:["A","7","8","9","10","J","Q","K"],values:[1,8],display:"labels",system:"dweird",font:"Times New Roman"},disotope:{name:"Radioactive Twelve-Sided Dice",type:"d12",labels:["","","","","","","","","","","",""],values:[0,0,0,0,0,0,0,0,0,0,0,1],mass:350,inertia:8,scale:.9,system:"dweird"},dsuit:{name:"Four-Suited Dice",type:"d4",labels:["","","",""],values:[1,4],inertia:5,scale:1.2,display:"labels",system:"dweird"},d8:{name:"Eight-Sided Dice",labels:["1","2","3","4","5","6","7","8"],values:[1,8]},d10:{name:"Ten-Sided Dice (Single Digit)",labels:["1","2","3","4","5","6","7","8","9","0"],values:[1,10],mass:350,inertia:9,scale:.9},d100:{name:"Ten-Sided Dice (Tens Digit)",type:"d10",labels:["10","20","30","40","50","60","70","80","90","00"],values:[10,100,10],mass:350,inertia:9,scale:.9},d12:{name:"Twelve-Sided Dice",labels:["1","2","3","4","5","6","7","8","9","10","11","12"],values:[1,12],mass:350,inertia:8,scale:.9},d20:{name:"Twenty-Sided Dice",labels:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],values:[1,20],mass:400,inertia:6},dabi:{name:"Star Wars RPG: Ability Dice",type:"d8",labels:["s","a",`s
a`,`s
s`,"a","s",`a
a`,""],values:[1,8],font:"SWRPG-Symbol-Regular",color:"#00FF00",colorset:"swrpg_abi",display:"labels",system:"swrpg"},ddif:{name:"Star Wars RPG: Difficulty Dice",type:"d8",labels:["t","f",`f
t`,"t","",`t
t`,`f
f`,"t"],values:[1,8],font:"SWRPG-Symbol-Regular",color:"#8000FC",colorset:"swrpg_dif",display:"labels",system:"swrpg"},dpro:{name:"Star Wars RPG: Proficiency Dice",type:"d12",labels:[`a
a`,"a",`a
a`,"x","s",`s
a`,"s",`s
a`,`s
s`,`s
a`,`s
s`,""],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FFFF00",colorset:"swrpg_pro",display:"labels",system:"swrpg"},dcha:{name:"Star Wars RPG: Challenge Dice",type:"d12",labels:[`t
t`,"t",`t
t`,"t",`t
f`,"f",`t
f`,"f",`f
f`,"y",`f
f`,""],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FF0000",colorset:"swrpg_cha",display:"labels",system:"swrpg"},dfor:{name:"Star Wars RPG: Force Dice",type:"d12",labels:["z",`Z
Z`,"z",`Z
Z`,"z",`Z
Z`,"z","Z","z","Z","z",`z
z`],values:[1,12],mass:350,inertia:8,scale:.9,font:"SWRPG-Symbol-Regular",color:"#FFFFFF",colorset:"swrpg_for",display:"labels",system:"swrpg"},dboo:{name:"Star Wars RPG: Boost Dice",type:"d6",labels:[`s  
  a`,`a  
  a`,"s","a","",""],values:[1,6],scale:.9,font:"SWRPG-Symbol-Regular",color:"#00FFFF",colorset:"swrpg_boo",display:"labels",system:"swrpg"},dset:{name:"Star Wars RPG: Setback Dice",type:"d6",labels:["","t","f"],values:[1,3],scale:.9,font:"SWRPG-Symbol-Regular",color:"#111111",colorset:"swrpg_set",display:"labels",system:"swrpg"},swar:{name:"Star Wars Armada: Red Attack Dice",type:"d8",labels:["F","F",`F
F`,"E","E","G","",""],values:[1,8],font:"Armada-Symbol-Regular",color:"#FF0000",colorset:"swa_red",display:"labels",system:"swarmada"},swab:{name:"Star Wars Armada: Blue Attack Dice",type:"d8",labels:["F","F","F","F","E","E","G","G"],values:[1,8],font:"Armada-Symbol-Regular",color:"#0000FF",colorset:"swa_blue",display:"labels",system:"swarmada"},swak:{name:"Star Wars Armada: Black Attack Dice",type:"d8",labels:["F","F","F","F",`F
E`,`F
E`,"",""],values:[1,8],font:"Armada-Symbol-Regular",color:"#111111",colorset:"swa_black",display:"labels",system:"swarmada"},xwatk:{name:"Star Wars X-Wing: Red Attack Dice",type:"d8",labels:["c","d","d","d","f","f","",""],values:[1,8],font:"XWing-Symbol-Regular",color:"#FF0000",colorset:"xwing_red",display:"labels",system:"xwing"},xwdef:{name:"Star Wars X-Wing: Green Defense Dice",type:"d8",labels:["e","e","e","f","f","","",""],values:[1,8],font:"XWing-Symbol-Regular",color:"#00FF00",colorset:"xwing_green",display:"labels",system:"xwing"},swlar:{name:"Star Wars Legion: Red Attack Dice",type:"d8",labels:["h","h","h","h","h","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#FF0000",colorset:"swl_atkred",display:"labels",system:"legion"},swlab:{name:"Star Wars Legion: Black Attack Dice",type:"d8",labels:["h","h","h","","","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#111111",colorset:"swl_atkblack",display:"labels",system:"legion"},swlaw:{name:"Star Wars Legion: White Attack Dice",type:"d8",labels:["h","","","","","c","o",""],values:[1,8],font:"Legion-Symbol-Regular",color:"#FFFFFF",colorset:"swl_atkwhite",display:"labels",system:"legion"},swldr:{name:"Star Wars Legion: Red Defense Dice",type:"d6",labels:["s","s","s","d","",""],values:[1,6],scale:.9,font:"Legion-Symbol-Regular",color:"#FF0000",colorset:"swl_defred",display:"labels",system:"legion"},swldw:{name:"Star Wars Legion: White Defense Dice",type:"d6",labels:["s","","","d","",""],values:[1,6],scale:.9,font:"Legion-Symbol-Regular",color:"#FFFFFF",colorset:"swl_defwhite",display:"labels",system:"legion"}},In={d4:{vertices:[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],faces:[[1,0,2,1],[0,1,3,2],[0,3,2,3],[1,2,3,4]]},d6:{vertices:[[-1,-1,-1],[1,-1,-1],[1,1,-1],[-1,1,-1],[-1,-1,1],[1,-1,1],[1,1,1],[-1,1,1]],faces:[[0,3,2,1,1],[1,2,6,5,2],[0,1,5,4,3],[3,7,6,2,4],[0,4,7,3,5],[4,5,6,7,6]]},d8:{vertices:[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],faces:[[0,2,4,1],[0,4,3,2],[0,3,5,3],[0,5,2,4],[1,3,4,5],[1,4,2,6],[1,2,5,7],[1,5,3,8]]},d10:{vertices:[[1,0,-.105],[.809,.5877,.105],[.309,.951,-.105],[-.309,.951,.105],[-.809,.5877,-.105],[-1,0,.105],[-.809,-.587,-.105],[-.309,-.951,.105],[.309,-.951,-.105],[.809,-.5877,.105],[0,0,-1],[0,0,1]],faces:[[5,6,7,11,0],[4,3,2,10,1],[1,2,3,11,2],[0,9,8,10,3],[7,8,9,11,4],[8,7,6,10,5],[9,0,1,11,6],[2,1,0,10,7],[3,4,5,11,8],[6,5,4,10,9]]},d12:{vertices:[[0,.618,1.618],[0,.618,-1.618],[0,-.618,1.618],[0,-.618,-1.618],[1.618,0,.618],[1.618,0,-.618],[-1.618,0,.618],[-1.618,0,-.618],[.618,1.618,0],[.618,-1.618,0],[-.618,1.618,0],[-.618,-1.618,0],[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]],faces:[[2,14,4,12,0,1],[15,9,11,19,3,2],[16,10,17,7,6,3],[6,7,19,11,18,4],[6,18,2,0,16,5],[18,11,9,14,2,6],[1,17,10,8,13,7],[1,13,5,15,3,8],[13,8,12,4,5,9],[5,4,14,9,15,10],[0,12,8,10,16,11],[3,19,7,17,1,12]]},d20:{vertices:[[-1,1.618,0],[1,1.618,0],[-1,-1.618,0],[1,-1.618,0],[0,-1,1.618],[0,1,1.618],[0,-1,-1.618],[0,1,-1.618],[1.618,0,-1],[1.618,0,1],[-1.618,0,-1],[-1.618,0,1]],faces:[[0,11,5,1],[0,5,1,2],[0,1,7,3],[0,7,10,4],[0,10,11,5],[1,5,9,6],[5,11,4,7],[11,10,2,8],[10,7,6,9],[7,1,8,10],[3,9,4,11],[3,4,2,12],[3,2,6,13],[3,6,8,14],[3,8,9,15],[4,9,5,16],[2,4,11,17],[6,2,10,18],[8,6,7,19],[9,8,1,20]]}},vH={name:"",scale:1,font:"Arial",color:"",labels:[],valueMap:[],values:[],normals:[],mass:300,inertia:13,geometry:null,display:"values",system:"d20"};class yH{constructor(e){if(!Km.hasOwnProperty(e))return console.error("dice type unavailable");Object.assign(this,vH,Km[e]),this.shape=Km[e].type||e,this.type=e,this.setLabels(this.labels),this.setValues(this.values[0],this.values[1],this.values[2]),this.setValueMap(this.valueMap),this.bumpMaps&&this.setBumpMaps(this.bumpMaps)}setValues(e=1,r=20,n=1){this.values=this.range(e,r,n)}setValueMap(e){for(let r=0;r<this.values.length;r++){let n=this.values[r];e[n]!=null&&(this.valueMap[n]=e[n])}}registerFaces(e,r="labels"){let n;if(r=="labels"?n=this.labels:n=this.normals,n.unshift(""),["d2","d10"].includes(this.shape)||n.unshift(""),this.shape=="d4"){let i=e[0],a=e[1],o=e[2],s=e[3];this.labels=[[[],[0,0,0],[a,s,o],[i,o,s],[a,i,s],[i,a,o]],[[],[0,0,0],[a,o,s],[o,i,s],[a,s,i],[o,a,i]],[[],[0,0,0],[s,o,a],[o,s,i],[s,a,i],[o,i,a]],[[],[0,0,0],[s,a,o],[i,s,o],[s,i,a],[i,o,a]]]}else Array.prototype.push.apply(n,e)}setLabels(e){this.loadTextures(e,this.registerFaces.bind(this),"labels")}setBumpMaps(e){this.loadTextures(e,this.registerFaces.bind(this),"bump")}loadTextures(e,r,n){let i=0,a=e.length,o=/\.(PNG|JPG|GIF|WEBP)$/i,s=Array(e.length),l=!1;for(let c=0;c<a;c++){if(e[c]==""||!e[c].match(o)){s[c]=e[c],++i;continue}l=!0,s[c]=new Image,s[c].onload=function(){++i>=a&&r(s,n)},s[c].src=e[c]}l||r(s,n)}range(e,r,n=1){for(var i=[e],a=e;a<r;)i.push(a+=n||1);return i}}const xH={none:{name:"Plastic"},perfectmetal:{name:"Perfect Metal",color:14540253,roughness:0,metalness:1,envMapIntensity:1},metal:{name:"Metal",color:14540253,roughness:.5,metalness:.6,envMapIntensity:1},wood:{name:"Wood",color:14540253,roughness:.9,metalness:0,envMapIntensity:1},glass:{name:"Glass",color:14540253,roughness:.1,metalness:0,envMapIntensity:1}},bH={baseScale:100,bumpMapping:!0},yc=class{constructor(t){this.geometries={},this.materials_cache={},this.cache_hits=0,this.cache_misses=0,this.label_color="",this.dice_color="",this.edge_color="",this.label_outline="",this.dice_texture="",this.dice_material="",this.material_options={specular:16777215,color:11908533,shininess:5,flatShading:!0},Object.assign(this,bH,t)}updateConfig(t={}){Object.assign(this,t),t.scale&&this.scaleGeometry()}setBumpMapping(t){this.bumpMapping=t,this.materials_cache={}}create(t){let e=this.get(t);if(!e)return null;let r=this.geometries[t];if(r||(r=this.createGeometry(e.shape,e.scale*this.baseScale),this.geometries[t]=r),!r)return null;this.setMaterialInfo();let n=new Ti(r,this.createMaterials(e,this.baseScale/2,1));switch(n.result=[],n.shape=e.shape,n.rerolls=0,n.resultReason="natural",n.mass=e.mass,n.getFaceValue=function(){let i=this.resultReason,a=new K(0,0,this.shape=="d4"?-1:1),o,s=Math.PI*2,l=this.geometry.getAttribute("normal").array;for(let m=0,h=this.geometry.groups.length;m<h;++m){let f=this.geometry.groups[m];if(f.materialIndex==0)continue;let v=m*9,y=new K(l[v],l[v+1],l[v+2]).clone().applyQuaternion(this.body.quaternion).angleTo(a);y<s&&(s=y,o=f)}let c=o.materialIndex-1,u=2;const p=yc.dice[this.notation.type];if(this.shape=="d4"){let m=c-1==0?5:c;return{value:c,label:p.labels[c-1][m][0],reason:i}}["d10","d2"].includes(this.shape)&&(c+=1,u-=1);let d=p.values[(c-1)%p.values.length],g=p.labels[(c-1)%(p.labels.length-2)+u];return{value:d,label:g,reason:i}},n.storeRolledValue=function(i){this.resultReason=i||this.resultReason,this.result.push(this.getFaceValue())},n.getLastValue=function(){return!this.result||this.result.length<1?{value:void 0,label:"",reason:""}:this.result[this.result.length-1]},n.ignoreLastValue=function(i){let a=this.getLastValue();a.value!==void 0&&(a.ignore=i,this.setLastValue(a))},n.setLastValue=function(i){if(!(!this.result||this.result.length<1)&&!(!i||i.length<1))return this.result[this.result.length-1]=i},e.color&&(n.material[0].color=new St(e.color),n.material[0].emissive=new St(e.color),n.material[0].emissiveIntensity=1,n.material[0].needsUpdate=!0),e.values.length){case 1:return this.fixmaterials(n,1);case 2:return this.fixmaterials(n,2);case 3:return this.fixmaterials(n,3);default:return n}}get(t){let e;return yc.dice.hasOwnProperty(t)?e=yc.dice[t]:(e=new yH(t),yc.dice[t]=e),e}getGeometry(t){return this.geometries[t]}scaleGeometry(){}createMaterials(t,e,r,n=!0,i=0){let a=[],o=t.labels;t.shape=="d4"&&(o=t.labels[i],e=this.baseScale/2,r=this.baseScale*2);for(var s=0;s<o.length;++s){var l;this.dice_material!="none"?(l=new BU(xH[this.dice_material]),l.envMapIntensity=0):l=new jU(this.material_options);let c;if(s==0){let u={name:"none"};this.dice_texture_rand.composite!="source-over"&&(u=this.dice_texture_rand),c=this.createTextMaterial(t,o,s,e,r,u,this.label_color_rand,this.label_outline_rand,this.edge_color_rand,n),l.map=c.composite}else if(c=this.createTextMaterial(t,o,s,e,r,this.dice_texture_rand,this.label_color_rand,this.label_outline_rand,this.dice_color_rand,n),l.map=c.composite,this.bumpMapping){{let u=.75;e>35&&(u=1),e>40&&(u=2.5),e>45&&(u=4),l.bumpScale=u}c.bump&&(l.bumpMap=c.bump),t.shape!="d4"&&t.normals[s]&&(l.bumpMap=new Mn(t.normals[s]),l.bumpScale=4,l.bumpMap.needsUpdate=!0)}l.opacity=1,l.transparent=!0,l.depthTest=!1,l.needUpdate=!0,a.push(l)}return a}createTextMaterial(t,e,r,n,i,a,o,s,l,c){if(e[r]===void 0)return null;a=a||this.dice_texture_rand,o=o||this.label_color_rand,s=s||this.label_outline_rand,l=l||this.dice_color_rand,c=c??!0;let u=e[r],p=!1,d=u;u instanceof HTMLImageElement?d=u.src:u instanceof Array&&u.forEach(C=>{d+=C.src});let g=t.type+d+r+a.name+o+s+l;if(t.shape=="d4"&&(g=t.type+d+a.name+o+s+l),c&&this.materials_cache[g]!=null)return this.cache_hits++,this.materials_cache[g];let m=document.createElement("canvas"),h=m.getContext("2d",{alpha:!0});h.globalAlpha=0,h.clearRect(0,0,m.width,m.height);let f=document.createElement("canvas"),v=f.getContext("2d",{alpha:!0});v.globalAlpha=0,v.clearRect(0,0,f.width,f.height);let y;if(t.shape=="d4"?y=this.calc_texture_size(n+i)*4:y=this.calc_texture_size(n+n*2*i)*4,m.width=m.height=y,f.width=f.height=y,h.fillStyle=l,h.fillRect(0,0,m.width,m.height),v.fillStyle="#FFFFFF",v.fillRect(0,0,f.width,f.height),a.texture&&a.name!=""&&a.name!="none"?(h.globalCompositeOperation=a.composite||"source-over",h.drawImage(a.texture,0,0,m.width,m.height),h.globalCompositeOperation="source-over",a.bump&&(v.globalCompositeOperation="source-over",v.drawImage(a.bump,0,0,m.width,m.height))):h.globalCompositeOperation="source-over",h.globalCompositeOperation="source-over",h.textAlign="center",h.textBaseline="middle",v.textAlign="center",v.textBaseline="middle",t.shape!="d4"){let C={d8:{even:-7.5,odd:-127.5},d10:{all:-6},d12:{all:5},d20:{all:-7.5}}[t.shape];if(C){let S;if(C.hasOwnProperty("all")?S=C.all:r>0&&r%2!=0?S=C.odd:S=C.even,S&&S!=0){var x=m.width/2,b=m.height/2;h.translate(x,b),h.rotate(S*(Math.PI/180)),h.translate(-x,-b),v.translate(x,b),v.rotate(S*(Math.PI/180)),v.translate(-x,-b)}}if(u instanceof HTMLImageElement)p=!0,h.drawImage(u,0,0,u.width,u.height,0,0,m.width,m.height);else{let S=y/(1+2*i),M=m.height/2+10,T=m.width/2;t.shape=="d10"?(S=S*.75,M=M*1.15-10):t.shape=="d20"&&(T=T*.98),h.font=S+"pt "+t.font,v.font=S+"pt "+t.font;let D=h.measureText("M").width*1.4,j=u.split(`
`);j.length>1&&(S=S/j.length,h.font=S+"pt "+t.font,v.font=S+"pt "+t.font,D=h.measureText("M").width*1.2,M-=D*j.length/2);for(let N=0,L=j.length;N<L;N++){let O=j[N].trim();s!="none"&&s!=l&&(h.strokeStyle=s,h.lineWidth=5,h.strokeText(j[N],T,M),v.strokeStyle="#000000",v.lineWidth=5,v.strokeText(j[N],T,M),(O=="6"||O=="9")&&(h.strokeText("  .",T,M),v.strokeText("  .",T,M))),h.fillStyle=o,h.fillText(j[N],T,M),v.fillStyle="#000000",v.fillText(j[N],T,M),(O=="6"||O=="9")&&(h.fillText("  .",T,M),v.fillText("  .",T,M)),M+=D*1.5}}}else{var x=m.width/2,b=m.height/2;h.font=y/128*24+"pt "+t.font,v.font=y/128*24+"pt "+t.font;for(let M=0;M<u.length;M++){if(u[M]instanceof HTMLImageElement){let T=u[M].width/m.width;h.drawImage(u[M],0,0,u[M].width,u[M].height,100/T,25/T,60/T,60/T)}else s!="none"&&s!=l&&(h.strokeStyle=s,h.lineWidth=5,h.strokeText(u[M],x,b-y*.3),v.strokeStyle="#000000",v.lineWidth=5,v.strokeText(u[M],x,b-y*.3)),h.fillStyle=o,h.fillText(u[M],x,b-y*.3),v.fillStyle="#000000",v.fillText(u[M],x,b-y*.3);h.translate(x,b),h.rotate(Math.PI*2/3),h.translate(-x,-b),v.translate(x,b),v.rotate(Math.PI*2/3),v.translate(-x,-b)}}var w=new Yx(m),_;return p?_=null:_=new Yx(f),c&&(this.cache_misses++,this.materials_cache[g]={composite:w,bump:_}),{composite:w,bump:_}}applyColorSet(t){var e;this.colordata=t,this.label_color=t.foreground,this.dice_color=t.background,this.label_outline=t.outline,this.dice_texture=t.texture,this.dice_material=((e=t==null?void 0:t.texture)==null?void 0:e.material)||"none",this.edge_color=t.hasOwnProperty("edge")?t.edge:t.background}setMaterialInfo(t=""){let e=this.colordata,r=this.dice_texture,n=this.dice_material;if(this.dice_color_rand="",this.label_color_rand="",this.label_outline_rand="",this.dice_texture_rand="",this.dice_material_rand="",this.edge_color_rand="",Array.isArray(this.dice_color)){var i=Math.floor(Math.random()*this.dice_color.length);Array.isArray(this.label_color)&&this.label_color.length==this.dice_color.length&&(this.label_color_rand=this.label_color[i],Array.isArray(this.label_outline)&&this.label_outline.length==this.label_color.length&&(this.label_outline_rand=this.label_outline[i])),Array.isArray(this.dice_texture)&&this.dice_texture.length==this.dice_color.length&&(this.dice_texture_rand=this.dice_texture[i],this.dice_material_rand=this.dice_texture_rand.material),Array.isArray(this.edge_color)&&this.edge_color.length==this.dice_color.length&&(this.edge_color_rand=this.edge_color[i]),this.dice_color_rand=this.dice_color[i]}else this.dice_color_rand=this.dice_color;if(this.edge_color_rand=="")if(Array.isArray(this.edge_color)){var i=Math.floor(Math.random()*this.edge_color.length);this.edge_color_rand=this.edge_color[i]}else this.edge_color_rand=this.edge_color;if(this.label_color_rand==""&&Array.isArray(this.label_color)){var i=this.label_color[Math.floor(Math.random()*this.label_color.length)];Array.isArray(this.label_outline)&&this.label_outline.length==this.label_color.length&&(this.label_outline_rand=this.label_outline[i]),this.label_color_rand=this.label_color[i]}else this.label_color_rand==""&&(this.label_color_rand=this.label_color);if(this.label_outline_rand==""&&Array.isArray(this.label_outline)){var i=this.label_outline[Math.floor(Math.random()*this.label_outline.length)];this.label_outline_rand=this.label_outline[i]}else this.label_outline_rand==""&&(this.label_outline_rand=this.label_outline);this.dice_texture_rand==""&&Array.isArray(this.dice_texture)?(this.dice_texture_rand=this.dice_texture[Math.floor(Math.random()*this.dice_texture.length)],this.dice_material_rand=this.dice_texture_rand.material||this.dice_material):this.dice_texture_rand==""&&(this.dice_texture_rand=this.dice_texture,this.dice_material_rand=this.dice_texture_rand.material||this.dice_material),this.dice_material_rand==""&&Array.isArray(this.dice_material)?this.dice_material_rand=this.dice_material[Math.floor(Math.random()*this.dice_material.length)]:this.dice_material_rand==""&&(this.dice_material_rand=this.dice_material),this.colordata&&this.colordata.id!=e.id&&this.applyColorSet(e,r,n)}calc_texture_size(t){return Math.pow(2,Math.floor(Math.log(t)/Math.log(2)))}createGeometry(t,e,r=!1){const n=r?"create_shape":"create_geom";switch(t){case"d2":var i=new uv(1*e,1*e,.1*e,32);return i.cannon_shape=new Wq(1*e,1*e,.1*e,8),i;case"d4":return this[n](In.d4.vertices,In.d4.faces,e,-.1,Math.PI*7/6,.96);case"d6":return this[n](In.d6.vertices,In.d6.faces,e,.1,Math.PI/4,.96);case"d8":return this[n](In.d8.vertices,In.d8.faces,e,0,-Math.PI/4/2,.965);case"d10":return this[n](In.d10.vertices,In.d10.faces,e,.3,Math.PI,.945);case"d12":return this[n](In.d12.vertices,In.d12.faces,e,.2,-Math.PI/4/2,.968);case"d20":return this[n](In.d20.vertices,In.d20.faces,e,-.2,-Math.PI/4/2,.955);default:return console.error(`Geometry for ${t} is not available`),null}}fixmaterials(t,e){for(let n=0,i=t.geometry.groups.length;n<i;++n){var r=t.geometry.groups[n].materialIndex-2;if(r<e)continue;let a=r%e;t.geometry.groups[n].materialIndex=a+2}return t.geometry.elementsNeedUpdate=!0,t}create_shape(t,e,r){for(var n=new Array(t.length),i=0;i<t.length;++i)n[i]=new K().fromArray(t[i]).normalize();for(var a=new Array(t.length),o=new Array(e.length),i=0;i<n.length;++i){var s=n[i];a[i]=new A(s.x*r,s.y*r,s.z*r)}for(var i=0;i<e.length;++i)o[i]=e[i].slice(0,e[i].length-1);return new No({vertices:a,faces:o})}make_geom(t,e,r,n,i){let a=new Ni;for(let g=0;g<t.length;++g)t[g]=t[g].multiplyScalar(r);let o=[];const s=[],l=[],c=new K,u=new K;let p,d=0;for(let g=0;g<e.length;++g){let m=e[g],h=m.length-1,f=Math.PI*2/h;p=m[h]+1;for(let y=0;y<h-2;++y)o.push(...t[m[0]].toArray()),o.push(...t[m[y+1]].toArray()),o.push(...t[m[y+2]].toArray()),c.subVectors(t[m[y+2]],t[m[y+1]]),u.subVectors(t[m[0]],t[m[y+1]]),c.cross(u),c.normalize(),s.push(...c.toArray()),s.push(...c.toArray()),s.push(...c.toArray()),l.push((Math.cos(i)+1+n)/2/(1+n),(Math.sin(i)+1+n)/2/(1+n)),l.push((Math.cos(f*(y+1)+i)+1+n)/2/(1+n),(Math.sin(f*(y+1)+i)+1+n)/2/(1+n)),l.push((Math.cos(f*(y+2)+i)+1+n)/2/(1+n),(Math.sin(f*(y+2)+i)+1+n)/2/(1+n));let v=(h-2)*3;for(let y=0;y<v/3;y++)a.addGroup(d,3,p),d+=3}return a.setAttribute("position",new zr(o,3)),a.setAttribute("normal",new zr(s,3)),a.setAttribute("uv",new zr(l,2)),a.boundingSphere=new Cu(new K,r),a}make_d10_geom(t,e,r,n,i){let a=new Ni;for(let y=0;y<t.length;++y)t[y]=t[y].multiplyScalar(r);let o=[];const s=[],l=[],c=new K,u=new K;let p,d=0;for(let y=0;y<e.length;++y){let x=e[y],b=x.length-1,w=Math.PI*2/b;p=x[b]+1;var g=.65,m=.85,h=1-1*m,f=1-.895/1.105*m,v=1;for(let C=0;C<b-2;++C)o.push(...t[x[0]].toArray()),o.push(...t[x[C+1]].toArray()),o.push(...t[x[C+2]].toArray()),c.subVectors(t[x[C+2]],t[x[C+1]]),u.subVectors(t[x[0]],t[x[C+1]]),c.cross(u),c.normalize(),s.push(...c.toArray()),s.push(...c.toArray()),s.push(...c.toArray()),e[y][e[y].length-1]==-1||C>=2?(l.push((Math.cos(i)+1+n)/2/(1+n),(Math.sin(i)+1+n)/2/(1+n)),l.push((Math.cos(w*(C+1)+i)+1+n)/2/(1+n),(Math.sin(w*(C+1)+i)+1+n)/2/(1+n)),l.push((Math.cos(w*(C+2)+i)+1+n)/2/(1+n),(Math.sin(w*(C+2)+i)+1+n)/2/(1+n))):C==0?(l.push(.5-g/2,f),l.push(.5,h),l.push(.5+g/2,f)):C==1&&(l.push(.5-g/2,f),l.push(.5+g/2,f),l.push(.5,v));let _=(b-2)*3;for(let C=0;C<_/3;C++)a.addGroup(d,3,p),d+=3}return a.setAttribute("position",new zr(o,3)),a.setAttribute("normal",new zr(s,3)),a.setAttribute("uv",new zr(l,2)),a.boundingSphere=new Cu(new K,r),a}chamfer_geom(t,e,r){for(var n=[],i=[],a=new Array(t.length),o=0;o<t.length;++o)a[o]=[];for(var o=0;o<e.length;++o){for(var s=e[o],l=s.length-1,c=new K,u=new Array(l),p=0;p<l;++p){var d=t[s[p]].clone();c.add(d),a[s[p]].push(u[p]=n.push(d)-1)}c.divideScalar(l);for(var p=0;p<l;++p){var d=n[u[p]];d.subVectors(d,c).multiplyScalar(r).addVectors(d,c)}u.push(s[l]),i.push(u)}for(var o=0;o<e.length-1;++o)for(var p=o+1;p<e.length;++p){for(var g=[],m=-1,h=0;h<e[o].length-1;++h){var f=e[p].indexOf(e[o][h]);f>=0&&f<e[p].length-1&&(m>=0&&h!=m+1?g.unshift([o,h],[p,f]):g.push([o,h],[p,f]),m=h)}g.length==4&&i.push([i[g[0][0]][g[0][1]],i[g[1][0]][g[1][1]],i[g[3][0]][g[3][1]],i[g[2][0]][g[2][1]],-1])}for(var o=0;o<a.length;++o){for(var v=a[o],u=[v[0]],y=v.length-1;y;){for(var h=e.length;h<i.length;++h){var x=i[h].indexOf(u[u.length-1]);if(x>=0&&x<4){--x==-1&&(x=3);var b=i[h][x];if(v.indexOf(b)>=0){u.push(b);break}}}--y}u.push(-1),i.push(u)}return{vectors:n,faces:i}}create_geom(t,e,r,n,i,a){for(var o=new Array(t.length),s=0;s<t.length;++s)o[s]=new K().fromArray(t[s]).normalize();var l=this.chamfer_geom(o,e,a);if(e.length!=10)var c=this.make_geom(l.vectors,l.faces,r,n,i);else var c=this.make_d10_geom(l.vectors,l.faces,r,n,i);return c.cannon_shape=this.create_shape(t,e,r),c.name="d"+e.length,c}};let RS=yc;Nz(RS,"dice",{});const Qm={cloudy:{name:"Clouds (Transparent)",composite:"destination-in",source:"textures/cloudy.webp",source_bump:"textures/cloudy.alt.webp"},cloudy_2:{name:"Clouds",composite:"multiply",source:"textures/cloudy.alt.webp",source_bump:"textures/cloudy.alt.webp"},fire:{name:"Fire",composite:"multiply",source:"textures/fire.webp",source_bump:"textures/fire.webp",material:"metal"},marble:{name:"Marble",composite:"multiply",source:"textures/marble.webp",source_bump:"",material:"glass"},water:{name:"Water",composite:"destination-in",source:"textures/water.webp",source_bump:"textures/water.webp",material:"glass"},ice:{name:"Ice",composite:"destination-in",source:"textures/ice.webp",source_bump:"textures/ice.webp",material:"glass"},paper:{name:"Paper",composite:"multiply",source:"textures/paper.webp",source_bump:"textures/paper-bump.webp",material:"wood"},speckles:{name:"Speckles",composite:"multiply",source:"textures/speckles.webp",source_bump:"textures/speckles.webp",material:"none"},glitter:{name:"Glitter",composite:"multiply",source:"textures/glitter.webp",source_bump:"textures/glitter-bump.webp",material:"none"},glitter_2:{name:"Glitter (Transparent)",composite:"destination-in",source:"textures/glitter-alpha.webp",source_bump:"",material:"none"},stars:{name:"Stars",composite:"multiply",source:"textures/stars.webp",source_bump:"textures/stars.webp",material:"none"},stainedglass:{name:"Stained Glass",composite:"multiply",source:"textures/stainedglass.webp",source_bump:"textures/stainedglass-bump.webp",material:"glass"},wood:{name:"Wood",composite:"multiply",source:"textures/wood.webp",source_bump:"textures/wood.webp",material:"wood"},metal:{name:"Stainless Steel",composite:"multiply",source:"textures/metal.webp",source_bump:"textures/metal-bump.webp",material:"metal"},skulls:{name:"Skulls",composite:"multiply",source:"textures/skulls.webp",source_bump:"textures/skulls.webp"},leopard:{name:"Leopard",composite:"multiply",source:"textures/leopard.webp",source_bump:"textures/leopard.webp",material:"wood"},tiger:{name:"Tiger",composite:"multiply",source:"textures/tiger.webp",source_bump:"textures/tiger.webp",material:"wood"},cheetah:{name:"Cheetah",composite:"multiply",source:"textures/cheetah.webp",source_bump:"textures/cheetah.webp",material:"wood"},dragon:{name:"Dragon",composite:"multiply",source:"textures/dragon.webp",source_bump:"textures/dragon-bump.webp",material:"none"},lizard:{name:"Lizard",composite:"multiply",source:"textures/lizard.webp",source_bump:"textures/lizard.webp",material:"none"},bird:{name:"Bird",composite:"multiply",source:"textures/feather.webp",source_bump:"textures/feather-bump.webp",material:"wood"},astral:{name:"Astral Sea",composite:"multiply",source:"textures/astral.webp",source_bump:"textures/stars.webp",material:"none"},acleaf:{name:"AC Leaf",composite:"multiply",source:"textures/acleaf.webp",source_bump:"textures/acleaf.webp",material:"none"},thecage:{name:"Nicholas Cage",composite:"multiply",source:"textures/thecage.webp",source_bump:"",material:"metal"},isabelle:{name:"Isabelle",composite:"source-over",source:"textures/isabelle.webp",source_bump:"",material:"none"},bronze01:{name:"bronze01",composite:"difference",source:"textures/bronze01.webp",source_bump:"",material:"metal"},bronze02:{name:"bronze02",composite:"difference",source:"textures/bronze02.webp",source_bump:"",material:"metal"},bronze03:{name:"bronze03",composite:"difference",source:"textures/bronze03.webp",source_bump:"",material:"metal"},bronze03a:{name:"bronze03a",composite:"difference",source:"textures/bronze03a.webp",source_bump:"",material:"metal"},bronze03b:{name:"bronze03b",composite:"difference",source:"textures/bronze03b.webp",source_bump:"",material:"metal"},bronze04:{name:"bronze04",composite:"difference",source:"textures/bronze04.webp",source_bump:"",material:"metal"},none:{name:"none",composite:"source-over",source:"",source_bump:"",material:""},"":{name:"~ Preset ~",composite:"source-over",source:"",source_bump:"",material:""}},b3={coin_default:{name:"Gold Coin",description:"Gold Dragonhead Coin",category:"Other",foreground:"#f6c928",background:"#f6c928",outline:"none",texture:"metal"},coin_silver:{name:"Silver Coin",description:"Gold Dragonhead Coin",category:"Other",foreground:"#f6c928",background:"#f6c928",outline:"none",texture:"metal"},radiant:{name:"Radiant",category:"Damage Types",foreground:"#F9B333",background:"#FFFFFF",outline:"",texture:"paper",description:"Radiant"},fire:{name:"Fire",category:"Damage Types",foreground:"#f8d84f",background:["#f8d84f","#f9b02d","#f43c04","#910200","#4c1009"],outline:"black",texture:"fire",description:"Fire"},ice:{name:"Ice",category:"Damage Types",foreground:"#60E9FF",background:["#214fa3","#3c6ac1","#253f70","#0b56e2","#09317a"],outline:"black",texture:"ice",description:"Ice"},poison:{name:"Poison",category:"Damage Types",foreground:"#D6A8FF",background:["#313866","#504099","#66409e","#934fc3","#c949fc"],outline:"black",texture:"cloudy",description:"Poison"},acid:{name:"Acid",category:"Damage Types",foreground:"#A9FF70",background:["#a6ff00","#83b625","#5ace04","#69f006","#b0f006","#93bc25"],outline:"black",texture:"marble",description:"Acid"},thunder:{name:"Thunder",category:"Damage Types",foreground:"#FFC500",background:"#7D7D7D",outline:"black",texture:"cloudy",description:"Thunder"},lightning:{name:"Lightning",category:"Damage Types",foreground:"#FFC500",background:["#f17105","#f3ca40","#eddea4","#df9a57","#dea54b"],outline:"#7D7D7D",texture:"ice",description:"Lightning"},air:{name:"Air",category:"Damage Types",foreground:"#ffffff",background:["#d0e5ea","#c3dee5","#a4ccd6","#8dafb7","#80a4ad"],outline:"black",texture:"cloudy",description:"Air"},water:{name:"Water",category:"Damage Types",foreground:"#60E9FF",background:["#87b8c4","#77a6b2","#6b98a3","#5b8691","#4b757f"],outline:"black",texture:"water",description:"Water"},earth:{name:"Earth",category:"Damage Types",foreground:"#6C9943",background:["#346804","#184200","#527f22","#3a1d04","#56341a","#331c17","#5a352a","#302210"],outline:"black",texture:"speckles",description:"Earth"},force:{name:"Force",category:"Damage Types",foreground:"white",background:["#FF97FF","#FF68FF","#C651C6"],outline:"#570000",texture:"stars",description:"Force"},psychic:{name:"Psychic",category:"Damage Types",foreground:"#D6A8FF",background:["#313866","#504099","#66409E","#934FC3","#C949FC","#313866"],outline:"black",texture:"speckles",description:"Psychic"},necrotic:{name:"Necrotic",category:"Damage Types",foreground:"#ffffff",background:"#6F0000",outline:"black",texture:"skulls",description:"Necrotic"},breebaby:{name:"Pastel Sunset",category:"Custom Sets",foreground:["#5E175E","#564A5E","#45455E","#3D5A5E","#1E595E","#5E3F3D","#5E1E29","#283C5E","#25295E"],background:["#FE89CF","#DFD4F2","#C2C2E8","#CCE7FA","#A1D9FC","#F3C3C2","#EB8993","#8EA1D2","#7477AD"],outline:"white",texture:"marble",description:"Pastel Sunset, for Breyanna"},pinkdreams:{name:"Pink Dreams",category:"Custom Sets",foreground:"white",background:["#ff007c","#df73ff","#f400a1","#df00ff","#ff33cc"],outline:"#570000",texture:"skulls",description:"Pink Dreams, for Ethan"},inspired:{name:"Inspired",category:"Custom Sets",foreground:"#FFD800",background:"#C4C4B6",outline:"#8E8E86",texture:"none",description:"Inspired, for Austin"},bloodmoon:{name:"Blood Moon",category:"Custom Sets",foreground:"#CDB800",background:"#6F0000",outline:"black",texture:"marble",description:"Blood Moon, for Jared"},starynight:{name:"Stary Night",category:"Custom Sets",foreground:"#4F708F",background:["#091636","#233660","#4F708F","#8597AD","#E2E2E2"],outline:"white",texture:"speckles",description:"Stary Night, for Mai"},glitterparty:{name:"Glitter Party",category:"Custom Sets",foreground:"white",background:["#FFB5F5","#7FC9FF","#A17FFF"],outline:"none",texture:"glitter",description:"Glitter Party, for Austin"},astralsea:{name:"Astral Sea",category:"Custom Sets",foreground:"#565656",background:"white",outline:"none",texture:"astral",description:"The Astral Sea, for Austin"},bronze:{name:"Thylean Bronze",description:"Thylean Bronze by @SpencerThayer",category:"Custom Sets",foreground:["#FF9159","#FFB066","#FFBF59","#FFD059"],background:["#705206","#7A4E06","#643100","#7A2D06"],outline:["#3D2D03","#472D04","#301700","#471A04"],edge:["#FF5D0D","#FF7B00","#FFA20D","#FFBA0D"],texture:["bronze01","bronze02","bronze03","bronze03a","bronze03b","bronze04"]},dragons:{name:"Here be Dragons",category:"Custom Sets",foreground:"#FFFFFF",background:["#B80000","#4D5A5A","#5BB8FF","#7E934E","#FFFFFF","#F6ED7C","#7797A3","#A78437","#862C1A","#FFDF8A"],outline:"black",texture:["dragon","lizard"],description:"Here be Dragons"},birdup:{name:"Bird Up",category:"Custom Sets",foreground:"#FFFFFF",background:["#F11602","#FFC000","#6EC832","#0094BC","#05608D","#FEABB3","#F75680","#F3F0DF","#C7A57F"],outline:"black",texture:"bird",description:"Bird Up!"},tigerking:{name:"Tiger King",category:"Other",foreground:"#ffffff",background:"#FFCC40",outline:"black",texture:["leopard","tiger","cheetah"],description:"Leopard Print"},covid:{name:"COViD",category:"Other",foreground:"#A9FF70",background:["#a6ff00","#83b625","#5ace04","#69f006","#b0f006","#93bc25"],outline:"black",texture:"fire",description:"Covid-19"},acleaf:{name:"Animal Crossing",category:"Other",foreground:"#00FF00",background:"#07540A",outline:"black",texture:"acleaf",description:"Animal Crossing Leaf"},isabelle:{name:"Isabelle",category:"Other",foreground:"white",background:"#FEE5CC",outline:"black",texture:"isabelle",description:"Isabelle"},thecage:{name:"Nicholas Cage",category:"Other",foreground:"#ffffff",background:"#ffffff",outline:"black",texture:"thecage",description:"Nicholas Cage"},test:{name:"Test",category:"Colors",foreground:["#00FF00","#0000FF","#FF0000"],background:["#FF0000","#00FF00","#0000FF"],outline:"black",texture:"none",description:"Test"},rainbow:{name:"Rainblow",category:"Colors",foreground:["#FF5959","#FFA74F","#FFFF56","#59FF59","#2374FF","#00FFFF","#FF59FF"],background:["#900000","#CE3900","#BCBC00","#00B500","#00008E","#008282","#A500A5"],outline:"black",texture:"none",description:"Rainblow"},black:{name:"Black",category:"Colors",foreground:"#ffffff",background:"#000000",outline:"black",texture:"none",description:"Black"},white:{name:"White",category:"Colors",foreground:"#000000",background:"#FFFFFF",outline:"#FFFFFF",texture:"none",description:"White"},swrpg_abi:{name:"Star Wars RPG - Ability",category:"Star Wars RPG",foreground:"#00FF00",background:["#3D9238","#52B848","#5EAC56","#9ECB9A"],outline:"#000000",texture:"cloudy_2",description:"Star Wars RPG Ability Dice"},swrpg_pro:{name:"Star Wars RPG - Proficiency",category:"Star Wars RPG",foreground:"#FFFF00",background:["#CABB1C","#F9E33B","#FFE900","#F0E49D"],outline:"#000000",texture:"paper",description:"Star Wars RPG Proficiency Dice"},swrpg_dif:{name:"Star Wars RPG - Difficulty",category:"Star Wars RPG",foreground:"#8000FC",background:["#39165F","#664B84","#50247E","#745F88"],outline:"#000000",texture:"cloudy_2",description:"Star Wars RPG Difficulty Dice"},swrpg_cha:{name:"Star Wars RPG - Challenge",category:"Star Wars RPG",foreground:"#FF0000",background:["#A91F32","#EB4254","#E51836","#BA3645"],outline:"#000000",texture:"paper",description:"Star Wars RPG Challenge Dice"},swrpg_boo:{name:"Star Wars RPG - Boost",category:"Star Wars RPG",foreground:"#00FFFF",background:["#4B9DC6","#689FC4","#85CFF2","#8FC0D8"],outline:"#000000",texture:"glitter",description:"Star Wars RPG Boost Dice"},swrpg_set:{name:"Star Wars RPG - Setback",category:"Star Wars RPG",foreground:"#111111",background:["#252223","#241F21","#282828","#111111"],outline:"#ffffff",texture:"glitter",description:"Star Wars RPG Setback Dice"},swrpg_for:{name:"Star Wars RPG - Force",category:"Star Wars RPG",foreground:"#000000",background:["#F3F3F3","#D3D3D3","#BABABA","#FFFFFF"],outline:"#FFFFFF",texture:"stars",description:"Star Wars RPG Force Dice"},swa_red:{name:"Armada Attack - Red",category:"Star Wars Armada",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"stainedglass",description:"Star Wars Armada Red Attack Dice"},swa_blue:{name:"Armada Attack - Blue",category:"Star Wars Armada",foreground:"#ffffff",background:["#212642","#28286E","#2B348C","#3D4BB5","#5D64AB"],outline:"none",texture:"stainedglass",description:"Star Wars Armada Blue Attack Dice"},swa_black:{name:"Armada Attack - Black",category:"Star Wars Armada",foreground:"#ffffff",background:["#252223","#241F21","#282828","#111111"],outline:"none",texture:"stainedglass",description:"Star Wars Armada Black Attack Dice"},xwing_red:{name:"X-Wing Attack - Red",category:"Star Wars X-Wing",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"stars",description:"Star Wars X-Wing Red Attack Dice"},xwing_green:{name:"X-Wing Attack - Green",category:"Star Wars X-Wing",foreground:"#ffffff",background:["#3D9238","#52B848","#5EAC56","#9ECB9A"],outline:"none",texture:"stars",description:"Star Wars X-Wing Green Attack Dice"},swl_atkred:{name:"Legion Attack - Red",category:"Star Wars Legion",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"fire",description:"Star Wars Legion Red Attack Dice"},swl_atkblack:{name:"Legion Attack - Black",category:"Star Wars Legion",foreground:"#ffffff",background:["#252223","#241F21","#282828","#111111"],outline:"none",texture:"fire",description:"Star Wars Legion Black Attack Dice"},swl_atkwhite:{name:"Legion Attack - White",category:"Star Wars Legion",foreground:"#000000",background:["#ffffff","#DFF4FA","#BCBCBC","#F1EDE2","#F2ECE0"],outline:"none",texture:"fire",description:"Star Wars Legion White Attack Dice"},swl_defred:{name:"Legion Defense - Red",category:"Star Wars Legion",foreground:"#ffffff",background:["#440D19","#8A1425","#C72336","#C04551"],outline:"none",texture:"fire",description:"Star Wars Legion Red Defense Dice"},swl_defwhite:{name:"Legion Defense - White",category:"Star Wars Legion",foreground:"#000000",background:["#ffffff","#DFF4FA","#BCBCBC","#F1EDE2","#F2ECE0"],outline:"none",texture:"fire",description:"Star Wars Legion White Defense Dice"}};class _H{constructor(e={}){this.colorsets=[],this.assetPath=e.assetPath}async ImageLoader(e){if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)e[r]=await this.ImageLoader(e[r]);return e}return e.source&&e.source!=""&&(e.texture=await this.loadImage(e.source)),e.source_bump&&e.source_bump!=""&&(e.bump=await this.loadImage(e.source_bump)),e}loadImage(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.crossOrigin="anonymous",i.src=this.assetPath+e,i.onerror=a=>n(a)}).catch(r=>{console.error("Unable to load image texture")})}async getColorSet(e){let r,n;if(typeof e=="string"&&(r=e),typeof e=="object"&&(r=e.colorset),this.colorsets.hasOwnProperty(r))return this.colorsets[r];let i=b3[r];return n=e.texture||i.texture,i.texture=this.getTexture(n),i.texture=await this.ImageLoader(i.texture),e.material&&(i.texture.material=e.material),this.colorsets[r]=i,i}async makeColorSet(e={}){if(this.colorsets.hasOwnProperty(e.name))return this.colorsets[e.name];let r=b3.white,n=Object.assign({},r,e),i=this.getTexture(n.texture);return n.texture=await this.ImageLoader(i),e.material&&(n.texture.material=e.material),n.name.toLowerCase()==="white"&&(n.name=`${Date.now()}`),this.colorsets[n.name]=n,n}getTexture(e){if(Array.isArray(e)){let r=[];for(let n=0,i=e.length;n<i;n++)r.push(this.getTexture(e[n]));return r}return Qm.hasOwnProperty(e)?Qm[e]:Qm.none}}const wH={default:{name:"Solid Color",author:"MajorVictory",showColorPicker:!0,surface:"wood_tray",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"blue-felt":{name:"Blue Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"red-felt":{name:"Red Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#ff9494",bg:"#4d1e1e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},"green-felt":{name:"Green Felt",author:"MajorVictory",showColorPicker:!0,surface:"felt",colors:{fg:"#97ff94",bg:"#244d1e"},cubeMap:["envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg","envmap.jpg"]},taverntable:{name:"Old Tavern Table",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},mahogany:{name:"(Mah-Hog-Any)",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},stainless:{name:"Stainless Steel",author:"MajorVictory",showColorPicker:!0,surface:"metal",colors:{fg:"#9794ff",bg:"#0b1a3e"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},cyberpunk:{name:"Neo-New-Future-City",author:"MajorVictory",showColorPicker:!0,surface:"metal",colors:{fg:"#3494A6",bg:"#440B28"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]},cagetown:{name:"Cage Town",author:"MajorVictory",showColorPicker:!0,surface:"wood_table",colors:{fg:"#D7A866",bg:"#282811"},cubeMap:["px.png","nx.png","py.png","ny.png","pz.png","nz.png"]}},SH=t=>{let e;return function(){let r=this,n=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(function(){t.apply(r,n)})}},CH={assetPath:"./",framerate:1/60,sounds:!1,volume:100,color_spotlight:15720405,shadows:!0,theme_surface:"green-felt",sound_dieMaterial:"plastic",theme_customColorset:null,theme_colorset:"white",theme_texture:"",theme_material:"glass",gravity_multiplier:400,light_intensity:.7,baseScale:100,strength:1,iterationLimit:1e3,onRollComplete:()=>{},onRerollComplete:()=>{},onAddDiceComplete:()=>{},onRemoveDiceComplete:()=>{}};class EH{constructor(e,r={}){this.initialized=!1,this.container=document.querySelector(e),this.dimensions=new Ct(this.container.clientWidth,this.container.clientHeight),this.adaptive_timestep=!1,this.last_time=0,this.running=!1,this.rolling=!1,this.threadid,this.display={currentWidth:null,currentHeight:null,containerWidth:null,containerHeight:null,aspect:null,scale:null},this.cameraHeight={max:null,close:null,medium:null,far:null},this.scene=new zU,this.world=new uH,this.dice_body_material=new Oo,this.sounds_table={},this.sounds_dice=[],this.lastSoundType="",this.lastSoundStep=0,this.lastSound=0,this.iteration,this.renderer,this.barrier,this.camera,this.light,this.light_amb,this.desk,this.box_body={},this.bodies=[],this.meshes=[],this.diceList=[],this.notationVectors=null,this.dieIndex=0,this.soundDelay=10,this.animstate="",this.selector={animate:!0,rotate:!0,intersected:null,dice:[]},Object.assign(this,CH,r),this.DiceColors=new _H({assetPath:this.assetPath}),this.DiceFactory=new RS({baseScale:this.baseScale}),this.DiceFactory.setBumpMapping(!0),this.surface=wH[this.theme_surface].surface}enableShadows(){this.shadows=!0,this.renderer&&(this.renderer.shadowMap.enabled=this.shadows),this.light&&(this.light.castShadow=this.shadows),this.desk&&(this.desk.receiveShadow=this.shadows)}disableShadows(){this.shadows=!1,this.renderer&&(this.renderer.shadowMap.enabled=this.shadows),this.light&&(this.light.castShadow=this.shadows),this.desk&&(this.desk.receiveShadow=this.shadows)}async initialize(){this.renderer=new yS({antialias:!0,alpha:!0}),this.container.appendChild(this.renderer.domElement),this.renderer.shadowMap.enabled=this.shadows,this.renderer.shadowMap.type=2,this.renderer.setClearColor(0,0),this.setDimensions(this.dimensions),this.world.gravity.set(0,0,-9.8*this.gravity_multiplier),this.world.broadphase=new _S,this.world.solver.iterations=14,this.world.allowSleep=!0,this.makeWorldBox(),this.resizeWorld(),await this.loadTheme({colorset:this.theme_colorset,texture:this.theme_texture,material:this.theme_material}).catch(e=>{throw new Error("Unable to load theme")}),this.sounds&&await this.loadSounds().catch(e=>{throw new Error("Unable to load sounds")}),this.initialized=!0,this.renderer.render(this.scene,this.camera)}makeWorldBox(){Object.keys(this.box_body).length&&(this.world.removeBody(this.box_body.desk),this.world.removeBody(this.box_body.topWall),this.world.removeBody(this.box_body.bottomWall),this.world.removeBody(this.box_body.leftWall),this.world.removeBody(this.box_body.rightWall));const e=new Oo,r=new Oo;this.world.addContactMaterial(new zo(e,this.dice_body_material,{mass:0,friction:.6,restitution:.5})),this.world.addContactMaterial(new zo(r,this.dice_body_material,{mass:0,friction:.6,restitution:1})),this.world.addContactMaterial(new zo(this.dice_body_material,this.dice_body_material,{mass:0,friction:.6,restitution:.5})),this.box_body.desk=new _e({allowSleep:!1,mass:0,shape:new ac,material:e}),this.world.addBody(this.box_body.desk),this.box_body.topWall=new _e({allowSleep:!1,mass:0,shape:new ac,material:r}),this.box_body.topWall.quaternion.setFromAxisAngle(new A(1,0,0),Math.PI/2),this.box_body.topWall.position.set(0,this.display.containerHeight*.93,0),this.world.addBody(this.box_body.topWall),this.box_body.bottomWall=new _e({allowSleep:!1,mass:0,shape:new ac,material:r}),this.box_body.bottomWall.quaternion.setFromAxisAngle(new A(1,0,0),-Math.PI/2),this.box_body.bottomWall.position.set(0,-this.display.containerHeight*.93,0),this.world.addBody(this.box_body.bottomWall),this.box_body.leftWall=new _e({allowSleep:!1,mass:0,shape:new ac,material:r}),this.box_body.leftWall.quaternion.setFromAxisAngle(new A(0,1,0),-Math.PI/2),this.box_body.leftWall.position.set(this.display.containerWidth*.93,0,0),this.world.addBody(this.box_body.leftWall),this.box_body.rightWall=new _e({allowSleep:!1,mass:0,shape:new ac,material:r}),this.box_body.rightWall.quaternion.setFromAxisAngle(new A(0,1,0),Math.PI/2),this.box_body.rightWall.position.set(-this.display.containerWidth*.93,0,0),this.world.addBody(this.box_body.rightWall)}async loadTheme(e){let r;this.theme_customColorset?r=await this.DiceColors.makeColorSet(this.theme_customColorset):r=await this.DiceColors.getColorSet(e),this.DiceFactory.applyColorSet(r),this.colorData=r}async loadSounds(){let e={felt:7,wood_table:7,wood_tray:7,metal:9},r={coin:6,metal:12,plastic:15,wood:12};const n=this.colorData.texture.material.match(/wood|metal/g);if(this.sound_dieMaterial=n?this.colorData.texture.material:"plastic",!this.sounds_table.hasOwnProperty(this.surface)){this.sounds_table[this.surface]=[];let i=e[this.surface];for(let a=1;a<=i;++a){const o=await this.loadAudio(this.assetPath+"sounds/surfaces/surface_"+this.surface+a+".mp3");this.sounds_table[this.surface].push(o)}}if(!this.sounds_dice.hasOwnProperty("coin")){this.sounds_dice.coin=[];let i=r.coin;for(let a=1;a<=i;++a){const o=await this.loadAudio(this.assetPath+"sounds/dicehit/dicehit_coin"+a+".mp3");this.sounds_dice.coin.push(o)}}if(!this.sounds_dice.hasOwnProperty(this.sound_dieMaterial)){this.sounds_dice[this.sound_dieMaterial]=[];let i=r[this.sound_dieMaterial];for(let a=1;a<=i;++a){const o=await this.loadAudio(this.assetPath+"sounds/dicehit/dicehit_"+this.sound_dieMaterial+a+".mp3");this.sounds_dice[this.sound_dieMaterial].push(o)}}}loadAudio(e){return new Promise((r,n)=>{let i=new Audio;i.oncanplaythrough=()=>r(i),i.crossOrigin="anonymous",i.src=e,i.onerror=a=>n(a)}).catch(r=>{console.error("Unable to load audio")})}async updateConfig(e={}){Object.apply(this,e),this.theme_customColorset=e.theme_customColorset?e.theme_customColorset:null,e.theme_colorset&&(this.theme_colorset=e.theme_colorset),e.theme_texture&&(this.theme_texture=e.theme_texture),e.theme_material&&(this.theme_material=e.theme_material),(e.theme_colorset||e.theme_texture||e.theme_material||e.theme_customColorset)&&await this.loadTheme({colorset:this.theme_colorset,texture:this.theme_texture,material:this.theme_material})}setDimensions(e){switch(this.display.currentWidth=this.container.clientWidth/2,this.display.currentHeight=this.container.clientHeight/2,e?(this.display.containerWidth=e.x,this.display.containerHeight=e.y):(this.display.containerWidth=this.display.currentWidth,this.display.containerHeight=this.display.currentHeight),this.display.aspect=Math.min(this.display.currentWidth/this.display.containerWidth,this.display.currentHeight/this.display.containerHeight),this.display.scale=Math.sqrt(this.display.containerWidth*this.display.containerWidth+this.display.containerHeight*this.display.containerHeight)/13,this.makeWorldBox(),this.renderer.setSize(this.display.currentWidth*2,this.display.currentHeight*2),this.cameraHeight.max=this.display.currentHeight/this.display.aspect/Math.tan(10*Math.PI/180),this.cameraHeight.medium=this.cameraHeight.max/1.5,this.cameraHeight.far=this.cameraHeight.max,this.cameraHeight.close=this.cameraHeight.max/2,this.camera&&this.scene.remove(this.camera),this.camera=new vn(20,this.display.currentWidth/this.display.currentHeight,1,this.cameraHeight.max*1.3),this.animstate){case"selector":this.camera.position.z=this.selector.dice.length>9?this.cameraHeight.far:this.selector.dice.length<6?this.cameraHeight.close:this.cameraHeight.medium;break;case"throw":case"afterthrow":default:this.camera.position.z=this.cameraHeight.far}this.camera.lookAt(new K(0,0,0));const r=Math.max(this.display.containerWidth,this.display.containerHeight);this.light&&this.scene.remove(this.light),this.light_amb&&this.scene.remove(this.light_amb),this.light=new VU(this.color_spotlight,this.light_intensity),this.light.position.set(-r/2,r/2,r*3),this.light.target.position.set(0,0,0),this.light.distance=r*5,this.light.angle=Math.PI/4,this.light.castShadow=this.shadows,this.light.shadow.camera.near=r/10,this.light.shadow.camera.far=r*5,this.light.shadow.camera.fov=50,this.light.shadow.bias=.001,this.light.shadow.mapSize.width=1024,this.light.shadow.mapSize.height=1024,this.scene.add(this.light),this.light_amb=new $U(16777147,6776689,this.light_intensity),this.scene.add(this.light_amb),this.desk&&this.scene.remove(this.desk);let n=new OU;n.opacity=.5,this.desk=new Ti(new Sf(this.display.containerWidth*6,this.display.containerHeight*6,1,1),n),this.desk.receiveShadow=this.shadows,this.scene.add(this.desk),this.renderer.render(this.scene,this.camera)}resizeWorld(){const e=SH(()=>{const r=this.renderer.domElement,n=this.container.clientWidth,i=this.container.clientHeight,a=r.width!==n||r.height!==i;return a&&this.setDimensions(new Ct(this.container.clientWidth,this.container.clientHeight)),a});window.addEventListener("resize",e)}vectorRand({x:e,y:r}){let n=Math.random()*Math.PI/5-Math.PI/5/2,i={x:e*Math.cos(n)-r*Math.sin(n),y:e*Math.sin(n)+r*Math.cos(n)};return i.x==0&&(i.x=.01),i.y==0&&(i.y=.01),i}getNotationVectors(e,r,n,i){let a=new x3(e);for(let o in a.set){const s=this.DiceFactory.get(a.set[o].type);let l=a.set[o].num,c=a.set[o].op,u=a.set[o].sid,p=a.set[o].gid,d=a.set[o].glvl,g=a.set[o].func,m=a.set[o].args;for(let h=0;h<l;h++){let f=this.vectorRand(r);f.x/=i,f.y/=i;let v={x:this.display.containerWidth*(f.x>0?-1:1)*.9,y:this.display.containerHeight*(f.y>0?-1:1)*.9,z:Math.random()*200+200},y=Math.abs(f.x/f.y);y>1?v.y/=y:v.x*=y;let x=this.vectorRand(r);x.x/=i,x.y/=i;let b,w,_;s.shape!="d2"?(b={x:x.x*n,y:x.y*n,z:-10},w={x:-(Math.random()*f.y*5+s.inertia*f.y),y:Math.random()*f.x*5+s.inertia*f.x,z:0},_={x:Math.random(),y:Math.random(),z:Math.random(),a:Math.random()}):(b={x:x.x*n/10,y:x.y*n/10,z:3e3},w={x:12*s.inertia,y:1*s.inertia,z:0},_={x:1,y:1,z:Math.random(),a:Math.random()}),a.vectors.push({index:this.dieIndex++,type:s.type,op:c,sid:u,gid:p,glvl:d,func:g,args:m,pos:v,velocity:b,angle:w,axis:_})}}return a}swapDiceFace(e,r){const n=this.DiceFactory.get(e.notation.type);if(e.resultReason="forced",n.shape=="d4"){this.swapDiceFace_D4(e,r);return}n.values;let i=parseInt(e.getLastValue().value);r=parseInt(r),e.notation.type=="d10"&&i==0&&(i=10),e.notation.type=="d100"&&i==0&&(i=100),e.notation.type=="d100"&&i>0&&i<10&&(i*=10),e.notation.type=="d10"&&r==0&&(r=10),e.notation.type=="d100"&&r==0&&(r=100),e.notation.type=="d100"&&r>0&&r<10&&(r*=10);let a=n.values.indexOf(i),o=n.values.indexOf(r);if(a<0||o<0||a==o)return;let s=e.geometry.clone(),l=[],c=[],u=2;n.shape=="d10"&&(u=1);let p,d=o+u;n.shape!="d2"?(p=a+u,d=o+u):(p=a+1,d=o+1);for(var g=0,m=s.groups.length;g<m;++g){const h=s.groups[g].materialIndex;if(h==p){l.push(g);continue}if(h==d){c.push(g);continue}}if(!(l.length<=0||c.length<=0)){for(let h=0,f=c.length;h<f;h++)s.groups[c[h]].materialIndex=p;for(let h=0,f=l.length;h<f;h++)s.groups[l[h]].materialIndex=d;e.geometry=s,e.result=[]}}swapDiceFace_D4(e,r){const n=this.DiceFactory.get(e.notation.type);let i=parseInt(e.getLastValue().value);if(r=parseInt(r),!(i>=1&&i<=4))return;let a=r-i,o=e.geometry.clone();for(let s=0,l=o.groups.length;s<l;++s){const c=o.groups[s];let u=c.materialIndex;if(u!=0){for(u+=a-1;u>4;)u-=4;for(;u<1;)u+=4;c.materialIndex=u+1}}a!=0&&(a<0&&(a+=4),e.material=this.DiceFactory.createMaterials(n,0,0,!1,a)),e.geometry=o}spawnDice(e,r=!1){const{pos:n,axis:i,angle:a,velocity:o}=e;let s;if(r)s=r,s.stopped=0,this.world.removeBody(s.body);else{if(s=this.DiceFactory.create(e.type,this.colorData),!s)return;s.notation=e,s.result=[],s.stopped=0,s.castShadow=this.shadows,this.scene.add(s),this.diceList.push(s)}s.body=new _e({allowSleep:!0,sleepSpeedLimit:75,sleepTimeLimit:.9,mass:s.mass,shape:s.geometry.cannon_shape,material:this.dice_body_material}),s.body.type=_e.DYNAMIC,s.body.position.set(n.x,n.y,n.z),s.body.quaternion.setFromAxisAngle(new A(i.x,i.y,i.z),i.a*Math.PI*2),s.body.angularVelocity.set(a.x,a.y,a.z),s.body.velocity.set(o.x,o.y,o.z),s.body.linearDamping=.1,s.body.angularDamping=.1,s.body.diceShape=s.shape,s.body.sleepState=0,s.body.addEventListener("collide",this.eventCollide.bind(this)),this.world.addBody(s.body)}eventCollide({body:e,target:r}){if(this.animstate=="simulate"||!this.sounds||!e||this.volume<=0)return;let n=Date.now(),i=e.mass>0?"dice":"table";if(!((this.lastSoundStep==e.world.stepnumber||this.lastSound>n)&&i!="dice")&&!((this.lastSoundStep==e.world.stepnumber||this.lastSound>n)&&i=="dice"&&this.lastSoundType=="dice")){if(e.mass>0){let a=e.velocity.length();if(a<250)return;let o;e.diceShape==="d2"?o=this.sounds_dice.coin[Math.floor(Math.random()*this.sounds_dice.coin.length)]:o=this.sounds_dice[this.sound_dieMaterial][Math.floor(Math.random()*this.sounds_dice[this.sound_dieMaterial].length)],o&&(o.volume=Math.min(a/8e3,this.volume/100),o.play().catch(s=>{})),this.lastSoundType="dice"}else{let a=r.velocity.length();if(a<250)return;let o=this.surface,s=this.sounds_table[o],l=s[Math.floor(Math.random()*s.length)];l&&(l.volume=Math.min(a/8e3,this.volume/100),l.play().catch(c=>{})),this.lastSoundType="table"}this.lastSoundStep=e.world.stepnumber,this.lastSound=n+this.soundDelay}}checkForRethrow(e){let r=e.notation.func?e.notation.func.toLowerCase():"",n,i=!1;if(r!=""&&n&&n.method){r=e.notation.func.toLowerCase();let a=e.notation.args||"";i=n.method(e,a)}return i}throwFinished(){const e=this.iteration>this.iterationLimit;for(let r=0,n=this.diceList.length;r<n;++r){const i=this.diceList[r],a=_e.SLEEPING;if(i.body.sleepState<a&&!e)return!1;if(i.body.sleepState==a||e){if(i.body.type===_e.KINEMATIC)continue;let o=!1;if(i.result.length==0?(i.storeRolledValue(i.resultReason),o=this.checkForRethrow(i)):i.result.length>0&&i.rerolling&&(i.rerolling=!1,i.storeRolledValue("reroll"),o=this.checkForRethrow(i)),o)return i.rerolls+=1,i.rerolling=!0,i.body.wakeUp(),i.body.type=_e.DYNAMIC,i.body.angularVelocity=new A(25,25,25),i.body.velocity=new A(0,0,3e3),!1;i.rerolling=!1,i.body.type=_e.KINEMATIC}}return!0}simulateThrow(){for(this.animstate="simulate",this.iteration=0,this.rolling=!0;!this.throwFinished(!0);)++this.iteration,this.world.step(this.framerate)}animateThrow(e,r){this.animstate="throw";let n=Date.now();this.last_time=this.last_time||n-this.framerate*1e3;let i=(n-this.last_time)/1e3;++this.iteration;let a=Math.floor(i/this.framerate);for(let o=0;o<a;o++)this.world.step(this.framerate),++this.steps;for(let o in this.scene.children){let s=this.scene.children[o];s.body!=null&&(s.position.copy(s.body.position),s.quaternion.copy(s.body.quaternion))}if(this.renderer.render(this.scene,this.camera),this.last_time=this.last_time+a*this.framerate*1e3,this.running==e&&this.throwFinished()){this.running=!1,this.rolling=!1,r&&r.call(this,this.notationVectors),this.running=Date.now(),this.animateAfterThrow(this.running);return}this.running==e&&((o,s,l,c,u)=>{!l&&i<this.framerate?setTimeout(()=>{requestAnimationFrame(()=>{o.call(this,s,c,u)})},(this.framerate-i)*1e3):requestAnimationFrame(()=>{o.call(this,s,c,u)})}).bind(this)(this.animateThrow,e,this.adaptive_timestep,r)}animateAfterThrow(e){this.animstate="afterthrow";let r=Date.now(),n=(r-this.last_time)/1e3;n>3&&(n=this.framerate),this.running=!1,this.last_time=r,this.renderer.render(this.scene,this.camera),this.running==e&&((i,a,o)=>{!o&&n<this.framerate?setTimeout(()=>{requestAnimationFrame(()=>{i.call(this,a)})},(this.framerate-n)*1e3):requestAnimationFrame(()=>{i.call(this,a)})}).bind(this)(this.animateAfterThrow,e,this.adaptive_timestep)}startClickThrow(e){this.rolling&&(this.clearDice(),this.rolling=!1);let r={x:(Math.random()*2-.5)*this.display.currentWidth,y:-(Math.random()*2-.5)*this.display.currentHeight},n=Math.sqrt(r.x*r.x+r.y*r.y)+100,i=(Math.random()+3)*n*this.strength;return this.getNotationVectors(e,r,i,n)}clearDice(){this.running=!1;let e;for(;e=this.diceList.pop();)this.scene.remove(e),e.body&&this.world.removeBody(e.body);this.renderer.render(this.scene,this.camera),setTimeout(()=>{this.renderer.render(this.scene,this.camera)},100)}getDiceResults(e){if(e!==void 0)return{type:this.diceList[e].shape,sides:parseInt(this.diceList[e].shape.substring(1)),id:e,...this.diceList[e].result.at(-1)};let r=0;const n=this.notationVectors.constant?parseInt(`${this.notationVectors.op}${this.notationVectors.constant}`):0;let i=n;return{notation:this.notationVectors.notation,sets:this.notationVectors.set.map(a=>{const o=r+a.num-1;let s=0;const l=[];for(let u=r;u<=o;u++){if(this.diceList[r].result.at(-1).reason==="remove"){r++;continue}l.push({type:a.type,sides:parseInt(a.type.substring(1)),id:r,...this.diceList[r].result.at(-1)}),s+=this.diceList[r].result.at(-1).value,r++}const c={num:a.num,type:a.type,sides:parseInt(a.type.substring(1)),rolls:l,total:s};return i+=s,c}),modifier:n,total:i}}async roll(e){if(this.notationVectors=this.startClickThrow(e),this.notationVectors)return new Promise((r,n)=>{this.rollDice(()=>{const i=this.getDiceResults();this.onRollComplete(i);const a=new CustomEvent("rollComplete",{detail:i});document.dispatchEvent(a),r(i)})})}async reroll(e){return this.rolling=!0,this.running=Date.now(),this.iteration=0,new Promise((r,n)=>{e.forEach(i=>{const a=this.diceList[i];a.rerolls+=1,a.rerolling=!0,a.body.wakeUp(),a.body.type=_e.DYNAMIC,a.body.angularVelocity=new A(25,25,25),a.body.velocity=new A(0,0,3e3)}),this.animateThrow(this.running,()=>{const i=e.map(o=>this.getDiceResults(o));this.onRerollComplete(i);const a=new CustomEvent("rerollComplete",{detail:i});document.dispatchEvent(a),r(i)})})}async add(e){let r=this.diceList.length;if(!r)return this.roll(e);let n=this.startClickThrow(e),i=[];for(let a=0,o=n.vectors.length;a<o;++a)this.spawnDice(n.vectors[a]);this.simulateThrow(),this.steps=0,this.iteration=0;for(let a=0,o=n.vectors.length;a<o;++a){const s=r+a;!this.diceList[s]||(this.spawnDice(n.vectors[a],this.diceList[s]),i.push(s))}if(n.result&&n.result.length>0)for(let a=0;a<n.result.length;a++){const o=r+a;let s=this.diceList[o];!s||s.getLastValue().value!=n.result[a]&&this.swapDiceFace(s,n.result[a])}return this.notationVectors=x3.mergeNotation(this.notationVectors,n),new Promise((a,o)=>{const s=()=>{const l=i.map(u=>this.getDiceResults(u));this.onAddDiceComplete(l);const c=new CustomEvent("addDiceComplete",{detail:l});document.dispatchEvent(c),a(l)};this.rolling=!0,this.running=Date.now(),this.last_time=0,this.animateThrow(this.running,s)})}async remove(e){return new Promise((r,n)=>{const i=[];e.forEach(o=>{const s=this.diceList[o];s.body&&this.world.removeBody(s.body),this.scene.remove(s),s.storeRolledValue("remove"),i.push(this.getDiceResults(o))}),this.renderer.render(this.scene,this.camera),this.onRemoveDiceComplete(i);const a=new CustomEvent("removeDiceComplete",{detail:i});document.dispatchEvent(a),r(i)})}rollDice(e){if(this.notationVectors.error){e.call(this);return}this.clearDice();for(let r=0,n=this.notationVectors.vectors.length;r<n;++r)this.spawnDice(this.notationVectors.vectors[r]);this.simulateThrow(),this.steps=0,this.iteration=0;for(let r=0,n=this.diceList.length;r<n;++r)!this.diceList[r]||this.spawnDice(this.notationVectors.vectors[r],this.diceList[r]);if(this.notationVectors.result&&this.notationVectors.result.length>0)for(let r=0;r<this.notationVectors.result.length;r++){let n=this.diceList[r];!n||n.getLastValue().value!=this.notationVectors.result[r]&&this.swapDiceFace(n,this.notationVectors.result[r])}this.rolling=!0,this.running=Date.now(),this.last_time=0,this.animateThrow(this.running,e)}}async function MH(t){const e=new EH(t,{theme_customColorset:{background:"#00ffcb",foreground:"#ffffff",texture:"marble",material:"metal"},light_intensity:1,gravity_multiplier:600,baseScale:100,strength:2,sounds:!0,onRollComplete:r=>{console.log("I've got results :>> ",r)}});return await e.initialize(),e}const _3=Array.from({length:20},(t,e)=>e+1),AH=()=>_3[Math.floor(Math.random()*_3.length)];function TH(t,e=1){t.roll(`${e}d20@${AH()}`)}const RH=({containerId:t})=>{const[e,r]=E.useState(),n=E.useCallback(async()=>{const a=await MH(t);r(a)},[t]);E.useEffect(()=>(e||n(),()=>{e&&e.clearDice()}),[e,n]);const i=E.useCallback(()=>{e&&TH(e)},[e]);return{box:e,rodar:i}},PH=["coin_default","coin_silver","radiant","fire","ice","poison","acid","thunder","lightning","air","water","earth","force","psychic","necrotic","breebaby","pinkdreams","inspired","bloodmoon","starynight","glitterparty","astralsea","bronze","dragons","birdup","tigerking","covid","isabelle","thecage","test","rainbow","black","white","swrpg_abi","swrpg_pro","swrpg_dif","swrpg_cha","swrpg_boo","swrpg_set","swrpg_for","swa_red","swa_blue","swa_black","xwing_red","xwing_green","swl_atkred","swl_atkblack","swl_atkwhite","swl_defred","swl_defwhite"],LH=({onRodar:t,box:e})=>{const[r,n]=E.useState("poison"),[i,a]=E.useState(!0),o=async l=>{const c=l.target.value;n(c),s(c)},s=E.useCallback(async l=>{a(!0),await e.updateConfig({theme_colorset:l}),a(!1)},[e]);return P.jsxs(Y1,{sx:{zIndex:40},children:[P.jsx(gf,{onClick:()=>{t()},color:"primary",disabled:i,children:"Jogar"}),P.jsx(_4,{displayEmpty:!0,inputProps:{"aria-label":"Without label"},labelId:"Temas",id:"temas",value:r,label:"Age",onChange:o,children:PH.map(l=>P.jsx(ZD,{value:l,children:l},l))})]})},kH={background:"#559955",position:"absolute",top:63,right:0,bottom:0,left:0,overflow:"hidden"},DH=()=>{const{box:t,rodar:e}=RH({containerId:"#box"});return P.jsx(gi,{children:P.jsxs(qr,{children:[!!t&&P.jsx(LH,{box:t,onRodar:e}),P.jsx(qr,{id:"box",style:kH})]})})},IH=()=>P.jsx("div",{children:P.jsx("p",{children:"Erro"})}),FH=()=>P.jsx(gi,{children:P.jsx("p",{children:"Ficha"})}),NH="/tagmar_pwa/assets/empty-gs4H6fV6.png",zH="/tagmar_pwa/assets/some-BVGN2feB.png";var mv={},OH=Nu;Object.defineProperty(mv,"__esModule",{value:!0});var PS=mv.default=void 0,BH=OH(zu()),jH=P;PS=mv.default=(0,BH.default)((0,jH.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite");const $H=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#717171"}),E.createElement("path",{d:"M17.7358 37.8992L15.1749 37.0456H13.8944H13.0408C13.0408 37.0456 11.9707 37.2416 11.3335 37.0456C10.9772 36.9359 10.7434 36.8823 10.4798 36.6187C10.2163 36.3552 10.1339 36.1289 10.053 35.7651C9.98069 35.4397 10.053 34.9114 10.053 34.9114C10.053 34.9114 9.93374 33.8601 10.053 33.2041C10.1473 32.6855 10.4798 31.9237 10.4798 31.9237L10.9067 31.07V28.5091C10.9067 28.5091 10.863 27.4671 10.9067 26.8018C10.973 25.7901 11.3335 24.2408 11.3335 24.2408C11.3335 24.2408 11.8108 22.4067 12.1871 21.2531C12.6288 19.8991 12.8593 19.1262 13.4676 17.8385C14.0416 16.6234 14.4206 15.9629 15.1749 14.8507C15.6427 14.1609 15.9706 13.8214 16.4554 13.1434C17.1545 12.1657 17.3896 11.5028 18.1627 10.5825C18.7691 9.86048 19.1278 9.45685 19.87 8.87518C20.343 8.50444 20.5616 8.1416 21.1504 8.02153C21.8238 7.88424 22.8577 8.44836 22.8577 8.44836C22.8577 8.44836 24.4774 9.40816 25.4187 10.1557C26.7109 11.1818 28.4064 13.1434 28.4064 13.1434C28.4064 13.1434 28.5119 13.6808 28.4064 13.9971C28.2573 14.4443 27.5528 14.8507 27.5528 14.8507L26.6991 15.7044L24.1382 14.4239H24.565V13.9971V13.1434H24.1382L23.7114 13.9971V14.8507L24.565 15.2775L25.8455 15.7044L26.6991 16.1312C26.6991 16.1312 27.2892 16.2945 27.5528 16.558C27.8163 16.8216 27.9796 17.4117 27.9796 17.4117C27.9796 17.4117 28.2642 18.281 27.9796 18.6921C27.6796 19.1255 26.6991 19.119 26.6991 19.119C26.6991 19.119 26.1709 19.1913 25.8455 19.119C25.4816 19.0381 24.9918 18.6921 24.9918 18.6921L23.7114 18.2653H22.8577C22.8577 18.2653 22.0597 18.1337 21.5773 18.2653C21.2177 18.3634 20.9872 18.4286 20.7236 18.6921C20.4601 18.9557 20.2968 19.5458 20.2968 19.5458C20.2968 19.5458 19.9642 20.3076 19.87 20.8262C19.7507 21.4822 19.87 21.8668 19.87 22.5335C19.87 23.2003 19.7507 23.5849 19.87 24.2408C19.9642 24.7594 20.2968 25.5213 20.2968 25.5213L20.7236 26.8018C20.7236 26.8018 21.1765 25.9692 21.5773 25.5213C22.133 24.9002 22.56 24.6527 23.2845 24.2408C24.0649 23.7972 25.4187 23.3872 25.4187 23.3872L27.126 22.9604C27.126 22.9604 28.4133 22.6072 29.2601 22.5335C29.9243 22.4758 30.3031 22.4758 30.9674 22.5335C31.8141 22.6072 33.1015 22.9604 33.1015 22.9604C33.1015 22.9604 34.1673 23.1405 34.8088 23.3872C35.7159 23.7361 36.1245 24.1433 36.9429 24.6677C37.4489 24.9919 37.7755 25.1206 38.2234 25.5213C38.8445 26.077 39.162 26.4685 39.5038 27.2286C39.8525 28.0037 39.9307 29.3627 39.9307 29.3627C39.9307 29.3627 40.0867 30.9358 39.9307 31.9237C39.7663 32.965 39.5839 33.5603 39.077 34.4846C38.6763 35.2154 38.3859 35.6026 37.7966 36.1919C36.4788 37.5097 33.5283 38.326 33.5283 38.326C33.5283 38.326 31.4738 38.9806 30.1137 39.1797C28.1346 39.4693 24.9918 39.1797 24.9918 39.1797L20.7236 38.7528L17.7358 37.8992Z",stroke:"white"}),E.createElement("path",{d:"M33.5283 31.9236C34.2156 31.2363 33.8659 30.0252 34.8088 29.7895C35.1322 29.7086 35.3643 29.6404 35.6625 29.7895C35.8733 29.8949 35.9723 30.0116 36.0893 30.2163C36.4591 30.8635 35.2356 31.9236 35.2356 31.9236C35.2356 31.9236 34.4867 32.7376 33.9552 33.2041C33.3287 33.7538 32.959 34.0499 32.2479 34.4845C31.6118 34.8732 31.2327 35.0613 30.5406 35.3382C30.0512 35.5339 29.7787 35.6707 29.2601 35.765C28.6041 35.8843 28.2147 35.8452 27.5528 35.765C26.8705 35.6823 26.5069 35.525 25.8455 35.3382C24.831 35.0516 24.214 34.9821 23.2846 34.4845C22.7547 34.2009 22.2041 34.1976 22.0041 33.6309C21.8931 33.3165 21.7684 33.013 22.0041 32.7772C22.2398 32.5415 22.8577 32.7772 22.8577 32.7772L24.565 33.6309C24.565 33.6309 25.8541 33.9672 26.6992 34.0577C27.6936 34.1642 28.2801 34.257 29.2601 34.0577C30.1397 33.8788 31.3942 33.2041 31.3942 33.2041C31.3942 33.2041 32.8411 32.6108 33.5283 31.9236Z",fill:"white",stroke:"white"})),UH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#FFCC4D"}),E.createElement("path",{d:"M31 39.0685H35L34.5 31.5685L36 32.5685V30.5685L35.5 25.5685V21.0685L34 22.5685V22.0685V17.5685L35 16.5685C35 16.5685 35.0311 15.9578 35 15.5685C34.9358 14.766 34.6953 14.3496 34.5 13.5685C34.3047 12.7875 34.3939 12.2707 34 11.5685C33.5947 10.846 32.5 10.0685 32.5 10.0685C32.5 10.0685 31.9229 9.42373 31.5 9.0685C30.9609 8.61568 30 8.0685 30 8.0685L29 7.5685V6.5685C29 6.5685 28.7485 5.92749 28.5 5.5685C28.1856 5.11442 27.5 4.5685 27.5 4.5685C27.5 4.5685 26.9212 4.18338 26.5 4.0685C25.9349 3.91437 25 4.0685 25 4.0685C25 4.0685 24.3875 4.02006 24 4.0685C23.3873 4.14509 22.999 4.20482 22.5 4.5685C21.931 4.98316 21.8038 5.43337 21.5 6.0685C21.2336 6.62555 21 7.5685 21 7.5685L19 8.5685L17.5 9.5685C17.5 9.5685 16.8144 10.1144 16.5 10.5685C16.2515 10.9275 16 11.5685 16 11.5685C16 11.5685 15.1894 12.7161 15 13.5685C14.8306 14.331 15 15.5685 15 15.5685V17.0685L16 18.0685V22.5685L14.5 21.0685L14 32.5685L15.5 31.5685L15 39.0685H19L18 31.0685H20.5V28.0685C20.5 28.0685 19.904 27.1451 19.5 26.5685C18.9397 25.769 18.4053 25.4567 18 24.5685C17.5069 23.488 17.5884 22.7529 17.5 21.5685C17.4273 20.5949 17.5 19.0685 17.5 19.0685C17.5 19.0685 17.262 17.8124 17.5 17.0685C17.7146 16.398 18.0022 16.0663 18.5 15.5685C18.9978 15.0707 19.337 14.8053 20 14.5685C20.9194 14.2401 21.5325 14.4378 22.5 14.5685C23.2978 14.6763 23.7008 14.9716 24.5 15.0685C25.2754 15.1625 25.7316 15.2082 26.5 15.0685C27.1075 14.958 27.3925 14.679 28 14.5685C28.7684 14.4288 30 14.5685 30 14.5685C30 14.5685 31.001 14.7048 31.5 15.0685C32.069 15.4832 32.5 16.5685 32.5 16.5685V19.5685C32.5 19.5685 32.6827 21.4113 32.5 22.5685C32.3074 23.7883 32.089 24.483 31.5 25.5685C30.9037 26.6674 29.5 28.0685 29.5 28.0685V31.0685H32V32.0685L31 39.0685Z",fill:"white",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M39 39.0684H35.5L34.5 32.0684L36 33.0684L37 33.5684L38.5 36.0684L39 39.0684Z",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M19 39.0684H30.5L32 31.5684H29L27.5 33.5684L25 38.0684L22.5 33.5684L20.5 31.0684H18L19 39.0684Z",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M11 39.0684H14.5L15 32.0684L12.5 33.5684L11.5 35.5684L11 39.0684Z",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M36 20.0684L34 22.0684V18.0684L34.5 17.5684C34.5 17.5684 35.0341 16.8649 35.5 16.5684C36.0209 16.2369 36.4325 16.3116 37 16.0684C37.4013 15.8964 38 15.5684 38 15.5684C38 15.5684 38.0484 16.1809 38 16.5684C37.9234 17.1811 37.7664 17.5113 37.5 18.0684C37.0788 18.9491 36 20.0684 36 20.0684Z",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M16.0001 18.0684V22.0684C16.0001 22.0684 14.7202 20.906 14.0001 20.0684C13.3637 19.328 12.5001 18.0684 12.5001 18.0684C12.5001 18.0684 12.115 17.4896 12.0001 17.0684C11.846 16.5032 12.0001 15.5684 12.0001 15.5684C12.0001 15.5684 12.9431 15.8019 13.5001 16.0684C14.1353 16.3721 15.0001 17.0684 15.0001 17.0684L16.0001 18.0684Z",stroke:"white",strokeWidth:.8})),qH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#74B564"}),E.createElement("path",{d:"M16.0358 35.5977V40.5977H34.0358V35.5977L31.5358 37.5977L29.5358 35.5977L27.0358 37.5977L25.0358 35.5977L22.5358 37.5977L20.5358 35.5977L18.5358 37.5977L16.0358 35.5977Z",fill:"white"}),E.createElement("path",{d:"M34 24C34 24 34.3305 23.218 34.5 23C34.7681 22.6554 35.0358 22.0977 35.0358 22.0977L35.5358 20.5977L36.0358 19.5977C36.0358 19.5977 36.543 18.947 36.3683 18.5977C36.2449 18.3507 36 18 36 18L35.0358 18.5977C35.0358 18.5977 34.4371 18.9257 34.0358 19.0977C33.4682 19.3409 32.5358 19.5977 32.5358 19.5977C32.5358 19.5977 32.3038 18.9423 32.0358 18.5977C31.7677 18.253 31.8544 17.2676 31.5 16.5C31.0908 15.6136 30 14.5 30 14.5C30 14.5 29.2225 13.4053 28.5 13C27.7978 12.6061 26.5 12.5 26.5 12.5L25.0358 12L24 11.5L22.5 12.5L20.0358 13L19 13.5L18.0358 15C17.8469 15.5879 17.5358 16.5 17.5358 16.5L17.0358 19.0977C16.9975 19.2891 17.0358 19.5977 17.0358 19.5977L16.0358 19.0977L15.0358 18.5977L14.0358 18.0977C14.0358 18.0977 14.0358 18.7071 14.0358 19.0977C14.0358 19.4882 13.9873 19.7101 14.0358 20.0977C14.1123 20.7104 14.5358 21.5977 14.5358 21.5977L15.0358 22.5977C15.0358 22.5977 15.227 23.2889 15.5358 23.5977C15.8445 23.9064 16.1035 24.0359 16.5358 24.0977C16.7291 24.1253 17.0358 24.0977 17.0358 24.0977L17.5358 25.0977L18.0358 26.0977C18.0358 26.0977 18.5829 27.0586 19.0358 27.5977C19.391 28.0205 20.0358 28.5977 20.0358 28.5977L21.0358 29.5977V30.5977V31.5977C21.0358 31.5977 20.1215 31.5977 19.5358 31.5977C18.7547 31.5977 18.3042 31.4579 17.5358 31.5977C16.9282 31.7081 16.6215 31.9024 16.0358 32.0977C15.45 32.2929 15.0719 32.2913 14.5358 32.5977C13.8165 33.0087 13.52 32.9528 13 33.5977C12.558 34.1457 12.1808 34.9087 12.0358 35.5977C11.9553 35.9798 12.0358 36.5977 12.0358 36.5977V38.5977V40.0977V40.5977H16.0358M16.0358 40.5977V35.5977L18.5358 37.5977L20.5358 35.5977L22.5358 37.5977L25.0358 35.5977L27.0358 37.5977L29.5358 35.5977L31.5358 37.5977L34.0358 35.5977V40.5977H16.0358Z",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M34 40.5977H37.5C37.5 40.5977 38.6668 36.901 37.5 35.0977C37.05 34.4021 37.0858 34.1834 36.5 33.5977C35.9142 33.0119 35.2193 32.5087 34.5 32.0977C33.6355 31.6037 32 31.5977 32 31.5977C32 31.5977 30.1867 31.1461 29 31.0977C28.6098 31.0817 28 31.0977 28 31.0977V29.0977C28 29.0977 28.9536 28.2203 29.5 27.5977C30.144 26.8638 30.4397 26.3972 31 25.5977C31.404 25.0211 32 24.0977 32 24.0977L32.5 23.5",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M18 30L20 28.5L18 27L17 24.5H16.5L15 23.5L13.9998 20.0977V24.0977C13.9998 24.0977 13.6566 27.6126 14.4998 29.5977L15.5 30.5C16.3284 31.0523 18 30 18 30Z",fill:"white",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M20.6711 7.60392C19.4514 7.90283 18.6792 7.94439 17.6193 8.61426L15.9975 10.5561L14.9987 12.0802C14.9987 12.0802 14.1179 13.3319 14.0589 13.6659C14 14 14.0589 16.1918 14.0589 16.1918V18.2125L16.497 19.1924L17.6193 15.1283L18.4947 13.0962L21.4913 12.0802L22.9896 11.5722L25.4867 11.6453L28.4833 13.0962L30.9804 15.1283L32.4787 19.1924L34.5 18.5C34.5 18.5 35 18.3083 35 17.5V17C35 17 34.6902 15.6412 34.4041 14.6763C34.1018 13.6572 33.3868 12.1504 33.3868 12.1504C33.3868 12.1504 32.317 10.4478 31.3523 9.62459C30.4738 8.87491 28.8092 8.10909 28.8092 8.10909C28.8092 8.10909 27.3178 7.2922 26.266 7.09875C25.2895 6.91914 24.7133 7.02534 23.7229 7.09875C22.518 7.18806 21.8441 7.31644 20.6711 7.60392Z",fill:"white"}),E.createElement("path",{d:"M34.9127 27.2255L34.4764 23.2566L33.4776 24.7806L32.4787 24.2726V24.7806L31.4799 25.7966L30 27.5L27.8809 29.8608L29 29.5C29 29.5 30.6854 29.6635 31.4799 29.8608C32.2744 30.0581 32.8671 30.0078 33.6666 29.8313C34.1002 29.7356 34.5 29 34.5 29C34.5 29 34.8287 28.4353 34.9127 28C34.9918 27.5899 34.9127 27.2255 34.9127 27.2255Z",fill:"white"}),E.createElement("path",{d:"M27.7919 29.8313L27.8809 29.8608M27.8809 29.8608L29 29.5C29 29.5 30.6854 29.6635 31.4799 29.8608C32.2744 30.0581 32.8671 30.0078 33.6666 29.8313C34.1002 29.7356 34.5 29 34.5 29C34.5 29 34.8287 28.4353 34.9127 28C34.9918 27.5899 34.9127 27.2255 34.9127 27.2255L34.4764 23.2566L33.4776 24.7806L32.4787 24.2726V24.7806L31.4799 25.7966L30 27.5L27.8809 29.8608ZM17.6193 8.61426C18.6792 7.94439 19.4514 7.90283 20.6711 7.60392C21.8441 7.31644 22.518 7.18806 23.7229 7.09875C24.7133 7.02534 25.2895 6.91914 26.266 7.09875C27.3178 7.2922 28.8092 8.10909 28.8092 8.10909C28.8092 8.10909 30.4738 8.87491 31.3523 9.62459C32.317 10.4478 33.3868 12.1504 33.3868 12.1504C33.3868 12.1504 34.1018 13.6572 34.4041 14.6763C34.6902 15.6412 35 17 35 17V17.5C35 18.3083 34.5 18.5 34.5 18.5L32.4787 19.1924L30.9804 15.1283L28.4833 13.0962L25.4867 11.6453L22.9896 11.5722L21.4913 12.0802L18.4947 13.0962L17.6193 15.1283L16.497 19.1924L14.0589 18.2125V16.1918C14.0589 16.1918 14 14 14.0589 13.6659C14.1179 13.3319 14.9987 12.0802 14.9987 12.0802L15.9975 10.5561L17.6193 8.61426Z",stroke:"white",strokeWidth:.8}),E.createElement("path",{d:"M33.9999 23.5977L34.5 23.5M32 23.5L32.9999 24.0977C32.9999 24.0977 33.3152 24.1608 33.4999 24.0977C33.7519 24.0116 34.5 23.5 34.5 23.5M34.5 23.5L34.4999 23.0977",stroke:"white",strokeWidth:.8})),VH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#0D6CF2"}),E.createElement("path",{d:"M14.1459 35.0845C13.1285 33.3179 12.6459 30.0845 12.6459 30.0845C12.6459 30.0845 12.0018 29.8374 11.6459 29.5845C10.7179 28.9248 10.1459 27.0845 10.1459 27.0845C10.1459 27.0845 9.81757 25.5039 10.1459 24.5845C10.3827 23.9215 10.5902 23.5167 11.1459 23.0845C11.4906 22.8164 11.71 22.5603 12.1459 22.5845C12.8489 22.6235 13.1459 24.0845 13.1459 24.0845L13.6459 22.5845C13.6459 22.5845 14.3103 20.7729 14.6459 19.5845C14.8648 18.8097 14.7617 18.292 15.1459 17.5845C15.7427 16.4858 16.547 16.1808 17.6459 15.5845C18.7314 14.9955 19.4449 14.872 20.6459 14.5845C22.1769 14.2179 23.0717 14.0845 24.6459 14.0845C26.2202 14.0845 27.1047 14.2636 28.6459 14.5845C30.0376 14.8742 31.0275 14.7071 32.1459 15.5845C32.9141 16.187 33.2435 16.6949 33.6459 17.5845C33.9778 18.318 33.9052 18.8162 34.1459 19.5845C34.4604 20.5879 35.1459 22.0845 35.1459 22.0845L35.6459 24.0845L36.1459 23.5845C36.1459 23.5845 36.2317 22.7225 36.6459 22.5845C37.0602 22.4464 37.3292 22.784 37.6459 23.0845C38.23 23.6386 38.0381 24.2866 38.1459 25.0845C38.2767 26.052 38.3827 26.6373 38.1459 27.5845C37.9341 28.4316 37.8445 29.0605 37.1459 29.5845C36.652 29.955 35.6459 30.0845 35.6459 30.0845C35.6459 30.0845 35.7122 31.0025 35.6459 31.5845C35.4776 33.062 34.9206 33.8151 34.1459 35.0845C33.3515 36.3862 32.7862 37.0717 31.6459 38.0845C30.5932 39.0195 29.9235 39.4925 28.6459 40.0845C27.3561 40.6821 26.562 40.9604 25.1459 41.0845C23.5777 41.2219 22.6535 41.0379 21.1459 40.5845C19.2208 40.0054 18.1611 39.4058 16.6459 38.0845C15.4966 37.0821 14.9071 36.406 14.1459 35.0845Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M11.1462 18.5846C11.2045 19.9641 11.6462 22.0846 11.6462 22.0846L13.1462 22.5846L13.6462 20.5846L14.6462 17.0846L18.1462 15.0846L22.6462 13.5846L28.1462 14.0846L32.6462 15.5846L34.6462 18.5846L35.6462 22.5846L37.1462 22.0846C37.1462 22.0846 37.2638 19.6422 37.1462 18.0846C37.0423 16.7078 37.0773 15.8963 36.6462 14.5846C35.9869 12.5781 35.183 11.5335 33.6462 10.0846C32.3059 8.82088 31.3765 8.21672 29.6462 7.58458C27.4377 6.77771 25.9966 7.01989 23.6462 7.08458C21.8787 7.13323 20.8375 7.0688 19.1462 7.58458C17.2233 8.171 16.1909 8.79791 14.6462 10.0846C13.263 11.2368 12.3765 11.9391 11.6462 13.5846C10.8502 15.3782 11.0634 16.624 11.1462 18.5846Z",fill:"white",stroke:"white",strokeLinecap:"round"})),HH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#7B61FF"}),E.createElement("path",{d:"M16.3564 39.2326C15.8482 38.6981 15.6226 38.2894 15.461 37.5698C15.3297 36.985 15.3889 36.63 15.461 36.0349C15.5354 35.4216 15.6272 35.0783 15.8447 34.5001C16.0414 33.9774 16.2345 33.7205 16.4843 33.221C16.734 32.7215 16.9757 32.4804 17.1238 31.9419C17.2438 31.5058 17.2468 31.243 17.2517 30.7907C17.2572 30.2888 17.1238 29.5117 17.1238 29.5117C17.1238 29.5117 17.1031 28.8875 17.1238 28.4884C17.1473 28.0367 17.3282 27.7831 17.2517 27.3372C17.1874 26.9623 17.0251 26.7884 16.868 26.4419C16.4251 25.4651 15.9438 25.0237 15.5889 24.0117C15.2518 23.0502 15.1686 22.4682 15.0773 21.4535C15.0012 20.6078 14.9504 20.1187 15.0773 19.2791C15.186 18.56 15.3189 18.1637 15.5889 17.4884C16.0471 16.3429 16.4356 15.7275 17.2517 14.8023C18.1705 13.7609 18.968 13.4786 20.0657 12.6279C21.4162 11.5813 22.1967 11.0237 23.5192 9.94187C24.534 9.1117 24.9884 8.49782 26.0773 7.76744C26.5611 7.44295 27.3564 7 27.3564 7C27.3564 7 28.343 7.38214 28.8913 7.76744C30.0602 8.58883 30.3684 9.46239 31.0657 10.7093C31.6996 11.8428 32.3448 13.7791 32.3448 13.7791L33.4959 17.4884C33.4959 17.4884 33.9324 19.2666 34.0076 20.4303C34.1274 22.2853 33.918 23.3524 33.4959 25.1628C33.1809 26.5142 32.8846 27.2591 32.3822 28.5223L32.3448 28.6163C31.8987 29.738 31.7109 30.4101 31.0657 31.4303C30.4777 32.36 30.0302 32.8049 29.275 33.6047C28.5714 34.3499 28.1475 34.7439 27.3564 35.3954C26.6392 35.9861 25.4378 36.8024 25.4378 36.8024C25.4378 36.8024 24.3665 37.598 23.775 38.2094C23.2814 38.7196 23.1673 39.1596 22.6238 39.6163C21.9397 40.1912 21.4587 40.4927 20.5773 40.6396C19.6296 40.7976 18.1471 40.2559 18.1471 40.2559C18.1471 40.2559 16.9114 39.8163 16.3564 39.2326Z",stroke:"white"}),E.createElement("path",{d:"M25.182 34.3723C25.182 34.3723 26.4286 33.6069 27.1006 32.9653C27.7946 32.3027 28.6355 31.0467 28.6355 31.0467C28.6355 31.0467 29.5909 29.6964 30.0424 28.7444C30.496 27.788 30.7119 27.2203 30.9378 26.1862C31.152 25.2054 31.1463 24.631 31.1936 23.6281C31.2359 22.73 31.2528 22.2229 31.1936 21.3258C31.1103 20.0638 30.9322 19.3677 30.682 18.1281C30.4686 17.0711 30.4218 16.4514 30.0424 15.442C29.7281 14.6056 29.5144 14.1393 29.0192 13.3955C28.6257 12.8046 27.868 11.9885 27.868 11.9885C27.868 11.9885 27.3886 12.2011 27.1006 12.3722C26.5506 12.699 26.3528 13.0392 25.8215 13.3955C25.209 13.8063 24.1587 14.2909 24.1587 14.2909L21.8564 15.442C21.8564 15.442 20.986 15.9683 20.4494 16.3374C19.832 16.7619 19.4146 16.9306 18.9145 17.4885C18.377 18.0884 18.1927 18.5323 17.8912 19.2792C17.5829 20.0432 17.3522 20.5024 17.3796 21.3258C17.4038 22.0526 17.6507 22.4301 17.8912 23.1165C18.0692 23.6242 18.1245 23.9352 18.4029 24.3955C18.7141 24.9102 19.4261 25.5467 19.4261 25.5467C19.4261 25.5467 20.2484 26.1552 20.8331 26.442C21.5422 26.7899 21 28.5 21 28.5",stroke:"white",strokeLinecap:"round"})),WH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#C1694F"}),E.createElement("path",{d:"M39.1509 17.8596C39.1509 17.8596 40.0268 15.6734 40.0656 14.2012C40.0702 14.0226 40.0908 13.9207 40.0656 13.7439C40.0091 13.3485 39.8534 13.1445 39.6082 12.8292C39.2129 12.321 38.8221 12.1819 38.2363 11.9146C37.5664 11.6089 37.089 11.7351 36.4071 11.4573C36.0373 11.3066 35.9498 11 35.4925 11H33.6632H31.3767H30.0047C29.5474 11 29.5474 12.3719 29.5474 12.3719C29.5474 12.3719 29.7026 14.0555 29.5474 15.1158C29.4408 15.8444 29.2535 16.227 29.0901 16.945C28.8881 17.833 29.0064 18.4011 28.6328 19.2316C28.2665 20.0459 27.2609 21.0608 27.2609 21.0608L25.889 22.4327C25.889 22.4327 25.0979 23.0695 24.517 23.3474C24.0076 23.591 23.1451 23.8047 23.1451 23.8047C23.1451 23.8047 22.0483 24.1862 21.3159 24.262C20.7829 24.3171 19.9439 24.262 19.9439 24.262H18.572H17.2001H16.7428C16.7428 24.262 16.1476 24.1022 15.8282 24.262C15.6023 24.3749 15.3709 24.7193 15.3709 24.7193L14.9135 25.6339H14.4562C14.4562 25.6339 14.1684 25.5774 13.9989 25.6339C13.6201 25.7602 13.5416 26.5485 13.5416 26.5485C13.5416 26.5485 13.2594 26.5135 13.0843 26.5485C12.589 26.6476 12.1697 27.4631 12.1697 27.4631L11.7124 28.3778C11.7124 28.3778 11.1464 28.3003 10.7978 28.3778C10.4079 28.4644 10.1227 28.5156 9.88314 28.8351C9.56168 29.2637 9.88314 30.207 9.88314 30.207C9.88314 30.207 9.28374 30.4191 8.96852 30.6643C8.46025 31.0596 8.18254 31.4053 8.05391 32.0362C7.9068 32.7577 8.06127 33.2826 8.51121 33.8655C8.99925 34.4977 9.56562 34.5864 10.3405 34.7801C11.2067 34.9967 12.627 34.7801 12.627 34.7801L13.9989 34.3228C13.9989 34.3228 14.8171 34.6693 15.3709 34.7801C16.2465 34.9552 16.7669 34.7136 17.6574 34.7801C18.7407 34.8609 19.3149 35.2374 20.4013 35.2374C21.4876 35.2374 23.1451 34.7801 23.1451 34.7801C23.1451 34.7801 25.036 33.773 26.3463 33.4082C27.3928 33.1168 28.0044 32.9158 29.0901 32.9509C30.0003 32.9802 31.3767 33.4082 31.3767 33.4082C31.3767 33.4082 33.0239 34.0522 34.1205 34.3228C35.1752 34.583 35.7995 34.9947 36.8644 34.7801C37.6473 34.6223 38.037 34.3201 38.6936 33.8655C39.5243 33.2904 40.0602 32.9343 40.5229 32.0362C40.9399 31.2267 40.9297 30.6589 40.9802 29.7497C41.0502 28.4888 40.9432 27.7394 40.5229 26.5485C40.257 25.7954 39.6082 24.7193 39.6082 24.7193C39.6082 24.7193 38.8646 23.4989 38.6936 22.6219C38.5428 21.8482 38.6936 20.6035 38.6936 20.6035L39.1509 17.8596Z",stroke:"white",strokeWidth:1.5}),E.createElement("path",{d:"M12.1701 30.2069H10.3408C10.3408 30.2069 11.2554 29.2921 11.7127 29.2922C12.1701 29.2923 12.6274 29.2922 12.6274 29.2922H14.4566C14.4566 29.2922 14.9139 29.497 14.9139 29.7495C14.9139 30.0021 14.4566 30.2069 14.4566 30.2069H13.542H12.1701Z",fill:"white",stroke:"white",strokeWidth:.5}),E.createElement("path",{d:"M14.4565 26.5483H15.8285H16.2858",stroke:"white",strokeWidth:.5,strokeLinecap:"round"}),E.createElement("path",{d:"M15.8281 25.6338H16.7427",stroke:"white",strokeWidth:.5,strokeLinecap:"round"}),E.createElement("path",{d:"M14.4562 28.3776H12.627C12.627 28.3776 13.1517 28.0069 13.5416 27.9203C13.8902 27.8428 14.4562 27.9203 14.4562 27.9203C14.4562 27.9203 15.2111 27.6008 15.3708 27.9203C15.4507 28.08 15.3708 28.3776 15.3708 28.3776H14.4562Z",fill:"white",stroke:"white",strokeWidth:.5})),GH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),E.createElement("path",{d:"M15.1706 27.9876C15.8469 28.1645 16.7718 28.7871 16.7718 28.7871L17.1721 29.1868V13.1978C17.1721 13.1978 17.5723 11.9992 18.373 11.9986C19.1737 11.998 36.3868 9.99961 37.1873 10C37.9878 10.0004 37.9879 11.1992 37.9879 11.1992V29.5865C37.9879 29.5865 38.1086 31.8697 37.5876 33.184C37.1727 34.2307 36.8907 34.9103 35.9864 35.5824C34.9522 36.3509 34.0709 36.3069 32.7839 36.3818C31.5257 36.455 30.7353 36.4886 29.5815 35.9821C28.4638 35.4914 27.8375 35.0106 27.1797 33.9835C26.647 33.1518 26.3728 32.5724 26.3791 31.5851C26.3867 30.3963 26.8848 29.7522 27.58 28.7871C28.0964 28.0702 28.4351 27.6622 29.1812 27.1882C30.2688 26.4971 31.0983 26.29 32.3836 26.3887C33.3694 26.4644 34.7855 27.1882 34.7855 27.1882V16.7953L20.3745 18.3942C20.3745 18.3942 20.6935 32.8667 20.3745 33.9835C20.0555 35.1003 19.4406 35.965 18.373 36.7816C17.3126 37.5926 16.5032 37.891 15.1706 37.9807C13.5422 38.0903 12.4891 37.7379 11.1675 36.7816C10.1789 36.0661 9.51759 35.5508 9.16601 34.3832C8.80309 33.178 9.07975 32.3464 9.56632 31.1854C10.1227 29.8578 10.6814 29.0358 11.9681 28.3873C13.0933 27.8203 13.9513 27.6687 15.1706 27.9876Z",fill:"white",stroke:"white",strokeLinecap:"round"})),ZH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),E.createElement("path",{d:"M34.1666 10L16.4443 27.7222L18.861 29.9192L20.8749 31.75L38.1943 14.4306V10H34.1666Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M15.639 25.7084C16.111 26.1532 16.0418 27.3195 16.0418 27.3195L20.8752 32.1528C20.8752 32.1528 22.3405 31.9705 22.8891 32.5556C23.5345 33.2441 23.5032 34.2557 22.8891 34.9723C22.1725 35.8083 20.7862 35.8083 20.0696 34.9723C19.6475 34.4799 19.6668 33.3612 19.6668 33.3612L14.8335 28.9306C14.8335 28.9306 13.6906 28.9765 13.2224 28.5278C12.541 27.8748 12.6165 26.8348 13.2224 26.1112C13.8366 25.3775 14.9428 25.0522 15.639 25.7084Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M13.2222 33.7639L15.6388 30.1389L18.4583 32.5556L14.8333 35.375L13.2222 33.7639Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M11.6113 33.3611L15.2363 36.9861",stroke:"white",strokeLinecap:"round"}),E.createElement("circle",{cx:12.4167,cy:36.1806,r:1.91667,fill:"white",stroke:"white"}),E.createElement("path",{d:"M33.3613 28.1251L30.9447 30.322L28.9308 32.1528M11.6113 10.4028H15.6391L24.5002 19.2639M11.6113 10.4028V14.8334L20.4724 23.6945M11.6113 10.4028L22.4863 21.6806",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M24.9028 28.125L28.9306 31.75",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M29.3335 23.2917L33.3613 27.7223",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M27.3193 26.1111L30.9443 29.7361",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M34.1666 26.1112C33.6946 26.556 33.7638 27.7223 33.7638 27.7223L28.9305 32.5557C28.9305 32.5557 27.4652 32.3733 26.9166 32.9584C26.2711 33.6469 26.3024 34.6585 26.9166 35.3751C27.6332 36.2111 29.0195 36.2111 29.7361 35.3751C30.1581 34.8827 30.1388 33.764 30.1388 33.764L34.9722 29.3334C34.9722 29.3334 36.115 29.3794 36.5833 28.9307C37.2647 28.2777 37.1891 27.2376 36.5833 26.514C35.9691 25.7804 34.8629 25.455 34.1666 26.1112Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M36.5835 34.1667L34.1668 30.5417L31.3474 32.9584L34.9724 35.7779L36.5835 34.1667Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M38.1943 33.7639L34.5693 37.3889",stroke:"white",strokeLinecap:"round"}),E.createElement("circle",{cx:2.41667,cy:2.41667,r:1.91667,transform:"matrix(-1 0 0 1 39.8057 34.1667)",fill:"white",stroke:"white"}),E.createElement("path",{d:"M37.7919 10.4028L18.8613 29.3334",stroke:"white",strokeLinecap:"round"})),XH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),E.createElement("path",{d:"M13.2139 23.9795L20.0975 14.3425H29.2755C29.2755 14.3425 31.2485 16.8481 32.4879 18.4727C33.5749 19.8975 34.3696 20.5781 35.2413 22.1439C35.9052 23.3364 36.1878 24.061 36.618 25.3562C37.1388 26.9243 37.5358 29.4864 37.5358 29.4864C37.5358 29.4864 38.1276 30.016 38.4536 30.4042C38.8692 30.8989 39.1541 31.1724 39.3714 31.7809C39.6728 32.6247 39.5922 33.207 39.3714 34.0754C39.1139 35.0882 38.7062 35.6045 37.9947 36.3699C37.3847 37.0262 36.7566 37.0789 36.1591 37.7466C35.7282 38.2282 35.6847 38.6533 35.2413 39.1234C34.5243 39.8835 32.9468 40.5001 32.9468 40.5001H16.4262C16.4262 40.5001 14.8424 40.2352 14.1317 39.5823C13.6559 39.1451 13.6125 38.7141 13.2139 38.2055C12.5885 37.4076 11.8425 37.2712 11.3783 36.3699C10.9598 35.5576 10.8759 34.9882 10.9194 34.0754C10.9545 33.3373 11.3783 32.2398 11.3783 32.2398L10.4605 30.4042C10.4605 30.4042 10.0185 29.3073 10.0016 28.5686C9.97561 27.4354 10.2728 26.746 10.9194 25.8151C11.574 24.8727 13.2139 23.9795 13.2139 23.9795Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M19.965 13.8835C19.965 13.8835 19.1792 13.3664 19.1792 12.9657C19.1792 12.5649 19.965 12.0479 19.965 12.0479H29.2737C29.2737 12.0479 30.154 12.4603 30.1929 12.9657C30.2236 13.3652 29.2751 13.8835 29.2751 13.8835H19.965Z",fill:"white",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M18.2617 9.29452C18.4505 10.3223 19.6384 11.589 19.6384 11.589H29.2754C29.2754 11.589 30.1952 11.1281 30.6521 10.6712C31.109 10.2143 31.5699 9.94068 31.5699 9.29452C31.5699 8.64836 31.1743 8.29839 30.6521 7.91781C30.1941 7.58402 29.8392 7.4017 29.2754 7.4589C28.6326 7.52412 28.5431 8.42387 27.8987 8.37671C27.499 8.34747 27.3492 8.07566 26.9809 7.91781C26.46 7.69457 26.1599 7.57005 25.6042 7.4589C24.7255 7.28317 24.1535 7.15752 23.3097 7.4589C22.7011 7.67623 22.5774 8.42387 21.933 8.37671C21.5333 8.34747 21.3646 8.11387 21.0151 7.91781C20.4516 7.60167 20.2846 7 19.6384 7C18.9923 7 18.5383 7.33385 18.2617 7.91781C18.0316 8.40369 18.1646 8.76573 18.2617 9.29452Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M29.2741 21.2261C29.5753 21.7061 29.8899 22.0582 29.733 22.6028C29.5541 23.2237 29.0001 23.4648 28.3563 23.5206C27.4636 23.5979 27.3371 22.5132 26.5207 22.1439C25.8475 21.8393 25.4207 21.6154 24.6851 21.685C23.8872 21.7605 23.3303 21.9616 22.8495 22.6028C22.5094 23.0562 22.3224 23.4169 22.3906 23.9795C22.5163 25.0169 23.759 24.8721 24.6851 25.3562C25.8946 25.9885 27.8974 26.7329 27.8974 26.7329C27.8974 26.7329 29.7568 27.5067 30.1919 28.5685C30.5317 29.3977 30.4518 30.0055 30.1919 30.8631C29.8591 31.9613 29.2932 32.495 28.3563 33.1576C27.5683 33.7148 26.0618 34.0754 26.0618 34.0754C26.0618 34.0754 26.4174 35.2886 26.0618 35.911C25.7412 36.472 25.3312 36.8288 24.6851 36.8288C24.0389 36.8288 23.629 36.472 23.3084 35.911C22.9527 35.2886 23.3084 34.0754 23.3084 34.0754C23.3084 34.0754 22.7471 34.112 22.3906 34.0754C21.4305 33.9769 20.096 33.1576 20.096 33.1576C20.096 33.1576 18.8269 32.5336 18.7193 31.7809C18.6392 31.2199 18.7182 30.7351 19.1782 30.4042C19.7781 29.9727 20.4914 30.3405 21.0138 30.8631C21.4727 31.322 22.0084 31.9308 22.8495 32.2398C23.8588 32.6106 24.5655 32.5227 25.6029 32.2398C26.3761 32.0289 26.9576 31.9631 27.4385 31.322C27.7785 30.8686 28.1509 30.4521 27.8974 29.9453C27.4384 29.0275 26.5206 29.0275 25.6029 28.5685C24.3106 27.9223 22.3906 26.7329 22.3906 26.7329C22.3906 26.7329 20.6437 25.9057 20.096 24.8973C19.7434 24.248 19.5575 23.7963 19.6371 23.0617C19.7608 21.9209 20.5529 21.4533 21.4727 20.7672C22.1152 20.288 23.3084 19.8494 23.3084 19.8494C23.3084 19.8494 22.9527 18.6362 23.3084 18.0138C23.629 17.4527 24.0389 17.0959 24.6851 17.0959C25.3312 17.0959 25.7412 17.4527 26.0618 18.0138C26.4174 18.6362 26.0618 19.8494 26.0618 19.8494C26.0618 19.8494 28.5487 20.07 29.2741 21.2261Z",fill:"white",stroke:"white",strokeLinecap:"round"})),YH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),E.createElement("path",{d:"M27.2792 9C25.8598 9 23.4942 20.355 23.4942 20.355C23.4942 20.355 13.0854 23.1937 13.0854 24.14C13.0854 25.0862 23.4942 28.3981 23.4942 28.3981C23.4954 28.4034 26.3332 40.6994 27.2792 40.6994C28.2254 40.6994 31.5373 28.3981 31.5373 28.3981C31.5373 28.3981 40.9998 25.5594 40.9998 24.6131C40.9998 23.6669 31.5373 20.355 31.5373 20.355C31.5373 20.355 28.6986 9 27.2792 9Z",fill:"white",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M12.6128 9.47314C12.1397 9.47312 11.1934 12.785 11.1934 12.785C11.1934 12.785 8.82776 13.2581 8.35469 13.7313C7.88161 14.2044 7.88193 14.6775 8.35469 15.1506C8.82745 15.6238 11.1934 16.0969 11.1934 16.0969L12.6128 18.9356C12.6128 18.9356 13.0862 19.8819 13.5591 18.9356C14.0319 17.9894 14.5053 16.0969 14.5053 16.0969C14.5053 16.0969 16.8709 15.1506 17.3441 14.6775C17.8172 14.2044 17.8172 14.2044 17.3441 13.7313C16.8709 13.2581 14.5053 12.785 14.5053 12.785C14.5053 12.785 13.5591 9.47308 13.0859 9.47314H12.6128Z",fill:"white",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M16.8702 28.8713C16.3971 28.8713 15.3324 32.6563 15.3324 32.6563C15.3324 32.6563 12.7697 33.6026 12.2966 34.0757C11.8235 34.5488 11.8239 34.366 12.2967 34.8391C12.7694 35.3123 15.3324 35.9682 15.3324 35.9682L16.3971 40.2263C16.3971 40.2263 16.8705 41.1726 17.3433 40.2263C17.8161 39.2801 18.6443 35.9682 18.6443 35.9682C18.6443 35.9682 21.0099 35.3123 21.483 34.8391C21.9561 34.366 22.0746 34.5488 21.6014 34.0757C21.1283 33.6026 18.6443 32.6563 18.6443 32.6563C18.6443 32.6563 17.3433 28.8713 16.8702 28.8713Z",fill:"white"}),E.createElement("path",{d:"M16.8702 28.8713C16.3971 28.8713 15.3324 32.6563 15.3324 32.6563C15.3324 32.6563 12.7697 33.6026 12.2966 34.0757C11.8235 34.5488 11.8239 34.366 12.2967 34.8391C12.7694 35.3123 15.3324 35.9682 15.3324 35.9682L16.3971 40.2263C16.3971 40.2263 16.8705 41.1726 17.3433 40.2263C17.8161 39.2801 18.6443 35.9682 18.6443 35.9682C18.6443 35.9682 21.0099 35.3123 21.483 34.8391C21.9561 34.366 22.0746 34.5488 21.6014 34.0757C21.1283 33.6026 18.6443 32.6563 18.6443 32.6563C18.6443 32.6563 17.3433 28.8713 16.8702 28.8713ZM16.8702 28.8713C17.3433 28.8714 16.3971 28.8714 16.8702 28.8713Z",stroke:"white",strokeLinecap:"round"})),KH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),E.createElement("mask",{id:"path-2-inside-1_313_4698",fill:"white"},E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2323 31.4647C27.4358 31.4647 32.4647 26.4358 32.4647 20.2323C32.4647 14.0289 27.4358 9 21.2323 9C15.0289 9 10 14.0289 10 20.2323C10 26.4358 15.0289 31.4647 21.2323 31.4647ZM21.2324 28.1366C25.5978 28.1366 29.1366 24.5978 29.1366 20.2324C29.1366 15.867 25.5978 12.3281 21.2324 12.3281C16.867 12.3281 13.3281 15.867 13.3281 20.2324C13.3281 24.5978 16.867 28.1366 21.2324 28.1366Z"})),E.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2323 31.4647C27.4358 31.4647 32.4647 26.4358 32.4647 20.2323C32.4647 14.0289 27.4358 9 21.2323 9C15.0289 9 10 14.0289 10 20.2323C10 26.4358 15.0289 31.4647 21.2323 31.4647ZM21.2324 28.1366C25.5978 28.1366 29.1366 24.5978 29.1366 20.2324C29.1366 15.867 25.5978 12.3281 21.2324 12.3281C16.867 12.3281 13.3281 15.867 13.3281 20.2324C13.3281 24.5978 16.867 28.1366 21.2324 28.1366Z",fill:"white"}),E.createElement("path",{d:"M31.4647 20.2323C31.4647 25.8835 26.8835 30.4647 21.2323 30.4647V32.4647C27.9881 32.4647 33.4647 26.9881 33.4647 20.2323H31.4647ZM21.2323 10C26.8835 10 31.4647 14.5812 31.4647 20.2323H33.4647C33.4647 13.4766 27.9881 8 21.2323 8V10ZM11 20.2323C11 14.5812 15.5812 10 21.2323 10V8C14.4766 8 9 13.4766 9 20.2323H11ZM21.2323 30.4647C15.5812 30.4647 11 25.8835 11 20.2323H9C9 26.9881 14.4766 32.4647 21.2323 32.4647V30.4647ZM28.1366 20.2324C28.1366 24.0455 25.0455 27.1366 21.2324 27.1366V29.1366C26.15 29.1366 30.1366 25.15 30.1366 20.2324H28.1366ZM21.2324 13.3281C25.0455 13.3281 28.1366 16.4193 28.1366 20.2324H30.1366C30.1366 15.3147 26.15 11.3281 21.2324 11.3281V13.3281ZM14.3281 20.2324C14.3281 16.4193 17.4193 13.3281 21.2324 13.3281V11.3281C16.3147 11.3281 12.3281 15.3147 12.3281 20.2324H14.3281ZM21.2324 27.1366C17.4193 27.1366 14.3281 24.0455 14.3281 20.2324H12.3281C12.3281 25.15 16.3147 29.1366 21.2324 29.1366V27.1366Z",fill:"white",mask:"url(#path-2-inside-1_313_4698)"}),E.createElement("path",{d:"M29.1367 30.6325L27.8887 29.3845L30.3847 26.8884L31.6328 28.1365L29.1367 30.6325Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M28.7205 32.2966C28.7205 32.2966 28.3045 31.4646 28.7205 31.0486L32.0486 27.7204C32.0486 27.7204 32.8808 27.3042 33.2967 27.7203C33.7127 28.1364 39.1209 33.5445 39.1209 33.5445C39.1209 33.5445 39.8403 34.4907 39.9529 35.2085C40.0813 36.0269 39.9479 36.5693 39.5369 37.2886C39.1949 37.887 38.8873 38.1946 38.2889 38.5366C37.5696 38.9476 37.0272 39.081 36.2088 38.9526C35.491 38.84 34.5448 38.1206 34.5448 38.1206L28.7205 32.2966Z",stroke:"white",strokeLinecap:"round"})),QH=t=>E.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("path",{d:"M49 24C49 37.2548 38.031 48 24.5 48C10.969 48 0 37.2548 0 24C0 10.7452 10.969 0 24.5 0C38.031 0 49 10.7452 49 24Z",fill:"#496AD0"}),E.createElement("path",{d:"M33.146 33.5406C32.5627 34.4474 31.4213 35.6966 31.4213 35.6966L27.9718 33.1094C27.9718 33.1094 27.1489 32.9274 26.6783 32.6783C25.8364 32.2326 25.2578 31.6892 24.9537 30.7151C24.7305 30.0003 24.9537 28.7976 24.9537 28.7976V21.2291V13.8989C24.9537 13.8989 24.8364 11.8312 24.9537 11.3118C25.071 10.7924 25.0849 10.202 25.4615 9.82544C25.838 9.44891 26.5823 9.31895 27.1094 9.39425C27.4822 9.4475 27.7056 9.55919 27.9718 9.82544C28.3483 10.202 28.403 11.119 28.403 11.119L28.8342 15.4308L29.6966 18.8803L30.1277 20.6051L30.5589 23.1922V24.4857L35.302 28.7976C35.302 28.7976 34.8073 30.1246 34.4396 30.9535C33.9815 31.9861 33.7572 32.5906 33.146 33.5406Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M13.7432 28.7975L18.4862 24.4856C18.4862 24.4856 18.3286 22.8965 18.4862 21.8985C18.6523 20.8465 19.3486 19.3114 19.3486 19.3114L19.7798 16.7243L20.2109 11.9812C20.2109 11.9812 20.2694 10.8422 20.6421 10.2565C20.8978 9.85468 21.0667 9.58173 21.5045 9.39412C21.9688 9.19512 22.3337 9.19512 22.7981 9.39412C23.2358 9.58173 23.4291 9.84015 23.6604 10.2565C24.0693 10.9925 24.0916 11.3322 24.0916 12.1741C24.0916 18.6655 24.0916 28.7975 24.0916 28.7975C24.0916 28.7975 23.9978 29.3785 24.0916 29.6598C24.1981 29.9793 24.1323 29.2001 24.0629 29.5296C23.9378 30.1237 23.2292 31.8158 23.2292 31.8158C23.2292 31.8158 22.6134 32.8834 21.9357 33.1093C21.4564 33.2691 20.6421 33.1093 20.6421 33.1093L17.6238 35.6964C17.6238 35.6964 16.16 34.5094 15.4679 33.5405C14.8113 32.6213 14.5214 32.0283 14.1743 30.9534C13.9106 30.1363 13.7432 28.7975 13.7432 28.7975Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M20.6421 8.53199C20.5092 9.01936 20.6421 9.82555 20.6421 9.82555L21.5045 8.96318H22.798L24.0916 10.2567V19.5044V28.7977L24.5227 29.2289L24.9539 28.7977V20.3667V10.2567L25.385 9.82544L26.6787 8.96318L27.9722 9.39436C27.9722 9.39436 28.0416 8.86154 27.9722 8.53199C27.8472 7.93788 27.6585 7.49834 27.1099 7.23843C26.6533 7.02218 26.2806 7.03944 25.8163 7.23843C25.3785 7.42605 25.2096 7.69899 24.9539 8.1008C24.6681 8.55005 24.5227 9.39436 24.5227 9.39436L24.0916 8.1008C24.0916 8.1008 23.6552 7.45143 23.2292 7.23843C22.6267 6.93721 22.0893 6.90426 21.5045 7.23843C20.9773 7.53966 20.8018 7.94625 20.6421 8.53199Z",fill:"white",stroke:"white",strokeWidth:.8,strokeLinecap:"round"}),E.createElement("path",{d:"M9 38.2836V29.6599L12.0183 27.0728C12.0183 27.0728 12.7261 26.3701 13.3119 26.2104C13.7992 26.0775 14.1411 26.0114 14.6054 26.2104C15.0432 26.398 15.4678 27.0728 15.4678 27.0728L13.743 28.7975C13.743 28.7975 13.9104 30.1363 14.1742 30.9534C14.5213 32.0284 14.8579 32.5898 15.4678 33.5405C16.1779 34.6475 17.6237 36.1277 17.6237 36.1277L20.2108 33.9717C20.2108 33.9717 20.2628 34.7628 20.2108 35.2653C20.1394 35.9559 20.0679 36.3584 19.7796 36.99C19.5276 37.5424 18.9173 38.2836 18.9173 38.2836H9Z",stroke:"white",strokeLinecap:"round"}),E.createElement("path",{d:"M40.1565 29.7057V38.3294H31.9639H30.2392C30.2392 38.3294 29.211 37.6991 28.9457 37.0358C28.6955 36.4104 28.9457 35.3111 28.9457 35.3111V34.0175L31.5328 35.7423L32.8263 34.4487C33.3315 33.9436 33.6404 33.1496 34.1199 32.2928C34.8553 30.9784 35.8446 28.8433 35.8446 28.8433L33.6887 26.6874C33.6887 26.6874 34.1835 26.3379 34.5511 26.2562C34.8798 26.1831 35.08 26.2086 35.4134 26.2562C36.1589 26.3627 37.1382 27.1186 37.1382 27.1186L40.1565 29.7057Z",stroke:"white",strokeLinecap:"round"})),JH=t=>{switch(t){case jn.ANAO:return $H;case jn.ELFO_DOURADO:return UH;case jn.ELFO_FLORESTAL:return qH;case jn.HUMANO:return VH;case jn.MEIO_ELFO:return HH;case jn.PEQUENINO:return WH}},eW=t=>{switch(t){case Ei.BARDO:return GH;case Ei.GUERREIRO:return ZH;case Ei.LADINO:return XH;case Ei.MAGO:return YH;case Ei.RASTREADOR:return KH;case Ei.SACERDOTE:return QH}},w3=t=>Object.values(jn).includes(t)?JH(t):eW(t),tW=({ficha:t})=>{const e=w3(t.raca),r=w3(t.profissao);return P.jsxs(tP,{sx:{backgroundColor:vF(vf.palette.background.default,.8)},children:[P.jsx(cP,{children:P.jsx(_P,{children:P.jsxs(qr,{sx:{display:"flex",flex:1},children:[P.jsx(lg,{alt:t.raca,children:P.jsx(e,{})}),P.jsxs(qr,{sx:{flex:1,display:"flex",alignItems:"center",flexDirection:"column"},children:[P.jsx(rn,{variant:"h5",children:t.nome}),P.jsxs(J4,{children:[t.narrador," - ",t.nivel]})]}),P.jsx(lg,{alt:t.profissao,children:P.jsx(r,{})})]})})}),P.jsxs(mP,{sx:{display:"flex",justifyContent:"space-around"},children:[P.jsx(kc,{"aria-label":"Favorito",children:t.isFavorito?P.jsx(PS,{color:"primary"}):P.jsx(sF,{color:"primary"})}),P.jsx(kc,{"aria-label":"Editar",children:P.jsx(oF,{color:"primary"})}),P.jsx(kc,{"aria-label":"Apagar",children:P.jsx(aF,{color:"primary"})})]})]})},rW=()=>{const{list:t}=Q4(),e=`url(${t.length>0?zH:NH})`;return P.jsxs(gi,{bg:e,children:[P.jsx(qr,{sx:{flexGrow:1},children:P.jsx($p,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:3},children:t.map(r=>P.jsx($p,{item:!0,xs:12,sm:8,md:4,children:P.jsx(tW,{ficha:r})},r.id))})}),P.jsx(qr,{sx:{display:"flex",flexDirection:"column"},children:P.jsx(gf,{variant:"contained",children:"Adicionar Ficha"})})]})},nW=()=>P.jsx(rW,{}),iW=()=>P.jsx(gi,{children:P.jsx("p",{children:"Habilidade"})}),aW=()=>P.jsxs(gi,{children:[P.jsx(S4,{label:"Nome da habilidade",variant:"outlined",InputProps:{endAdornment:P.jsx(u4,{position:"start",children:P.jsx(pF,{})})}}),P.jsxs("div",{style:{display:"flex",gap:10},children:[P.jsx("p",{children:"a"}),P.jsx("p",{children:"b"}),P.jsx("p",{children:"c"}),P.jsx("p",{children:"d"}),P.jsx("p",{children:"e"}),P.jsx("p",{children:"..."}),P.jsx("p",{children:"z"})]}),P.jsxs("div",{children:[P.jsx("p",{children:"Habilidade"}),P.jsx("p",{children:"Habilidade"}),P.jsx("p",{children:"Habilidade"}),P.jsx("p",{children:"Habilidade"}),P.jsx("p",{children:"Habilidade"}),P.jsx("p",{children:"Habilidade"})]})]}),oW=()=>P.jsx(gi,{children:P.jsx("p",{children:"Magia"})});var gv={},sW=Nu;Object.defineProperty(gv,"__esModule",{value:!0});var LS=gv.default=void 0,lW=sW(zu()),cW=P;LS=gv.default=(0,lW.default)((0,cW.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var Mg=uW,Jm=[{base:" ",chars:""},{base:"0",chars:""},{base:"A",chars:""},{base:"AA",chars:""},{base:"AE",chars:""},{base:"AO",chars:""},{base:"AU",chars:""},{base:"AV",chars:""},{base:"AY",chars:""},{base:"B",chars:""},{base:"C",chars:"C"},{base:"D",chars:""},{base:"Dh",chars:""},{base:"DZ",chars:""},{base:"Dz",chars:""},{base:"E",chars:""},{base:"F",chars:""},{base:"G",chars:""},{base:"H",chars:""},{base:"I",chars:""},{base:"J",chars:""},{base:"K",chars:""},{base:"L",chars:""},{base:"LJ",chars:""},{base:"Lj",chars:""},{base:"M",chars:""},{base:"N",chars:""},{base:"NJ",chars:""},{base:"Nj",chars:""},{base:"O",chars:""},{base:"OE",chars:""},{base:"OI",chars:""},{base:"OO",chars:""},{base:"OU",chars:""},{base:"P",chars:""},{base:"Q",chars:""},{base:"R",chars:""},{base:"S",chars:""},{base:"T",chars:""},{base:"Th",chars:""},{base:"TZ",chars:""},{base:"U",chars:""},{base:"V",chars:""},{base:"VY",chars:""},{base:"W",chars:""},{base:"X",chars:""},{base:"Y",chars:""},{base:"Z",chars:""},{base:"a",chars:""},{base:"aa",chars:""},{base:"ae",chars:""},{base:"ao",chars:""},{base:"au",chars:""},{base:"av",chars:""},{base:"ay",chars:""},{base:"b",chars:""},{base:"c",chars:""},{base:"d",chars:""},{base:"dh",chars:""},{base:"dz",chars:""},{base:"e",chars:""},{base:"f",chars:""},{base:"ff",chars:""},{base:"fi",chars:""},{base:"fl",chars:""},{base:"ffi",chars:""},{base:"ffl",chars:""},{base:"g",chars:""},{base:"h",chars:""},{base:"hv",chars:""},{base:"i",chars:""},{base:"j",chars:""},{base:"k",chars:""},{base:"l",chars:""},{base:"lj",chars:""},{base:"m",chars:""},{base:"n",chars:""},{base:"nj",chars:""},{base:"o",chars:""},{base:"oe",chars:""},{base:"oi",chars:""},{base:"oo",chars:""},{base:"ou",chars:""},{base:"p",chars:""},{base:"q",chars:""},{base:"r",chars:""},{base:"s",chars:""},{base:"ss",chars:""},{base:"t",chars:""},{base:"th",chars:""},{base:"tz",chars:""},{base:"u",chars:""},{base:"v",chars:""},{base:"vy",chars:""},{base:"w",chars:""},{base:"x",chars:""},{base:"y",chars:""},{base:"z",chars:""}],kS={};for(var Vd=0;Vd<Jm.length;Vd+=1)for(var S3=Jm[Vd].chars,e0=0;e0<S3.length;e0+=1)kS[S3[e0]]=Jm[Vd].base;function uW(t){return t.replace(/[^\u0000-\u007e]/g,function(e){return kS[e]||e})}const DS=t=>Mg(t.trim().charAt(0).toLowerCase()),dW=(t,e)=>{if(t.localeCompare(e)===0)return 1;const r=t.length,n=e.length,i=Math.floor(Math.max(r,n)/2)-1;let a=0;const o=Array(r).fill(0),s=Array(n).fill(0);for(let u=0;u<r;u++)for(let p=Math.max(0,u-i);p<Math.min(n,u+i+1);p++)if(t[u]===e[p]&&s[p]===0){o[u]=1,s[p]=1,a++;break}if(a===0)return 0;let l=0,c=0;for(let u=0;u<r;u++)if(o[u]===1){for(;s[c]===0;)c++;t[u]!==e[c++]&&l++}return l/=2,(a/r+a/n+(a-l)/a)/3},pW=(t,e)=>{let r=dW(t,e);if(r>.7){let n=0;for(let i=0;i<Math.min(t.length,e.length)&&t[i]===e[i];i++)n++;n=Math.min(4,n),r+=.1*n*(1-r)}return r},hW=(t,e,r)=>{const n=Mg(t).toLowerCase(),i=Mg(e).toLowerCase();return i.indexOf(n)>-1||pW(n,i)>=r},fW=(t,e,r)=>t.length<3?!1:e.split(" ").some(n=>n.length<3?!1:hW(t,n,r)),mW=t=>DS(t.nome),gW=t=>new Set(t.map(mW)),vW=t=>[...gW(t)],yW=({lista:t,onClick:e,selected:r})=>{const n=vW(t);return P.jsx(qr,{sx:{gap:1,display:"flex"},children:n.map(i=>P.jsx(gf,{onClick:()=>e(i),variant:"outlined",sx:{maxWidth:"10px",minWidth:"10px"},color:r!==i?"secondary":"primary",children:i},i))})};var vv={},xW=Nu;Object.defineProperty(vv,"__esModule",{value:!0});var IS=vv.default=void 0,bW=xW(zu()),_W=P;IS=vv.default=(0,bW.default)((0,_W.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");const wW=({lista:t})=>P.jsx($p,{container:!0,rowSpacing:2,columnSpacing:{xs:1,sm:2,md:3},children:t.map(e=>P.jsx($p,{item:!0,xs:12,sm:8,md:6,lg:4,xl:3,children:P.jsx(gf,{variant:"contained",endIcon:P.jsx(IS,{}),children:e.nome})},e.nome))});var be=(t=>(t.VARIAVEL="Varivel",t.PESSOAL="Pessoal",t.TOQUE="Toque",t.METRO="metro",t.QUILOMETRO="quilmetro",t))(be||{});const FS=ot.object({valor:ot.number().min(0).optional(),tipo:ot.nativeEnum(be),isRaio:ot.boolean().optional(),isQuadrado:ot.boolean().optional(),outraDescricao:ot.string().optional()});var re=(t=>(t.USO="uso",t.ATIVACAO="ativao",t.VARIAVEL="Varivel",t.INSTANTANEA="Instantnea",t.ESPECIAL="Especial",t.RITUAL="Ritual",t.SEGUNDO="segundo",t.RODADA="rodada",t.COMBATE="combate",t.CENA="cena",t.MINUTO="minuto",t.HORA="hora",t.DIA="dia",t.SEMANA="semana",t.MES="ms",t.ANO="ano",t.ANO_E_DIA="1 ano e 1 dia",t.PERMANENTE="Permanente",t))(re||{});const NS=ot.object({valor:ot.number().min(0).optional(),tipo:ot.nativeEnum(re),outraDescricao:ot.string().optional()});var He=(t=>(t.VARIAVEL="Varivel",t.INSTANTANEA="Instantnea",t.RODADA="rodada",t.MINUTO="minuto",t.HORA="hora",t.RITUAL="Ritual",t))(He||{});const zS=ot.object({valor:ot.number().min(0).optional(),tipo:ot.nativeEnum(He),outraDescricao:ot.string().optional()}),OS=ot.object({ouro:ot.number().min(0).optional(),prata:ot.number().min(0).optional(),cobre:ot.number().min(0).optional()}),SW=Z4.extend({nivel:ot.number().min(1),dinheiro:OS.optional(),alcance:FS.optional(),duracao:NS.optional(),descricao:ot.string(),evocacao:zS.optional()}),BS=SW.extend({secundario:ot.lazy(()=>BS.optional())});var ut=(t=>(t.abrigo="a1",t.adestramento="a2",t.aeroataque="a3",t.aeromanipulacao="a4",t.alucinacao="a5",t.amizade="a6",t.analise="a7",t.animacaoMetalica="a8",t.animacaoVegetal="a9",t.anulacaoMistica="a10",t.apelo="a11",t.aprimorarHabilidades="a12",t.areaDePaz="a13",t.armadilha="a14",t.armadilhaNatural="a12",t.armaduraElemental="a16",t.armaduraNatural="a17",t.arqueirismo="a18",t.assimilacao="a19",t.assombracao="a20",t.ataqueImpetuoso="a21",t.ataqueTermico="a22",t.atoFalho="a23",t.auraAmeacadora="a24",t.auraDivina="a25",t.auraEmocional="a26",t.auraMagica="a27",t.ausencia="a28",t.auxilioIncerto="a29",t.auxilioNatural="a30",t.avaliacao="a31",t.azar="a32",t.barreiraMistica="b1",t.bencao="b2",t.bencaoSelvagem="b3",t.biogerminacao="b4",t.bloqueio="b5",t.boato="b6",t.bolaDeFogo="b7",t.bote="b8",t.bravura="b9",t.cacadaMarcada="c1",t.campoabencoado="c2",t.camuflagem="c3",t.cancaoDoAlento="c4",t.cancaoDoAnimo="c5",t.cancaoDoSono="c6",t.cancaoDoTormento="c7",t.cataclisma="c8",t.chuvaAcida="c9",t.circuloDeProtecao="c10",t.clarividencia="c11",t.cobertura="c12",t.comandoDePaz="c13",t.comunhaoNatural="c14",t.conhecimento="c15",t.conhecimentoLinguistico="c16",t.conhecimentoNatural="c17",t.conjuracaoNatural="c18",t.conjurarObjetos="c19",t.contatosMentais="c20",t.contatosMusicais="c21",t.controle="c22",t.controleClimatico="c23",t.controleMecanico="c24",t.conversaoEnergetica="c25",t.convivencia="c26",t.convocacao="c27",t.convocacaoAnimal="c28",t.coordenacao="c29",t.corrente="c30",t.covardia="c31",t.criacao="c32",t.criptogramaMistico="c33",t.curasEspirituais="c34",t.curasFisicas="c35",t.curasHeroicas="c36",t.dadivasDaGuerra="",t.dardosDeGelo="",t.degeneracaoFisica="",t.desertificacao="",t.desintegracao="",t.deslocamentoNatural="",t.despistamento="",t.destrezaAnimal="",t.deteccaoDeMagia="",t.detectarIntencao="",t.distracao="",t.doencas="",t.dominacaoAnimal="",t.dominio="",t.dominioMental="",t.dominioNatural="",t.elementalDaAgua="",t.elementalDaTerra="",t.elementalDoAr="",t.elementalDoFogo="",t.eloAnimal="",t.eloEmpatico="",t.empatia="",t.encantamento="",t.encolhimento="",t.esconjuracao="",t.escrita="",t.escriturasMisticas="",t.escudoMistico="",t.escudoProtetor="",t.escudoTermico="",t.escuridao="",t.esplendor="",t.esquecimento="",t.explosaoMistica="",t.fabricacaoDivina="",t.faro="",t.fascinio="",t.feixesIncandescentes="",t.fitogenese="",t.fogoDivino="",t.forcaMutua="",t.forcaSagrada="",t.forcarDisputa="",t.formaDePedra="",t.formaFluida="",t.garras="",t.geoanimacao="",t.geomanipulacao="",t.geoprotecao="",t.habilidadeAnimal="",t.herbologia="",t.hidromanipulacao="",t.hidrotolerancia="",t.iconeSagrado="",t.identificacao="",t.ilusoes="",t.imagem="",t.intuicao="",t.invisibilidade="",t.iraDivina="",t.lagrimaDeDragao="",t.laminaDeLuz="",t.leitura="",t.leituraDeHabitos="",t.leituraLabial="",t.lendaViva="",t.lendas="",t.levitacao="",t.libertacao="",t.licantropiaLupina="",t.linguagem="",t.malabarismo="",t.maldicoes="",t.manipulacaoDeLuz="",t.manipularConfianca="",t.marcaArcana="",t.marcaDaMorte="",t.medo="",t.memorizacao="",t.meteoros="",t.mimetismoAnimal="",t.modificarEspirito="",t.motivacao="",t.mutacao="",t.mutualidade="",t.necroanimacao="",t.necroconhecimento="",t.necropotencia="",t.obstinacao="",t.olharDoPredador="",t.ondaDestrutiva="",t.ondaPsiquica="",t.ordens="",t.orientacao="",t.paralisia="",t.peleDeArvore="",t.perspicacia="",t.pesadelo="",t.piromanipulacao="",t.piroprotecao="",t.planoMistico="",t.possessao="",t.presencaIntimidadora="",t.previsibilidade="",t.primor="",t.prisao="",t.prisaoVegetal="",t.projecao="",t.projecaoSensorial="",t.protecaoAnimal="",t.protecaoDivina="",t.protecaoMental="",t.protecaoNatural="",t.protecaoVegetal="",t.pseudoconsciencia="",t.pseudomateria="",t.purificacao="",t.putrefacao="",t.quebraDeEncantos="",t.raioEletrico="",t.raizesMisticas="",t.rastreamento="",t.recuperacaoFisica="",t.refletir="",t.regeneracao="",t.relampagos="",t.replicas="",t.resistencia="",t.resistenciaElemental="",t.ressurreicao="",t.restauracao="",t.retencaoMagica="",t.retorno="",t.ritualDeSangue="",t.ruido="",t.runas="",t.sacrificio="",t.sagracao="",t.santuarioNatural="",t.seducao="",t.sentidoNatural="",t.serDeagua="",t.serenidade="",t.sextoSentido="",t.silencio="",t.sono="",t.sorte="",t.sosia="",t.sugestao="",t.telecinese="",t.tensao="",t.terremoto="",t.toqueGelido="",t.transformacao="",t.transformacaoMetalica="",t.transmutacao="",t.transporteDimensional="",t.unidadeNatural="",t.velocidade="",t.ventriloquismo="",t.vigilia="",t.vigor="",t.vinculo="",t.vinculoVital="",t.visaoAnimal="",t.visaoDeBatalhas="",t.visaoDeCena="",t.visaoMistica="",t.visaoNoturna="",t.visaoTermica="",t))(ut||{});Bu.extend({extra:ot.string().array().optional(),alcance:FS,duracao:NS,custo:OS.optional(),evocacao:zS.optional(),niveis:BS.array()});const CW=[{id:ut.abrigo,nome:"Abrigo",descricao:`Essa magia desenvolve um senso de sobrevivncia no mstico, possibilitando encontrar a melhor forma de se abrigar contra os rigores da natureza. O evocador ser direcionado a um local seguro (abrigo) ou saber a melhor atitude a ser tomada diante das calamidades naturais, mas todas as opes de refgio devem estar dentro da rea de 5 km (alcance da magia).

Por exemplo, caso o mstico precise se proteger da noite com um abrigo fsico, a magia indicar a direo onde encontrar (pode ser uma caverna, um espao nas razes de uma imensa rvore, etc.). Caso no possua abrigos ao alcance da magia, o evocador ser informado e a magia fornecer reduo na dificuldade da habilidade Sobrevivncia no tocante  construo de um abrigo, alm de indicar o local menos provvel de ser atacado pela fauna e flora local para construir (copa da rvore ou em cima do monte, por exemplo). O Mestre julgar o ambiente e indicar o local. Para esse efeito, a evocao  de 1 rodada.

Por outro lado, se o evocador, sem o auxlio da magia, encontrar um abrigo fsico, esse encanto poder ser usado para identificar se  seguro. A resposta vir na forma de um pressentimento e basta usar o nvel de acordo com a quantidade de pessoas que o abrigo encontrado suporta. Por exemplo:

- encontrou um abrigo para at 3 pessoas: usa o nvel 1.
- encontrou um abrigo at 6 pessoas ou 3 pessoas e suas montarias: usa o nvel 5
- encontrou um abrigo que comporta at 10 pessoas ou 5 pessoas e suas montarias, ou mais (limitado a uma rea de 20m de raio): usa o nvel 9.

Mas se o evocador estiver perdido em uma tempestade de areia, por exemplo, a magia indicar a melhor atitude a ser tomada (ex.: fique deitado ou corra para trs). A mensagem vir na forma da percepo do evocador por ter analisado a situao, e o nvel da magia informar a quantidade de palavras que contm a mensagem (o Mestre deve ter em mente a melhor opo para sobreviver).  preciso deixar claro que a resposta no isenta dano, doena, etc., mas ser a melhor escolha que reduzir ao mximo as consequncias. Para esse efeito, a evocao  instantnea.

A partir do quinto nvel, a magia tornar o abrigo camuflado, mais difcil de ser detectado. A quantidade de pessoas que pode ser abrigada varia com a dificuldade do feitio. Este encanto pode ser usado apenas em Ambiente Natural e precisa escolher um efeito na hora de lanar a magia.
`,evocacao:{tipo:He.VARIAVEL},alcance:{tipo:be.QUILOMETRO,valor:5},duracao:{tipo:re.USO,valor:1},niveis:[{id:"0",nivel:1,descricao:"Encontra um abrigo capaz de proteger at 3 pessoas (caso no possua abrigo ao alcance da magia, reduz em 1 nvel a dificuldade da habilidade sobrevivncia para construir um abrigo) ou o evocador receber uma mensagem de at 2 palavras com a melhor atitude a ser tomada."},{id:"1",nivel:3,descricao:"Idem ao anterior, mas abriga at 4 pessoas ou 2 pessoas e suas montarias (reduz 2 nveis) ou recebe uma mensagem de at 3 palavras."},{id:"2",nivel:5,descricao:"Idem ao anterior, mas abriga at 6 pessoas ou 3 pessoas e suas montarias (reduz 3 nveis) ou recebe uma mensagem de at 4 palavras. A partir desse nvel, o encanto camuflar o abrigo, o que torna mais difcil de ser encontrado, aumentando em 1 nvel a dificuldade na habilidade Usar o Sentidos e/ou Seguir Trilhas para quem tentar detect-lo."},{id:"3",nivel:7,descricao:"Idem ao anterior, mas abriga at 8 pessoas ou 4 pessoas e suas montarias (reduz 4 nveis) ou sabe automaticamente a melhor atitude a ser tomada. Aumenta em 2 nveis para detectar."},{id:"4",nivel:9,descricao:"Idem ao anterior, mas abriga at 10 pessoas ou 5 pessoas e suas montarias (reduz 5 nveis) ou sabe automaticamente a melhor atitude a ser tomada e essa atitude o livrar de sofrer dano. Aumenta em 3 nveis para detectar."}],extra:["Os abrigos encontrados sero seguros e sem perigos. Ou seja, proteger dos perigos ambientais (chuvas, sol, terremotos, etc.) e no a ameaas naturais em seu interior (ursos, orcos, aranhas, etc.). Caso algum inimigo o encontre, no oferecer proteo extra. Como tambm no identifica perigo sobrenatural."]},{id:ut.adestramento,nome:"Adestramento",niveis:[{id:"0",nivel:1,descricao:"Com este efeito pode-se ensinar um truque bsico (correr, buscar objetos, saltar, sentar etc) a animais domsticos,  possvel usar um animal , desde que forte o suficiente, como montaria."},{id:"1",nivel:3,descricao:"Idem ao anterior, mas permite ensinar 2 truques que agora podem ser mais complexos (levar objetos de um canto a outro, emitir som caso algo acontea, etc) ou executar manobras montadas como saltar obstculos e correr em grande velocidade. Alm disso, pode-se ensinar truques simples a animais Selvagens."},{id:"2",nivel:5,descricao:"Com este efeito  possvel ensinar 3 truques complexos a animais Selvagens e adestrar animais Predadores para que realizam tarefas bsicas.  possvel usar um Animal Selvagem, desde que forte o suficiente, como montaria."},{id:"3",nivel:7,descricao:"Com este efeito, o evocador ser capaz de adestrar animais Predadores para que realizem tarefas mais complexas (igual ao do efeito 3) e treinar criaturas Msticas para tarefas mais simples (igual ao efeito 1).  possvel usar um Animal Predador, desde que forte o suficiente, como montaria."},{id:"4",nivel:9,descricao:"Com este efeito, o evocador pode adestrar um animal Mstico para realizar tarefas complexas (igual ao efeito 3).  possvel usar um Animal Mstico, desde que forte o suficiente, como montaria."}],alcance:{tipo:be.TOQUE},duracao:{tipo:re.DIA,valor:1},evocacao:{valor:10,tipo:He.MINUTO},descricao:`Atravs deste encanto, o evocador cria uma ligao mgica temporria com uma criatura de intelecto irracional e consegue plantar um certo conhecimento/habilidade em sua mente. A complexidade do truque depende do nvel da magia.

A criatura alvo deve ser tocada para que a magia seja evocada. Em tese, qualquer criatura irracional pode ser adestrada, porm encantar um cavalo domesticado, ou um co domstico  bem mais fcil que um cervo selvagem ou um lobo feroz. A criatura pode resistir  magia, se bem sucedida, no ser adestrada. A criatura fica imune a novas tentativas de adestramento do mesmo evocador at o prximo dia. A critrio do mestre a criatura pode no resistir  magia.

Os truques ensinados no devem ser suicidas, como ensinar macacos a pular do penhasco de forma consciente, o encanto ser imediatamente quebrado, mas adestrar um rinoceronte para servir de montaria numa batalha  vivel. O adestramento deve ser descrito com exatido no momento da evocao. O animal adestrado ser no mnimo amistoso ao evocador, mas sempre ser obediente.

A magia adestramento no torna a criatura servil ao evocador. Um tigre selvagem se permitiria montar pelo evocador e obedeceria seus comandos quando montado, conforme seu treinamento, mas ainda atacaria o mesmo evocador se ele estivesse cado a sua frente pois este  seu instinto. Para criar uma relao de fidelidade ou servido seria necessrio convivncia, uso de habilidade ou de outra magia.

Para esta magia, divide-se os animais nas seguintes categorias.

Domsticos: Animais acostumados a viver entre as raas inteligentes. Ex.: Ces, gatos, cavalos, galinhas, falces, cabras.
Selvagens: Verses selvagens dos animais domsticos. Ex.: Cavalos Selvagens, cabras das Montanhas, Perus Selvagens.
Predadores: So animais que em condies normais seriam predadores ou pelo menos hostis ao evocador. Ex.: Bfalos selvagens, Lees, Tigres, guias, Gorilas.
Msticos: So animais de natureza mgica que possuem uma resistncia maior  magia. Ex.: Mantcoras, Hipogrifos, Pgasus.

O Mestre deve usar o bom senso para julgar se o animal possui inteligncia para executar a tarefa/truque.
    `},{id:ut.aeroataque,nome:"Aeroataque",niveis:[{id:"0",nivel:1,descricao:"Carrega at 20 kg,  preciso Fora -1 para se segurar e derruba at 60 kg, no afetando criaturas e objetos a partir da."},{id:"1",nivel:3,descricao:"Carrega at 40 kg,  preciso Fora 0 para se segurar e derruba at 120 kg, no afetando criaturas e objetos a partir da."},{id:"2",nivel:5,descricao:"Carrega at 60 kg,  preciso Fora 1 para se segurar e derruba at 180 kg, no afetando criaturas e objetos a partir da."},{id:"3",nivel:7,descricao:"Carrega at 90 kg,  preciso Fora 2 para se segurar e derruba at 270 kg, no afetando criaturas e objetos a partir da."},{id:"4",nivel:10,descricao:"Carrega at 150 kg,  preciso Fora 3 para se segurar e derruba at 450 kg, no afetando criaturas e objetos a partir da."}],alcance:{tipo:be.METRO,valor:10},duracao:{tipo:re.RODADA,valor:1},evocacao:{tipo:He.INSTANTANEA},descricao:`Cria ventanias de grande fora, mas pouca preciso (para preciso, veja o encanto Aeromanipulao). Os fortes ventos criados tm a capacidade de carregar, derrubar e/ou arrastar criaturas e objetos at certo peso.

O vento se desloca na direo que o evocador apontar, na forma de uma faixa de 3 metros de largura, comeando no mstico e chegando at o alcance mximo. Para se tentar afetar algum com este vento  preciso primeiro se obter um resultado de 50% ou mais em um ataque fsico.

Criaturas e objetos que estejam na rea de efeito se enquadram em 3 categorias: aqueles que podem ser carregados, aqueles que podem ser derrubados e os que no podem ser afetados. A categoria a qual um objeto ou criatura pertence  determinada pelo seu peso e pela Dificuldade do Efeito que est sendo usado contra ele(a).

A fora do vento tem a capacidade de carregar coisas de peso relativamente pequeno, a no ser que haja um ponto de apoio fixo e fora para se segurar. Criaturas nesta categoria que consigam se segurar no podero fazer nenhuma ao enquanto este feitio estiver em operao (isto , alm de se agarrar ao seu apoio). Objetos que estejam firmemente presos (por exemplo, cimentados ao cho) no so afetados.

Objetos e criaturas que sejam carregados so arremessados cerca de 15 metros para trs e, no caso das criaturas, precisam gastar duas rodadas se recuperando e levantando. Caso haja uma superfcie slida na trajetria da queda de 15 metros citada acima (por exemplo, uma parede) o objeto ou criatura  tratado como se tivesse cado de 7 metros de altura. O Mestre do Jogo saber como cuidar disto.

Os que possuem um peso intermedirio no podem ser carregados, embora possam ser derrubadas, no sofrendo nenhum dano (mas sendo levados para trs cerca de 3 metros) e, no caso das criaturas, as mesmas devem gastar uma rodada se recuperando e se levantando. Caso encontrem um ponto de apoio, elas no so derrubadas, mas no podem avanar contra o vento enquanto o feitio estiver em ao.

Seres que possuam uma grande massa no sero afetados por este encanto, no sofrendo qualquer efeito prtico.
    `},{id:ut.aeromanipulacao,nome:"Aeromanipulao",niveis:[{id:"0",descricao:"Permite dar formas especificas a gases dentro da rea de efeito.",nivel:1},{id:"1",descricao:"Forma uma barreira de vento em volta do evocador que impede ataques com projeteis no mgicos e d penalidade -2 em combates corpo a corpo, afetando inclusive o evocador caso este queira atacar ultrapassando a barreira de vento com armas de mo. Entretanto os ataques mgicos a distncia no recebem qualquer penalidade.",nivel:3},{id:"2",descricao:"Cria fortes ventos saindo do evocador em todas as direes. A fora dos ventos repele objetos e criaturas como explicado na descrio da magia. Alm disso, a fora do vento impede ataques com projeteis no mgicos e concede um ajuste de -5 para todos os outros ataques que exijam proximidade, mgicos ou no (ex: tanto a espada mgica quanto a espada comum sofrero a penalidade de -5 pontos}, observa-se que esta penalidade se aplicar inclusive aos seus aliados, entretanto inaplicveis ao evocador.",nivel:5},{id:"3",descricao:"Cria fortes ventos saindo a partir de um circulo de 6 metros de raio do evocador. A fora dos ventos repele objetos e criaturas como explicado na descrio da magia. Alm disso, a fora do vento impede ataques com projeteis no mgicos e concede um ajuste de -5 para todos os outros ataques, mgicos ou no, observa-se que os aliados do evocador no sero afetados caso estejam dentro do raio de proteo da magia.",nivel:7},{id:"4",descricao:"Permite que o evocador use o vento para carregar, manipular e lanar objetos como forma de atacar o oponente. Este efeito tem grande preciso e permite que o evocador manipule at 4 objetos de at 2 quilos e dano mximo de 8 pontos por objeto atirado",nivel:10}],descricao:`A magia Aeromanipulao permite o controle de substncias gasosas que estejam a uma distncia do evocador menor do que o alcance do feitio.

Este encanto pode ser usado para criar ventos dentro da rea de efeito, podendo estes sair desta rea. Neste caso, eles perdero a fora gradualmente at pararem totalmente (da mesma forma que o vento causado por um ventilador diminui gradualmente, at parar). Alm disso, o evocador perder o controle sobre eles se estiverem alm do Alcance.

A fora do vento permanece relativamente constante em todos os efeitos deste encanto. Um controle cada vez maior sobre o vento permite que o evocador crie uma srie de efeitos muito interessantes. O vento tem a capacidade de mover at 30 quilogramas e de impedir que objetos ou criaturas que pesem at 100 quilogramas se movam velozmente contra ele (no mximo, se arrastam vagarosamente).`,alcance:{tipo:be.METRO,valor:20},duracao:{tipo:re.RODADA,valor:30},evocacao:{tipo:He.INSTANTANEA}},{id:ut.alucinacao,nome:"Alucinao",niveis:[{id:"0",duracao:{tipo:re.RODADA,valor:3},descricao:"Cria uma alucinao, afetando 1 sentido.",nivel:1},{id:"1",duracao:{tipo:re.RODADA,valor:5},descricao:"Cria uma alucinao, afetando 1 sentido.",nivel:2},{id:"2",duracao:{tipo:re.RODADA,valor:3},descricao:"Cria uma alucinao, afetando 2 sentidos.",nivel:4},{id:"3",duracao:{tipo:re.RODADA,valor:5},descricao:"Cria uma alucinao, afetando 2 sentidos.",nivel:5},{id:"4",duracao:{tipo:re.RODADA,valor:3},descricao:"Cria uma alucinao, afetando 3 sentidos.",nivel:6},{id:"5",duracao:{tipo:re.RODADA,valor:5},descricao:"Cria uma alucinao, afetando 3 sentidos.",nivel:7},{id:"6",duracao:{tipo:re.RODADA,valor:5},descricao:"Cria uma alucinao, afetando 4 sentidos.",nivel:8},{id:"7",duracao:{tipo:re.RODADA,valor:8},descricao:"Cria uma alucinao, afetando 4 sentidos.",nivel:9},{id:"8",duracao:{tipo:re.RODADA,valor:5},descricao:"Cria uma alucinao, afetando 5 sentidos.",nivel:10}],descricao:`Esta magia afeta um ou mais sentidos de uma pessoa, fazendo com que ela sofra uma alucinao por algum tempo caso falhe na sua Resistncia  Magia. A durao da alucinao e o nmero de sentidos afetados (tato, audio, viso, etc) dependem da dificuldade do efeito usado.

Caso a vtima deste feitio obtenha sucesso em sua Resistncia  Magia ela no sofrer nenhum efeito. Algumas vezes as alucinaes causadas podem dar chance a vitima de perceber que o que ela est sentindo no  normal. Quando isto acontecer, a vtima tem direito a tentar uma Percepo difcil. Caso obtenha sucesso, saber que no pode confiar em seus sentidos, mas continuar sob o efeito da magia. A evocao deste feitio  muito discreta e, por isto, no pode ser percebida normalmente.

A alucinao pode afetar o(s) sentido(s) escolhido(s) pelo evocador e tomar qualquer forma escolhida pelo mesmo, o evocador dever apenas escolher o que ele deseja que a vtima perceba. Caso a vtima tenha falhado na sua Resistncia  Magia, ela perceber apenas aquilo que o evocador deseja que ela perceba.

Enquanto a magia permanecer em operao, o evocador pode mudar o que ele deseja que os sentidos da vtima captem, desde que a vtima esteja dentro do alcance da magia e no campo de viso do evocador. Caso este se afaste da vtima alm do alcance do feitio ou perca a vtima de vista, esta continua percebendo (ou no percebendo) o que o evocador determinou at o fim da durao.

O evocador pode desejar, por exemplo, que a vtima veja um terreno plano no lugar do abismo que se encontra  sua frente, que seus amigos so monstros, que no veja nem oua o evocador e seu grupo passarem  sua frente, etc.

Note que, como este encanto afeta a mente da vtima e no ondas de luz, etc, apenas a vtima perceber a alucinao, devendo agir conforme as informaes que lhe chegam.`,alcance:{tipo:be.METRO,valor:20},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.INSTANTANEA}},{id:ut.amizade,nome:"Amizade",niveis:[{id:"0",duracao:{tipo:re.ESPECIAL,outraDescricao:"At o favor ser feito"},descricao:"Torna uma criatura inteligente mais simptica em relao ao evocador. Este pode pedir um pequeno favor  vtima, desde que seja algo razovel.",nivel:1},{id:"1",duracao:{tipo:re.HORA,valor:1},descricao:"A vtima passa a considerar o evocador um bom amigo e atender seus desejos, desde que no contrariem sua ndole, seus deveres ou o prejudiquem muito.",nivel:2},{id:"2",duracao:{tipo:re.HORA,valor:1},descricao:"Idem ao anterior, mas a vtima pode fazer algo que a prejudique (mas no a mate).",nivel:4},{id:"3",duracao:{tipo:re.SEMANA,valor:1},descricao:"Idem ao anterior.",nivel:6},{id:"4",duracao:{tipo:re.SEMANA,valor:1},descricao:"Idem ao anterior, mas a vtima desprezar seus deveres para ajudar o evocador.",nivel:8},{id:"5",duracao:{tipo:re.MES,valor:1},descricao:"Idem ao anterior.",nivel:10}],descricao:`Esse encanto torna a vtima mais receptiva a idias do evocador, caso ela falhe em sua Resistncia  Magia.

Conforme o poder do efeito, mais subserviente se torna a vtima, at o ponto em que sua personalidade se anula. Muitas vezes se falar sobre a ndole do alvo da magia. Esta pode ser definida como o padro de conduta. Fora da sua ndole est tudo aquilo que ele no faria nem por um amigo. Se o evocador pedir a uma vtima desta magia, que roube algo ou mate algum, ela somente atender o pedido se isso no contrariar sua ndole. Sendo assim, mesmo que uma vtima que tenha boa ndole considere o evocador como seu melhor amigo jamais matar algum ou far algo muito grave pelo evocador. Isso porque sua ndole no permite fazer essas coisas nem mesmo por seu melhor amigo.

Note que ao final do efeito a vtima se lembrar de tudo que fez e sentiu, por isso, existiro situaes em que a vtima poder perceber que foi enfeitiada. Para perceber basta realizar um teste de percepo com nvel de dificuldade determinado pelo mestre do jogo de acordo com a situao. Considera-se que quanto mais incomum for o comportamento da vtima durante o tempo em que esteve enfeitiada, mais fcil ser o teste para saber se foi enfeitiada.`,alcance:{tipo:be.METRO,valor:20},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.INSTANTANEA}},{id:ut.analise,nome:"Anlise",niveis:[{id:"0",descricao:"Analisa propriedades mgicas de nvel 1.",nivel:1},{id:"1",descricao:"Analisa propriedades mgicas de nvel mximo 2.",nivel:2},{id:"2",descricao:"Analisa propriedades mgicas de nvel mximo 3.",nivel:3},{id:"3",descricao:"Analisa propriedades mgicas de nvel mximo 4.",nivel:4},{id:"4",descricao:"Analisa propriedades mgicas de nvel mximo 5.",nivel:5},{id:"5",descricao:"Analisa propriedades mgicas de nvel mximo 6.",nivel:6},{id:"6",descricao:"Analisa propriedades mgicas de nvel mximo 7.",nivel:7},{id:"7",descricao:"Analisa propriedades mgicas de nvel mximo 8.",nivel:8},{id:"8",descricao:"Analisa propriedades mgicas de nvel mximo 9.",nivel:9},{id:"9",descricao:"Analisa propriedades mgicas de nvel mximo 10.",nivel:10}],descricao:`Esta magia permite que o evocador analise a aura de um objeto e descubra as propriedades mgicas que ele possui. Caso o evocador use esta magia em um objeto que no seja mgico, ele descobre imediatamente que o objeto no  mgico (mas ainda assim desperdia o dinheiro do ritual).

Embora esta magia seja muito til, ela requer muito treinamento, pois o evocador s  capaz de descobrir propriedades mgicas de poder equivalente ao seu conhecimento em Anlise. Para a maioria das propriedades mgicas vale a relao abaixo:

Propriedades de nvel 1: Magias de nvel 1; focus +2; absoro +1.

Propriedades de nvel 2: Magias de nvel 2; focus +4; absoro +2; armas +1.

Propriedades de nvel 3: Magias de nvel 3; focus +6; absoro +3; defesa +1.

Propriedades de nvel 4: Magias de nvel 4; focus +8; absoro +4; armas +2.

Propriedades de nvel 5: Magias de nvel 5; focus +10; absoro +5.

Propriedades de nvel 6: Magias de nvel 6; focus +12; absoro +6; armas +3; defesa +2.

Propriedades de nvel 7: Magias de nvel 7; focus +14; absoro +7.

Propriedades de nvel 8: Magias de nvel 8; focus +16; absoro +8; armas +4.

Propriedades de nvel 9: Magias de nvel 9; focus +18; absoro +9.

Propriedades de nvel 10: Magias de nvel 10; focus +20; absoro +10; armas +5; defesa +3.

Propriedades especficas que no se enquadrem na relao acima como por exemplo os itens descritos no Livro de Artefatos, tero seu nvel determinado pelo mestre do jogo.

Caso um item tenha mais de uma propriedade, o evocador deve primeiro descobrir as propriedades de menor nvel para depois ser capaz de analisar as de nvel mais alto, em uma escala crescente. Sempre se analisa apenas uma propriedade de cada vez.

Aps o ltimo poder ser descoberto, a leitura seguinte dir que no existe mais nenhuma propriedade a ser lida. Note que no h nenhuma maneira de se saber que uma determinada propriedade  a ltima, a no ser usar novamente o encanto.

Se um ritual de Anlise de baixo nvel for realizado em um item com propriedades de nvel mais alto, o evocador no ser capaz de descobrir a propriedade, mas saber qual nvel deve ser usado, se possuir o nvel necessrio. Caso o evocador no possua o nvel necessrio ele apenas saber que a anlise daquela propriedade est alm de suas capacidades.

Este ritual exige o uso de materiais raros, de modo que eles custam 5 moedas de prata por dificuldade do efeito que se deseja usar.`,alcance:{tipo:be.TOQUE},duracao:{tipo:re.USO,valor:1},evocacao:{tipo:He.RITUAL}},{id:ut.animacaoMetalica,nome:"Animao Metlica",niveis:[{id:"0",dinheiro:{ouro:1},descricao:"Grupo de Armas igual a 1 em uma arma mdia que cause dano mximo 16, Concede defesa P1 e 10 pontos de EH.",nivel:1},{id:"1",dinheiro:{ouro:2},descricao:"Grupo de Armas igual a 3 em uma arma mdia que cause dano mximo 20, Concede defesa P1 e 20 pontos de EH.",nivel:2},{id:"2",dinheiro:{ouro:4},descricao:"Grupo de Armas igual a 6 em duas armas mdias que causem dano mximo 20, Concede defesa P2 e 30 pontos de EH.",nivel:4},{id:"3",dinheiro:{ouro:6},descricao:"Grupo de Armas igual a 9 em uma arma mdia que cause 20 de dano e uma arma pesada que cause 20 de dano. Concede defesa P3 e 40 pontos de EH.",nivel:6},{id:"4",dinheiro:{ouro:8},descricao:"Grupo de Armas igual a 12 em uma arma mdia que cause 20 de dano e uma arma pesada que cause 24 de dano. Concede defesa P4 e 50 pontos de EH.",nivel:8},{id:"5",dinheiro:{ouro:10},descricao:"Grupo de Armas igual a 15 em trs armas a escolha do evocador. Concede defesa P5 e 60 pontos de EH.",nivel:10}],descricao:`Com esta magia o mago alqumico  capaz de animar armaduras. Estas devem ser couraas parciais com elmos fechados, de onde ela obter toda a sua Energia Fsica.

A armadura, elmo, escudo e/ou arma que compem o ser animado devem ser virgens, isto , no podem ter sido utilizados.

Durante o ritual de encantamento, o mago dever escolher a(s) arma(s) que o ser ser capaz de utilizar, de acordo com o nvel da magia (o dano da arma utilizada pela armadura no sofre ajuste de fora). Aps o ritual, a armadura ser capaz de utilizar apenas a(s) arma(s) e/ou escudo que foram encantadas com ela no ritual.

Aps o ritual de encantamento a armadura se tornar um servo fiel ao evocador, executando qualquer misso desde de que esta no contenha mais de 25 palavras, no envolva qualquer tipo de avaliao por parte da armadura, nem envolva critrios que no possam ser captados pelo sentido da viso ou sejam subjetivos.

As armaduras so imunes a toda e qualquer iluso ou ataque de origem mental.

Caso a armadura venha a receber algum dano em sua estrutura, este ser recuperado a razo de 1 ponto por hora. Caso a EF do ser seja levada  faixa de inconscincia (entre 0 e 15) a armadura cair, se recompondo normalmente. Se a Energia Fsica do ser for levada  16 ou menos, o encanto da animao metlica ser desfeito. Um mesmo mstico no pode ter mais de 3 armaduras animadas em um mesmo perodo de tempo.

O nvel da magia diz os parmetros gerais do ser, as armas que ele ser capaz de utilizar, seu valor de grupo de armas e o custo do ritual.

* O parmetro para altura das armaduras animadas ser relativo ao dos humanos.

* A resistncia  magia do ser ser igual ao nvel da magia Animao Metlica usada para animar a armadura.`,alcance:{tipo:be.METRO,valor:5},duracao:{tipo:re.ANO,valor:1},evocacao:{tipo:He.RITUAL}},{id:ut.animacaoVegetal,nome:"Animao Vegetal",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:re.DIA,valor:4},descricao:"Anima uma rvore de Porte menor.",nivel:1},{id:"1",dinheiro:{ouro:3},duracao:{tipo:re.SEMANA,valor:1},descricao:"Anima uma rvore de Pequeno porte.",nivel:3},{id:"2",dinheiro:{ouro:5},duracao:{tipo:re.SEMANA,valor:2},descricao:"Anima uma rvore de Mdio porte.",nivel:5},{id:"3",dinheiro:{ouro:7},duracao:{tipo:re.SEMANA,valor:3},descricao:"Anima uma rvore de Mdio porte.",nivel:7},{id:"4",dinheiro:{ouro:9},duracao:{tipo:re.MES,valor:1},descricao:"Anima uma rvore de Grande porte.",nivel:9}],descricao:`Este ritual transforma rvores em seres de aparncia vagamente humanide (semelhante a um Enida) sob controle do evocador. Na verdade este ritual transforma rvores comuns em rvores Animadas (veja os detalhes delas no Livro de Criaturas).

O custo do ritual e o poder da criatura variam com o porte da rvore e a dificuldade do efeito usado. As rvores podem ser classificadas em porte menor (entre 2m e 3m}, pequeno porte (entre 3m e 4m}, mdio porte (entre 4m e 5m) e grande porte (entre 5m e 7m). Qualquer rvore que seja de tamanho maior do que as capacidades do nvel utilizado no ser afetada pelo ritual, o karma e os materiais sero gastos inutilmente. O evocador s pode ter uma rvore Animada por vez com este ritual.

A rvore animada realizar apenas comandos de baixa complexidade vindos do evocador, tais como "Empurre essa rocha" ou "Ataque aquela criatura". Caso o evocador deseje que a rvore Animada execute tarefas mais complexas, ele precisar manter a concentrao enquanto a controla. Alm disso, tambm  requisito estar a menos de 50m da rvore, caso contrrio o ser ficar imvel at que as condies necessrias se restabeleam.

Sacerdotes de Sevides costumam costumam animar rvores para auxilia-los em tarefas da lavoura, das mais leves como espantar pssaros indesejados da plantao, at defender as terras de criaturas invasoras como orcos e goblins. Por outro lado, Magos naturalistas animam rvores para proteo de seus refgios, alguns deles mudam rvores de local para criar verdadeiras fortalezas e caminhos intransponveis.`,alcance:{tipo:be.METRO,valor:5},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RITUAL}},{id:ut.anulacaoMistica,nome:"Anulao Mstica",niveis:[{id:"0",descricao:"Cria uma rea de um metro de raio.",nivel:1,evocacao:{tipo:He.INSTANTANEA},duracao:{tipo:re.RODADA,valor:3},alcance:{tipo:be.METRO,valor:1,isRaio:!0}},{id:"1",descricao:"Cria uma rea de dois metros de raio.",nivel:3,duracao:{tipo:re.RODADA,valor:5},evocacao:{tipo:He.INSTANTANEA},alcance:{tipo:be.METRO,valor:2,isRaio:!0},secundario:{id:"0",nivel:0,descricao:"Pode ser direcionada para uma pessoa.",evocacao:{tipo:He.INSTANTANEA}}},{id:"2",duracao:{tipo:re.RODADA,valor:10},evocacao:{tipo:He.INSTANTANEA},alcance:{tipo:be.METRO,valor:4,isRaio:!0},descricao:"Cria uma rea de quatro metros de raio.",nivel:5,secundario:{id:"0",nivel:0,descricao:"Pode ser direcionada at duas pessoas com distancia mxima de 10 metros entre os alvos.",alcance:{tipo:be.METRO,valor:10},evocacao:{tipo:He.INSTANTANEA}}},{id:"3",alcance:{tipo:be.METRO,valor:6,isRaio:!0},duracao:{tipo:re.MES,valor:1},evocacao:{tipo:He.RITUAL},descricao:"Cria uma rea de seis metros de raio.",nivel:7,secundario:{id:"0",nivel:0,alcance:{tipo:be.METRO,valor:15},duracao:{tipo:re.RODADA,valor:10},evocacao:{tipo:He.INSTANTANEA},descricao:"Pode ser direcionada at trs pessoas com distancia mxima de 15 metros entre os alvos."}},{id:"4",alcance:{tipo:be.METRO,valor:10,isRaio:!0},evocacao:{tipo:He.RITUAL},duracao:{tipo:re.ANO_E_DIA},descricao:"Cria uma rea de dez metros de raio.",nivel:9,secundario:{id:"0",nivel:0,alcance:{tipo:be.METRO,valor:30},duracao:{tipo:re.RODADA,valor:10},evocacao:{tipo:He.INSTANTANEA},descricao:"Pode ser direcionada at trs pessoas com distancia mxima de 30 metros entre os alvos."}}],descricao:`Com este milagre, o mstico pode criar um campo que impossibilita a utilizao de magias de qualquer natureza ou, em seu segundo efeito, direcionar a magia para um alvo especfico que ter direito h uma rolagem de Resistncia  Magia.

Caso escolha o primeiro efeito  criao de um campo, a rea afetada pelo encantamento anula quaisquer magias cujos nveis sejam iguais ou inferiores aos do campo de anulao mstica. Assim, se for evocada anulao mstica 7, um mago que evoque alguma magia nvel 4, gastar seus pontos de karma e no conseguir nenhum resultado. Caso evoque uma magia nvel 8 no ter nenhum empecilho. A nica exceo para essa magia  a magia Quebra de Encantos, pois  possvel evocar a quebra de encantos com o mesmo nvel da magia anulao mstica, enquanto qualquer outra magia s ter seu efeito realizado caso o nvel seja maior (e no igual) ao do campo. Itens encantados seguem a mesma regra. Se algum desejar usar um anel com raio eltrico 4, s ter o efeito realizado caso o campo de anulao mstica tenha nvel menor que 4. A evocao  varivel, podendo ser instantnea ou levar a um ritual que custa 2 moedas de ouro.

Se a escolha do usurio for pelo segundo efeito, o(s) alvo(s) ter(o) direito  Resistncia  Magia, caso no passe(m}, ficar(o) sob efeito do encantamento at que este seja quebrado ou que o efeito passe.

Esse milagre costuma ser muito utilizado em masmorras de castelos, em especial as dos pases em que a magia  mais presente como Calco ou Portis. As famosas celas antimgicas so criadas a partir desta magia. S  possvel criar um campo de anulao mstica que esteja a uma distncia maior do que 20 metros de outra rea encantada com esta magia. Caso contrrio, a magia falhar.`,alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RITUAL}},{id:ut.apelo,nome:"Apelo",niveis:[{id:"0",descricao:"Conjura temporariamente um enviado menor.",nivel:1},{id:"1",descricao:"Conjura temporariamente um enviado tipo I.",nivel:3},{id:"2",evocacao:{tipo:He.RITUAL},dinheiro:{ouro:10},descricao:"Conjura um enviado menor para servir o evocador at a morte (do enviado ou do evocador).",nivel:4},{id:"3",descricao:"Conjura temporariamente um enviado tipo II",nivel:5},{id:"4",evocacao:{tipo:He.RITUAL},dinheiro:{ouro:30},descricao:"Conjura um enviado tipo I para servir o evocador at a morte (do enviado ou do evocador).",nivel:6},{id:"5",descricao:"Conjura temporariamente um enviado tipo III.",nivel:7},{id:"6",evocacao:{tipo:He.RITUAL},dinheiro:{ouro:50},descricao:"Conjura um enviado tipo II para servir o evocador at a morte (do enviado ou do evocador).",nivel:9}],descricao:`Com esse milagre, o sacerdote pede ajuda ao seu deus, que responde mandando enviados para solucionar seus problemas ou ajud-lo em suas funes.

O ser conjurado permanece com o evocador por 30 rodadas, normalmente. Os efeitos Apelo 4, 6 e 9 so rituais que fazem com que o enviado fique permanentemente ajudando o sacerdote. Apenas uma dessas criaturas pode ficar permanentemente com o sacerdote. A conjurao temporria tem evocao de uma rodada e a permanente  ritual.

Esta magia no dever ser evocada levianamente, apenas em caso de necessidade real. Caso seja evocada em uma situao que no seja de extrema necessidade ou se for evocado por um motivo efmero e/ou mundano, a magia falhar e o sacerdote ser punido pelo seu deus, o que normalmente implicar na perda de seus poderes, ou mesmo por alguma maldio (o Mestre dever decidir a melhor forma de punir o sacerdote).

Caso o enviado morra ou a durao chegue ao fim, ele desaparece, voltando para junto de seu o deus.`,alcance:{tipo:be.METRO,valor:5},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.VARIAVEL}},{id:ut.aprimorarHabilidades,nome:"Aprimorar Habilidades",niveis:[{id:"0",duracao:{tipo:re.USO,valor:1},descricao:"Bnus ou Reduo de 1 Nvel em um rolamento.",nivel:1},{id:"1",duracao:{tipo:re.USO,valor:1},descricao:"Bnus ou Reduo de 2 Nveis em um rolamento.",nivel:3},{id:"2",duracao:{tipo:re.USO,valor:2},descricao:"Bnus ou Reduo de 2 Nveis em um rolamento.",nivel:5},{id:"3",duracao:{tipo:re.USO,valor:3},descricao:"Bnus ou Reduo de 2 Nveis em um rolamento.",nivel:7},{id:"4",duracao:{tipo:re.USO,valor:3},descricao:"Idem ao anterior, mas agora um dos usos pode transformar um rolamento Impossvel em Absurdo (Cinza).",nivel:9}],descricao:"Ao adquirir pelo menos 1 nvel neste encanto, o evocador ter de escolher at 3 habilidades e ao adentrar em uma especializao, este poder escolher mais 5 novas habilidades. As habilidades que podem ser escolhidas so: Acrobacias, Aes Furtivas, Aplicar Esforo, Carpintaria, Corrida, Escalar Superfcies, Escapar, Lidar com Animais, Manusear Armadilhas, Medicina, Montar Animais, Natao, Navegao, Seguir Trilhas, Sobrevivncia, Trabalhos Manuais, Usar Sentidos e Venefcio. Somente as habilidades escolhidas tero seus nveis de dificuldade diminudos de acordo com os efeitos abaixo; uma vez escolhida a habilidade no  mais possvel troc-la. Note que, caso o mstico no possua nvel na habilidade que tenha escolhido, este encanto no poder ser utilizado.",extra:["Este feitio pode ser evocado em conjunto ao uso de uma habilidade, caso seja evocado desta maneira no gastar a ao da rodada, mas gastar 1 uso automaticamente. O encanto ir entrar em colapso se: todos os usos forem gastos, se o a durao mxima for alcanada ou se for evocado novamente. Neste ltimo caso, o efeito mais recente torna-se o vigente.  importante ressaltar que com exceo do efeito 9, esta magia no reduz o nvel de dificuldade se ela for Impossvel."],alcance:{tipo:be.PESSOAL},duracao:{tipo:re.USO,outraDescricao:"Uso(s) ou 12 horas"},evocacao:{tipo:He.INSTANTANEA}},{id:ut.areaDePaz,nome:"rea de Paz",niveis:[{id:"0",alcance:{tipo:be.PESSOAL},duracao:{tipo:re.RODADA,valor:3},descricao:"A rea de paz restringe-se apenas ao sacerdote.",nivel:1},{id:"1",duracao:{tipo:re.RODADA,valor:5},alcance:{tipo:be.METRO,valor:2,isRaio:!0},descricao:"A rea de paz  de 2 metros de raio.",nivel:2},{id:"2",duracao:{tipo:re.RODADA,valor:10},alcance:{tipo:be.METRO,valor:4,isRaio:!0},descricao:"A rea de paz  de 4 metros de raio.",nivel:4},{id:"3",duracao:{tipo:re.HORA,valor:1},alcance:{tipo:be.METRO,valor:10,isRaio:!0},descricao:"A rea de paz  de 10 metros de raios.",nivel:6},{id:"4",duracao:{tipo:re.DIA,valor:1},alcance:{tipo:be.METRO,valor:10,isRaio:!0},descricao:"A rea de paz  de 10 metros de raios.",nivel:8},{id:"5",duracao:{tipo:re.ANO_E_DIA},alcance:{tipo:be.VARIAVEL},descricao:"Neste nvel, o sacerdote pode criar uma rea de paz. Para tal, o sacerdote dever fazer um ritual cujos sacrifcios valem 5 m.o para cada metro de raio que se deseje formar a rea, sendo que no mximo a rea poder atingir 10 metros de raio. Milagre muito utilizado nos templos de Selimom (os maiores, que podem arcar com os custos do ritual).",nivel:10}],descricao:`Com este milagre, o sacerdote de Selimom cria ao seu redor uma rea pacfica que repudia todo aquele que possui desejos violentos contra aqueles presentes na rea. Na prtica, qualquer um que tente atacar qualquer pessoa na rea dever fazer uma Resistncia  Magia. Caso resista, poder atacar normalmente, mas dever fazer uma resistncia  magia por rodada.

A rea da magia  alterada de acordo com o nvel e o sacerdote pode escolher entre colocar a rea mvel consigo ou fix-la formando um crculo imvel, ambas as opes tem como centro o prprio sacerdote no instante da evocao do milagre.`,extra:["Esse milagre evita que qualquer um ataque pessoas dentro da rea, inclusive ataques  distncia como arco e flecha e magias como bola de fogo e raio eltrico. Entretanto, se qualquer pessoa protegida pelo milagre atacar ou realizar qualquer encanto, a rea de paz  desfeita automaticamente."],alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.INSTANTANEA}},{id:ut.armadilha,nome:"Armadilha",niveis:[{id:"0",duracao:{tipo:re.DIA,valor:10},descricao:"Armazena at 3 pontos de Karma.",nivel:1},{id:"1",duracao:{tipo:re.DIA,valor:20},descricao:"Armazena at 6 pontos de Karma.",nivel:2},{id:"2",duracao:{tipo:re.MES,valor:1},descricao:"Armazena at 9 pontos de Karma.",nivel:3},{id:"3",duracao:{tipo:re.MES,valor:2},descricao:"Armazena at 9 pontos de Karma.",nivel:4},{id:"4",duracao:{tipo:re.MES,valor:5},descricao:"Armazena at 12 pontos de Karma.",nivel:6},{id:"5",duracao:{tipo:re.ANO_E_DIA},descricao:"Armazena at 21 pontos de Karma.",nivel:8},{id:"6",duracao:{tipo:re.PERMANENTE},descricao:"Armazena at 30 pontos de Karma.",nivel:10}],descricao:`Este encanto permite que uma iluso seja armazenada em um local para ser liberada de acordo com uma determinada condio especificada no momento de sua evocao. O tempo que uma iluso permanece vlida aps ser armazenada e a perfeio da magia que pode ser armazenada dependem da dificuldade do efeito usado pelo evocador.

Esta magia  evocada no local onde a iluso que se deseja armazenar deve ficar (obrigatoriamente um local imvel). Na rodada seguinte ao final da evocao deste encantamento a iluso que se deseja armazenar deve ser evocada pelo mesmo mstico que evocou a magia Armadilha. Ao final da evocao da iluso, a condio na qual a mesma ser disparada deve ser estabelecida. Esta condio  uma frase de 15 palavras ou menos. Quaisquer caractersticas que possam ser captadas pelos sentidos humanos da viso e da audio podem ser usadas, mas critrios subjetivos no so vlidos.

Assim, a condio "dispare quando um orco de elmo preto entrar nesta sala e falar a palavra grokk"  vlida, mas "dispare quando um homem feio entrar nesta sala" no , pois envolve um critrio subjetivo (beleza). Do mesmo modo, "dispare quando uma elfa com cheiro de flores entrar na sala" tambm no  vlido, pois envolve um sentido que no  viso ou audio. Caso uma condio inadequada seja usada, a iluso dispara imediatamente contra o evocador (alm disso,  bvio, do dinheiro do ritual ser perdido).

O tempo que uma magia fica armazenada e o nmero mximo de pontos de Karma que podem ser colocados nela dependem da dificuldade do efeito usado. Note que o nmero mximo de pontos de Karma inclui todos os pontos usados em uma evocao conjunta.

Quando a durao se esgota, a magia armazenada se dissipa sem efeito. Quando a Armadilha  disparada, a magia preparada se realiza e o encanto se dissipa, a no ser que o efeito de Armadilha usado tenha durao permanente. Neste caso, aps a magia armazenada ser disparada o efeito fica sem atuar por 24 horas. Aps este tempo a Armadilha volta a atuar normalmente.

Finalmente, este encanto no pode ser evocado a menos de 10 metros do local onde outra magia Armadilha est colocada. Caso isto acontea, ambas as magias se dissolvem imediatamente sem fazer efeito. Os materiais usados para a evocao custam 1 moeda de ouro por Dificuldade do efeito usado. Ou seja, evocar o efeito Armadilha 3 custa 3 moedas de ouro.`,alcance:{tipo:be.METRO,valor:10},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RITUAL}},{id:ut.armadilhaNatural,nome:"Armadilha Natural",niveis:[{id:"0",duracao:{tipo:re.HORA,valor:24},alcance:{tipo:be.METRO,valor:3,isRaio:!0},descricao:"A natureza auxilia o evocador fazendo uma armadilha que causa 12 pontos de dano  vtima.",nivel:1},{id:"1",duracao:{tipo:re.SEMANA,valor:1},alcance:{tipo:be.METRO,valor:5,isRaio:!0},descricao:"Idem ao anterior, porm causa 18 pontos de dano na vtima, que permanece atordoada por 5 minutos, alm disso recebendo -1 em suas aes por 1 dia.",nivel:3},{id:"2",duracao:{tipo:re.SEMANA,valor:2},alcance:{tipo:be.METRO,valor:7,isRaio:!0},descricao:"Idem ao anterior, porm causa 22 pontos de dano na vtima, que permanece desmaiada por 10 minutos, alm disso recebendo -2 em suas aes por 1 dia.",nivel:5},{id:"3",duracao:{tipo:re.SEMANA,valor:3},alcance:{tipo:be.METRO,valor:9,isRaio:!0},descricao:"Idem ao anterior, porm causa 26 pontos de dano na vtima, que fica presa na armadilha e atordoada por 30 minutos, alm disso recebendo -4 em suas aes por 1 dia.",nivel:7},{id:"4",duracao:{tipo:re.MES,valor:1},alcance:{tipo:be.METRO,valor:12,isRaio:!0},descricao:"Idem ao anterior, porm causa 30 pontos de dano na vtima, que fica presa na armadilha desmaiada por 1 hora, alm disso recebendo -8 em suas aes por 2 dias.",nivel:9}],descricao:`Com esta esta magia o evocador pede auxlio para a natureza para criar uma armadilha natural. A magia tem dependncia de habitat, pois os efeitos so naturais: um galho cai na vtima, uma cobra pica a vtima, a vtima pisa em um espinho venenoso ou cai em um buraco, etc... o efeito  uma ajuda da natureza, como se o ambiente ajudasse o evocador. O dano  causado  vtima como um ataque mgico: nvel da magia + aura para coluna e o dano  fracionado normalmente como em um ataque 25% 50% 75% 100%. As debilitaes entram caso a vtima receba 50% de dano da armadilha ou mais, caso contrrio s recebera o dano.

No efeito em que a vtima fica presa, ela poder fazer um teste usando a habilidade mais pertinente para o momento a critrio do mestre com dificuldade difcil. Exemplo: se cair em um buraco profundo, poder tentar Escalar Superfcies, um galho grande caiu em cima da vtima ele pode Aplicar Esforo para retirar, uma rede prende a vtima fazendo assim usar Escapar e etc...

O evocador s pode manter at 3 armadilhas mgicas ao mesmo tempo. Caso faa uma quarta armadilha, a primeira ser quebrada e assim por diante. Enquanto a armadilha durar, o evocador sentir quando a armadilha for disparada de onde ele estiver. A armadilha s pode ser detectada atravs da magia deteco de magias.`,alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RODADA,valor:10}},{id:ut.armaduraElemental,nome:"Armadura Elemental",niveis:[{id:"0",descricao:"Absorve 6 de dano.",nivel:1},{id:"1",descricao:"Absorve 12 de dano.",nivel:3},{id:"2",descricao:"Absorve 20 de dano.",nivel:6},{id:"3",descricao:"Absorve 30 de dano.",nivel:8},{id:"4",descricao:"Absorve 40 de dano.",nivel:10}],descricao:`Com o uso deste encantamento o evocador forma em torno de si um campo de energia mgica que o protege de ataques de elementos naturais como fogo, gelo, eletricidade, etc. Esta magia pode ser usada fora de Ambiente Natural sem nenhum problema.

Este feitio pode absorver certa quantidade de dano feito por ataques elementais antes de ser dissipada. A quantidade de dano que pode ser absorvida antes do feitio entrar em colapso  determinada pela dificuldade do efeito usado como explicado abaixo. Caso a durao do feitio se esgote, a armadura se desfaz e os pontos restantes de absoro so perdidos.`,alcance:{tipo:be.PESSOAL},duracao:{tipo:re.RODADA,valor:15},evocacao:{tipo:He.INSTANTANEA}},{id:ut.armaduraNatural,nome:"Armadura Natural",niveis:[{id:"0",descricao:"Absorve 6 pontos de dano.",nivel:1},{id:"1",descricao:"Absorve 12 pontos de dano.",nivel:2},{id:"2",descricao:"Absorve 18 pontos de dano.",nivel:4},{id:"3",descricao:"Absorve 24 pontos de dano.",nivel:6},{id:"4",descricao:"Absorve 30 pontos de dano.",nivel:8},{id:"5",descricao:"Absorve 36 pontos de dano.",nivel:10}],descricao:`Com o uso deste encantamento, o evocador forma em torno de si um campo de energia que o protege de ataques de origem natural.

Este feitio pode absorver certa quantidade de dano feito por magias que utilizem a fora da natureza e que causem dano direto (Chuva cida, Feixes Incandescentes, Relmpagos, etc.}, parando ento de funcionar.

A quantidade de dano que pode ser absorvida antes do feitio entrar em colapso  determinada pela dificuldade do efeito usado, como explicado abaixo. Caso a durao do feitio se esgote, a armadura se desfaz e os pontos restantes de absoro so perdidos.`,alcance:{tipo:be.PESSOAL},duracao:{tipo:re.MINUTO,valor:10},evocacao:{tipo:He.INSTANTANEA}},{id:ut.arqueirismo,nome:"Arqueirismo",niveis:[{id:"0",duracao:{tipo:re.USO,valor:1},descricao:"O tiro nunca erra o alvo (verde e branco viram amarelo) quando usada em situao fora de combate e o evocador possa se concentrar por pelo menos uma rodada.",nivel:1},{id:"1",duracao:{tipo:re.USO,valor:1},descricao:"Semelhante ao anterior, mas pode ser usada para fazer um ataque de surpresa parcial (antes de um combate ser iniciado) o que permite se usar a tcnica de Ataque Oportuno, mas  necessrio se concentrar por duas rodadas.",nivel:3,secundario:{id:"0",nivel:0,duracao:{tipo:re.RODADA,valor:3},descricao:"Alm disto, h a opo de usar durante um combate, caso obtenha um dano no fsico ou 100% na EH o oponente  desarmado ou o que estiver segurando com uma das mos  deixado cair. O evocador pode escolher qual das mos ele deseja afetar."}},{id:"2",duracao:{tipo:re.RODADA,valor:3,outraDescricao:"3 rodadas, mas a penalidade -2 e o efeito da perda de EF dura at a flecha ser retirada (que gasta pelo menos uma ao de combate)"},descricao:"Durante um combate, caso obtenha um dano no fsico, o evocador encrava a flecha no corpo do oponente, que causar -2 de penalidade em aes (combate e habilidades) que exijam movimentao. O oponente passa a perder 1 ponto de EF por rodada.",nivel:5},{id:"3",duracao:{tipo:re.RODADA,valor:5},descricao:"O jogador faz 2 ataques (com o arco) na rodada. Os 2 ataques so normais, mas o dano do segundo ter um de redutor de 25% no dano. Para o segundo ataque, que possui o redutor de 25% no dano, caso erre o alvo (branco) este no vira falha (verde).",nivel:7},{id:"4",duracao:{tipo:re.RODADA,valor:5},descricao:"O jogador pode optar em causar o dobro do dano quando um crtico  obtido. Deve-se fazer o rolamento do crtico para saber o dano obtido, mas os efeitos especiais no devem ser contados. Este efeito deve ser usado antes de se fazer o rolamento que indica o dano do efeito crtico.",nivel:9}],descricao:`Esta magia aumenta a habilidade com arco e flecha do evocador, concedendo bnus e efeitos especiais. Esta magia deve ser evocada no incio de uma rodada, antes do uso de arco e flecha, sendo que ela no conta como uma ao na rodada. Os efeitos de cada nvel no so cumulativos entre si, mas o jogador pode escolher qualquer efeito do nvel lanado para baixo. Esta escolha deve ser feita em cada rodada que a magia durar, logo aps se lanar os dados do ataque.

Exemplo: Um rastreador evoca Arqueirismo 7. Ele faz um rolamento de dado e ele tira amarelo. Ele pode escolher os efeitos de 1 a 7, mas como tirou amarelo, decide escolher o efeito 7 que permite ele fazer um segundo ataque com 25% de redutor. Como a magia dura 3 rodadas, na segunda rodada ele faz um novo tiro e desta vez ele tira azul (100%) ento ele decide usar o efeito 3 e desarma o oponente que foge do combate. Na 3 rodada, ele decide atacar outro oponente e tira um crtico. Como ele lanou o efeito 7, ento decide usar o efeito 7. O critico  resolvido normalmente e ele pode fazer um segundo ataque com 25% de reduo do dano. Se ele tivesse lanado Arqueirismo 9, poderia ter escolhido o efeito de dobrar o dano.

Uma limitao desta magia,  que o Rastreador tem de fazer pelo menos uma vez um pequeno ritual de 30 minutos de purificao de seu arco e de suas flechas. Este ritual no gasta Karma e deve ser feito em ambiente natural. Somente aps este ritual a magia pode ser evocada, pois  a sua ligao com a natureza que permite ele fazer estes efeitos extraordinrios. O ritual no precisa ser refeito a cada evocao, mas caso o Rastreador saia do ambiente natural por mais de uma semana ligao  perdida e ele deve fazer de novo o ritual de purificao antes de poder usar novamente a magia.`,alcance:{tipo:be.PESSOAL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.INSTANTANEA}},{id:ut.assimilacao,nome:"Assimilao",niveis:[{id:"0",duracao:{tipo:re.MINUTO,valor:10},descricao:"Permite fazer uma Assimilao Temporria de qualquer magia da lista do Colgio Alqumico de nvel 1.",nivel:1},{id:"1",duracao:{tipo:re.HORA,valor:1},descricao:"Permite fazer uma Assimilao Armazenada em qualquer magia da lista do Colgio Alqumico e da lista bsica de nvel mximo 2.",nivel:2},{id:"2",duracao:{tipo:re.MINUTO,valor:30},descricao:"Permite fazer uma Assimilao Temporria de qualquer magia da lista do Colgio Alqumico e da lista bsica de nvel 2.",nivel:4},{id:"3",duracao:{tipo:re.HORA,valor:6},descricao:"Permite fazer uma Assimilao Armazenada de qualquer magia contida na lista de todos os Colgios de Magia e da lista bsica, de nvel mximo 5.",nivel:6},{id:"4",duracao:{tipo:re.HORA,valor:3},descricao:"Permite fazer uma Assimilao Temporria de qualquer magia contida na lista de todos os Colgios de Magia e da lista bsica, de nvel mximo 6.",nivel:8},{id:"5",duracao:{tipo:re.HORA,valor:12},descricao:"Permite fazer uma Assimilao Armazenada de qualquer magia contida na lista de todos os Colgios de Magia, da lista bsica, da lista de Bardo e Rastreador, de nvel mximo 8.",nivel:9},{id:"6",duracao:{tipo:re.HORA,valor:6},descricao:"Permite fazer uma Assimilao Temporria de qualquer magia contida na lista de todos os Colgios de Magia, da lista bsica, da lista de Bardo e Rastreador, de nvel mximo 8.",nivel:10}],descricao:`Com este encanto o mago poder copiar os feitios de outros msticos fazendo com que seja possvel utiliz-los.

Para copiar os encantos de outro mstico, o evocador dever primeiramente evocar esta magia sobre um alvo escolhido (que ter direito a resistir). Quando o alvo falhar em sua resistncia  magia, o evocador estar ligado energeticamente com ele durante as prximas 7 rodadas. A partir de ento, o evocador poder copiar qualquer encanto que o alvo evocar dentro deste perodo de tempo. O evocador dever escolher at 3 dos feitios que o alvo evocar durante o tempo da ligao energtica. Depois de escolhido(s) o(s) encanto(s}, a ligao energtica ser rompida e o(s) encanto(s) escolhido(s) ser (ao) assimilado(s).

Exemplo: Um mago tentar copiar o encanto Maldies evocado por um demnio, mas a evocao da magia Maldies (3 rodadas) deve ser realizada durante o tempo da ligao energtica (7 rodadas). Se a evocao da magia Maldies fosse iniciada na quinta rodada da ligao energtica, o efeito da maldio seria lanado aps o termino da ligao energtica (8 radada}, por isso o encanto no poderia ser Assimilado. O mesmo vale para uma situao em que a ligao energtica seja feita durante o tempo da evocao de alguma magia.

A Evocao, o alcance e a durao da magia assimilada permanecem iguais aos da magia original, ou seja, o mago poder utilizar a magia assimilada normalmente. Mas note que somente o efeito de dificuldade usado pelo alvo pode ser evocado. Se a magia assimilada for Doenas 7, o evocador no poder utilizar os efeitos de Doenas 5, 3 e 1.

Existem duas formas de assimilao de magias: A Assimilao Temporria e a Assimilao Armazenada.

A Assimilao Temporria permite que o evocador use a magia assimilada, o quanto quiser, em um determinado perodo curto de tempo.

A assimilao Armazenada permite que uma magia assimilada seja estocada durante um perodo longo de tempo, no entanto ela s poder ser evocada uma vez aps a assimilao.

Note que o mstico no pode manter mais de 3 magias assimiladas em um mesmo perodo de tempo, seja qual for o tipo de Assimilao realizada.

A origem da magia que poder ser assimilada, o tipo de assimilao e o tempo de cada, variam com a dificuldade do efeito. (A lista bsica descrita nos efeitos da magia refere-se apenas a lista de magias bsicas dos Magos).

No  possvel assimilar magias de itens mgicos Pois somente criaturas podem ser alvos deste feitio.`,alcance:{tipo:be.METRO,valor:20},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.INSTANTANEA}},{id:ut.assombracao,nome:"Assombrao",niveis:[{id:"0",dinheiro:{prata:2},descricao:"Atrai at 2 estgios de mortos-vivos para o local assombrado.",nivel:1},{id:"1",dinheiro:{prata:4},descricao:"Atrai at 3 estgios de mortos-vivos para o local assombrado.",nivel:2},{id:"2",dinheiro:{prata:8},descricao:"Atrai at 6 estgios de mortos-vivos para o local assombrado.",nivel:4},{id:"3",dinheiro:{prata:12},descricao:"Atrai at 9 estgios de mortos-vivos para o local assombrado.",nivel:6},{id:"4",dinheiro:{prata:16},descricao:"Atrai at 12 estgios de mortos-vivos para o local assombrado.",nivel:8},{id:"5",dinheiro:{prata:20},descricao:"Atrai at 15 estgios de mortos-vivos para o local assombrado.",nivel:10}],descricao:`Esta magia canaliza uma quantidade de energia negativa e as vincula a um ambiente fechado (casas, torres, castelos...) fazendo com que mortos-vivos incorpreos (Fantasmas, Assombraes, Sombras, Espectros...) sejam atrados para o local. A quantidade e o tipo de criaturas que iro assombrar o local dependem da quantidade de estgios de mortos-vivos que o efeito indicar, assim o efeito de dificuldade 8 poder atrair 4 sombras menores (3+3+3+3=12) ou em vez disso apenas um espectro maior (12=12). O evocador no tem controle sobre o tipo de criatura que ser atrada para o local (cabe ao mestre decidir quais criaturas sero atradas para o local, de acordo com o nmero de estgios indicado no efeito).

Caso uma pessoa que esteja no local assombrado morra, esta dever fazer uma resistncia  magia, em caso de falha ser transformada em Assombrao, e no poder deixar o local at que o tempo de durao da magia se esgote.

O custo do ritual  de 2 moedas de prata por nvel de dificuldade. A quantidade de estgios de mortos-vivos que sero atrados para o local varia com a dificuldade do efeito. A magia s funciona uma vez e quando um morto-vivo for esconjurado ou destrudo ela no atrair mais mortos-vivos. Enquanto existir um morto-vivo esta magia no poder ser evocada novamente no mesmo lugar.`,alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.ANO,valor:1},evocacao:{tipo:He.RITUAL}},{id:ut.ataqueImpetuoso,nome:"Ataque Impetuoso",niveis:[{id:"0",descricao:"Concede +1/+2/+3/+4 de dano.",nivel:1},{id:"1",descricao:"Concede +2/+4/+6/+8 de dano.",nivel:2},{id:"2",descricao:"Concede +3/+8/+12/+12 de dano.",nivel:4},{id:"3",descricao:"Concede +4/+8/+12/+16 de dano.",nivel:6},{id:"4",descricao:"Concede +5/+10/+15/+20 de dano.",nivel:8},{id:"5",descricao:"Concede +6/+12/+18/+24 de dano.",nivel:10}],descricao:`Com um grito feroz e ensurdecedor, o usurio refora seu corpo e sua arma em um nico ataque impetuoso. Esta magia deve ser lanada ao mesmo tempo em que se faz um ataque, mas no pode ser invocada mais de uma vez na mesma rodada. A magia deve ser lanada antes do dado de ataque ser resolvido e o dano final deve ser a soma do dano que a arma provocaria normalmente, somado ao dano que esta magia provoca mais o bonus de aura. O dano extra  considerado mgico, do mesmo tipo que a arma que a provocou (corte mgico no caso de um machado, por exemplo).

Nos nveis da magia apresentados abaixo, os danos esto apresentados na forma dos resultados Amarelo/Laranja/Vermelho/Azul, que ainda devem ser somados  aura. Exemplo:

Kardim sacerdote de Crezir possui Aura 3, faz um ataque com sua espada e tira laranja, como ele tem Fora 2, faria 12 de dano (10+2). Como ele invocou (antes de rolar o dado) a magia Ataque Impetuoso 6 ele far um total de 23 de dano (10 da arma, 2 da fora, 8 da magia e 3 da Aura).`,extra:["A magia s concede bnus de dano. Nenhum bnus  concedido nas Colunas de Ataque."],alcance:{tipo:be.PESSOAL},duracao:{tipo:re.INSTANTANEA},evocacao:{tipo:He.INSTANTANEA}},{id:ut.ataqueTermico,nome:"Ataque Trmico",niveis:[{id:"0",descricao:"Afeta no mximo um ser ou objeto, alterando em 9C a temperatura do corpo, causando 3 pontos de dano se usado em criaturas.",nivel:1},{id:"1",descricao:"Afeta no mximo dois seres ou objetos, alterando em 9C a temperatura externa do corpo, causando 3 pontos de dano se usado em criaturas.",nivel:2},{id:"2",descricao:"Afeta no mximo dois seres ou objetos, alterando em 12C a temperatura externa do corpo, causando 5 pontos de dano se usado em criaturas.",nivel:4},{id:"3",descricao:"Afeta no mximo trs seres ou objetos, alterando em 12C a temperatura externa do corpo, causando 5 pontos de dano se usado em criaturas.",nivel:6},{id:"4",descricao:"Afeta no mximo trs seres ou objetos, alterando em 21C a temperatura externa do corpo, causando 7 pontos de dano se usado em criaturas.",nivel:8},{id:"5",descricao:"Afeta no mximo quatro seres ou objetos, alterando em 30C a temperatura externa do corpo, causando 10 pontos de dano se usado em criaturas. Se o alvo falhar em sua resistncia  magia deve tentar resistncia fsica contra fora de ataque 1, em caso de falha a vtima fica inconsciente por uma hora por choque trmico.",nivel:10}],descricao:"Com essa magia o mago pode alterar a temperatura externa de objetos e/ou seres, (seres tm direito a resistir  magia.). Caso o alvo falhe na resistncia levar o dano descrito na EF, sem armadura.",alcance:{tipo:be.METRO,valor:30},duracao:{tipo:re.INSTANTANEA},evocacao:{tipo:He.RODADA,valor:1}},{id:ut.atoFalho,nome:"Ato Falho",niveis:[{id:"0",descricao:"O alvo recebe -3 Colunas de Resoluo na sua prxima rodada em aes de ataque ou Teste de Habilidade.",nivel:1},{id:"1",descricao:"O alvo recebe -5 Colunas de Resoluo na suas duas prximas rodadas em aes de ataque ou Teste de Habilidade. O alvo  malsucedido automaticamente num teste de dificuldade Muito Difcil ou Absurdo.",nivel:3},{id:"2",descricao:"O alvo recebe -7 Colunas de Resoluo nas suas prximas trs rodadas em aes de ataque ou Teste de Habilidade. O encanto tambm afeta a mente do alvo fazendo-o ser obrigado a responder com a verdade um questionamento de at seis palavras feito pelo sacerdote.",nivel:5},{id:"3",descricao:"O alvo recebe -9 Colunas de Resoluo nas suas prximas quatro rodadas em aes de ataque ou Teste de Habilidade. O alvo  malsucedido automaticamente num teste de dificuldade Difcil, Muito Difcil ou Absurdo e encanto tambm afeta a mente do alvo fazendo-o ser obrigado a responder com a verdade um questionamento de at seis palavras feito pelo sacerdote.",nivel:7},{id:"4",descricao:"O alvo recebe -11 Colunas de Resoluo nas suas prximas cinco rodadas em aes de ataque ou Teste de Habilidade. O encanto tambm afeta a mente do alvo fazendo-o se sentir compelido a delatar suas falhas morais. O alvo deve responder a um questionamento de at seis palavras feito pelo sacerdote ou (caso no haja questionamento) contar algo do qual se arrepende profundamente.",nivel:9}],descricao:`Com este milagre o sacerdote de Plandis pode canalizar o poder de seu deus e utiliza-lo para prejudicar e confundir seu inimigo, causando-lhe uma ao falha. O encanto tambm pode afetar a mente do alvo deixando-o inclinado a delatar suas falhas caso no obtenha xito em uma Resistncia a Magia. A evocao do encanto  discreta, s podendo ser percebida por meios mgicos ou num teste Muito Difcil de Misticismo. Quando falha na sua RM a vtima sofre uma penalidade nas suas aes na prxima rodada conforme o nvel indicado. Em alguns nveis a magia obriga o alvo a falar a verdade ou a contar um de seus crimes pessoais passados, o que o alvo falar depender de estmulos externos na forma de uma pergunta feita pelo sacerdote aps a conjurao. Caso este no pergunte nada a vtima falar algo do qual se arrepende, de acordo com sua conscincia.

Note que a magia no afeta a personalidade do alvo, um assassino poderia se arrepender de no ter matado vtimas o bastante antes de ser pego, um padeiro de adicionar gua ao po antes de pesa-lo, etc.`,alcance:{tipo:be.METRO,valor:50},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.INSTANTANEA}},{id:ut.auraAmeacadora,nome:"Aura ameaadora",niveis:[{id:"0",descricao:"As vtimas que forem bem sucedidas em um teste de Usar os Sentidos ficaro sem ao por uma rodada e sofrero na prxima rodada que voltarem a jogar um reajuste negativo de -1 em todos os rolamentos por 3 rodadas. Entretanto mesmo falhando no teste este obrigatoriamente perceber a obra de arte se trs pessoas de seu grupo forem bem sucedidas no teste de Usar os Sentidos.",nivel:1},{id:"1",descricao:"As vtimas que forem bem sucedidas em um teste de Usar os Sentidos ficaro sem ao por uma rodada e sofrero na prxima rodada em que jogar reajuste de -1.",nivel:2},{id:"2",descricao:"As vtimas ficam sem ao por 4 rodadas.",nivel:4},{id:"3",descricao:"As vtimas ficam sem ao por 6 rodadas.",nivel:6},{id:"4",descricao:"As vtimas ficam sem ao por 8 rodadas.",nivel:8},{id:"5",descricao:"As vtimas ficam compenetradas na obra de arte por 5 rodadas, devendo ainda se submeter a um teste de resistncia mgica, falhando receber -6 pontos negativos em todas as habilidades nas prximas 5 rodadas.",nivel:10}],descricao:`Com o encanto Aura Ameaadora, o evocador  capaz de imbuir uma expressividade ameaadora em uma escultura ou pintura, na qual todo aquele que olhar para o objeto de arte se sentir intimidado e incomodado com o objeto em questo.

Independentemente de ser uma pintura ou uma escultura, ela dever retratar uma imagem intimidadora, mas no necessariamente malvola. Assim poder ser uma escultura de uma grgula ou de alguma besta, como pode ser uma esttua de um rei em sua majestade.

No caso de uma pintura, pode ser retratada uma cena violenta como uma guerra. Tal imagem necessariamente dever ter no mnimo dois metros de comprimento e de largura. J como escultura, as esttuas devero ter no mnimo dois metros e meio de altura.

Tanto em um caso como em outro, o objeto de arte tem que ser muito familiar ao evocador, ou ele prprio tendo feito ou ento sendo conhecedor das tcnicas de escultura e/ou pintura e da histria daquela obra especfica para que o encanto possa ser realizado.

Atendidas essas condies, o encanto ser utilizado apenas tocando na pintura ou escultura. Toda pessoa,  exceo do evocador, que olhar para aquela imagem dever fazer um teste de Resistncia  Magia. Caso passe, a pessoa se sentir incomodada pela pintura ou pela esttua, mas no receber nenhum outro efeito. Caso falhe, no entanto, a(s) vtima(s) no conseguiro fazer mais nada a no ser ficar olhando para a imagem ameaadora, temerosas que tal imagem faa algo contra ela(s). Caso a vtima seja atacada neste estado, o feitio se quebra. No entanto, este ataque  considerado como surpresa parcial.

O encantamento do objeto  de efeito permanente, e a pintura ou escultura ficar encantada passando a possuir aura imbuda. O efeito s  quebrado se for usado com sucesso a magia Quebra de Encantos.

Uma mesma pessoa no pode ser vtima duas vezes seguidas de uma s evocao. Este encanto  muitas vezes usado para proteger locais importantes, sendo a magia usada em pinturas gravadas na porta do local ou em esttuas prximas.`,alcance:{tipo:be.TOQUE},duracao:{tipo:re.PERMANENTE},evocacao:{tipo:He.INSTANTANEA}},{id:ut.auraDivina,nome:"Aura Divina",niveis:[{id:"0",descricao:"Todos os demnios e mortos-vivos recebem -1 coluna de ataque.",nivel:1},{id:"1",descricao:"Todos os demnios e mortos-vivos recebem -2 colunas de ataque.",nivel:2},{id:"2",descricao:"Todos os demnios e mortos-vivos recebem -3 colunas de ataque.",nivel:4},{id:"3",descricao:"Todos os demnios e mortos-vivos recebem -4 colunas de ataque.",nivel:6},{id:"4",descricao:"Todos os demnios e mortos-vivos recebem -5 colunas de ataque.",nivel:8},{id:"5",descricao:"Todos os demnios e mortos-vivos recebem -6 colunas de ataque.",nivel:10}],descricao:"Com este milagre, o sacerdote de Cruine cria ao seu redor uma aura que incomoda demnios e mortos-vivos. Para essas criaturas a aura repele sua proximidade, dificultando atacar o sacerdote e seus companheiros que estejam na rea protegida. Na prtica, qualquer demnio ou morto-vivo que atacar ter seus ataques penalizados, sem ter direito a resistncia  magia, uma vez que a aura no ataca magicamente as criaturas e se constitui em uma espcie de empecilho ao ataque. ",extra:["Mesmo ataques  distncia, inclusive magias de ataque, recebem penalidade. Entretanto, para qualquer outro ser alm dos mencionados, a aura no tem qualquer efeito e  invisvel e, portanto, imperceptvel para seres no-msticos. Apenas o sacerdote  protegido pela aura."],alcance:{tipo:be.PESSOAL},duracao:{tipo:re.RODADA,valor:20},evocacao:{tipo:He.INSTANTANEA}},{id:ut.auraEmocional,nome:"Aura Emocional",niveis:[{id:"0",dinheiro:{ouro:1},duracao:{tipo:re.DIA,valor:1},alcance:{tipo:be.METRO,valor:1,isRaio:!0},descricao:"Imbui um local com uma aura cuja rea seja de at 1 metro de raio.",nivel:1},{id:"1",dinheiro:{ouro:5},duracao:{tipo:re.MES,valor:1},alcance:{tipo:be.METRO,valor:5,isRaio:!0},descricao:"Imbui um local com uma aura cuja rea seja de at 5 metros de raio.",nivel:3},{id:"2",dinheiro:{ouro:10},duracao:{tipo:re.MES,valor:1},alcance:{tipo:be.METRO,valor:10,isRaio:!0},descricao:"Imbui um local com uma aura cuja rea seja de at 10 metros de raio. ",nivel:5},{id:"3",dinheiro:{ouro:20},duracao:{tipo:re.ANO_E_DIA},alcance:{tipo:be.METRO,valor:15,isRaio:!0},descricao:"Imbui um local com uma aura cuja rea seja de at 15 metros de raio.",nivel:7},{id:"4",dinheiro:{ouro:40},duracao:{tipo:re.ANO,valor:13},alcance:{tipo:be.METRO,valor:20,isRaio:!0},descricao:"Imbui um local com uma aura cuja rea seja de at 20 metros de raio. A durao  de 13 anos e o ritual custa 40 medas de ouro.",nivel:9}],descricao:`Os grandes acontecimentos deixam marcas profundas nas pessoas, modificando suas motivaes, crenas, comportamento, enfim toda sua vida. Mas no s nas pessoas as marcas so evidentes, mas tambm em um local. O campo onde o massacre ocorreu, a casa de interrogatrio, o templo que serviu de refgio: todos podem ter uma marca que lembre os acontecimentos passados. O encanto Aura Emocional  capaz de imbuir um local com uma aura de modo que todo aquele que dele se aproximar sentir uma sensao que corresponda  histria do local. A distncia e o tempo que a aura tem efeito variam conforme o nvel, assim como os materiais necessrios para a evocao.

Uma vez na presena da aura, qualquer ao que vise contrariar o sentimento do local s poder ser realizada se a pessoa passar em um teste de Resistncia  Magia contra o nvel da magia. Esse teste dever ser realizado a cada rodada at que o indivduo falhe na sua Resistncia  Magia ou saia da rea. Assim, se um campo onde foram mortos vrios inocentes estiver imbudo de uma aura, qualquer atitude que mostre felicidade no poder ser realizada a menos que o indivduo passe na Resistncia  Magia. Da mesma forma, se uma sala na qual houve um grande acordo de paz entre reinos, for imbuda com uma aura, toda e qualquer ao que procure desavenas s poder ser realizada caso a pessoa passe na sua Resistncia  Magia. Isso poder render muitos benefcios, na medida em que impede as pessoas de tomarem aes indesejadas. Dessa forma, o evocador poder se utilizar desses locais para outros fins, como por exemplo, se refugiar em um local marcado pela paz ou comover um lder autoritrio ao lev-lo a um lugar marcado pela tristeza.

Para se realizar a magia  necessrio que seja escolhido um ponto central no local a ser encantado. Alm disso,  necessrio que um evento marcante e conhecido pelo evocador tenha ocorrido envolvendo o local. Obviamente a aura imbuda necessariamente provocar um sentimento condizente com tal acontecimento.`,extra:["Caso a pessoa no passe na Resistncia  Magia, ela ter uma forte sensao de que no pode fazer isso naquele lugar, a ponto de impedi-la de faz-lo. No caso da pessoa conhecer o evento ocorrido, ela obrigatoriamente ir lembr-lo."],alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RITUAL}},{id:ut.auraMagica,nome:"Aura Mgica",niveis:[{id:"0",duracao:{tipo:re.DIA,valor:3},alcance:{tipo:be.METRO,valor:10,isQuadrado:!0},descricao:"Imbui aura mgica a uma superfcie de at 10m, que passar a ter Resistncia  Magia 1.",nivel:1},{id:"1",duracao:{tipo:re.SEMANA,valor:1},alcance:{tipo:be.METRO,valor:100,isQuadrado:!0},descricao:"Imbui aura mgica a uma superfcie de at 100m, que passar a ter Resistncia  Magia 4.",nivel:2},{id:"2",duracao:{tipo:re.MES,valor:1},alcance:{tipo:be.METRO,valor:1e3,isQuadrado:!0},descricao:"Imbui aura mgica a uma superfcie de at 1.000m, que passar a ter Resistncia  Magia 7.",nivel:4},{id:"3",duracao:{tipo:re.ANO_E_DIA},alcance:{valor:1e4,isQuadrado:!0,tipo:be.METRO},descricao:"Imbui aura mgica a uma superfcie de at 10.000m, que passar a ter Resistncia  Magia 10.",nivel:6}],descricao:`Atravs desta magia, o mago imbui uma aura mgica a uma superfcie de origem mineral ou vegetal, como paredes de pedra, portes de ferro, tbuas de madeira, telhas de barro, etc.

 possvel imbuir auras mgicas a duas ou mais superfcies, desde que a soma de suas reas no ultrapasse a capacidade mxima permitida pelo efeito usado.

A aura atribuda  superfcie se portar exatamente como a aura de uma criatura, por isso, esta passar a ter resistncia  magia (dada pelo efeito) para qualquer feitio que aja sobre ela, como Desintegrao e Telecinese, ou magias que possam ser vinculadas a ela como Manipulao de Luz e Silncio. A superfcie encantada poder ainda anular magias como Geomanipulao e Piromanipulao que se quebram ao entrar em contato com a aura de criaturas. A aura tambm impede que Criaturas incorpreas como Espectros atravessem as paredes encantadas.

 impossvel imbuir aura mgica a criaturas, pois estas j possuem aura prpria, caso isso seja feito a magia no ter nenhum efeito e os materiais sero gastos inutilmente.

A rea da superfcie afetada, a resistncia  magia dada, e o tempo que a aura permanece em atividade variam com o efeito. O custo do ritual  de 1 moeda de ouro por nvel de dificuldade do efeito.

O mago pode evocar essa magia diversas vezes para ampliar a rea da superfcie, mas a cada evocao, o valor do ritual dever ser gasto novamente.`,alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RITUAL}},{id:ut.ausencia,nome:"Ausncia",niveis:[{id:"0",descricao:"Permite passar despercebido por locais onde no h a menor preocupao de reconhecimento, como uma cidade em um dia normal.",nivel:1},{id:"1",descricao:"Permite passar despercebido por locais onde h pouca preocupao de reconhecimento como em uma taverna muito movimentada.",nivel:3},{id:"2",descricao:"Permite passar despercebido por locais onde h mdia preocupao de reconhecimento, como uma biblioteca comum ou um templo.",nivel:5},{id:"3",descricao:"Permite passar despercebido por locais onde h alta preocupao de reconhecimento, como uma estalagem de luxo.",nivel:8}],descricao:`A normalidade gera indiferena. O que  muito comum acaba passando desapercebido, sejam lugares, objetos e at pessoas. Com o encanto Ausncia o evocador  capaz de se apresentar de forma to comum que acaba no sendo notado. Na prtica  como se ele se tornasse, de fato, invisvel.

Obviamente o evocador dever sempre estar dentro dos padres de normalidade para que o feitio funcione. Assim, se no meio da cidade ele estiver vestido com roupas suntuosas no poder passar despercebido; se ele entra em um templo de Selimom portando uma arma  mostra, ser notado invariavelmente. Nesse sentido  sempre necessrio que se estude antes o local pelo qual ele queira passar despercebido.

Quanto maior o nvel da magia, mais fcil ser passar por locais onde h ateno para a identificao das pessoas, conforme consta nos nveis descritos. Para todos os efeitos, algum sobre o efeito de Ausncia  como se estivesse invisvel para as outras pessoas.`,extra:[" impossvel passar despercebido por locais aonde h total preocupao em se reconhecer as pessoas, como na entrada de um castelo ou colgio de magia, no caso de pessoas que estejam procurando pelo evocador ou ainda em locais com pouco movimento."],alcance:{tipo:be.PESSOAL},duracao:{tipo:re.HORA,valor:1},evocacao:{tipo:He.INSTANTANEA}},{id:ut.auxilioIncerto,nome:"Auxlio Incerto",niveis:[],descricao:`Com este milagre, o sacerdote de Plandis pede uma ajuda a seu deus, e  respondido de forma aleatria. A resposta poder ser de grande ajuda ou mesmo intil. O tipo de ajuda depende de qual contexto a magia foi evocada em situaes descritas abaixo.

Preparao & Explorao - Quando os personagens esto explorando (ou se preparando) para um lugar o evocador pode rezar ao seu deus clamando por um milagre (evocao de 10 minutos). O resultado ser lhe concedido no momento de maior necessidade daquele dia. Este contexto s pode ser usado uma vez ao dia. Em algum momento de descanso, o jogador precisa avisar ao mestre que seu personagem vai rezar Auxlio Incerto e sorteia o efeito. Pelas prximas 24h (dentro do jogo) ele pode decidir quando ativar o efeito sorteado.

Combate - Quando esta magia  evocada durante o combate.

Interpretao - Quando os personagens esto interagindo com outras pessoas (exemplo: conversando, negociando}, ou realizando algum trabalho.

A evocao tambm varia com o tipo: para o contexto de Combate e Interpretao  instantneo, e para o efeito do contexto de Preparao & Explorao  um ritual de 10 min. Ao evocar o milagre o sacerdote faz sua orao. A resposta dessa orao depende do que ser sorteada em uma das 3 listas que mais se aproxime do contexto. Ento, definida a lista, joga-se um D20 para definir o efeito. A escolha do no nvel do efeito  de livre deciso do jogador e pode ser entre 1 e o nvel que personagem tem em Auxlio Incerto. Esta escolha deve ser feita antes do sorteio e o Karma  gasto de acordo com o nvel do efeito escolhido.

Observao: caso a magia sorteada possua alguma limitao que impediria de ela ser evocada a magia  perdida. Mas  uma opo do mestre fazer que algo inusitado/improvvel acontea e que esta limitao suma, por exemplo: Relmpagos s pode ser evocada quando tem uma nuvem em reas a cu aberto, mas o Sacerdote est em uma grande caverna, ... uma nuvem surge temporariamente no teto para suprir a limitao!. Note que quem decide se algo inusitado/improvvel vai acontecer  o Mestre que pode avaliar se o Sacerdote est ou no nas graas de Plandis. Sacerdotes que com frequncia no seguem os preceitos do deus dificilmente recebero esta "ajudinha".

Combate

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Apelo

rea de Paz

Ataque Impetuoso

Auxlio Natural

Bravura

Corrente

Ddivas da Guerra

Dardos de Gelo

Degenerao Fsica

Feixes Incandescentes

Fogo Divino

Fora Sagrada

Onda Destrutiva

Presena Intimidadora

Relmpagos

Vigor

O mestre do jogo escolhe um efeito de qualquer (que seja favorvel ao personagem).

O jogador escolhe a ajuda de sua preferncia desse nmero para baixo.

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que ser um ajuda que sempre ser uma coisa inusitada (e til) que ir acontecer (o mestre escolhe). Por exemplo uma vaca cai do cu em cima de um inimigo.

Explorao e Preparao

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Deteco de Magias

Hidromanipulao

Lendas

Orientao

Perfeio.

Persistncia

Proteo Divina.

Purificao

Resistncia

Resistncia Elemental

Restaurao

Santurio Natural

Sexto Sentido

Viso de Batalhas

Viso Mstica

Viso Noturna

O jogador escolhe a ajuda de sua preferncia desse nmero para baixo.

O mestre do jogo escolhe um efeito de qualquer (que seja favorvel ao personagem).

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que ser um ajuda que sempre ser uma coisa inusitada (e til) que ir acontecer (o mestre escolhe). Por exemplo, um rastreador misterioso aparece e ajuda a passar pela cena.

Interpretao

O personagem recebe a ajuda que o mestre julgar como menos eficaz desta.

Amizade

Ato Falho

Avaliao

Convocao

Detectar Inteno

Empatia

Esplendor

Esquecimento

Linguagem

Maldies

Proteo Mental

Modificar Esprito

Ordens

Seduo

Serenidade

Sugesto

O jogador escolhe a ajuda de sua preferncia desse nmero para baixo.

O mestre do jogo escolhe um efeito de qualquer (que seja favorvel ao personagem)

O jogador recebe 2 ajudas: uma a sua escolha ente o 2 a 18, e outra que ser um ajuda que sempre ser uma coisa inusitada (e til) que ir acontecer (o mestre escolhe). Por exemplo um pessoa com as habilidades ou informaes que o grupo precisa aparece e oferece ajuda por 1 dia como fora de agradecimento a Plandis.

Aps sortear o dado, uma magia ou um efeito autodescritivo vir como resposta. A magia poder ser utilizada como se o prprio sacerdote estivesse evocando e, portanto, ele escolher os inimigos que sero as vtimas dos Relmpagos, ou quem ir ser obrigado a cumprir Ordens, ou mesmo quem ser imobilizado por Correntes. O nvel da magia que vir como resposta  numericamente igual ao nvel da magia utilizada pelo sacerdote (ou maior dependendo da descrio do efeito usado de Auxlio Incerto).

Exemplo: O sacerdote evoca Auxlio Incerto 3 (da lista de Combate) e rola 17 no dado, ele ento evocar a magia Vigor 3. Caso o nvel da magia no exista, deve-se pegar o nvel da magia existente imediatamente acima. Assim a magia que sair for Fogo Divino e ele tiver evocado Auxlio Incerto 3, o efeito que sair ser o 4 j que no existe o efeito 3 na magia Fogo Divino. Nesta situao de no existir o efeito correspondente se no existir um acima, sair ento o efeito abaixo.`,alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.VARIAVEL}},{id:ut.auxilioNatural,nome:"Auxlio Natural",niveis:[{id:"0",descricao:"Todos os inimigos devem fazer um teste de resistncia  magia. Caso falhem, razes agarraro seus ps, animais o atrapalharo etc., fazendo com que tenham -1 em sua coluna de resoluo.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas o ajuste  de -2.",nivel:3},{id:"2",descricao:"Idem ao anterior, mas o ajuste  de -4.",nivel:5},{id:"3",descricao:"Idem ao anterior, mas alm disso, os inimigos sero atacados pela natureza (rvores jogam seus frutos em cima dos inimigos, pedras caem na cabea dos inimigos, relmpagos chegam prximos aos inimigos) podendo sofrer dano mximo de 4.",nivel:7},{id:"4",descricao:"Idem ao anterior mas o dano mximo  8.",nivel:9}],descricao:`Restrio de Uso: Ambiente Natural

Com este encanto o sacerdote clama a sua divindade e pede ao ambiente que o ajude a derrotar seus inimigos.

Atendendo ao pedido do sacerdote, o ambiente o ajudar: rvores movero seus galhos para fazer os inimigos tropearem, ventos fortes podem surgir em alto mar para atrapalhar os inimigos, rochas podero desabar prximo ao inimigo; enfim, diversas so as possibilidades, mas os efeitos so sempre os descritos nos nveis. A grande vantagem deste encanto  sua rea imensa, que serve at mesmo para atrapalhar um exrcito inteiro. Uma observao, entretanto,  que uma mesma rea no pode estar sob efeito de dois Auxlios Naturais. Assim, se dois sacerdotes evocarem a magia, apenas o nvel mais forte funcionar.

Uma observao especial  que esta magia  muito restrita e s deve ser usada em caso de extrema necessidade. Se for evocada por um motivo efmero, numa situao desnecessria ou por motivos pessoais e/ou mundanos, a magia falhar e o sacerdote ser punido por sua divindade.`,extra:["Cada sacerdote s poder usar esse encanto em ambientes especficos. Sacerdotes de Vet e Nil podero usar em plancies ou florestas, de Mon, em montanhas e cavernas, de Ganis, em alto mar, uma praia ou um lago e Sevides em qualquer lugar que seja solo frtil (campos, plantaes, florestas, beiras de rios, ou mesmo um horta)."],alcance:{tipo:be.METRO,valor:500},duracao:{tipo:re.RODADA,valor:15},evocacao:{tipo:He.RODADA,valor:1}},{id:ut.avaliacao,nome:"Avaliao",niveis:[{id:"0",descricao:"Revela se o item  mgico e qual o seu valor de mercado dos itens tocados. Reduz 1 nvel de dificuldade da habilidade Negociao.",nivel:1},{id:"1",descricao:"idem ao anterior, mas revela se algum item tem algo de errado (objeto falso, defeituoso, mal feito) ou  prejudicial ao evocador (contem uma maldio, vai causar prejuzo,  roubado). A revelao apenas informa que h algo de errado, no diz exatamente o que. Reduz 2 nveis de dificuldade da habilidade Negociao.",nivel:3},{id:"2",descricao:"idem ao anterior, mas revela se algum item tem algo de errado (objeto falso, defeituoso, mal feito) ou  prejudicial ao evocador (contem uma maldio, vai causar prejuzo,  roubado). A revelao informa precisamente o que est errado. Alm disto em uma negociao revela as intenes (boas, neutras ou ms) das pessoas que esto envolvidas. Permite tambm avaliar coisas maiores como edificaes pequenas e mecanismos simples. Qualquer magias de controle mental durante uma negociao  bloqueada. Reduz 3 nveis de dificuldade da habilidade Negociao.",nivel:5},{id:"3",descricao:"idem ao anterior, mas revela as essncias do objetos se eles forem mgicos e revela todos os problemas dos objetos (falso, defeituoso, mal feito, contem uma maldio, vai causar prejuzo,  roubado). Ao tocar (ou se aproximar) de um item que possua qualquer encantamento que seria disparado ao tocar (ou se aproximar) este no  disparado ou no faz efeito. Permite tambm avaliar coisas maiores como edificaes (de qualquer tamanho}, mecanismos (de qualquer complexidade}, pontes ou qualquer outra coisa construda/fabricada que se deseje saber seu valor ou problemas. Reduz 4 nveis de dificuldade da habilidade Negociao.",nivel:7},{id:"4",descricao:"idem ao anterior, mas revela precisamente os problemas do objeto e as intenes exatas de quem estiver envolvido em uma negociao. Neste nvel qualquer magia de iluso sobre o item tocado  desfeito e qualquer efeito que de alguma forma possa fazer mal  cancelado. Reduz 5 nveis de dificuldade da habilidade Negociao ou torna Muito Difcil algo que seria Impossvel.",nivel:9}],descricao:"Com este encanto, o evocador  capaz de avaliar quaisquer objetos que ele toque, ajudando-o a saber os valores daqueles objetos.",extra:["Esse encanto ajuda muito pouco na descoberta de algum poder mgico que o item possa vir a ter.  possvel em determinados nveis sentir as intenes dos envolvidos, mas s  pressentido as intenes com relao a uma negociao, no revelando nada que no tenha a ver com a negociao em si.","Os nveis so cumulativos nos efeitos, com exceo do bnus na habilidade Negociao, que sempre ser apenas o maior. Os efeitos de cancelamento s valem para o Sacerdote enquanto ele estiver prximo ou tocando, se outra pessoa se aproximar ou tocar o feito acontecer normalmente sobre a pessoa."],alcance:{tipo:be.TOQUE},duracao:{tipo:re.RODADA,valor:10},evocacao:{tipo:He.INSTANTANEA}},{id:ut.azar,nome:"Azar",niveis:[{id:"0",duracao:{tipo:re.RODADA,valor:1},descricao:"No combate o adversrio perde o equilbrio e no consegue atacar, precisando de um turno para se recompor.",nivel:1,secundario:{id:"0",nivel:0,duracao:{tipo:re.MINUTO,valor:30},descricao:"Fora de combate tudo que a vtima segurar ir cair: uma caneca, um livro, uma bolsa, etc."}},{id:"1",duracao:{tipo:re.RODADA,valor:1},descricao:"No combate o adversrio atinge a si mesmo, causando 25% do dano e descontrole de 1 coluna.",nivel:3,secundario:{id:"0",nivel:0,duracao:{tipo:re.HORA,valor:1},descricao:"Fora de combate a vtima ter crises de tosses to fortes, que durante 1 hora no ter concentrao para realizar tarefa alguma."}},{id:"2",duracao:{tipo:re.RODADA,valor:2},descricao:"No combate o adversrio atinge a si mesmo, causando 50% do dano e descontrole de 2 colunas.",nivel:5,secundario:{id:"0",nivel:0,duracao:{tipo:re.DIA,valor:1},descricao:"Fora de combate os afazeres da vtima tero maior probabilidade de darem errado. Ao cavalgar, ir escorregar da sela. Ao tocar um instrumento, os dedos comeam a tremer; etc. Na prtica, qualquer habilidade utilizada pela vtima ter um nvel a mais de dificuldade."}},{id:"3",descricao:"No combate o adversrio atinge a si mesmo, causando 75% do dano e descontrole de:3 colunas por trs rodadas. Fora de combate eventos indesejados acontecem a vtima: cruza com um antigo inimigo, a ponte a qual iria passar despenca, o item pelo qual procurava j foi vendido, etc. Os efeitos devem ser indiretos. Muitas so as possibilidades e o Mestre (no o evocador) dever escolher qual(is) evento(s) acontece(m) com a vtima, que de preferncia se relacionem bastante com a aventura vigente. Dura 1 semana.",nivel:7},{id:"4",duracao:{tipo:re.RODADA,valor:4},descricao:"No combate o adversrio atinge a si mesmo, causando 100% do dano e descontrole de 4 colunas por quatro rodadas.",nivel:9,secundario:{id:"0",nivel:0,duracao:{tipo:re.MES,valor:1},descricao:"Fora de combate a vtima ser alvo direto de acontecimentos ruins, causando algum agravante fsico. Tropea e torce o p em algum buraco na rua, cai do cavalo e se machuca, corta-se tratando alguma comida,  atacado porque o confundiram com bandido,  o primeiro a sofrer com uma possvel invaso de orcos, etc. Assim como no nvel anterior, muitas so as possibilidades e o Mestre (no o evocador) dever escolher qual(is) evento(s) acontece(m) com a vtima."}}],descricao:`Conhecido como "a maldio de Plandis", o milagre Azar torna a vtima, caso falhe em sua RM, mais suscetvel a eventos estranhos, incomuns e imprevisveis. Nos nveis mais baixos a vtima  tida perante outros como uma pessoa azarada, mas nos mais altos, ela  tida como amaldioada ou perseguida pelos deuses.

 possvel usar essa magia em duas situaes: em combate ou fora de combate. Se usado em combate ter evocao instantnea, se usado fora de combate, evocao de duas rodadas. S poder ser direcionada a um adversrio, e, caso o efeito cause dano, acontecer como em um combate normal: primeiro atinge a EH, o que passar  perdido e, aps acabar a EH, atinge a EF.

Alguns nveis tm descontrole como efeito em situao de combate. Enquanto durar o descontrole, a magia ainda est ativa, logo, s poder ser lanada novamente nessa vtima ou em qualquer outra quando findar as rodadas de descontrole.

Na descrio de cada nvel da magia, o primeiro efeito  em combate. O segundo  fora. O evocador dever escolher um na hora de lanar a magia. O Mestre dever adaptar os efeitos fora de combate a cada tipo de criatura. Por exemplo, caso, por algum motivo qualquer, o evocador deseje lanar a magia em um animal. No teria lgica os dedos tremerem ao tocar um instrumento, devendo o efeito, portanto, ser adaptado.`,alcance:{tipo:be.METRO,valor:30},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.VARIAVEL}}],EW=[{id:ut.barreiraMistica,nome:"Barreira Mstica",niveis:[{id:"0",descricao:"Afeta um total de criaturas cujos Estgios somados no excedam 2.",nivel:1},{id:"1",descricao:"Afeta um total de criaturas cujos Estgios somados no excedam 3.",nivel:2},{id:"2",descricao:"Afeta um total de criaturas cujos Estgios somados no excedam 6.",nivel:4},{id:"3",descricao:"Afeta um total de criaturas cujos Estgios somados no excedam 9.",nivel:6},{id:"4",descricao:"Afeta um total de criaturas cujos Estgios somados no excedam 12.",nivel:8},{id:"5",descricao:"Afeta um total de criaturas cujos Estgios somados no excedam 15.",nivel:10}],descricao:`Com esta magia o evocador cria uma barreira mstica invisvel que o protege da aproximao de qualquer ser que tenha Aura (mesmo que negativa). Aquele que tentar se aproximar a menos de 3 metros do evocador deve fazer uma resistncia  magia. Aqueles que conseguirem podero se aproximar, mas aqueles que falharem sero forados a se manter afastados, pelo menos, 5 metros de distncia. Este encantamento no impede que algum use um ataque a distncia, seja ele mgico ou no (flechas, lanas, raio eltrico, bola de fogo, etc.).

A quantidade de criaturas afetadas  determinada pelos efeitos. Quando vrias criaturas/pessoas entrarem no raio de ao da magia e a quantidade exceder a do poder do efeito, o evocador pode escolher quem ele deseja que seja afetado. A quantidade de pessoas/criaturas que exceder a capacidade do efeito no ser afetada, podendo se aproximar livremente.  possvel evocar novamente a magia caso algum tenha resistido, mas quando a quantidade mxima for atingida no  possvel mais se evocar a magia. O evocado poder escolher no afetar algum a sua livre escolha e no  necessrio se evocar esta magia somente quando algum se aproxima, mas quando a durao se esgotar os efeitos terminam.

Aps a evocao no  necessrio manter a concentrao nesta magia, podendo o evocador fazer qualquer tipo de ao.`,alcance:{tipo:be.PESSOAL},duracao:{tipo:re.RODADA,valor:10},evocacao:{tipo:He.INSTANTANEA}},{id:ut.bencao,nome:"Bno",niveis:[{id:"0",descricao:"Um companheiro do Sacerdote aumenta em 1 sua coluna de ataque.",nivel:1},{id:"1",descricao:"Trs companheiros do Sacerdote aumentam em 1 sua coluna de ataque.",nivel:2},{id:"2",descricao:"Trs companheiros do Sacerdote aumentam em 2 sua coluna de ataque.",nivel:3},{id:"3",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar um companheiro seu mais herico e combativo. O Sacerdote perde 5 pontos de sua EH mas o alvo da magia ganha 15 pontos de EH, podendo ir alm de seu mximo. Caso, ao terminar a durao do milagre, o ser abenoado ainda tenha mais EH que o seu mximo normal, esses pontos excedentes so perdidos. Alm do ganho de EH, o abenoado tambm aumenta em 2 sua coluna de ataque.",nivel:4},{id:"4",descricao:"Trs companheiros do Sacerdote aumentam em 3 sua coluna de ataque.",nivel:5},{id:"5",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar um companheiro seu mais herico e combativo. O Sacerdote perde 5 pontos de sua EH mas o alvo da magia ganha 30 pontos de EH, podendo ir alm de seu mximo. Caso, ao terminar a durao do milagre, o ser abenoado ainda tenha mais EH que o seu mximo normal, esses pontos excedentes so perdidos. Alm do ganho de EH, o abenoado tambm aumenta em 3 sua coluna de ataque.",nivel:6},{id:"6",descricao:"Trs companheiros do Sacerdote aumentam em 4 sua coluna de ataque.",nivel:7},{id:"7",descricao:"cinco companheiros do sacerdote aumentam em 5 sua coluna de ataque.",nivel:8},{id:"8",descricao:"O Sacerdote sacrifica um pouco de seu vigor para tornar trs companheiros seus mais hericos e combativos. O Sacerdote perde 15 pontos de sua EH mas trs de seus companheiros ganham 30 pontos de EH, podendo ir alm de seu mximo. Caso, ao terminar a durao do milagre, o ser abenoado ainda tenha mais EH que o seu mximo normal, esses pontos excedentes so perdidos. Alm do ganho de EH, os abenoados tambm aumentam em 5 sua coluna de ataque.",nivel:9},{id:"9",descricao:"sete companheiros do sacerdote aumentam em 7 sua coluna de ataque.",nivel:10}],descricao:`O Sacerdote pede a seu deus que auxilie seus companheiros na batalha causando um aumento no vigor e na coragem de todos os afetados. Inicialmente, este milagre apenas melhora a capacidade de combate, mas em determinados nveis afeta tambm a Energia Herica dos abenoados.

De qualquer forma, os efeitos no so cumulativos, no se pode abenoar seguidas vezes a mesma pessoa. Note que este milagre serve para abenoar os companheiros do Sacerdote e no a ele mesmo.`,alcance:{tipo:be.METRO,valor:10},duracao:{tipo:re.RODADA,valor:10},evocacao:{tipo:He.INSTANTANEA}},{id:ut.bencaoSelvagem,nome:"Bno Selvagem",niveis:[{id:"0",nivel:1,descricao:"Qualquer ataque realizado por animais em quem recebe a beno passa a ter redutor de -2 colunas. O redutor pela exausto  de -2 por 15 minutos."},{id:"1",nivel:2,descricao:"Idem ao anterior, porm Tcnicas de Combate tambm recebem o mesmo redutor de -2 colunas. O redutor pela exausto  de -2 por 30 minutos."},{id:"2",nivel:4,descricao:"Idem ao anterior, porm o redutor  de -4. A penalidade por exausto  de -2 por um hora."},{id:"3",nivel:6,descricao:"Idem ao anterior, porm o redutor  de -6 . A penalidade por exausto  de -3 por duas horas."},{id:"4",nivel:8,descricao:"Idem ao anterior, porm o o redutor  de -8 . A penalidade por exausto  de -4 por 3 horas."},{id:"5",nivel:10,descricao:"Idem ao anterior, porm o redutor  de -10. A penalidade por exausto  de -5 por 4 horas."}],descricao:`Atravs deste encanto, o mstico cria uma aura protetora em torno de algumas pessoas e/ou companheiros animais do evocador. Esta aura ser imperceptvel e proteger os alvos da magia causando redutores para qualquer ao hostil feita por animais de qualquer porte contra eles. Note que  impossvel conjurar Bno Selvagem em quem no queira receber o encanto, ou que j esteja sobre seu efeito. A magia tem o limite de at 5 pessoas e/ou animais.

Ao trmino do encanto, o evocador sente uma grande exausto e recebe um redutor conforme indicado no efeito usado. Esse redutor no pode ser recuperado de forma mgica.`,extra:["Esta magia s pode ser usada no prprio evocador se pelo menos um dos recebedores da beno seja tambm um de seus animais com qual ele possua Elo Animal. O redutor de exausto se aplica s colunas de ataque (para todos os nveis de efeitos) e nas Tcnicas de Combate (nos efeito 2 a 10)"],alcance:{tipo:be.TOQUE},duracao:{tipo:re.CENA,valor:1},evocacao:{tipo:He.INSTANTANEA}},{id:ut.biogerminacao,nome:"Biogerminao",niveis:[{id:"0",duracao:{tipo:re.HORA,valor:6},descricao:"Causa um efeito plstico menor como a apario de um pequeno galho verde (0,3 cm de dimetro e 5cm de comprimento) em uma parte do corpo (brao, testa, etc.) no causando dores.",nivel:1},{id:"1",duracao:{tipo:re.DIA,valor:1},descricao:"Causa a apario de folhas na superfcie da pele (5% da superfcie corporal) causando dores menores, mas sem efeitos para combate.",nivel:2},{id:"2",duracao:{tipo:re.DIA,valor:2},descricao:"Causa a apario de pequenos galhos (1cm de dimetro; 10cm de comprimento) com folhas na superfcie da pele. Este efeito abrange 15% da superfcie corporal. Causa dores e um ajuste de 3 para combate e magia.",nivel:4},{id:"3",duracao:{tipo:re.DIA,valor:3},descricao:"Causa a apario de galhos mdios e ramificados (2cm de dimetro, 15cm de comprimento) com folhas e flores na superfcie da pele. Este efeito abrange 30% da superfcie corporal, causando dores intensas com um ajuste de 5 para combate e magia.",nivel:6},{id:"4",duracao:{tipo:re.DIA,valor:4},descricao:"Causa a apario de galhos grandes (3 cm de dimetro, 20 de comprimento) e espinhosos com muitas ramificaes, folhas e flores. Este efeito abrange 60% da superfcie corporal, causando dores horrveis, um nmero avanado de galhos e espinhos impede a utilizao de armaduras, elmos e escudos. A Energia Herica  reduzida  metade e a vtima recebe um ajuste de 7 para combate, magia e habilidades.",nivel:8},{id:"5",duracao:{tipo:re.DIA,valor:5},descricao:"Causa a apario de galhos espinhosos muito grandes (4cm de dimetro; 30 cm de comprimento) com muitas ramificaes, folhas e flores. Alm disso, a pele da vtima  ressecada transformando-se em casca de rvore e as ramificaes espinhosas se amparam enroscando-se nos membros e impossibilitando quaisquer movimentos, caracterizando um quadro horrvel. O avanado grau de comprometimento do corpo implica em um teste de Resistncia Fsica contra fora de ataque igual  quantidade de Karma usado (o rolamento deve ser secreto}, em caso de falha a vtima morre ao final do 3 dia se o encanto no for quebrado.",nivel:10}],descricao:`Esta aterrorizante magia castiga um ser (caso falhe em sua resistncia  magia}, condenando-o a uma dor horrvel, podendo matar em seu efeito mais poderoso.

No ser afetado ser implantada uma semente que se desenvolver e utilizar o corpo da vtima como hospedeiro at que a durao do feitio se esgote. Os efeitos da magia acontecem imediatamente aps o alvo falhar em sua resistncia  magia.

O efeito plstico deste feitio causa um quadro espantoso fazendo com que o recipiente da magia seja alvo de escrnio. O tipo de vegetal implantado e as conseqncias de sua estadia variam com a dificuldade do efeito usado. Se alguma parte da planta parasita for arrancada, outra ir crescer imediatamente substituindo esta.`,alcance:{tipo:be.METRO,valor:15},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RODADA,valor:2}},{id:ut.bloqueio,nome:"Bloqueio",niveis:[{id:"0",alcance:{tipo:be.METRO,valor:3,isRaio:!0},duracao:{tipo:re.DIA,valor:1},dinheiro:{ouro:2},descricao:"Impede a entrada de criaturas animadas que sejam de estgio 2 ou inferior. A rea de atuao da magia  de 3m de raio.",nivel:1},{id:"1",alcance:{tipo:be.METRO,valor:5,isRaio:!0},duracao:{tipo:re.SEMANA,valor:1},dinheiro:{ouro:4},descricao:"Impede a entrada de criaturas animadas que sejam de estgio 4 ou inferior. A rea de atuao da magia  de 5m de raio.",nivel:2},{id:"2",alcance:{tipo:be.METRO,valor:7,isRaio:!0},duracao:{tipo:re.SEMANA,valor:2},dinheiro:{ouro:8},descricao:"Impede a entrada de criaturas animadas e construdas que sejam de estgio 7 ou inferior. A rea de atuao da magia  de 7m de raio.",nivel:4},{id:"3",alcance:{tipo:be.METRO,valor:15,isRaio:!0},duracao:{tipo:re.MES,valor:1},dinheiro:{ouro:12},descricao:"Impede a entrada de criaturas animadas e construdas que sejam de estgio 10 ou inferior. A rea de atuao da magia  de 15m de raio.",nivel:6},{id:"4",alcance:{tipo:be.METRO,valor:25,isRaio:!0},duracao:{tipo:re.MES,valor:6},dinheiro:{ouro:16},descricao:"Impede a entrada de criaturas animadas e construdas que sejam de estgio 13 ou inferior. A rea de atuao da magia  de 25m de raio.",nivel:8},{id:"5",alcance:{tipo:be.METRO,valor:50,isRaio:!0},duracao:{tipo:re.ANO_E_DIA},dinheiro:{ouro:20},descricao:"Impede a entrada de criaturas animadas e construdas que sejam de estgio 16 ou inferior. A rea de atuao da magia  de 50m de raio A durao do efeito  de 1 ano e 1 dia.",nivel:10}],descricao:`Esta magia cria um campo de fora mstica que interfere nos encantos de animao impedindo a entrada de criaturas animadas na rea de atuao da magia. Qualquer criatura animada (Armaduras Animadas, variaes de Golens, Estatuas Animadas, Grgulas, rvores Animadas, Corpos Necroanimados etc.) que tentar entrar na rea de atuao do bloqueio dever realizar um teste de resistncia  magia, caso falhe no poder entrar na rea.

A rea de atuao da magia, o poder das criaturas afetadas (estgio) e a durao do encanto variam com a dificuldade do efeito.`,alcance:{tipo:be.VARIAVEL},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RITUAL}},{id:ut.boato,nome:"Boato",niveis:[{id:"0",descricao:"A vtima passar a informao para 3 pessoas.",nivel:1},{id:"1",descricao:"A vtima passar a informao para 6 pessoas.",nivel:2},{id:"2",descricao:"A vtima passar a informao para 15 pessoas.",nivel:4},{id:"3",descricao:"A vtima passar a informao para 40 pessoas.",nivel:6},{id:"4",descricao:"A vtima passar a informao para 80 pessoas.",nivel:8},{id:"5",descricao:"A vtima passar a informao para 150 pessoas.",nivel:10}],descricao:`Com este poderoso feitio, o evocador pode espalhar um boato de forma que seja tido como verdade por aqueles que o ouviram, manipulando o pensamento destas pessoas.

Isso se d da seguinte forma: primeiramente o evocador dever conversar por, no mnimo, 5 minutos com uma, e somente uma pessoa sobre o assunto que dever se tornar o boato. No final da conversa o evocador dever dizer uma frase, geralmente resumindo o que ele disse at ento, de no mximo 20 palavras que ser justamente o boato. A pessoa ento dever fazer um teste de Resistncia  Magia e, se falhar, assimilar o boato como verdade, sentindo a necessidade de passar essa informao para outras pessoas.

O nmero de pessoas que ela necessariamente dever passar a informao adiante, variar de acordo com o nvel da magia. Quando a vtima espalhar o boato para o nmero mximo de pessoas descrito no nvel, ela no sentir mais a necessidade de passar adiante a informao, embora ela possa faz-lo caso seja de seu desejo. O boato espalhado pela vtima necessariamente dever ser fiel ao transmitido do evocador a ela.

Alm disso, a vtima aps uma hora de enfeitiada esquecer quem foi a pessoa que lhe passou a informao. Ela no se lembrar de seu nome nem rosto nem qualquer outro elemento que possa identific-la, mas saber que veio de uma fonte altamente "confivel".`,extra:["As pessoas as quais o boato for transmitido podem acreditar ou no no que a vtima disser. Isso  uma deciso particular de cada pessoa. Por conta disso,  sempre importante para o evocador escolher a pessoa certa, que tenha mais credibilidade o possvel, para que passe o boato. Assim, se a vtima for uma criana, muitas pessoas possivelmente no acreditaro no que ela disser, alegando ser fruto da imaginao dela. No entanto, se a vtima for um sacerdote respeitado, as pessoas tendero a ser muito mais receptivas ao que ele disser."],alcance:{tipo:be.METRO,valor:5},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.RODADA,valor:20}},{id:ut.bolaDeFogo,nome:"Bola de Fogo",niveis:[{id:"0",descricao:"Causa 12 pontos de dano em uma esfera de 1 metro de raio.",nivel:1},{id:"1",descricao:"Causa 16 pontos de dano em uma esfera de 2 metros de raio.",nivel:2},{id:"2",descricao:"Causa 20 pontos de dano em uma esfera de 4 metros de raio.",nivel:3},{id:"3",descricao:"Causa 28 pontos de dano em uma esfera de 6 metros de raio.",nivel:5},{id:"4",descricao:"Causa 32 pontos de dano em uma esfera de 10 metros de raio.",nivel:7},{id:"5",descricao:"Causa 36 pontos de dano em uma esfera de 10 metros de raio.",nivel:9}],descricao:`Essa magia cria uma pequena bola de fogo que voa da mo do evocador em direo a um alvo escolhido. Ao se aproximar do alvo ela explode, causando dano na rea de exploso.

Veja que o encanto no tem preciso, podendo atingir qualquer um na rea de efeito da exploso. Isto  resolvido com um ataque individual em cada um que estiver na rea de efeito da magia. O dano mximo  dito no efeito.`,alcance:{tipo:be.METRO,valor:50},duracao:{tipo:re.INSTANTANEA},evocacao:{tipo:He.INSTANTANEA}},{id:ut.bote,nome:"Bote",niveis:[{id:"0",descricao:"O bote permite um Ataque Oportuno por uma rodada (mesmo sem obter surpresa) e caso obtenha surpresa (parcial ou completa) na prxima rodada poder fazer mais um Ataque Oportuno.",nivel:1},{id:"1",descricao:"Idem ao anterior, mas caso acerte 100% na EH ou acerte a EF do oponente, este deve fazer um teste de moral fcil, caso falhe fugir do combate.",nivel:2},{id:"2",descricao:"Idem ao anterior, mas caso obtenha surpresa (parcial ou completa) poder fazer nas prximas duas rodadas um Ataque Oportuno (um por rodada). O teste de moral  mdio.",nivel:4},{id:"3",descricao:"Idem ao anterior, mas o teste de moral  difcil. Caso o oponente falhe no teste de moral, os companheiros dele devem fazer um teste fcil de moral, e se falharem fugiro tambm.",nivel:6},{id:"4",descricao:"Idem ao anterior, mas caso obtenha surpresa (parcial ou completa) poder fazer nas prximas trs rodadas um Ataque Oportuno (um por rodada). O teste de moral  muito difcil para o oponente e mdio para os companheiros deles.",nivel:8},{id:"5",descricao:"Idem ao anterior, mas o teste de moral  absurdo para o oponente e difcil para os companheiros dele.",nivel:10}],descricao:`Com este encanto, o evocador traz sobre si o esprito de alguns animais predadores, que lhe concedem uma manobras especial: o Bote, que consiste em realizar um ataque no momento mais oportuno sobre sua vtima. Para isto, antes de poder evocar esta magia  necessrio que ele possua um amuleto composto por alguma parte destes tipos de animais, como cobras, felinos, crocodilos, etc. O amuleto deve ser criado pelo prprio evocador com partes do animal morto (h no mximo um dia}, sendo que ele no pode ter matado o animal apenas para o propsito de confeccionar o amuleto.

Para realizar o bote,  necessrio estar no mximo a 10 metros de distncia da vtima. Caso a vtima no perceba sua presena (Surpresa parcial ou completa) ou esteja em uma situao desfavorvel (cado no cho, de costas, tropeo, etc}, o efeito do bote  prolongado de acordo com nvel do encanto utilizado e o bnus de Ataque oportuno pode ser usado em todos os ataques enquanto durar a magia; caso no pegue o oponente de surpresa ou em situao desfavorvel, o encanto s ter efeito em um ataque, podendo usar o Ataque Oportuno mesmo quando no poderia.

Por se tratar de uma manobra impetuosa, o mstico ganha automaticamente a iniciativa dos ataques enquanto o encanto estiver vigente. Os ajustes deste encanto afetaro apenas o evocador e a vtima do seu bote. Outro efeito da magia  assustar o oponente e os companheiro dele, o que poder fazer com que fuja(m) caso falhe(m) num teste de moral.`,extra:["Esta magia s pode ser usada com armas de corpo-a-corpo, e aps ser evocada deve-se realizar o ataque em no mximo 3 rodadas, seno perde o efeito.  importante ressaltar que esta magia no estende a durao do efeito de Surpresa Completa (ataque direto na EF}, assim sendo, aps o primeiro ataque deve-se considerar os Ataques Oportunos extras como se fosse surpresa parcial (dano na EH) at o termino dos efeitos da magia. Este encanto s pode ser usado contra 1 oponente."],alcance:{tipo:be.METRO,valor:10},duracao:{tipo:re.VARIAVEL},evocacao:{tipo:He.INSTANTANEA}},{id:ut.bravura,nome:"Bravura",niveis:[{id:"0",descricao:"Torna algum imune a magias que causem pavor de nvel 1 e ainda ganha 4 pontos de EH, podendo ir alm do mximo; ou anula os efeitos de magias que causem pavor de nvel 1.",nivel:1},{id:"1",descricao:"Torna algum imune a magias que causem pavor de nvel 2 e ainda ganha 8 pontos de EH, podendo ir alm do mximo; ou anula os efeitos de magias que causem pavor de nvel 2.",nivel:2},{id:"2",descricao:"Torna algum imune a magias que causem pavor de nvel 4 e ainda ganha 12 pontos de EH, podendo ir alm do mximo; ou anula os efeitos de magias que causem pavor de nvel 4.",nivel:4},{id:"3",descricao:"Torna algum imune a magias que causem pavor de nvel 6 e ainda ganha 16 pontos de EH, podendo ir alm do mximo; ou Anula os efeitos de magias que causem pavor de nvel 6.",nivel:6},{id:"4",descricao:"Torna algum imune a magias que causem pavor de nvel 8 e ainda ganha 20 pontos de EH, podendo ir alm do mximo; ou Anula os efeitos de magias que causem pavor de nvel 8.",nivel:8},{id:"5",descricao:"Torna algum imune a magias que causem pavor de nvel 10 e ainda ganha 24 pontos de EH, podendo ir alm do mximo; ou Anula os efeitos de magias que causem pavor de nvel 10.",nivel:10}],descricao:`Com esse milagre o sacerdote torna algum ou a si prprio mais bravo, fazendo com que o beneficiado se torne imune a magias que causem pavor, como Medo e Covardia e ainda ganhe uma EH extra que pode ir alm do mximo.

Este milagre pode ser evocado durante o turno de combate do sacerdote sem contar como uma ao.

A imunidade a magias que causem pavor, funciona do mesmo jeito que a Magia Proteo Mental, ou seja, o nvel de Bravura utilizado torna o personagem imune a magias que causem pavor cujo nvel seja igual ou inferior ao do milagre. Assim com Bravura 4, um personagem est imune a Medo 1, 2 e 4 mas no tem qualquer efeito para Medo 6 por exemplo.

Se essa magia for lanada sobre um alvo vtima dos efeitos de fuga causados pelas magias Medo ou Covardia, esses efeitos podem ser imediatamente quebrados, dependendo da dificuldade do efeito usado.

Caso no queira receber os efeitos da Bravura, o alvo pode fazer um teste de RM. Uma criatura sob efeito Bravura estar motivada e determinada a enfrentar situaes de risco. Desta forma, para fugir de uma batalha ela precisa ser bem sucedida em um teste de RM ou continuar em combate at que seus inimigos sejam derrotados.

OBS: Na rodada que esta magia  evocada no  permitido que o evocador faa outra magia. Nas rodadas subsequentes na qual a magia continua fazendo efeito esta restrio no se aplica e o evocador pode evocar outras magias normalmente`,alcance:{tipo:be.METRO,valor:10},duracao:{tipo:re.HORA,valor:2},evocacao:{tipo:He.INSTANTANEA}}],t0=[...CW,...EW],MW=()=>{const[t,e]=E.useState(""),[r,n]=E.useState(t0),[i,a]=E.useState("");function o(){e(""),a("")}E.useEffect(()=>{const c=t0.filter(d=>i===""||DS(d.nome)===i),u=t.trim().toLowerCase(),p=c.filter(d=>fW(u,d.nome,ZI));n(u.length===0?c:p)},[t,i]);function s(c){a(u=>c===u?"":c)}const l=t.length>0||i.length>0;return P.jsx(gi,{children:P.jsxs(qr,{sx:{display:"flex",flexDirection:"column",gap:2},children:[P.jsx(S4,{label:"Nome da magia",variant:"outlined",value:t,onChange:c=>{e(c.target.value)},InputProps:{endAdornment:P.jsx(u4,{position:"start",children:l&&P.jsx(kc,{onClick:o,children:P.jsx(LS,{})})})},placeholder:"Nome da magia"}),P.jsx(yW,{lista:t0,onClick:s,selected:i}),P.jsx(wW,{lista:r})]})})},AW=()=>P.jsx(gi,{children:P.jsx("p",{children:"Mapa"})}),TW=()=>P.jsx(gi,{children:P.jsx("p",{children:"Mapas"})});var yv={},RW=Nu;Object.defineProperty(yv,"__esModule",{value:!0});var jS=yv.default=void 0,PW=RW(zu()),LW=P;jS=yv.default=(0,PW.default)((0,LW.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const kW=[{id:"tagmar",title:"Tagmar",info:[{text:"Site oficial",url:"https://tagmar.com.br"}]},{id:"tagmar licence",title:"Licena do RPG Tagmar",info:[{text:"Atribuio-NoComercial-CompartilhaIgual 3.0 Brasil",url:"https://www.tagmar.com.br/LicenciamentoUsado.aspx"}]},{id:"app license",title:"Licena desse Site/Aplicativo",info:[{text:"GNU General Public License v3.0",url:"https://github.com/iagows/tagmar_pwa/blob/main/LICENSE"}]},{id:"bug",title:"Bugs e sugestes",info:[{text:"Encontrou um erro ou tem uma sugesto?",url:"https://github.com/iagows/tagmar_pwa/issues"}]},{id:"forum",title:"Frum oficial",info:[{text:"Conhea o frum oficial",url:"https://www.tagmar.com.br/forum/default.aspx?g=active"}]},{id:"app",title:"Sobre o App",info:[{text:"Cdigo-fonte",url:"https://github.com/iagows/tagmar_pwa/"}]},{id:"testers",title:"Testadores",info:[{text:"lvaro"},{text:"Breno"},{text:"Edilton"},{text:"Marcelo"},{text:"Petrus"},{text:"Rodolfo"},{text:"Srgio"}]}],DW=()=>{const[t,e]=E.useState("tagmar"),r=n=>(i,a)=>{a&&e(n)};return P.jsxs(gi,{children:[P.jsx(rn,{children:"Os links aqui contidos levaro para fora do aplicativo. Clique/toque com cautela."}),kW.map(n=>P.jsxs(N7,{expanded:t===n.id,onChange:r(n.id),children:[P.jsx(hT,{expandIcon:P.jsx(jS,{}),children:P.jsx(rn,{children:n.title})}),P.jsx(U7,{children:n.info.map(i=>P.jsx(rn,{children:i.url?P.jsx(kk,{href:i.url,target:"_blank",children:i.text}):i.text}))})]},n.id))]})},IW="/tagmar_pwa",FW=JM([{path:tr.ROOT,element:P.jsx(kz,{}),errorElement:P.jsx(IH,{}),children:[{path:tr.FICHAS,element:P.jsx(nW,{})},{path:tr.FICHA,element:P.jsx(FH,{})},{path:tr.DADO,element:P.jsx(DH,{})},{path:tr.MAGIAS,element:P.jsx(MW,{})},{path:tr.MAGIA,element:P.jsx(oW,{})},{path:tr.HABILIDADES,element:P.jsx(aW,{})},{path:tr.HABILIDADE,element:P.jsx(iW,{})},{path:tr.MAPAS,element:P.jsx(TW,{})},{path:tr.MAPA,element:P.jsx(AW,{})},{path:tr.CONFIGURACOES,element:P.jsx(Dz,{})},{path:tr.SOBRE,element:P.jsx(DW,{})},{index:!0,element:P.jsx(VM,{to:tr.FICHAS,replace:!0})}]}],{basename:IW}),NW=eN({reducer:{fichas:bz}}),zW=v6({onNeedRefresh(){confirm("Novo contedo disponvel. Recarregar?")&&zW(!0)}});r0.createRoot(document.getElementById("root")).render(P.jsx($n.StrictMode,{children:P.jsx(IE,{store:NW,children:P.jsx(tF,{children:P.jsx(l6,{router:FW})})})}));
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
